import"../../index.5cb01ff5.js";import{c2 as ze,c3 as We,c4 as Me,c5 as De,X as Fe,c1 as Ke,W as je,V as we,v as Ge,ax as he,a_ as fe,L as He,c6 as Xe,aE as be,G as Ve,ap as Je,c7 as Qe,c8 as Ye,c9 as Ze,ao as et,ar as tt,aw as Se,ca as rt,r as Re,cb as Ee,aC as ke,I as ge,bs as nt,cc as ot,b$ as st,aM as it}from"../../web-resource-cache.a5955fee.js";function at({session:s}){const o=function(){var f=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},k={exports:{}};function H(J){throw new Error('Could not dynamically require "'+J+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var T={exports:{}},O;function z(){return O||(O=1,function(J,oe){(function(D,v){J.exports=v()})(f,function(){var D=D||function(v,R){var S;if(typeof window<"u"&&window.crypto&&(S=window.crypto),typeof self<"u"&&self.crypto&&(S=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(S=globalThis.crypto),!S&&typeof window<"u"&&window.msCrypto&&(S=window.msCrypto),!S&&typeof f<"u"&&f.crypto&&(S=f.crypto),!S&&typeof H=="function")try{S=require("crypto")}catch{}var Q=function(){if(S){if(typeof S.getRandomValues=="function")try{return S.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof S.randomBytes=="function")try{return S.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},q=Object.create||function(){function e(){}return function(r){var w;return e.prototype=r,w=new e,e.prototype=null,w}}(),U={},c=U.lib={},h=c.Base=function(){return{extend:function(e){var r=q(this);return e&&r.mixIn(e),(!r.hasOwnProperty("init")||this.init===r.init)&&(r.init=function(){r.$super.init.apply(this,arguments)}),r.init.prototype=r,r.$super=this,r},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var r in e)e.hasOwnProperty(r)&&(this[r]=e[r]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),A=c.WordArray=h.extend({init:function(e,r){e=this.words=e||[],r!=R?this.sigBytes=r:this.sigBytes=e.length*4},toString:function(e){return(e||n).stringify(this)},concat:function(e){var r=this.words,w=e.words,m=this.sigBytes,N=e.sigBytes;if(this.clamp(),m%4)for(var K=0;K<N;K++){var G=w[K>>>2]>>>24-K%4*8&255;r[m+K>>>2]|=G<<24-(m+K)%4*8}else for(var X=0;X<N;X+=4)r[m+X>>>2]=w[X>>>2];return this.sigBytes+=N,this},clamp:function(){var e=this.words,r=this.sigBytes;e[r>>>2]&=4294967295<<32-r%4*8,e.length=v.ceil(r/4)},clone:function(){var e=h.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var r=[],w=0;w<e;w+=4)r.push(Q());return new A.init(r,e)}}),t=U.enc={},n=t.Hex={stringify:function(e){for(var r=e.words,w=e.sigBytes,m=[],N=0;N<w;N++){var K=r[N>>>2]>>>24-N%4*8&255;m.push((K>>>4).toString(16)),m.push((K&15).toString(16))}return m.join("")},parse:function(e){for(var r=e.length,w=[],m=0;m<r;m+=2)w[m>>>3]|=parseInt(e.substr(m,2),16)<<24-m%8*4;return new A.init(w,r/2)}},u=t.Latin1={stringify:function(e){for(var r=e.words,w=e.sigBytes,m=[],N=0;N<w;N++){var K=r[N>>>2]>>>24-N%4*8&255;m.push(String.fromCharCode(K))}return m.join("")},parse:function(e){for(var r=e.length,w=[],m=0;m<r;m++)w[m>>>2]|=(e.charCodeAt(m)&255)<<24-m%4*8;return new A.init(w,r)}},i=t.Utf8={stringify:function(e){try{return decodeURIComponent(escape(u.stringify(e)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(e){return u.parse(unescape(encodeURIComponent(e)))}},p=c.BufferedBlockAlgorithm=h.extend({reset:function(){this._data=new A.init,this._nDataBytes=0},_append:function(e){typeof e=="string"&&(e=i.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(e){var r,w=this._data,m=w.words,N=w.sigBytes,K=this.blockSize,G=K*4,X=N/G;e?X=v.ceil(X):X=v.max((X|0)-this._minBufferSize,0);var ie=X*K,se=v.min(ie*4,N);if(ie){for(var ae=0;ae<ie;ae+=K)this._doProcessBlock(m,ae);r=m.splice(0,ie),w.sigBytes-=se}return new A.init(r,se)},clone:function(){var e=h.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});c.Hasher=p.extend({cfg:h.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){e&&this._append(e);var r=this._doFinalize();return r},blockSize:16,_createHelper:function(e){return function(r,w){return new e.init(w).finalize(r)}},_createHmacHelper:function(e){return function(r,w){return new B.HMAC.init(e,w).finalize(r)}}});var B=U.algo={};return U}(Math);return D})}(T)),T.exports}var ne={exports:{}},j;function ee(){return j||(j=1,function(J,oe){(function(D,v){J.exports=v(z())})(f,function(D){return function(v){var R=D,S=R.lib,Q=S.WordArray,q=S.Hasher,U=R.algo,c=[],h=[];(function(){function n(B){for(var e=v.sqrt(B),r=2;r<=e;r++)if(!(B%r))return!1;return!0}function u(B){return(B-(B|0))*4294967296|0}for(var i=2,p=0;p<64;)n(i)&&(p<8&&(c[p]=u(v.pow(i,.5))),h[p]=u(v.pow(i,.3333333333333333)),p++),i++})();var A=[],t=U.SHA256=q.extend({_doReset:function(){this._hash=new Q.init(c.slice(0))},_doProcessBlock:function(n,u){for(var i=this._hash.words,p=i[0],B=i[1],e=i[2],r=i[3],w=i[4],m=i[5],N=i[6],K=i[7],G=0;G<64;G++){if(G<16)A[G]=n[u+G]|0;else{var X=A[G-15],ie=(X<<25|X>>>7)^(X<<14|X>>>18)^X>>>3,se=A[G-2],ae=(se<<15|se>>>17)^(se<<13|se>>>19)^se>>>10;A[G]=ie+A[G-7]+ae+A[G-16]}var $e=w&m^~w&N,Le=p&B^p&e^B&e,Oe=(p<<30|p>>>2)^(p<<19|p>>>13)^(p<<10|p>>>22),qe=(w<<26|w>>>6)^(w<<21|w>>>11)^(w<<7|w>>>25),me=K+qe+$e+h[G]+A[G],Ue=Oe+Le;K=N,N=m,m=w,w=r+me|0,r=e,e=B,B=p,p=me+Ue|0}i[0]=i[0]+p|0,i[1]=i[1]+B|0,i[2]=i[2]+e|0,i[3]=i[3]+r|0,i[4]=i[4]+w|0,i[5]=i[5]+m|0,i[6]=i[6]+N|0,i[7]=i[7]+K|0},_doFinalize:function(){var n=this._data,u=n.words,i=this._nDataBytes*8,p=n.sigBytes*8;return u[p>>>5]|=128<<24-p%32,u[(p+64>>>9<<4)+14]=v.floor(i/4294967296),u[(p+64>>>9<<4)+15]=i,n.sigBytes=u.length*4,this._process(),this._hash},clone:function(){var n=q.clone.call(this);return n._hash=this._hash.clone(),n}});R.SHA256=q._createHelper(t),R.HmacSHA256=q._createHmacHelper(t)}(Math),D.SHA256})}(ne)),ne.exports}var g={exports:{}},E;function re(){return E||(E=1,function(J,oe){(function(D,v){J.exports=v(z())})(f,function(D){(function(){var v=D,R=v.lib,S=R.Base,Q=v.enc,q=Q.Utf8,U=v.algo;U.HMAC=S.extend({init:function(c,h){c=this._hasher=new c.init,typeof h=="string"&&(h=q.parse(h));var A=c.blockSize,t=A*4;h.sigBytes>t&&(h=c.finalize(h)),h.clamp();for(var n=this._oKey=h.clone(),u=this._iKey=h.clone(),i=n.words,p=u.words,B=0;B<A;B++)i[B]^=1549556828,p[B]^=909522486;n.sigBytes=u.sigBytes=t,this.reset()},reset:function(){var c=this._hasher;c.reset(),c.update(this._iKey)},update:function(c){return this._hasher.update(c),this},finalize:function(c){var h=this._hasher,A=h.finalize(c);h.reset();var t=h.finalize(this._oKey.clone().concat(A));return t}})})()})}(g)),g.exports}(function(J,oe){(function(D,v,R){J.exports=v(z(),ee(),re())})(f,function(D){return D.HmacSHA256})})(k);var W=k.exports;return W}(),{A_CHAIN_CATEGORIES:a,A_CHAIN_FAMILIES:l,R_CHAIN_ID:d,R_CHAIN_NAME:_}=function(f){const O=["cosmos"],z=["mainnet","testnet"],ne=/^[a-z0-9][a-z0-9-]{2,64}$/,j=/^[\p{L}\p{S}](\p{Zs}?[\p{L}\p{N}\p{S}._:/-])+$/u;return f.A_CHAIN_CATEGORIES=z,f.A_CHAIN_FAMILIES=O,f.NB_MAX_MESSAGE=2097152,f.N_PX_HEIGHT_POPUP=600,f.N_PX_WIDTH_POPUP=360,f.R_CHAIN_ID=ne,f.R_CHAIN_NAME=j,Object.defineProperty(f,"__esModule",{value:!0}),f}({}),{locate_script:x}=function(f){function k(H){const T=chrome.runtime.getManifest();for(const O of T.content_scripts||[])for(const z of O.js??[])if(z.startsWith(H))return z;for(const O of T.web_accessible_resources||[])if(typeof O=="string"){if(O.startsWith(H))return O}else for(const z of O.resources)if(z.startsWith(H))return z;return null}return f.locate_script=k,Object.defineProperty(f,"__esModule",{value:!0}),f}({}),$=chrome.runtime,C=(f,...k)=>console.debug(`StarShell.ics-host: ${f}`,...k);C(`Launched on <${location.href}>`);class P extends Error{}let b,I=!1,F=!1;function Y(f){throw F=!0,$.sendMessage({type:"panic",value:""+f}),new P(`StarShell threw a security error: "${f}"`)}function y(){if(F)throw new Error("StarShell withdrew wallet access from this website due to a security violation")}const M={async requestConnect(f){const{index:k,manifest:H}=f,T=ee=>{b.postMessage({type:"respondConnect",value:{index:k,answer:{error:ee}}})};if(typeof H!="object"||typeof H.schema!="string")return T("Invalid manifest structure");if(H.schema!=="1")return T("Unknown or unsupported manifest schema version");if(!Array.isArray(H.chains)||!H.chains.length)return T("No chains were specified in request");const{chains:O}=H,z=new Set,ne=[];for(let ee=0;ee<O.length;ee++){const g=O[ee],E=J=>T(`${J} at .chains[${ee}]`);if(typeof g!="object"||typeof g.category!="string"||typeof g.family!="string"||typeof g.id!="string")return E("Invalid chain descriptor structure");if(!l.includes(g.family))continue;if(!a.includes(g.category))return E(`Invalid category value "${g.category}"; must be one of (${a.join(", ")})`);if(!d.test(g.id))return E(`Invalid chain id "${g.id}" for ${g.family} family; failed to match regular expression /${d.source}/`);if(g.name){if(!_.test(g.name))return E(`Invalid chain name "${g.name}"; failed to match regular expression /${_.source}/`);if(g.name.length>64)return E("Chain name too long")}const re=g.family+`
`+g.id;if(z.has(re))return E(`Duplicate chain IDs in '${g.family}' family: '${g.id}'`);const W=g.name||g.id;ne.push({...g,label:W})}$.sendMessage({type:"requestConnection",value:{chains:ne}});const j=[];j.push(null);for(const ee of O){const g=new MessageChannel;await HostConnection.create(ee,g.port1),j.push(g.port2)}b.postMessage({type:"respondConnect",value:{index:k,answer:{config:{features:a_features}}}},j)},reportWebsiteError(f){}};function V(f){const{type:k,value:H}=f.data,T=M[k];if(!T){console.error(`Received relay port message having an unregistered type "${k}"`);return}C("Received relay port message having registered type %o",f.data),T(H)}const L={establishChannel(f,k){if(y(),I)return Y("Relay frame attempted to establish connection more than once");if(I=!0,!te)return Y("Reference to relay frame window not defined");if(!k||k.length!==1)return Y("Expected exactly one MessagePort but none were transfered from relay frame");b=k[0],b.onmessage=V,b.postMessage({type:"acknowledgeChannel"}),window.postMessage({type:"ratifyGlobal"},window.origin)}};let te,Z;{const f={session:s,csurl:chrome.runtime.getURL("assets/src/script/mcs-relay.js")},k=document.createElement("script");k.setAttribute("type","application/json"),k.setAttribute("id","starshell-mcs-relay-payload"),k.textContent=JSON.stringify(f);const H=document.createElement("script"),T=x("assets/src/script/mcs-relay");if(!T)throw new Error("Unable to locate relay script!");H.src=chrome.runtime.getURL(T),H.type="module";const O=document.createElement("iframe"),z=document.createElement("div");z.style.display="none !important",z.attachShadow({mode:"closed"}).append(O);try{document.head.append(z)}catch{document.body.append(z)}te=O.contentWindow,Z=O.contentDocument,Z.body.append(k),Z.body.append(H),C("Injected relay iframe")}te.addEventListener("message",f=>{if(C("Observed relay window message %o",f),!f.isTrusted){console.warn("Ignored untrusted event %o",f);return}if(f.source!==f.target){console.warn("Ignored cross-window message %o",f);return}const k=f.target;if(window.origin!==f.origin||window!==k.parent||k.location.href!=="about:blank"){console.warn("Ignored message from 3rd party %o",f);return}const H=f.data;if(typeof H!="object"||typeof H.type!="string"){C("Ignored invalid message data %o",H);return}const{type:T,auth:O}=H,z=L[T];if(!z){console.error(`Received message having an unregistered type "${T}"`);return}if(typeof O!="string"){C("Ignored message missing auth data %o",H);return}if(JSON.stringify(o(JSON.stringify({...H,auth:void 0}),s))!==H.auth)return Y("Relay frame sent invalid auth signature");C("Received message having registered type %o",f.data),z(null,f.ports)})}function ct({session:s}){const o=(y,...M)=>console.debug(`StarShell.mcs-ratifier: ${y}`,...M);o(`Launched on <${location.href}>`);const a=function(){var y=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},M={exports:{}};function V(j){throw new Error('Could not dynamically require "'+j+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var L={exports:{}},te;function Z(){return te||(te=1,function(j,ee){(function(g,E){j.exports=E()})(y,function(){var g=g||function(E,re){var W;if(typeof window<"u"&&window.crypto&&(W=window.crypto),typeof self<"u"&&self.crypto&&(W=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(W=globalThis.crypto),!W&&typeof window<"u"&&window.msCrypto&&(W=window.msCrypto),!W&&typeof y<"u"&&y.crypto&&(W=y.crypto),!W&&typeof V=="function")try{W=require("crypto")}catch{}var J=function(){if(W){if(typeof W.getRandomValues=="function")try{return W.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof W.randomBytes=="function")try{return W.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},oe=Object.create||function(){function t(){}return function(n){var u;return t.prototype=n,u=new t,t.prototype=null,u}}(),D={},v=D.lib={},R=v.Base=function(){return{extend:function(t){var n=oe(this);return t&&n.mixIn(t),(!n.hasOwnProperty("init")||this.init===n.init)&&(n.init=function(){n.$super.init.apply(this,arguments)}),n.init.prototype=n,n.$super=this,n},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var n in t)t.hasOwnProperty(n)&&(this[n]=t[n]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),S=v.WordArray=R.extend({init:function(t,n){t=this.words=t||[],n!=re?this.sigBytes=n:this.sigBytes=t.length*4},toString:function(t){return(t||q).stringify(this)},concat:function(t){var n=this.words,u=t.words,i=this.sigBytes,p=t.sigBytes;if(this.clamp(),i%4)for(var B=0;B<p;B++){var e=u[B>>>2]>>>24-B%4*8&255;n[i+B>>>2]|=e<<24-(i+B)%4*8}else for(var r=0;r<p;r+=4)n[i+r>>>2]=u[r>>>2];return this.sigBytes+=p,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=E.ceil(n/4)},clone:function(){var t=R.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var n=[],u=0;u<t;u+=4)n.push(J());return new S.init(n,t)}}),Q=D.enc={},q=Q.Hex={stringify:function(t){for(var n=t.words,u=t.sigBytes,i=[],p=0;p<u;p++){var B=n[p>>>2]>>>24-p%4*8&255;i.push((B>>>4).toString(16)),i.push((B&15).toString(16))}return i.join("")},parse:function(t){for(var n=t.length,u=[],i=0;i<n;i+=2)u[i>>>3]|=parseInt(t.substr(i,2),16)<<24-i%8*4;return new S.init(u,n/2)}},U=Q.Latin1={stringify:function(t){for(var n=t.words,u=t.sigBytes,i=[],p=0;p<u;p++){var B=n[p>>>2]>>>24-p%4*8&255;i.push(String.fromCharCode(B))}return i.join("")},parse:function(t){for(var n=t.length,u=[],i=0;i<n;i++)u[i>>>2]|=(t.charCodeAt(i)&255)<<24-i%4*8;return new S.init(u,n)}},c=Q.Utf8={stringify:function(t){try{return decodeURIComponent(escape(U.stringify(t)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(t){return U.parse(unescape(encodeURIComponent(t)))}},h=v.BufferedBlockAlgorithm=R.extend({reset:function(){this._data=new S.init,this._nDataBytes=0},_append:function(t){typeof t=="string"&&(t=c.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(t){var n,u=this._data,i=u.words,p=u.sigBytes,B=this.blockSize,e=B*4,r=p/e;t?r=E.ceil(r):r=E.max((r|0)-this._minBufferSize,0);var w=r*B,m=E.min(w*4,p);if(w){for(var N=0;N<w;N+=B)this._doProcessBlock(i,N);n=i.splice(0,w),u.sigBytes-=m}return new S.init(n,m)},clone:function(){var t=R.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0});v.Hasher=h.extend({cfg:R.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){h.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){t&&this._append(t);var n=this._doFinalize();return n},blockSize:16,_createHelper:function(t){return function(n,u){return new t.init(u).finalize(n)}},_createHmacHelper:function(t){return function(n,u){return new A.HMAC.init(t,u).finalize(n)}}});var A=D.algo={};return D}(Math);return g})}(L)),L.exports}var f={exports:{}},k;function H(){return k||(k=1,function(j,ee){(function(g,E){j.exports=E(Z())})(y,function(g){return function(E){var re=g,W=re.lib,J=W.WordArray,oe=W.Hasher,D=re.algo,v=[],R=[];(function(){function q(A){for(var t=E.sqrt(A),n=2;n<=t;n++)if(!(A%n))return!1;return!0}function U(A){return(A-(A|0))*4294967296|0}for(var c=2,h=0;h<64;)q(c)&&(h<8&&(v[h]=U(E.pow(c,1/2))),R[h]=U(E.pow(c,1/3)),h++),c++})();var S=[],Q=D.SHA256=oe.extend({_doReset:function(){this._hash=new J.init(v.slice(0))},_doProcessBlock:function(q,U){for(var c=this._hash.words,h=c[0],A=c[1],t=c[2],n=c[3],u=c[4],i=c[5],p=c[6],B=c[7],e=0;e<64;e++){if(e<16)S[e]=q[U+e]|0;else{var r=S[e-15],w=(r<<25|r>>>7)^(r<<14|r>>>18)^r>>>3,m=S[e-2],N=(m<<15|m>>>17)^(m<<13|m>>>19)^m>>>10;S[e]=w+S[e-7]+N+S[e-16]}var K=u&i^~u&p,G=h&A^h&t^A&t,X=(h<<30|h>>>2)^(h<<19|h>>>13)^(h<<10|h>>>22),ie=(u<<26|u>>>6)^(u<<21|u>>>11)^(u<<7|u>>>25),se=B+ie+K+R[e]+S[e],ae=X+G;B=p,p=i,i=u,u=n+se|0,n=t,t=A,A=h,h=se+ae|0}c[0]=c[0]+h|0,c[1]=c[1]+A|0,c[2]=c[2]+t|0,c[3]=c[3]+n|0,c[4]=c[4]+u|0,c[5]=c[5]+i|0,c[6]=c[6]+p|0,c[7]=c[7]+B|0},_doFinalize:function(){var q=this._data,U=q.words,c=this._nDataBytes*8,h=q.sigBytes*8;return U[h>>>5]|=128<<24-h%32,U[(h+64>>>9<<4)+14]=E.floor(c/4294967296),U[(h+64>>>9<<4)+15]=c,q.sigBytes=U.length*4,this._process(),this._hash},clone:function(){var q=oe.clone.call(this);return q._hash=this._hash.clone(),q}});re.SHA256=oe._createHelper(Q),re.HmacSHA256=oe._createHmacHelper(Q)}(Math),g.SHA256})}(f)),f.exports}var T={exports:{}},O;function z(){return O||(O=1,function(j,ee){(function(g,E){j.exports=E(Z())})(y,function(g){(function(){var E=g,re=E.lib,W=re.Base,J=E.enc,oe=J.Utf8,D=E.algo;D.HMAC=W.extend({init:function(v,R){v=this._hasher=new v.init,typeof R=="string"&&(R=oe.parse(R));var S=v.blockSize,Q=S*4;R.sigBytes>Q&&(R=v.finalize(R)),R.clamp();for(var q=this._oKey=R.clone(),U=this._iKey=R.clone(),c=q.words,h=U.words,A=0;A<S;A++)c[A]^=1549556828,h[A]^=909522486;q.sigBytes=U.sigBytes=Q,this.reset()},reset:function(){var v=this._hasher;v.reset(),v.update(this._iKey)},update:function(v){return this._hasher.update(v),this},finalize:function(v){var R=this._hasher,S=R.finalize(v);R.reset();var Q=R.finalize(this._oKey.clone().concat(S));return Q}})})()})}(T)),T.exports}(function(j,ee){(function(g,E,re){j.exports=E(Z(),H(),z())})(y,function(g){return g.HmacSHA256})})(M);var ne=M.exports;return ne}();class l extends Error{}let d=!1;function _(y){throw d=!0,window.postMessage({type:"s2r:abort",value:{reason:""+y,signature:a(""+y,s)}}),new l(`StarShell threw a security error: "${y}"`)}function x(y){console.error(y),d=!0}const{addEventListener:$,Reflect:C,Reflect:{getOwnPropertyDescriptor:P,getPrototypeOf:b}}=window;function I(y,M,V=[]){try{const L=P.call(C,y,M);if(!L){V.push(y);const te=b.call(C,y);return!te||V.includes(te)?null:I(te,M,V)}return L}catch{return null}}function F(y,M,V=!1){try{const L=I(y,M);return L?"value"in L?L.value:V?y[M]:null:null}catch{return null}}const Y={ratifyGlobal(){if(s){if(!I(window,"starshell"))return x("StarShell failed to ratify global since it is not defined.")}else return x("StarShell is refusing to ratify global since it never received a signing key from the extension.");const y=window.starshell;y.verify(V=>{if(d)return;if(V!==JSON.stringify(a("starshell",s)))return _("Invalid auth signature passed to ratifier");const L=y.verifiableStack();return{proof:L,signature:JSON.stringify(a(JSON.stringify(L),s))}})(y)}};window.addEventListener("message",y=>{if(o("Observed window message %o",y),!d&&window===F(y,"source",!0)){const M=F(y,"data",!0);let V;if(M&&typeof M=="object"&&typeof(V=F(M,"type"))=="string"){const L=Y[V];if(!L)return;o("Received relay port message having registered type %o",y.data),L(M)}}})}function ft(s){const o=chrome.runtime.getManifest();for(const a of o.content_scripts||[])for(const l of a.js??[])if(l.startsWith(s))return l;for(const a of o.web_accessible_resources||[])if(typeof a=="string"){if(a.startsWith(s))return a}else for(const l of a.resources)if(l.startsWith(s))return l;return null}const lt=["file://*/*","http://*/*","https://*/*"],ut={matches:lt,runAt:"document_start",persistAcrossSessions:!0,allFrames:!0,world:"MAIN"},dt={mcs_keplr(s){return{...ut,id:"keplr_polyfill",js:[ft("assets/src/script/mcs-keplr")],persistAcrossSessions:!0,...s}}},Be={blocked:!0};function Ae(s,o){let a;try{a=new RegExp(s.matches)}catch{return console.error(`Failed to parse policy match pattern "${s.matches}"`),!1}if(a.test(o.host)&&s.except){let l;try{l=new RegExp(s.except)}catch{return console.error(`Failed to parse policy match pattern "${s.except}"`),!1}if(l.test(o.host))return!1}return!0}const Pe=ze({store:We,class:class extends Me{static forApp(o){return Pe.open(a=>a.forApp(o))}forApp(o){let a=!1;for(const l of this._w_cache.hq)if(Ae(l,o)){if(l.action==="block")return Be;console.error(`Unknown hq policy action "${l.action}"`);continue}for(const l of this._w_cache.user)if(Ae(l,o)){if(l.action==="block")return Be;if(l.action==="trust")a=!0;else{console.error(`Unknown policy action "${l.action}"`);continue}}return{blocked:!1,trusted:a}}}}),_e=360,ye=600;async function ht(s){const o=chrome.runtime.getURL("src/entry/flow.html"),a=o+"?"+new URLSearchParams(s).toString(),[l,d]=await Promise.all([chrome.system.display.getInfo(),(async()=>{const b=(await chrome.storage.session.get(["display_info"]))?.display_info;if(b)return b;chrome.windows.create({type:"popup",url:o+"?"+new URLSearchParams({headless:"info"}).toString(),focused:!0,width:_e,height:ye});try{return(await pt("session","display_info",5*Fe))?.newValue}catch{}})()]),_={};for(const b of l)b.isEnabled&&(_[b.bounds.width+":"+b.bounds.height]=b);let x={};if(d){const b=d.width+":"+d.height,I=_[b];I&&(x={left:I.bounds.left+Math.round(d.width/2-_e/2),top:I.bounds.top+Math.round(d.height*.45-ye/2)})}const $=await chrome.windows.create({type:"popup",url:a,focused:!0,width:_e,height:ye,...x});if(typeof $.id!="number")throw new Error("Failed to create popup window");if(!await chrome.windows.get($.id,{windowTypes:["popup"]}))throw new Error("Failed to locate popup window");const P=await new Promise(b=>{chrome.tabs.onUpdated.addListener(function I(F,Y,y){$.id===y.windowId&&typeof F=="number"&&Y.status==="complete"&&(chrome.tabs.onUpdated.removeListener(I),b(y))})});return{window:$,tab:P}}async function le(s,o=""){const a=`flow_${crypto.randomUUID()}`;await De("flow");const{window:l,tab:d}=await ht({comm:"broadcast",name:a}),_=new BroadcastChannel(a);return new Promise(x=>{function $(b){chrome.windows.onRemoved.removeListener(P),_.removeEventListener("message",C),Ke("flow"),x(b)}function C(b){const I=b.data;I.type==="completeFlow"&&(chrome.windows.remove(l.id),$(I.value.answer))}_.onmessage=C;function P(b){b===l.id&&$(!1)}chrome.windows.onRemoved.addListener(P,{windowTypes:["popup"]}),_.postMessage(s.flow)})}const Te={sync:{},local:{},session:{},managed:{}};function pt(s,o,a=0){return new Promise((l,d)=>{const _=Te[s],x=_[o]=_[o]||[];let $=-1,C=0;a>0&&(C=globalThis.setTimeout(()=>{x.splice($,1),d(new Error("Timed out"))},a)),$=x.push(P=>{globalThis.clearTimeout(C),l(P)})})}function _t(s,o,a){const l=Te[s],d=l[o];if(d?.length){l[o]=[];for(const _ of d)_(a)}}chrome.storage.onChanged.addListener((s,o)=>{const l={sync:{async keplr_polyfill(d){const _=chrome.scripting,x=dt.mcs_keplr(),$=!!(await _.getRegisteredContentScripts({ids:[x.id]})).length;d.newValue===!0?$||await _.registerContentScripts([x]):$||await _.unregisterContentScripts({ids:[x.id]})}},local:{},session:{},managed:{}}[o];if(l)for(const d in s){const _=s[d];_t(o,d,_);const x=l[d];x&&x(_)}});function xe(s){const{protocol:o,host:a}=new URL(s);return[(o||"").replace(/:$/,""),a]}function ue(s,o){return console.warn(`${o}; blocked request from <${s.url}>`),!0}async function Ce(s,o,a){if(s==="http"){if(!st.test(o))return ue(a,"Non-secure HTTP contexts are not allowed to connect to wallet except for localhost")}else if(s==="file"){if(!await it.get("allow_file_urls"))return ue(a,"File URLs are not allowed to connect to wallet, unless 'allow_file_urls' setting is enabled")}else if(s!=="https")return ue(a,`Scheme not allowed "${s}"`);return!1}function yt(s=64){const o=new Uint8Array(s);return crypto.getRandomValues(o),Array.from(o).map(a=>a.toString(16).padStart(2,"0")).join("")}const de={panic(s,o){},async requestAdvertisement(s,o,a){const l=o.tab.id;if(!o.url){console.debug("Silently ignoring advertisement request from unknown source");return}const[d,_]=xe(o.url),x={tabId:l,href:o.url+""};if(console.info("get root key"),!await we.getRootKey()){console.info("no root key");const P=await le({flow:{type:"authenticate",page:x}});return console.info("flow completed"),P?await de.requestAdvertisement(s,o,a):void 0}if(console.info("root key exists"),await Ce(d,_,o))return;console.info("app passed scheme check");{let P=await nt.get(_,d),b=!1;P?b=!0:P={scheme:d,host:_,connections:{}};const I=await Pe.forApp(P);if(console.info("got policy for app %o",I),I.blocked)return ue(o,"App connection blocked by policy");if(!b&&!I.trusted){if(await le({flow:{type:"requestAdvertisement",value:{app:P},page:x}}))return await de.requestAdvertisement(s,o,a);console.debug("User cancelled request");return}}console.debug(`Allowing <${o.url}> to receive advertisement`);const C={session:yt()};chrome.scripting.executeScript({target:{tabId:l},func:at,args:[C],world:"ISOLATED"}),chrome.scripting.executeScript({target:{tabId:l},func:ct,args:[C],world:"MAIN"}),a(C)},async flowBroadcast(s,o,a){const{key:l,config:d}=s;if(!o.url){console.debug("Silently ignoring advertisement request from unknown source");return}const _=d.flow.page={tabId:o.tab.id,href:o.url||d.flow.page?.href||""};if(console.info("get root key"),!await we.getRootKey()){console.info("no root key");const b=await le({flow:{type:"authenticate",page:_}});return console.info("flow completed"),b?await de.flowBroadcast(s,o,a):void 0}const[$,C]=xe(o.url);if(await Ce($,C,o))return;console.info("app passed scheme check");const P={scheme:$,host:C,connections:{}};d.flow.value.app=P,le(d,l)}},wt={async bankSend(s){const o=await fe.at(s.network),a=await he.at(o.chain),d=await fe.activate(o,a).bankSend(s.sender,s.recipient,s.coin,BigInt(s.amount),BigInt(s.limit),s.price,s.memo,ot.BROADCAST_MODE_SYNC,a),_=Re(Ee(ke(d.hash)));chrome.notifications.create(_,{type:"basic",title:"Transaction sent to network",message:`Waiting for confirmation on ${a.name}...`,priority:1,iconUrl:"/media/vendor/logo-192px.png"}),await ge.record(d.hash,{type:"tx_out",time:Date.now(),data:d})}},gt=(s,o,a)=>{if(console.debug("Service received message %o",s),typeof s=="object"&&typeof s.type=="string"){let l=de;if(!o.tab||typeof o.tab.id!="number")if(o.origin&&chrome.runtime.id===o.id)l=wt;else{console.error("Refusing request from unknown sender");return}const d=s.type,_=l[d];if(_){const x=_(s.value,o,a);if(x&&typeof x.then=="function")return!0}}};chrome.runtime.onMessage.addListener(gt);chrome.runtime.onInstalled.addListener(async()=>{});chrome.alarms.clearAll(()=>{console.warn("clear all"),chrome.alarms.create("periodicChainQueries",{periodInMinutes:2}),chrome.alarms.onAlarm.addListener(s=>{switch(s.name){case"periodicChainQueries":{pe();break}}}),pe()});let ve=!1;const ce={},Ne=()=>setTimeout(()=>{ve=!1,pe()},3*Je);let vt=Ne();function Ie(s,o,a,l,d,_){const x=s+":Receive";return he.pathFrom(a),ce[x]=o[`on${_}`](d,async($,C)=>{if($)delete ce[x],console.error($);else if(C){const P=JSON.parse(C.result?.log||"[]");if(P?.length){for(const b of P[0].events)if(b.type==="transfer"){const I=Qe(b);let F=I.amount;const Y=Ye.exec(I.amount);if(!Y)Ze({text:`Failed to parse transfer amount "${I.amount}"`});else{const[,Z,f]=Y;for(const[k,H]of He(a.coins))if(f===H.denom){const T=new et(Z).shiftedBy(-H.decimals).toNumber();F=`${tt(T,!0)} ${k}`;break}}let y=I.sender;const M=Se.pathForContact(y,a.family),V=await Se.getContact(M);V?y=V.name:y=rt(y);const L=C.hash,te=Re(Ee(ke(L)));if(_==="Receive"){chrome.notifications.create(te,{type:"basic",title:`Received ${F} on ${a.name}`,message:`${y} sent ${F} to your ${l.name} account`,priority:1,iconUrl:"/media/vendor/logo-192px.png"});const Z=await o.downloadTxn(L);await ge.record(L,{type:"tx_in",time:new Date(Z.timestamp).getTime(),data:Z})}else if(_==="Send"){chrome.notifications.create(te,{type:"basic",title:`Sent ${F} on ${a.name}`,message:`${F} sent to ${y} from ${l.name} account`,priority:1,iconUrl:"/media/vendor/logo-192px.png"});const Z=await o.downloadTxn(L);await ge.record(L,{type:"tx_out",time:new Date(Z.timestamp).getTime(),data:Z})}}}}})}async function pe(){if(await je.updateAll(),!await we.getRootKey()||ve)return;ve=!0,clearTimeout(vt);const[s,o,a]=await Promise.all([Ge.read(),he.read(),fe.read()]),l={};for(const[d,_]of a.entries())l[_.chain]=l[_.chain]||_;for(const[d,_]of He(l)){if(d==="/family.cosmos/chain.theta-testnet-001"||ce[d])continue;const x=o.at(d),$=fe.pathFrom(_),C=fe.activate(_,x),P=[];try{ce[d]=C.listen(["tm.event='NewBlock'"],(b,I)=>{if(b)delete ce[d];else if(I){P.push(Date.now());const F=I.block;for(;P.length>16;)P.shift();Xe({type:"blockInfo",value:{header:F.header,chain:d,network:$,recents:P}})}}),console.info({h_sockets:ce})}catch(b){be({title:"Websocket Error",error:b})}for(const[b,I]of s.entries()){const F=he.addressFor(I.pubkey,x);if(C.hasRpc){const Y=d+`
`+_.rpcHost+`
`;if(!ce[Y])try{Ie(Y,C,x,I,F,"Receive"),Ie(Y,C,x,I,F,"Send")}catch(M){be({title:"Provider Error",error:M})}await C.synchronizeAll(F)}}}Ne()}Ve({login(){pe()}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VydmljZS5lMzc3MjQ3NS5qcyIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vc3JjL3NjcmlwdC9pY3MtaG9zdC50cyIsIi4uLy4uLy4uLy4uLy4uL3NyYy9zY3JpcHQvbWNzLXJhdGlmaWVyLnRzIiwiLi4vLi4vLi4vLi4vLi4vc3JjL3NjcmlwdC91dGlscy50cyIsIi4uLy4uLy4uLy4uLy4uL3NyYy9zY3JpcHQvc2NyaXB0cy50cyIsIi4uLy4uLy4uLy4uLy4uL3NyYy9zdG9yZS9wb2xpY2llcy50cyIsIi4uLy4uLy4uLy4uLy4uL3NyYy9zY3JpcHQvY29uc3RhbnRzLnRzIiwiLi4vLi4vLi4vLi4vLi4vc3JjL3NjcmlwdC9tc2ctZmxvdy50cyIsIi4uLy4uLy4uLy4uLy4uL3NyYy9zY3JpcHQvc2VydmljZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7XG5cdEhtYWNTSEEyNTYsXG59IGZyb20gJ2NyeXB0by1qcyc7XG5cbmltcG9ydCB0eXBlICogYXMgQ29uc3RhbnRzIGZyb20gJy4vY29uc3RhbnRzJztcbmltcG9ydCB0eXBlICogYXMgVXRpbHMgZnJvbSAnLi91dGlscyc7XG5pbXBvcnQgdHlwZSAqIGFzIEZsb3cgZnJvbSAnLi9tc2ctZmxvdyc7XG5pbXBvcnQgdHlwZSB7IENoYWluRGVzY3JpcHRvciwgQ29ubmVjdGlvbk1hbmlmZXN0VjEsIFVua25vd25DaGFpbkRlc2NyaXB0b3IgfSBmcm9tICcuL2NvbW1vbic7XG5cbmltcG9ydCB0eXBlIHtcblx0SG9zdFRvUmVsYXksXG5cdFJlbGF5VG9Ib3N0LFxuXHRIb3N0VG9SYXRpZmllcixcblx0SWNzVG9TZXJ2aWNlLFxufSBmcm9tICcuL21lc3NhZ2VzJztcblxuaW1wb3J0IHR5cGUgeyBWb2NhYiB9IGZyb20gJyMvbWV0YS92b2NhYic7XG5cbmludGVyZmFjZSBTY3JpcHRQYXJhbXMge1xuXHRzZXNzaW9uOiBzdHJpbmc7XG59XG5cbi8qKlxuICogVGhlIGhvc3QgcHJvdmlkZXMgYSBjb25uZWN0aW9uIGJldHdlZW4gdGhlIHBhZ2UgYW5kIHRoZSBleHRlbnNpb24gYW5kIGFsbG93cyBtZXNzYWdlcyBmcm9tIHRoZSByZWxheSBmcmFtZSB0byBiZVxuICogZm9yd2FyZGVkIHRvIHRoZSBzZXJ2aWNlIGlmIG5lY2Vzc2FyeS5cbiAqIFRoaXMgY29udGVudCBzY3JpcHQgaXMgZXhlY3V0ZWQgYSBydW50aW1lIGJ5IHRoZSBzZXJ2aWNlLCBzbyB0aGUgbW9kdWxlIGV4cG9ydHMgYSBmdW5jdGlvbiB0aGF0IGFjY2VwdHMgYW4gYXJndW1lbnQuXG4gKiBAcGFyYW0gLSBhIHtAbGluayBTZXJ2aWNlVG9JY3MuU2Vzc2lvbktleXN9IG9iamVjdFxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7XG5cdHNlc3Npb246IHNoX3Nlc3Npb24sXG59OiBTY3JpcHRQYXJhbXMpOiB2b2lkIHtcblx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uYW1pbmctY29udmVudGlvblxuXHRjb25zdCBobWFjU0hBMjU2ID0gaW5saW5lX3JlcXVpcmUoJ2NyeXB0by1qcy9obWFjLXNoYTI1NicpIGFzIHR5cGVvZiBIbWFjU0hBMjU2O1xuXG5cdGNvbnN0IHtcblx0XHRBX0NIQUlOX0NBVEVHT1JJRVMsXG5cdFx0QV9DSEFJTl9GQU1JTElFUyxcblx0XHRSX0NIQUlOX0lELFxuXHRcdFJfQ0hBSU5fTkFNRSxcblx0fSA9IGlubGluZV9yZXF1aXJlKCcuL2NvbnN0YW50cy50cycpIGFzIHR5cGVvZiBDb25zdGFudHM7XG5cblx0Y29uc3Qge1xuXHRcdGxvY2F0ZV9zY3JpcHQsXG5cdH0gPSBpbmxpbmVfcmVxdWlyZSgnLi91dGlscy50cycpIGFzIHR5cGVvZiBVdGlscztcblxuXHQvLyB0eXBlZCBjaHJvbWUgcnVudGltZSBmb3Igc2VuZGluZyBtZXNzYWdlc1xuXHRjb25zdCBkX3J1bnRpbWU6IFZvY2FiLlR5cGVkUnVudGltZTxJY3NUb1NlcnZpY2UuUHVibGljVm9jYWIsIEljc1RvU2VydmljZS5QdWJsaWNSZXNwb25zZVZvY2FiPiA9IGNocm9tZS5ydW50aW1lO1xuXG5cdC8vIHZlcmJvc2Vcblx0Y29uc3QgZGVidWcgPSAoczogc3RyaW5nLCAuLi5hX2FyZ3M6IGFueVtdKSA9PiBjb25zb2xlLmRlYnVnKGBTdGFyU2hlbGwuaWNzLWhvc3Q6ICR7c31gLCAuLi5hX2FyZ3MpO1xuXHRkZWJ1ZyhgTGF1bmNoZWQgb24gPCR7bG9jYXRpb24uaHJlZn0+YCk7XG5cblx0LyoqXG5cdCAqIFxuXHQgKi9cblx0ZnVuY3Rpb24gZmxvd19zZW5kKGdjX3Byb21wdDogRmxvdy5Qcm9tcHRDb25maWcpOiBQcm9taXNlPGJvb2xlYW4+IHtcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoKGZrX3Jlc29sdmUpID0+IHtcblx0XHRcdC8vIGNyZWF0ZSByZXNwb25zZSBrZXlcblx0XHRcdGNvbnN0IHNpX3Jlc3BvbnNlID0gY3J5cHRvLnJhbmRvbVVVSUQoKTtcblxuXHRcdFx0Ly8gd2FpdCBmb3IgcmVzcG9uc2UgZnJvbSBwb3B1cFxuXHRcdFx0ZF9ydW50aW1lLm9uTWVzc2FnZS5hZGRMaXN0ZW5lcihmdW5jdGlvbiBmbG93X3Jlc3BvbnNlX2hhbmRsZXIoZ19tc2csIGdfc2VuZGVyKSB7XG5cdFx0XHRcdC8vIGZsb3cgcmVzcG9uc2UgbWVzc2FnZVxuXHRcdFx0XHRpZignZmxvd0Jyb2FkY2FzdFJlc3BvbnNlJyA9PT0gZ19tc2cudHlwZSkge1xuXHRcdFx0XHRcdC8vIHJlc3BvbmRpbmcgdG8gdGhpcyByZXF1ZXN0XG5cdFx0XHRcdFx0aWYoc2lfcmVzcG9uc2UgPT09IGdfbXNnLnZhbHVlLmtleSkge1xuXHRcdFx0XHRcdFx0Ly8gcmVtb3ZlIGxpc3RlbmVyXG5cdFx0XHRcdFx0XHRkX3J1bnRpbWUub25NZXNzYWdlLnJlbW92ZUxpc3RlbmVyKGZsb3dfcmVzcG9uc2VfaGFuZGxlcik7XG5cblx0XHRcdFx0XHRcdC8vIHJlc29sdmUgcHJvbWlzZVxuXHRcdFx0XHRcdFx0ZmtfcmVzb2x2ZShnX21zZy52YWx1ZS5hbnN3ZXIpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cblx0XHRcdC8vIGZvcndhcmQgY29tbWFuZCB0byBiYWNrZ3JvdW5kXG5cdFx0XHR2b2lkIGRfcnVudGltZS5zZW5kTWVzc2FnZSh7XG5cdFx0XHRcdHR5cGU6ICdmbG93QnJvYWRjYXN0Jyxcblx0XHRcdFx0dmFsdWU6IHtcblx0XHRcdFx0XHRrZXk6IHNpX3Jlc3BvbnNlLFxuXHRcdFx0XHRcdGNvbmZpZzogZ2NfcHJvbXB0LFxuXHRcdFx0XHR9LFxuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdH1cblxuXHQvKipcblx0ICogR2VuZXJhdGUgYSBuZXcgcHJpdmF0ZS9zaGFyZWQgc2VjcmV0IGtleSBvZiB0aGUgc3BlY2lmaWVkIHNpemUgaW4gYnl0ZXMgKGRlZmF1bHRzIHRvIDUxMi1iaXQga2V5KVxuXHQgKi9cblx0ZnVuY3Rpb24gZ2VuZXJhdGVfa2V5KG5iX3NpemU9NjQpOiBzdHJpbmcge1xuXHRcdC8vIHByZXAgc3BhY2UgaW4gbWVtb3J5XG5cdFx0Y29uc3QgYXR1OF9zZWNyZXQgPSBuZXcgVWludDhBcnJheShuYl9zaXplKTtcblxuXHRcdC8vIGZpbGwgd2l0aCBjcnlwdG8gcmFuZG9tIHZhbHVlc1xuXHRcdGNyeXB0by5nZXRSYW5kb21WYWx1ZXMoYXR1OF9zZWNyZXQpO1xuXG5cdFx0Ly8gY29udmVydCB0byBoZXggc3RyaW5nXG5cdFx0cmV0dXJuIEFycmF5LmZyb20oYXR1OF9zZWNyZXQpLm1hcCh4ID0+IHgudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDIsICcwJykpLmpvaW4oJycpO1xuXHR9XG5cblxuXHQvLyBzdWJjbGFzcyBFcnJvciB0byBiZSBhYmxlIHRvIHJlY29nbml6ZSBvYmplY3Qgb3JpZ2luXG5cdGNsYXNzIFNlY3VyaXR5RXJyb3IgZXh0ZW5kcyBFcnJvciB7fVxuXG5cdC8vIG1lc3NhZ2UgcG9ydFxuXHRsZXQgZF9wb3J0OiBWb2NhYi5UeXBlZFBvcnQ8SG9zdFRvUmVsYXkuQXV0aGVkVm9jYWI+O1xuXG5cdC8vIGZsYWcgdG8gcmVjb3JkIHJlbGF5IHN0YXRlXG5cdGxldCBiX2FjcXVhaW50ZWQgPSBmYWxzZTtcblxuXHQvLyBmbGFnIGluIGNhc2Ugc2VjdXJpdHkgdmlvbGF0aW9uIG9jY3Vyc1xuXHRsZXQgYl9hYm9ydGVkID0gZmFsc2U7XG5cblx0LyoqXG5cdCAqIEFib3J0IHBhZ2UgY29ubmVjdGlvbiBhbmQgcmVwb3J0IGEgc2VjdXJpdHkgZXJyb3Jcblx0ICovXG5cdGZ1bmN0aW9uIGFib3J0KHNfcmVhc29uOiBzdHJpbmcpIHtcblx0XHQvLyBzZXQgYWJvcnQgZmxhZ1xuXHRcdGJfYWJvcnRlZCA9IHRydWU7XG5cblx0XHQvLyBub3RpZnkgZXh0ZW5zaW9uXG5cdFx0dm9pZCBkX3J1bnRpbWUuc2VuZE1lc3NhZ2Uoe1xuXHRcdFx0dHlwZTogJ3BhbmljJyxcblx0XHRcdHZhbHVlOiAnJytzX3JlYXNvbixcblx0XHR9KTtcblxuXHRcdC8vIGp1bXAgb3V0IG9mIGNhbGwgc3RhY2tcblx0XHR0aHJvdyBuZXcgU2VjdXJpdHlFcnJvcihgU3RhclNoZWxsIHRocmV3IGEgc2VjdXJpdHkgZXJyb3I6IFwiJHtzX3JlYXNvbn1cImApO1xuXHR9XG5cblx0LyoqXG5cdCAqIEFzc2VydCB0aGF0IHRoZSBjb25uZWN0aW9uIGhhcyBub3QgYmVlbiBhYm9ydGVkXG5cdCAqL1xuXHRmdW5jdGlvbiBhc3NlcnRfbm90X2Fib3J0ZWQoKSB7XG5cdFx0Ly8gYWxyZWFkeSBhYm9ydGVkXG5cdFx0aWYoYl9hYm9ydGVkKSB0aHJvdyBuZXcgRXJyb3IoJ1N0YXJTaGVsbCB3aXRoZHJldyB3YWxsZXQgYWNjZXNzIGZyb20gdGhpcyB3ZWJzaXRlIGR1ZSB0byBhIHNlY3VyaXR5IHZpb2xhdGlvbicpO1xuXHR9XG5cblx0Ly8gZGVjbGFyZSBjaGFubmVsIG1lc3NhZ2UgaGFuZGxlcnNcblx0Y29uc3QgaF9oYW5kbGVyc19hdXRoZWQ6IFZvY2FiLkhhbmRsZXJzPFJlbGF5VG9Ib3N0LkF1dGhlZFZvY2FiPiA9IHtcblx0XHQvLyBoYW5kbGUgY29ubmVjdGlvbiByZXF1ZXN0c1xuXHRcdGFzeW5jIHJlcXVlc3RDb25uZWN0KGdfcmVxdWVzdCkge1xuXHRcdFx0Ly8gZGVzdHJ1Y3R1cmUgcmVxdWVzdFxuXHRcdFx0Y29uc3Qge1xuXHRcdFx0XHRpbmRleDogaV9yZXF1ZXN0LFxuXHRcdFx0XHRtYW5pZmVzdDogZ19tYW5pZmVzdCxcblx0XHRcdH0gPSBnX3JlcXVlc3Q7XG5cblx0XHRcdC8vIHJlc3BvbmQgd2l0aCBhbiBlcnJvclxuXHRcdFx0Y29uc3QgZXJyID0gKHNfcmVhc29uOiBzdHJpbmcpID0+IHtcblx0XHRcdFx0ZF9wb3J0LnBvc3RNZXNzYWdlKHtcblx0XHRcdFx0XHR0eXBlOiAncmVzcG9uZENvbm5lY3QnLFxuXHRcdFx0XHRcdHZhbHVlOiB7XG5cdFx0XHRcdFx0XHRpbmRleDogaV9yZXF1ZXN0LFxuXHRcdFx0XHRcdFx0YW5zd2VyOiB7XG5cdFx0XHRcdFx0XHRcdGVycm9yOiBzX3JlYXNvbixcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0fSk7XG5cdFx0XHR9O1xuXG5cdFx0XHQvLyBpbnZhbGlkIHN0cnVjdHVyZVxuXHRcdFx0aWYoJ29iamVjdCcgIT09IHR5cGVvZiBnX21hbmlmZXN0IHx8ICdzdHJpbmcnICE9PSB0eXBlb2YgZ19tYW5pZmVzdC5zY2hlbWEpIHtcblx0XHRcdFx0cmV0dXJuIGVycignSW52YWxpZCBtYW5pZmVzdCBzdHJ1Y3R1cmUnKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gdW5rbm93biBtYW5pZmVzdCB2ZXJzaW9uXG5cdFx0XHRpZignMScgIT09IGdfbWFuaWZlc3Quc2NoZW1hKSB7XG5cdFx0XHRcdHJldHVybiBlcnIoJ1Vua25vd24gb3IgdW5zdXBwb3J0ZWQgbWFuaWZlc3Qgc2NoZW1hIHZlcnNpb24nKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gbWlzc2luZyBjaGFpbnNcblx0XHRcdGlmKCFBcnJheS5pc0FycmF5KGdfbWFuaWZlc3QuY2hhaW5zKSB8fCAhZ19tYW5pZmVzdC5jaGFpbnMubGVuZ3RoKSB7XG5cdFx0XHRcdHJldHVybiBlcnIoJ05vIGNoYWlucyB3ZXJlIHNwZWNpZmllZCBpbiByZXF1ZXN0Jyk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIGRlc3RydWN0dXJlIG1hbmlmZXN0XG5cdFx0XHRjb25zdCB7XG5cdFx0XHRcdGNoYWluczogYV9jaGFpbnMsXG5cdFx0XHR9ID0gZ19tYW5pZmVzdCBhcyBDb25uZWN0aW9uTWFuaWZlc3RWMTtcblxuXHRcdFx0Ly8gbG9vayBvdXQgZm9yIGR1cGxpY2F0ZXNcblx0XHRcdGNvbnN0IGFzX2NoYWlucyA9IG5ldyBTZXQ8c3RyaW5nPigpO1xuXG5cblx0XHRcdGludGVyZmFjZSBDb25uZWN0aW9uUmVxdWVzdCBleHRlbmRzIFVua25vd25DaGFpbkRlc2NyaXB0b3Ige1xuXHRcdFx0XHRsYWJlbDogc3RyaW5nO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBcblx0XHRcdGNvbnN0IGFfcmVxdWVzdHM6IENvbm5lY3Rpb25SZXF1ZXN0W10gPSBbXTtcblxuXHRcdFx0Ly8gY2hhaW4gYW5zd2Vyc1xuXHRcdFx0Y29uc3QgYV9hbnN3ZXJzOiBWb2NhYi5NZXNzYWdlVmFsdWU8SG9zdFRvUmVsYXkuQXV0aGVkVm9jYWIsICdyZXNwb25kQ29ubmVjdCc+WydhbnN3ZXInXVtdID0gW107XG5cblx0XHRcdC8vIGVhY2ggY2hhaW5cblx0XHRcdGZvcihsZXQgaV9jaGFpbj0wOyBpX2NoYWluPGFfY2hhaW5zLmxlbmd0aDsgaV9jaGFpbisrKSB7XG5cdFx0XHRcdGNvbnN0IGdfY2hhaW4gPSBhX2NoYWluc1tpX2NoYWluXTtcblxuXHRcdFx0XHRjb25zdCBjZXJyID0gKHNfcmVhc29uOiBzdHJpbmcpID0+IGVycihgJHtzX3JlYXNvbn0gYXQgLmNoYWluc1ske2lfY2hhaW59XWApO1xuXG5cdFx0XHRcdC8vIHZhbGlkYXRlIGRlc2NyaXB0b3Igc3RydWN0dXJlXG5cdFx0XHRcdGlmKCdvYmplY3QnICE9PSB0eXBlb2YgZ19jaGFpbiB8fCAnc3RyaW5nJyAhPT0gdHlwZW9mIGdfY2hhaW4uY2F0ZWdvcnlcblx0XHRcdFx0XHR8fCAnc3RyaW5nJyAhPT0gdHlwZW9mIGdfY2hhaW4uZmFtaWx5IHx8ICdzdHJpbmcnICE9PSB0eXBlb2YgZ19jaGFpbi5pZCkge1xuXHRcdFx0XHRcdHJldHVybiBjZXJyKCdJbnZhbGlkIGNoYWluIGRlc2NyaXB0b3Igc3RydWN0dXJlJyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBmYW1pbHkgbm90IHN1cHBvcnRlZFxuXHRcdFx0XHRpZighQV9DSEFJTl9GQU1JTElFUy5pbmNsdWRlcyhnX2NoYWluLmZhbWlseSkpIHtcblx0XHRcdFx0XHRhX2Fuc3dlcnMucHVzaCh7XG5cdFx0XHRcdFx0XHRlcnJvcjogJ0ZhbWlseSBub3Qgc3VwcG9ydGVkJyxcblx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdC8vIG1vdmUgb250byBuZXh0IGNoYWluXG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyB2YWxpZGF0ZSBjaGFpbiBjYXRlZ29yeVxuXHRcdFx0XHRpZighQV9DSEFJTl9DQVRFR09SSUVTLmluY2x1ZGVzKGdfY2hhaW4uY2F0ZWdvcnkpKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGNlcnIoYEludmFsaWQgY2F0ZWdvcnkgdmFsdWUgXCIke2dfY2hhaW4uY2F0ZWdvcnl9XCI7IG11c3QgYmUgb25lIG9mICgke0FfQ0hBSU5fQ0FURUdPUklFUy5qb2luKCcsICcpfSlgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIHZhbGlkYXRlIGNoYWluIGlkXG5cdFx0XHRcdGlmKCFSX0NIQUlOX0lELnRlc3QoZ19jaGFpbi5pZCkpIHtcblx0XHRcdFx0XHRyZXR1cm4gY2VycihgSW52YWxpZCBjaGFpbiBpZCBcIiR7Z19jaGFpbi5pZH1cIiBmb3IgJHtnX2NoYWluLmZhbWlseX0gZmFtaWx5OyBmYWlsZWQgdG8gbWF0Y2ggcmVndWxhciBleHByZXNzaW9uIC8ke1JfQ0hBSU5fSUQuc291cmNlfS9gKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIHZhbGlkYXRlIGNoYWluIG5hbWVcblx0XHRcdFx0aWYoZ19jaGFpbi5uYW1lKSB7XG5cdFx0XHRcdFx0aWYoIVJfQ0hBSU5fTkFNRS50ZXN0KGdfY2hhaW4ubmFtZSkpIHtcblx0XHRcdFx0XHRcdHJldHVybiBjZXJyKGBJbnZhbGlkIGNoYWluIG5hbWUgXCIke2dfY2hhaW4ubmFtZX1cIjsgZmFpbGVkIHRvIG1hdGNoIHJlZ3VsYXIgZXhwcmVzc2lvbiAvJHtSX0NIQUlOX05BTUUuc291cmNlfS9gKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZihnX2NoYWluLm5hbWUubGVuZ3RoID4gNjQpIHtcblx0XHRcdFx0XHRcdHJldHVybiBjZXJyKCdDaGFpbiBuYW1lIHRvbyBsb25nJyk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gY2hhaW4gcGF0aFxuXHRcdFx0XHRjb25zdCBwX2NoYWluID0gZ19jaGFpbi5mYW1pbHkrJ1xcbicrZ19jaGFpbi5pZDtcblxuXHRcdFx0XHQvLyBkdXBsaWNhdGVcblx0XHRcdFx0aWYoYXNfY2hhaW5zLmhhcyhwX2NoYWluKSkge1xuXHRcdFx0XHRcdHJldHVybiBjZXJyKGBEdXBsaWNhdGUgY2hhaW4gSURzIGluICcke2dfY2hhaW4uZmFtaWx5fScgZmFtaWx5OiAnJHtnX2NoYWluLmlkfSdgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIHNldCBjaGFpbiBsYWJlbFxuXHRcdFx0XHRjb25zdCBzX2xhYmVsID0gZ19jaGFpbi5uYW1lIHx8IGdfY2hhaW4uaWQ7XG5cblx0XHRcdFx0Ly8gcHJlcCBVSSBwcm9tcHRcblx0XHRcdFx0YV9yZXF1ZXN0cy5wdXNoKHtcblx0XHRcdFx0XHQuLi5nX2NoYWluLFxuXHRcdFx0XHRcdGxhYmVsOiBzX2xhYmVsLFxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblxuXHRcdFx0dm9pZCBkX3J1bnRpbWUuc2VuZE1lc3NhZ2Uoe1xuXHRcdFx0XHR0eXBlOiAncmVxdWVzdENvbm5lY3Rpb24nLFxuXHRcdFx0XHR2YWx1ZToge1xuXHRcdFx0XHRcdGNoYWluczogYV9yZXF1ZXN0cyxcblx0XHRcdFx0fSxcblx0XHRcdH0pO1xuXG5cdFx0XHQvLyAvLyBwcmVwIGZsb3cgcmVzdWx0XG5cdFx0XHQvLyBsZXQgZ19yZXN1bHQ7XG5cdFx0XHQvLyB0cnkge1xuXHRcdFx0Ly8gXHQvLyBhd2FpdCBmbG93XG5cdFx0XHQvLyBcdGdfcmVzdWx0ID0gYXdhaXQgZmxvd19zZW5kKHtcblx0XHRcdC8vIFx0XHRmbG93OiB7XG5cdFx0XHQvLyBcdFx0XHR0eXBlOiAncmVxdWVzdENvbm5lY3Rpb24nLFxuXHRcdFx0Ly8gXHRcdFx0dmFsdWU6IHtcblx0XHRcdC8vIFx0XHRcdFx0Y2hhaW5zOiBhX3JlcXVlc3RzLFxuXHRcdFx0Ly8gXHRcdFx0fSxcblx0XHRcdC8vIFx0XHRcdHBhZ2U6IHtcblx0XHRcdC8vIFx0XHRcdFx0aHJlZjogbG9jYXRpb24uaHJlZixcblx0XHRcdC8vIFx0XHRcdFx0dGFiSWQ6IC0xLFxuXHRcdFx0Ly8gXHRcdFx0fSxcblx0XHRcdC8vIFx0XHR9LFxuXHRcdFx0Ly8gXHR9KTtcblx0XHRcdC8vIH1cblx0XHRcdC8vIGNhdGNoKGVfcG9wdXApIHtcblx0XHRcdC8vIFx0Ly8gVE9ETzogaGFuZGxlIGNocm9tZSBlcnJvclxuXHRcdFx0Ly8gXHQvLyBUT0RPOiBoYW5kbGUgZmxvdyBlcnJvclxuXHRcdFx0Ly8gXHR0aHJvdyBlX3BvcHVwO1xuXHRcdFx0Ly8gfVxuXG5cdFx0XHQvLyBmZXRjaCBmcm9tIHN0b3JlXG5cblxuXHRcdFx0Ly8gcG9ydHNcblx0XHRcdGNvbnN0IGFfcG9ydHM6IEFycmF5PE1lc3NhZ2VQb3J0IHwgbnVsbD4gPSBbXTtcblxuXHRcdFx0Ly8gbm8gcG9ydFxuXHRcdFx0YV9wb3J0cy5wdXNoKG51bGwpO1xuXG5cblx0XHRcdGZvcihjb25zdCBnX2NoYWluIG9mIGFfY2hhaW5zKSB7XG5cdFx0XHRcdC8vIGNyZWF0ZSBjaGFubmVsXG5cdFx0XHRcdGNvbnN0IGRfY2hhbm5lbCA9IG5ldyBNZXNzYWdlQ2hhbm5lbCgpO1xuXG5cdFx0XHRcdC8vIGFzc2lnbiBwb3J0IDFcblx0XHRcdFx0Y29uc3Qga2NfY2hhaW4gPSBhd2FpdCBIb3N0Q29ubmVjdGlvbi5jcmVhdGUoZ19jaGFpbiwgZF9jaGFubmVsLnBvcnQxKTtcblxuXHRcdFx0XHQvLyByZXNvb25kIHdpdGggcG9ydCAyXG5cdFx0XHRcdGFfcG9ydHMucHVzaChkX2NoYW5uZWwucG9ydDIpO1xuXHRcdFx0fVxuXG5cblx0XHRcdGRfcG9ydC5wb3N0TWVzc2FnZSh7XG5cdFx0XHRcdHR5cGU6ICdyZXNwb25kQ29ubmVjdCcsXG5cdFx0XHRcdHZhbHVlOiB7XG5cdFx0XHRcdFx0aW5kZXg6IGlfcmVxdWVzdCxcblx0XHRcdFx0XHRhbnN3ZXI6IHtcblx0XHRcdFx0XHRcdGNvbmZpZzoge1xuXHRcdFx0XHRcdFx0XHRmZWF0dXJlczogYV9mZWF0dXJlcyxcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LFxuXHRcdFx0fSwgYV9wb3J0cyk7XG5cdFx0fSxcblxuXHRcdC8vIGhhbmRsZSB3ZWJzaXRlIGVycm9yIHJlcG9ydGluZ1xuXHRcdHJlcG9ydFdlYnNpdGVFcnJvcihzX3Jlc29uOiBzdHJpbmcpIHtcblx0XHRcdC8vIFRPRE86IGhhbmRsZVxuXHRcdH0sXG5cdH07XG5cblxuXHQvLyBSZWNvcmQ8UmVsYXlUb0hvc3QuQ2hhbm5lbE1lc3NhZ2VbJ3R5cGUnXSwgTWVzc2FnZUhhbmRsZXI+ID0ge1xuXHRcdC8vIGFzeW5jIHN1Ym1pdFRyYW5zYWN0aW9uKCkge1xuXHRcdC8vIFx0Y29uc3QgeV93aW5kb3cgPSBhd2FpdCBjaHJvbWUud2luZG93cy5jcmVhdGUoe1xuXHRcdC8vIFx0XHR0eXBlOiAncG9wdXAnLFxuXHRcdC8vIFx0XHR3aWR0aDogTl9QWF9XSURUSF9QT1BVUCxcblx0XHQvLyBcdFx0aGVpZ2h0OiBOX1BYX0hFSUdIVF9QT1BVUCxcblx0XHQvLyBcdFx0Zm9jdXNlZDogdHJ1ZSxcblx0XHQvLyBcdFx0dXJsOiBjaHJvbWUucnVudGltZS5nZXRVUkwoJ3NyYy9lbnRyeS9wb3B1cC5odG1sIy9wcm9tcHQnKSxcblx0XHQvLyBcdH0pO1xuXG5cdFx0Ly8gXHQvLyB5X3dpbmRvd1xuXHRcdC8vIH0sXG5cblxuXHQvLyBoYW5kbGUgbWVzc2FnZXMgZnJvbSBhdXRoZWQgcG9ydFxuXHRmdW5jdGlvbiBhdXRoZWRfbWVzc2FnZV9oYW5kbGVyKGRfZXZlbnQpIHtcblx0XHQvLyBkZXN0cnVjdHVyZSBtZXNzYWdlIGRhdGFcblx0XHRjb25zdCB7XG5cdFx0XHR0eXBlOiBzaV90eXBlLFxuXHRcdFx0dmFsdWU6IHdfdmFsdWUsXG5cdFx0fSA9IGRfZXZlbnQuZGF0YTtcblxuXHRcdC8vIHJlZiBoYW5kbGVyXG5cdFx0Y29uc3QgZl9oYW5kbGVyID0gaF9oYW5kbGVyc19hdXRoZWRbc2lfdHlwZV07XG5cdFx0aWYoIWZfaGFuZGxlcikge1xuXHRcdFx0Y29uc29sZS5lcnJvcihgUmVjZWl2ZWQgcmVsYXkgcG9ydCBtZXNzYWdlIGhhdmluZyBhbiB1bnJlZ2lzdGVyZWQgdHlwZSBcIiR7c2lfdHlwZX1cImApO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIGhhbmRsZXIgaXMgcmVnaXN0ZXJlZDsgZXhlY3V0ZSBpdFxuXHRcdGRlYnVnKGBSZWNlaXZlZCByZWxheSBwb3J0IG1lc3NhZ2UgaGF2aW5nIHJlZ2lzdGVyZWQgdHlwZSAlb2AsIGRfZXZlbnQuZGF0YSk7XG5cdFx0Zl9oYW5kbGVyKHdfdmFsdWUpO1xuXHR9XG5cblx0Ly8gZGVjbGFyZSB3aW5kb3cgbWVzc2FnZSBoYW5kbGVyc1xuXHRjb25zdCBoX2hhbmRsZXJzX3dpbmRvdzogVm9jYWIuSGFuZGxlcnNQb3J0UmVjZWl2YWJsZTxSZWxheVRvSG9zdC5TdWJmcmFtZVZvY2FiPiA9IHtcblx0XHQvLyAvKipcblx0XHQvLyAgKiBBIHNlY3VyaXR5IHRlc3QgaGFzIGZhaWxlZC4gQ2xvc2UgY29ubmVjdGlvbiB0byB0aGUgb2ZmZW5kaW5nIHBhZ2UuXG5cdFx0Ly8gICovXG5cdFx0Ly8gcGFuaWMoc19yZWFzb246IHN0cmluZykge1xuXHRcdC8vIFx0Ly8gbm8gbmVlZCB0byBhYm9ydCBtb3JlIHRoYW4gb25jZVxuXHRcdC8vIFx0aWYoIWJfYWJvcnRlZCkge1xuXHRcdC8vIFx0XHRyZXR1cm4gYWJvcnQoc19yZWFzb24pO1xuXHRcdC8vIFx0fVxuXHRcdC8vIH0sXG5cblxuXHRcdC8vIC8qKlxuXHRcdC8vICAqIEEgcG90ZW50aWFsIGJ1ZyBtYXkgaGF2ZSBiZWVuIGVuY291bnRlcmVkLlxuXHRcdC8vICAqL1xuXHRcdC8vICBidWcoc19yZWFzb246IHN0cmluZykge1xuXHRcdC8vIFx0Ly8gIFRPRE86IGhhbmRsZSBidWcgcmVwb3J0aW5nXG5cblx0XHQvLyBcdC8vIG5vIG5lZWQgdG8gYWJvcnQgbW9yZSB0aGFuIG9uY2Vcblx0XHQvLyBcdGlmKCFiX2Fib3J0ZWQpIHtcblx0XHQvLyBcdFx0cmV0dXJuIGFib3J0KHNfcmVhc29uKTtcblx0XHQvLyBcdH1cblx0XHQvLyB9LFxuXG5cblx0XHQvKipcblx0XHQgKiBUaGUgcmVsYXkgZnJhbWUgc3VjY2Vzc2Z1bGx5IGRlY2xhcmVkIGB3aW5kb3cuc3RhcnNoZWxsYCBvbiBpdHMgcGFyZW50IGZyYW1lIGluIHRoZSBtYWluIHdvcmxkXG5cdFx0ICogYW5kIGlzIHJlYWR5IHRvIGVzdGFibGlzaCBhIE1lc3NhZ2VDaGFubmVsLlxuXHRcdCAqL1xuXHRcdGVzdGFibGlzaENoYW5uZWwoXywgYV9wb3J0cykge1xuXHRcdFx0YXNzZXJ0X25vdF9hYm9ydGVkKCk7XG5cblx0XHRcdC8vIHJlcGxheWVkIG1lc3NhZ2Vcblx0XHRcdGlmKGJfYWNxdWFpbnRlZCkge1xuXHRcdFx0XHRyZXR1cm4gYWJvcnQoJ1JlbGF5IGZyYW1lIGF0dGVtcHRlZCB0byBlc3RhYmxpc2ggY29ubmVjdGlvbiBtb3JlIHRoYW4gb25jZScpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBkbyBub3QgYWxsb3cgcmVwbGF5c1xuXHRcdFx0Yl9hY3F1YWludGVkID0gdHJ1ZTtcblxuXHRcdFx0Ly8gcmVsYXkgd2luZG93IGlzIG5vdCBkZWZpbmVkXG5cdFx0XHRpZighZF93aW5kb3dfcmVsYXkpIHtcblx0XHRcdFx0cmV0dXJuIGFib3J0KCdSZWZlcmVuY2UgdG8gcmVsYXkgZnJhbWUgd2luZG93IG5vdCBkZWZpbmVkJyk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIGNoZWNrIHBvcnRzXG5cdFx0XHRpZighYV9wb3J0cyB8fCAxICE9PSBhX3BvcnRzLmxlbmd0aCkge1xuXHRcdFx0XHRyZXR1cm4gYWJvcnQoJ0V4cGVjdGVkIGV4YWN0bHkgb25lIE1lc3NhZ2VQb3J0IGJ1dCBub25lIHdlcmUgdHJhbnNmZXJlZCBmcm9tIHJlbGF5IGZyYW1lJyk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIGFjY2VwdCBtZXNzYWdlIHBvcnRcblx0XHRcdGRfcG9ydCA9IGFfcG9ydHNbMF07XG5cblx0XHRcdC8vIGJpbmQgbGlzdGVuZXJcblx0XHRcdGRfcG9ydC5vbm1lc3NhZ2UgPSBhdXRoZWRfbWVzc2FnZV9oYW5kbGVyO1xuXG5cdFx0XHQvLyBhY2tub3dsZWRnZSByZWxheSBjaGFubmVsXG5cdFx0XHRkX3BvcnQucG9zdE1lc3NhZ2Uoe1xuXHRcdFx0XHR0eXBlOiAnYWNrbm93bGVkZ2VDaGFubmVsJyxcblx0XHRcdH0pO1xuXG5cdFx0XHQvLyByZXF1ZXN0IHJhdGlmaWNhdGlvblxuXHRcdFx0KHdpbmRvdyBhcyBWb2NhYi5UeXBlZFdpbmRvdzxIb3N0VG9SYXRpZmllci5XaW5kb3dWb2NhYj4pLnBvc3RNZXNzYWdlKHtcblx0XHRcdFx0dHlwZTogJ3JhdGlmeUdsb2JhbCcsXG5cdFx0XHR9LCB3aW5kb3cub3JpZ2luKTtcblx0XHR9LFxuXHR9O1xuXG5cblx0Ly8gY3JlYXRlIGFuZCBpbmplY3QgcmVsYXkgZnJhbWVcblx0bGV0IGRfd2luZG93X3JlbGF5OiBWb2NhYi5UeXBlZFdpbmRvdzxWb2NhYiwgUmVsYXlUb0hvc3QuU3ViZnJhbWVWb2NhYj47XG5cdGxldCBkX2RvY3VtZW50X3JlbGF5OiBEb2N1bWVudDtcblx0e1xuXHRcdC8vIHByZXBhcmUgdGhlIHBheWxvYWQgdGhhdCB3aWxsIGdldCBwYXNzZWQgdG8gcmVsYXkgZnJhbWVcblx0XHRjb25zdCBnX3BheWxvYWQ6IEhvc3RUb1JlbGF5LlBheWxvYWQgPSB7XG5cdFx0XHRzZXNzaW9uOiBzaF9zZXNzaW9uLFxuXHRcdFx0Y3N1cmw6IGNocm9tZS5ydW50aW1lLmdldFVSTCgnYXNzZXRzL3NyYy9zY3JpcHQvbWNzLXJlbGF5LmpzJyksXG5cdFx0fTtcblxuXHRcdC8vIGNyZWF0ZSBhIHNjcmlwdCBlbGVtZW50IHRvIGNhcnJ5IHRoZSBzZXJpYWxpemVkIHBheWxvYWRcblx0XHRjb25zdCBkbV9wYXlsb2FkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG5cdFx0ZG1fcGF5bG9hZC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xuXHRcdGRtX3BheWxvYWQuc2V0QXR0cmlidXRlKCdpZCcsICdzdGFyc2hlbGwtbWNzLXJlbGF5LXBheWxvYWQnKTtcblxuXHRcdC8vIHNlcmlhbGl6ZSBhbmQgc3RvcmUgdGhlIHBheWxvYWQgdG8gdGhlIHNjcmlwdCBlbGVtZW50XG5cdFx0ZG1fcGF5bG9hZC50ZXh0Q29udGVudCA9IEpTT04uc3RyaW5naWZ5KGdfcGF5bG9hZCk7XG5cblx0XHQvLyBjcmVhdGUgYW5vdGhlciBzY3JpcHQgZWxlbWVudCB0byBsb2FkIHRoZSByZWxheSBhcHBsaWNhdGlvblxuXHRcdGNvbnN0IGRtX3NjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuXG5cdFx0Ly8gbG9jYXRlIHJlbGF5IHNjcmlwdFxuXHRcdGNvbnN0IHBfcmVsYXkgPSBsb2NhdGVfc2NyaXB0KCdhc3NldHMvc3JjL3NjcmlwdC9tY3MtcmVsYXknKTtcblxuXHRcdC8vIG5vdCBmb3VuZFxuXHRcdGlmKCFwX3JlbGF5KSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBsb2NhdGUgcmVsYXkgc2NyaXB0IScpO1xuXHRcdH1cblxuXHRcdC8vIHNldCB0aGUgc2NyaXB0IHNyY1xuXHRcdGRtX3NjcmlwdC5zcmMgPSBjaHJvbWUucnVudGltZS5nZXRVUkwocF9yZWxheSk7XG5cblx0XHQvLyBpbXBvcnQgYXMgbW9kdWxlXG5cdFx0ZG1fc2NyaXB0LnR5cGUgPSAnbW9kdWxlJztcblxuXHRcdC8vIGNyZWF0ZSBhIG5ldyBpZnJhbWVcblx0XHRjb25zdCBkbV9pZnJhbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpZnJhbWUnKTtcblxuXHRcdC8vIGNyZWF0ZSBjb250YWluZXIgZWxlbWVudCB0byBhdHRhY2ggYSBuZXcgc2hhZG93IGRvbSB0b1xuXHRcdGNvbnN0IGRtX2RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG5cdFx0Ly8gaW4gY2FzZSBpdCBnZXRzIGFwcGVuZGVkIHRvIGJvZHksIG1ha2Ugc3VyZSBpdCBkb2VzIG5vdCByZW5kZXIgdG8gc2NyZWVuXG5cdFx0ZG1fZGl2LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSAhaW1wb3J0YW50JztcblxuXHRcdC8vIGF0dGFjaCBuZXcgc2hhZG93IGRvbSB0byBlbGVtZW50IGluIGNsb3NlZCBtb2RlXG5cdFx0Y29uc3QgZG1fc2hhZG93ID0gZG1fZGl2LmF0dGFjaFNoYWRvdyh7bW9kZTonY2xvc2VkJ30pO1xuXG5cdFx0Ly8gYXBwZW5kIGlmcmFtZSB0byBzaGFkb3cgZG9tIHJvb3Rcblx0XHRkbV9zaGFkb3cuYXBwZW5kKGRtX2lmcmFtZSk7XG5cblx0XHQvLyBhcHBlbmQgY29udGFpbmVyIGVsZW1lbnQgdG8gdGhlIGxpdmUgZG9jdW1lbnQgdG8gaW5pdGlhbGl6ZSBpZnJhbWUncyBjb250ZW50IGRvY3VtZW50XG5cdFx0dHJ5IHtcblx0XHRcdGRvY3VtZW50LmhlYWQuYXBwZW5kKGRtX2Rpdik7XG5cdFx0fVxuXHRcdC8vIGJyb3dzZXIgZGlkbid0IGxpa2UgYWRkaW5nIGNvbnRlbnQgdG8gaGVhZDsgZmFsbGJhY2sgdG8gdXNpbmcgYm9keVxuXHRcdGNhdGNoKGVfYXBwZW5kKSB7XG5cdFx0XHRkb2N1bWVudC5ib2R5LmFwcGVuZChkbV9kaXYpO1xuXHRcdH1cblxuXHRcdC8vIHNhdmUgcmVsYXkgZnJhbWUncyBjb250ZW50IHdpbmRvdyAmIGRvY3VtZW50XG5cdFx0ZF93aW5kb3dfcmVsYXkgPSBkbV9pZnJhbWUuY29udGVudFdpbmRvdyE7XG5cdFx0ZF9kb2N1bWVudF9yZWxheSA9IGRtX2lmcmFtZS5jb250ZW50RG9jdW1lbnQhO1xuXG5cdFx0Ly8gYnVpbGQgcmVsYXkgZnJhbWUncyBkb2N1bWVudFxuXHRcdGRfZG9jdW1lbnRfcmVsYXkuYm9keS5hcHBlbmQoZG1fcGF5bG9hZCk7XG5cdFx0ZF9kb2N1bWVudF9yZWxheS5ib2R5LmFwcGVuZChkbV9zY3JpcHQpO1xuXG5cdFx0Ly8gdmVyYm9zZVxuXHRcdGRlYnVnKCdJbmplY3RlZCByZWxheSBpZnJhbWUnKTtcblx0fVxuXG5cblx0Ly8gbGlzdGVuIGZvciBtZXNzYWdlcyBmcm9tIHJlbGF5IGZyYW1lJ3MgbWFpbiB3b3JsZFxuXHRkX3dpbmRvd19yZWxheS5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgKGRfZXZlbnQpID0+IHtcblx0XHQvLyB2ZXJib3NlXG5cdFx0ZGVidWcoYE9ic2VydmVkIHJlbGF5IHdpbmRvdyBtZXNzYWdlICVvYCwgZF9ldmVudCk7XG5cblx0XHQvLyBldmVudCBvcmlnaW5hdGVzIGZyb20gdHJ1c3RlZCBhY3Rpb25cblx0XHRpZighZF9ldmVudC5pc1RydXN0ZWQpIHtcblx0XHRcdGNvbnNvbGUud2FybignSWdub3JlZCB1bnRydXN0ZWQgZXZlbnQgJW8nLCBkX2V2ZW50KTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBvbmx5IGFjY2VwdCBtZXNzYWdlcyBzZW50IHRvIGl0c2VsZlxuXHRcdGlmKGRfZXZlbnQuc291cmNlICE9PSBkX2V2ZW50LnRhcmdldCkge1xuXHRcdFx0Y29uc29sZS53YXJuKCdJZ25vcmVkIGNyb3NzLXdpbmRvdyBtZXNzYWdlICVvJywgZF9ldmVudCk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gcmVmIG1lc3NhZ2Ugc2VuZGVyXG5cdFx0Y29uc3QgZHdfc2VuZGVyID0gZF9ldmVudC50YXJnZXQgYXMgV2luZG93O1xuXG5cdFx0Ly8gdmFsaWRhdGUgbWVzc2FnZSBzZW5kZXJcblx0XHRpZih3aW5kb3cub3JpZ2luICE9PSBkX2V2ZW50Lm9yaWdpbiB8fCB3aW5kb3cgIT09IGR3X3NlbmRlci5wYXJlbnQgfHwgJ2Fib3V0OmJsYW5rJyAhPT0gZHdfc2VuZGVyLmxvY2F0aW9uLmhyZWYpIHtcblx0XHRcdGNvbnNvbGUud2FybignSWdub3JlZCBtZXNzYWdlIGZyb20gM3JkIHBhcnR5ICVvJywgZF9ldmVudCk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gdmFsaWRhdGUgbWVzc2FnZSBkYXRhXG5cdFx0Y29uc3QgZ19kYXRhID0gZF9ldmVudC5kYXRhO1xuXHRcdGlmKCdvYmplY3QnICE9PSB0eXBlb2YgZ19kYXRhIHx8ICdzdHJpbmcnICE9PSB0eXBlb2YgZ19kYXRhLnR5cGUpIHtcblx0XHRcdGRlYnVnKCdJZ25vcmVkIGludmFsaWQgbWVzc2FnZSBkYXRhICVvJywgZ19kYXRhKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBkZXN0cnVjdHVyZSBtZXNzYWdlIGRhdGFcblx0XHRjb25zdCB7XG5cdFx0XHR0eXBlOiBzaV90eXBlLFxuXHRcdFx0YXV0aDogc19hdXRoLFxuXHRcdH0gPSBnX2RhdGE7XG5cblx0XHQvLyByZWYgaGFuZGxlclxuXHRcdGNvbnN0IGZfaGFuZGxlciA9IGhfaGFuZGxlcnNfd2luZG93W3NpX3R5cGVdO1xuXHRcdGlmKCFmX2hhbmRsZXIpIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoYFJlY2VpdmVkIG1lc3NhZ2UgaGF2aW5nIGFuIHVucmVnaXN0ZXJlZCB0eXBlIFwiJHtzaV90eXBlfVwiYCk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gbWlzc2luZyBhdXRoXG5cdFx0aWYoJ3N0cmluZycgIT09IHR5cGVvZiBzX2F1dGgpIHtcblx0XHRcdGRlYnVnKCdJZ25vcmVkIG1lc3NhZ2UgbWlzc2luZyBhdXRoIGRhdGEgJW8nLCBnX2RhdGEpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIHByb2R1Y2UgY29ycmVjdCBzaWduYXR1cmVcblx0XHRjb25zdCBzX3NpZ19tc2cgPSBKU09OLnN0cmluZ2lmeShobWFjU0hBMjU2KEpTT04uc3RyaW5naWZ5KHsuLi5nX2RhdGEsIGF1dGg6dm9pZCAwfSksIHNoX3Nlc3Npb24pKTtcblxuXHRcdC8vIGF1dGhlbnRpY2F0ZVxuXHRcdGlmKHNfc2lnX21zZyAhPT0gZ19kYXRhLmF1dGgpIHtcblx0XHRcdHJldHVybiBhYm9ydCgnUmVsYXkgZnJhbWUgc2VudCBpbnZhbGlkIGF1dGggc2lnbmF0dXJlJyk7XG5cdFx0fVxuXG5cdFx0Ly8gaGFuZGxlciBpcyByZWdpc3RlcmVkOyBleGVjdXRlIGl0XG5cdFx0ZGVidWcoYFJlY2VpdmVkIG1lc3NhZ2UgaGF2aW5nIHJlZ2lzdGVyZWQgdHlwZSAlb2AsIGRfZXZlbnQuZGF0YSk7XG5cdFx0dm9pZCBmX2hhbmRsZXIobnVsbCwgZF9ldmVudC5wb3J0cyk7XG5cdH0pO1xufVxuIiwiaW1wb3J0IHR5cGUge1xuXHRIb3N0VG9SYXRpZmllcixcbn0gZnJvbSBcIi4vbWVzc2FnZXNcIjtcbmltcG9ydCB0eXBlIHsgVm9jYWIgfSBmcm9tIFwiIy9tZXRhL3ZvY2FiXCI7XG5cbi8qKlxuICogVGhlIHJhdGlmaWVyJ3Mgc29sZSBwdXJwb3NlIGlzIHRvIHZlcmlmeSB0aGF0IHRoZSBkZWNsYXJlZCBgd2luZG93LnN0YXJzaGVsbGAgZ2xvYmFsIGlzIGF1dGhlbnRpYyBhbmQgbm90IHNwb29mZWQuXG4gKiBUaGlzIGNvbnRlbnQgc2NyaXB0IGlzIGV4ZWN1dGVkIGEgcnVudGltZSBieSB0aGUgc2VydmljZSwgc28gdGhlIG1vZHVsZSBleHBvcnRzIGEgZnVuY3Rpb24gdGhhdCBhY2NlcHRzIGFuIGFyZ3VtZW50LlxuICogQHBhcmFtIC0gYSB7QGxpbmsgU2VydmljZVRvSWNzLlNlc3Npb25LZXlzfSBvYmplY3RcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oe1xuXHRzZXNzaW9uOiBzaF9zZXNzaW9uLFxufSkge1xuXHQvLyB2ZXJib3NlXG5cdGNvbnN0IGRlYnVnID0gKHM6IHN0cmluZywgLi4uYV9hcmdzOiBhbnlbXSkgPT4gY29uc29sZS5kZWJ1ZyhgU3RhclNoZWxsLm1jcy1yYXRpZmllcjogJHtzfWAsIC4uLmFfYXJncyk7XG5cdGRlYnVnKGBMYXVuY2hlZCBvbiA8JHtsb2NhdGlvbi5ocmVmfT5gKTtcblxuXHRjb25zdCBobWFjU0hBMjU2ID0gaW5saW5lX3JlcXVpcmUoJ2NyeXB0by1qcy9obWFjLXNoYTI1NicpO1xuXG5cdC8vIHN1YmNsYXNzIEVycm9yIHRvIGJlIGFibGUgdG8gcmVjb2duaXplIG9iamVjdCBvcmlnaW5cblx0Y2xhc3MgU2VjdXJpdHlFcnJvciBleHRlbmRzIEVycm9yIHt9XG5cblxuXHQvLyBmbGFnIGluIGNhc2Ugc2VjdXJpdHkgdmlvbGF0aW9uIG9jY3Vyc1xuXHRsZXQgYl9hYm9ydGVkID0gZmFsc2U7XG5cblx0LyoqXG5cdCAqIEFib3J0IHBhZ2UgY29ubmVjdGlvbiBhbmQgcmVwb3J0IGEgc2VjdXJpdHkgZXJyb3Jcblx0ICovXG5cdGZ1bmN0aW9uIGFib3J0KHNfcmVhc29uOiBzdHJpbmcpIHtcblx0XHQvLyBzZXQgYWJvcnQgZmxhZ1xuXHRcdGJfYWJvcnRlZCA9IHRydWU7XG5cblx0XHQvLyBub3RpZnkgZXh0ZW5zaW9uXG5cdFx0d2luZG93LnBvc3RNZXNzYWdlKHtcblx0XHRcdHR5cGU6ICdzMnI6YWJvcnQnLFxuXHRcdFx0dmFsdWU6IHtcblx0XHRcdFx0cmVhc29uOiAnJytzX3JlYXNvbixcblx0XHRcdFx0c2lnbmF0dXJlOiBobWFjU0hBMjU2KCcnK3NfcmVhc29uLCBzaF9zZXNzaW9uKSxcblx0XHRcdH0sXG5cdFx0fSk7XG5cblx0XHQvLyBqdW1wIG91dCBvZiBjYWxsIHN0YWNrXG5cdFx0dGhyb3cgbmV3IFNlY3VyaXR5RXJyb3IoYFN0YXJTaGVsbCB0aHJldyBhIHNlY3VyaXR5IGVycm9yOiBcIiR7c19yZWFzb259XCJgKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBTaWxlbnRseSBhYm9ydCB0aGUgY29ubmVjdGlvbiB3aXRob3V0IGNvbW11bmljYXRpbmcgdG8gdGhlIGV4dGVuc2lvbiBvciBhbnl0aGluZyBlbHNlLlxuXHQgKi9cblx0ZnVuY3Rpb24gc2lsZW50X2V4aXQoc19lcnJvcjogc3RyaW5nKTogdm9pZCB7XG5cdFx0Ly8gb25seSBsb2cgdG8gY29uc29sZSBzaW5jZSBhbnlvbmUgY291bGQgaGF2ZSB0cmlnZ2VyZWQgdGhpcyBtZXNzYWdlXG5cdFx0Y29uc29sZS5lcnJvcihzX2Vycm9yKTtcblxuXHRcdGJfYWJvcnRlZCA9IHRydWU7XG5cdH1cblxuXHQvLyBpbiBvcmRlciB0byBwcmV2ZW50IHdlYnNpdGUgZnJvbSBkZXRlY3RpbmcgZXh0ZW5zaW9uLCBncmFiIFwiY2xlYW5cIiByZWZlcmVuY2UgdG8gcmVxdWlzaXRlIG5hdGl2ZXNcblx0Ly8gaW4gdGhlb3J5LCBhIG1hbGljaW91cyBjby1pbnN0YWxsZWQgZXh0ZW5zaW9uIGNvdWxkIGF0dGFjayBnbG9iYWwgc2NvcGUgdG8gcnVpbiB0aGlzIHByaXZhY3kgZmVhdHVyZVxuXHRjb25zdCB7XG5cdFx0YWRkRXZlbnRMaXN0ZW5lcjogZl9hZGRfZXZlbnRfbGlzdGVuZXIsXG5cdFx0UmVmbGVjdDogZF9yZWZsZWN0LFxuXHRcdFJlZmxlY3Q6IHtcblx0XHRcdGdldE93blByb3BlcnR5RGVzY3JpcHRvcjogZl9nZXRfb3duX3Byb3BlcnR5X2Rlc2NyaXB0b3IsXG5cdFx0XHRnZXRQcm90b3R5cGVPZjogZl9nZXRfcHJvdG90eXBlX29mLFxuXHRcdH0sXG5cdH0gPSB3aW5kb3c7XG5cblx0LyoqXG5cdCAqIFVzZSBuYXRpdmUgUmVmbGVjdCBmdW5jdGlvbnMgdG8gbG9jYXRlIHByb3BlcnR5IGRlc2NyaXB0b3Jcblx0ICovXG5cdCBmdW5jdGlvbiBsb2NhdGVfZGVzY3JpcHRvcih3X3JlZjogdW5rbm93biwgc2lfcHJvcDogc3RyaW5nLCBhX2xpbmVhZ2U6dW5rbm93bltdPVtdKTogbnVsbCB8IFByb3BlcnR5RGVzY3JpcHRvciB7XG5cdFx0dHJ5IHtcblx0XHRcdC8vIGdldCBkZXNjcmlwdG9yXG5cdFx0XHRjb25zdCBnX2Rlc2NyaXB0b3IgPSBmX2dldF9vd25fcHJvcGVydHlfZGVzY3JpcHRvci5jYWxsKGRfcmVmbGVjdCwgd19yZWYsIHNpX3Byb3ApO1xuXG5cdFx0XHQvLyBub3QgZGVmaW5lZFxuXHRcdFx0aWYoIWdfZGVzY3JpcHRvcikge1xuXHRcdFx0XHQvLyBhZGQgdGhpcyB0byBpZ25vcmUgc2V0XG5cdFx0XHRcdGFfbGluZWFnZS5wdXNoKHdfcmVmKVxuXG5cdFx0XHRcdC8vIGdldCBwYXJlbnRcblx0XHRcdFx0Y29uc3Qgd19wYXJlbnQgPSBmX2dldF9wcm90b3R5cGVfb2YuY2FsbChkX3JlZmxlY3QsIHdfcmVmKTtcblxuXHRcdFx0XHQvLyBlbmQgb2YgY2hhaW5cblx0XHRcdFx0aWYoIXdfcGFyZW50KSByZXR1cm4gbnVsbDtcblxuXHRcdFx0XHQvLyBibG9jayBwcm90b3R5cGUgY2hhaW4gY3ljbGVzXG5cdFx0XHRcdGlmKGFfbGluZWFnZS5pbmNsdWRlcyh3X3BhcmVudCkpIHJldHVybiBudWxsO1xuXG5cdFx0XHRcdC8vIHRyeSBwYXJlbnRcblx0XHRcdFx0cmV0dXJuIGxvY2F0ZV9kZXNjcmlwdG9yKHdfcGFyZW50LCBzaV9wcm9wLCBhX2xpbmVhZ2UpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyByZXR1cm4gZGVzY3JpcHRvclxuXHRcdFx0cmV0dXJuIGdfZGVzY3JpcHRvcjtcblx0XHR9XG5cdFx0Y2F0Y2goZV9nZXQpIHtcblx0XHRcdHJldHVybiBudWxsO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBVc2UgbmF0aXZlIFJlZmxlY3QgZnVuY3Rpb25zIHRvIGluc3BlY3QgcHJvcGVydHkgd2l0aG91dCB0cmlwcGluZyBwcm94aWVzL2FjY2Vzc29yc1xuXHQgKi9cblx0IGZ1bmN0aW9uIGFjY2Vzc19zaWxlbnRseSh3X3JlZjogYW55LCBzaV9wcm9wOiBzdHJpbmcsIGJfYWNjZXNzb3JzPWZhbHNlKTogdW5rbm93biB7XG5cdFx0dHJ5IHtcblx0XHRcdC8vIHRyeSBsb2NhdGUgZGVzY3JpcHRvclxuXHRcdFx0Y29uc3QgZ19kZXNjcmlwdG9yID0gbG9jYXRlX2Rlc2NyaXB0b3Iod19yZWYsIHNpX3Byb3ApO1xuXG5cdFx0XHQvLyBubyBwcm9wZXJ0eVxuXHRcdFx0aWYoIWdfZGVzY3JpcHRvcikgcmV0dXJuIG51bGw7XG5cblx0XHRcdC8vIHZhbHVlIGlzIG5vdCBzZXRcblx0XHRcdGlmKCEoJ3ZhbHVlJyBpbiBnX2Rlc2NyaXB0b3IpKSB7XG5cdFx0XHRcdC8vIGZhbGxiYWNrIHRvIHVzaW5nIGFjY2Vzc29ycyAobm90IGlkZWFsLCBidXQgbmVjZXNzYXJ5KVxuXHRcdFx0XHRpZihiX2FjY2Vzc29ycykgcmV0dXJuIHdfcmVmW3NpX3Byb3BdO1xuXG5cdFx0XHRcdC8vIGRvIG5vdCB0b3VjaCBhY2Nlc3NvcnNcblx0XHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0XHR9XG5cblx0XHRcdC8vIG9rYXksIHJldHVybiB2YWx1ZVxuXHRcdFx0cmV0dXJuIGdfZGVzY3JpcHRvci52YWx1ZTtcblx0XHR9XG5cdFx0Y2F0Y2goZV9nZXQpIHtcblx0XHRcdHJldHVybiBudWxsO1xuXHRcdH1cblx0fVxuXG5cdC8vIHByZXAgaGFuZGxlciBtYXBcblx0Y29uc3QgaF9oYW5kbGVyc193aW5kb3c6IFZvY2FiLkhhbmRsZXJzPEhvc3RUb1JhdGlmaWVyLldpbmRvd1ZvY2FiPiA9IHtcblx0XHQvLyByZXF1ZXN0IHRvIHJhdGlmeSBnbG9iYWwgZnJvbSBpbnBhZ2UgY29udGVudCBzY3JpcHRcblx0XHRyYXRpZnlHbG9iYWwoKSB7XG5cdFx0XHQvLyBkaWRuJ3QgcmVjZWl2ZSBzaWduaW5nIGtleVxuXHRcdFx0aWYoIXNoX3Nlc3Npb24pIHtcblx0XHRcdFx0cmV0dXJuIHNpbGVudF9leGl0KCdTdGFyU2hlbGwgaXMgcmVmdXNpbmcgdG8gcmF0aWZ5IGdsb2JhbCBzaW5jZSBpdCBuZXZlciByZWNlaXZlZCBhIHNpZ25pbmcga2V5IGZyb20gdGhlIGV4dGVuc2lvbi4nKTtcblx0XHRcdH1cblx0XHRcdC8vIG5vdCBkZWZpbmVkXG5cdFx0XHRlbHNlIGlmKCFsb2NhdGVfZGVzY3JpcHRvcih3aW5kb3csICdzdGFyc2hlbGwnKSkge1xuXHRcdFx0XHRyZXR1cm4gc2lsZW50X2V4aXQoJ1N0YXJTaGVsbCBmYWlsZWQgdG8gcmF0aWZ5IGdsb2JhbCBzaW5jZSBpdCBpcyBub3QgZGVmaW5lZC4nKTtcblx0XHRcdH1cblx0XHRcblx0XHRcdC8vIGNhcHR1cmUgcmVmZXJlbmNlXG5cdFx0XHRjb25zdCBrX3N0YXJzaGVsbCA9IHdpbmRvdy5zdGFyc2hlbGw7XG5cblx0XHRcdC8vIGludm9rZSBzeW5jaHJvbm91cyB2ZXJpZmljYXRpb24gY2FsbFxuXHRcdFx0bGV0IGZfcmF0aWZ5ID0ga19zdGFyc2hlbGwudmVyaWZ5KChzX3NpZ19hdXRoOiBzdHJpbmcpID0+IHtcblx0XHRcdFx0Ly8gYWxyZWFkeSBhYm9ydGVkXG5cdFx0XHRcdGlmKGJfYWJvcnRlZCkgcmV0dXJuO1xuXG5cdFx0XHRcdC8vIGludmFsaWQgYXV0aCBzaWduYXR1cmU7IGRvIG5vdCBzaWduIGFyYml0cmFyeSBkYXRhXG5cdFx0XHRcdGlmKHNfc2lnX2F1dGggIT09IEpTT04uc3RyaW5naWZ5KGhtYWNTSEEyNTYoJ3N0YXJzaGVsbCcsIHNoX3Nlc3Npb24pKSkge1xuXHRcdFx0XHRcdHJldHVybiBhYm9ydCgnSW52YWxpZCBhdXRoIHNpZ25hdHVyZSBwYXNzZWQgdG8gcmF0aWZpZXInKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIHByb2R1Y2UgdmVyaWZpYWJsZSBzdGFja1xuXHRcdFx0XHRjb25zdCBnX3Byb29mID0ga19zdGFyc2hlbGwudmVyaWZpYWJsZVN0YWNrKCk7XG5cblx0XHRcdFx0Ly8gc2lnbiB0aGUgcHJvb2Zcblx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRwcm9vZjogZ19wcm9vZixcblx0XHRcdFx0XHRzaWduYXR1cmU6IEpTT04uc3RyaW5naWZ5KGhtYWNTSEEyNTYoSlNPTi5zdHJpbmdpZnkoZ19wcm9vZiksIHNoX3Nlc3Npb24pKSxcblx0XHRcdFx0fTtcblx0XHRcdH0pO1xuXG5cdFx0XHQvLyBjb25maXJtIGdsb2JhbCBieSByZWZlcmVuY2Vcblx0XHRcdGZfcmF0aWZ5KGtfc3RhcnNoZWxsKTtcblx0XHR9LFxuXHR9O1xuXG5cdC8vIHN0YXJ0IGxpc3RlbmluZyBmb3IgbWVzc2FnZXNcblx0KHdpbmRvdyBhcyBWb2NhYi5UeXBlZFdpbmRvdzxIb3N0VG9SYXRpZmllci5XaW5kb3dWb2NhYj4pLmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCAoZF9ldmVudCkgPT4ge1xuXHRcdC8vIHZlcmJvc2Vcblx0XHRkZWJ1ZygnT2JzZXJ2ZWQgd2luZG93IG1lc3NhZ2UgJW8nLCBkX2V2ZW50KTtcblxuXHRcdC8vIGFscmVhZHkgYWJvcnRlZDsgc2lsZW50bHkgZXhpdFxuXHRcdGlmKGJfYWJvcnRlZCkgcmV0dXJuO1xuXG5cdFx0Ly8gb3JpZ2luYXRlcyBmcm9tIHNhbWUgZnJhbWVcblx0XHRpZih3aW5kb3cgPT09IGFjY2Vzc19zaWxlbnRseShkX2V2ZW50LCAnc291cmNlJywgdHJ1ZSkpIHtcblx0XHRcdC8vIGFjY2VzcyBldmVudCBkYXRhXG5cdFx0XHRjb25zdCB6X2RhdGEgPSBhY2Nlc3Nfc2lsZW50bHkoZF9ldmVudCwgJ2RhdGEnLCB0cnVlKTtcblxuXHRcdFx0Ly8gZGF0YSBpdGVtIGNvbmZvcm1zXG5cdFx0XHRsZXQgc2lfdHlwZTtcblx0XHRcdGlmKHpfZGF0YSAmJiAnb2JqZWN0JyA9PT0gdHlwZW9mIHpfZGF0YSAmJiAnc3RyaW5nJyA9PT0gdHlwZW9mIChzaV90eXBlPWFjY2Vzc19zaWxlbnRseSh6X2RhdGEsICd0eXBlJykpKSB7XG5cdFx0XHRcdC8vIHJlZiBoYW5kbGVyXG5cdFx0XHRcdGNvbnN0IGZfaGFuZGxlciA9IGhfaGFuZGxlcnNfd2luZG93W3NpX3R5cGVdO1xuXG5cdFx0XHRcdC8vIGlnbm9yZSB1bnJlZ2lzdGVyZWQgbWVzc2FnZVxuXHRcdFx0XHRpZighZl9oYW5kbGVyKSByZXR1cm47XG5cblx0XHRcdFx0Ly8gaGFuZGxlciBpcyByZWdpc3RlcmVkOyBleGVjdXRlIGl0XG5cdFx0XHRcdGRlYnVnKGBSZWNlaXZlZCByZWxheSBwb3J0IG1lc3NhZ2UgaGF2aW5nIHJlZ2lzdGVyZWQgdHlwZSAlb2AsIGRfZXZlbnQuZGF0YSk7XG5cdFx0XHRcdGZfaGFuZGxlcih6X2RhdGEpO1xuXHRcdFx0fVxuXHRcdH1cblx0fSk7XG59O1xuIiwiXG4vKipcbiAqIExvY2F0ZSBhIHNjcmlwdCBhc3NldCBpbiB0aGUgZXh0ZW5zaW9uIGJ1bmRsZSBieSBpdHMgcGF0aCBwcmVmaXguXG4gKiBAcGFyYW0gc19wYXR0ZXJuIHRoZSBwYXRoIHByZWZpeFxuICogQHJldHVybnMgZnVsbHkgcXVhbGlmaWVkIFVSTCB0byB0aGUgYXNzZXQsIG9yIGBudWxsYCBpZiBub3QgZm91bmRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxvY2F0ZV9zY3JpcHQoc19wYXR0ZXJuOiBzdHJpbmcpOiBudWxsIHwgc3RyaW5nIHtcblx0Y29uc3QgZ19tYW5pZmVzdCA9IGNocm9tZS5ydW50aW1lLmdldE1hbmlmZXN0KCk7XG5cblx0Ly8gZWFjaCBjb250ZW50IHNjcmlwdCBlbnRyeVxuXHRmb3IoY29uc3QgZ19zY3JpcHQgb2YgZ19tYW5pZmVzdC5jb250ZW50X3NjcmlwdHMgfHwgW10pIHtcblx0XHRmb3IoY29uc3Qgc3Jfc2NyaXB0IG9mIGdfc2NyaXB0LmpzID8/IFtdKSB7XG5cdFx0XHRpZihzcl9zY3JpcHQuc3RhcnRzV2l0aChzX3BhdHRlcm4pKSB7XG5cdFx0XHRcdHJldHVybiBzcl9zY3JpcHQ7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Ly8gZWFjaCB3ZWIgYWNjZXNzaWJsZSByZXNvdXJjZVxuXHRmb3IoY29uc3Qgel9yZXNvdXJjZSBvZiBnX21hbmlmZXN0LndlYl9hY2Nlc3NpYmxlX3Jlc291cmNlcyB8fCBbXSkge1xuXHRcdC8vIGluIG1hbmlmZXN0IHYyXG5cdFx0aWYoJ3N0cmluZycgPT09IHR5cGVvZiB6X3Jlc291cmNlKSB7XG5cdFx0XHRpZih6X3Jlc291cmNlLnN0YXJ0c1dpdGgoc19wYXR0ZXJuKSkge1xuXHRcdFx0XHRyZXR1cm4gel9yZXNvdXJjZTtcblx0XHRcdH1cblx0XHR9XG5cdFx0Ly8gaW4gbWFuaWZlc3QgdjNcblx0XHRlbHNlIHtcblx0XHRcdGZvcihjb25zdCBzcl9zY3JpcHQgb2Ygel9yZXNvdXJjZS5yZXNvdXJjZXMpIHtcblx0XHRcdFx0aWYoc3Jfc2NyaXB0LnN0YXJ0c1dpdGgoc19wYXR0ZXJuKSkge1xuXHRcdFx0XHRcdHJldHVybiBzcl9zY3JpcHQ7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gbnVsbDtcbn1cbiIsImltcG9ydCB0eXBlIGJyb3dzZXIgZnJvbSAnd2ViZXh0ZW5zaW9uLXBvbHlmaWxsJztcbmltcG9ydCB0eXBlIHsgRGljdCwgSnNvbk9iamVjdCB9IGZyb20gJyMvdXRpbC9iZWx0JztcblxuaW1wb3J0IHtcblx0bG9jYXRlX3NjcmlwdCxcbn0gZnJvbSAnLi91dGlscyc7XG5cbmludGVyZmFjZSBTY3JpcHREZWZpbmVyIHtcblx0KGhfb3ZlcnJpZGVzPzogUGFydGlhbDxicm93c2VyLlNjcmlwdGluZy5SZWdpc3RlcmVkQ29udGVudFNjcmlwdD4pOiBicm93c2VyLlNjcmlwdGluZy5SZWdpc3RlcmVkQ29udGVudFNjcmlwdDtcbn1cblxuY29uc3QgQV9NQVRDSF9BTEwgPSBbXG5cdCdmaWxlOi8vKi8qJyxcblx0J2h0dHA6Ly8qLyonLFxuXHQnaHR0cHM6Ly8qLyonLFxuXTtcblxuY29uc3QgR19TQ1JJUFRfQkFTSUMgPSB7XG5cdG1hdGNoZXM6IEFfTUFUQ0hfQUxMLFxuXHRydW5BdDogJ2RvY3VtZW50X3N0YXJ0Jyxcblx0cGVyc2lzdEFjcm9zc1Nlc3Npb25zOiB0cnVlLFxuXHRhbGxGcmFtZXM6IHRydWUsXG5cdHdvcmxkOiAnTUFJTicsXG59IGFzIGNvbnN0O1xuXG5cbmV4cG9ydCBjb25zdCBIX0NPTlRFTlRfU0NSSVBUX0RFRlM6IERpY3Q8U2NyaXB0RGVmaW5lcj4gPSB7XG5cdC8vIGlucGFnZV93YWtlcihoX292ZXJyaWRlcykge1xuXHQvLyBcdHJldHVybiB7XG5cdC8vIFx0XHQuLi5HX1NDUklQVF9CQVNJQyxcblx0Ly8gXHRcdGlkOiAnaW5wYWdlX3dha2VyJyxcblx0Ly8gXHRcdGpzOiBbXG5cdC8vIFx0XHRcdGxvY2F0ZV9zY3JpcHQoJ2Fzc2V0cy9zcmMvc2NyaXB0L2lucGFnZS13YWtlcicpLFxuXHQvLyBcdFx0XSxcblx0Ly8gXHRcdC4uLmhfb3ZlcnJpZGVzLFxuXHQvLyBcdH07XG5cdC8vIH0sXG5cblx0Ly8gaW5wYWdlX2lmcmFtZShoX292ZXJyaWRlcykge1xuXHQvLyBcdHJldHVybiB7XG5cdC8vIFx0XHQuLi5HX1NDUklQVF9CQVNJQyxcblx0Ly8gXHRcdGlkOiAnaW5wYWdlX2lmcmFtZScsXG5cdC8vIFx0XHRqczogW1xuXHQvLyBcdFx0XHRsb2NhdGVfc2NyaXB0KCdhc3NldHMvc3JjL3NjcmlwdC9pbnBhZ2UtaWZyYW1lJyksXG5cdC8vIFx0XHRdLFxuXHQvLyBcdFx0Li4uaF9vdmVycmlkZXMsXG5cdC8vIFx0fTtcblx0Ly8gfSxcblxuXHRtY3Nfa2VwbHIoaF9vdmVycmlkZXMpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0Li4uR19TQ1JJUFRfQkFTSUMsXG5cdFx0XHRpZDogJ2tlcGxyX3BvbHlmaWxsJyxcblx0XHRcdGpzOiBbXG5cdFx0XHRcdGxvY2F0ZV9zY3JpcHQoJ2Fzc2V0cy9zcmMvc2NyaXB0L21jcy1rZXBscicpLFxuXHRcdFx0XSxcblx0XHRcdHBlcnNpc3RBY3Jvc3NTZXNzaW9uczogdHJ1ZSxcblx0XHRcdC4uLmhfb3ZlcnJpZGVzLFxuXHRcdH07XG5cdH0sXG59O1xuIiwiaW1wb3J0IHR5cGUgeyBBcHAgfSBmcm9tICcjL21ldGEvYXBwJztcblxuaW1wb3J0IHtcblx0Y3JlYXRlX3N0b3JlX2NsYXNzLFxuXHRXcml0YWJsZVN0b3JlLFxufSBmcm9tICcuL19iYXNlJztcblxuaW1wb3J0IHsgU0lfU1RPUkVfQVBQX1BPTElDSUVTIH0gZnJvbSAnIy9zaGFyZS9jb25zdGFudHMnO1xuXG5cbmV4cG9ydCB0eXBlIEFwcFBvbGljeSA9IHtcblx0YWN0aW9uOiAnYmxvY2snIHwgJ3RydXN0Jztcblx0bWF0Y2hlczogc3RyaW5nO1xuXHRleGNlcHQ6IHN0cmluZztcbn1cblxuZXhwb3J0IHR5cGUgQXBwUG9saWN5UmVzdWx0ID0ge1xuXHRibG9ja2VkOiB0cnVlO1xufSB8IHtcblx0YmxvY2tlZDogZmFsc2U7XG5cblx0Ly8gaW5kaWNhdGVzIHRoYXQgdGhlIHVzZXIgZG9lcyBub3QgbmVlZCBcblx0dHJ1c3RlZDogYm9vbGVhbjtcbn07XG5cbmNvbnN0IEdfQVBQX1BPTElDWV9SRVNVTFRfQkxPQ0tFRDogQXBwUG9saWN5UmVzdWx0ID0ge1xuXHRibG9ja2VkOiB0cnVlLFxufTtcblxuXG5mdW5jdGlvbiBwb2xpY3lfYXBwbGllcyhnX3BvbGljeTogQXBwUG9saWN5LCBnX2FwcDogQXBwWydpbnRlcmZhY2UnXSk6IGJvb2xlYW4ge1xuXHQvLyBjb21waWxlIG1hdGNoIHBhdHRlcm5cblx0bGV0IHJfbWF0Y2hlczogUmVnRXhwO1xuXHR0cnkge1xuXHRcdHJfbWF0Y2hlcyA9IG5ldyBSZWdFeHAoZ19wb2xpY3kubWF0Y2hlcyk7XG5cdH1cblx0Ly8gZmFpbGVkIHRvIHBhcnNlIHBvbGljeVxuXHRjYXRjaChlX3BhcnNlKSB7XG5cdFx0Y29uc29sZS5lcnJvcihgRmFpbGVkIHRvIHBhcnNlIHBvbGljeSBtYXRjaCBwYXR0ZXJuIFwiJHtnX3BvbGljeS5tYXRjaGVzfVwiYCk7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0Ly8gcG9saWN5IGFwcGxpZXNcblx0aWYocl9tYXRjaGVzLnRlc3QoZ19hcHAuaG9zdCkpIHtcblx0XHQvLyBwb2xpY3kgaGFzIGFuIGV4Y2VwdCBwYXR0ZXJuXG5cdFx0aWYoZ19wb2xpY3kuZXhjZXB0KSB7XG5cdFx0XHQvLyBjb21waWxlIGV4Y2VwdCBwYXR0ZXJuXG5cdFx0XHRsZXQgcl9leGNlcHQ6IFJlZ0V4cDtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdHJfZXhjZXB0ID0gbmV3IFJlZ0V4cChnX3BvbGljeS5leGNlcHQpO1xuXHRcdFx0fVxuXHRcdFx0Ly8gZmFpbGVkIHRvIHBhcnNlIHBvbGljeVxuXHRcdFx0Y2F0Y2goZV9wYXJzZSkge1xuXHRcdFx0XHRjb25zb2xlLmVycm9yKGBGYWlsZWQgdG8gcGFyc2UgcG9saWN5IG1hdGNoIHBhdHRlcm4gXCIke2dfcG9saWN5LmV4Y2VwdH1cImApO1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdC8vIGV4Y2VwdCBwYXR0ZXJuIG1hdGNoZXM7IHNraXAgcG9saWN5XG5cdFx0XHRpZihyX2V4Y2VwdC50ZXN0KGdfYXBwLmhvc3QpKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvLyBwb2xpY3kgYXBwbGllc1xuXHRyZXR1cm4gdHJ1ZTtcbn1cblxuXG5leHBvcnQgY29uc3QgUG9saWNpZXMgPSBjcmVhdGVfc3RvcmVfY2xhc3Moe1xuXHRzdG9yZTogU0lfU1RPUkVfQVBQX1BPTElDSUVTLFxuXHRjbGFzczogY2xhc3MgUG9saWNpZXNJIGV4dGVuZHMgV3JpdGFibGVTdG9yZTx0eXBlb2YgU0lfU1RPUkVfQVBQX1BPTElDSUVTLCBBcHBQb2xpY3k+IHtcblx0XHRzdGF0aWMgZm9yQXBwKGdfYXBwOiBBcHBbJ2ludGVyZmFjZSddKTogUHJvbWlzZTxBcHBQb2xpY3lSZXN1bHQ+IHtcblx0XHRcdHJldHVybiBQb2xpY2llcy5vcGVuKGtzX3BvbGljaWVzID0+IGtzX3BvbGljaWVzLmZvckFwcChnX2FwcCkpO1xuXHRcdH1cblxuXHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvcmVxdWlyZS1hd2FpdFxuXHRcdGZvckFwcChnX2FwcDogQXBwWydpbnRlcmZhY2UnXSk6IEFwcFBvbGljeVJlc3VsdCB7XG5cdFx0XHQvLyBwcmVwIHRydXN0ZWQgZmxhZ1xuXHRcdFx0bGV0IGJfdHJ1c3RlZCA9IGZhbHNlO1xuXG5cdFx0XHQvLyBzdGVwIHRocnUgZWFjaCBocSBwb2xpY3lcblx0XHRcdGZvcihjb25zdCBnX3BvbGljeSBvZiB0aGlzLl93X2NhY2hlWydocSddKSB7XG5cdFx0XHRcdC8vIHBvbGljeSBhcHBsaWVzXG5cdFx0XHRcdGlmKHBvbGljeV9hcHBsaWVzKGdfcG9saWN5LCBnX2FwcCkpIHtcblx0XHRcdFx0XHQvLyBibG9ja2VkXG5cdFx0XHRcdFx0aWYoJ2Jsb2NrJyA9PT0gZ19wb2xpY3kuYWN0aW9uKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gR19BUFBfUE9MSUNZX1JFU1VMVF9CTE9DS0VEO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHQvLyB1bmtub3duXG5cdFx0XHRcdFx0ZWxzZSB7XG5cdFx0XHRcdFx0XHRjb25zb2xlLmVycm9yKGBVbmtub3duIGhxIHBvbGljeSBhY3Rpb24gXCIke2dfcG9saWN5LmFjdGlvbn1cImApO1xuXHRcdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIHN0ZXAgdGhydSBlYWNoIHVzZXIgcG9saWN5XG5cdFx0XHRmb3IoY29uc3QgZ19wb2xpY3kgb2YgdGhpcy5fd19jYWNoZVsndXNlciddKSB7XG5cdFx0XHRcdC8vIHBvbGljeSBhcHBsaWVzXG5cdFx0XHRcdGlmKHBvbGljeV9hcHBsaWVzKGdfcG9saWN5LCBnX2FwcCkpIHtcblx0XHRcdFx0XHQvLyBibG9ja2VkXG5cdFx0XHRcdFx0aWYoJ2Jsb2NrJyA9PT0gZ19wb2xpY3kuYWN0aW9uKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gR19BUFBfUE9MSUNZX1JFU1VMVF9CTE9DS0VEO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHQvLyB0cnVzdGVkIG9ubHkgYWxsb3dlZCBmcm9tIHVzZXJcblx0XHRcdFx0XHRlbHNlIGlmKCd0cnVzdCcgPT09IGdfcG9saWN5LmFjdGlvbikge1xuXHRcdFx0XHRcdFx0Yl90cnVzdGVkID0gdHJ1ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Ly8gdW5rbm93blxuXHRcdFx0XHRcdGVsc2Uge1xuXHRcdFx0XHRcdFx0Y29uc29sZS5lcnJvcihgVW5rbm93biBwb2xpY3kgYWN0aW9uIFwiJHtnX3BvbGljeS5hY3Rpb259XCJgKTtcblx0XHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBhbGxvd2VkXG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRibG9ja2VkOiBmYWxzZSxcblx0XHRcdFx0dHJ1c3RlZDogYl90cnVzdGVkLFxuXHRcdFx0fTtcblx0XHR9XG5cdH0sXG59KTtcbiIsImV4cG9ydCBjb25zdCBOQl9NQVhfTUVTU0FHRSA9IDIgKiAxMDI0ICogMTAyNDsgIC8vIDIgTWlCIG1heGltdW1cblxuZXhwb3J0IGNvbnN0IE5fUFhfV0lEVEhfUE9QVVAgPSAzNjA7XG5leHBvcnQgY29uc3QgTl9QWF9IRUlHSFRfUE9QVVAgPSA2MDA7XG5cbmV4cG9ydCBjb25zdCBBX0NIQUlOX0ZBTUlMSUVTID0gW1xuXHQnY29zbW9zJyxcbl07XG5cbmV4cG9ydCBjb25zdCBBX0NIQUlOX0NBVEVHT1JJRVMgPSBbXG5cdCdtYWlubmV0Jyxcblx0J3Rlc3RuZXQnLFxuXTtcblxuLy8gY2hhaW4gaWQgcGF0dGVyblxuZXhwb3J0IGNvbnN0IFJfQ0hBSU5fSUQgPSAvXlthLXowLTldW2EtejAtOS1dezIsNjR9JC87XG5cbi8vIGNoYWluIG5hbWUgcGF0dGVyblxuZXhwb3J0IGNvbnN0IFJfQ0hBSU5fTkFNRSA9IC9eW1xccHtMfVxccHtTfV0oXFxwe1pzfT9bXFxwe0x9XFxwe059XFxwe1N9Ll86Ly1dKSskL3U7XG4iLCJpbXBvcnQge1xuXHROX1BYX1dJRFRIX1BPUFVQLFxuXHROX1BYX0hFSUdIVF9QT1BVUCxcbn0gZnJvbSAnLi9jb25zdGFudHMnO1xuaW1wb3J0IHR5cGUgeyBJbnRyYUV4dCB9IGZyb20gJy4vbWVzc2FnZXMnO1xuaW1wb3J0IHR5cGUgeyBWb2NhYiB9IGZyb20gJyMvbWV0YS92b2NhYic7XG5pbXBvcnQgdHlwZSB7IERpY3QsIEpzb25PYmplY3QgfSBmcm9tICcjL3V0aWwvYmVsdCc7XG5pbXBvcnQgeyBzZXNzaW9uX3N0b3JhZ2VfZ2V0LCBzZXNzaW9uX3N0b3JhZ2VfcmVtb3ZlIH0gZnJvbSAnIy9jcnlwdG8vdmF1bHQnO1xuaW1wb3J0IHsgWFRfU0VDT05EUyB9IGZyb20gJyMvc2hhcmUvY29uc3RhbnRzJztcbmltcG9ydCB7IG9uY2Vfc3RvcmFnZV9jaGFuZ2VzIH0gZnJvbSAnLi9zZXJ2aWNlJztcblxuXG50eXBlIEZsb3cgPSBWb2NhYi5NZXNzYWdlPEludHJhRXh0LkZsb3dWb2NhYj47XG5cbmV4cG9ydCBpbnRlcmZhY2UgUHJvbXB0Q29uZmlnIGV4dGVuZHMgSnNvbk9iamVjdCB7XG5cdGZsb3c6IEZsb3c7XG59XG5cbnR5cGUgRmxvd0hhbmRsZSA9IHtcblx0d2luZG93OiBjaHJvbWUud2luZG93cy5XaW5kb3c7XG5cdHRhYjogY2hyb21lLnRhYnMuVGFiO1xufTtcblxuaW50ZXJmYWNlIFNjcmVlbkluZm8ge1xuXHR3aWR0aDogbnVtYmVyO1xuXHRoZWlnaHQ6IG51bWJlcjtcblx0YXZhaWxXaWR0aDogbnVtYmVyO1xuXHRhdmFpbEhlaWdodDogbnVtYmVyO1xuXHRvcmllbnRhdGlvbjogSnNvbk9iamVjdDtcblx0ZGV2aWNlUGl4ZWxSYXRpbzogbnVtYmVyLFxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZmxvd19nZW5lcmljKGhfcGFyYW1zOiBEaWN0KTogUHJvbWlzZTxGbG93SGFuZGxlPiB7XG5cdC8vIGdldCBmbG93IFVSTFxuXHRjb25zdCBwX2Zsb3cgPSBjaHJvbWUucnVudGltZS5nZXRVUkwoJ3NyYy9lbnRyeS9mbG93Lmh0bWwnKTtcblxuXHQvLyBpbmRpY2F0ZSB2aWEgcXVlcnkgcGFyYW1zIG1ldGhvZCBvZiBjb21tdW5pY2F0aW9uXG5cdGNvbnN0IHBfY29ubmVjdCA9IHBfZmxvdysnPycrbmV3IFVSTFNlYXJjaFBhcmFtcyhoX3BhcmFtcykudG9TdHJpbmcoKTtcblxuXHQvLyBmZXRjaCBkaXNwbGF5cyBhbmQgc2NyZWVuIGluZm9cblx0Y29uc3QgW1xuXHRcdGFfZGlzcGxheXMsXG5cdFx0Z19zY3JlZW5faW5mbyxcblx0XSA9IGF3YWl0IFByb21pc2UuYWxsKFtcblx0XHRjaHJvbWUuc3lzdGVtLmRpc3BsYXkuZ2V0SW5mbygpLFxuXG5cdFx0KGFzeW5jKCk6IFByb21pc2U8U2NyZWVuSW5mbyB8IHVuZGVmaW5lZD4gPT4ge1xuXHRcdFx0Ly8gY3JlYXRlIHBvcHVwIHRvIGRldGVybWluZSBzY3JlZW4gZGltZW5zaW9uc1xuXHRcdFx0Y29uc3QgZ19pbmZvID0gKGF3YWl0IGNocm9tZS5zdG9yYWdlLnNlc3Npb24uZ2V0KFsnZGlzcGxheV9pbmZvJ10pKT8uZGlzcGxheV9pbmZvO1xuXHRcdFx0aWYoZ19pbmZvKSByZXR1cm4gZ19pbmZvO1xuXG5cdFx0XHR2b2lkIGNocm9tZS53aW5kb3dzLmNyZWF0ZSh7XG5cdFx0XHRcdHR5cGU6ICdwb3B1cCcsXG5cdFx0XHRcdHVybDogcF9mbG93Kyc/JytuZXcgVVJMU2VhcmNoUGFyYW1zKHtoZWFkbGVzczonaW5mbyd9KS50b1N0cmluZygpLFxuXHRcdFx0XHRmb2N1c2VkOiB0cnVlLFxuXHRcdFx0XHR3aWR0aDogTl9QWF9XSURUSF9QT1BVUCxcblx0XHRcdFx0aGVpZ2h0OiBOX1BYX0hFSUdIVF9QT1BVUCxcblx0XHRcdH0pO1xuXG5cdFx0XHR0cnkge1xuXHRcdFx0XHRyZXR1cm4gKGF3YWl0IG9uY2Vfc3RvcmFnZV9jaGFuZ2VzKCdzZXNzaW9uJywgJ2Rpc3BsYXlfaW5mbycsIDUqWFRfU0VDT05EUykpPy5uZXdWYWx1ZTtcblx0XHRcdH1cblx0XHRcdGNhdGNoKGVfdGltZW91dCkge31cblx0XHR9KSgpLFxuXHRdKTtcblxuXHQvLyBjcmVhdGUgZGlzcGxheXMgZGljdFxuXHRjb25zdCBoX2Rpc3BsYXlzID0ge307XG5cdGZvcihjb25zdCBnX2Rpc3BsYXkgb2YgYV9kaXNwbGF5cykge1xuXHRcdGlmKGdfZGlzcGxheS5pc0VuYWJsZWQpIHtcblx0XHRcdGhfZGlzcGxheXNbZ19kaXNwbGF5LmJvdW5kcy53aWR0aCsnOicrZ19kaXNwbGF5LmJvdW5kcy5oZWlnaHRdID0gZ19kaXNwbGF5O1xuXHRcdH1cblx0fVxuXG5cdC8vIHNldCBkaXNwbGF5IHByb3BlcnRpZXNzIHRvIGJlIGNlbnRlciBvZiBzY3JlZW5cblx0bGV0IGdfd2luZG93X3Bvc2l0aW9uID0ge307XG5cdGlmKGdfc2NyZWVuX2luZm8pIHtcblx0XHRjb25zdCBzaV9kaXNwbGF5ID0gZ19zY3JlZW5faW5mby53aWR0aCsnOicrZ19zY3JlZW5faW5mby5oZWlnaHQ7XG5cdFx0Y29uc3QgZ19kaXNwbGF5ID0gaF9kaXNwbGF5c1tzaV9kaXNwbGF5XTtcblx0XHRpZihnX2Rpc3BsYXkpIHtcblx0XHRcdGdfd2luZG93X3Bvc2l0aW9uID0ge1xuXHRcdFx0XHRsZWZ0OiBnX2Rpc3BsYXkuYm91bmRzLmxlZnQgKyBNYXRoLnJvdW5kKChnX3NjcmVlbl9pbmZvLndpZHRoIC8gMikgLSAoTl9QWF9XSURUSF9QT1BVUCAvIDIpKSxcblx0XHRcdFx0dG9wOiBnX2Rpc3BsYXkuYm91bmRzLnRvcCArIE1hdGgucm91bmQoKGdfc2NyZWVuX2luZm8uaGVpZ2h0ICogMC40NSkgLSAoTl9QWF9IRUlHSFRfUE9QVVAgLyAyKSksXG5cdFx0XHR9O1xuXHRcdH1cblx0fVxuXG5cdC8vIGNyZWF0ZSB3aW5kb3dcblx0Y29uc3QgZ193aW5kb3cgPSBhd2FpdCBjaHJvbWUud2luZG93cy5jcmVhdGUoe1xuXHRcdHR5cGU6ICdwb3B1cCcsXG5cdFx0dXJsOiBwX2Nvbm5lY3QsXG5cdFx0Zm9jdXNlZDogdHJ1ZSxcblx0XHR3aWR0aDogTl9QWF9XSURUSF9QT1BVUCxcblx0XHRoZWlnaHQ6IE5fUFhfSEVJR0hUX1BPUFVQLFxuXHRcdC4uLmdfd2luZG93X3Bvc2l0aW9uLFxuXHR9KTtcblxuXHQvLyB3aW5kb3cgd2FzIG5vdCBjcmVhdGVkXG5cdGlmKCdudW1iZXInICE9PSB0eXBlb2YgZ193aW5kb3cuaWQpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBjcmVhdGUgcG9wdXAgd2luZG93Jyk7XG5cdH1cblxuXHQvLyBmZXRjaCBpdHMgdmlld1xuXHRjb25zdCBkdl9wb3B1cCA9IGF3YWl0IGNocm9tZS53aW5kb3dzLmdldChnX3dpbmRvdy5pZCwge1xuXHRcdHdpbmRvd1R5cGVzOiBbJ3BvcHVwJ10sXG5cdH0pO1xuXG5cdC8vIG5vIHZpZXdcblx0aWYoIWR2X3BvcHVwKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gbG9jYXRlIHBvcHVwIHdpbmRvdycpO1xuXHR9XG5cblx0Ly8gd2FpdCBmb3IgdGFiIHRvIGxvYWRcblx0Y29uc3QgZHRfY3JlYXRlZDogY2hyb21lLnRhYnMuVGFiID0gYXdhaXQgbmV3IFByb21pc2UoKGZrX2NyZWF0ZWQpID0+IHtcblx0XHQvLyB0YWIgdXBkYXRlIGV2ZW50XG5cdFx0Y2hyb21lLnRhYnMub25VcGRhdGVkLmFkZExpc3RlbmVyKGZ1bmN0aW9uIHRhYl91cGRhdGUoaV90YWIsIGdfaW5mbywgZHRfdXBkYXRlZCkge1xuXHRcdFx0Ly8gaXMgdGhlIHRhcmdldCB0YWJcblx0XHRcdGlmKGdfd2luZG93LmlkID09PSBkdF91cGRhdGVkLndpbmRvd0lkICYmICdudW1iZXInID09PSB0eXBlb2YgaV90YWIpIHtcblx0XHRcdFx0Ly8gbG9hZGluZyBjb21wZWx0ZWRcblx0XHRcdFx0aWYoJ2NvbXBsZXRlJyA9PT0gZ19pbmZvLnN0YXR1cykge1xuXHRcdFx0XHRcdC8vIHJlbW92ZSBsaXN0ZW5lclxuXHRcdFx0XHRcdGNocm9tZS50YWJzLm9uVXBkYXRlZC5yZW1vdmVMaXN0ZW5lcih0YWJfdXBkYXRlKTtcblxuXHRcdFx0XHRcdC8vIHJlc29sdmUgcHJvbWlzZVxuXHRcdFx0XHRcdGZrX2NyZWF0ZWQoZHRfdXBkYXRlZCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9KTtcblx0fSk7XG5cblx0cmV0dXJuIHtcblx0XHR3aW5kb3c6IGdfd2luZG93LFxuXHRcdHRhYjogZHRfY3JlYXRlZCxcblx0fTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGZsb3dfYnJvYWRjYXN0KGdjX3Byb21wdDogUHJvbXB0Q29uZmlnLCBzaV9yZXE9JycpOiBQcm9taXNlPGJvb2xlYW4+IHtcblx0Ly8gbmFtZSB0byB1c2UgZm9yIHByaXZhdGUgYnJvYWRjYXN0IGNoYW5uZWxcblx0Y29uc3Qgc2lfY2hhbm5lbCA9IGBmbG93XyR7Y3J5cHRvLnJhbmRvbVVVSUQoKX1gO1xuXG5cdC8vIGF3YWl0aW5nIGZvciBhIHByZXZpb3VzIGZsb3cgdG8gY29tcGxldGVcblx0Y29uc3Qgc19mbG93ID0gYXdhaXQgc2Vzc2lvbl9zdG9yYWdlX2dldCgnZmxvdycpIHx8ICcnO1xuXHRpZihzX2Zsb3cpIHtcblx0XHQvLyBUT0RPOiBpbXBsZW1lbnRcblx0fVxuXG5cdC8vIGNyZWF0ZSBmbG93IHRhYlxuXHRjb25zdCB7XG5cdFx0d2luZG93OiBnX3dpbmRvdyxcblx0XHR0YWI6IGR0X2Zsb3csXG5cdH0gPSBhd2FpdCBmbG93X2dlbmVyaWMoe1xuXHRcdGNvbW06ICdicm9hZGNhc3QnLFxuXHRcdG5hbWU6IHNpX2NoYW5uZWwsXG5cdH0pO1xuXG5cdC8vIGNvbW11bmljYXRlIHdpdGggcG9wdXAgdXNpbmcgYnJvYWRjYXN0IGNoYW5uZWxcblx0Y29uc3QgZF9icm9hZGNhc3Q6IFZvY2FiLlR5cGVkQnJvYWRjYXN0PEludHJhRXh0LkZsb3dWb2NhYiwgSW50cmFFeHQuRmxvd1Jlc3BvbnNlVm9jYWI+ID0gbmV3IEJyb2FkY2FzdENoYW5uZWwoc2lfY2hhbm5lbCk7XG5cblx0Ly8gZ28gYXN5bmNcblx0cmV0dXJuIG5ldyBQcm9taXNlKChma19yZXNvbHZlKSA9PiB7XG5cdFx0Ly8gd2hlbiByZWFkeSB0byByZXNvbHZlIHRoZSBwb21pc2Vcblx0XHRmdW5jdGlvbiBzaHV0ZG93bihiX2Fuc3dlcjogYm9vbGVhbikge1xuXHRcdFx0Ly8gcmVtb3ZlIHdpbmRvdyBjbG9zZSBsaXN0ZW5lclxuXHRcdFx0Y2hyb21lLndpbmRvd3Mub25SZW1vdmVkLnJlbW92ZUxpc3RlbmVyKGNsb3NlX2xpc3RlbmVyKTtcblxuXHRcdFx0Ly8gcmVtb3ZlIGJyb2FkY2FzdCBsaXN0ZW5lclxuXHRcdFx0ZF9icm9hZGNhc3QucmVtb3ZlRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIG1lc3NhZ2VfbGlzdGVuZXIpO1xuXG5cdFx0XHQvLyBjbGVhciBmbG93XG5cdFx0XHR2b2lkIHNlc3Npb25fc3RvcmFnZV9yZW1vdmUoJ2Zsb3cnKTtcblxuXHRcdFx0Ly8gcmVzb2x2ZSB3aXRoIGFuc3dlclxuXHRcdFx0ZmtfcmVzb2x2ZShiX2Fuc3dlcik7XG5cdFx0fVxuXG5cdFx0Ly8gaGFuZGxlIGluY29taW5nIG1lc3NhZ2VzXG5cdFx0ZnVuY3Rpb24gbWVzc2FnZV9saXN0ZW5lcihkX2V2ZW50KSB7XG5cdFx0XHQvLyBwYXJzZSByZXNwb25zZVxuXHRcdFx0Y29uc3QgZ19tc2cgPSBkX2V2ZW50LmRhdGE7XG5cblx0XHRcdC8vIGZsb3cgY29tcGxldGVkXG5cdFx0XHRpZignY29tcGxldGVGbG93JyA9PT0gZ19tc2cudHlwZSkge1xuXHRcdFx0XHQvLyBraWxsIHRoZSBmbG93IHdpbmRvdyAobm8gbmVlZCB0byB3YWl0IGZvciBpdCB0byByZXNvbHZlKVxuXHRcdFx0XHRjaHJvbWUud2luZG93cy5yZW1vdmUoZ193aW5kb3cuaWQhKTtcblxuXHRcdFx0XHQvLyBzaHV0ZG93biB3aXRoIGFuc3dlclxuXHRcdFx0XHRzaHV0ZG93bihnX21zZy52YWx1ZS5hbnN3ZXIpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIGxpc3RlbiBmb3IgaW5jb21pbmcgbWVzc2FnZXMgb24gYnJvYWRjYXN0IGNoYW5uZWxcblx0XHRkX2Jyb2FkY2FzdC5vbm1lc3NhZ2UgPSBtZXNzYWdlX2xpc3RlbmVyO1xuXG5cdFx0Ly8gaGFuZGxlIHBvcHVwIHdpbmRvdyBiZWluZyBjbG9zZWRcblx0XHRmdW5jdGlvbiBjbG9zZV9saXN0ZW5lcihpX3dpbmRvdykge1xuXHRcdFx0Ly8gdGFyZ2V0IHdpbmRvdzsgc2h1dGRvd24gd2l0aCBlZmZlY3RpdmUgY2FuY2VsIGFuc3dlclxuXHRcdFx0aWYoaV93aW5kb3cgPT09IGdfd2luZG93LmlkISkgc2h1dGRvd24oZmFsc2UpO1xuXHRcdH1cblxuXHRcdC8vIGxpc3RlbiBmb3IgcG9wdXAgd2luZG93IGJlaW5nIGNsb3NlZFxuXHRcdGNocm9tZS53aW5kb3dzLm9uUmVtb3ZlZC5hZGRMaXN0ZW5lcihjbG9zZV9saXN0ZW5lciwge1xuXHRcdFx0d2luZG93VHlwZXM6IFsncG9wdXAnXSxcblx0XHR9KTtcblxuXHRcdC8vIHNlbmQgbWVzc2FnZVxuXHRcdGRfYnJvYWRjYXN0LnBvc3RNZXNzYWdlKGdjX3Byb21wdC5mbG93KTtcblx0fSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBmbG93X3F1ZXJ5KGdjX3Byb21wdDogUHJvbXB0Q29uZmlnKTogUHJvbWlzZTx2b2lkPiB7XG5cdC8vIGNyZWF0ZSBmbG93IHRhYlxuXHRhd2FpdCBmbG93X2dlbmVyaWMoe1xuXHRcdGNvbW06ICdxdWVyeScsXG5cdFx0ZGF0YTogSlNPTi5zdHJpbmdpZnkoZ2NfcHJvbXB0KSxcblx0fSk7XG59XG5cblxuLy8gLyoqXG4vLyAgKiBHZW5lcmF0ZSBhIG5ldyBwcml2YXRlL3NoYXJlZCBzZWNyZXQga2V5IG9mIHRoZSBzcGVjaWZpZWQgc2l6ZSBpbiBieXRlcyAoZGVmYXVsdHMgdG8gNTEyLWJpdCBrZXkpXG4vLyAgKi9cbi8vIGV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZV9rZXkobmJfc2l6ZT02NCk6IHN0cmluZyB7XG4vLyBcdC8vIHByZXAgc3BhY2UgaW4gbWVtb3J5XG4vLyBcdGNvbnN0IGF0dThfc2VjcmV0ID0gbmV3IFVpbnQ4QXJyYXkobmJfc2l6ZSk7XG5cbi8vIFx0Ly8gZmlsbCB3aXRoIGNyeXB0byByYW5kb20gdmFsdWVzXG4vLyBcdGNyeXB0by5nZXRSYW5kb21WYWx1ZXMoYXR1OF9zZWNyZXQpO1xuXG4vLyBcdC8vIGNvbnZlcnQgdG8gaGV4IHN0cmluZ1xuLy8gXHRyZXR1cm4gQXJyYXkuZnJvbShhdHU4X3NlY3JldCkubWFwKHggPT4geC50b1N0cmluZygxNikucGFkU3RhcnQoMiwgJzAnKSkuam9pbignJyk7XG4vLyB9XG5cbi8vIGV4cG9ydCBmdW5jdGlvbiBibG9ja19hcHAoZ19zZW5kZXI6IE1lc3NhZ2VTZW5kZXIsIHNfbXNnOiBzdHJpbmcpIHtcbi8vIFx0Y29uc29sZS53YXJuKGAke3NfbXNnfTsgYmxvY2tlZCByZXF1ZXN0IGZyb20gPCR7Z19zZW5kZXIudXJsfT5gKTtcbi8vIH1cblxuLy8gLy8gbG9jYWxob3N0IHBhdHRlcm5cbi8vIGNvbnN0IFJfTE9DQUxIT1NUID0gL14obG9jYWxob3N0fDEyNy4wLjAuMSkoOlxcZCspPyQvO1xuXG5cbi8vIGV4cG9ydCBuYW1lc3BhY2UgSXNvbW9ycGhpYyB7XG4vLyBcdGV4cG9ydCB0eXBlIE1lc3NhZ2U8PiA9IHtcbi8vIFx0XHRnX3NlbmRlcjogUGljazxjaHJvbWUucnVudGltZS5NZXNzYWdlU2VuZGVyLCAndGFiJyB8ICd1cmwnPjtcblxuLy8gXHR9O1xuLy8gfVxuXG4vLyBleHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVxdWVzdEFkdmVydGlzZW1lbnQoe1xuLy8gXHRnX3NlbmRlcixcbi8vIH06IElzb21vcnBoaWMuTWVzc2FnZSkge1xuLy8gXHQvLyBubyBzZW5kZXI7IHNpbGVudGx5IHJlamVjdFxuLy8gXHRpZighZ19zZW5kZXIudGFiIHx8ICdudW1iZXInICE9PSB0eXBlb2YgZ19zZW5kZXIudGFiLmlkKSB7XG4vLyBcdFx0Y29uc29sZS5lcnJvcihgUmVmdXNpbmcgdG8gYWR2ZXJ0aXNlIHRvIHVua25vd24gc2VuZGVyYCk7XG4vLyBcdFx0cmV0dXJuO1xuLy8gXHR9XG5cbi8vIFx0Ly8gcmVmIHRhYiBpZFxuLy8gXHRjb25zdCBpX3RhYiA9IGdfc2VuZGVyLnRhYi5pZDtcblxuLy8gXHQvLyB1bmtub3duIHNvdXJjZSwgc2lsZW50bHkgcmVqZWN0XG4vLyBcdGlmKCFnX3NlbmRlci51cmwpIHtcbi8vIFx0XHRjb25zb2xlLmRlYnVnKCdTaWxlbnRseSBpZ25vcmluZyBhZHZlcnRpc2VtZW50IHJlcXVlc3QgZnJvbSB1bmtub3duIHNvdXJjZScpO1xuLy8gXHRcdHJldHVybjtcbi8vIFx0fVxuXG4vLyBcdC8vIHBhcnNlIHNlbmRlciB1cmxcbi8vIFx0Y29uc3Qge1xuLy8gXHRcdHByb3RvY29sOiBzX3Byb3RvY29sLFxuLy8gXHRcdGhvc3Q6IHNfaG9zdCxcbi8vIFx0fSA9IG5ldyBVUkwoZ19zZW5kZXIudXJsKTtcblxuLy8gXHQvLyBub3JtYWxpemUgc2NoZW1lXG4vLyBcdGNvbnN0IHNfc2NoZW1lID0gKHNfcHJvdG9jb2wgfHwgJycpLnJlcGxhY2UoLzokLywgJycpO1xuXG4vLyBcdC8vIGNoZWNrIGlmIGFwcCBpcyBsb2NrZWRcbi8vIFx0Y29uc3QgYl91bmxvY2tlZCA9IGF3YWl0IHNlc3Npb25fc3RvcmFnZV9nZXQoJ3VubG9ja2VkJyk7XG4vLyBcdGlmKCFiX3VubG9ja2VkKSB7XG4vLyBcdFx0Ly8gYXNrIHVzZXIgdG8gbG9naW5cbi8vIFx0XHRjb25zdCBiX2ZpbmlzaGVkID0gYXdhaXQgZmxvd19icm9hZGNhc3Qoe1xuLy8gXHRcdFx0Zmxvdzoge1xuLy8gXHRcdFx0XHR0eXBlOiAnbG9naW4nLFxuLy8gXHRcdFx0fSxcbi8vIFx0XHR9KTtcblxuLy8gXHRcdC8vIHVzZXIgY2FuY2VsbGVkOyBkbyBub3QgYWR2ZXJ0aXNlXG4vLyBcdFx0aWYoIWJfZmluaXNoZWQpIHtcbi8vIFx0XHRcdHJldHVybjtcbi8vIFx0XHR9XG4vLyBcdH1cblxuLy8gXHQvLyBvcGVuIHN0b3JhZ2Vcbi8vIFx0Y29uc3Qga19zdG9yYWdlID0gYXdhaXQgRXh0U3RvcmFnZS5vcGVuKCk7XG5cbi8vIFx0Ly8gbm9uLXNlY3VyZSBjb250ZXh0cyBvbmx5IGFsbG93ZWQgYXQgbG9jYWxob3N0XG4vLyBcdGlmKCdodHRwJyA9PT0gc19zY2hlbWUpIHtcbi8vIFx0XHQvLyBub3QgbG9jYWxob3N0XG4vLyBcdFx0aWYoIVJfTE9DQUxIT1NULnRlc3Qoc19ob3N0KSkge1xuLy8gXHRcdFx0cmV0dXJuIGJsb2NrX2FwcChnX3NlbmRlciwgJ05vbi1zZWN1cmUgSFRUUCBjb250ZXh0cyBhcmUgbm90IGFsbG93ZWQgdG8gY29ubmVjdCB0byB3YWxsZXQgZXhjZXB0IGZvciBsb2NhbGhvc3QnKTtcbi8vIFx0XHR9XG4vLyBcdH1cbi8vIFx0Ly8gZmlsZVxuLy8gXHRlbHNlIGlmKCdmaWxlJyA9PT0gc19zY2hlbWUpIHtcbi8vIFx0XHQvLyBjaGVjayBwb2xpY3lcbi8vIFx0XHRpZighKGF3YWl0IGtfc3RvcmFnZS5nZXRTZXR0aW5nKCdhbGxvd19maWxlX3VybHMnKSkpIHtcbi8vIFx0XHRcdHJldHVybiBibG9ja19hcHAoZ19zZW5kZXIsIGBGaWxlIFVSTHMgYXJlIG5vdCBhbGxvd2VkIHRvIGNvbm5lY3QgdG8gd2FsbGV0LCB1bmxlc3MgJ2FsbG93X2ZpbGVfdXJscycgc2V0dGluZyBpcyBlbmFibGVkYCk7XG4vLyBcdFx0fVxuLy8gXHR9XG4vLyBcdC8vIGFueXRoaW5nIGVsc2Vcbi8vIFx0ZWxzZSBpZignaHR0cHMnICE9PSBzX3NjaGVtZSkge1xuLy8gXHRcdHJldHVybiBibG9ja19hcHAoZ19zZW5kZXIsIGBTY2hlbWUgbm90IGFsbG93ZWQgXCIke3Nfc2NoZW1lfVwiYCk7XG4vLyBcdH1cblxuLy8gXHQvLyBjaGVja291dCBhcHBzIHN0b3JlXG4vLyBcdGF3YWl0IGtfc3RvcmFnZS5ib3Jyb3coWydhcHBzJ10sIGFzeW5jKGhfY2hlY2tvdXRzKSA9PiB7XG4vLyBcdFx0Y29uc3Qge1xuLy8gXHRcdFx0YXBwczoga3NfYXBwcyxcbi8vIFx0XHR9ID0gaF9jaGVja291dHM7XG5cbi8vIFx0XHQvLyBsb29rdXAgYXBwIGluIHN0b3JlXG4vLyBcdFx0bGV0IGdfYXBwID0gYXdhaXQga3NfYXBwcy5nZXQoc19ob3N0LCBzX3NjaGVtZSk7XG5cdFxuLy8gXHRcdC8vIGFwcCBpcyBub3QgeWV0IHJlZ2lzdGVyZWQ7IGluaXRpYWxpemVcbi8vIFx0XHRpZighZ19hcHApIHtcbi8vIFx0XHRcdGdfYXBwID0ge1xuLy8gXHRcdFx0XHRzY2hlbWU6IHNfc2NoZW1lLFxuLy8gXHRcdFx0XHRob3N0OiBzX2hvc3QsXG4vLyBcdFx0XHRcdGNvbm5lY3Rpb25zOiB7fSxcbi8vIFx0XHRcdH07XG4vLyBcdFx0fVxuXG4vLyBcdFx0Ly8gbG9va3VwIHBvbGljeSBvbiBhcHBcbi8vIFx0XHRjb25zdCBnX3BvbGljeSA9IGF3YWl0IGtfc3RvcmFnZS5nZXRQb2xpY3lGb3JBcHAoZ19hcHApO1xuXG4vLyBcdFx0Ly8gYSBwb2xpY3kgaW5kaWNhdGVzIHRoaXMgYXBwIGlzIGJsb2NrZWRcbi8vIFx0XHRpZihnX3BvbGljeS5ibG9ja2VkKSB7XG4vLyBcdFx0XHRyZXR1cm4gYmxvY2tfYXBwKGdfc2VuZGVyLCAnQXBwIGNvbm5lY3Rpb24gYmxvY2tlZCBieSBwb2xpY3knKTtcbi8vIFx0XHR9XG5cbi8vIFx0XHQvLyBhcHAgZG9lcyBub3QgaGF2ZSBhbnkgY29ubmVjdGlvbnNcbi8vIFx0XHRpZighT2JqZWN0LmtleXMoZ19hcHAuY29ubmVjdGlvbnMpLmxlbmd0aCkge1xuLy8gXHRcdFx0Ly8gYXBwIGlzIG5vdCB0cnVzdGVkOyByZXF1aXJlcyB1c2VyIGFwcHJvdmFsXG4vLyBcdFx0XHRpZighZ19wb2xpY3kudHJ1c3RlZCkge1xuLy8gXHRcdFx0XHQvLyByZXF1ZXN0IGFwcHJvdmFsIGZyb20gdXNlclxuLy8gXHRcdFx0XHRhd2FpdCBmbG93X2Jyb2FkY2FzdCh7XG4vLyBcdFx0XHRcdFx0Zmxvdzoge1xuLy8gXHRcdFx0XHRcdFx0dHlwZTogJ3JlcXVlc3RBZHZlcnRpc2VtZW50Jyxcbi8vIFx0XHRcdFx0XHRcdHZhbHVlOiB7XG4vLyBcdFx0XHRcdFx0XHRcdHRhYklkOiBpX3RhYixcbi8vIFx0XHRcdFx0XHRcdFx0YXBwOiBnX2FwcCxcbi8vIFx0XHRcdFx0XHRcdH0sXG4vLyBcdFx0XHRcdFx0fSxcbi8vIFx0XHRcdFx0fSk7XG5cbi8vIFx0XHRcdFx0Ly8gdXBkYXRlIHN0b3JlXG4vLyBcdFx0XHRcdGF3YWl0IGtzX2FwcHMucHV0KGdfYXBwKTtcbi8vIFx0XHRcdH1cbi8vIFx0XHR9XG4vLyBcdH0pO1xuXG4vLyBcdC8vIFRPRE86IGNvbnNpZGVyIHdoYXQgd2lsbCBoYXBwZW4gaWYgcHJvbXB0IGNsb3NlcyBidXQgc2VyaWNlIHdvcmtlciBiZWNvbWVzIGluYWN0aXZlXG5cbi8vIFx0Ly8gdmVyYm9zZVxuLy8gXHRjb25zb2xlLmRlYnVnKGBBbGxvd2luZyA8JHtnX3NlbmRlci51cmx9PiB0byByZWNlaXZlIGFkdmVydGlzZW1lbnRgKTtcblxuLy8gXHQvLyBzZWNyZXRzIGZvciB0aGlzIHNlc3Npb25cbi8vIFx0Y29uc3QgZ19zZWNyZXRzOiBTZXJ2aWNlVG9JY3MuU2Vzc2lvbktleXMgPSB7XG4vLyBcdFx0c2Vzc2lvbjogZ2VuZXJhdGVfa2V5KCksXG4vLyBcdH07XG5cbi8vIFx0Ly8gZXhlY3V0ZSBpc29sYXRlZC13b3JsZCBjb250ZW50IHNjcmlwdCAnaG9zdCdcbi8vIFx0Y2hyb21lLnNjcmlwdGluZy5leGVjdXRlU2NyaXB0KHtcbi8vIFx0XHR0YXJnZXQ6IHtcbi8vIFx0XHRcdHRhYklkOiBpX3RhYixcbi8vIFx0XHR9LFxuLy8gXHRcdGZ1bmM6IEljc0hvc3QsXG4vLyBcdFx0YXJnczogW2dfc2VjcmV0c10sXG4vLyBcdFx0d29ybGQ6ICdJU09MQVRFRCcsXG4vLyBcdH0pO1xuXG4vLyBcdC8vIGV4ZWN1dGUgbWFpbi13b3JsZCBjb250ZW50IHNjcmlwdCAncmF0aWZpZXInXG4vLyBcdGNocm9tZS5zY3JpcHRpbmcuZXhlY3V0ZVNjcmlwdCh7XG4vLyBcdFx0dGFyZ2V0OiB7XG4vLyBcdFx0XHR0YWJJZDogaV90YWIsXG4vLyBcdFx0fSxcbi8vIFx0XHRmdW5jOiBNY3NSYXRpZmllcixcbi8vIFx0XHRhcmdzOiBbZ19zZWNyZXRzXSxcbi8vIFx0XHR3b3JsZDogJ01BSU4nLFxuLy8gXHR9KTtcblxuLy8gXHQvLyByZXNwb25kIHRvIGlucGFnZSBjb250ZW50IHNjcmlwdCB3aXRoIHNlc3Npb24gc2VjcmV0c1xuLy8gXHRyZXR1cm4gZ19zZWNyZXRzO1xuLy8gfSIsImltcG9ydCB0eXBlIGJyb3dzZXIgZnJvbSAnd2ViZXh0ZW5zaW9uLXBvbHlmaWxsJztcblxuaW1wb3J0ICogYXMgc2VtdmVyIGZyb20gJ3NlbXZlcic7XG5cbmltcG9ydCB7IERpY3QsIEpzb25PYmplY3QsIEpzb25WYWx1ZSwgb2RlLCBQcm9taXNhYmxlIH0gZnJvbSAnIy91dGlsL2JlbHQnO1xuXG5pbXBvcnQgdHlwZSB7XG5cdEljc1RvU2VydmljZSxcblx0SW50cmFFeHQsXG5cdFNlcnZpY2VUb0ljcyxcbn0gZnJvbSAnLi9tZXNzYWdlcyc7XG5cbmltcG9ydCBJY3NIb3N0IGZyb20gJy4vaWNzLWhvc3QnO1xuaW1wb3J0IE1jc1JhdGlmaWVyIGZyb20gJy4vbWNzLXJhdGlmaWVyJztcblxuaW1wb3J0IHtcblx0SF9DT05URU5UX1NDUklQVF9ERUZTLFxufSBmcm9tICcuL3NjcmlwdHMnO1xuXG5pbXBvcnQgdHlwZSB7IFZvY2FiIH0gZnJvbSAnIy9tZXRhL3ZvY2FiJztcbmltcG9ydCB7IFZhdWx0IH0gZnJvbSAnIy9jcnlwdG8vdmF1bHQnO1xuaW1wb3J0IHsgQXBwcyB9IGZyb20gJyMvc3RvcmUvYXBwcyc7XG5pbXBvcnQgeyBQb2xpY2llcyB9IGZyb20gJyMvc3RvcmUvcG9saWNpZXMnO1xuaW1wb3J0IHsgU2V0dGluZ3MgfSBmcm9tICcjL3N0b3JlL3NldHRpbmdzJztcbmltcG9ydCB7IGZsb3dfYnJvYWRjYXN0IH0gZnJvbSAnLi9tc2ctZmxvdyc7XG5pbXBvcnQgeyBQX1NUQVJTSEVMTF9ERUNSRUVTLCBSX0RPTUFJTl9MT0NBTEhPU1QsIFJfVFJBTlNGRVJfQU1PVU5ULCBTSV9WRVJTSU9OLCBYVF9NSU5VVEVTIH0gZnJvbSAnIy9zaGFyZS9jb25zdGFudHMnO1xuaW1wb3J0IHsgQ2hhaW5zIH0gZnJvbSAnIy9zdG9yZS9jaGFpbnMnO1xuaW1wb3J0IHsgQWN0aXZlTmV0d29yaywgQmFsYW5jZUJ1bmRsZSwgTmV0d29ya3MgfSBmcm9tICcjL3N0b3JlL25ldHdvcmtzJztcbmltcG9ydCB7IENvc21vc05ldHdvcmssIGZvbGRfYXR0cnMsIFBlbmRpbmdTZW5kLCBUeXBlZEV2ZW50IH0gZnJvbSAnIy9jaGFpbi9tYWluJztcbmltcG9ydCB7IEFjY291bnRzIH0gZnJvbSAnIy9zdG9yZS9hY2NvdW50cyc7XG5pbXBvcnQgQmlnTnVtYmVyIGZyb20gJ2JpZ251bWJlci5qcyc7XG5pbXBvcnQgeyBhYmJyZXZpYXRlX2FkZHIsIGZvcm1hdF9hbW91bnQsIGZvcm1hdF9maWF0IH0gZnJvbSAnIy91dGlsL2Zvcm1hdCc7XG5pbXBvcnQgdHlwZSB7IEJlY2gzMiwgQ2hhaW4sIENoYWluUGF0aCwgTmF0aXZlQ29pbiB9IGZyb20gJyMvbWV0YS9jaGFpbic7XG5pbXBvcnQgdHlwZSB7IENvaW4gfSBmcm9tICdjb3Ntb3MtZ3JwYy9kaXN0L2Nvc21vcy9iYXNlL3YxYmV0YTEvY29pbic7XG5pbXBvcnQgeyB5d19uZXR3b3JrX2FjdGl2ZSB9IGZyb20gJyMvYXBwL21lbSc7XG5pbXBvcnQgeyBnbG9iYWxfYnJvYWRjYXN0LCBnbG9iYWxfcmVjZWl2ZSB9IGZyb20gJy4vbXNnLWdsb2JhbCc7XG5pbXBvcnQgdHlwZSB7IE5ldHdvcmsgfSBmcm9tICcjL21ldGEvbmV0d29yayc7XG5pbXBvcnQgeyBidWZmZXJfdG9fYmFzZTY0LCBzaGEyNTZfc3luYywgdGV4dF90b19idWZmZXIgfSBmcm9tICcjL3V0aWwvZGF0YSc7XG5pbXBvcnQgeyBzeXNlcnIsIHN5c3dhcm4gfSBmcm9tICcjL2FwcC9jb21tb24nO1xuaW1wb3J0IHsgQWdlbnRzIH0gZnJvbSAnIy9zdG9yZS9hZ2VudHMnO1xuaW1wb3J0IHR5cGUgeyBCbG9ja0luZm9IZWFkZXIgfSBmcm9tICcuL2NvbW1vbic7XG5pbXBvcnQgdHlwZSB7IEFjY291bnQgfSBmcm9tICcjL21ldGEvYWNjb3VudCc7XG5pbXBvcnQgeyBJbmNpZGVudHMgfSBmcm9tICcjL3N0b3JlL2luY2lkZW50cyc7XG5pbXBvcnQgdHlwZSB7IExvZ0V2ZW50IH0gZnJvbSAnIy9tZXRhL3N0b3JlJztcbmltcG9ydCB7IERlY3JlZSwgV2ViUmVzb3VyY2VDYWNoZSB9IGZyb20gJyMvc3RvcmUvd2ViLXJlc291cmNlLWNhY2hlJztcbmltcG9ydCB7IGNoZWNrX3Jlc3RyaWN0aW9ucyB9IGZyb20gJyMvZXh0ZW5zaW9uL3Jlc3RyaWN0aW9ucyc7XG5pbXBvcnQgeyBCcm9hZGNhc3RNb2RlIH0gZnJvbSAnY29zbW9zLWdycGMvZGlzdC9jb3Ntb3MvdHgvdjFiZXRhMS9zZXJ2aWNlJztcblxuaW50ZXJmYWNlIFNlcnZpY2VNZXNzYWdlSGFuZGxlciB7XG5cdChtZXNzYWdlOiBhbnksIHNlbmRlcjogTWVzc2FnZVNlbmRlciwgc2VuZFJlc3BvbnNlOiAocmVzcG9uc2U/OiBhbnkpID0+IHZvaWQpOiB2b2lkO1xufVxuXG4vLyBjb25zdCBOX1BYX1dJRFRIX1BPUFVQID0gMzYwO1xuLy8gY29uc3QgTl9QWF9IRUlHSFRfUE9QVVAgPSA2MDA7XG5cblxuXG4vLyB0eXBlIGFsaWFzZXNcbmludGVyZmFjZSBTdG9yYWdlQ2hhbmdlPHdfdmFsdWUgZXh0ZW5kcyBKc29uVmFsdWU+IGV4dGVuZHMgY2hyb21lLnN0b3JhZ2UuU3RvcmFnZUNoYW5nZSB7XG5cdG5ld1ZhbHVlPzogd192YWx1ZTtcblx0b2xkVmFsdWU/OiB3X3ZhbHVlO1xufVxuXG50eXBlIFN0b3JhZ2VBcmVhID0gJ2xvY2FsJyB8ICdzZXNzaW9uJyB8ICdzeW5jJyB8ICdtYW5hZ2VkJztcblxuY29uc3QgSF9TVE9SQUdFX1NDSEVNQVMgPSB7XG5cdHN5bmM6IHtcblx0XHRrZXBscl9wb2x5ZmlsbDoge30sXG5cdH0sXG5cdGxvY2FsOiB7XG5cdFx0Ly8gYXBwczoge30sXG5cdH0sXG5cdHNlc3Npb246IHt9LFxuXHRtYW5hZ2VkOiB7fSxcbn0gYXMgY29uc3Q7XG5cbnR5cGUgU3RvcmFnZUxpc3RlbmVyPFxuXHRzaV9hcmVhIGV4dGVuZHMgU3RvcmFnZUFyZWEsXG4+ID0gc2lfYXJlYSBleHRlbmRzIFN0b3JhZ2VBcmVhXG5cdD8gUmVjb3JkPGtleW9mIHR5cGVvZiBIX1NUT1JBR0VfU0NIRU1BU1tzaV9hcmVhXSwge1xuXHRcdChnX2NoYW5nZTogU3RvcmFnZUNoYW5nZTxTVl9LZXBsclBvbHlmaWxsPik6IFByb21pc2U8dm9pZD47XG5cdH0+XG5cdDogdm9pZDtcblxudHlwZSBTdG9yYWdlTGlzdGVuZXJNYXAgPSB7XG5cdFtzaV9hcmVhIGluIFN0b3JhZ2VBcmVhXT86IFN0b3JhZ2VMaXN0ZW5lcjxzaV9hcmVhPjtcbn1cblxudHlwZSBTVl9LZXBsclBvbHlmaWxsID0gYm9vbGVhbjtcblxuXG50eXBlIFN0b3JhZ2VDaGFuZ2VDYWxsYmFjayA9IChnX2NoYW5nZTogY2hyb21lLnN0b3JhZ2UuU3RvcmFnZUNoYW5nZSkgPT4gUHJvbWlzYWJsZTx2b2lkPjtcblxuY29uc3QgZ19hd2FpdGVyczogUmVjb3JkPFN0b3JhZ2VBcmVhLCBEaWN0PFN0b3JhZ2VDaGFuZ2VDYWxsYmFja1tdPj4gPSB7XG5cdHN5bmM6IHt9LFxuXHRsb2NhbDoge30sXG5cdHNlc3Npb246IHt9LFxuXHRtYW5hZ2VkOiB7fSxcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBvbmNlX3N0b3JhZ2VfY2hhbmdlcyhzaV9hcmVhOiBTdG9yYWdlQXJlYSwgc2lfa2V5OiBzdHJpbmcsIHh0X3RpbWVvdXQ9MCk6IFByb21pc2U8Y2hyb21lLnN0b3JhZ2UuU3RvcmFnZUNoYW5nZT4ge1xuXHRyZXR1cm4gbmV3IFByb21pc2UoKGZrX3Jlc29sdmUsIGZlX3JlamVjdCkgPT4ge1xuXHRcdGNvbnN0IGhfYXdhaXRlcnMgPSBnX2F3YWl0ZXJzW3NpX2FyZWFdO1xuXHRcdGNvbnN0IGFfYXdhaXRlcnMgPSBoX2F3YWl0ZXJzW3NpX2tleV0gPSBoX2F3YWl0ZXJzW3NpX2tleV0gfHwgW107XG5cblx0XHRsZXQgaV9hd2FpdGVyID0gLTE7XG5cdFx0bGV0IGlfdGltZW91dCA9IDA7XG5cdFx0aWYoeHRfdGltZW91dCA+IDApIHtcblx0XHRcdGlfdGltZW91dCA9IGdsb2JhbFRoaXMuc2V0VGltZW91dCgoKSA9PiB7XG5cdFx0XHRcdC8vIHJlbW92ZSBhd2FpdGVyXG5cdFx0XHRcdGFfYXdhaXRlcnMuc3BsaWNlKGlfYXdhaXRlciwgMSk7XG5cblx0XHRcdFx0Ly8gcmVqZWN0XG5cdFx0XHRcdGZlX3JlamVjdChuZXcgRXJyb3IoYFRpbWVkIG91dGApKTtcblx0XHRcdH0sIHh0X3RpbWVvdXQpO1xuXHRcdH1cblxuXHRcdGlfYXdhaXRlciA9IGFfYXdhaXRlcnMucHVzaCgoZ19jaGFuZ2UpID0+IHtcblx0XHRcdGdsb2JhbFRoaXMuY2xlYXJUaW1lb3V0KGlfdGltZW91dCk7XG5cdFx0XHRma19yZXNvbHZlKGdfY2hhbmdlKTtcblx0XHR9KTtcblx0fSk7XG59XG5cbmZ1bmN0aW9uIGZpcmVfc3RvcmFnZV9jaGFuZ2Uoc2lfYXJlYTogU3RvcmFnZUFyZWEsIHNpX2tleTogc3RyaW5nLCBnX2NoYW5nZTogY2hyb21lLnN0b3JhZ2UuU3RvcmFnZUNoYW5nZSkge1xuXHRjb25zdCBoX2F3YWl0ZXJzID0gZ19hd2FpdGVyc1tzaV9hcmVhXTtcblx0Y29uc3QgYV9hd2FpdGVycyA9IGhfYXdhaXRlcnNbc2lfa2V5XTtcblxuXHRpZihhX2F3YWl0ZXJzPy5sZW5ndGgpIHtcblx0XHQvLyByZXNldCBhd2FpdGVyc1xuXHRcdGhfYXdhaXRlcnNbc2lfa2V5XSA9IFtdO1xuXG5cdFx0Ly8gY2FsbCBlYWNoIGxpc3RlbmVyXG5cdFx0Zm9yKGNvbnN0IGZfYXdhaXRlciBvZiBhX2F3YWl0ZXJzKSB7XG5cdFx0XHR2b2lkIGZfYXdhaXRlcihnX2NoYW5nZSk7XG5cdFx0fVxuXHR9XG59XG5cbi8vIFxuY2hyb21lLnN0b3JhZ2Uub25DaGFuZ2VkLmFkZExpc3RlbmVyKChoX2NoYW5nZXMsIHNpX2FyZWEpID0+IHtcblx0Y29uc3QgSF9TVE9SQUdFX0xJU1RFTkVSUzogU3RvcmFnZUxpc3RlbmVyTWFwID0ge1xuXHRcdHN5bmM6IHtcblx0XHRcdC8vIFxuXHRcdFx0YXN5bmMga2VwbHJfcG9seWZpbGwoZ19jaGFuZ2UpIHtcblx0XHRcdFx0Y29uc3QgZF9zY3JpcHRpbmcgPSBjaHJvbWUuc2NyaXB0aW5nIGFzIGJyb3dzZXIuU2NyaXB0aW5nLlN0YXRpYztcblx0XG5cdFx0XHRcdC8vIGJ1aWxkIHRoZSBjb250ZW50IHNjcmlwdCBkZWZpbml0aW9uXG5cdFx0XHRcdGNvbnN0IGdjX3NjcmlwdCA9IEhfQ09OVEVOVF9TQ1JJUFRfREVGUy5tY3Nfa2VwbHIoKTtcblx0XG5cdFx0XHRcdC8vIGNoZWNrIHRoZSBjdXJyZW50IHN0YXR1cyBvZiB0aGUgc2NyaXB0LCBpLmUuLCB3aGV0aGVyIG9yIG5vdCBpdCBpcyBlbmFibGVkXG5cdFx0XHRcdC8vIHplcm8gbGVuZ3RoIGluZGljYXRlcyBubyBjdXJyZW50bHkgcmVnaXN0ZXJlZCBzY3JpcHRzIG1hdGNoIHRoZSBnaXZlbiBpZFxuXHRcdFx0XHRjb25zdCBiX3JlZ2lzdGVyZWQgPSAhIShhd2FpdCBkX3NjcmlwdGluZy5nZXRSZWdpc3RlcmVkQ29udGVudFNjcmlwdHMoe1xuXHRcdFx0XHRcdGlkczogW2djX3NjcmlwdC5pZF0sXG5cdFx0XHRcdH0pKS5sZW5ndGg7XG5cdFxuXHRcdFx0XHQvLyBLZXBsciBwb2x5ZmlsbCBvcHRpb24gaXMgbm93IGVuYWJsZWRcblx0XHRcdFx0aWYodHJ1ZSA9PT0gZ19jaGFuZ2UubmV3VmFsdWUpIHtcblx0XHRcdFx0XHQvLyBzY3JpcHQgaXMgbm90IGN1cnJlbnRseSByZWdpc3RlcmVkXG5cdFx0XHRcdFx0aWYoIWJfcmVnaXN0ZXJlZCkge1xuXHRcdFx0XHRcdFx0Ly8gcmVnaXN0ZXIgdGhlIGNvbnRlbnQgc2NyaXB0XG5cdFx0XHRcdFx0XHRhd2FpdCBkX3NjcmlwdGluZy5yZWdpc3RlckNvbnRlbnRTY3JpcHRzKFtcblx0XHRcdFx0XHRcdFx0Z2Nfc2NyaXB0LFxuXHRcdFx0XHRcdFx0XSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdC8vIEtlcGxyIHBvbHlmaWxsIG9wdGlvbiBpcyBub3cgZGlzYWJsZWRcblx0XHRcdFx0ZWxzZSB7XG5cdFx0XHRcdFx0Ly8gc2NyaXB0IGlzIGN1cnJlbnRseSByZWdpc3RlcmVkXG5cdFx0XHRcdFx0aWYoIWJfcmVnaXN0ZXJlZCkge1xuXHRcdFx0XHRcdFx0Ly8gdW5yZWdpc3RlciB0aGUgY29udGVudCBzY3JpcHRcblx0XHRcdFx0XHRcdGF3YWl0IGRfc2NyaXB0aW5nLnVucmVnaXN0ZXJDb250ZW50U2NyaXB0cyh7XG5cdFx0XHRcdFx0XHRcdGlkczogW2djX3NjcmlwdC5pZF1cblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XG5cdFx0fSxcblxuXHRcdC8vIC8vIGxvY2FsIHN0b3JhZ2UgYXJlYSBjaGFuZ2UgbGlzdGVuZXJcblx0XHRsb2NhbDoge30sXG5cblx0XHRzZXNzaW9uOiB7fSxcblxuXHRcdG1hbmFnZWQ6IHt9LFxuXHR9O1xuXHRcblx0Ly8gbG9va3VwIG5hbWVzcGFjZS1zcGVjaWZpYyBsaXN0ZW5lciBkaWN0XG5cdGNvbnN0IGhfbGlzdGVuZXJzID0gSF9TVE9SQUdFX0xJU1RFTkVSU1tzaV9hcmVhXTtcblxuXHQvLyBsaXN0ZW5lcnMgYXZhaWxhYmxlXG5cdGlmKGhfbGlzdGVuZXJzKSB7XG5cdFx0Ly8gZWFjaCBjaGFuZ2UgY2hhbmdlc1xuXHRcdGZvcihjb25zdCBzaV9rZXkgaW4gaF9jaGFuZ2VzKSB7XG5cdFx0XHRjb25zdCBnX2NoYW5nZSA9IGhfY2hhbmdlc1tzaV9rZXldO1xuXG5cdFx0XHQvLyBmaXJlIGF3YWl0ZXIgY2FsbGJhY2tzIGZpcnN0XG5cdFx0XHRmaXJlX3N0b3JhZ2VfY2hhbmdlKHNpX2FyZWEsIHNpX2tleSwgZ19jaGFuZ2UpO1xuXG5cdFx0XHQvLyBsaXN0ZW5lciBleGlzdHMgZm9yIHRoaXMga2V5XG5cdFx0XHRjb25zdCBmX2xpc3RlbmVyID0gaF9saXN0ZW5lcnNbc2lfa2V5XTtcblx0XHRcdGlmKGZfbGlzdGVuZXIpIHtcblx0XHRcdFx0Zl9saXN0ZW5lcihnX2NoYW5nZSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cbn0pO1xuXG5cbnR5cGUgTWVzc2FnZVNlbmRlciA9IGNocm9tZS5ydW50aW1lLk1lc3NhZ2VTZW5kZXI7XG5cbmludGVyZmFjZSBTZW5kUmVzcG9uc2Uge1xuXHQod19kYXRhPzogYW55KTogdm9pZDtcbn1cblxuaW50ZXJmYWNlIE1lc3NhZ2VIYW5kbGVyPHdfbXNnPWFueT4ge1xuXHQoZ19tc2c6IHdfbXNnLCBnX3NlbmRlcjogTWVzc2FnZVNlbmRlciwgZmtfcmVzcG9uZDogU2VuZFJlc3BvbnNlKTogdm9pZCB8IGJvb2xlYW5cbn1cblxuZnVuY3Rpb24gcGFyc2Vfc2VuZGVyKHBfc2VuZGVyOiBzdHJpbmcpIHtcblx0Ly8gcGFyc2Ugc2VuZGVyIHVybFxuXHRjb25zdCB7XG5cdFx0cHJvdG9jb2w6IHNfcHJvdG9jb2wsXG5cdFx0aG9zdDogc19ob3N0LFxuXHR9ID0gbmV3IFVSTChwX3NlbmRlcik7XG5cblx0Ly8gbm9ybWFsaXplIHNjaGVtZVxuXHRjb25zdCBzX3NjaGVtZSA9IChzX3Byb3RvY29sIHx8ICcnKS5yZXBsYWNlKC86JC8sICcnKTtcblxuXHRyZXR1cm4gW3Nfc2NoZW1lIGFzICdmaWxlJyB8ICdodHRwJyB8ICdodHRwcycsIHNfaG9zdF0gYXMgY29uc3Q7XG59XG5cblxuZnVuY3Rpb24gYmxvY2tfYXBwKGdfc2VuZGVyOiBNZXNzYWdlU2VuZGVyLCBzX21zZzogc3RyaW5nKTogYm9vbGVhbiB7XG5cdGNvbnNvbGUud2FybihgJHtzX21zZ307IGJsb2NrZWQgcmVxdWVzdCBmcm9tIDwke2dfc2VuZGVyLnVybH0+YCk7XG5cdHJldHVybiB0cnVlO1xufVxuXG5hc3luYyBmdW5jdGlvbiBhcHBfYmxvY2tlZChzX3NjaGVtZTogc3RyaW5nLCBzX2hvc3Q6IHN0cmluZywgZ19zZW5kZXI6IE1lc3NhZ2VTZW5kZXIpOiBQcm9taXNlPGJvb2xlYW4+IHtcblx0Ly8gbm9uLXNlY3VyZSBjb250ZXh0cyBvbmx5IGFsbG93ZWQgYXQgbG9jYWxob3N0XG5cdGlmKCdodHRwJyA9PT0gc19zY2hlbWUpIHtcblx0XHQvLyBub3QgbG9jYWxob3N0XG5cdFx0aWYoIVJfRE9NQUlOX0xPQ0FMSE9TVC50ZXN0KHNfaG9zdCkpIHtcblx0XHRcdHJldHVybiBibG9ja19hcHAoZ19zZW5kZXIsICdOb24tc2VjdXJlIEhUVFAgY29udGV4dHMgYXJlIG5vdCBhbGxvd2VkIHRvIGNvbm5lY3QgdG8gd2FsbGV0IGV4Y2VwdCBmb3IgbG9jYWxob3N0Jyk7XG5cdFx0fVxuXHR9XG5cdC8vIGZpbGVcblx0ZWxzZSBpZignZmlsZScgPT09IHNfc2NoZW1lKSB7XG5cdFx0Ly8gY2hlY2sgcG9saWN5XG5cdFx0Y29uc3QgYl9hbGxvd2VkID0gYXdhaXQgU2V0dGluZ3MuZ2V0KCdhbGxvd19maWxlX3VybHMnKTtcblx0XHRpZighYl9hbGxvd2VkKSB7XG5cdFx0XHRyZXR1cm4gYmxvY2tfYXBwKGdfc2VuZGVyLCBgRmlsZSBVUkxzIGFyZSBub3QgYWxsb3dlZCB0byBjb25uZWN0IHRvIHdhbGxldCwgdW5sZXNzICdhbGxvd19maWxlX3VybHMnIHNldHRpbmcgaXMgZW5hYmxlZGApO1xuXHRcdH1cblx0fVxuXHQvLyBhbnl0aGluZyBlbHNlXG5cdGVsc2UgaWYoJ2h0dHBzJyAhPT0gc19zY2hlbWUpIHtcblx0XHRyZXR1cm4gYmxvY2tfYXBwKGdfc2VuZGVyLCBgU2NoZW1lIG5vdCBhbGxvd2VkIFwiJHtzX3NjaGVtZX1cImApO1xuXHR9XG5cblx0cmV0dXJuIGZhbHNlO1xufVxuXG5cbi8qKlxuICogR2VuZXJhdGUgYSBuZXcgcHJpdmF0ZS9zaGFyZWQgc2VjcmV0IGtleSBvZiB0aGUgc3BlY2lmaWVkIHNpemUgaW4gYnl0ZXMgKGRlZmF1bHRzIHRvIDUxMi1iaXQga2V5KVxuICovXG5mdW5jdGlvbiBnZW5lcmF0ZV9rZXkobmJfc2l6ZT02NCk6IHN0cmluZyB7XG5cdC8vIHByZXAgc3BhY2UgaW4gbWVtb3J5XG5cdGNvbnN0IGF0dThfc2VjcmV0ID0gbmV3IFVpbnQ4QXJyYXkobmJfc2l6ZSk7XG5cblx0Ly8gZmlsbCB3aXRoIGNyeXB0byByYW5kb20gdmFsdWVzXG5cdGNyeXB0by5nZXRSYW5kb21WYWx1ZXMoYXR1OF9zZWNyZXQpO1xuXG5cdC8vIGNvbnZlcnQgdG8gaGV4IHN0cmluZ1xuXHRyZXR1cm4gQXJyYXkuZnJvbShhdHU4X3NlY3JldCkubWFwKHggPT4geC50b1N0cmluZygxNikucGFkU3RhcnQoMiwgJzAnKSkuam9pbignJyk7XG59XG5cbi8qKlxuICogbWVzc2FnZSBoYW5kbGVycyBmb3IgdGhlIHB1YmxpYyB2b2NhYiBmcm9tIElDU1xuICovXG5jb25zdCBIX0hBTkRMRVJTX0lDUzogVm9jYWIuSGFuZGxlcnNDaHJvbWU8SWNzVG9TZXJ2aWNlLlB1YmxpY1ZvY2FiPiA9IHtcblx0Ly8gXG5cdHBhbmljKGdfbXNnLCBnX3NlbmRlcikge1xuXHRcdC8vIFRPRE86IGhhbmRsZVxuXHR9LFxuXG5cdC8vIHBhZ2UgaXMgcmVxdWVzdGluZyBhZHZlcnRpc2VtZW50IHZpYSBpY3Mtc3BvdHRlclxuXHRhc3luYyByZXF1ZXN0QWR2ZXJ0aXNlbWVudChnX21zZywgZ19zZW5kZXIsIGZrX3Jlc3BvbmQpIHtcblx0XHQvLyByZWYgdGFiIGlkXG5cdFx0Y29uc3QgaV90YWIgPSBnX3NlbmRlci50YWIhLmlkITtcblxuXHRcdC8vIHVua25vd24gc291cmNlLCBzaWxlbnRseSByZWplY3Rcblx0XHRpZighZ19zZW5kZXIudXJsKSB7XG5cdFx0XHRjb25zb2xlLmRlYnVnKCdTaWxlbnRseSBpZ25vcmluZyBhZHZlcnRpc2VtZW50IHJlcXVlc3QgZnJvbSB1bmtub3duIHNvdXJjZScpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIHBhcnNlIHNlbmRlciB1cmxcblx0XHRjb25zdCBbc19zY2hlbWUsIHNfaG9zdF0gPSBwYXJzZV9zZW5kZXIoZ19zZW5kZXIudXJsKTtcblxuXHRcdC8vIHByZXAgcGFnZSBkZXNjcmlwdG9yIGZvciByZXN0b3Jlc1xuXHRcdGNvbnN0IGdfcGFnZSA9IHtcblx0XHRcdHRhYklkOiBpX3RhYixcblx0XHRcdGhyZWY6IGdfc2VuZGVyLnVybCsnJyxcblx0XHR9O1xuXG5jb25zb2xlLmluZm8oJ2dldCByb290IGtleScpO1xuXHRcdC8vIGNoZWNrIGlmIGFwcCBpcyBsb2NrZWRcblx0XHRjb25zdCBka19yb290ID0gYXdhaXQgVmF1bHQuZ2V0Um9vdEtleSgpO1xuXHRcdGlmKCFka19yb290KSB7XG5jb25zb2xlLmluZm8oJ25vIHJvb3Qga2V5Jyk7XG5cdFx0XHQvLyBhc2sgdXNlciB0byBsb2dpblxuXHRcdFx0Y29uc3QgYl9maW5pc2hlZCA9IGF3YWl0IGZsb3dfYnJvYWRjYXN0KHtcblx0XHRcdFx0Zmxvdzoge1xuXHRcdFx0XHRcdHR5cGU6ICdhdXRoZW50aWNhdGUnLFxuXHRcdFx0XHRcdHBhZ2U6IGdfcGFnZSxcblx0XHRcdFx0fSxcblx0XHRcdH0pO1xuXG5jb25zb2xlLmluZm8oJ2Zsb3cgY29tcGxldGVkJyk7XG5cdFx0XHQvLyB1c2VyIGNhbmNlbGxlZDsgZG8gbm90IGFkdmVydGlzZVxuXHRcdFx0aWYoIWJfZmluaXNoZWQpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyByZXRyeVxuXHRcdFx0cmV0dXJuIGF3YWl0IEhfSEFORExFUlNfSUNTLnJlcXVlc3RBZHZlcnRpc2VtZW50KGdfbXNnLCBnX3NlbmRlciwgZmtfcmVzcG9uZCk7XG5cdFx0fVxuXG5jb25zb2xlLmluZm8oJ3Jvb3Qga2V5IGV4aXN0cycpO1xuXG5cdFx0Ly8gYXBwIGlzIGJsb2NrZWQ7IGV4aXRcblx0XHRpZihhd2FpdCBhcHBfYmxvY2tlZChzX3NjaGVtZSwgc19ob3N0LCBnX3NlbmRlcikpIHJldHVybjtcblxuY29uc29sZS5pbmZvKCdhcHAgcGFzc2VkIHNjaGVtZSBjaGVjaycpO1xuXG5cdFx0Ly8gY2hlY2sgYXBwJ3MgcG9saWN5IGFuZCByZWdpc3RyYXRpb24gc3RhdHVzXG5cdFx0e1xuXHRcdFx0Ly8gbG9va3VwIGFwcCBpbiBzdG9yZVxuXHRcdFx0bGV0IGdfYXBwID0gYXdhaXQgQXBwcy5nZXQoc19ob3N0LCBzX3NjaGVtZSk7XG5cblx0XHRcdC8vIGFwcCByZWdpc3RydGlvbiBzdGF0ZVxuXHRcdFx0bGV0IGJfcmVnaXN0ZXJlZCA9IGZhbHNlO1xuXG5cdFx0XHQvLyBhcHAgaXMgcmVnaXN0ZXJlZDsgbWFyayBpdCBzdWNoXG5cdFx0XHRpZihnX2FwcCkge1xuXHRcdFx0XHRiX3JlZ2lzdGVyZWQgPSB0cnVlO1xuXHRcdFx0fVxuXHRcdFx0Ly8gYXBwIGlzIG5vdCB5ZXQgcmVnaXN0ZXJlZDsgaW5pdGlhbGl6ZVxuXHRcdFx0ZWxzZSB7XG5cdFx0XHRcdGdfYXBwID0ge1xuXHRcdFx0XHRcdHNjaGVtZTogc19zY2hlbWUsXG5cdFx0XHRcdFx0aG9zdDogc19ob3N0LFxuXHRcdFx0XHRcdGNvbm5lY3Rpb25zOiB7fSxcblx0XHRcdFx0fTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gbG9va3VwIHBvbGljeSBvbiBhcHBcblx0XHRcdGNvbnN0IGdfcG9saWN5ID0gYXdhaXQgUG9saWNpZXMuZm9yQXBwKGdfYXBwKTtcblxuY29uc29sZS5pbmZvKCdnb3QgcG9saWN5IGZvciBhcHAgJW8nLCBnX3BvbGljeSk7XG5cdFx0XHQvLyBhIHBvbGljeSBpbmRpY2F0ZXMgdGhpcyBhcHAgaXMgYmxvY2tlZFxuXHRcdFx0aWYoZ19wb2xpY3kuYmxvY2tlZCkge1xuXHRcdFx0XHRyZXR1cm4gYmxvY2tfYXBwKGdfc2VuZGVyLCAnQXBwIGNvbm5lY3Rpb24gYmxvY2tlZCBieSBwb2xpY3knKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gLy8gYXBwIGRvZXMgbm90IGhhdmUgYW55IGNvbm5lY3Rpb25zXG5cdFx0XHQvLyBpZighT2JqZWN0LmtleXMoZ19hcHAuY29ubmVjdGlvbnMpLmxlbmd0aCkge1xuXG5cdFx0XHQvLyBhcHAgaXMgbm90IHJlZ2lzdGVyZWQgYW5kIG5vdCB0cnVzdGVkOyByZXF1aXJlcyB1c2VyIGFwcHJvdmFsXG5cdFx0XHRpZighYl9yZWdpc3RlcmVkICYmICFnX3BvbGljeS50cnVzdGVkKSB7XG5cdFx0XHRcdC8vIHJlcXVlc3QgYXBwcm92YWwgZnJvbSB1c2VyXG5cdFx0XHRcdGNvbnN0IGJfY29uZmlybWVkID0gYXdhaXQgZmxvd19icm9hZGNhc3Qoe1xuXHRcdFx0XHRcdGZsb3c6IHtcblx0XHRcdFx0XHRcdHR5cGU6ICdyZXF1ZXN0QWR2ZXJ0aXNlbWVudCcsXG5cdFx0XHRcdFx0XHR2YWx1ZToge1xuXHRcdFx0XHRcdFx0XHRhcHA6IGdfYXBwLFxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdHBhZ2U6IGdfcGFnZSxcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHQvLyByZXRyeSBcblx0XHRcdFx0aWYoYl9jb25maXJtZWQpIHtcblx0XHRcdFx0XHRyZXR1cm4gYXdhaXQgSF9IQU5ETEVSU19JQ1MucmVxdWVzdEFkdmVydGlzZW1lbnQoZ19tc2csIGdfc2VuZGVyLCBma19yZXNwb25kKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIGFib3J0XG5cdFx0XHRcdGNvbnNvbGUuZGVidWcoJ1VzZXIgY2FuY2VsbGVkIHJlcXVlc3QnKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIFRPRE86IGNvbnNpZGVyIHdoYXQgd2lsbCBoYXBwZW4gaWYgcHJvbXB0IGNsb3NlcyBidXQgc2VyaWNlIHdvcmtlciBiZWNvbWVzIGluYWN0aXZlXG5cblx0XHQvLyB2ZXJib3NlXG5cdFx0Y29uc29sZS5kZWJ1ZyhgQWxsb3dpbmcgPCR7Z19zZW5kZXIudXJsfT4gdG8gcmVjZWl2ZSBhZHZlcnRpc2VtZW50YCk7XG5cblx0XHQvLyBzZWNyZXRzIGZvciB0aGlzIHNlc3Npb25cblx0XHRjb25zdCBnX3NlY3JldHM6IFNlcnZpY2VUb0ljcy5TZXNzaW9uS2V5cyA9IHtcblx0XHRcdHNlc3Npb246IGdlbmVyYXRlX2tleSgpLFxuXHRcdH07XG5cblx0XHQvLyBleGVjdXRlIGlzb2xhdGVkLXdvcmxkIGNvbnRlbnQgc2NyaXB0ICdob3N0J1xuXHRcdHZvaWQgY2hyb21lLnNjcmlwdGluZy5leGVjdXRlU2NyaXB0KHtcblx0XHRcdHRhcmdldDoge1xuXHRcdFx0XHR0YWJJZDogaV90YWIsXG5cdFx0XHR9LFxuXHRcdFx0ZnVuYzogSWNzSG9zdCxcblx0XHRcdGFyZ3M6IFtnX3NlY3JldHNdLFxuXHRcdFx0d29ybGQ6ICdJU09MQVRFRCcsXG5cdFx0fSk7XG5cblx0XHQvLyBleGVjdXRlIG1haW4td29ybGQgY29udGVudCBzY3JpcHQgJ3JhdGlmaWVyJ1xuXHRcdHZvaWQgY2hyb21lLnNjcmlwdGluZy5leGVjdXRlU2NyaXB0KHtcblx0XHRcdHRhcmdldDoge1xuXHRcdFx0XHR0YWJJZDogaV90YWIsXG5cdFx0XHR9LFxuXHRcdFx0ZnVuYzogTWNzUmF0aWZpZXIsXG5cdFx0XHRhcmdzOiBbZ19zZWNyZXRzXSxcblx0XHRcdHdvcmxkOiAnTUFJTicsXG5cdFx0fSk7XG5cblx0XHQvLyByZXNwb25kIHRvIGlucGFnZSBjb250ZW50IHNjcmlwdCB3aXRoIHNlc3Npb24gc2VjcmV0c1xuXHRcdGZrX3Jlc3BvbmQoZ19zZWNyZXRzKTtcblx0fSxcblxuXHRhc3luYyBmbG93QnJvYWRjYXN0KGdfcmVxLCBnX3NlbmRlciwgZmtfcmVzcG9uZCkge1xuXHRcdGNvbnN0IHtcblx0XHRcdGtleTogc2lfcmVxLFxuXHRcdFx0Y29uZmlnOiBnY19wcm9tcHQsXG5cdFx0fSA9IGdfcmVxO1xuXG5cdFx0Ly8gdW5rbm93biBzb3VyY2UsIHNpbGVudGx5IHJlamVjdFxuXHRcdGlmKCFnX3NlbmRlci51cmwpIHtcblx0XHRcdGNvbnNvbGUuZGVidWcoJ1NpbGVudGx5IGlnbm9yaW5nIGFkdmVydGlzZW1lbnQgcmVxdWVzdCBmcm9tIHVua25vd24gc291cmNlJyk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gc2V0IHRoZSBwYWdlIGZyb20gd2hpY2ggdGhlIGZsb3cgaXMgYmVpbmcgcmVxdWVzdGVkXG5cdFx0Y29uc3QgZ19wYWdlID0gZ2NfcHJvbXB0LmZsb3cucGFnZSA9IHtcblx0XHRcdHRhYklkOiBnX3NlbmRlci50YWIhLmlkISxcblx0XHRcdGhyZWY6IGdfc2VuZGVyLnVybCB8fCBnY19wcm9tcHQuZmxvdy5wYWdlPy5ocmVmIHx8ICcnLFxuXHRcdH07XG5cbmNvbnNvbGUuaW5mbygnZ2V0IHJvb3Qga2V5Jyk7XG5cdFx0Ly8gY2hlY2sgaWYgYXBwIGlzIGxvY2tlZFxuXHRcdGNvbnN0IGRrX3Jvb3QgPSBhd2FpdCBWYXVsdC5nZXRSb290S2V5KCk7XG5cdFx0aWYoIWRrX3Jvb3QpIHtcbmNvbnNvbGUuaW5mbygnbm8gcm9vdCBrZXknKTtcblx0XHRcdC8vIGFzayB1c2VyIHRvIGxvZ2luXG5cdFx0XHRjb25zdCBiX2ZpbmlzaGVkID0gYXdhaXQgZmxvd19icm9hZGNhc3Qoe1xuXHRcdFx0XHRmbG93OiB7XG5cdFx0XHRcdFx0dHlwZTogJ2F1dGhlbnRpY2F0ZScsXG5cdFx0XHRcdFx0cGFnZTogZ19wYWdlLFxuXHRcdFx0XHR9LFxuXHRcdFx0fSk7XG5cbmNvbnNvbGUuaW5mbygnZmxvdyBjb21wbGV0ZWQnKTtcblx0XHRcdC8vIHVzZXIgY2FuY2VsbGVkOyBkbyBub3QgY29udGludWVcblx0XHRcdGlmKCFiX2ZpbmlzaGVkKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gcmV0cnlcblx0XHRcdHJldHVybiBhd2FpdCBIX0hBTkRMRVJTX0lDUy5mbG93QnJvYWRjYXN0KGdfcmVxLCBnX3NlbmRlciwgZmtfcmVzcG9uZCk7XG5cdFx0fVxuXG5cdFx0Ly8gcGFyc2Ugc2VuZGVyIHVybFxuXHRcdGNvbnN0IFtzX3NjaGVtZSwgc19ob3N0XSA9IHBhcnNlX3NlbmRlcihnX3NlbmRlci51cmwpO1xuXG5cdFx0Ly8gYXBwIGlzIGJsb2NrZWQ7IGV4aXRcblx0XHRpZihhd2FpdCBhcHBfYmxvY2tlZChzX3NjaGVtZSwgc19ob3N0LCBnX3NlbmRlcikpIHJldHVybjtcblxuY29uc29sZS5pbmZvKCdhcHAgcGFzc2VkIHNjaGVtZSBjaGVjaycpO1xuXG5cdFx0Ly8gcHJlcCBhcHAgZGVzY3JpcHRvclxuXHRcdGNvbnN0IGdfYXBwID0ge1xuXHRcdFx0c2NoZW1lOiBzX3NjaGVtZSxcblx0XHRcdGhvc3Q6IHNfaG9zdCxcblx0XHRcdGNvbm5lY3Rpb25zOiB7fSxcblx0XHR9O1xuXG5cdFx0Z2NfcHJvbXB0LmZsb3dbJ3ZhbHVlJ10uYXBwID0gZ19hcHA7XG5cblx0XHQvLyBmb3J3YXJkIHJlcXVlc3Rcblx0XHR2b2lkIGZsb3dfYnJvYWRjYXN0KGdjX3Byb21wdCwgc2lfcmVxKTtcblx0fSxcbn07XG5cblxuLyoqXG4gKiBtZXNzYWdlIGhhbmRsZXJzIGZvciBzZXJ2aWNlIGluc3RydWN0aW9ucyBmcm9tIHBvcHVwXG4gKi9cbmNvbnN0IEhfSEFORExFUlNfSU5TVFJVQ1RJT05TOiBWb2NhYi5IYW5kbGVyc0Nocm9tZTxJbnRyYUV4dC5TZXJ2aWNlSW5zdHJ1Y3Rpb24+ID0ge1xuXHRhc3luYyBiYW5rU2VuZChnX3ZhbHVlKSB7XG5cdFx0Ly8gZGVyZWZlcmVuY2UgbmV0d29ya1xuXHRcdGNvbnN0IGdfbmV0d29yayA9IChhd2FpdCBOZXR3b3Jrcy5hdChnX3ZhbHVlLm5ldHdvcmspKSE7XG5cblx0XHQvLyBkZXJlZmVyZW5jZSBjaGFpblxuXHRcdGNvbnN0IGdfY2hhaW4gPSAoYXdhaXQgQ2hhaW5zLmF0KGdfbmV0d29yay5jaGFpbikpITtcblxuXHRcdC8vIGFjdGl2YXRlIG5ldHdvcmtcblx0XHRjb25zdCBrX2FjdGl2ZSA9IE5ldHdvcmtzLmFjdGl2YXRlKGdfbmV0d29yaywgZ19jaGFpbik7XG5cblx0XHQvLyBleGVjdXRlIHRyYW5zZmVyXG5cdFx0Y29uc3QgZ19hdHRlbXB0ID0gYXdhaXQga19hY3RpdmUuYmFua1NlbmQoXG5cdFx0XHRnX3ZhbHVlLnNlbmRlcixcblx0XHRcdGdfdmFsdWUucmVjaXBpZW50LFxuXHRcdFx0Z192YWx1ZS5jb2luLFxuXHRcdFx0QmlnSW50KGdfdmFsdWUuYW1vdW50KSxcblx0XHRcdEJpZ0ludChnX3ZhbHVlLmxpbWl0KSxcblx0XHRcdGdfdmFsdWUucHJpY2UsXG5cdFx0XHRnX3ZhbHVlLm1lbW8sXG5cdFx0XHRCcm9hZGNhc3RNb2RlLkJST0FEQ0FTVF9NT0RFX1NZTkMsXG5cdFx0XHRnX2NoYWluXG5cdFx0KTtcblxuXHRcdC8vIG5vdGlmeVxuXHRcdGNvbnN0IHNpX25vdGlmY2F0aW9uID0gYnVmZmVyX3RvX2Jhc2U2NChzaGEyNTZfc3luYyh0ZXh0X3RvX2J1ZmZlcihnX2F0dGVtcHQuaGFzaCkpKTtcblx0XHRjaHJvbWUubm90aWZpY2F0aW9ucy5jcmVhdGUoc2lfbm90aWZjYXRpb24sIHtcblx0XHRcdHR5cGU6ICdiYXNpYycsXG5cdFx0XHR0aXRsZTogYFRyYW5zYWN0aW9uIHNlbnQgdG8gbmV0d29ya2AsXG5cdFx0XHRtZXNzYWdlOiBgV2FpdGluZyBmb3IgY29uZmlybWF0aW9uIG9uICR7Z19jaGFpbi5uYW1lfS4uLmAsXG5cdFx0XHRwcmlvcml0eTogMSxcblx0XHRcdGljb25Vcmw6ICcvbWVkaWEvdmVuZG9yL2xvZ28tMTkycHgucG5nJyxcblx0XHR9KTtcblxuXHRcdC8vIHJlY29yZCBwZW5kaW5nIHRyYW5zYWN0aW9uIGFzIGluY2lkZW50XG5cdFx0YXdhaXQgSW5jaWRlbnRzLnJlY29yZChnX2F0dGVtcHQuaGFzaCwge1xuXHRcdFx0dHlwZTogJ3R4X291dCcsXG5cdFx0XHR0aW1lOiBEYXRlLm5vdygpLFxuXHRcdFx0ZGF0YTogZ19hdHRlbXB0LFxuXHRcdH0pO1xuXHR9LFxufTtcblxuLyoqXG4gKiBIYW5kbGUgbWVzc2FnZXMgZnJvbSBjb250ZW50IHNjcmlwdHNcbiAqL1xuY29uc3QgbWVzc2FnZV9yb3V0ZXI6IE1lc3NhZ2VIYW5kbGVyID0gKGdfbXNnLCBnX3NlbmRlciwgZmtfcmVzcG9uZCkgPT4ge1xuXHQvLyB2ZXJib3NlXG5cdGNvbnNvbGUuZGVidWcoYFNlcnZpY2UgcmVjZWl2ZWQgbWVzc2FnZSAlb2AsIGdfbXNnKTtcblxuXHQvLyB2ZXJpZnkgbWVzc2FnZSBzdHJ1Y3R1cmVcblx0aWYoJ29iamVjdCcgPT09IHR5cGVvZiBnX21zZyAmJiAnc3RyaW5nJyA9PT0gdHlwZW9mIGdfbXNnLnR5cGUpIHtcblx0XHQvLyBkZWZhdWx0IHRvIElDUyBoYW5kbGVyc1xuXHRcdGxldCBoX2hhbmRsZXJzOiBWb2NhYi5IYW5kbGVyc0Nocm9tZTxJY3NUb1NlcnZpY2UuUHVibGljVm9jYWIgfCBJbnRyYUV4dC5TZXJ2aWNlSW5zdHJ1Y3Rpb24+ID0gSF9IQU5ETEVSU19JQ1M7XG5cblx0XHQvLyBtZXNzYWdlIGRvZXMgbm90IG9yaWdpbmF0ZSBmcm9tIGNvbnRlbnQgc2NyaXB0XG5cdFx0aWYoIWdfc2VuZGVyLnRhYiB8fCAnbnVtYmVyJyAhPT0gdHlwZW9mIGdfc2VuZGVyLnRhYi5pZCkge1xuXHRcdFx0Ly8gbWVzc2FnZSBvcmlnaW5hdGVzIGZyb20gdGhpcyBleHRlbnNpb25cblx0XHRcdGlmKGdfc2VuZGVyLm9yaWdpbiAmJiBjaHJvbWUucnVudGltZS5pZCA9PT0gZ19zZW5kZXIuaWQpIHtcblx0XHRcdFx0aF9oYW5kbGVycyA9IEhfSEFORExFUlNfSU5TVFJVQ1RJT05TO1xuXHRcdFx0fVxuXHRcdFx0Ly8gcmVqZWN0IHVua25vd24gc2VuZGVyc1xuXHRcdFx0ZWxzZSB7XG5cdFx0XHRcdGNvbnNvbGUuZXJyb3IoYFJlZnVzaW5nIHJlcXVlc3QgZnJvbSB1bmtub3duIHNlbmRlcmApO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gcmVmIG1lc3NhZ2UgdHlwZVxuXHRcdGNvbnN0IHNpX3R5cGUgPSBnX21zZy50eXBlO1xuXG5cdFx0Ly8gbG9va3VwIGhhbmRsZXJcblx0XHRjb25zdCBmX2hhbmRsZXIgPSBoX2hhbmRsZXJzW3NpX3R5cGVdO1xuXG5cdFx0Ly8gcm91dGUgbWVzc2FnZSB0byBoYW5kbGVyXG5cdFx0aWYoZl9oYW5kbGVyKSB7XG5cdFx0XHRjb25zdCB6X3Jlc3BvbnNlID0gZl9oYW5kbGVyKGdfbXNnLnZhbHVlLCBnX3NlbmRlciBhcyBNZXNzYWdlU2VuZGVyLCBma19yZXNwb25kIGFzIFNlbmRSZXNwb25zZSk7XG5cblx0XHRcdC8vIGFzeW5jIGhhbmRsZXJcblx0XHRcdGlmKHpfcmVzcG9uc2UgJiYgJ2Z1bmN0aW9uJyA9PT0gdHlwZW9mIHpfcmVzcG9uc2VbJ3RoZW4nXSkge1xuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH1cblx0XHR9XG5cdH1cbn1cblxuLy8gYmluZCBtZXNzYWdlIHJvdXRlciBsaXN0ZW5lclxuY2hyb21lLnJ1bnRpbWUub25NZXNzYWdlLmFkZExpc3RlbmVyKG1lc3NhZ2Vfcm91dGVyKTtcblxuXG5jaHJvbWUucnVudGltZS5vbkluc3RhbGxlZC5hZGRMaXN0ZW5lcihhc3luYygpID0+IHtcblx0Ly8gLy8gdXBvbiBmaXJzdCBpbnN0YWxsLCB3YWxrIHRoZSB1c2VyIHRocm91Z2ggc2V0dXBcblx0Ly8gYXdhaXQgZmxvd19icm9hZGNhc3Qoe1xuXHQvLyBcdGZsb3c6IHtcblx0Ly8gXHRcdHR5cGU6ICdhdXRoZW50aWNhdGUnLFxuXHQvLyBcdFx0cGFnZTogbnVsbCxcblx0Ly8gXHR9LFxuXHQvLyB9KTtcblxuXHQvLyBhd2FpdCBjaHJvbWUuc3RvcmFnZS5zZXNzaW9uLnNldEFjY2Vzc0xldmVsKHtcblx0Ly8gXHRhY2Nlc3NMZXZlbDogY2hyb21lLnN0b3JhZ2UuQWNjZXNzTGV2ZWwuVFJVU1RFRF9BTkRfVU5UUlVTVEVEX0NPTlRFWFRTLFxuXHQvLyB9KTtcblxuXHQvLyBjb25zb2xlLmxvZygnb2snKTtcblxuXHQvLyBjb25zdCBkX3NjcmlwdGluZyA9IGNocm9tZS5zY3JpcHRpbmcgYXMgYnJvd3Nlci5TY3JpcHRpbmcuU3RhdGljO1xuXG5cblx0Ly8gY29uc3QgZ193YWtlciA9IEhfQ09OVEVOVF9TQ1JJUFRfREVGUy5pbnBhZ2Vfd2FrZXIoKTtcblxuXHQvLyBhd2FpdCBkX3NjcmlwdGluZy5yZWdpc3RlckNvbnRlbnRTY3JpcHRzKFtcblx0Ly8gXHR7XG5cdC8vIFx0XHQuLi5nX3dha2VyLFxuXHQvLyBcdFx0Ly8ganM6IFtcblx0Ly8gXHRcdC8vIFx0J3Myci5zaWduaW5nLmtleSNhZTQyNjFjJyxcblx0Ly8gXHRcdC8vIFx0Li4uZ193YWtlci5qcyxcblx0Ly8gXHRcdC8vIF0sXG5cdC8vIFx0fSxcblx0Ly8gXSk7XG5cblx0Ly8gY29uc3QgYV9zY3JpcHRzID0gYXdhaXQgZF9zY3JpcHRpbmcuZ2V0UmVnaXN0ZXJlZENvbnRlbnRTY3JpcHRzKCk7XG5cdC8vIGZvcihjb25zdCBnX3NjcmlwdCBvZiBhX3NjcmlwdHMpIHtcblx0Ly8gXHRjb25zb2xlLmxvZyhnX3NjcmlwdCk7XG5cdC8vIH1cblxufSk7XG5cbnR5cGUgTm90aWZpY2F0aW9uID0ge1xuXHR0eXBlOiAnYmFsYW5jZSc7XG5cdGNoYWluOiBDaGFpblsnaW50ZXJmYWNlJ107XG5cdGNvaW46IHN0cmluZztcblx0Y2FjaGVkOiBDb2luIHwgbnVsbDtcblx0YmFsYW5jZTogQ29pbjtcbn07XG5cbmNocm9tZS5hbGFybXMuY2xlYXJBbGwoKCkgPT4ge1xuXHRjb25zb2xlLndhcm4oJ2NsZWFyIGFsbCcpO1xuXG5cdGNocm9tZS5hbGFybXMuY3JlYXRlKCdwZXJpb2RpY0NoYWluUXVlcmllcycsIHtcblx0XHRwZXJpb2RJbk1pbnV0ZXM6IDIsXG5cdH0pO1xuXG5cdGNocm9tZS5hbGFybXMub25BbGFybS5hZGRMaXN0ZW5lcigoZ19hbGFybSkgPT4ge1xuXHRcdHN3aXRjaChnX2FsYXJtLm5hbWUpIHtcblx0XHRcdGNhc2UgJ3BlcmlvZGljQ2hhaW5RdWVyaWVzJzoge1xuXHRcdFx0XHR2b2lkIHBlcmlvZGljX2NoZWNrKCk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXG5cdFx0XHRkZWZhdWx0OiB7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdH1cblx0fSk7XG5cblx0dm9pZCBwZXJpb2RpY19jaGVjaygpO1xufSk7XG5cbmxldCBiX2FsaXZlID0gZmFsc2U7XG5jb25zdCBoX3NvY2tldHM6IERpY3Q8Vm9pZEZ1bmN0aW9uPiA9IHt9O1xuXG5jb25zdCBhdXRvX2hlYWwgPSAoKSA9PiBzZXRUaW1lb3V0KCgpID0+IHtcblx0Yl9hbGl2ZSA9IGZhbHNlO1xuXHR2b2lkIHBlcmlvZGljX2NoZWNrKCk7XG59LCAzKlhUX01JTlVURVMpO1xuXG5sZXQgaV9hdXRvX2hlYWwgPSBhdXRvX2hlYWwoKTtcblxuZnVuY3Rpb24gYXdhaXRfdHJhbnNmZXIoXG5cdHNpX3NvY2tldF9ncm91cDogc3RyaW5nLFxuXHRrX25ldHdvcms6IEFjdGl2ZU5ldHdvcmssXG5cdGdfY2hhaW46IENoYWluWydpbnRlcmZhY2UnXSxcblx0Z19hY2NvdW50OiBBY2NvdW50WydpbnRlcmZhY2UnXSxcblx0c2Ffb3duZXI6IEJlY2gzMi5TdHJpbmcsXG5cdHNpX3R5cGU6ICdSZWNlaXZlJyB8ICdTZW5kJ1xuKTogVm9pZEZ1bmN0aW9uIHtcblx0Y29uc3Qgc2lfc29ja2V0ID0gc2lfc29ja2V0X2dyb3VwKyc6UmVjZWl2ZSc7XG5cblx0Y29uc3QgcF9jaGFpbiA9IENoYWlucy5wYXRoRnJvbShnX2NoYWluKTtcblxuXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWxvb3AtZnVuY1xuXHRyZXR1cm4gaF9zb2NrZXRzW3NpX3NvY2tldF0gPSAoa19uZXR3b3JrW2BvbiR7c2lfdHlwZX1gXSBhcyBBY3RpdmVOZXR3b3JrWydvblJlY2VpdmUnXSB8IEFjdGl2ZU5ldHdvcmtbJ29uU2VuZCddKShzYV9vd25lciwgYXN5bmMoZF9raWxsLCBnX3R4KSA9PiB7XG5cdFx0aWYoZF9raWxsKSB7XG5cdFx0XHRkZWxldGUgaF9zb2NrZXRzW3NpX3NvY2tldF07XG5cdFx0XHRjb25zb2xlLmVycm9yKGRfa2lsbCk7XG5cdFx0XHQvLyBzeXNlcnIoe1xuXHRcdFx0Ly8gXHR0ZXh0OiBkX2tpbGwuLFxuXHRcdFx0Ly8gfSk7XG5cdFx0fVxuXHRcdGVsc2UgaWYoZ190eCkge1xuXHRcdFx0Y29uc3QgYV9sb2dzID0gSlNPTi5wYXJzZShnX3R4LnJlc3VsdD8ubG9nIHx8ICdbXScpO1xuXHRcdFx0aWYoYV9sb2dzPy5sZW5ndGgpIHtcblx0XHRcdFx0Zm9yKGNvbnN0IGdfZXZlbnQgb2YgYV9sb2dzWzBdLmV2ZW50cykge1xuXHRcdFx0XHRcdGlmKCd0cmFuc2ZlcicgPT09IGdfZXZlbnQudHlwZSkge1xuXHRcdFx0XHRcdFx0Y29uc3QgZ190cmFuc2ZlciA9IGZvbGRfYXR0cnMoZ19ldmVudCBhcyBUeXBlZEV2ZW50KTtcblxuXHRcdFx0XHRcdFx0Ly8gZGVmYXVsdCByZWNlaXZlIHN0cmluZ1xuXHRcdFx0XHRcdFx0bGV0IHNfcGF5bG9hZCA9IGdfdHJhbnNmZXIuYW1vdW50O1xuXG5cdFx0XHRcdFx0XHQvLyBhdHRlbXB0IHRvIHBhcnNlIGFtb3VudFxuXHRcdFx0XHRcdFx0bGV0IHNpX2NvaW4gPSAnJztcblx0XHRcdFx0XHRcdGxldCBnX2NvaW46IE5hdGl2ZUNvaW47XG5cdFx0XHRcdFx0XHRjb25zdCBtX2Ftb3VudCA9IFJfVFJBTlNGRVJfQU1PVU5ULmV4ZWMoZ190cmFuc2Zlci5hbW91bnQpO1xuXHRcdFx0XHRcdFx0aWYoIW1fYW1vdW50KSB7XG5cdFx0XHRcdFx0XHRcdHN5c3dhcm4oe1xuXHRcdFx0XHRcdFx0XHRcdHRleHQ6IGBGYWlsZWQgdG8gcGFyc2UgdHJhbnNmZXIgYW1vdW50IFwiJHtnX3RyYW5zZmVyLmFtb3VudH1cImAsXG5cdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0ZWxzZSB7XG5cdFx0XHRcdFx0XHRcdC8vIGRlc3RydWN0dXJlIGludG8gYW1vdW50IGFuZCBkZW5vbVxuXHRcdFx0XHRcdFx0XHRjb25zdCBbLCBzX2Ftb3VudCwgc2lfZGVub21dID0gbV9hbW91bnQ7XG5cblx0XHRcdFx0XHRcdFx0Ly8gbG9jYXRlIGNvaW5cblx0XHRcdFx0XHRcdFx0Zm9yKGNvbnN0IFtzaV9jb2luX3Rlc3QsIGdfY29pbl90ZXN0XSBvZiBvZGUoZ19jaGFpbi5jb2lucykpIHtcblx0XHRcdFx0XHRcdFx0XHRpZihzaV9kZW5vbSA9PT0gZ19jb2luX3Rlc3QuZGVub20pIHtcblx0XHRcdFx0XHRcdFx0XHRcdGNvbnN0IHhfYW1vdW50ID0gbmV3IEJpZ051bWJlcihzX2Ftb3VudCkuc2hpZnRlZEJ5KC1nX2NvaW5fdGVzdC5kZWNpbWFscykudG9OdW1iZXIoKTtcblx0XHRcdFx0XHRcdFx0XHRcdHNfcGF5bG9hZCA9IGAke2Zvcm1hdF9hbW91bnQoeF9hbW91bnQsIHRydWUpfSAke3NpX2NvaW5fdGVzdH1gO1xuXHRcdFx0XHRcdFx0XHRcdFx0c2lfY29pbiA9IHNpX2NvaW5fdGVzdDtcblx0XHRcdFx0XHRcdFx0XHRcdGdfY29pbiA9IGdfY29pbl90ZXN0O1xuXHRcdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdGxldCBzX290aGVyID0gZ190cmFuc2Zlci5zZW5kZXI7XG5cdFx0XHRcdFx0XHRjb25zdCBwX2NvbnRhY3QgPSBBZ2VudHMucGF0aEZvckNvbnRhY3Qoc19vdGhlciwgZ19jaGFpbi5mYW1pbHkpO1xuXHRcdFx0XHRcdFx0Y29uc3QgZ19jb250YWN0ID0gYXdhaXQgQWdlbnRzLmdldENvbnRhY3QocF9jb250YWN0KTtcblx0XHRcdFx0XHRcdGlmKGdfY29udGFjdCkge1xuXHRcdFx0XHRcdFx0XHRzX290aGVyID0gZ19jb250YWN0Lm5hbWU7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHRcdFx0c19vdGhlciA9IGFiYnJldmlhdGVfYWRkcihzX290aGVyKTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0Ly8gcmVmIHRyYW5zYWN0aW9uIGlkXG5cdFx0XHRcdFx0XHRjb25zdCBzaV90eG4gPSBnX3R4Lmhhc2g7XG5cblx0XHRcdFx0XHRcdC8vIGhhc2ggdHggdG8gY3JlYXRlIG5vdGlmaWNhdGlvbiBpZFxuXHRcdFx0XHRcdFx0Y29uc3Qgc2lfbm90aWYgPSBidWZmZXJfdG9fYmFzZTY0KHNoYTI1Nl9zeW5jKHRleHRfdG9fYnVmZmVyKHNpX3R4bikpKTtcblxuXHRcdFx0XHRcdFx0Ly8gbm90aWZ5XG5cdFx0XHRcdFx0XHRpZignUmVjZWl2ZScgPT09IHNpX3R5cGUpIHtcblx0XHRcdFx0XHRcdFx0Y2hyb21lLm5vdGlmaWNhdGlvbnMuY3JlYXRlKHNpX25vdGlmLCB7XG5cdFx0XHRcdFx0XHRcdFx0dHlwZTogJ2Jhc2ljJyxcblx0XHRcdFx0XHRcdFx0XHR0aXRsZTogYFJlY2VpdmVkICR7c19wYXlsb2FkfSBvbiAke2dfY2hhaW4ubmFtZX1gLFxuXHRcdFx0XHRcdFx0XHRcdG1lc3NhZ2U6IGAke3Nfb3RoZXJ9IHNlbnQgJHtzX3BheWxvYWR9IHRvIHlvdXIgJHtnX2FjY291bnQubmFtZX0gYWNjb3VudGAsXG5cdFx0XHRcdFx0XHRcdFx0cHJpb3JpdHk6IDEsXG5cdFx0XHRcdFx0XHRcdFx0aWNvblVybDogJy9tZWRpYS92ZW5kb3IvbG9nby0xOTJweC5wbmcnLFxuXHRcdFx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdFx0XHQvLyBkb3dubG9hZCByZWNlaXZlIHR4blxuXHRcdFx0XHRcdFx0XHRjb25zdCBnX2Rvd25sb2FkID0gYXdhaXQga19uZXR3b3JrLmRvd25sb2FkVHhuKHNpX3R4bik7XG5cblx0XHRcdFx0XHRcdFx0Ly8gcmVjb3JkIGluY2lkZW50XG5cdFx0XHRcdFx0XHRcdGF3YWl0IEluY2lkZW50cy5yZWNvcmQoc2lfdHhuLCB7XG5cdFx0XHRcdFx0XHRcdFx0dHlwZTogJ3R4X2luJyxcblx0XHRcdFx0XHRcdFx0XHR0aW1lOiBuZXcgRGF0ZShnX2Rvd25sb2FkLnRpbWVzdGFtcCkuZ2V0VGltZSgpLFxuXHRcdFx0XHRcdFx0XHRcdGRhdGE6IGdfZG93bmxvYWQsXG5cdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0ZWxzZSBpZignU2VuZCcgPT09IHNpX3R5cGUpIHtcblx0XHRcdFx0XHRcdFx0Y2hyb21lLm5vdGlmaWNhdGlvbnMuY3JlYXRlKHNpX25vdGlmLCB7XG5cdFx0XHRcdFx0XHRcdFx0dHlwZTogJ2Jhc2ljJyxcblx0XHRcdFx0XHRcdFx0XHR0aXRsZTogYFNlbnQgJHtzX3BheWxvYWR9IG9uICR7Z19jaGFpbi5uYW1lfWAsXG5cdFx0XHRcdFx0XHRcdFx0bWVzc2FnZTogYCR7c19wYXlsb2FkfSBzZW50IHRvICR7c19vdGhlcn0gZnJvbSAke2dfYWNjb3VudC5uYW1lfSBhY2NvdW50YCxcblx0XHRcdFx0XHRcdFx0XHRwcmlvcml0eTogMSxcblx0XHRcdFx0XHRcdFx0XHRpY29uVXJsOiAnL21lZGlhL3ZlbmRvci9sb2dvLTE5MnB4LnBuZycsXG5cdFx0XHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0XHRcdC8vIGRvd25sb2FkIHNlbmQgdHhuXG5cdFx0XHRcdFx0XHRcdGNvbnN0IGdfZG93bmxvYWQgPSBhd2FpdCBrX25ldHdvcmsuZG93bmxvYWRUeG4oc2lfdHhuKTtcblxuXHRcdFx0XHRcdFx0XHQvLyByZWNvcmQgaW5jaWRlbnRcblx0XHRcdFx0XHRcdFx0YXdhaXQgSW5jaWRlbnRzLnJlY29yZChzaV90eG4sIHtcblx0XHRcdFx0XHRcdFx0XHR0eXBlOiAndHhfb3V0Jyxcblx0XHRcdFx0XHRcdFx0XHR0aW1lOiBuZXcgRGF0ZShnX2Rvd25sb2FkLnRpbWVzdGFtcCkuZ2V0VGltZSgpLFxuXHRcdFx0XHRcdFx0XHRcdGRhdGE6IGdfZG93bmxvYWQsXG5cdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fSk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHBlcmlvZGljX2NoZWNrKCkge1xuXHQvLyBmZXRjaCBsYXRlc3QgZGVjcmVlc1xuXHRhd2FpdCBXZWJSZXNvdXJjZUNhY2hlLnVwZGF0ZUFsbCgpO1xuXG5cdC8vIG5vdCBzaWduZWQgaW47IGV4aXRcblx0aWYoIWF3YWl0IFZhdWx0LmdldFJvb3RLZXkoKSkgcmV0dXJuO1xuXG5cdC8vIHNlcnZpY2UgaXMgYWxyZWFkeSBhbGl2ZTsgZXhpdFxuXHRpZihiX2FsaXZlKSByZXR1cm47XG5cblx0Ly8gc2VydmljZSBpcyBub3cgYWxpdmVcblx0Yl9hbGl2ZSA9IHRydWU7XG5cblx0Ly8gcmVzZXQgYXV0byBoZWFsIHRpbWVvdXRcblx0Y2xlYXJUaW1lb3V0KGlfYXV0b19oZWFsKTtcblxuXHQvLyByZWFkIGZyb20gc3RvcmVzXG5cdGNvbnN0IFtcblx0XHRrc19hY2NvdW50cyxcblx0XHRrc19jaGFpbnMsXG5cdFx0a3NfbmV0d29ya3MsXG5cdF0gPSBhd2FpdCBQcm9taXNlLmFsbChbXG5cdFx0QWNjb3VudHMucmVhZCgpLFxuXHRcdENoYWlucy5yZWFkKCksXG5cdFx0TmV0d29ya3MucmVhZCgpLFxuXHRdKTtcblxuXHQvLyBwcmVwIG5ldHdvcmsgPT4gY2hhaW4gbWFwXG5cdGNvbnN0IGhfbmV0d29ya3M6IFJlY29yZDxDaGFpblBhdGgsIE5ldHdvcmtbJ2ludGVyZmFjZSddPiA9IHt9O1xuXHRmb3IoY29uc3QgW3BfbmV0d29yaywgZ19uZXR3b3JrXSBvZiBrc19uZXR3b3Jrcy5lbnRyaWVzKCkpIHtcblx0XHRoX25ldHdvcmtzW2dfbmV0d29yay5jaGFpbl0gPSBoX25ldHdvcmtzW2dfbmV0d29yay5jaGFpbl0gfHwgZ19uZXR3b3JrO1xuXHR9XG5cblxuXHQvLyBlYWNoIGNoYWluIHcvIGl0cyBkZWZhdWx0IHByb3ZpZGVyXG5cdGZvcihjb25zdCBbcF9jaGFpbiwgZ19uZXR3b3JrXSBvZiBvZGUoaF9uZXR3b3JrcykpIHtcblx0XHQvLyBza2lwIGJyb2tlbiBjb3Ntb3Ncblx0XHRpZihwX2NoYWluID09PSAnL2ZhbWlseS5jb3Ntb3MvY2hhaW4udGhldGEtdGVzdG5ldC0wMDEnKSBjb250aW51ZTtcblxuXHRcdC8vIGFscmVhZHkgbGlzdGVuaW5nXG5cdFx0aWYoaF9zb2NrZXRzW3BfY2hhaW5dKSBjb250aW51ZTtcblxuXHRcdC8vIHJlZiBjaGFpblxuXHRcdGNvbnN0IGdfY2hhaW4gPSBrc19jaGFpbnMuYXQocF9jaGFpbikhO1xuXG5cdFx0Ly8gY3JlYXRlIG5ldHdvcmtcblx0XHRjb25zdCBwX25ldHdvcmsgPSBOZXR3b3Jrcy5wYXRoRnJvbShnX25ldHdvcmspO1xuXHRcdGNvbnN0IGtfbmV0d29yayA9IE5ldHdvcmtzLmFjdGl2YXRlKGdfbmV0d29yaywgZ19jaGFpbik7XG5cblx0XHQvLyBsaXN0ZW4gZm9yIG5ldyBibG9ja3Ncblx0XHRjb25zdCBhX3JlY2VudHM6IG51bWJlcltdID0gW107XG5cdFx0dHJ5IHtcblx0XHRcdGhfc29ja2V0c1twX2NoYWluXSA9IGtfbmV0d29yay5saXN0ZW4oW1xuXHRcdFx0XHRgdG0uZXZlbnQ9J05ld0Jsb2NrJ2AsXG5cdFx0XHRdLCAoZF9raWxsLCBnX3ZhbHVlKSA9PiB7XG5cdFx0XHRcdGlmKGRfa2lsbCkge1xuXHRcdFx0XHRcdGRlbGV0ZSBoX3NvY2tldHNbcF9jaGFpbl07XG5cdFx0XHRcdH1cblx0XHRcdFx0ZWxzZSBpZihnX3ZhbHVlKSB7XG5cdFx0XHRcdFx0YV9yZWNlbnRzLnB1c2goRGF0ZS5ub3coKSk7XG5cblx0XHRcdFx0XHRjb25zdCBnX2Jsb2NrID0gZ192YWx1ZS5ibG9jayBhcyB7XG5cdFx0XHRcdFx0XHRoZWFkZXI6IEJsb2NrSW5mb0hlYWRlcjtcblx0XHRcdFx0XHR9O1xuXG5cdFx0XHRcdFx0d2hpbGUoYV9yZWNlbnRzLmxlbmd0aCA+IDE2KSB7XG5cdFx0XHRcdFx0XHRhX3JlY2VudHMuc2hpZnQoKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRnbG9iYWxfYnJvYWRjYXN0KHtcblx0XHRcdFx0XHRcdHR5cGU6ICdibG9ja0luZm8nLFxuXHRcdFx0XHRcdFx0dmFsdWU6IHtcblx0XHRcdFx0XHRcdFx0aGVhZGVyOiBnX2Jsb2NrLmhlYWRlcixcblx0XHRcdFx0XHRcdFx0Y2hhaW46IHBfY2hhaW4sXG5cdFx0XHRcdFx0XHRcdG5ldHdvcms6IHBfbmV0d29yayxcblx0XHRcdFx0XHRcdFx0cmVjZW50czogYV9yZWNlbnRzLFxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cblx0XHRcdGNvbnNvbGUuaW5mbyh7XG5cdFx0XHRcdGhfc29ja2V0cyxcblx0XHRcdH0pO1xuXHRcdH1cblx0XHRjYXRjaChlX2xpc3Rlbikge1xuXHRcdFx0c3lzZXJyKHtcblx0XHRcdFx0dGl0bGU6ICdXZWJzb2NrZXQgRXJyb3InLFxuXHRcdFx0XHRlcnJvcjogZV9saXN0ZW4sXG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHQvLyBlYWNoIGFjY291bnRcblx0XHRmb3IoY29uc3QgW3BfYWNjb3VudCwgZ19hY2NvdW50XSBvZiBrc19hY2NvdW50cy5lbnRyaWVzKCkpIHtcblx0XHRcdGNvbnN0IHNhX293bmVyID0gQ2hhaW5zLmFkZHJlc3NGb3IoZ19hY2NvdW50LnB1YmtleSwgZ19jaGFpbik7XG5cblx0XHRcdGlmKGtfbmV0d29yay5oYXNScGMpIHtcblx0XHRcdFx0Y29uc3Qgc2lfc29ja2V0X2dyb3VwID0gcF9jaGFpbisnXFxuJytnX25ldHdvcmsucnBjSG9zdCErJ1xcbic7XG5cblx0XHRcdFx0Ly8gc3Vic2NyaWJlIHRvIHdlYnNvY2tldCBldmVudHNcblx0XHRcdFx0bGV0IGZfY2xvc2UgPSBoX3NvY2tldHNbc2lfc29ja2V0X2dyb3VwXTtcblx0XHRcdFx0aWYoIWZfY2xvc2UpIHtcblx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0YXdhaXRfdHJhbnNmZXIoc2lfc29ja2V0X2dyb3VwLCBrX25ldHdvcmssIGdfY2hhaW4sIGdfYWNjb3VudCwgc2Ffb3duZXIsICdSZWNlaXZlJyk7XG5cdFx0XHRcdFx0XHRhd2FpdF90cmFuc2ZlcihzaV9zb2NrZXRfZ3JvdXAsIGtfbmV0d29yaywgZ19jaGFpbiwgZ19hY2NvdW50LCBzYV9vd25lciwgJ1NlbmQnKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Y2F0Y2goZV9yZWNlaXZlKSB7XG5cdFx0XHRcdFx0XHRzeXNlcnIoe1xuXHRcdFx0XHRcdFx0XHR0aXRsZTogJ1Byb3ZpZGVyIEVycm9yJyxcblx0XHRcdFx0XHRcdFx0ZXJyb3I6IGVfcmVjZWl2ZSxcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIGNvbmR1Y3QgYWNjb3VudCBzeW5jXG5cdFx0XHRcdGF3YWl0IGtfbmV0d29yay5zeW5jaHJvbml6ZUFsbChzYV9vd25lcik7XG5cdFx0XHR9XG5cblx0XHRcdC8vIC8vIHF1ZXJ5IGFsbCBiYWxhbmNlc1xuXHRcdFx0Ly8gdm9pZCBrX25ldHdvcmsuYmFua0JhbGFuY2VzKHNhX293bmVyKS50aGVuKChoX2JhbGFuY2VzKSA9PiB7ICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1sb29wLWZ1bmNcblx0XHRcdC8vIFx0Ly8gcXVlcnkgc3VjY2VlZGVkXG5cdFx0XHQvLyBcdGZvcihjb25zdCBbc2lfY29pbiwgZ19idW5kbGVdIG9mIG9kZShoX2JhbGFuY2VzKSkge1xuXHRcdFx0Ly8gXHRcdGNvbnN0IHtcblx0XHRcdC8vIFx0XHRcdGJhbGFuY2U6IGdfYmFsYW5jZSxcblx0XHRcdC8vIFx0XHRcdGNhY2hlZDogZ19jYWNoZWQsXG5cdFx0XHQvLyBcdFx0fSA9IGdfYnVuZGxlO1xuXG5cdFx0XHQvLyBcdFx0Ly8gYW1vdW50IGRpZmZlcnMgZnJvbSBjYWNoZWRcblx0XHRcdC8vIFx0XHRpZihnX2JhbGFuY2UuYW1vdW50ICE9PSBnX2NhY2hlZD8uYW1vdW50KSB7XG5cdFx0XHQvLyBcdFx0XHQvLyBub3RpZnlcblx0XHRcdC8vIFx0XHRcdGFfbm90aWZpY2F0aW9ucy5wdXNoKHtcblx0XHRcdC8vIFx0XHRcdFx0dHlwZTogJ2JhbGFuY2UnLFxuXHRcdFx0Ly8gXHRcdFx0XHRjaGFpbjogZ19jaGFpbixcblx0XHRcdC8vIFx0XHRcdFx0Y29pbjogc2lfY29pbixcblx0XHRcdC8vIFx0XHRcdFx0Y2FjaGVkOiBnX2NhY2hlZCxcblx0XHRcdC8vIFx0XHRcdFx0YmFsYW5jZTogZ19iYWxhbmNlLFxuXHRcdFx0Ly8gXHRcdFx0fSk7XG5cblx0XHRcdC8vIFx0XHRcdGxldCBzX21lc3NhZ2UgPSAnJztcblx0XHRcdC8vIFx0XHRcdGxldCBzX2NvbnRleHQgPSAnJztcblx0XHRcdC8vIFx0XHRcdGlmKDEgPT09IGFfbm90aWZpY2F0aW9ucy5sZW5ndGgpIHtcblx0XHRcdC8vIFx0XHRcdFx0aWYoZ19jYWNoZWQpIHtcblx0XHRcdC8vIFx0XHRcdFx0XHRjb25zdCB5Z19jaGFuZ2UgPSBuZXcgQmlnTnVtYmVyKGdfYmFsYW5jZS5hbW91bnQpLm1pbnVzKGdfY2FjaGVkLmFtb3VudClcblx0XHRcdC8vIFx0XHRcdFx0XHRcdC5zaGlmdGVkQnkoLWdfY2hhaW4uY29pbnNbc2lfY29pbl0uZGVjaW1hbHMpO1xuXG5cdFx0XHQvLyBcdFx0XHRcdFx0Ly8gcmVjZWl2ZWQgY29pbnNcblx0XHRcdC8vIFx0XHRcdFx0XHRpZih5Z19jaGFuZ2UuZ3QoMCkpIHtcblx0XHRcdC8vIFx0XHRcdFx0XHRcdHNfbWVzc2FnZSA9IGBCYWxhbmNlIGluY3JlYXNlZCArJHtmb3JtYXRfYW1vdW50KHlnX2NoYW5nZS50b051bWJlcigpLCB0cnVlKX0gJHtzaV9jb2lufWA7XG5cdFx0XHQvLyBcdFx0XHRcdFx0XHQvLyBzX2NvbnRleHQgPSBgZnJvbSBgXG5cdFx0XHQvLyBcdFx0XHRcdFx0fVxuXHRcdFx0Ly8gXHRcdFx0XHR9XG5cblx0XHRcdC8vIFx0XHRcdFx0Y2hyb21lLm5vdGlmaWNhdGlvbnMuY3JlYXRlKCdiYW5rQmFsYW5jZUNoYW5nZScsIHtcblx0XHRcdC8vIFx0XHRcdFx0XHR0eXBlOiAnYmFzaWMnLFxuXHRcdFx0Ly8gXHRcdFx0XHRcdHRpdGxlOiAnQmFsYW5jZSBJbmNyZWFzZWQnLFxuXHRcdFx0Ly8gXHRcdFx0XHRcdG1lc3NhZ2U6IHNfbWVzc2FnZSxcblx0XHRcdC8vIFx0XHRcdFx0XHRjb250ZXh0TWVzc2FnZTogc19jb250ZXh0LFxuXHRcdFx0Ly8gXHRcdFx0XHRcdHByaW9yaXR5OiAxLFxuXHRcdFx0Ly8gXHRcdFx0XHRcdGljb25Vcmw6ICcnLFxuXHRcdFx0Ly8gXHRcdFx0XHRcdC8vIGV2ZW50VGltZTogXG5cdFx0XHQvLyBcdFx0XHRcdH0pO1xuXHRcdFx0Ly8gXHRcdFx0fVxuXHRcdFx0Ly8gXHRcdH1cblx0XHRcdC8vIFx0fVxuXHRcdFx0Ly8gfSk7XG5cdFx0fVxuXHR9XG5cblx0Ly8gc3RhcnQgY291bnRkb3duIHRvIHVuLWFsaXZlIHRoZSBzZXJ2aWNlIGZsYWdcblx0YXV0b19oZWFsKCk7XG59XG5cbmdsb2JhbF9yZWNlaXZlKHtcblx0bG9naW4oKSB7XG5cdFx0dm9pZCBwZXJpb2RpY19jaGVjaygpO1xuXHR9LFxufSk7XG4iXSwibmFtZXMiOlsiSWNzSG9zdCIsInNoX3Nlc3Npb24iLCJobWFjU0hBMjU2IiwiQV9DSEFJTl9DQVRFR09SSUVTIiwiQV9DSEFJTl9GQU1JTElFUyIsIlJfQ0hBSU5fSUQiLCJSX0NIQUlOX05BTUUiLCJleHBvcnRzIiwibG9jYXRlX3NjcmlwdCIsImRfcnVudGltZSIsImRlYnVnIiwicyIsImFfYXJncyIsIlNlY3VyaXR5RXJyb3IiLCJkX3BvcnQiLCJiX2FjcXVhaW50ZWQiLCJiX2Fib3J0ZWQiLCJhYm9ydCIsInNfcmVhc29uIiwiYXNzZXJ0X25vdF9hYm9ydGVkIiwiaF9oYW5kbGVyc19hdXRoZWQiLCJnX3JlcXVlc3QiLCJpX3JlcXVlc3QiLCJnX21hbmlmZXN0IiwiZXJyIiwiYV9jaGFpbnMiLCJhc19jaGFpbnMiLCJhX3JlcXVlc3RzIiwiaV9jaGFpbiIsImdfY2hhaW4iLCJjZXJyIiwicF9jaGFpbiIsInNfbGFiZWwiLCJhX3BvcnRzIiwiZF9jaGFubmVsIiwic19yZXNvbiIsImF1dGhlZF9tZXNzYWdlX2hhbmRsZXIiLCJkX2V2ZW50Iiwic2lfdHlwZSIsIndfdmFsdWUiLCJmX2hhbmRsZXIiLCJoX2hhbmRsZXJzX3dpbmRvdyIsIl8iLCJkX3dpbmRvd19yZWxheSIsImRfZG9jdW1lbnRfcmVsYXkiLCJnX3BheWxvYWQiLCJkbV9wYXlsb2FkIiwiZG1fc2NyaXB0IiwicF9yZWxheSIsImRtX2lmcmFtZSIsImRtX2RpdiIsImR3X3NlbmRlciIsImdfZGF0YSIsInNfYXV0aCIsIk1jc1JhdGlmaWVyIiwic2lsZW50X2V4aXQiLCJzX2Vycm9yIiwiZl9hZGRfZXZlbnRfbGlzdGVuZXIiLCJkX3JlZmxlY3QiLCJmX2dldF9vd25fcHJvcGVydHlfZGVzY3JpcHRvciIsImZfZ2V0X3Byb3RvdHlwZV9vZiIsImxvY2F0ZV9kZXNjcmlwdG9yIiwid19yZWYiLCJzaV9wcm9wIiwiYV9saW5lYWdlIiwiZ19kZXNjcmlwdG9yIiwid19wYXJlbnQiLCJhY2Nlc3Nfc2lsZW50bHkiLCJiX2FjY2Vzc29ycyIsImtfc3RhcnNoZWxsIiwic19zaWdfYXV0aCIsImdfcHJvb2YiLCJ6X2RhdGEiLCJzX3BhdHRlcm4iLCJnX3NjcmlwdCIsInNyX3NjcmlwdCIsInpfcmVzb3VyY2UiLCJBX01BVENIX0FMTCIsIkdfU0NSSVBUX0JBU0lDIiwiSF9DT05URU5UX1NDUklQVF9ERUZTIiwiaF9vdmVycmlkZXMiLCJHX0FQUF9QT0xJQ1lfUkVTVUxUX0JMT0NLRUQiLCJwb2xpY3lfYXBwbGllcyIsImdfcG9saWN5IiwiZ19hcHAiLCJyX21hdGNoZXMiLCJyX2V4Y2VwdCIsIlBvbGljaWVzIiwiY3JlYXRlX3N0b3JlX2NsYXNzIiwiU0lfU1RPUkVfQVBQX1BPTElDSUVTIiwiV3JpdGFibGVTdG9yZSIsImtzX3BvbGljaWVzIiwiYl90cnVzdGVkIiwiTl9QWF9XSURUSF9QT1BVUCIsIk5fUFhfSEVJR0hUX1BPUFVQIiwiZmxvd19nZW5lcmljIiwiaF9wYXJhbXMiLCJwX2Zsb3ciLCJwX2Nvbm5lY3QiLCJhX2Rpc3BsYXlzIiwiZ19zY3JlZW5faW5mbyIsImdfaW5mbyIsIm9uY2Vfc3RvcmFnZV9jaGFuZ2VzIiwiWFRfU0VDT05EUyIsImhfZGlzcGxheXMiLCJnX2Rpc3BsYXkiLCJnX3dpbmRvd19wb3NpdGlvbiIsInNpX2Rpc3BsYXkiLCJnX3dpbmRvdyIsImR0X2NyZWF0ZWQiLCJma19jcmVhdGVkIiwidGFiX3VwZGF0ZSIsImlfdGFiIiwiZHRfdXBkYXRlZCIsImZsb3dfYnJvYWRjYXN0IiwiZ2NfcHJvbXB0Iiwic2lfcmVxIiwic2lfY2hhbm5lbCIsInNlc3Npb25fc3RvcmFnZV9nZXQiLCJkdF9mbG93IiwiZF9icm9hZGNhc3QiLCJma19yZXNvbHZlIiwic2h1dGRvd24iLCJiX2Fuc3dlciIsImNsb3NlX2xpc3RlbmVyIiwibWVzc2FnZV9saXN0ZW5lciIsInNlc3Npb25fc3RvcmFnZV9yZW1vdmUiLCJnX21zZyIsImlfd2luZG93IiwiZ19hd2FpdGVycyIsInNpX2FyZWEiLCJzaV9rZXkiLCJ4dF90aW1lb3V0IiwiZmVfcmVqZWN0IiwiaF9hd2FpdGVycyIsImFfYXdhaXRlcnMiLCJpX2F3YWl0ZXIiLCJpX3RpbWVvdXQiLCJnX2NoYW5nZSIsImZpcmVfc3RvcmFnZV9jaGFuZ2UiLCJmX2F3YWl0ZXIiLCJoX2NoYW5nZXMiLCJoX2xpc3RlbmVycyIsImRfc2NyaXB0aW5nIiwiZ2Nfc2NyaXB0IiwiYl9yZWdpc3RlcmVkIiwiZl9saXN0ZW5lciIsInBhcnNlX3NlbmRlciIsInBfc2VuZGVyIiwic19wcm90b2NvbCIsInNfaG9zdCIsImJsb2NrX2FwcCIsImdfc2VuZGVyIiwic19tc2ciLCJhcHBfYmxvY2tlZCIsInNfc2NoZW1lIiwiUl9ET01BSU5fTE9DQUxIT1NUIiwiU2V0dGluZ3MiLCJnZW5lcmF0ZV9rZXkiLCJuYl9zaXplIiwiYXR1OF9zZWNyZXQiLCJ4IiwiSF9IQU5ETEVSU19JQ1MiLCJma19yZXNwb25kIiwiZ19wYWdlIiwiVmF1bHQiLCJiX2ZpbmlzaGVkIiwiQXBwcyIsImdfc2VjcmV0cyIsImdfcmVxIiwiSF9IQU5ETEVSU19JTlNUUlVDVElPTlMiLCJnX3ZhbHVlIiwiZ19uZXR3b3JrIiwiTmV0d29ya3MiLCJDaGFpbnMiLCJnX2F0dGVtcHQiLCJCcm9hZGNhc3RNb2RlIiwic2lfbm90aWZjYXRpb24iLCJidWZmZXJfdG9fYmFzZTY0Iiwic2hhMjU2X3N5bmMiLCJ0ZXh0X3RvX2J1ZmZlciIsIkluY2lkZW50cyIsIm1lc3NhZ2Vfcm91dGVyIiwiaF9oYW5kbGVycyIsInpfcmVzcG9uc2UiLCJnX2FsYXJtIiwicGVyaW9kaWNfY2hlY2siLCJiX2FsaXZlIiwiaF9zb2NrZXRzIiwiYXV0b19oZWFsIiwiWFRfTUlOVVRFUyIsImlfYXV0b19oZWFsIiwiYXdhaXRfdHJhbnNmZXIiLCJzaV9zb2NrZXRfZ3JvdXAiLCJrX25ldHdvcmsiLCJnX2FjY291bnQiLCJzYV9vd25lciIsInNpX3NvY2tldCIsImRfa2lsbCIsImdfdHgiLCJhX2xvZ3MiLCJnX2V2ZW50IiwiZ190cmFuc2ZlciIsImZvbGRfYXR0cnMiLCJzX3BheWxvYWQiLCJtX2Ftb3VudCIsIlJfVFJBTlNGRVJfQU1PVU5UIiwic3lzd2FybiIsInNfYW1vdW50Iiwic2lfZGVub20iLCJzaV9jb2luX3Rlc3QiLCJnX2NvaW5fdGVzdCIsIm9kZSIsInhfYW1vdW50IiwiQmlnTnVtYmVyIiwiZm9ybWF0X2Ftb3VudCIsInNfb3RoZXIiLCJwX2NvbnRhY3QiLCJBZ2VudHMiLCJnX2NvbnRhY3QiLCJhYmJyZXZpYXRlX2FkZHIiLCJzaV90eG4iLCJzaV9ub3RpZiIsImdfZG93bmxvYWQiLCJXZWJSZXNvdXJjZUNhY2hlIiwia3NfYWNjb3VudHMiLCJrc19jaGFpbnMiLCJrc19uZXR3b3JrcyIsIkFjY291bnRzIiwiaF9uZXR3b3JrcyIsInBfbmV0d29yayIsImFfcmVjZW50cyIsImdfYmxvY2siLCJnbG9iYWxfYnJvYWRjYXN0IiwiZV9saXN0ZW4iLCJzeXNlcnIiLCJwX2FjY291bnQiLCJlX3JlY2VpdmUiLCJnbG9iYWxfcmVjZWl2ZSJdLCJtYXBwaW5ncyI6ImlXQTRCd0IsU0FBQUEsR0FBQSxDQUN2QixRQUFTQyxDQUNWLEVBQXVCLENBRWhCLE1BQUFDLEVBQWEsVUFBQSxpbk5BRWIsQ0FDTCxtQkFBQUMsRUFDQSxpQkFBQUMsRUFDQSxXQUFBQyxFQUNBLGFBQUFDLENBQUEsRUFDRyxTQUFBQyxFQUFBLG1WQUVFLENBQ0wsY0FBQUMsQ0FBQSxFQUNHLFNBQUFELEVBQUEsdVlBR0VFLEVBQTRGLE9BQU8sUUFHbkdDLEVBQVEsQ0FBQ0MsS0FBY0MsSUFBa0IsUUFBUSxNQUFNLHVCQUF1QkQsSUFBSyxHQUFHQyxDQUFNLEVBQzVGRixFQUFBLGdCQUFnQixTQUFTLE9BQU8sRUFvRHRDLE1BQU1HLFVBQXNCLEtBQU0sQ0FBQyxDQUcvQixJQUFBQyxFQUdBQyxF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
