import{A as L,S as U,H as X,T as O,d as G,a as J,b as Q,B as Y,P as Z,c as ee}from"../../PreRegister.a35181ca.js";import{S as D,i as H,s as K,a as M,c as g,m as k,t as h,b as v,d as S,e as te,H as se,C as ae,f as ne,g as re,A as F,h as y,j as C,k as f,l as oe,n as u,y as N,o as ie,p as ce,q as le,r as fe,u as ue,v as V,I as _e,w as z,x as W,z as j,W as pe,P as me,B as de,D as $e,E as be,F as we,V as B,G as A,J as ye,K as ge,L as ke,M as he,N as ve,X as Se,O as Te}from"../../web-resource-cache.df128f7e.js";import{s as Ce}from"../../index.5cb01ff5.js";function Ee(r){let e,n,t;return{c(){e=z("By checking this box, you agree to the "),n=C("a"),n.textContent="Terms and Conditions",t=z("."),W(n,"href","https://starshell.net/tac.html")},m(o,i){f(o,e,i),f(o,n,i),f(o,t,i)},p:j,d(o){o&&u(e),o&&u(n),o&&u(t)}}}function Re(r){let e,n,t,o,i,w,l,m,c,b,d,_,s;e=new se({props:{title:"Create a new wallet"}});function $(a){r[4](a)}let E={id:"",$$slots:{default:[Ee]},$$scope:{ctx:r}};return r[0]!==void 0&&(E.checked=r[0]),c=new ae({props:E}),ne.push(()=>re(c,"checked",$)),_=new F({props:{confirm:["Create new StarShell wallet",r[2],!r[0]],contd:{creator:L,props:{account:r[1]}}}}),{c(){g(e.$$.fragment),n=y(),t=C("p"),t.textContent="This software is currently in beta. Since it has not undergone security audits, importing and exporting of mnemonics and private keys is forbidden.",o=y(),i=C("p"),i.textContent="This means you will not be able to backup seed phrases, private keys, or use hardware wallets.",w=y(),l=C("p"),l.textContent="All transactions take place on a test network.",m=y(),g(c.$$.fragment),d=y(),g(_.$$.fragment)},m(a,p){k(e,a,p),f(a,n,p),f(a,t,p),f(a,o,p),f(a,i,p),f(a,w,p),f(a,l,p),f(a,m,p),k(c,a,p),f(a,d,p),k(_,a,p),s=!0},p(a,p){const R={};p&64&&(R.$$scope={dirty:p,ctx:a}),!b&&p&1&&(b=!0,R.checked=a[0],oe(()=>b=!1)),c.$set(R);const x={};p&1&&(x.confirm=["Create new StarShell wallet",a[2],!a[0]]),p&2&&(x.contd={creator:L,props:{account:a[1]}}),_.$set(x)},i(a){s||(h(e.$$.fragment,a),h(c.$$.fragment,a),h(_.$$.fragment,a),s=!0)},o(a){v(e.$$.fragment,a),v(c.$$.fragment,a),v(_.$$.fragment,a),s=!1},d(a){S(e,a),a&&u(n),a&&u(t),a&&u(o),a&&u(i),a&&u(w),a&&u(l),a&&u(m),S(c,a),a&&u(d),S(_,a)}}}function xe(r){let e,n;return e=new M({props:{$$slots:{default:[Re]},$$scope:{ctx:r}}}),{c(){g(e.$$.fragment)},m(t,o){k(e,t,o),n=!0},p(t,[o]){const i={};o&67&&(i.$$scope={dirty:o,ctx:t}),e.$set(i)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Ae(r,e,n){let t;te(r,N,c=>n(1,t=c));let{reset:o=!1}=e,{b_agreed:i=!1}=e;async function w(c,b,d){const _=await V.open(s=>s.put({family:"cosmos",pubkey:b,secret:c,name:"Citizen 1",pfp:d}));return await _e.record(null,{type:"account_created",time:Date.now(),data:{account:_}}),_}async function l(){const[c,b]=await ie.generatePrivateKey(!0),d=crypto.randomUUID(),_=await ce.open(async E=>E.put({type:"private_key",data:await c.access(a=>le(a)),name:"Auto-generated private key for beta",uuid:d,security:{type:"none"}})),s=b.exportPublicKey(),$=await w(_,fe(s),"");ue(N,t=$,t)}function m(c){i=c,n(0,i)}return r.$$set=c=>{"reset"in c&&n(3,o=c.reset),"b_agreed"in c&&n(0,i=c.b_agreed)},[i,t,l,o,m]}class Ie extends D{constructor(e){super(),H(this,e,Ae,xe,K,{reset:3,b_agreed:0})}}const Pe=/^([<>]=?)?(.+)$/;function Le(r,e){const[,n,t]=Pe.exec(e);return n==="<="?Ce.lte(r,t):!1}async function Oe(){const r=[],e=await pe.get(me);for(const n of e||[])if(Le(de,n.affects))switch(n.action){case"restrict":{r.push(n);break}}return r}function Ne(r){let e,n,t,o,i,w,l,m,c,b,d,_;return e=new $e({props:{dim:96}}),t=new U({}),i=new X({}),d=new F({props:{confirm:["See Instructions",r[0]]}}),{c(){g(e.$$.fragment),n=y(),g(t.$$.fragment),o=y(),g(i.$$.fragment),w=y(),l=C("div"),l.innerHTML=`<div>Please update to continue beta testing.</div> 
		<div>A new version has been released.</div>`,m=y(),c=C("p"),b=y(),g(d.$$.fragment),W(l,"class","large")},m(s,$){k(e,s,$),f(s,n,$),k(t,s,$),f(s,o,$),k(i,s,$),f(s,w,$),f(s,l,$),f(s,m,$),f(s,c,$),f(s,b,$),k(d,s,$),_=!0},p:j,i(s){_||(h(e.$$.fragment,s),h(t.$$.fragment,s),h(i.$$.fragment,s),h(d.$$.fragment,s),_=!0)},o(s){v(e.$$.fragment,s),v(t.$$.fragment,s),v(i.$$.fragment,s),v(d.$$.fragment,s),_=!1},d(s){S(e,s),s&&u(n),S(t,s),s&&u(o),S(i,s),s&&u(w),s&&u(l),s&&u(m),s&&u(c),s&&u(b),S(d,s)}}}function ze(r){let e,n;return e=new M({props:{root:!0,classNames:"restricted",$$slots:{default:[Ne]},$$scope:{ctx:r}}}),{c(){g(e.$$.fragment)},m(t,o){k(e,t,o),n=!0},p(t,[o]){const i={};o&2&&(i.$$scope={dirty:o,ctx:t}),e.$set(i)},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){S(e,t)}}}function Be(r){return[()=>be("https://github.com/SolarRepublic/starshell-beta-releases/blob/main/README.md#updating")]}class De extends D{constructor(e){super(),H(this,e,Be,ze,K,{})}}document.getElementById("factory-reset")?.addEventListener("click",async()=>{await chrome.storage.session.clear(),await chrome.storage.local.clear(),await T()});let I=null,q=0,P=!1;async function T(){if(P)return;if(P=!0,I)try{I.$destroy()}catch{}try{we(document.body,"main")?.remove()}catch{}let r=!1,e,n={};const t=await B.getRootKey();if((await Oe()).length)e={creator:De};else if(t){const l=A({logout(){l(),T()}});await ye();const m=await V.read();Object.keys(m.raw).length?(e={creator:Y},r=!0):(e={creator:Ie},n={completed:T})}else{const l=A({login(){l(),T()}});await B.getBase()?e={creator:ee}:e={creator:Z},n={completed:Te}}let i=!1;const w=ge.subscribe(l=>{if(!i){i=!0;return}if(l){let m=function(){clearTimeout(b),b=setTimeout(()=>{c.sendMessage({type:"wake"}),console.warn("Waking idle service worker")},2e3)};w(),r?l.activateThread(O.TOKENS):l.activateThread(O.INIT);try{G.style.display="none"}catch{}const c=chrome.runtime;let b=0;A({heartbeat(){m()}}),r&&m()}});I=new J({target:document.body,props:{mode:"app",page:e},context:new Map(ke(n))}),clearTimeout(q),P=!1}if(location.hostname==="localhost")Object.fromEntries(new URLSearchParams(location.search.slice(1)).entries()).autoskip?(console.log("Autoskipping registration"),(async()=>(localStorage.clear(),await he("     "),await ve("     "),T()))()):T();else{q=globalThis.setTimeout(()=>{Q("Fatal time out, likely caused by an uncaught error.")},15*Se);try{T()}catch(r){debugger;console.error(r)}}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG9wdXAuODE3NmIxYjkuanMiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3NyYy9hcHAvc2NyZWVuL0NyZWF0ZVdhbGxldC5zdmVsdGUiLCIuLi8uLi8uLi8uLi8uLi9zcmMvZXh0ZW5zaW9uL3Jlc3RyaWN0aW9ucy50cyIsIi4uLy4uLy4uLy4uLy4uL3NyYy9hcHAvc2NyZWVuL1Jlc3RyaWN0ZWQuc3ZlbHRlIiwiLi4vLi4vLi4vLi4vLi4vc3JjL2VudHJ5L3BvcHVwLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIjxzY3JpcHQgbGFuZz1cInRzXCI+XG5cdGltcG9ydCB7eXdfYWNjb3VudF9yZWZ9IGZyb20gJyMjL21lbSc7XG5cdGltcG9ydCB0eXBlIHsgQWNjb3VudCwgQWNjb3VudFBhdGggfSBmcm9tICcjL21ldGEvYWNjb3VudCc7XG5cdGltcG9ydCB0eXBlIHsgUGZwLCBQZnBQYXRoIH0gZnJvbSAnIy9tZXRhL3BmcCc7XG5cdGltcG9ydCB0eXBlIHsgUmVzb3VyY2UgfSBmcm9tICcjL21ldGEvcmVzb3VyY2UnO1xuXHRpbXBvcnQgeyBBY2NvdW50cyB9IGZyb20gJyMvc3RvcmUvYWNjb3VudHMnO1xuXHRpbXBvcnQgeyBTZWNyZXRzIH0gZnJvbSAnIy9zdG9yZS9zZWNyZXRzJztcblx0aW1wb3J0IHsgb2RlIH0gZnJvbSAnIy91dGlsL2JlbHQnO1xuXHRpbXBvcnQgeyBidWZmZXJfdG9fYmFzZTY0LCBidWZmZXJfdG9fc3RyaW5nOCwgc2hhMjU2X3N5bmMsIHRleHRfdG9fYnVmZmVyIH0gZnJvbSAnIy91dGlsL2RhdGEnO1xuXHRpbXBvcnQgQWN0aW9uc0xpbmUgZnJvbSAnLi4vdWkvQWN0aW9uc0xpbmUuc3ZlbHRlJztcblx0aW1wb3J0IENoZWNrYm94RmllbGQgZnJvbSAnLi4vdWkvQ2hlY2tib3hGaWVsZC5zdmVsdGUnO1xuXHRpbXBvcnQgeyBIZWFkZXIsIFNjcmVlbiB9IGZyb20gJy4vX3NjcmVlbnMnO1xuXG5cdGltcG9ydCB7IFNlY3AyNTZrMUtleSB9IGZyb20gJyMvY3J5cHRvL3NlY3AyNTZrMSc7XG5cdGltcG9ydCB0eXBlIHsgU2VjcmV0LCBTZWNyZXRQYXRoIH0gZnJvbSAnIy9tZXRhL3NlY3JldCc7XG5cdGltcG9ydCBBY2NvdW50RWRpdCBmcm9tICcuL0FjY291bnRFZGl0LnN2ZWx0ZSc7XG5cdGltcG9ydCB7SW5jaWRlbnRzfSBmcm9tICcjL3N0b3JlL2luY2lkZW50cyc7XG5cblxuXHRleHBvcnQgbGV0IHJlc2V0ID0gZmFsc2U7XG5cblx0ZXhwb3J0IGxldCBiX2FncmVlZCA9IGZhbHNlO1xuXG5cdGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZV9hY2NvdW50KHBfc2VjcmV0OiBTZWNyZXRQYXRoLCBzYV9vd25lcjogc3RyaW5nLCBwX3BmcDogUGZwUGF0aCk6IFByb21pc2U8QWNjb3VudFBhdGg+IHtcblx0XHQvLyBvcGVuIGFjY291bnRzIHN0b3JlIGFuZCBzYXZlIG5ldyBhY2NvdW50XG5cdFx0Y29uc3QgcF9hY2NvdW50ID0gYXdhaXQgQWNjb3VudHMub3Blbihrc19hY2NvdW50cyA9PiBrc19hY2NvdW50cy5wdXQoe1xuXHRcdFx0ZmFtaWx5OiAnY29zbW9zJyxcblx0XHRcdHB1YmtleTogc2Ffb3duZXIsXG5cdFx0XHRzZWNyZXQ6IHBfc2VjcmV0LFxuXHRcdFx0bmFtZTogJ0NpdGl6ZW4gMScsXG5cdFx0XHRwZnA6IHBfcGZwLFxuXHRcdH0pKTtcblxuXHRcdC8vIGNyZWF0ZSBldmVudFxuXHRcdGF3YWl0IEluY2lkZW50cy5yZWNvcmQobnVsbCwge1xuXHRcdFx0dHlwZTogJ2FjY291bnRfY3JlYXRlZCcsXG5cdFx0XHR0aW1lOiBEYXRlLm5vdygpLFxuXHRcdFx0ZGF0YToge1xuXHRcdFx0XHRhY2NvdW50OiBwX2FjY291bnQsXG5cdFx0XHR9LFxuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIHBfYWNjb3VudDtcblx0fVxuXG5cdGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZV9wcml2YXRlX2tleSgpIHtcblx0XHQvLyBnZW5lcmF0ZSBuZXcgcHJpdmF0ZSBrZXlcblx0XHRjb25zdCBba2tfc2ssIGtfc2VjcF0gPSBhd2FpdCBTZWNwMjU2azFLZXkuZ2VuZXJhdGVQcml2YXRlS2V5KHRydWUpO1xuXG5cdFx0Ly8gZ2VuZXJhdGUgbmV3IHV1aWQgZm9yIHRoZSBzZWNyZXRcblx0XHRjb25zdCBzX3V1aWQgPSBjcnlwdG8ucmFuZG9tVVVJRCgpO1xuXG5cdFx0Ly8gc2F2ZSBwcml2YXRlIGtleSB0byBzZWNyZXRzIHN0b3JlXG5cdFx0Y29uc3QgcF9zZWNyZXQgPSBhd2FpdCBTZWNyZXRzLm9wZW4oYXN5bmMga3MgPT4ga3MucHV0KHtcblx0XHRcdHR5cGU6ICdwcml2YXRlX2tleScsXG5cdFx0XHRkYXRhOiBhd2FpdCBra19zay5hY2Nlc3MoYXR1OF9zayA9PiBidWZmZXJfdG9fc3RyaW5nOChhdHU4X3NrKSksXG5cdFx0XHRuYW1lOiAnQXV0by1nZW5lcmF0ZWQgcHJpdmF0ZSBrZXkgZm9yIGJldGEnLFxuXHRcdFx0dXVpZDogc191dWlkLFxuXHRcdFx0c2VjdXJpdHk6IHtcblx0XHRcdFx0dHlwZTogJ25vbmUnLFxuXHRcdFx0fSxcblx0XHR9KSk7XG5cblx0XHQvLyBleHBvcnQgcHVibGljIGtleVxuXHRcdGNvbnN0IGF0dThfcGsgPSBrX3NlY3AuZXhwb3J0UHVibGljS2V5KCk7XG5cblx0XHQvLyBcblx0XHRjb25zdCBwX2FjY291bnQgPSBhd2FpdCBjcmVhdGVfYWNjb3VudChwX3NlY3JldCwgYnVmZmVyX3RvX2Jhc2U2NChhdHU4X3BrKSwgJycpO1xuXG5cdFx0Ly8gc2V0IGFjY291bnRcblx0XHQkeXdfYWNjb3VudF9yZWYgPSBwX2FjY291bnQ7XG5cdH1cblx0Ly8gYXN5bmMgZnVuY3Rpb24gY3JlYXRlX3NlZWQoKSB7XG5cdC8vIFx0Ly8gY3JlYXRlIG5ldyBtbmVtb25pY1xuXHQvLyBcdGNvbnN0IGtuX3BhZGRlZCA9IGF3YWl0IGJpcDM5RW50cm9weVRvUGFkZGVkTW5lbW9uaWMoU2Vuc2l0aXZlQnl0ZXMucmFuZG9tKDMyKSk7XG5cblx0Ly8gXHQvLyBzYXZlIHBhZGRlZCBtbmVtb25pYyB0byBzZWNyZXRzIHN0b3JlXG5cdC8vIFx0YXdhaXQgU2VjcmV0cy5vcGVuKGtzID0+IGtzLmFkZCh7XG5cdC8vIFx0XHR0eXBlOiAnbW5lbW9uaWMnLFxuXHQvLyBcdFx0ZGF0YTogYnVmZmVyX3RvX3N0cmluZzgoa25fcGFkZGVkLmRhdGEpLFxuXHQvLyBcdFx0aGludDogJycsXG5cdC8vIFx0XHRuYW1lOiAnTW5lbW9uaWMgS2V5IGZvciBCZXRhJyxcblx0Ly8gXHRcdHV1aWQ6IGNyeXB0by5yYW5kb21VVUlEKCksXG5cdC8vIFx0XHRzZWN1cml0eToge1xuXHQvLyBcdFx0XHR0eXBlOiAnbm9uZScsXG5cdC8vIFx0XHR9LFxuXHQvLyBcdH0pKTtcblxuXHQvLyBcdC8vIHRyaW0gcGFkZGVkIG1uZW1vbmljXG5cdC8vIFx0Y29uc3Qga25fdHJpbW1lZCA9IHRyaW1QYWRkZWRNbmVtb25pYyhrbl9wYWRkZWQpO1xuXG5cdC8vIFx0Ly8gZ2VuZXJhdGUgc2VlZFxuXHQvLyBcdGNvbnN0IGtrX3NlZWQgPSBhd2FpdCBiaXAzOU1uZW1vbmljVG9TZWVkKCgpID0+IGtuX3RyaW1tZWQuZGF0YSwgKCkgPT4gVWludDhBcnJheS5mcm9tKFtdKSk7XG5cblxuXHQvLyBcdC8vIGRlcml2ZSBhY2NvdW50XG5cdC8vIFx0Y29uc3QgeV9iaXAzMiA9IEJJUDMyRmFjdG9yeShlY2MpO1xuXHQvLyBcdGF3YWl0IGtrX3NlZWQuYWNjZXNzKChhdHU4X3NlZWQpID0+IHtcblx0Ly8gXHRcdGNvbnN0IHlfbWFzdGVyID0geV9iaXAzMi5mcm9tU2VlZChhdHU4X3NlZWQgYXMgQnVmZmVyKTtcblx0Ly8gXHRcdGNvbnN0IHN4X2JpcDQ0OiBCaXA0NFBhdGggPSBgbS80NCcvNTI5Jy8wJy8wLzBgO1xuXHQvLyBcdFx0eV9tYXN0ZXIuZGVyaXZlUGF0aChzeF9iaXA0NCkucHJpdmF0ZUtleTtcblx0Ly8gXHR9KTtcblxuXHQvLyBcdC8vIGNyZWF0ZSBhY2NvdW50IHVzaW5nIG5ldyBzZWVkXG5cdC8vIFx0YXdhaXQgY3JlYXRlX2FjY291bnQoKTtcblx0Ly8gfVxuPC9zY3JpcHQ+XG5cbjxzdHlsZSBsYW5nPVwibGVzc1wiPlxuXHQuaWNvbiB7XG5cdFx0cGFkZGluZy10b3A6IDI1JTtcblx0fVxuPC9zdHlsZT5cblxuPFNjcmVlbj5cblx0PEhlYWRlclxuXHRcdHRpdGxlPVwiQ3JlYXRlIGEgbmV3IHdhbGxldFwiXG5cdC8+XG5cblx0PHA+XG5cdFx0VGhpcyBzb2Z0d2FyZSBpcyBjdXJyZW50bHkgaW4gYmV0YS4gU2luY2UgaXQgaGFzIG5vdCB1bmRlcmdvbmUgc2VjdXJpdHkgYXVkaXRzLCBpbXBvcnRpbmcgYW5kIGV4cG9ydGluZyBvZiBtbmVtb25pY3MgYW5kIHByaXZhdGUga2V5cyBpcyBmb3JiaWRkZW4uXG5cdDwvcD5cblxuXHQ8cD5cblx0XHRUaGlzIG1lYW5zIHlvdSB3aWxsIG5vdCBiZSBhYmxlIHRvIGJhY2t1cCBzZWVkIHBocmFzZXMsIHByaXZhdGUga2V5cywgb3IgdXNlIGhhcmR3YXJlIHdhbGxldHMuXG5cdDwvcD5cblxuXHQ8cD5cblx0XHRBbGwgdHJhbnNhY3Rpb25zIHRha2UgcGxhY2Ugb24gYSB0ZXN0IG5ldHdvcmsuXG5cdDwvcD5cblxuXHQ8Q2hlY2tib3hGaWVsZCBpZD1cIlwiIGJpbmQ6Y2hlY2tlZD17Yl9hZ3JlZWR9PlxuXHRcdEJ5IGNoZWNraW5nIHRoaXMgYm94LCB5b3UgYWdyZWUgdG8gdGhlIDxhIGhyZWY9XCJodHRwczovL3N0YXJzaGVsbC5uZXQvdGFjLmh0bWxcIj5UZXJtcyBhbmQgQ29uZGl0aW9uczwvYT4uXG5cdDwvQ2hlY2tib3hGaWVsZD5cblxuXHQ8QWN0aW9uc0xpbmUgY29uZmlybT17WydDcmVhdGUgbmV3IFN0YXJTaGVsbCB3YWxsZXQnLCBjcmVhdGVfcHJpdmF0ZV9rZXksICFiX2FncmVlZF19IGNvbnRkPXt7XG5cdFx0Y3JlYXRvcjogQWNjb3VudEVkaXQsXG5cdFx0cHJvcHM6IHtcblx0XHRcdGFjY291bnQ6ICR5d19hY2NvdW50X3JlZixcblx0XHR9LFxuXHR9fSAvPlxuXG48L1NjcmVlbj4iLCJpbXBvcnQge1BfU1RBUlNIRUxMX0RFQ1JFRVMsIFNJX1ZFUlNJT059IGZyb20gJyMvc2hhcmUvY29uc3RhbnRzJztcbmltcG9ydCB7RGVjcmVlLCBXZWJSZXNvdXJjZUNhY2hlfSBmcm9tICcjL3N0b3JlL3dlYi1yZXNvdXJjZS1jYWNoZSc7XG5cbmltcG9ydCAqIGFzIHNlbXZlciBmcm9tICdzZW12ZXInO1xuXG5jb25zdCBSX1NFTVZFUiA9IC9eKFs8Pl09Pyk/KC4rKSQvO1xuXG5mdW5jdGlvbiBzYXRpc2ZpZXMoc2lfdmVyc2lvbjogc3RyaW5nLCBzX3NlbXZlcjogc3RyaW5nKTogYm9vbGVhbiB7XG5cdGNvbnN0IFssIHNfY21wLCBzX2Jhc2VdID0gUl9TRU1WRVIuZXhlYyhzX3NlbXZlcikhO1xuXHRpZignPD0nID09PSBzX2NtcCkge1xuXHRcdHJldHVybiBzZW12ZXIubHRlKHNpX3ZlcnNpb24sIHNfYmFzZSk7XG5cdH1cblxuXHRyZXR1cm4gZmFsc2U7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjaGVja19yZXN0cmljdGlvbnMoKTogUHJvbWlzZTxEZWNyZWVbXT4ge1xuXHRjb25zdCBhX3Jlc3RyaWN0aW9uczogRGVjcmVlW10gPSBbXTtcblxuXHRjb25zdCBhX2RlY3JlZXMgPSBhd2FpdCBXZWJSZXNvdXJjZUNhY2hlLmdldChQX1NUQVJTSEVMTF9ERUNSRUVTKSBhcyBEZWNyZWVbXTtcblxuXHQvLyBlYWNoIGRlY3JlZVxuXHRmb3IoY29uc3QgZ19kZWNyZWUgb2YgYV9kZWNyZWVzIHx8IFtdKSB7XG5cdFx0Ly8gYWZmZWN0cyB0aGlzIHZlcnNpb25cblx0XHRpZihzYXRpc2ZpZXMoU0lfVkVSU0lPTiwgZ19kZWNyZWUuYWZmZWN0cykpIHtcblx0XHRcdC8vIGRlcGVuZGluZyBvbiBhY3Rpb25cblx0XHRcdHN3aXRjaChnX2RlY3JlZS5hY3Rpb24pIHtcblx0XHRcdFx0Ly8gcmVzdHJpY3QgdXNhZ2Vcblx0XHRcdFx0Y2FzZSAncmVzdHJpY3QnOiB7XG5cdFx0XHRcdFx0YV9yZXN0cmljdGlvbnMucHVzaChnX2RlY3JlZSk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRkZWZhdWx0OiB7XG5cdFx0XHRcdFx0Ly8gaWdub3JlXG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gYV9yZXN0cmljdGlvbnM7XG59XG4iLCI8c2NyaXB0IGxhbmc9XCJ0c1wiPlxuXHRpbXBvcnQgeyBTY3JlZW4gfSBmcm9tICcuL19zY3JlZW5zJztcblxuXHRpbXBvcnQgQWN0aW9uc0xpbmUgZnJvbSAnLi4vdWkvQWN0aW9uc0xpbmUuc3ZlbHRlJztcblx0aW1wb3J0IFN0YXJTaGVsbExvZ28gZnJvbSAnLi4vdWkvU3RhclNoZWxsTG9nby5zdmVsdGUnO1xuXHRpbXBvcnQgU3RhclNoZWxsVGl0bGUgZnJvbSAnLi4vdWkvU3RhclNoZWxsVGl0bGUuc3ZlbHRlJztcblx0aW1wb3J0IEhvcml6b24gZnJvbSAnLi4vdWkvSG9yaXpvbi5zdmVsdGUnO1xuXHRpbXBvcnQgeyBvcGVuX2V4dGVybmFsX2xpbmsgfSBmcm9tICcjL3V0aWwvZG9tJztcbjwvc2NyaXB0PlxuXG48c3R5bGUgbGFuZz1cImxlc3NcIj5cblx0QGltcG9ydCAnLi4vLi4vc3R5bGUvdXRpbC5sZXNzJztcblxuXHQ6Z2xvYmFsKC5yZXN0cmljdGVkKSB7XG5cdFx0YWxpZ24taXRlbXM6IGNlbnRlcjtcblx0XHRqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcblx0XHR0ZXh0LWFsaWduOiBjZW50ZXI7XG5cdFx0Z2FwOiAyMHB4O1xuXHRcdHBhZGRpbmctbGVmdDogMTZweDtcblx0XHRwYWRkaW5nLXJpZ2h0OiAxNnB4O1xuXHRcdGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XG5cdFx0YmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyIHRvcDtcblx0XHRiYWNrZ3JvdW5kLXNpemU6IGNvdmVyO1xuXG5cdFx0cGFkZGluZy10b3A6IGNhbGMoNTB2aCAtIDE1MHB4KTtcblx0fVxuPC9zdHlsZT5cblxuPFNjcmVlbiByb290IGNsYXNzTmFtZXM9J3Jlc3RyaWN0ZWQnPlxuXHQ8U3RhclNoZWxsTG9nbyBkaW09ezk2fSAvPlxuXG5cdDxTdGFyU2hlbGxUaXRsZSAvPlxuXG5cdDxIb3Jpem9uIC8+XG5cblx0PGRpdiBjbGFzcz1cImxhcmdlXCI+XG5cdFx0PGRpdj5QbGVhc2UgdXBkYXRlIHRvIGNvbnRpbnVlIGJldGEgdGVzdGluZy48L2Rpdj5cblx0XHQ8ZGl2PkEgbmV3IHZlcnNpb24gaGFzIGJlZW4gcmVsZWFzZWQuPC9kaXY+XG5cdDwvZGl2PlxuXG5cdDxwPlxuXHRcdFxuXHQ8L3A+XG5cblx0PEFjdGlvbnNMaW5lIGNvbmZpcm09e1snU2VlIEluc3RydWN0aW9ucycsICgpID0+IG9wZW5fZXh0ZXJuYWxfbGluaygnaHR0cHM6Ly9naXRodWIuY29tL1NvbGFyUmVwdWJsaWMvc3RhcnNoZWxsLWJldGEtcmVsZWFzZXMvYmxvYi9tYWluL1JFQURNRS5tZCN1cGRhdGluZycpXX0gLz5cbjwvU2NyZWVuPlxuIiwiaW1wb3J0IFN5c3RlbVN2ZWx0ZSBmcm9tICcjL2FwcC9jb250YWluZXIvU3lzdGVtLnN2ZWx0ZSc7XG5pbXBvcnQgQmxhbmtTdmVsdGUgZnJvbSAnIy9hcHAvc2NyZWVuL0JsYW5rLnN2ZWx0ZSc7XG5pbXBvcnQgQXV0aGVudGljYXRlU3ZlbHRlIGZyb20gJyMvYXBwL3NjcmVlbi9BdXRoZW50aWNhdGUuc3ZlbHRlJztcblxuXG5pbXBvcnQgdHlwZSB7IFN2ZWx0ZUNvbXBvbmVudCB9IGZyb20gJ3N2ZWx0ZSc7XG5pbXBvcnQgdHlwZSB7IFBhZ2VDb25maWcgfSBmcm9tICcjL2FwcC9uYXYvcGFnZSc7XG5pbXBvcnQgeyBWYXVsdCB9IGZyb20gJyMvY3J5cHRvL3ZhdWx0JztcbmltcG9ydCB7IHFzIH0gZnJvbSAnIy91dGlsL2RvbSc7XG5pbXBvcnQgeyBpbml0aWFsaXplX2NhY2hlcywgeXdfbmF2aWdhdG9yIH0gZnJvbSAnIy9hcHAvbWVtJztcbmltcG9ydCB7IFRocmVhZElkIH0gZnJvbSAnIy9hcHAvZGVmJztcbmltcG9ydCB7IEZfTk9PUCwgb2RlIH0gZnJvbSAnIy91dGlsL2JlbHQnO1xuaW1wb3J0IHsgZG1fbG9nLCBkb21sb2cgfSBmcm9tICcuL2ZhbGxiYWNrJztcbmltcG9ydCBQcmVSZWdpc3RlclN2ZWx0ZSBmcm9tICcjL2FwcC9zY3JlZW4vUHJlUmVnaXN0ZXIuc3ZlbHRlJztcbmltcG9ydCB7IGdsb2JhbF9icm9hZGNhc3QsIGdsb2JhbF9yZWNlaXZlIH0gZnJvbSAnIy9zY3JpcHQvbXNnLWdsb2JhbCc7XG5pbXBvcnQgeyBBY2NvdW50cyB9IGZyb20gJyMvc3RvcmUvYWNjb3VudHMnO1xuaW1wb3J0IENyZWF0ZVdhbGxldFN2ZWx0ZSBmcm9tICcjL2FwcC9zY3JlZW4vQ3JlYXRlV2FsbGV0LnN2ZWx0ZSc7XG5pbXBvcnQgeyBsb2dpbiwgcmVnaXN0ZXIgfSBmcm9tICcjL3NoYXJlL2F1dGgnO1xuaW1wb3J0IHsgWFRfU0VDT05EUyB9IGZyb20gJyMvc2hhcmUvY29uc3RhbnRzJztcbmltcG9ydCB7IGNoZWNrX3Jlc3RyaWN0aW9ucyB9IGZyb20gJyMvZXh0ZW5zaW9uL3Jlc3RyaWN0aW9ucyc7XG5pbXBvcnQgUmVzdHJpY3RlZFN2ZWx0ZSBmcm9tICcjL2FwcC9zY3JlZW4vUmVzdHJpY3RlZC5zdmVsdGUnO1xuaW1wb3J0IHsgV2ViUmVzb3VyY2VDYWNoZSB9IGZyb20gJyMvc3RvcmUvd2ViLXJlc291cmNlLWNhY2hlJztcbmltcG9ydCB7IHN5c2VyciB9IGZyb20gJyMvYXBwL2NvbW1vbic7XG5pbXBvcnQgdHlwZSB7IFZvY2FiIH0gZnJvbSAnIy9tZXRhL3ZvY2FiJztcbmltcG9ydCB0eXBlIHsgSW50cmFFeHQgfSBmcm9tICcjL3NjcmlwdC9tZXNzYWdlcyc7XG5cbi8vIGJpbmQgZmFjdG9yeSByZXNldCBidXR0b25cbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmYWN0b3J5LXJlc2V0Jyk/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMoKSA9PiB7XG5cdGF3YWl0IGNocm9tZS5zdG9yYWdlLnNlc3Npb24uY2xlYXIoKTtcblx0YXdhaXQgY2hyb21lLnN0b3JhZ2UubG9jYWwuY2xlYXIoKTtcblx0YXdhaXQgcmVsb2FkKCk7XG59KTtcblxuLy8gdG9wLWxldmVsIHN5c3RlbSBjb21wb25lbnRcbmxldCB5Y19zeXN0ZW06IFN2ZWx0ZUNvbXBvbmVudCB8IG51bGwgPSBudWxsO1xuXG4vLyBoZWFsdGggY2hlY2sgdGltZXJcbmxldCBpX2hlYWx0aCA9IDA7XG5cbi8vIGJ1c3kgcmVsb2FkaW5nXG5sZXQgYl9idXN5ID0gZmFsc2U7XG5cbi8vIHJlbG9hZCB0aGUgZW50aXJlIHN5c3RlbVxuYXN5bmMgZnVuY3Rpb24gcmVsb2FkKCkge1xuXHRpZihiX2J1c3kpIHJldHVybjtcblxuXHRiX2J1c3kgPSB0cnVlO1xuXG5cdC8vIGRlc3Ryb3kgcHJldmlvdXMgc3lzdGVtXG5cdGlmKHljX3N5c3RlbSkge1xuXHRcdHRyeSB7XG5cdFx0XHR5Y19zeXN0ZW0uJGRlc3Ryb3koKTtcblx0XHR9XG5cdFx0Y2F0Y2goZV9kZXN0cm95KSB7fVxuXHR9XG5cblx0Ly8gcmVtb3ZlIHN0YWxlIGRvbVxuXHR0cnkge1xuXHRcdHFzKGRvY3VtZW50LmJvZHksICdtYWluJyk/LnJlbW92ZSgpO1xuXHR9XG5cdGNhdGNoKGVfcmVtb3ZlKSB7fVxuXG5cdC8vIGxhdW5jaCBhcHBcblx0bGV0IGJfbGF1bmNoID0gZmFsc2U7XG5cblx0Ly8gc3RhcnQgcGFnZVxuXHRsZXQgZ2NfcGFnZV9zdGFydDogUGFnZUNvbmZpZztcblxuXHQvLyBjb250ZXh0XG5cdGxldCBoX2NvbnRleHQgPSB7fTtcblxuXHQvLyBjaGVjayBpZiByb290IGtleSBpcyBhY2Nlc3NpYmxlXG5cdGNvbnN0IGRrX3Jvb3QgPSBhd2FpdCBWYXVsdC5nZXRSb290S2V5KCk7XG5cblx0Ly8gcmVzdHJpY3Rpb25zXG5cdGNvbnN0IGFfcmVzdHJpY3Rpb25zID0gYXdhaXQgY2hlY2tfcmVzdHJpY3Rpb25zKCk7XG5cdGlmKGFfcmVzdHJpY3Rpb25zLmxlbmd0aCkge1xuXHRcdGdjX3BhZ2Vfc3RhcnQgPSB7XG5cdFx0XHRjcmVhdG9yOiBSZXN0cmljdGVkU3ZlbHRlLFxuXHRcdH07XG5cdH1cblx0Ly8gdmF1bHQgaXMgdW5sb2NrZWRcblx0ZWxzZSBpZihka19yb290KSB7XG5cdFx0Ly8gcmVnaXN0ZXIgZm9yIGdsb2JhbCBldmVudHNcblx0XHRjb25zdCBmX3VucmVnaXN0ZXIgPSBnbG9iYWxfcmVjZWl2ZSh7XG5cdFx0XHQvLyBzeXN0ZW0gcmVjZWl2ZWQgbG9nb3V0IGNvbW1hbmRcblx0XHRcdGxvZ291dCgpIHtcblx0XHRcdFx0Ly8gdW5yZWdpc3RlciB0aGlzIGxpc3RlbmVyXG5cdFx0XHRcdGZfdW5yZWdpc3RlcigpO1xuXG5cdFx0XHRcdC8vIHJlbG9hZCBzeXN0ZW1cblx0XHRcdFx0dm9pZCByZWxvYWQoKTtcblx0XHRcdH0sXG5cdFx0fSk7XG5cblx0XHQvLyBsb2FkIGNhY2hlc1xuXHRcdGF3YWl0IGluaXRpYWxpemVfY2FjaGVzKCk7XG5cblx0XHQvLyBjaGVjayBmb3IgYWNjb3VudChzKVxuXHRcdGNvbnN0IGtzX2FjY291bnRzID0gYXdhaXQgQWNjb3VudHMucmVhZCgpO1xuXG5cdFx0Ly8gbm8gYWNjb3VudHM7IGxvYWQgYWNjb3VudCBjcmVhdGlvblxuXHRcdGlmKCFPYmplY3Qua2V5cyhrc19hY2NvdW50cy5yYXcpLmxlbmd0aCkge1xuXHRcdFx0Z2NfcGFnZV9zdGFydCA9IHtcblx0XHRcdFx0Y3JlYXRvcjogQ3JlYXRlV2FsbGV0U3ZlbHRlLFxuXHRcdFx0fTtcblxuXHRcdFx0Ly8gc2V0IGNvbXBsZXRlIGZ1bmN0aW9uIGluIGNvbnRleHRcblx0XHRcdGhfY29udGV4dCA9IHtcblx0XHRcdFx0Y29tcGxldGVkOiByZWxvYWQsXG5cdFx0XHRcdC8vIGNvbXBsZXRlZDogRl9OT09QLFxuXHRcdFx0fTtcblx0XHR9XG5cdFx0Ly8gYWNjb3VudCBleGlzdHM7IGxvYWQgZGVmYXVsdCBob21lc2NyZWVuXG5cdFx0ZWxzZSB7XG5cdFx0XHRnY19wYWdlX3N0YXJ0ID0ge1xuXHRcdFx0XHRjcmVhdG9yOiBCbGFua1N2ZWx0ZSxcblx0XHRcdH07XG5cblx0XHRcdC8vIGxhdW5jaCBob21lc2NyZWVuXG5cdFx0XHRiX2xhdW5jaCA9IHRydWU7XG5cdFx0fVxuXHR9XG5cdC8vIHZhdWx0IGlzIGxvY2tlZFxuXHRlbHNlIHtcblx0XHQvLyByZWdpc3RlciBmb3IgZ2xvYmFsIGV2ZW50c1xuXHRcdGNvbnN0IGZfdW5yZWdpc3RlciA9IGdsb2JhbF9yZWNlaXZlKHtcblx0XHRcdC8vIHN5c3RlbSByZWNlaXZlZCBsb2dpbiBjb21tYW5kXG5cdFx0XHRsb2dpbigpIHtcblx0XHRcdFx0Ly8gdW5yZWdpc3RlciB0aGlzIGxpc3RlbmVyXG5cdFx0XHRcdGZfdW5yZWdpc3RlcigpO1xuXG5cdFx0XHRcdC8vIHJlbG9hZCBzeXN0ZW1cblx0XHRcdFx0dm9pZCByZWxvYWQoKTtcblx0XHRcdH0sXG5cdFx0fSk7XG5cblx0XHQvLyByZXRyaWV2ZSByb290XG5cdFx0Y29uc3QgZ19yb290ID0gYXdhaXQgVmF1bHQuZ2V0QmFzZSgpO1xuXG5cdFx0Ly8gbm8gcm9vdCBzZXQsIG5lZWQgdG8gcmVnaXN0ZXJcblx0XHRpZighZ19yb290KSB7XG5cdFx0XHRnY19wYWdlX3N0YXJ0ID0ge1xuXHRcdFx0XHRjcmVhdG9yOiBQcmVSZWdpc3RlclN2ZWx0ZSxcblx0XHRcdH07XG5cdFx0fVxuXHRcdC8vIHJvb3QgaXMgc2V0LCBuZWVkIHRvIGF1dGhlbnRpY2F0ZVxuXHRcdGVsc2Uge1xuXHRcdFx0Z2NfcGFnZV9zdGFydCA9IHtcblx0XHRcdFx0Y3JlYXRvcjogQXV0aGVudGljYXRlU3ZlbHRlLFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHQvLyBpbiBlaXRoZXIgY2FzZSwgc2V0IGNvbXBsZXRlIGZ1bmN0aW9uIGluIGNvbnRleHRcblx0XHRoX2NvbnRleHQgPSB7XG5cdFx0XHQvLyBjb21wbGV0ZWQ6IHJlbG9hZCxcblx0XHRcdGNvbXBsZXRlZDogRl9OT09QLFxuXHRcdH07XG5cdH1cblxuXHQvLyB3YWl0IGZvciBuYXZpZ2F0b3IgdG8gYmUgaW5pdGlhbGl6ZWRcblx0bGV0IGJfaW5pdGlhbGl6ZWQgPSBmYWxzZTtcblx0Y29uc3QgZl91bnN1YnNjcmliZSA9IHl3X25hdmlnYXRvci5zdWJzY3JpYmUoKGtfbmF2aWdhdG9yKSA9PiB7XG5cdFx0Ly8gcnVubmVyIGdldHMgY2FsbGVkIGltbWVkaWF0ZWx5LCBidXQgc3lzdGVtIGhhcyBub3QgdXBkYXRlZCBuYXZpZ2F0b3IgeWV0XG5cdFx0aWYoIWJfaW5pdGlhbGl6ZWQpIHtcblx0XHRcdGJfaW5pdGlhbGl6ZWQgPSB0cnVlO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIHN5c3RlbSB1cGRhdGVkIG5hdmlnYXRvclxuXHRcdGlmKGtfbmF2aWdhdG9yKSB7XG5cdFx0XHQvLyB1bnN1YnNjcmliZSBmcm9tIHJlYWN0aXZlIHVwZGF0ZXNcblx0XHRcdGZfdW5zdWJzY3JpYmUoKTtcblxuXHRcdFx0Ly8gbGF1bmNoIHRvIGhvbWVzY3JlZW5cblx0XHRcdGlmKGJfbGF1bmNoKSB7XG5cdFx0XHRcdGtfbmF2aWdhdG9yLmFjdGl2YXRlVGhyZWFkKFRocmVhZElkLlRPS0VOUyk7XG5cdFx0XHR9XG5cdFx0XHQvLyBsYXVuY2ggdG8gaW5pdCB0aHJlYWRcblx0XHRcdGVsc2Uge1xuXHRcdFx0XHRrX25hdmlnYXRvci5hY3RpdmF0ZVRocmVhZChUaHJlYWRJZC5JTklUKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gYXR0ZW1wdCB0byBoaWRlIGxvZ1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0ZG1fbG9nIS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXHRcdFx0fVxuXHRcdFx0Y2F0Y2goZV9oaWRlKSB7fVxuXG5cdFx0XHQvLyBsaXN0ZW4gZm9yIGhlYXJ0YmVhdFxuXHRcdFx0Y29uc3QgZF9zZXJ2aWNlOiBWb2NhYi5UeXBlZFJ1bnRpbWU8SW50cmFFeHQuU2VydmljZUluc3RydWN0aW9uPiA9IGNocm9tZS5ydW50aW1lO1xuXHRcdFx0bGV0IGlfc2VydmljZV9oZWFsdGggPSAwO1xuXHRcdFx0ZnVuY3Rpb24gaGVhbHRoX2NoZWNrKCkge1xuXHRcdFx0XHRjbGVhclRpbWVvdXQoaV9zZXJ2aWNlX2hlYWx0aCk7XG5cblx0XHRcdFx0aV9zZXJ2aWNlX2hlYWx0aCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuXHRcdFx0XHRcdHZvaWQgZF9zZXJ2aWNlLnNlbmRNZXNzYWdlKHtcblx0XHRcdFx0XHRcdHR5cGU6ICd3YWtlJyxcblx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdGNvbnNvbGUud2FybihgV2FraW5nIGlkbGUgc2VydmljZSB3b3JrZXJgKTtcblx0XHRcdFx0fSwgMmUzKTtcblx0XHRcdH1cblxuXHRcdFx0Z2xvYmFsX3JlY2VpdmUoe1xuXHRcdFx0XHRoZWFydGJlYXQoKSB7XG5cdFx0XHRcdFx0aGVhbHRoX2NoZWNrKCk7XG5cdFx0XHRcdH0sXG5cdFx0XHR9KTtcblxuXHRcdFx0Ly8gdXNlciBpcyBsb2dnZWQgaW4sIGVuc3VyZSB0aGUgc2VydmljZSBpcyBydW5uaW5nXG5cdFx0XHRpZihiX2xhdW5jaCkge1xuXHRcdFx0XHRoZWFsdGhfY2hlY2soKTtcblx0XHRcdH1cblx0XHR9XG5cdH0pO1xuXG5cdC8vIGNyZWF0ZSBzeXN0ZW0gY29tcG9uZW50XG5cdHljX3N5c3RlbSA9IG5ldyBTeXN0ZW1TdmVsdGUoe1xuXHRcdHRhcmdldDogZG9jdW1lbnQuYm9keSxcblx0XHRwcm9wczoge1xuXHRcdFx0bW9kZTogJ2FwcCcsXG5cdFx0XHRwYWdlOiBnY19wYWdlX3N0YXJ0LFxuXHRcdH0sXG5cdFx0Y29udGV4dDogbmV3IE1hcChvZGUoaF9jb250ZXh0KSksXG5cdH0pO1xuXG5cdC8vIGNsZWFyIGhlYWx0aCBjaGVja1xuXHRjbGVhclRpbWVvdXQoaV9oZWFsdGgpO1xuXG5cdGJfYnVzeSA9IGZhbHNlO1xufVxuXG5cbi8vIGRldlxuaWYoJ2xvY2FsaG9zdCcgPT09IGxvY2F0aW9uLmhvc3RuYW1lKSB7XG5cdGNvbnN0IGhfcGFyYW1zID0gT2JqZWN0LmZyb21FbnRyaWVzKG5ldyBVUkxTZWFyY2hQYXJhbXMobG9jYXRpb24uc2VhcmNoLnNsaWNlKDEpKS5lbnRyaWVzKCkpO1xuXG5cdGlmKGhfcGFyYW1zWydhdXRvc2tpcCddKSB7XG5cdFx0Y29uc29sZS5sb2coJ0F1dG9za2lwcGluZyByZWdpc3RyYXRpb24nKTtcblxuXHRcdChhc3luYygpID0+IHtcblx0XHRcdGxvY2FsU3RvcmFnZS5jbGVhcigpO1xuXHRcdFx0YXdhaXQgcmVnaXN0ZXIoJyAgICAgJyk7XG5cdFx0XHRhd2FpdCBsb2dpbignICAgICAnKTtcblx0XHRcdHZvaWQgcmVsb2FkKCk7XG5cdFx0fSkoKTtcblx0fVxuXHRlbHNlIHtcblx0XHQvLyBzdGFydCBzeXN0ZW1cblx0XHR2b2lkIHJlbG9hZCgpO1xuXHR9XG59XG5lbHNlIHtcblx0Ly8gc3RhcnQgaGVhbHRoIGNoZWNrIHRpbWVyXG5cdGlfaGVhbHRoID0gZ2xvYmFsVGhpcy5zZXRUaW1lb3V0KCgpID0+IHtcblx0XHRkb21sb2coJ0ZhdGFsIHRpbWUgb3V0LCBsaWtlbHkgY2F1c2VkIGJ5IGFuIHVuY2F1Z2h0IGVycm9yLicpO1xuXHR9LCAxNSpYVF9TRUNPTkRTKTtcblxuXHR0cnkge1xuXHRcdC8vIHN0YXJ0IHN5c3RlbVxuXHRcdHZvaWQgcmVsb2FkKCk7XG5cdH1cblx0Y2F0Y2goZV9sb2FkKSB7XG5cdFx0ZGVidWdnZXI7XG5cdFx0Y29uc29sZS5lcnJvcihlX2xvYWQpO1xuXHR9XG59XG4iXSwibmFtZXMiOlsiaW5zZXJ0IiwidGFyZ2V0IiwiYSIsImFuY2hvciIsImN0eCIsIkFjY291bnRFZGl0IiwicDAiLCJwMSIsInAyIiwicmVzZXQiLCIkJHByb3BzIiwiYl9hZ3JlZWQiLCJjcmVhdGVfYWNjb3VudCIsInBfc2VjcmV0Iiwic2Ffb3duZXIiLCJwX3BmcCIsInBfYWNjb3VudCIsIkFjY291bnRzIiwia3NfYWNjb3VudHMiLCJJbmNpZGVudHMiLCJjcmVhdGVfcHJpdmF0ZV9rZXkiLCJra19zayIsImtfc2VjcCIsIlNlY3AyNTZrMUtleSIsInNfdXVpZCIsIlNlY3JldHMiLCJrcyIsImF0dThfc2siLCJidWZmZXJfdG9fc3RyaW5nOCIsImF0dThfcGsiLCJidWZmZXJfdG9fYmFzZTY0Iiwic2V0X3N0b3JlX3ZhbHVlIiwieXdfYWNjb3VudF9yZWYiLCIkeXdfYWNjb3VudF9yZWYiLCJ2YWx1ZSIsIlJfU0VNVkVSIiwic2F0aXNmaWVzIiwic2lfdmVyc2lvbiIsInNfc2VtdmVyIiwic19jbXAiLCJzX2Jhc2UiLCJzZW12ZXIubHRlIiwiY2hlY2tfcmVzdHJpY3Rpb25zIiwiYV9yZXN0cmljdGlvbnMiLCJhX2RlY3JlZXMiLCJXZWJSZXNvdXJjZUNhY2hlIiwiUF9TVEFSU0hFTExfREVDUkVFUyIsImdfZGVjcmVlIiwiU0lfVkVSU0lPTiIsImRpdjIiLCJwIiwib3Blbl9leHRlcm5hbF9saW5rIiwicmVsb2FkIiwieWNfc3lzdGVtIiwiaV9oZWFsdGgiLCJiX2J1c3kiLCJxcyIsImJfbGF1bmNoIiwiZ2NfcGFnZV9zdGFydCIsImhfY29udGV4dCIsImRrX3Jvb3QiLCJWYXVsdCIsIlJlc3RyaWN0ZWRTdmVsdGUiLCJmX3VucmVnaXN0ZXIiLCJnbG9iYWxfcmVjZWl2ZSIsImluaXRpYWxpemVfY2FjaGVzIiwiQmxhbmtTdmVsdGUiLCJDcmVhdGVXYWxsZXRTdmVsdGUiLCJBdXRoZW50aWNhdGVTdmVsdGUiLCJQcmVSZWdpc3RlclN2ZWx0ZSIsIkZfTk9PUCIsImJfaW5pdGlhbGl6ZWQiLCJmX3Vuc3Vic2NyaWJlIiwieXdfbmF2aWdhdG9yIiwia19uYXZpZ2F0b3IiLCJoZWFsdGhfY2hlY2siLCJpX3NlcnZpY2VfaGVhbHRoIiwiZF9zZXJ2aWNlIiwiVGhyZWFkSWQiLCJkbV9sb2ciLCJTeXN0ZW1TdmVsdGUiLCJvZGUi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
