import{c3 as je,c4 as Ke,c5 as Ge,c6 as Xe,X as Ve,c1 as Je,W as Qe,V as ve,v as Te,ax as _e,a_ as ue,L as $e,c7 as Ne,aE as Ae,G as Ye,ap as Ze,c8 as et,c9 as tt,ca as rt,ao as nt,ar as ot,aw as Be,cb as st,I as fe,bs as it,cc as at,b$ as ct,aM as ft}from"./web-resource-cache.fb3e84c9.js";import"./index.5cb01ff5.js";function lt({session:r}){const n=function(){var a=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$={exports:{}};function k(Z){throw new Error('Could not dynamically require "'+Z+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var N={exports:{}},U;function W(){return U||(U=1,function(Z,oe){(function(M,b){Z.exports=b()})(a,function(){var M=M||function(b,E){var B;if(typeof window<"u"&&window.crypto&&(B=window.crypto),typeof self<"u"&&self.crypto&&(B=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(B=globalThis.crypto),!B&&typeof window<"u"&&window.msCrypto&&(B=window.msCrypto),!B&&typeof a<"u"&&a.crypto&&(B=a.crypto),!B&&typeof k=="function")try{B=require("crypto")}catch{}var ee=function(){if(B){if(typeof B.getRandomValues=="function")try{return B.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof B.randomBytes=="function")try{return B.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},O=Object.create||function(){function e(){}return function(o){var y;return e.prototype=o,y=new e,e.prototype=null,y}}(),q={},l=q.lib={},h=l.Base=function(){return{extend:function(e){var o=O(this);return e&&o.mixIn(e),(!o.hasOwnProperty("init")||this.init===o.init)&&(o.init=function(){o.$super.init.apply(this,arguments)}),o.init.prototype=o,o.$super=this,o},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var o in e)e.hasOwnProperty(o)&&(this[o]=e[o]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),C=l.WordArray=h.extend({init:function(e,o){e=this.words=e||[],o!=E?this.sigBytes=o:this.sigBytes=e.length*4},toString:function(e){return(e||s).stringify(this)},concat:function(e){var o=this.words,y=e.words,S=this.sigBytes,L=e.sigBytes;if(this.clamp(),S%4)for(var K=0;K<L;K++){var J=y[K>>>2]>>>24-K%4*8&255;o[S+K>>>2]|=J<<24-(S+K)%4*8}else for(var Q=0;Q<L;Q+=4)o[S+Q>>>2]=y[Q>>>2];return this.sigBytes+=L,this},clamp:function(){var e=this.words,o=this.sigBytes;e[o>>>2]&=4294967295<<32-o%4*8,e.length=b.ceil(o/4)},clone:function(){var e=h.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var o=[],y=0;y<e;y+=4)o.push(ee());return new C.init(o,e)}}),t=q.enc={},s=t.Hex={stringify:function(e){for(var o=e.words,y=e.sigBytes,S=[],L=0;L<y;L++){var K=o[L>>>2]>>>24-L%4*8&255;S.push((K>>>4).toString(16)),S.push((K&15).toString(16))}return S.join("")},parse:function(e){for(var o=e.length,y=[],S=0;S<o;S+=2)y[S>>>3]|=parseInt(e.substr(S,2),16)<<24-S%8*4;return new C.init(y,o/2)}},u=t.Latin1={stringify:function(e){for(var o=e.words,y=e.sigBytes,S=[],L=0;L<y;L++){var K=o[L>>>2]>>>24-L%4*8&255;S.push(String.fromCharCode(K))}return S.join("")},parse:function(e){for(var o=e.length,y=[],S=0;S<o;S++)y[S>>>2]|=(e.charCodeAt(S)&255)<<24-S%4*8;return new C.init(y,o)}},i=t.Utf8={stringify:function(e){try{return decodeURIComponent(escape(u.stringify(e)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(e){return u.parse(unescape(encodeURIComponent(e)))}},_=l.BufferedBlockAlgorithm=h.extend({reset:function(){this._data=new C.init,this._nDataBytes=0},_append:function(e){typeof e=="string"&&(e=i.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(e){var o,y=this._data,S=y.words,L=y.sigBytes,K=this.blockSize,J=K*4,Q=L/J;e?Q=b.ceil(Q):Q=b.max((Q|0)-this._minBufferSize,0);var ae=Q*K,se=b.min(ae*4,L);if(ae){for(var ce=0;ce<ae;ce+=K)this._doProcessBlock(S,ce);o=S.splice(0,ae),y.sigBytes-=se}return new C.init(o,se)},clone:function(){var e=h.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});l.Hasher=_.extend({cfg:h.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){_.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){e&&this._append(e);var o=this._doFinalize();return o},blockSize:16,_createHelper:function(e){return function(o,y){return new e.init(y).finalize(o)}},_createHmacHelper:function(e){return function(o,y){return new x.HMAC.init(e,y).finalize(o)}}});var x=q.algo={};return q}(Math);return M})}(N)),N.exports}var ne={exports:{}},X;function te(){return X||(X=1,function(Z,oe){(function(M,b){Z.exports=b(W())})(a,function(M){return function(b){var E=M,B=E.lib,ee=B.WordArray,O=B.Hasher,q=E.algo,l=[],h=[];(function(){function s(x){for(var e=b.sqrt(x),o=2;o<=e;o++)if(!(x%o))return!1;return!0}function u(x){return(x-(x|0))*4294967296|0}for(var i=2,_=0;_<64;)s(i)&&(_<8&&(l[_]=u(b.pow(i,.5))),h[_]=u(b.pow(i,.3333333333333333)),_++),i++})();var C=[],t=q.SHA256=O.extend({_doReset:function(){this._hash=new ee.init(l.slice(0))},_doProcessBlock:function(s,u){for(var i=this._hash.words,_=i[0],x=i[1],e=i[2],o=i[3],y=i[4],S=i[5],L=i[6],K=i[7],J=0;J<64;J++){if(J<16)C[J]=s[u+J]|0;else{var Q=C[J-15],ae=(Q<<25|Q>>>7)^(Q<<14|Q>>>18)^Q>>>3,se=C[J-2],ce=(se<<15|se>>>17)^(se<<13|se>>>19)^se>>>10;C[J]=ae+C[J-7]+ce+C[J-16]}var We=y&S^~y&L,ze=_&x^_&e^x&e,De=(_<<30|_>>>2)^(_<<19|_>>>13)^(_<<10|_>>>22),Me=(y<<26|y>>>6)^(y<<21|y>>>11)^(y<<7|y>>>25),Se=K+Me+We+h[J]+C[J],Fe=De+ze;K=L,L=S,S=y,y=o+Se|0,o=e,e=x,x=_,_=Se+Fe|0}i[0]=i[0]+_|0,i[1]=i[1]+x|0,i[2]=i[2]+e|0,i[3]=i[3]+o|0,i[4]=i[4]+y|0,i[5]=i[5]+S|0,i[6]=i[6]+L|0,i[7]=i[7]+K|0},_doFinalize:function(){var s=this._data,u=s.words,i=this._nDataBytes*8,_=s.sigBytes*8;return u[_>>>5]|=128<<24-_%32,u[(_+64>>>9<<4)+14]=b.floor(i/4294967296),u[(_+64>>>9<<4)+15]=i,s.sigBytes=u.length*4,this._process(),this._hash},clone:function(){var s=O.clone.call(this);return s._hash=this._hash.clone(),s}});E.SHA256=O._createHelper(t),E.HmacSHA256=O._createHmacHelper(t)}(Math),M.SHA256})}(ne)),ne.exports}var v={exports:{}},P;function re(){return P||(P=1,function(Z,oe){(function(M,b){Z.exports=b(W())})(a,function(M){(function(){var b=M,E=b.lib,B=E.Base,ee=b.enc,O=ee.Utf8,q=b.algo;q.HMAC=B.extend({init:function(l,h){l=this._hasher=new l.init,typeof h=="string"&&(h=O.parse(h));var C=l.blockSize,t=C*4;h.sigBytes>t&&(h=l.finalize(h)),h.clamp();for(var s=this._oKey=h.clone(),u=this._iKey=h.clone(),i=s.words,_=u.words,x=0;x<C;x++)i[x]^=1549556828,_[x]^=909522486;s.sigBytes=u.sigBytes=t,this.reset()},reset:function(){var l=this._hasher;l.reset(),l.update(this._iKey)},update:function(l){return this._hasher.update(l),this},finalize:function(l){var h=this._hasher,C=h.finalize(l);h.reset();var t=h.finalize(this._oKey.clone().concat(C));return t}})})()})}(v)),v.exports}(function(Z,oe){(function(M,b,E){Z.exports=b(W(),te(),re())})(a,function(M){return M.HmacSHA256})})($);var z=$.exports;return z}(),{A_CHAIN_CATEGORIES:c,A_CHAIN_FAMILIES:f,R_CHAIN_ID:p,R_CHAIN_NAME:d}=function(a){const U=["cosmos"],W=["mainnet","testnet"],ne=/^[a-z0-9][a-z0-9-]{2,64}$/,X=/^[\p{L}\p{S}](\p{Zs}?[\p{L}\p{N}\p{S}._:/-])+$/u;return a.A_CHAIN_CATEGORIES=W,a.A_CHAIN_FAMILIES=U,a.NB_MAX_MESSAGE=2097152,a.N_PX_HEIGHT_POPUP=600,a.N_PX_WIDTH_POPUP=360,a.R_CHAIN_ID=ne,a.R_CHAIN_NAME=X,Object.defineProperty(a,"__esModule",{value:!0}),a}({}),{locate_script:m}=function(a){function $(k){const N=browser.runtime.getManifest();for(const U of N.content_scripts||[])for(const W of U.js??[])if(W.startsWith(k))return W;for(const U of N.web_accessible_resources||[])if(typeof U=="string"){if(U.startsWith(k))return U}else for(const W of U.resources)if(W.startsWith(k))return W;return null}return a.locate_script=$,Object.defineProperty(a,"__esModule",{value:!0}),a}({}),A=browser.runtime,R=(a,...$)=>console.debug(`StarShell.ics-host: ${a}`,...$);R(`Launched on <${location.href}>`);class I extends Error{}let g,T=!1,D=!1;function V(a){throw D=!0,A.sendMessage({type:"panic",value:""+a}),new I(`StarShell threw a security error: "${a}"`)}function w(){if(D)throw new Error("StarShell withdrew wallet access from this website due to a security violation")}const F={async requestConnect(a){const{index:$,manifest:k}=a,N=te=>{g.postMessage({type:"respondConnect",value:{index:$,answer:{error:te}}})};if(typeof k!="object"||typeof k.schema!="string")return N("Invalid manifest structure");if(k.schema!=="1")return N("Unknown or unsupported manifest schema version");if(!Array.isArray(k.chains)||!k.chains.length)return N("No chains were specified in request");const{chains:U}=k,W=new Set,ne=[];for(let te=0;te<U.length;te++){const v=U[te],P=Z=>N(`${Z} at .chains[${te}]`);if(typeof v!="object"||typeof v.category!="string"||typeof v.family!="string"||typeof v.id!="string")return P("Invalid chain descriptor structure");if(!f.includes(v.family))continue;if(!c.includes(v.category))return P(`Invalid category value "${v.category}"; must be one of (${c.join(", ")})`);if(!p.test(v.id))return P(`Invalid chain id "${v.id}" for ${v.family} family; failed to match regular expression /${p.source}/`);if(v.name){if(!d.test(v.name))return P(`Invalid chain name "${v.name}"; failed to match regular expression /${d.source}/`);if(v.name.length>64)return P("Chain name too long")}const re=v.family+`
`+v.id;if(W.has(re))return P(`Duplicate chain IDs in '${v.family}' family: '${v.id}'`);const z=v.name||v.id;ne.push({...v,label:z})}A.sendMessage({type:"requestConnection",value:{chains:ne}});const X=[];X.push(null);for(const te of U){const v=new MessageChannel;await HostConnection.create(te,v.port1),X.push(v.port2)}g.postMessage({type:"respondConnect",value:{index:$,answer:{config:{features:a_features}}}},X)},reportWebsiteError(a){}};function G(a){const{type:$,value:k}=a.data,N=F[$];if(!N){console.error(`Received relay port message having an unregistered type "${$}"`);return}R("Received relay port message having registered type %o",a.data),N(k)}const H={establishChannel(a,$){if(w(),T)return V("Relay frame attempted to establish connection more than once");if(T=!0,!Y)return V("Reference to relay frame window not defined");if(!$||$.length!==1)return V("Expected exactly one MessagePort but none were transfered from relay frame");g=$[0],g.onmessage=G,g.postMessage({type:"acknowledgeChannel"}),window.postMessage({type:"ratifyGlobal"},window.origin)}};let Y,j;{const a={session:r,csurl:browser.runtime.getURL("assets/src/script/mcs-relay.js")},$=document.createElement("script");$.setAttribute("type","application/json"),$.setAttribute("id","starshell-mcs-relay-payload"),$.textContent=JSON.stringify(a);const k=document.createElement("script"),N=m("assets/src/script/mcs-relay");if(!N)throw new Error("Unable to locate relay script!");k.src=browser.runtime.getURL(N),k.type="module";const U=document.createElement("iframe"),W=document.createElement("div");W.style.display="none !important",W.attachShadow({mode:"closed"}).append(U);try{document.head.append(W)}catch{document.body.append(W)}Y=U.contentWindow,j=U.contentDocument,j.body.append($),j.body.append(k),R("Injected relay iframe")}Y.addEventListener("message",a=>{if(R("Observed relay window message %o",a),!a.isTrusted){console.warn("Ignored untrusted event %o",a);return}if(a.source!==a.target){console.warn("Ignored cross-window message %o",a);return}const $=a.target;if(window.origin!==a.origin||window!==$.parent||$.location.href!=="about:blank"){console.warn("Ignored message from 3rd party %o",a);return}const k=a.data;if(typeof k!="object"||typeof k.type!="string"){R("Ignored invalid message data %o",k);return}const{type:N,auth:U}=k,W=H[N];if(!W){console.error(`Received message having an unregistered type "${N}"`);return}if(typeof U!="string"){R("Ignored message missing auth data %o",k);return}if(JSON.stringify(n(JSON.stringify({...k,auth:void 0}),r))!==k.auth)return V("Relay frame sent invalid auth signature");R("Received message having registered type %o",a.data),W(null,a.ports)})}function ut({session:r}){const n=(w,...F)=>console.debug(`StarShell.mcs-ratifier: ${w}`,...F);n(`Launched on <${location.href}>`);const c=function(){var w=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},F={exports:{}};function G(X){throw new Error('Could not dynamically require "'+X+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var H={exports:{}},Y;function j(){return Y||(Y=1,function(X,te){(function(v,P){X.exports=P()})(w,function(){var v=v||function(P,re){var z;if(typeof window<"u"&&window.crypto&&(z=window.crypto),typeof self<"u"&&self.crypto&&(z=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(z=globalThis.crypto),!z&&typeof window<"u"&&window.msCrypto&&(z=window.msCrypto),!z&&typeof w<"u"&&w.crypto&&(z=w.crypto),!z&&typeof G=="function")try{z=require("crypto")}catch{}var Z=function(){if(z){if(typeof z.getRandomValues=="function")try{return z.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof z.randomBytes=="function")try{return z.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},oe=Object.create||function(){function t(){}return function(s){var u;return t.prototype=s,u=new t,t.prototype=null,u}}(),M={},b=M.lib={},E=b.Base=function(){return{extend:function(t){var s=oe(this);return t&&s.mixIn(t),(!s.hasOwnProperty("init")||this.init===s.init)&&(s.init=function(){s.$super.init.apply(this,arguments)}),s.init.prototype=s,s.$super=this,s},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var s in t)t.hasOwnProperty(s)&&(this[s]=t[s]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),B=b.WordArray=E.extend({init:function(t,s){t=this.words=t||[],s!=re?this.sigBytes=s:this.sigBytes=t.length*4},toString:function(t){return(t||O).stringify(this)},concat:function(t){var s=this.words,u=t.words,i=this.sigBytes,_=t.sigBytes;if(this.clamp(),i%4)for(var x=0;x<_;x++){var e=u[x>>>2]>>>24-x%4*8&255;s[i+x>>>2]|=e<<24-(i+x)%4*8}else for(var o=0;o<_;o+=4)s[i+o>>>2]=u[o>>>2];return this.sigBytes+=_,this},clamp:function(){var t=this.words,s=this.sigBytes;t[s>>>2]&=4294967295<<32-s%4*8,t.length=P.ceil(s/4)},clone:function(){var t=E.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var s=[],u=0;u<t;u+=4)s.push(Z());return new B.init(s,t)}}),ee=M.enc={},O=ee.Hex={stringify:function(t){for(var s=t.words,u=t.sigBytes,i=[],_=0;_<u;_++){var x=s[_>>>2]>>>24-_%4*8&255;i.push((x>>>4).toString(16)),i.push((x&15).toString(16))}return i.join("")},parse:function(t){for(var s=t.length,u=[],i=0;i<s;i+=2)u[i>>>3]|=parseInt(t.substr(i,2),16)<<24-i%8*4;return new B.init(u,s/2)}},q=ee.Latin1={stringify:function(t){for(var s=t.words,u=t.sigBytes,i=[],_=0;_<u;_++){var x=s[_>>>2]>>>24-_%4*8&255;i.push(String.fromCharCode(x))}return i.join("")},parse:function(t){for(var s=t.length,u=[],i=0;i<s;i++)u[i>>>2]|=(t.charCodeAt(i)&255)<<24-i%4*8;return new B.init(u,s)}},l=ee.Utf8={stringify:function(t){try{return decodeURIComponent(escape(q.stringify(t)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(t){return q.parse(unescape(encodeURIComponent(t)))}},h=b.BufferedBlockAlgorithm=E.extend({reset:function(){this._data=new B.init,this._nDataBytes=0},_append:function(t){typeof t=="string"&&(t=l.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(t){var s,u=this._data,i=u.words,_=u.sigBytes,x=this.blockSize,e=x*4,o=_/e;t?o=P.ceil(o):o=P.max((o|0)-this._minBufferSize,0);var y=o*x,S=P.min(y*4,_);if(y){for(var L=0;L<y;L+=x)this._doProcessBlock(i,L);s=i.splice(0,y),u.sigBytes-=S}return new B.init(s,S)},clone:function(){var t=E.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0});b.Hasher=h.extend({cfg:E.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){h.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){t&&this._append(t);var s=this._doFinalize();return s},blockSize:16,_createHelper:function(t){return function(s,u){return new t.init(u).finalize(s)}},_createHmacHelper:function(t){return function(s,u){return new C.HMAC.init(t,u).finalize(s)}}});var C=M.algo={};return M}(Math);return v})}(H)),H.exports}var a={exports:{}},$;function k(){return $||($=1,function(X,te){(function(v,P){X.exports=P(j())})(w,function(v){return function(P){var re=v,z=re.lib,Z=z.WordArray,oe=z.Hasher,M=re.algo,b=[],E=[];(function(){function O(C){for(var t=P.sqrt(C),s=2;s<=t;s++)if(!(C%s))return!1;return!0}function q(C){return(C-(C|0))*4294967296|0}for(var l=2,h=0;h<64;)O(l)&&(h<8&&(b[h]=q(P.pow(l,1/2))),E[h]=q(P.pow(l,1/3)),h++),l++})();var B=[],ee=M.SHA256=oe.extend({_doReset:function(){this._hash=new Z.init(b.slice(0))},_doProcessBlock:function(O,q){for(var l=this._hash.words,h=l[0],C=l[1],t=l[2],s=l[3],u=l[4],i=l[5],_=l[6],x=l[7],e=0;e<64;e++){if(e<16)B[e]=O[q+e]|0;else{var o=B[e-15],y=(o<<25|o>>>7)^(o<<14|o>>>18)^o>>>3,S=B[e-2],L=(S<<15|S>>>17)^(S<<13|S>>>19)^S>>>10;B[e]=y+B[e-7]+L+B[e-16]}var K=u&i^~u&_,J=h&C^h&t^C&t,Q=(h<<30|h>>>2)^(h<<19|h>>>13)^(h<<10|h>>>22),ae=(u<<26|u>>>6)^(u<<21|u>>>11)^(u<<7|u>>>25),se=x+ae+K+E[e]+B[e],ce=Q+J;x=_,_=i,i=u,u=s+se|0,s=t,t=C,C=h,h=se+ce|0}l[0]=l[0]+h|0,l[1]=l[1]+C|0,l[2]=l[2]+t|0,l[3]=l[3]+s|0,l[4]=l[4]+u|0,l[5]=l[5]+i|0,l[6]=l[6]+_|0,l[7]=l[7]+x|0},_doFinalize:function(){var O=this._data,q=O.words,l=this._nDataBytes*8,h=O.sigBytes*8;return q[h>>>5]|=128<<24-h%32,q[(h+64>>>9<<4)+14]=P.floor(l/4294967296),q[(h+64>>>9<<4)+15]=l,O.sigBytes=q.length*4,this._process(),this._hash},clone:function(){var O=oe.clone.call(this);return O._hash=this._hash.clone(),O}});re.SHA256=oe._createHelper(ee),re.HmacSHA256=oe._createHmacHelper(ee)}(Math),v.SHA256})}(a)),a.exports}var N={exports:{}},U;function W(){return U||(U=1,function(X,te){(function(v,P){X.exports=P(j())})(w,function(v){(function(){var P=v,re=P.lib,z=re.Base,Z=P.enc,oe=Z.Utf8,M=P.algo;M.HMAC=z.extend({init:function(b,E){b=this._hasher=new b.init,typeof E=="string"&&(E=oe.parse(E));var B=b.blockSize,ee=B*4;E.sigBytes>ee&&(E=b.finalize(E)),E.clamp();for(var O=this._oKey=E.clone(),q=this._iKey=E.clone(),l=O.words,h=q.words,C=0;C<B;C++)l[C]^=1549556828,h[C]^=909522486;O.sigBytes=q.sigBytes=ee,this.reset()},reset:function(){var b=this._hasher;b.reset(),b.update(this._iKey)},update:function(b){return this._hasher.update(b),this},finalize:function(b){var E=this._hasher,B=E.finalize(b);E.reset();var ee=E.finalize(this._oKey.clone().concat(B));return ee}})})()})}(N)),N.exports}(function(X,te){(function(v,P,re){X.exports=P(j(),k(),W())})(w,function(v){return v.HmacSHA256})})(F);var ne=F.exports;return ne}();class f extends Error{}let p=!1;function d(w){throw p=!0,window.postMessage({type:"s2r:abort",value:{reason:""+w,signature:c(""+w,r)}}),new f(`StarShell threw a security error: "${w}"`)}function m(w){console.error(w),p=!0}const{addEventListener:A,Reflect:R,Reflect:{getOwnPropertyDescriptor:I,getPrototypeOf:g}}=window;function T(w,F,G=[]){try{const H=I.call(R,w,F);if(!H){G.push(w);const Y=g.call(R,w);return!Y||G.includes(Y)?null:T(Y,F,G)}return H}catch{return null}}function D(w,F,G=!1){try{const H=T(w,F);return H?"value"in H?H.value:G?w[F]:null:null}catch{return null}}const V={ratifyGlobal(){if(r){if(!T(window,"starshell"))return m("StarShell failed to ratify global since it is not defined.")}else return m("StarShell is refusing to ratify global since it never received a signing key from the extension.");const w=window.starshell;w.verify(G=>{if(p)return;if(G!==JSON.stringify(c("starshell",r)))return d("Invalid auth signature passed to ratifier");const H=w.verifiableStack();return{proof:H,signature:JSON.stringify(c(JSON.stringify(H),r))}})(w)}};window.addEventListener("message",w=>{if(n("Observed window message %o",w),!p&&window===D(w,"source",!0)){const F=D(w,"data",!0);let G;if(F&&typeof F=="object"&&typeof(G=D(F,"type"))=="string"){const H=V[G];if(!H)return;n("Received relay port message having registered type %o",w.data),H(F)}}})}function dt(r){const n=browser.runtime.getManifest();for(const c of n.content_scripts||[])for(const f of c.js??[])if(f.startsWith(r))return f;for(const c of n.web_accessible_resources||[])if(typeof c=="string"){if(c.startsWith(r))return c}else for(const f of c.resources)if(f.startsWith(r))return f;return null}const ht=["file://*/*","http://*/*","https://*/*"],pt={matches:ht,runAt:"document_start",persistAcrossSessions:!0,allFrames:!0,world:"MAIN"},_t={mcs_keplr(r){return{...pt,id:"keplr_polyfill",js:[dt("assets/src/script/mcs-keplr")],persistAcrossSessions:!0,...r}}},xe={blocked:!0};function Ce(r,n){let c;try{c=new RegExp(r.matches)}catch{return console.error(`Failed to parse policy match pattern "${r.matches}"`),!1}if(c.test(n.host)&&r.except){let f;try{f=new RegExp(r.except)}catch{return console.error(`Failed to parse policy match pattern "${r.except}"`),!1}if(f.test(n.host))return!1}return!0}const Le=je({store:Ke,class:class extends Ge{static forApp(n){return Le.open(c=>c.forApp(n))}forApp(n){let c=!1;for(const f of this._w_cache.hq)if(Ce(f,n)){if(f.action==="block")return xe;console.error(`Unknown hq policy action "${f.action}"`);continue}for(const f of this._w_cache.user)if(Ce(f,n)){if(f.action==="block")return xe;if(f.action==="trust")c=!0;else{console.error(`Unknown policy action "${f.action}"`);continue}}return{blocked:!1,trusted:c}}}}),ye=360,ge=600;async function wt(r){const n=browser.runtime.getURL("src/entry/flow.html"),c=n+"?"+new URLSearchParams(r).toString(),[f,p]=await Promise.all([browser.system.display.getInfo(),(async()=>{const g=(await browser.storage.session.get(["display_info"]))?.display_info;if(g)return g;browser.windows.create({type:"popup",url:n+"?"+new URLSearchParams({headless:"info"}).toString(),focused:!0,width:ye,height:ge});try{return(await yt("session","display_info",5*Ve))?.newValue}catch{}})()]),d={};for(const g of f)g.isEnabled&&(d[g.bounds.width+":"+g.bounds.height]=g);let m={};if(p){const g=p.width+":"+p.height,T=d[g];T&&(m={left:T.bounds.left+Math.round(p.width/2-ye/2),top:T.bounds.top+Math.round(p.height*.45-ge/2)})}const A=await browser.windows.create({type:"popup",url:c,focused:!0,width:ye,height:ge,...m});if(typeof A.id!="number")throw new Error("Failed to create popup window");if(!await browser.windows.get(A.id,{windowTypes:["popup"]}))throw new Error("Failed to locate popup window");const I=await new Promise(g=>{browser.tabs.onUpdated.addListener(function T(D,V,w){A.id===w.windowId&&typeof D=="number"&&V.status==="complete"&&(browser.tabs.onUpdated.removeListener(T),g(w))})});return{window:A,tab:I}}async function le(r,n=""){const c=`flow_${crypto.randomUUID()}`;await Xe("flow");const{window:f,tab:p}=await wt({comm:"broadcast",name:c}),d=new BroadcastChannel(c);return new Promise(m=>{function A(g){browser.windows.onRemoved.removeListener(I),d.removeEventListener("message",R),Je("flow"),m(g)}function R(g){const T=g.data;T.type==="completeFlow"&&(browser.windows.remove(f.id),A(T.value.answer))}d.onmessage=R;function I(g){g===f.id&&A(!1)}browser.windows.onRemoved.addListener(I,{windowTypes:["popup"]}),d.postMessage(r.flow)})}const Ue={sync:{},local:{},session:{},managed:{}};function yt(r,n,c=0){return new Promise((f,p)=>{const d=Ue[r],m=d[n]=d[n]||[];let A=-1,R=0;c>0&&(R=globalThis.setTimeout(()=>{m.splice(A,1),p(new Error("Timed out"))},c)),A=m.push(I=>{globalThis.clearTimeout(R),f(I)})})}function gt(r,n,c){const f=Ue[r],p=f[n];if(p?.length){f[n]=[];for(const d of p)d(c)}}browser.storage.onChanged.addListener((r,n)=>{const f={sync:{async keplr_polyfill(p){const d=browser.scripting,m=_t.mcs_keplr(),A=!!(await d.getRegisteredContentScripts({ids:[m.id]})).length;p.newValue===!0?A||await d.registerContentScripts([m]):A||await d.unregisterContentScripts({ids:[m.id]})}},local:{},session:{},managed:{}}[n];if(f)for(const p in r){const d=r[p];gt(n,p,d);const m=f[p];m&&m(d)}});function Ie(r){const{protocol:n,host:c}=new URL(r);return[(n||"").replace(/:$/,""),c]}function he(r,n){return console.warn(`${n}; blocked request from <${r.url}>`),!0}async function He(r,n,c){if(r==="http"){if(!ct.test(n))return he(c,"Non-secure HTTP contexts are not allowed to connect to wallet except for localhost")}else if(r==="file"){if(!await ft.get("allow_file_urls"))return he(c,"File URLs are not allowed to connect to wallet, unless 'allow_file_urls' setting is enabled")}else if(r!=="https")return he(c,`Scheme not allowed "${r}"`);return!1}function vt(r=64){const n=new Uint8Array(r);return crypto.getRandomValues(n),Array.from(n).map(c=>c.toString(16).padStart(2,"0")).join("")}const pe={panic(r,n){},async requestAdvertisement(r,n,c){const f=n.tab.id;if(!n.url){console.debug("Silently ignoring advertisement request from unknown source");return}const[p,d]=Ie(n.url),m={tabId:f,href:n.url+""};if(console.info("get root key"),!await ve.getRootKey()){console.info("no root key");const I=await le({flow:{type:"authenticate",page:m}});return console.info("flow completed"),I?await pe.requestAdvertisement(r,n,c):void 0}if(console.info("root key exists"),await He(p,d,n))return;console.info("app passed scheme check");{let I=await it.get(d,p),g=!1;I?g=!0:I={scheme:p,host:d,connections:{}};const T=await Le.forApp(I);if(console.info("got policy for app %o",T),T.blocked)return he(n,"App connection blocked by policy");if(!g&&!T.trusted){if(await le({flow:{type:"requestAdvertisement",value:{app:I},page:m}}))return await pe.requestAdvertisement(r,n,c);console.debug("User cancelled request");return}}console.debug(`Allowing <${n.url}> to receive advertisement`);const R={session:vt()};browser.scripting.executeScript({target:{tabId:f},func:lt,args:[R],world:"ISOLATED"}),browser.scripting.executeScript({target:{tabId:f},func:ut,args:[R],world:"MAIN"}),c(R)},async flowBroadcast(r,n,c){const{key:f,config:p}=r;if(!n.url){console.debug("Silently ignoring advertisement request from unknown source");return}const d=p.flow.page={tabId:n.tab.id,href:n.url||p.flow.page?.href||""};if(console.info("get root key"),!await ve.getRootKey()){console.info("no root key");const g=await le({flow:{type:"authenticate",page:d}});return console.info("flow completed"),g?await pe.flowBroadcast(r,n,c):void 0}const[A,R]=Ie(n.url);if(await He(A,R,n))return;console.info("app passed scheme check");const I={scheme:A,host:R,connections:{}};p.flow.value.app=I,le(p,f)}},mt={wake(){de()},async bankSend(r,n,c){c(!0);const f=await ue.at(r.network),p=await _e.at(f.chain),d=ue.activate(f,p),[,m]=await Te.find(r.sender,p);await be(`${f.chain}
${f.rpcHost}
`,d,p,m,r.sender,"Send");const A=await d.bankSend(r.sender,r.recipient,r.coin,BigInt(r.amount),BigInt(r.limit),r.price,r.memo,at.BROADCAST_MODE_SYNC,p),R=`outgoing:${A.hash||crypto.randomUUID()}`;let I="",g="";A.code!==0?(I="\u274C Network rejected transaction",g=`Error #${A.code}:: ${A.raw_log}`):A.hash?(I="Transaction sent to network",g=`Waiting for confirmation on ${p.name}...`):(I="\u26A0\uFE0F Network issues",g="Transaction was accepted but might have gotten lost"),we(R,{title:I,message:g}),await fe.record(A.hash,{type:"tx_out",time:Date.now(),data:A})}},bt=(r,n,c)=>{if(console.debug("Service received message %o",r),typeof r=="object"&&typeof r.type=="string"){let f=pe;if(!n.tab||typeof n.tab.id!="number")if(n.origin&&browser.runtime.id===n.id)f=mt;else{console.error("Refusing request from unknown sender");return}const p=r.type,d=f[p];if(d){const m=d(r.value,n,c);if(m&&typeof m.then=="function")return!0}}};browser.runtime.onMessage.addListener(bt);browser.runtime.onInstalled.addListener(async()=>{});browser.alarms.clearAll(()=>{console.warn("clear all"),browser.alarms.create("periodicChainQueries",{periodInMinutes:2}),browser.alarms.onAlarm.addListener(r=>{switch(r.name){case"periodicChainQueries":{de();break}}}),de()});let me=!1;const ie={},Oe=()=>setTimeout(()=>{me=!1,de()},30*Ze);let St=Oe();const qe={};browser.notifications.onClicked.addListener(r=>{const n=qe[r];n?.click&&n.click()});function we(r,n){browser.notifications.create(r,{type:"basic",priority:1,iconUrl:"/media/vendor/logo-192px.png",isClickable:!0,eventTime:Date.now(),...n})}function Re(r,n,c={}){if(c){const f={};c.incident&&(f.click=()=>{le({flow:{type:"inspectIncident",page:null,value:{incident:c.incident}}})}),qe[r]=f}return we(r,n)}async function be(r,n,c,f,p,d){const m=r+":"+d;if(_e.pathFrom(c),ie[m])try{ie[m]()}catch{}return ie[m]=await n[`on${d}`](p,async(A,R)=>{if(A)delete ie[m],console.error(A);else if(R){const I=JSON.parse(R.result?.log||"[]");if(I?.length){for(const g of I[0].events)if(g.type==="transfer"){const T=et(g);let D=T.amount;const V=tt.exec(T.amount);if(!V)rt({text:`Failed to parse transfer amount "${T.amount}"`});else{const[,j,a]=V;for(const[$,k]of $e(c.coins))if(a===k.denom){const N=new nt(j).shiftedBy(-k.decimals).toNumber();D=`${ot(N,!0)} ${$}`;break}}let w=T.sender;const F=Be.pathForContact(w,c.family),G=await Be.getContact(F);G?w=G.name:w=st(w);const H=R.hash,Y=(d==="Send"?"outgoing":"incoming")+":"+H;if(d==="Receive"){Re(Y,{title:`\u{1F4B8} Received ${D} on ${c.name}`,message:`${w} sent ${D} to your ${f.name} account`},{incident:fe.pathFor("tx_in",H)});const j=await n.downloadTxn(H);await fe.record(H,{type:"tx_in",time:new Date(j.timestamp).getTime(),data:j})}else if(d==="Send"){Re(Y,{title:`\u2705 Sent ${D} on ${c.name}`,message:`${D} sent to ${w} from ${f.name} account`},{incident:fe.pathFor("tx_out",H)});const j=await n.downloadTxn(H);await fe.record(H,{type:"tx_out",time:new Date(j.timestamp).getTime(),data:j})}}}}})}const ke=1e3;let Ee=0,Pe=0;function At(){Date.now()-Pe>ke*1.5&&(globalThis.clearInterval(Ee),Ee=globalThis.setInterval(()=>{Ne({type:"heartbeat"}),Pe=Date.now()},ke))}async function de(r=!1){if(At(),await Qe.updateAll(),!await ve.getRootKey()||me)return;me=!0,clearTimeout(St);const[n,c,f]=await Promise.all([Te.read(),_e.read(),ue.read()]),p={};for(const[d,m]of f.entries())p[m.chain]=p[m.chain]||m;for(const[d,m]of $e(p)){if(d==="/family.cosmos/chain.theta-testnet-001"||ie[d])continue;const A=c.at(d),R=ue.pathFrom(m),I=ue.activate(m,A),g=[];try{ie[d]=await I.listen(["tm.event='NewBlock'"],(T,D)=>{if(T)delete ie[d];else if(D){g.push(Date.now());const V=D.block;for(;g.length>16;)g.shift();Ne({type:"blockInfo",value:{header:V.header,chain:d,network:R,recents:g,txCount:V.data.txs.length}})}}),console.info({h_sockets:ie})}catch(T){Ae({title:"Websocket Error",error:T})}for(const[T,D]of n.entries()){const V=_e.addressFor(D.pubkey,A);if(I.hasRpc){const w=d+`
`+m.rpcHost+`
`;if(!ie[w])try{await Promise.all([be(w,I,A,D,V,"Receive"),be(w,I,A,D,V,"Send")])}catch(a){Ae({title:"Provider Error",error:a})}const G=[],H=[];for await(const a of I.synchronizeAll(V))a.type==="tx_in"?G.push(a):a.type==="tx_out"&&H.push(a);const Y=H.length,j=G.length;if(Y>=1)if(Y<=0)for(const a of H);else we(crypto.randomUUID(),{title:`\u2705 Sent ${Y===1?"a transfer":`${j} transfers`}`,message:"While you were away..."});if(j>=1)if(j<=0)for(const a of H);else we(crypto.randomUUID(),{title:`\u{1F4B8} Received ${j===1?"a transfer":`${j} transfers`}`,message:"While you were away..."})}}}Oe()}Ye({login(){de(!0)}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmFja2dyb3VuZC45MGIwYjAwYy5qcyIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL3NjcmlwdC9pY3MtaG9zdC50cyIsIi4uLy4uLy4uL3NyYy9zY3JpcHQvbWNzLXJhdGlmaWVyLnRzIiwiLi4vLi4vLi4vc3JjL3NjcmlwdC91dGlscy50cyIsIi4uLy4uLy4uL3NyYy9zY3JpcHQvc2NyaXB0cy50cyIsIi4uLy4uLy4uL3NyYy9zdG9yZS9wb2xpY2llcy50cyIsIi4uLy4uLy4uL3NyYy9zY3JpcHQvY29uc3RhbnRzLnRzIiwiLi4vLi4vLi4vc3JjL3NjcmlwdC9tc2ctZmxvdy50cyIsIi4uLy4uLy4uL3NyYy9zY3JpcHQvc2VydmljZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7XG5cdEhtYWNTSEEyNTYsXG59IGZyb20gJ2NyeXB0by1qcyc7XG5cbmltcG9ydCB0eXBlICogYXMgQ29uc3RhbnRzIGZyb20gJy4vY29uc3RhbnRzJztcbmltcG9ydCB0eXBlICogYXMgVXRpbHMgZnJvbSAnLi91dGlscyc7XG5pbXBvcnQgdHlwZSAqIGFzIEZsb3cgZnJvbSAnLi9tc2ctZmxvdyc7XG5pbXBvcnQgdHlwZSB7IENoYWluRGVzY3JpcHRvciwgQ29ubmVjdGlvbk1hbmlmZXN0VjEsIFVua25vd25DaGFpbkRlc2NyaXB0b3IgfSBmcm9tICcuL2NvbW1vbic7XG5cbmltcG9ydCB0eXBlIHtcblx0SG9zdFRvUmVsYXksXG5cdFJlbGF5VG9Ib3N0LFxuXHRIb3N0VG9SYXRpZmllcixcblx0SWNzVG9TZXJ2aWNlLFxufSBmcm9tICcuL21lc3NhZ2VzJztcblxuaW1wb3J0IHR5cGUgeyBWb2NhYiB9IGZyb20gJyMvbWV0YS92b2NhYic7XG5cbmludGVyZmFjZSBTY3JpcHRQYXJhbXMge1xuXHRzZXNzaW9uOiBzdHJpbmc7XG59XG5cbi8qKlxuICogVGhlIGhvc3QgcHJvdmlkZXMgYSBjb25uZWN0aW9uIGJldHdlZW4gdGhlIHBhZ2UgYW5kIHRoZSBleHRlbnNpb24gYW5kIGFsbG93cyBtZXNzYWdlcyBmcm9tIHRoZSByZWxheSBmcmFtZSB0byBiZVxuICogZm9yd2FyZGVkIHRvIHRoZSBzZXJ2aWNlIGlmIG5lY2Vzc2FyeS5cbiAqIFRoaXMgY29udGVudCBzY3JpcHQgaXMgZXhlY3V0ZWQgYSBydW50aW1lIGJ5IHRoZSBzZXJ2aWNlLCBzbyB0aGUgbW9kdWxlIGV4cG9ydHMgYSBmdW5jdGlvbiB0aGF0IGFjY2VwdHMgYW4gYXJndW1lbnQuXG4gKiBAcGFyYW0gLSBhIHtAbGluayBTZXJ2aWNlVG9JY3MuU2Vzc2lvbktleXN9IG9iamVjdFxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih7XG5cdHNlc3Npb246IHNoX3Nlc3Npb24sXG59OiBTY3JpcHRQYXJhbXMpOiB2b2lkIHtcblx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uYW1pbmctY29udmVudGlvblxuXHRjb25zdCBobWFjU0hBMjU2ID0gaW5saW5lX3JlcXVpcmUoJ2NyeXB0by1qcy9obWFjLXNoYTI1NicpIGFzIHR5cGVvZiBIbWFjU0hBMjU2O1xuXG5cdGNvbnN0IHtcblx0XHRBX0NIQUlOX0NBVEVHT1JJRVMsXG5cdFx0QV9DSEFJTl9GQU1JTElFUyxcblx0XHRSX0NIQUlOX0lELFxuXHRcdFJfQ0hBSU5fTkFNRSxcblx0fSA9IGlubGluZV9yZXF1aXJlKCcuL2NvbnN0YW50cy50cycpIGFzIHR5cGVvZiBDb25zdGFudHM7XG5cblx0Y29uc3Qge1xuXHRcdGxvY2F0ZV9zY3JpcHQsXG5cdH0gPSBpbmxpbmVfcmVxdWlyZSgnLi91dGlscy50cycpIGFzIHR5cGVvZiBVdGlscztcblxuXHQvLyB0eXBlZCBjaHJvbWUgcnVudGltZSBmb3Igc2VuZGluZyBtZXNzYWdlc1xuXHRjb25zdCBkX3J1bnRpbWU6IFZvY2FiLlR5cGVkUnVudGltZTxJY3NUb1NlcnZpY2UuUHVibGljVm9jYWIsIEljc1RvU2VydmljZS5QdWJsaWNSZXNwb25zZVZvY2FiPiA9IGNocm9tZS5ydW50aW1lO1xuXG5cdC8vIHZlcmJvc2Vcblx0Y29uc3QgZGVidWcgPSAoczogc3RyaW5nLCAuLi5hX2FyZ3M6IGFueVtdKSA9PiBjb25zb2xlLmRlYnVnKGBTdGFyU2hlbGwuaWNzLWhvc3Q6ICR7c31gLCAuLi5hX2FyZ3MpO1xuXHRkZWJ1ZyhgTGF1bmNoZWQgb24gPCR7bG9jYXRpb24uaHJlZn0+YCk7XG5cblx0LyoqXG5cdCAqIFxuXHQgKi9cblx0ZnVuY3Rpb24gZmxvd19zZW5kKGdjX3Byb21wdDogRmxvdy5Qcm9tcHRDb25maWcpOiBQcm9taXNlPGJvb2xlYW4+IHtcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoKGZrX3Jlc29sdmUpID0+IHtcblx0XHRcdC8vIGNyZWF0ZSByZXNwb25zZSBrZXlcblx0XHRcdGNvbnN0IHNpX3Jlc3BvbnNlID0gY3J5cHRvLnJhbmRvbVVVSUQoKTtcblxuXHRcdFx0Ly8gd2FpdCBmb3IgcmVzcG9uc2UgZnJvbSBwb3B1cFxuXHRcdFx0ZF9ydW50aW1lLm9uTWVzc2FnZS5hZGRMaXN0ZW5lcihmdW5jdGlvbiBmbG93X3Jlc3BvbnNlX2hhbmRsZXIoZ19tc2csIGdfc2VuZGVyKSB7XG5cdFx0XHRcdC8vIGZsb3cgcmVzcG9uc2UgbWVzc2FnZVxuXHRcdFx0XHRpZignZmxvd0Jyb2FkY2FzdFJlc3BvbnNlJyA9PT0gZ19tc2cudHlwZSkge1xuXHRcdFx0XHRcdC8vIHJlc3BvbmRpbmcgdG8gdGhpcyByZXF1ZXN0XG5cdFx0XHRcdFx0aWYoc2lfcmVzcG9uc2UgPT09IGdfbXNnLnZhbHVlLmtleSkge1xuXHRcdFx0XHRcdFx0Ly8gcmVtb3ZlIGxpc3RlbmVyXG5cdFx0XHRcdFx0XHRkX3J1bnRpbWUub25NZXNzYWdlLnJlbW92ZUxpc3RlbmVyKGZsb3dfcmVzcG9uc2VfaGFuZGxlcik7XG5cblx0XHRcdFx0XHRcdC8vIHJlc29sdmUgcHJvbWlzZVxuXHRcdFx0XHRcdFx0ZmtfcmVzb2x2ZShnX21zZy52YWx1ZS5hbnN3ZXIpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cblx0XHRcdC8vIGZvcndhcmQgY29tbWFuZCB0byBiYWNrZ3JvdW5kXG5cdFx0XHR2b2lkIGRfcnVudGltZS5zZW5kTWVzc2FnZSh7XG5cdFx0XHRcdHR5cGU6ICdmbG93QnJvYWRjYXN0Jyxcblx0XHRcdFx0dmFsdWU6IHtcblx0XHRcdFx0XHRrZXk6IHNpX3Jlc3BvbnNlLFxuXHRcdFx0XHRcdGNvbmZpZzogZ2NfcHJvbXB0LFxuXHRcdFx0XHR9LFxuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdH1cblxuXHQvKipcblx0ICogR2VuZXJhdGUgYSBuZXcgcHJpdmF0ZS9zaGFyZWQgc2VjcmV0IGtleSBvZiB0aGUgc3BlY2lmaWVkIHNpemUgaW4gYnl0ZXMgKGRlZmF1bHRzIHRvIDUxMi1iaXQga2V5KVxuXHQgKi9cblx0ZnVuY3Rpb24gZ2VuZXJhdGVfa2V5KG5iX3NpemU9NjQpOiBzdHJpbmcge1xuXHRcdC8vIHByZXAgc3BhY2UgaW4gbWVtb3J5XG5cdFx0Y29uc3QgYXR1OF9zZWNyZXQgPSBuZXcgVWludDhBcnJheShuYl9zaXplKTtcblxuXHRcdC8vIGZpbGwgd2l0aCBjcnlwdG8gcmFuZG9tIHZhbHVlc1xuXHRcdGNyeXB0by5nZXRSYW5kb21WYWx1ZXMoYXR1OF9zZWNyZXQpO1xuXG5cdFx0Ly8gY29udmVydCB0byBoZXggc3RyaW5nXG5cdFx0cmV0dXJuIEFycmF5LmZyb20oYXR1OF9zZWNyZXQpLm1hcCh4ID0+IHgudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDIsICcwJykpLmpvaW4oJycpO1xuXHR9XG5cblxuXHQvLyBzdWJjbGFzcyBFcnJvciB0byBiZSBhYmxlIHRvIHJlY29nbml6ZSBvYmplY3Qgb3JpZ2luXG5cdGNsYXNzIFNlY3VyaXR5RXJyb3IgZXh0ZW5kcyBFcnJvciB7fVxuXG5cdC8vIG1lc3NhZ2UgcG9ydFxuXHRsZXQgZF9wb3J0OiBWb2NhYi5UeXBlZFBvcnQ8SG9zdFRvUmVsYXkuQXV0aGVkVm9jYWI+O1xuXG5cdC8vIGZsYWcgdG8gcmVjb3JkIHJlbGF5IHN0YXRlXG5cdGxldCBiX2FjcXVhaW50ZWQgPSBmYWxzZTtcblxuXHQvLyBmbGFnIGluIGNhc2Ugc2VjdXJpdHkgdmlvbGF0aW9uIG9jY3Vyc1xuXHRsZXQgYl9hYm9ydGVkID0gZmFsc2U7XG5cblx0LyoqXG5cdCAqIEFib3J0IHBhZ2UgY29ubmVjdGlvbiBhbmQgcmVwb3J0IGEgc2VjdXJpdHkgZXJyb3Jcblx0ICovXG5cdGZ1bmN0aW9uIGFib3J0KHNfcmVhc29uOiBzdHJpbmcpIHtcblx0XHQvLyBzZXQgYWJvcnQgZmxhZ1xuXHRcdGJfYWJvcnRlZCA9IHRydWU7XG5cblx0XHQvLyBub3RpZnkgZXh0ZW5zaW9uXG5cdFx0dm9pZCBkX3J1bnRpbWUuc2VuZE1lc3NhZ2Uoe1xuXHRcdFx0dHlwZTogJ3BhbmljJyxcblx0XHRcdHZhbHVlOiAnJytzX3JlYXNvbixcblx0XHR9KTtcblxuXHRcdC8vIGp1bXAgb3V0IG9mIGNhbGwgc3RhY2tcblx0XHR0aHJvdyBuZXcgU2VjdXJpdHlFcnJvcihgU3RhclNoZWxsIHRocmV3IGEgc2VjdXJpdHkgZXJyb3I6IFwiJHtzX3JlYXNvbn1cImApO1xuXHR9XG5cblx0LyoqXG5cdCAqIEFzc2VydCB0aGF0IHRoZSBjb25uZWN0aW9uIGhhcyBub3QgYmVlbiBhYm9ydGVkXG5cdCAqL1xuXHRmdW5jdGlvbiBhc3NlcnRfbm90X2Fib3J0ZWQoKSB7XG5cdFx0Ly8gYWxyZWFkeSBhYm9ydGVkXG5cdFx0aWYoYl9hYm9ydGVkKSB0aHJvdyBuZXcgRXJyb3IoJ1N0YXJTaGVsbCB3aXRoZHJldyB3YWxsZXQgYWNjZXNzIGZyb20gdGhpcyB3ZWJzaXRlIGR1ZSB0byBhIHNlY3VyaXR5IHZpb2xhdGlvbicpO1xuXHR9XG5cblx0Ly8gZGVjbGFyZSBjaGFubmVsIG1lc3NhZ2UgaGFuZGxlcnNcblx0Y29uc3QgaF9oYW5kbGVyc19hdXRoZWQ6IFZvY2FiLkhhbmRsZXJzPFJlbGF5VG9Ib3N0LkF1dGhlZFZvY2FiPiA9IHtcblx0XHQvLyBoYW5kbGUgY29ubmVjdGlvbiByZXF1ZXN0c1xuXHRcdGFzeW5jIHJlcXVlc3RDb25uZWN0KGdfcmVxdWVzdCkge1xuXHRcdFx0Ly8gZGVzdHJ1Y3R1cmUgcmVxdWVzdFxuXHRcdFx0Y29uc3Qge1xuXHRcdFx0XHRpbmRleDogaV9yZXF1ZXN0LFxuXHRcdFx0XHRtYW5pZmVzdDogZ19tYW5pZmVzdCxcblx0XHRcdH0gPSBnX3JlcXVlc3Q7XG5cblx0XHRcdC8vIHJlc3BvbmQgd2l0aCBhbiBlcnJvclxuXHRcdFx0Y29uc3QgZXJyID0gKHNfcmVhc29uOiBzdHJpbmcpID0+IHtcblx0XHRcdFx0ZF9wb3J0LnBvc3RNZXNzYWdlKHtcblx0XHRcdFx0XHR0eXBlOiAncmVzcG9uZENvbm5lY3QnLFxuXHRcdFx0XHRcdHZhbHVlOiB7XG5cdFx0XHRcdFx0XHRpbmRleDogaV9yZXF1ZXN0LFxuXHRcdFx0XHRcdFx0YW5zd2VyOiB7XG5cdFx0XHRcdFx0XHRcdGVycm9yOiBzX3JlYXNvbixcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0fSk7XG5cdFx0XHR9O1xuXG5cdFx0XHQvLyBpbnZhbGlkIHN0cnVjdHVyZVxuXHRcdFx0aWYoJ29iamVjdCcgIT09IHR5cGVvZiBnX21hbmlmZXN0IHx8ICdzdHJpbmcnICE9PSB0eXBlb2YgZ19tYW5pZmVzdC5zY2hlbWEpIHtcblx0XHRcdFx0cmV0dXJuIGVycignSW52YWxpZCBtYW5pZmVzdCBzdHJ1Y3R1cmUnKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gdW5rbm93biBtYW5pZmVzdCB2ZXJzaW9uXG5cdFx0XHRpZignMScgIT09IGdfbWFuaWZlc3Quc2NoZW1hKSB7XG5cdFx0XHRcdHJldHVybiBlcnIoJ1Vua25vd24gb3IgdW5zdXBwb3J0ZWQgbWFuaWZlc3Qgc2NoZW1hIHZlcnNpb24nKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gbWlzc2luZyBjaGFpbnNcblx0XHRcdGlmKCFBcnJheS5pc0FycmF5KGdfbWFuaWZlc3QuY2hhaW5zKSB8fCAhZ19tYW5pZmVzdC5jaGFpbnMubGVuZ3RoKSB7XG5cdFx0XHRcdHJldHVybiBlcnIoJ05vIGNoYWlucyB3ZXJlIHNwZWNpZmllZCBpbiByZXF1ZXN0Jyk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIGRlc3RydWN0dXJlIG1hbmlmZXN0XG5cdFx0XHRjb25zdCB7XG5cdFx0XHRcdGNoYWluczogYV9jaGFpbnMsXG5cdFx0XHR9ID0gZ19tYW5pZmVzdCBhcyBDb25uZWN0aW9uTWFuaWZlc3RWMTtcblxuXHRcdFx0Ly8gbG9vayBvdXQgZm9yIGR1cGxpY2F0ZXNcblx0XHRcdGNvbnN0IGFzX2NoYWlucyA9IG5ldyBTZXQ8c3RyaW5nPigpO1xuXG5cblx0XHRcdGludGVyZmFjZSBDb25uZWN0aW9uUmVxdWVzdCBleHRlbmRzIFVua25vd25DaGFpbkRlc2NyaXB0b3Ige1xuXHRcdFx0XHRsYWJlbDogc3RyaW5nO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBcblx0XHRcdGNvbnN0IGFfcmVxdWVzdHM6IENvbm5lY3Rpb25SZXF1ZXN0W10gPSBbXTtcblxuXHRcdFx0Ly8gY2hhaW4gYW5zd2Vyc1xuXHRcdFx0Y29uc3QgYV9hbnN3ZXJzOiBWb2NhYi5NZXNzYWdlVmFsdWU8SG9zdFRvUmVsYXkuQXV0aGVkVm9jYWIsICdyZXNwb25kQ29ubmVjdCc+WydhbnN3ZXInXVtdID0gW107XG5cblx0XHRcdC8vIGVhY2ggY2hhaW5cblx0XHRcdGZvcihsZXQgaV9jaGFpbj0wOyBpX2NoYWluPGFfY2hhaW5zLmxlbmd0aDsgaV9jaGFpbisrKSB7XG5cdFx0XHRcdGNvbnN0IGdfY2hhaW4gPSBhX2NoYWluc1tpX2NoYWluXTtcblxuXHRcdFx0XHRjb25zdCBjZXJyID0gKHNfcmVhc29uOiBzdHJpbmcpID0+IGVycihgJHtzX3JlYXNvbn0gYXQgLmNoYWluc1ske2lfY2hhaW59XWApO1xuXG5cdFx0XHRcdC8vIHZhbGlkYXRlIGRlc2NyaXB0b3Igc3RydWN0dXJlXG5cdFx0XHRcdGlmKCdvYmplY3QnICE9PSB0eXBlb2YgZ19jaGFpbiB8fCAnc3RyaW5nJyAhPT0gdHlwZW9mIGdfY2hhaW4uY2F0ZWdvcnlcblx0XHRcdFx0XHR8fCAnc3RyaW5nJyAhPT0gdHlwZW9mIGdfY2hhaW4uZmFtaWx5IHx8ICdzdHJpbmcnICE9PSB0eXBlb2YgZ19jaGFpbi5pZCkge1xuXHRcdFx0XHRcdHJldHVybiBjZXJyKCdJbnZhbGlkIGNoYWluIGRlc2NyaXB0b3Igc3RydWN0dXJlJyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBmYW1pbHkgbm90IHN1cHBvcnRlZFxuXHRcdFx0XHRpZighQV9DSEFJTl9GQU1JTElFUy5pbmNsdWRlcyhnX2NoYWluLmZhbWlseSkpIHtcblx0XHRcdFx0XHRhX2Fuc3dlcnMucHVzaCh7XG5cdFx0XHRcdFx0XHRlcnJvcjogJ0ZhbWlseSBub3Qgc3VwcG9ydGVkJyxcblx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdC8vIG1vdmUgb250byBuZXh0IGNoYWluXG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyB2YWxpZGF0ZSBjaGFpbiBjYXRlZ29yeVxuXHRcdFx0XHRpZighQV9DSEFJTl9DQVRFR09SSUVTLmluY2x1ZGVzKGdfY2hhaW4uY2F0ZWdvcnkpKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGNlcnIoYEludmFsaWQgY2F0ZWdvcnkgdmFsdWUgXCIke2dfY2hhaW4uY2F0ZWdvcnl9XCI7IG11c3QgYmUgb25lIG9mICgke0FfQ0hBSU5fQ0FURUdPUklFUy5qb2luKCcsICcpfSlgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIHZhbGlkYXRlIGNoYWluIGlkXG5cdFx0XHRcdGlmKCFSX0NIQUlOX0lELnRlc3QoZ19jaGFpbi5pZCkpIHtcblx0XHRcdFx0XHRyZXR1cm4gY2VycihgSW52YWxpZCBjaGFpbiBpZCBcIiR7Z19jaGFpbi5pZH1cIiBmb3IgJHtnX2NoYWluLmZhbWlseX0gZmFtaWx5OyBmYWlsZWQgdG8gbWF0Y2ggcmVndWxhciBleHByZXNzaW9uIC8ke1JfQ0hBSU5fSUQuc291cmNlfS9gKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIHZhbGlkYXRlIGNoYWluIG5hbWVcblx0XHRcdFx0aWYoZ19jaGFpbi5uYW1lKSB7XG5cdFx0XHRcdFx0aWYoIVJfQ0hBSU5fTkFNRS50ZXN0KGdfY2hhaW4ubmFtZSkpIHtcblx0XHRcdFx0XHRcdHJldHVybiBjZXJyKGBJbnZhbGlkIGNoYWluIG5hbWUgXCIke2dfY2hhaW4ubmFtZX1cIjsgZmFpbGVkIHRvIG1hdGNoIHJlZ3VsYXIgZXhwcmVzc2lvbiAvJHtSX0NIQUlOX05BTUUuc291cmNlfS9gKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZihnX2NoYWluLm5hbWUubGVuZ3RoID4gNjQpIHtcblx0XHRcdFx0XHRcdHJldHVybiBjZXJyKCdDaGFpbiBuYW1lIHRvbyBsb25nJyk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gY2hhaW4gcGF0aFxuXHRcdFx0XHRjb25zdCBwX2NoYWluID0gZ19jaGFpbi5mYW1pbHkrJ1xcbicrZ19jaGFpbi5pZDtcblxuXHRcdFx0XHQvLyBkdXBsaWNhdGVcblx0XHRcdFx0aWYoYXNfY2hhaW5zLmhhcyhwX2NoYWluKSkge1xuXHRcdFx0XHRcdHJldHVybiBjZXJyKGBEdXBsaWNhdGUgY2hhaW4gSURzIGluICcke2dfY2hhaW4uZmFtaWx5fScgZmFtaWx5OiAnJHtnX2NoYWluLmlkfSdgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIHNldCBjaGFpbiBsYWJlbFxuXHRcdFx0XHRjb25zdCBzX2xhYmVsID0gZ19jaGFpbi5uYW1lIHx8IGdfY2hhaW4uaWQ7XG5cblx0XHRcdFx0Ly8gcHJlcCBVSSBwcm9tcHRcblx0XHRcdFx0YV9yZXF1ZXN0cy5wdXNoKHtcblx0XHRcdFx0XHQuLi5nX2NoYWluLFxuXHRcdFx0XHRcdGxhYmVsOiBzX2xhYmVsLFxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblxuXHRcdFx0dm9pZCBkX3J1bnRpbWUuc2VuZE1lc3NhZ2Uoe1xuXHRcdFx0XHR0eXBlOiAncmVxdWVzdENvbm5lY3Rpb24nLFxuXHRcdFx0XHR2YWx1ZToge1xuXHRcdFx0XHRcdGNoYWluczogYV9yZXF1ZXN0cyxcblx0XHRcdFx0fSxcblx0XHRcdH0pO1xuXG5cdFx0XHQvLyAvLyBwcmVwIGZsb3cgcmVzdWx0XG5cdFx0XHQvLyBsZXQgZ19yZXN1bHQ7XG5cdFx0XHQvLyB0cnkge1xuXHRcdFx0Ly8gXHQvLyBhd2FpdCBmbG93XG5cdFx0XHQvLyBcdGdfcmVzdWx0ID0gYXdhaXQgZmxvd19zZW5kKHtcblx0XHRcdC8vIFx0XHRmbG93OiB7XG5cdFx0XHQvLyBcdFx0XHR0eXBlOiAncmVxdWVzdENvbm5lY3Rpb24nLFxuXHRcdFx0Ly8gXHRcdFx0dmFsdWU6IHtcblx0XHRcdC8vIFx0XHRcdFx0Y2hhaW5zOiBhX3JlcXVlc3RzLFxuXHRcdFx0Ly8gXHRcdFx0fSxcblx0XHRcdC8vIFx0XHRcdHBhZ2U6IHtcblx0XHRcdC8vIFx0XHRcdFx0aHJlZjogbG9jYXRpb24uaHJlZixcblx0XHRcdC8vIFx0XHRcdFx0dGFiSWQ6IC0xLFxuXHRcdFx0Ly8gXHRcdFx0fSxcblx0XHRcdC8vIFx0XHR9LFxuXHRcdFx0Ly8gXHR9KTtcblx0XHRcdC8vIH1cblx0XHRcdC8vIGNhdGNoKGVfcG9wdXApIHtcblx0XHRcdC8vIFx0Ly8gVE9ETzogaGFuZGxlIGNocm9tZSBlcnJvclxuXHRcdFx0Ly8gXHQvLyBUT0RPOiBoYW5kbGUgZmxvdyBlcnJvclxuXHRcdFx0Ly8gXHR0aHJvdyBlX3BvcHVwO1xuXHRcdFx0Ly8gfVxuXG5cdFx0XHQvLyBmZXRjaCBmcm9tIHN0b3JlXG5cblxuXHRcdFx0Ly8gcG9ydHNcblx0XHRcdGNvbnN0IGFfcG9ydHM6IEFycmF5PE1lc3NhZ2VQb3J0IHwgbnVsbD4gPSBbXTtcblxuXHRcdFx0Ly8gbm8gcG9ydFxuXHRcdFx0YV9wb3J0cy5wdXNoKG51bGwpO1xuXG5cblx0XHRcdGZvcihjb25zdCBnX2NoYWluIG9mIGFfY2hhaW5zKSB7XG5cdFx0XHRcdC8vIGNyZWF0ZSBjaGFubmVsXG5cdFx0XHRcdGNvbnN0IGRfY2hhbm5lbCA9IG5ldyBNZXNzYWdlQ2hhbm5lbCgpO1xuXG5cdFx0XHRcdC8vIGFzc2lnbiBwb3J0IDFcblx0XHRcdFx0Y29uc3Qga2NfY2hhaW4gPSBhd2FpdCBIb3N0Q29ubmVjdGlvbi5jcmVhdGUoZ19jaGFpbiwgZF9jaGFubmVsLnBvcnQxKTtcblxuXHRcdFx0XHQvLyByZXNvb25kIHdpdGggcG9ydCAyXG5cdFx0XHRcdGFfcG9ydHMucHVzaChkX2NoYW5uZWwucG9ydDIpO1xuXHRcdFx0fVxuXG5cblx0XHRcdGRfcG9ydC5wb3N0TWVzc2FnZSh7XG5cdFx0XHRcdHR5cGU6ICdyZXNwb25kQ29ubmVjdCcsXG5cdFx0XHRcdHZhbHVlOiB7XG5cdFx0XHRcdFx0aW5kZXg6IGlfcmVxdWVzdCxcblx0XHRcdFx0XHRhbnN3ZXI6IHtcblx0XHRcdFx0XHRcdGNvbmZpZzoge1xuXHRcdFx0XHRcdFx0XHRmZWF0dXJlczogYV9mZWF0dXJlcyxcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LFxuXHRcdFx0fSwgYV9wb3J0cyk7XG5cdFx0fSxcblxuXHRcdC8vIGhhbmRsZSB3ZWJzaXRlIGVycm9yIHJlcG9ydGluZ1xuXHRcdHJlcG9ydFdlYnNpdGVFcnJvcihzX3Jlc29uOiBzdHJpbmcpIHtcblx0XHRcdC8vIFRPRE86IGhhbmRsZVxuXHRcdH0sXG5cdH07XG5cblxuXHQvLyBSZWNvcmQ8UmVsYXlUb0hvc3QuQ2hhbm5lbE1lc3NhZ2VbJ3R5cGUnXSwgTWVzc2FnZUhhbmRsZXI+ID0ge1xuXHRcdC8vIGFzeW5jIHN1Ym1pdFRyYW5zYWN0aW9uKCkge1xuXHRcdC8vIFx0Y29uc3QgeV93aW5kb3cgPSBhd2FpdCBjaHJvbWUud2luZG93cy5jcmVhdGUoe1xuXHRcdC8vIFx0XHR0eXBlOiAncG9wdXAnLFxuXHRcdC8vIFx0XHR3aWR0aDogTl9QWF9XSURUSF9QT1BVUCxcblx0XHQvLyBcdFx0aGVpZ2h0OiBOX1BYX0hFSUdIVF9QT1BVUCxcblx0XHQvLyBcdFx0Zm9jdXNlZDogdHJ1ZSxcblx0XHQvLyBcdFx0dXJsOiBjaHJvbWUucnVudGltZS5nZXRVUkwoJ3NyYy9lbnRyeS9wb3B1cC5odG1sIy9wcm9tcHQnKSxcblx0XHQvLyBcdH0pO1xuXG5cdFx0Ly8gXHQvLyB5X3dpbmRvd1xuXHRcdC8vIH0sXG5cblxuXHQvLyBoYW5kbGUgbWVzc2FnZXMgZnJvbSBhdXRoZWQgcG9ydFxuXHRmdW5jdGlvbiBhdXRoZWRfbWVzc2FnZV9oYW5kbGVyKGRfZXZlbnQpIHtcblx0XHQvLyBkZXN0cnVjdHVyZSBtZXNzYWdlIGRhdGFcblx0XHRjb25zdCB7XG5cdFx0XHR0eXBlOiBzaV90eXBlLFxuXHRcdFx0dmFsdWU6IHdfdmFsdWUsXG5cdFx0fSA9IGRfZXZlbnQuZGF0YTtcblxuXHRcdC8vIHJlZiBoYW5kbGVyXG5cdFx0Y29uc3QgZl9oYW5kbGVyID0gaF9oYW5kbGVyc19hdXRoZWRbc2lfdHlwZV07XG5cdFx0aWYoIWZfaGFuZGxlcikge1xuXHRcdFx0Y29uc29sZS5lcnJvcihgUmVjZWl2ZWQgcmVsYXkgcG9ydCBtZXNzYWdlIGhhdmluZyBhbiB1bnJlZ2lzdGVyZWQgdHlwZSBcIiR7c2lfdHlwZX1cImApO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIGhhbmRsZXIgaXMgcmVnaXN0ZXJlZDsgZXhlY3V0ZSBpdFxuXHRcdGRlYnVnKGBSZWNlaXZlZCByZWxheSBwb3J0IG1lc3NhZ2UgaGF2aW5nIHJlZ2lzdGVyZWQgdHlwZSAlb2AsIGRfZXZlbnQuZGF0YSk7XG5cdFx0Zl9oYW5kbGVyKHdfdmFsdWUpO1xuXHR9XG5cblx0Ly8gZGVjbGFyZSB3aW5kb3cgbWVzc2FnZSBoYW5kbGVyc1xuXHRjb25zdCBoX2hhbmRsZXJzX3dpbmRvdzogVm9jYWIuSGFuZGxlcnNQb3J0UmVjZWl2YWJsZTxSZWxheVRvSG9zdC5TdWJmcmFtZVZvY2FiPiA9IHtcblx0XHQvLyAvKipcblx0XHQvLyAgKiBBIHNlY3VyaXR5IHRlc3QgaGFzIGZhaWxlZC4gQ2xvc2UgY29ubmVjdGlvbiB0byB0aGUgb2ZmZW5kaW5nIHBhZ2UuXG5cdFx0Ly8gICovXG5cdFx0Ly8gcGFuaWMoc19yZWFzb246IHN0cmluZykge1xuXHRcdC8vIFx0Ly8gbm8gbmVlZCB0byBhYm9ydCBtb3JlIHRoYW4gb25jZVxuXHRcdC8vIFx0aWYoIWJfYWJvcnRlZCkge1xuXHRcdC8vIFx0XHRyZXR1cm4gYWJvcnQoc19yZWFzb24pO1xuXHRcdC8vIFx0fVxuXHRcdC8vIH0sXG5cblxuXHRcdC8vIC8qKlxuXHRcdC8vICAqIEEgcG90ZW50aWFsIGJ1ZyBtYXkgaGF2ZSBiZWVuIGVuY291bnRlcmVkLlxuXHRcdC8vICAqL1xuXHRcdC8vICBidWcoc19yZWFzb246IHN0cmluZykge1xuXHRcdC8vIFx0Ly8gIFRPRE86IGhhbmRsZSBidWcgcmVwb3J0aW5nXG5cblx0XHQvLyBcdC8vIG5vIG5lZWQgdG8gYWJvcnQgbW9yZSB0aGFuIG9uY2Vcblx0XHQvLyBcdGlmKCFiX2Fib3J0ZWQpIHtcblx0XHQvLyBcdFx0cmV0dXJuIGFib3J0KHNfcmVhc29uKTtcblx0XHQvLyBcdH1cblx0XHQvLyB9LFxuXG5cblx0XHQvKipcblx0XHQgKiBUaGUgcmVsYXkgZnJhbWUgc3VjY2Vzc2Z1bGx5IGRlY2xhcmVkIGB3aW5kb3cuc3RhcnNoZWxsYCBvbiBpdHMgcGFyZW50IGZyYW1lIGluIHRoZSBtYWluIHdvcmxkXG5cdFx0ICogYW5kIGlzIHJlYWR5IHRvIGVzdGFibGlzaCBhIE1lc3NhZ2VDaGFubmVsLlxuXHRcdCAqL1xuXHRcdGVzdGFibGlzaENoYW5uZWwoXywgYV9wb3J0cykge1xuXHRcdFx0YXNzZXJ0X25vdF9hYm9ydGVkKCk7XG5cblx0XHRcdC8vIHJlcGxheWVkIG1lc3NhZ2Vcblx0XHRcdGlmKGJfYWNxdWFpbnRlZCkge1xuXHRcdFx0XHRyZXR1cm4gYWJvcnQoJ1JlbGF5IGZyYW1lIGF0dGVtcHRlZCB0byBlc3RhYmxpc2ggY29ubmVjdGlvbiBtb3JlIHRoYW4gb25jZScpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBkbyBub3QgYWxsb3cgcmVwbGF5c1xuXHRcdFx0Yl9hY3F1YWludGVkID0gdHJ1ZTtcblxuXHRcdFx0Ly8gcmVsYXkgd2luZG93IGlzIG5vdCBkZWZpbmVkXG5cdFx0XHRpZighZF93aW5kb3dfcmVsYXkpIHtcblx0XHRcdFx0cmV0dXJuIGFib3J0KCdSZWZlcmVuY2UgdG8gcmVsYXkgZnJhbWUgd2luZG93IG5vdCBkZWZpbmVkJyk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIGNoZWNrIHBvcnRzXG5cdFx0XHRpZighYV9wb3J0cyB8fCAxICE9PSBhX3BvcnRzLmxlbmd0aCkge1xuXHRcdFx0XHRyZXR1cm4gYWJvcnQoJ0V4cGVjdGVkIGV4YWN0bHkgb25lIE1lc3NhZ2VQb3J0IGJ1dCBub25lIHdlcmUgdHJhbnNmZXJlZCBmcm9tIHJlbGF5IGZyYW1lJyk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIGFjY2VwdCBtZXNzYWdlIHBvcnRcblx0XHRcdGRfcG9ydCA9IGFfcG9ydHNbMF07XG5cblx0XHRcdC8vIGJpbmQgbGlzdGVuZXJcblx0XHRcdGRfcG9ydC5vbm1lc3NhZ2UgPSBhdXRoZWRfbWVzc2FnZV9oYW5kbGVyO1xuXG5cdFx0XHQvLyBhY2tub3dsZWRnZSByZWxheSBjaGFubmVsXG5cdFx0XHRkX3BvcnQucG9zdE1lc3NhZ2Uoe1xuXHRcdFx0XHR0eXBlOiAnYWNrbm93bGVkZ2VDaGFubmVsJyxcblx0XHRcdH0pO1xuXG5cdFx0XHQvLyByZXF1ZXN0IHJhdGlmaWNhdGlvblxuXHRcdFx0KHdpbmRvdyBhcyBWb2NhYi5UeXBlZFdpbmRvdzxIb3N0VG9SYXRpZmllci5XaW5kb3dWb2NhYj4pLnBvc3RNZXNzYWdlKHtcblx0XHRcdFx0dHlwZTogJ3JhdGlmeUdsb2JhbCcsXG5cdFx0XHR9LCB3aW5kb3cub3JpZ2luKTtcblx0XHR9LFxuXHR9O1xuXG5cblx0Ly8gY3JlYXRlIGFuZCBpbmplY3QgcmVsYXkgZnJhbWVcblx0bGV0IGRfd2luZG93X3JlbGF5OiBWb2NhYi5UeXBlZFdpbmRvdzxWb2NhYiwgUmVsYXlUb0hvc3QuU3ViZnJhbWVWb2NhYj47XG5cdGxldCBkX2RvY3VtZW50X3JlbGF5OiBEb2N1bWVudDtcblx0e1xuXHRcdC8vIHByZXBhcmUgdGhlIHBheWxvYWQgdGhhdCB3aWxsIGdldCBwYXNzZWQgdG8gcmVsYXkgZnJhbWVcblx0XHRjb25zdCBnX3BheWxvYWQ6IEhvc3RUb1JlbGF5LlBheWxvYWQgPSB7XG5cdFx0XHRzZXNzaW9uOiBzaF9zZXNzaW9uLFxuXHRcdFx0Y3N1cmw6IGNocm9tZS5ydW50aW1lLmdldFVSTCgnYXNzZXRzL3NyYy9zY3JpcHQvbWNzLXJlbGF5LmpzJyksXG5cdFx0fTtcblxuXHRcdC8vIGNyZWF0ZSBhIHNjcmlwdCBlbGVtZW50IHRvIGNhcnJ5IHRoZSBzZXJpYWxpemVkIHBheWxvYWRcblx0XHRjb25zdCBkbV9wYXlsb2FkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG5cdFx0ZG1fcGF5bG9hZC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xuXHRcdGRtX3BheWxvYWQuc2V0QXR0cmlidXRlKCdpZCcsICdzdGFyc2hlbGwtbWNzLXJlbGF5LXBheWxvYWQnKTtcblxuXHRcdC8vIHNlcmlhbGl6ZSBhbmQgc3RvcmUgdGhlIHBheWxvYWQgdG8gdGhlIHNjcmlwdCBlbGVtZW50XG5cdFx0ZG1fcGF5bG9hZC50ZXh0Q29udGVudCA9IEpTT04uc3RyaW5naWZ5KGdfcGF5bG9hZCk7XG5cblx0XHQvLyBjcmVhdGUgYW5vdGhlciBzY3JpcHQgZWxlbWVudCB0byBsb2FkIHRoZSByZWxheSBhcHBsaWNhdGlvblxuXHRcdGNvbnN0IGRtX3NjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuXG5cdFx0Ly8gbG9jYXRlIHJlbGF5IHNjcmlwdFxuXHRcdGNvbnN0IHBfcmVsYXkgPSBsb2NhdGVfc2NyaXB0KCdhc3NldHMvc3JjL3NjcmlwdC9tY3MtcmVsYXknKTtcblxuXHRcdC8vIG5vdCBmb3VuZFxuXHRcdGlmKCFwX3JlbGF5KSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBsb2NhdGUgcmVsYXkgc2NyaXB0IScpO1xuXHRcdH1cblxuXHRcdC8vIHNldCB0aGUgc2NyaXB0IHNyY1xuXHRcdGRtX3NjcmlwdC5zcmMgPSBjaHJvbWUucnVudGltZS5nZXRVUkwocF9yZWxheSk7XG5cblx0XHQvLyBpbXBvcnQgYXMgbW9kdWxlXG5cdFx0ZG1fc2NyaXB0LnR5cGUgPSAnbW9kdWxlJztcblxuXHRcdC8vIGNyZWF0ZSBhIG5ldyBpZnJhbWVcblx0XHRjb25zdCBkbV9pZnJhbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpZnJhbWUnKTtcblxuXHRcdC8vIGNyZWF0ZSBjb250YWluZXIgZWxlbWVudCB0byBhdHRhY2ggYSBuZXcgc2hhZG93IGRvbSB0b1xuXHRcdGNvbnN0IGRtX2RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG5cdFx0Ly8gaW4gY2FzZSBpdCBnZXRzIGFwcGVuZGVkIHRvIGJvZHksIG1ha2Ugc3VyZSBpdCBkb2VzIG5vdCByZW5kZXIgdG8gc2NyZWVuXG5cdFx0ZG1fZGl2LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSAhaW1wb3J0YW50JztcblxuXHRcdC8vIGF0dGFjaCBuZXcgc2hhZG93IGRvbSB0byBlbGVtZW50IGluIGNsb3NlZCBtb2RlXG5cdFx0Y29uc3QgZG1fc2hhZG93ID0gZG1fZGl2LmF0dGFjaFNoYWRvdyh7bW9kZTonY2xvc2VkJ30pO1xuXG5cdFx0Ly8gYXBwZW5kIGlmcmFtZSB0byBzaGFkb3cgZG9tIHJvb3Rcblx0XHRkbV9zaGFkb3cuYXBwZW5kKGRtX2lmcmFtZSk7XG5cblx0XHQvLyBhcHBlbmQgY29udGFpbmVyIGVsZW1lbnQgdG8gdGhlIGxpdmUgZG9jdW1lbnQgdG8gaW5pdGlhbGl6ZSBpZnJhbWUncyBjb250ZW50IGRvY3VtZW50XG5cdFx0dHJ5IHtcblx0XHRcdGRvY3VtZW50LmhlYWQuYXBwZW5kKGRtX2Rpdik7XG5cdFx0fVxuXHRcdC8vIGJyb3dzZXIgZGlkbid0IGxpa2UgYWRkaW5nIGNvbnRlbnQgdG8gaGVhZDsgZmFsbGJhY2sgdG8gdXNpbmcgYm9keVxuXHRcdGNhdGNoKGVfYXBwZW5kKSB7XG5cdFx0XHRkb2N1bWVudC5ib2R5LmFwcGVuZChkbV9kaXYpO1xuXHRcdH1cblxuXHRcdC8vIHNhdmUgcmVsYXkgZnJhbWUncyBjb250ZW50IHdpbmRvdyAmIGRvY3VtZW50XG5cdFx0ZF93aW5kb3dfcmVsYXkgPSBkbV9pZnJhbWUuY29udGVudFdpbmRvdyE7XG5cdFx0ZF9kb2N1bWVudF9yZWxheSA9IGRtX2lmcmFtZS5jb250ZW50RG9jdW1lbnQhO1xuXG5cdFx0Ly8gYnVpbGQgcmVsYXkgZnJhbWUncyBkb2N1bWVudFxuXHRcdGRfZG9jdW1lbnRfcmVsYXkuYm9keS5hcHBlbmQoZG1fcGF5bG9hZCk7XG5cdFx0ZF9kb2N1bWVudF9yZWxheS5ib2R5LmFwcGVuZChkbV9zY3JpcHQpO1xuXG5cdFx0Ly8gdmVyYm9zZVxuXHRcdGRlYnVnKCdJbmplY3RlZCByZWxheSBpZnJhbWUnKTtcblx0fVxuXG5cblx0Ly8gbGlzdGVuIGZvciBtZXNzYWdlcyBmcm9tIHJlbGF5IGZyYW1lJ3MgbWFpbiB3b3JsZFxuXHRkX3dpbmRvd19yZWxheS5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgKGRfZXZlbnQpID0+IHtcblx0XHQvLyB2ZXJib3NlXG5cdFx0ZGVidWcoYE9ic2VydmVkIHJlbGF5IHdpbmRvdyBtZXNzYWdlICVvYCwgZF9ldmVudCk7XG5cblx0XHQvLyBldmVudCBvcmlnaW5hdGVzIGZyb20gdHJ1c3RlZCBhY3Rpb25cblx0XHRpZighZF9ldmVudC5pc1RydXN0ZWQpIHtcblx0XHRcdGNvbnNvbGUud2FybignSWdub3JlZCB1bnRydXN0ZWQgZXZlbnQgJW8nLCBkX2V2ZW50KTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBvbmx5IGFjY2VwdCBtZXNzYWdlcyBzZW50IHRvIGl0c2VsZlxuXHRcdGlmKGRfZXZlbnQuc291cmNlICE9PSBkX2V2ZW50LnRhcmdldCkge1xuXHRcdFx0Y29uc29sZS53YXJuKCdJZ25vcmVkIGNyb3NzLXdpbmRvdyBtZXNzYWdlICVvJywgZF9ldmVudCk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gcmVmIG1lc3NhZ2Ugc2VuZGVyXG5cdFx0Y29uc3QgZHdfc2VuZGVyID0gZF9ldmVudC50YXJnZXQgYXMgV2luZG93O1xuXG5cdFx0Ly8gdmFsaWRhdGUgbWVzc2FnZSBzZW5kZXJcblx0XHRpZih3aW5kb3cub3JpZ2luICE9PSBkX2V2ZW50Lm9yaWdpbiB8fCB3aW5kb3cgIT09IGR3X3NlbmRlci5wYXJlbnQgfHwgJ2Fib3V0OmJsYW5rJyAhPT0gZHdfc2VuZGVyLmxvY2F0aW9uLmhyZWYpIHtcblx0XHRcdGNvbnNvbGUud2FybignSWdub3JlZCBtZXNzYWdlIGZyb20gM3JkIHBhcnR5ICVvJywgZF9ldmVudCk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gdmFsaWRhdGUgbWVzc2FnZSBkYXRhXG5cdFx0Y29uc3QgZ19kYXRhID0gZF9ldmVudC5kYXRhO1xuXHRcdGlmKCdvYmplY3QnICE9PSB0eXBlb2YgZ19kYXRhIHx8ICdzdHJpbmcnICE9PSB0eXBlb2YgZ19kYXRhLnR5cGUpIHtcblx0XHRcdGRlYnVnKCdJZ25vcmVkIGludmFsaWQgbWVzc2FnZSBkYXRhICVvJywgZ19kYXRhKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBkZXN0cnVjdHVyZSBtZXNzYWdlIGRhdGFcblx0XHRjb25zdCB7XG5cdFx0XHR0eXBlOiBzaV90eXBlLFxuXHRcdFx0YXV0aDogc19hdXRoLFxuXHRcdH0gPSBnX2RhdGE7XG5cblx0XHQvLyByZWYgaGFuZGxlclxuXHRcdGNvbnN0IGZfaGFuZGxlciA9IGhfaGFuZGxlcnNfd2luZG93W3NpX3R5cGVdO1xuXHRcdGlmKCFmX2hhbmRsZXIpIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoYFJlY2VpdmVkIG1lc3NhZ2UgaGF2aW5nIGFuIHVucmVnaXN0ZXJlZCB0eXBlIFwiJHtzaV90eXBlfVwiYCk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gbWlzc2luZyBhdXRoXG5cdFx0aWYoJ3N0cmluZycgIT09IHR5cGVvZiBzX2F1dGgpIHtcblx0XHRcdGRlYnVnKCdJZ25vcmVkIG1lc3NhZ2UgbWlzc2luZyBhdXRoIGRhdGEgJW8nLCBnX2RhdGEpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIHByb2R1Y2UgY29ycmVjdCBzaWduYXR1cmVcblx0XHRjb25zdCBzX3NpZ19tc2cgPSBKU09OLnN0cmluZ2lmeShobWFjU0hBMjU2KEpTT04uc3RyaW5naWZ5KHsuLi5nX2RhdGEsIGF1dGg6dm9pZCAwfSksIHNoX3Nlc3Npb24pKTtcblxuXHRcdC8vIGF1dGhlbnRpY2F0ZVxuXHRcdGlmKHNfc2lnX21zZyAhPT0gZ19kYXRhLmF1dGgpIHtcblx0XHRcdHJldHVybiBhYm9ydCgnUmVsYXkgZnJhbWUgc2VudCBpbnZhbGlkIGF1dGggc2lnbmF0dXJlJyk7XG5cdFx0fVxuXG5cdFx0Ly8gaGFuZGxlciBpcyByZWdpc3RlcmVkOyBleGVjdXRlIGl0XG5cdFx0ZGVidWcoYFJlY2VpdmVkIG1lc3NhZ2UgaGF2aW5nIHJlZ2lzdGVyZWQgdHlwZSAlb2AsIGRfZXZlbnQuZGF0YSk7XG5cdFx0dm9pZCBmX2hhbmRsZXIobnVsbCwgZF9ldmVudC5wb3J0cyk7XG5cdH0pO1xufVxuIiwiaW1wb3J0IHR5cGUge1xuXHRIb3N0VG9SYXRpZmllcixcbn0gZnJvbSBcIi4vbWVzc2FnZXNcIjtcbmltcG9ydCB0eXBlIHsgVm9jYWIgfSBmcm9tIFwiIy9tZXRhL3ZvY2FiXCI7XG5cbi8qKlxuICogVGhlIHJhdGlmaWVyJ3Mgc29sZSBwdXJwb3NlIGlzIHRvIHZlcmlmeSB0aGF0IHRoZSBkZWNsYXJlZCBgd2luZG93LnN0YXJzaGVsbGAgZ2xvYmFsIGlzIGF1dGhlbnRpYyBhbmQgbm90IHNwb29mZWQuXG4gKiBUaGlzIGNvbnRlbnQgc2NyaXB0IGlzIGV4ZWN1dGVkIGEgcnVudGltZSBieSB0aGUgc2VydmljZSwgc28gdGhlIG1vZHVsZSBleHBvcnRzIGEgZnVuY3Rpb24gdGhhdCBhY2NlcHRzIGFuIGFyZ3VtZW50LlxuICogQHBhcmFtIC0gYSB7QGxpbmsgU2VydmljZVRvSWNzLlNlc3Npb25LZXlzfSBvYmplY3RcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oe1xuXHRzZXNzaW9uOiBzaF9zZXNzaW9uLFxufSkge1xuXHQvLyB2ZXJib3NlXG5cdGNvbnN0IGRlYnVnID0gKHM6IHN0cmluZywgLi4uYV9hcmdzOiBhbnlbXSkgPT4gY29uc29sZS5kZWJ1ZyhgU3RhclNoZWxsLm1jcy1yYXRpZmllcjogJHtzfWAsIC4uLmFfYXJncyk7XG5cdGRlYnVnKGBMYXVuY2hlZCBvbiA8JHtsb2NhdGlvbi5ocmVmfT5gKTtcblxuXHRjb25zdCBobWFjU0hBMjU2ID0gaW5saW5lX3JlcXVpcmUoJ2NyeXB0by1qcy9obWFjLXNoYTI1NicpO1xuXG5cdC8vIHN1YmNsYXNzIEVycm9yIHRvIGJlIGFibGUgdG8gcmVjb2duaXplIG9iamVjdCBvcmlnaW5cblx0Y2xhc3MgU2VjdXJpdHlFcnJvciBleHRlbmRzIEVycm9yIHt9XG5cblxuXHQvLyBmbGFnIGluIGNhc2Ugc2VjdXJpdHkgdmlvbGF0aW9uIG9jY3Vyc1xuXHRsZXQgYl9hYm9ydGVkID0gZmFsc2U7XG5cblx0LyoqXG5cdCAqIEFib3J0IHBhZ2UgY29ubmVjdGlvbiBhbmQgcmVwb3J0IGEgc2VjdXJpdHkgZXJyb3Jcblx0ICovXG5cdGZ1bmN0aW9uIGFib3J0KHNfcmVhc29uOiBzdHJpbmcpIHtcblx0XHQvLyBzZXQgYWJvcnQgZmxhZ1xuXHRcdGJfYWJvcnRlZCA9IHRydWU7XG5cblx0XHQvLyBub3RpZnkgZXh0ZW5zaW9uXG5cdFx0d2luZG93LnBvc3RNZXNzYWdlKHtcblx0XHRcdHR5cGU6ICdzMnI6YWJvcnQnLFxuXHRcdFx0dmFsdWU6IHtcblx0XHRcdFx0cmVhc29uOiAnJytzX3JlYXNvbixcblx0XHRcdFx0c2lnbmF0dXJlOiBobWFjU0hBMjU2KCcnK3NfcmVhc29uLCBzaF9zZXNzaW9uKSxcblx0XHRcdH0sXG5cdFx0fSk7XG5cblx0XHQvLyBqdW1wIG91dCBvZiBjYWxsIHN0YWNrXG5cdFx0dGhyb3cgbmV3IFNlY3VyaXR5RXJyb3IoYFN0YXJTaGVsbCB0aHJldyBhIHNlY3VyaXR5IGVycm9yOiBcIiR7c19yZWFzb259XCJgKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBTaWxlbnRseSBhYm9ydCB0aGUgY29ubmVjdGlvbiB3aXRob3V0IGNvbW11bmljYXRpbmcgdG8gdGhlIGV4dGVuc2lvbiBvciBhbnl0aGluZyBlbHNlLlxuXHQgKi9cblx0ZnVuY3Rpb24gc2lsZW50X2V4aXQoc19lcnJvcjogc3RyaW5nKTogdm9pZCB7XG5cdFx0Ly8gb25seSBsb2cgdG8gY29uc29sZSBzaW5jZSBhbnlvbmUgY291bGQgaGF2ZSB0cmlnZ2VyZWQgdGhpcyBtZXNzYWdlXG5cdFx0Y29uc29sZS5lcnJvcihzX2Vycm9yKTtcblxuXHRcdGJfYWJvcnRlZCA9IHRydWU7XG5cdH1cblxuXHQvLyBpbiBvcmRlciB0byBwcmV2ZW50IHdlYnNpdGUgZnJvbSBkZXRlY3RpbmcgZXh0ZW5zaW9uLCBncmFiIFwiY2xlYW5cIiByZWZlcmVuY2UgdG8gcmVxdWlzaXRlIG5hdGl2ZXNcblx0Ly8gaW4gdGhlb3J5LCBhIG1hbGljaW91cyBjby1pbnN0YWxsZWQgZXh0ZW5zaW9uIGNvdWxkIGF0dGFjayBnbG9iYWwgc2NvcGUgdG8gcnVpbiB0aGlzIHByaXZhY3kgZmVhdHVyZVxuXHRjb25zdCB7XG5cdFx0YWRkRXZlbnRMaXN0ZW5lcjogZl9hZGRfZXZlbnRfbGlzdGVuZXIsXG5cdFx0UmVmbGVjdDogZF9yZWZsZWN0LFxuXHRcdFJlZmxlY3Q6IHtcblx0XHRcdGdldE93blByb3BlcnR5RGVzY3JpcHRvcjogZl9nZXRfb3duX3Byb3BlcnR5X2Rlc2NyaXB0b3IsXG5cdFx0XHRnZXRQcm90b3R5cGVPZjogZl9nZXRfcHJvdG90eXBlX29mLFxuXHRcdH0sXG5cdH0gPSB3aW5kb3c7XG5cblx0LyoqXG5cdCAqIFVzZSBuYXRpdmUgUmVmbGVjdCBmdW5jdGlvbnMgdG8gbG9jYXRlIHByb3BlcnR5IGRlc2NyaXB0b3Jcblx0ICovXG5cdCBmdW5jdGlvbiBsb2NhdGVfZGVzY3JpcHRvcih3X3JlZjogdW5rbm93biwgc2lfcHJvcDogc3RyaW5nLCBhX2xpbmVhZ2U6dW5rbm93bltdPVtdKTogbnVsbCB8IFByb3BlcnR5RGVzY3JpcHRvciB7XG5cdFx0dHJ5IHtcblx0XHRcdC8vIGdldCBkZXNjcmlwdG9yXG5cdFx0XHRjb25zdCBnX2Rlc2NyaXB0b3IgPSBmX2dldF9vd25fcHJvcGVydHlfZGVzY3JpcHRvci5jYWxsKGRfcmVmbGVjdCwgd19yZWYsIHNpX3Byb3ApO1xuXG5cdFx0XHQvLyBub3QgZGVmaW5lZFxuXHRcdFx0aWYoIWdfZGVzY3JpcHRvcikge1xuXHRcdFx0XHQvLyBhZGQgdGhpcyB0byBpZ25vcmUgc2V0XG5cdFx0XHRcdGFfbGluZWFnZS5wdXNoKHdfcmVmKVxuXG5cdFx0XHRcdC8vIGdldCBwYXJlbnRcblx0XHRcdFx0Y29uc3Qgd19wYXJlbnQgPSBmX2dldF9wcm90b3R5cGVfb2YuY2FsbChkX3JlZmxlY3QsIHdfcmVmKTtcblxuXHRcdFx0XHQvLyBlbmQgb2YgY2hhaW5cblx0XHRcdFx0aWYoIXdfcGFyZW50KSByZXR1cm4gbnVsbDtcblxuXHRcdFx0XHQvLyBibG9jayBwcm90b3R5cGUgY2hhaW4gY3ljbGVzXG5cdFx0XHRcdGlmKGFfbGluZWFnZS5pbmNsdWRlcyh3X3BhcmVudCkpIHJldHVybiBudWxsO1xuXG5cdFx0XHRcdC8vIHRyeSBwYXJlbnRcblx0XHRcdFx0cmV0dXJuIGxvY2F0ZV9kZXNjcmlwdG9yKHdfcGFyZW50LCBzaV9wcm9wLCBhX2xpbmVhZ2UpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyByZXR1cm4gZGVzY3JpcHRvclxuXHRcdFx0cmV0dXJuIGdfZGVzY3JpcHRvcjtcblx0XHR9XG5cdFx0Y2F0Y2goZV9nZXQpIHtcblx0XHRcdHJldHVybiBudWxsO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBVc2UgbmF0aXZlIFJlZmxlY3QgZnVuY3Rpb25zIHRvIGluc3BlY3QgcHJvcGVydHkgd2l0aG91dCB0cmlwcGluZyBwcm94aWVzL2FjY2Vzc29yc1xuXHQgKi9cblx0IGZ1bmN0aW9uIGFjY2Vzc19zaWxlbnRseSh3X3JlZjogYW55LCBzaV9wcm9wOiBzdHJpbmcsIGJfYWNjZXNzb3JzPWZhbHNlKTogdW5rbm93biB7XG5cdFx0dHJ5IHtcblx0XHRcdC8vIHRyeSBsb2NhdGUgZGVzY3JpcHRvclxuXHRcdFx0Y29uc3QgZ19kZXNjcmlwdG9yID0gbG9jYXRlX2Rlc2NyaXB0b3Iod19yZWYsIHNpX3Byb3ApO1xuXG5cdFx0XHQvLyBubyBwcm9wZXJ0eVxuXHRcdFx0aWYoIWdfZGVzY3JpcHRvcikgcmV0dXJuIG51bGw7XG5cblx0XHRcdC8vIHZhbHVlIGlzIG5vdCBzZXRcblx0XHRcdGlmKCEoJ3ZhbHVlJyBpbiBnX2Rlc2NyaXB0b3IpKSB7XG5cdFx0XHRcdC8vIGZhbGxiYWNrIHRvIHVzaW5nIGFjY2Vzc29ycyAobm90IGlkZWFsLCBidXQgbmVjZXNzYXJ5KVxuXHRcdFx0XHRpZihiX2FjY2Vzc29ycykgcmV0dXJuIHdfcmVmW3NpX3Byb3BdO1xuXG5cdFx0XHRcdC8vIGRvIG5vdCB0b3VjaCBhY2Nlc3NvcnNcblx0XHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0XHR9XG5cblx0XHRcdC8vIG9rYXksIHJldHVybiB2YWx1ZVxuXHRcdFx0cmV0dXJuIGdfZGVzY3JpcHRvci52YWx1ZTtcblx0XHR9XG5cdFx0Y2F0Y2goZV9nZXQpIHtcblx0XHRcdHJldHVybiBudWxsO1xuXHRcdH1cblx0fVxuXG5cdC8vIHByZXAgaGFuZGxlciBtYXBcblx0Y29uc3QgaF9oYW5kbGVyc193aW5kb3c6IFZvY2FiLkhhbmRsZXJzPEhvc3RUb1JhdGlmaWVyLldpbmRvd1ZvY2FiPiA9IHtcblx0XHQvLyByZXF1ZXN0IHRvIHJhdGlmeSBnbG9iYWwgZnJvbSBpbnBhZ2UgY29udGVudCBzY3JpcHRcblx0XHRyYXRpZnlHbG9iYWwoKSB7XG5cdFx0XHQvLyBkaWRuJ3QgcmVjZWl2ZSBzaWduaW5nIGtleVxuXHRcdFx0aWYoIXNoX3Nlc3Npb24pIHtcblx0XHRcdFx0cmV0dXJuIHNpbGVudF9leGl0KCdTdGFyU2hlbGwgaXMgcmVmdXNpbmcgdG8gcmF0aWZ5IGdsb2JhbCBzaW5jZSBpdCBuZXZlciByZWNlaXZlZCBhIHNpZ25pbmcga2V5IGZyb20gdGhlIGV4dGVuc2lvbi4nKTtcblx0XHRcdH1cblx0XHRcdC8vIG5vdCBkZWZpbmVkXG5cdFx0XHRlbHNlIGlmKCFsb2NhdGVfZGVzY3JpcHRvcih3aW5kb3csICdzdGFyc2hlbGwnKSkge1xuXHRcdFx0XHRyZXR1cm4gc2lsZW50X2V4aXQoJ1N0YXJTaGVsbCBmYWlsZWQgdG8gcmF0aWZ5IGdsb2JhbCBzaW5jZSBpdCBpcyBub3QgZGVmaW5lZC4nKTtcblx0XHRcdH1cblx0XHRcblx0XHRcdC8vIGNhcHR1cmUgcmVmZXJlbmNlXG5cdFx0XHRjb25zdCBrX3N0YXJzaGVsbCA9IHdpbmRvdy5zdGFyc2hlbGw7XG5cblx0XHRcdC8vIGludm9rZSBzeW5jaHJvbm91cyB2ZXJpZmljYXRpb24gY2FsbFxuXHRcdFx0bGV0IGZfcmF0aWZ5ID0ga19zdGFyc2hlbGwudmVyaWZ5KChzX3NpZ19hdXRoOiBzdHJpbmcpID0+IHtcblx0XHRcdFx0Ly8gYWxyZWFkeSBhYm9ydGVkXG5cdFx0XHRcdGlmKGJfYWJvcnRlZCkgcmV0dXJuO1xuXG5cdFx0XHRcdC8vIGludmFsaWQgYXV0aCBzaWduYXR1cmU7IGRvIG5vdCBzaWduIGFyYml0cmFyeSBkYXRhXG5cdFx0XHRcdGlmKHNfc2lnX2F1dGggIT09IEpTT04uc3RyaW5naWZ5KGhtYWNTSEEyNTYoJ3N0YXJzaGVsbCcsIHNoX3Nlc3Npb24pKSkge1xuXHRcdFx0XHRcdHJldHVybiBhYm9ydCgnSW52YWxpZCBhdXRoIHNpZ25hdHVyZSBwYXNzZWQgdG8gcmF0aWZpZXInKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIHByb2R1Y2UgdmVyaWZpYWJsZSBzdGFja1xuXHRcdFx0XHRjb25zdCBnX3Byb29mID0ga19zdGFyc2hlbGwudmVyaWZpYWJsZVN0YWNrKCk7XG5cblx0XHRcdFx0Ly8gc2lnbiB0aGUgcHJvb2Zcblx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRwcm9vZjogZ19wcm9vZixcblx0XHRcdFx0XHRzaWduYXR1cmU6IEpTT04uc3RyaW5naWZ5KGhtYWNTSEEyNTYoSlNPTi5zdHJpbmdpZnkoZ19wcm9vZiksIHNoX3Nlc3Npb24pKSxcblx0XHRcdFx0fTtcblx0XHRcdH0pO1xuXG5cdFx0XHQvLyBjb25maXJtIGdsb2JhbCBieSByZWZlcmVuY2Vcblx0XHRcdGZfcmF0aWZ5KGtfc3RhcnNoZWxsKTtcblx0XHR9LFxuXHR9O1xuXG5cdC8vIHN0YXJ0IGxpc3RlbmluZyBmb3IgbWVzc2FnZXNcblx0KHdpbmRvdyBhcyBWb2NhYi5UeXBlZFdpbmRvdzxIb3N0VG9SYXRpZmllci5XaW5kb3dWb2NhYj4pLmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCAoZF9ldmVudCkgPT4ge1xuXHRcdC8vIHZlcmJvc2Vcblx0XHRkZWJ1ZygnT2JzZXJ2ZWQgd2luZG93IG1lc3NhZ2UgJW8nLCBkX2V2ZW50KTtcblxuXHRcdC8vIGFscmVhZHkgYWJvcnRlZDsgc2lsZW50bHkgZXhpdFxuXHRcdGlmKGJfYWJvcnRlZCkgcmV0dXJuO1xuXG5cdFx0Ly8gb3JpZ2luYXRlcyBmcm9tIHNhbWUgZnJhbWVcblx0XHRpZih3aW5kb3cgPT09IGFjY2Vzc19zaWxlbnRseShkX2V2ZW50LCAnc291cmNlJywgdHJ1ZSkpIHtcblx0XHRcdC8vIGFjY2VzcyBldmVudCBkYXRhXG5cdFx0XHRjb25zdCB6X2RhdGEgPSBhY2Nlc3Nfc2lsZW50bHkoZF9ldmVudCwgJ2RhdGEnLCB0cnVlKTtcblxuXHRcdFx0Ly8gZGF0YSBpdGVtIGNvbmZvcm1zXG5cdFx0XHRsZXQgc2lfdHlwZTtcblx0XHRcdGlmKHpfZGF0YSAmJiAnb2JqZWN0JyA9PT0gdHlwZW9mIHpfZGF0YSAmJiAnc3RyaW5nJyA9PT0gdHlwZW9mIChzaV90eXBlPWFjY2Vzc19zaWxlbnRseSh6X2RhdGEsICd0eXBlJykpKSB7XG5cdFx0XHRcdC8vIHJlZiBoYW5kbGVyXG5cdFx0XHRcdGNvbnN0IGZfaGFuZGxlciA9IGhfaGFuZGxlcnNfd2luZG93W3NpX3R5cGVdO1xuXG5cdFx0XHRcdC8vIGlnbm9yZSB1bnJlZ2lzdGVyZWQgbWVzc2FnZVxuXHRcdFx0XHRpZighZl9oYW5kbGVyKSByZXR1cm47XG5cblx0XHRcdFx0Ly8gaGFuZGxlciBpcyByZWdpc3RlcmVkOyBleGVjdXRlIGl0XG5cdFx0XHRcdGRlYnVnKGBSZWNlaXZlZCByZWxheSBwb3J0IG1lc3NhZ2UgaGF2aW5nIHJlZ2lzdGVyZWQgdHlwZSAlb2AsIGRfZXZlbnQuZGF0YSk7XG5cdFx0XHRcdGZfaGFuZGxlcih6X2RhdGEpO1xuXHRcdFx0fVxuXHRcdH1cblx0fSk7XG59O1xuIiwiXG4vKipcbiAqIExvY2F0ZSBhIHNjcmlwdCBhc3NldCBpbiB0aGUgZXh0ZW5zaW9uIGJ1bmRsZSBieSBpdHMgcGF0aCBwcmVmaXguXG4gKiBAcGFyYW0gc19wYXR0ZXJuIHRoZSBwYXRoIHByZWZpeFxuICogQHJldHVybnMgZnVsbHkgcXVhbGlmaWVkIFVSTCB0byB0aGUgYXNzZXQsIG9yIGBudWxsYCBpZiBub3QgZm91bmRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxvY2F0ZV9zY3JpcHQoc19wYXR0ZXJuOiBzdHJpbmcpOiBudWxsIHwgc3RyaW5nIHtcblx0Y29uc3QgZ19tYW5pZmVzdCA9IGNocm9tZS5ydW50aW1lLmdldE1hbmlmZXN0KCk7XG5cblx0Ly8gZWFjaCBjb250ZW50IHNjcmlwdCBlbnRyeVxuXHRmb3IoY29uc3QgZ19zY3JpcHQgb2YgZ19tYW5pZmVzdC5jb250ZW50X3NjcmlwdHMgfHwgW10pIHtcblx0XHRmb3IoY29uc3Qgc3Jfc2NyaXB0IG9mIGdfc2NyaXB0LmpzID8/IFtdKSB7XG5cdFx0XHRpZihzcl9zY3JpcHQuc3RhcnRzV2l0aChzX3BhdHRlcm4pKSB7XG5cdFx0XHRcdHJldHVybiBzcl9zY3JpcHQ7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Ly8gZWFjaCB3ZWIgYWNjZXNzaWJsZSByZXNvdXJjZVxuXHRmb3IoY29uc3Qgel9yZXNvdXJjZSBvZiBnX21hbmlmZXN0LndlYl9hY2Nlc3NpYmxlX3Jlc291cmNlcyB8fCBbXSkge1xuXHRcdC8vIGluIG1hbmlmZXN0IHYyXG5cdFx0aWYoJ3N0cmluZycgPT09IHR5cGVvZiB6X3Jlc291cmNlKSB7XG5cdFx0XHRpZih6X3Jlc291cmNlLnN0YXJ0c1dpdGgoc19wYXR0ZXJuKSkge1xuXHRcdFx0XHRyZXR1cm4gel9yZXNvdXJjZTtcblx0XHRcdH1cblx0XHR9XG5cdFx0Ly8gaW4gbWFuaWZlc3QgdjNcblx0XHRlbHNlIHtcblx0XHRcdGZvcihjb25zdCBzcl9zY3JpcHQgb2Ygel9yZXNvdXJjZS5yZXNvdXJjZXMpIHtcblx0XHRcdFx0aWYoc3Jfc2NyaXB0LnN0YXJ0c1dpdGgoc19wYXR0ZXJuKSkge1xuXHRcdFx0XHRcdHJldHVybiBzcl9zY3JpcHQ7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gbnVsbDtcbn1cbiIsImltcG9ydCB0eXBlIGJyb3dzZXIgZnJvbSAnd2ViZXh0ZW5zaW9uLXBvbHlmaWxsJztcbmltcG9ydCB0eXBlIHsgRGljdCwgSnNvbk9iamVjdCB9IGZyb20gJyMvdXRpbC9iZWx0JztcblxuaW1wb3J0IHtcblx0bG9jYXRlX3NjcmlwdCxcbn0gZnJvbSAnLi91dGlscyc7XG5cbmludGVyZmFjZSBTY3JpcHREZWZpbmVyIHtcblx0KGhfb3ZlcnJpZGVzPzogUGFydGlhbDxicm93c2VyLlNjcmlwdGluZy5SZWdpc3RlcmVkQ29udGVudFNjcmlwdD4pOiBicm93c2VyLlNjcmlwdGluZy5SZWdpc3RlcmVkQ29udGVudFNjcmlwdDtcbn1cblxuY29uc3QgQV9NQVRDSF9BTEwgPSBbXG5cdCdmaWxlOi8vKi8qJyxcblx0J2h0dHA6Ly8qLyonLFxuXHQnaHR0cHM6Ly8qLyonLFxuXTtcblxuY29uc3QgR19TQ1JJUFRfQkFTSUMgPSB7XG5cdG1hdGNoZXM6IEFfTUFUQ0hfQUxMLFxuXHRydW5BdDogJ2RvY3VtZW50X3N0YXJ0Jyxcblx0cGVyc2lzdEFjcm9zc1Nlc3Npb25zOiB0cnVlLFxuXHRhbGxGcmFtZXM6IHRydWUsXG5cdHdvcmxkOiAnTUFJTicsXG59IGFzIGNvbnN0O1xuXG5cbmV4cG9ydCBjb25zdCBIX0NPTlRFTlRfU0NSSVBUX0RFRlM6IERpY3Q8U2NyaXB0RGVmaW5lcj4gPSB7XG5cdC8vIGlucGFnZV93YWtlcihoX292ZXJyaWRlcykge1xuXHQvLyBcdHJldHVybiB7XG5cdC8vIFx0XHQuLi5HX1NDUklQVF9CQVNJQyxcblx0Ly8gXHRcdGlkOiAnaW5wYWdlX3dha2VyJyxcblx0Ly8gXHRcdGpzOiBbXG5cdC8vIFx0XHRcdGxvY2F0ZV9zY3JpcHQoJ2Fzc2V0cy9zcmMvc2NyaXB0L2lucGFnZS13YWtlcicpLFxuXHQvLyBcdFx0XSxcblx0Ly8gXHRcdC4uLmhfb3ZlcnJpZGVzLFxuXHQvLyBcdH07XG5cdC8vIH0sXG5cblx0Ly8gaW5wYWdlX2lmcmFtZShoX292ZXJyaWRlcykge1xuXHQvLyBcdHJldHVybiB7XG5cdC8vIFx0XHQuLi5HX1NDUklQVF9CQVNJQyxcblx0Ly8gXHRcdGlkOiAnaW5wYWdlX2lmcmFtZScsXG5cdC8vIFx0XHRqczogW1xuXHQvLyBcdFx0XHRsb2NhdGVfc2NyaXB0KCdhc3NldHMvc3JjL3NjcmlwdC9pbnBhZ2UtaWZyYW1lJyksXG5cdC8vIFx0XHRdLFxuXHQvLyBcdFx0Li4uaF9vdmVycmlkZXMsXG5cdC8vIFx0fTtcblx0Ly8gfSxcblxuXHRtY3Nfa2VwbHIoaF9vdmVycmlkZXMpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0Li4uR19TQ1JJUFRfQkFTSUMsXG5cdFx0XHRpZDogJ2tlcGxyX3BvbHlmaWxsJyxcblx0XHRcdGpzOiBbXG5cdFx0XHRcdGxvY2F0ZV9zY3JpcHQoJ2Fzc2V0cy9zcmMvc2NyaXB0L21jcy1rZXBscicpLFxuXHRcdFx0XSxcblx0XHRcdHBlcnNpc3RBY3Jvc3NTZXNzaW9uczogdHJ1ZSxcblx0XHRcdC4uLmhfb3ZlcnJpZGVzLFxuXHRcdH07XG5cdH0sXG59O1xuIiwiaW1wb3J0IHR5cGUgeyBBcHAgfSBmcm9tICcjL21ldGEvYXBwJztcblxuaW1wb3J0IHtcblx0Y3JlYXRlX3N0b3JlX2NsYXNzLFxuXHRXcml0YWJsZVN0b3JlLFxufSBmcm9tICcuL19iYXNlJztcblxuaW1wb3J0IHsgU0lfU1RPUkVfQVBQX1BPTElDSUVTIH0gZnJvbSAnIy9zaGFyZS9jb25zdGFudHMnO1xuXG5cbmV4cG9ydCB0eXBlIEFwcFBvbGljeSA9IHtcblx0YWN0aW9uOiAnYmxvY2snIHwgJ3RydXN0Jztcblx0bWF0Y2hlczogc3RyaW5nO1xuXHRleGNlcHQ6IHN0cmluZztcbn1cblxuZXhwb3J0IHR5cGUgQXBwUG9saWN5UmVzdWx0ID0ge1xuXHRibG9ja2VkOiB0cnVlO1xufSB8IHtcblx0YmxvY2tlZDogZmFsc2U7XG5cblx0Ly8gaW5kaWNhdGVzIHRoYXQgdGhlIHVzZXIgZG9lcyBub3QgbmVlZCBcblx0dHJ1c3RlZDogYm9vbGVhbjtcbn07XG5cbmNvbnN0IEdfQVBQX1BPTElDWV9SRVNVTFRfQkxPQ0tFRDogQXBwUG9saWN5UmVzdWx0ID0ge1xuXHRibG9ja2VkOiB0cnVlLFxufTtcblxuXG5mdW5jdGlvbiBwb2xpY3lfYXBwbGllcyhnX3BvbGljeTogQXBwUG9saWN5LCBnX2FwcDogQXBwWydpbnRlcmZhY2UnXSk6IGJvb2xlYW4ge1xuXHQvLyBjb21waWxlIG1hdGNoIHBhdHRlcm5cblx0bGV0IHJfbWF0Y2hlczogUmVnRXhwO1xuXHR0cnkge1xuXHRcdHJfbWF0Y2hlcyA9IG5ldyBSZWdFeHAoZ19wb2xpY3kubWF0Y2hlcyk7XG5cdH1cblx0Ly8gZmFpbGVkIHRvIHBhcnNlIHBvbGljeVxuXHRjYXRjaChlX3BhcnNlKSB7XG5cdFx0Y29uc29sZS5lcnJvcihgRmFpbGVkIHRvIHBhcnNlIHBvbGljeSBtYXRjaCBwYXR0ZXJuIFwiJHtnX3BvbGljeS5tYXRjaGVzfVwiYCk7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0Ly8gcG9saWN5IGFwcGxpZXNcblx0aWYocl9tYXRjaGVzLnRlc3QoZ19hcHAuaG9zdCkpIHtcblx0XHQvLyBwb2xpY3kgaGFzIGFuIGV4Y2VwdCBwYXR0ZXJuXG5cdFx0aWYoZ19wb2xpY3kuZXhjZXB0KSB7XG5cdFx0XHQvLyBjb21waWxlIGV4Y2VwdCBwYXR0ZXJuXG5cdFx0XHRsZXQgcl9leGNlcHQ6IFJlZ0V4cDtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdHJfZXhjZXB0ID0gbmV3IFJlZ0V4cChnX3BvbGljeS5leGNlcHQpO1xuXHRcdFx0fVxuXHRcdFx0Ly8gZmFpbGVkIHRvIHBhcnNlIHBvbGljeVxuXHRcdFx0Y2F0Y2goZV9wYXJzZSkge1xuXHRcdFx0XHRjb25zb2xlLmVycm9yKGBGYWlsZWQgdG8gcGFyc2UgcG9saWN5IG1hdGNoIHBhdHRlcm4gXCIke2dfcG9saWN5LmV4Y2VwdH1cImApO1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdC8vIGV4Y2VwdCBwYXR0ZXJuIG1hdGNoZXM7IHNraXAgcG9saWN5XG5cdFx0XHRpZihyX2V4Y2VwdC50ZXN0KGdfYXBwLmhvc3QpKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvLyBwb2xpY3kgYXBwbGllc1xuXHRyZXR1cm4gdHJ1ZTtcbn1cblxuXG5leHBvcnQgY29uc3QgUG9saWNpZXMgPSBjcmVhdGVfc3RvcmVfY2xhc3Moe1xuXHRzdG9yZTogU0lfU1RPUkVfQVBQX1BPTElDSUVTLFxuXHRjbGFzczogY2xhc3MgUG9saWNpZXNJIGV4dGVuZHMgV3JpdGFibGVTdG9yZTx0eXBlb2YgU0lfU1RPUkVfQVBQX1BPTElDSUVTLCBBcHBQb2xpY3k+IHtcblx0XHRzdGF0aWMgZm9yQXBwKGdfYXBwOiBBcHBbJ2ludGVyZmFjZSddKTogUHJvbWlzZTxBcHBQb2xpY3lSZXN1bHQ+IHtcblx0XHRcdHJldHVybiBQb2xpY2llcy5vcGVuKGtzX3BvbGljaWVzID0+IGtzX3BvbGljaWVzLmZvckFwcChnX2FwcCkpO1xuXHRcdH1cblxuXHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvcmVxdWlyZS1hd2FpdFxuXHRcdGZvckFwcChnX2FwcDogQXBwWydpbnRlcmZhY2UnXSk6IEFwcFBvbGljeVJlc3VsdCB7XG5cdFx0XHQvLyBwcmVwIHRydXN0ZWQgZmxhZ1xuXHRcdFx0bGV0IGJfdHJ1c3RlZCA9IGZhbHNlO1xuXG5cdFx0XHQvLyBzdGVwIHRocnUgZWFjaCBocSBwb2xpY3lcblx0XHRcdGZvcihjb25zdCBnX3BvbGljeSBvZiB0aGlzLl93X2NhY2hlWydocSddKSB7XG5cdFx0XHRcdC8vIHBvbGljeSBhcHBsaWVzXG5cdFx0XHRcdGlmKHBvbGljeV9hcHBsaWVzKGdfcG9saWN5LCBnX2FwcCkpIHtcblx0XHRcdFx0XHQvLyBibG9ja2VkXG5cdFx0XHRcdFx0aWYoJ2Jsb2NrJyA9PT0gZ19wb2xpY3kuYWN0aW9uKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gR19BUFBfUE9MSUNZX1JFU1VMVF9CTE9DS0VEO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHQvLyB1bmtub3duXG5cdFx0XHRcdFx0ZWxzZSB7XG5cdFx0XHRcdFx0XHRjb25zb2xlLmVycm9yKGBVbmtub3duIGhxIHBvbGljeSBhY3Rpb24gXCIke2dfcG9saWN5LmFjdGlvbn1cImApO1xuXHRcdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIHN0ZXAgdGhydSBlYWNoIHVzZXIgcG9saWN5XG5cdFx0XHRmb3IoY29uc3QgZ19wb2xpY3kgb2YgdGhpcy5fd19jYWNoZVsndXNlciddKSB7XG5cdFx0XHRcdC8vIHBvbGljeSBhcHBsaWVzXG5cdFx0XHRcdGlmKHBvbGljeV9hcHBsaWVzKGdfcG9saWN5LCBnX2FwcCkpIHtcblx0XHRcdFx0XHQvLyBibG9ja2VkXG5cdFx0XHRcdFx0aWYoJ2Jsb2NrJyA9PT0gZ19wb2xpY3kuYWN0aW9uKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gR19BUFBfUE9MSUNZX1JFU1VMVF9CTE9DS0VEO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHQvLyB0cnVzdGVkIG9ubHkgYWxsb3dlZCBmcm9tIHVzZXJcblx0XHRcdFx0XHRlbHNlIGlmKCd0cnVzdCcgPT09IGdfcG9saWN5LmFjdGlvbikge1xuXHRcdFx0XHRcdFx0Yl90cnVzdGVkID0gdHJ1ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Ly8gdW5rbm93blxuXHRcdFx0XHRcdGVsc2Uge1xuXHRcdFx0XHRcdFx0Y29uc29sZS5lcnJvcihgVW5rbm93biBwb2xpY3kgYWN0aW9uIFwiJHtnX3BvbGljeS5hY3Rpb259XCJgKTtcblx0XHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBhbGxvd2VkXG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRibG9ja2VkOiBmYWxzZSxcblx0XHRcdFx0dHJ1c3RlZDogYl90cnVzdGVkLFxuXHRcdFx0fTtcblx0XHR9XG5cdH0sXG59KTtcbiIsImV4cG9ydCBjb25zdCBOQl9NQVhfTUVTU0FHRSA9IDIgKiAxMDI0ICogMTAyNDsgIC8vIDIgTWlCIG1heGltdW1cblxuZXhwb3J0IGNvbnN0IE5fUFhfV0lEVEhfUE9QVVAgPSAzNjA7XG5leHBvcnQgY29uc3QgTl9QWF9IRUlHSFRfUE9QVVAgPSA2MDA7XG5cbmV4cG9ydCBjb25zdCBBX0NIQUlOX0ZBTUlMSUVTID0gW1xuXHQnY29zbW9zJyxcbl07XG5cbmV4cG9ydCBjb25zdCBBX0NIQUlOX0NBVEVHT1JJRVMgPSBbXG5cdCdtYWlubmV0Jyxcblx0J3Rlc3RuZXQnLFxuXTtcblxuLy8gY2hhaW4gaWQgcGF0dGVyblxuZXhwb3J0IGNvbnN0IFJfQ0hBSU5fSUQgPSAvXlthLXowLTldW2EtejAtOS1dezIsNjR9JC87XG5cbi8vIGNoYWluIG5hbWUgcGF0dGVyblxuZXhwb3J0IGNvbnN0IFJfQ0hBSU5fTkFNRSA9IC9eW1xccHtMfVxccHtTfV0oXFxwe1pzfT9bXFxwe0x9XFxwe059XFxwe1N9Ll86Ly1dKSskL3U7XG4iLCJpbXBvcnQge1xuXHROX1BYX1dJRFRIX1BPUFVQLFxuXHROX1BYX0hFSUdIVF9QT1BVUCxcbn0gZnJvbSAnLi9jb25zdGFudHMnO1xuaW1wb3J0IHR5cGUgeyBJbnRyYUV4dCB9IGZyb20gJy4vbWVzc2FnZXMnO1xuaW1wb3J0IHR5cGUgeyBWb2NhYiB9IGZyb20gJyMvbWV0YS92b2NhYic7XG5pbXBvcnQgdHlwZSB7IERpY3QsIEpzb25PYmplY3QgfSBmcm9tICcjL3V0aWwvYmVsdCc7XG5pbXBvcnQgeyBzZXNzaW9uX3N0b3JhZ2VfZ2V0LCBzZXNzaW9uX3N0b3JhZ2VfcmVtb3ZlIH0gZnJvbSAnIy9jcnlwdG8vdmF1bHQnO1xuaW1wb3J0IHsgWFRfU0VDT05EUyB9IGZyb20gJyMvc2hhcmUvY29uc3RhbnRzJztcbmltcG9ydCB7IG9uY2Vfc3RvcmFnZV9jaGFuZ2VzIH0gZnJvbSAnLi9zZXJ2aWNlJztcblxuXG50eXBlIEZsb3cgPSBWb2NhYi5NZXNzYWdlPEludHJhRXh0LkZsb3dWb2NhYj47XG5cbmV4cG9ydCBpbnRlcmZhY2UgUHJvbXB0Q29uZmlnIGV4dGVuZHMgSnNvbk9iamVjdCB7XG5cdGZsb3c6IEZsb3c7XG59XG5cbnR5cGUgRmxvd0hhbmRsZSA9IHtcblx0d2luZG93OiBjaHJvbWUud2luZG93cy5XaW5kb3c7XG5cdHRhYjogY2hyb21lLnRhYnMuVGFiO1xufTtcblxuaW50ZXJmYWNlIFNjcmVlbkluZm8ge1xuXHR3aWR0aDogbnVtYmVyO1xuXHRoZWlnaHQ6IG51bWJlcjtcblx0YXZhaWxXaWR0aDogbnVtYmVyO1xuXHRhdmFpbEhlaWdodDogbnVtYmVyO1xuXHRvcmllbnRhdGlvbjogSnNvbk9iamVjdDtcblx0ZGV2aWNlUGl4ZWxSYXRpbzogbnVtYmVyLFxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZmxvd19nZW5lcmljKGhfcGFyYW1zOiBEaWN0KTogUHJvbWlzZTxGbG93SGFuZGxlPiB7XG5cdC8vIGdldCBmbG93IFVSTFxuXHRjb25zdCBwX2Zsb3cgPSBjaHJvbWUucnVudGltZS5nZXRVUkwoJ3NyYy9lbnRyeS9mbG93Lmh0bWwnKTtcblxuXHQvLyBpbmRpY2F0ZSB2aWEgcXVlcnkgcGFyYW1zIG1ldGhvZCBvZiBjb21tdW5pY2F0aW9uXG5cdGNvbnN0IHBfY29ubmVjdCA9IHBfZmxvdysnPycrbmV3IFVSTFNlYXJjaFBhcmFtcyhoX3BhcmFtcykudG9TdHJpbmcoKTtcblxuXHQvLyBmZXRjaCBkaXNwbGF5cyBhbmQgc2NyZWVuIGluZm9cblx0Y29uc3QgW1xuXHRcdGFfZGlzcGxheXMsXG5cdFx0Z19zY3JlZW5faW5mbyxcblx0XSA9IGF3YWl0IFByb21pc2UuYWxsKFtcblx0XHRjaHJvbWUuc3lzdGVtLmRpc3BsYXkuZ2V0SW5mbygpLFxuXG5cdFx0KGFzeW5jKCk6IFByb21pc2U8U2NyZWVuSW5mbyB8IHVuZGVmaW5lZD4gPT4ge1xuXHRcdFx0Ly8gY3JlYXRlIHBvcHVwIHRvIGRldGVybWluZSBzY3JlZW4gZGltZW5zaW9uc1xuXHRcdFx0Y29uc3QgZ19pbmZvID0gKGF3YWl0IGNocm9tZS5zdG9yYWdlLnNlc3Npb24uZ2V0KFsnZGlzcGxheV9pbmZvJ10pKT8uZGlzcGxheV9pbmZvO1xuXHRcdFx0aWYoZ19pbmZvKSByZXR1cm4gZ19pbmZvO1xuXG5cdFx0XHR2b2lkIGNocm9tZS53aW5kb3dzLmNyZWF0ZSh7XG5cdFx0XHRcdHR5cGU6ICdwb3B1cCcsXG5cdFx0XHRcdHVybDogcF9mbG93Kyc/JytuZXcgVVJMU2VhcmNoUGFyYW1zKHtoZWFkbGVzczonaW5mbyd9KS50b1N0cmluZygpLFxuXHRcdFx0XHRmb2N1c2VkOiB0cnVlLFxuXHRcdFx0XHR3aWR0aDogTl9QWF9XSURUSF9QT1BVUCxcblx0XHRcdFx0aGVpZ2h0OiBOX1BYX0hFSUdIVF9QT1BVUCxcblx0XHRcdH0pO1xuXG5cdFx0XHR0cnkge1xuXHRcdFx0XHRyZXR1cm4gKGF3YWl0IG9uY2Vfc3RvcmFnZV9jaGFuZ2VzKCdzZXNzaW9uJywgJ2Rpc3BsYXlfaW5mbycsIDUqWFRfU0VDT05EUykpPy5uZXdWYWx1ZTtcblx0XHRcdH1cblx0XHRcdGNhdGNoKGVfdGltZW91dCkge31cblx0XHR9KSgpLFxuXHRdKTtcblxuXHQvLyBjcmVhdGUgZGlzcGxheXMgZGljdFxuXHRjb25zdCBoX2Rpc3BsYXlzID0ge307XG5cdGZvcihjb25zdCBnX2Rpc3BsYXkgb2YgYV9kaXNwbGF5cykge1xuXHRcdGlmKGdfZGlzcGxheS5pc0VuYWJsZWQpIHtcblx0XHRcdGhfZGlzcGxheXNbZ19kaXNwbGF5LmJvdW5kcy53aWR0aCsnOicrZ19kaXNwbGF5LmJvdW5kcy5oZWlnaHRdID0gZ19kaXNwbGF5O1xuXHRcdH1cblx0fVxuXG5cdC8vIHNldCBkaXNwbGF5IHByb3BlcnRpZXNzIHRvIGJlIGNlbnRlciBvZiBzY3JlZW5cblx0bGV0IGdfd2luZG93X3Bvc2l0aW9uID0ge307XG5cdGlmKGdfc2NyZWVuX2luZm8pIHtcblx0XHRjb25zdCBzaV9kaXNwbGF5ID0gZ19zY3JlZW5faW5mby53aWR0aCsnOicrZ19zY3JlZW5faW5mby5oZWlnaHQ7XG5cdFx0Y29uc3QgZ19kaXNwbGF5ID0gaF9kaXNwbGF5c1tzaV9kaXNwbGF5XTtcblx0XHRpZihnX2Rpc3BsYXkpIHtcblx0XHRcdGdfd2luZG93X3Bvc2l0aW9uID0ge1xuXHRcdFx0XHRsZWZ0OiBnX2Rpc3BsYXkuYm91bmRzLmxlZnQgKyBNYXRoLnJvdW5kKChnX3NjcmVlbl9pbmZvLndpZHRoIC8gMikgLSAoTl9QWF9XSURUSF9QT1BVUCAvIDIpKSxcblx0XHRcdFx0dG9wOiBnX2Rpc3BsYXkuYm91bmRzLnRvcCArIE1hdGgucm91bmQoKGdfc2NyZWVuX2luZm8uaGVpZ2h0ICogMC40NSkgLSAoTl9QWF9IRUlHSFRfUE9QVVAgLyAyKSksXG5cdFx0XHR9O1xuXHRcdH1cblx0fVxuXG5cdC8vIGNyZWF0ZSB3aW5kb3dcblx0Y29uc3QgZ193aW5kb3cgPSBhd2FpdCBjaHJvbWUud2luZG93cy5jcmVhdGUoe1xuXHRcdHR5cGU6ICdwb3B1cCcsXG5cdFx0dXJsOiBwX2Nvbm5lY3QsXG5cdFx0Zm9jdXNlZDogdHJ1ZSxcblx0XHR3aWR0aDogTl9QWF9XSURUSF9QT1BVUCxcblx0XHRoZWlnaHQ6IE5fUFhfSEVJR0hUX1BPUFVQLFxuXHRcdC4uLmdfd2luZG93X3Bvc2l0aW9uLFxuXHR9KTtcblxuXHQvLyB3aW5kb3cgd2FzIG5vdCBjcmVhdGVkXG5cdGlmKCdudW1iZXInICE9PSB0eXBlb2YgZ193aW5kb3cuaWQpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBjcmVhdGUgcG9wdXAgd2luZG93Jyk7XG5cdH1cblxuXHQvLyBmZXRjaCBpdHMgdmlld1xuXHRjb25zdCBkdl9wb3B1cCA9IGF3YWl0IGNocm9tZS53aW5kb3dzLmdldChnX3dpbmRvdy5pZCwge1xuXHRcdHdpbmRvd1R5cGVzOiBbJ3BvcHVwJ10sXG5cdH0pO1xuXG5cdC8vIG5vIHZpZXdcblx0aWYoIWR2X3BvcHVwKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gbG9jYXRlIHBvcHVwIHdpbmRvdycpO1xuXHR9XG5cblx0Ly8gd2FpdCBmb3IgdGFiIHRvIGxvYWRcblx0Y29uc3QgZHRfY3JlYXRlZDogY2hyb21lLnRhYnMuVGFiID0gYXdhaXQgbmV3IFByb21pc2UoKGZrX2NyZWF0ZWQpID0+IHtcblx0XHQvLyB0YWIgdXBkYXRlIGV2ZW50XG5cdFx0Y2hyb21lLnRhYnMub25VcGRhdGVkLmFkZExpc3RlbmVyKGZ1bmN0aW9uIHRhYl91cGRhdGUoaV90YWIsIGdfaW5mbywgZHRfdXBkYXRlZCkge1xuXHRcdFx0Ly8gaXMgdGhlIHRhcmdldCB0YWJcblx0XHRcdGlmKGdfd2luZG93LmlkID09PSBkdF91cGRhdGVkLndpbmRvd0lkICYmICdudW1iZXInID09PSB0eXBlb2YgaV90YWIpIHtcblx0XHRcdFx0Ly8gbG9hZGluZyBjb21wZWx0ZWRcblx0XHRcdFx0aWYoJ2NvbXBsZXRlJyA9PT0gZ19pbmZvLnN0YXR1cykge1xuXHRcdFx0XHRcdC8vIHJlbW92ZSBsaXN0ZW5lclxuXHRcdFx0XHRcdGNocm9tZS50YWJzLm9uVXBkYXRlZC5yZW1vdmVMaXN0ZW5lcih0YWJfdXBkYXRlKTtcblxuXHRcdFx0XHRcdC8vIHJlc29sdmUgcHJvbWlzZVxuXHRcdFx0XHRcdGZrX2NyZWF0ZWQoZHRfdXBkYXRlZCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9KTtcblx0fSk7XG5cblx0cmV0dXJuIHtcblx0XHR3aW5kb3c6IGdfd2luZG93LFxuXHRcdHRhYjogZHRfY3JlYXRlZCxcblx0fTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGZsb3dfYnJvYWRjYXN0KGdjX3Byb21wdDogUHJvbXB0Q29uZmlnLCBzaV9yZXE9JycpOiBQcm9taXNlPGJvb2xlYW4+IHtcblx0Ly8gbmFtZSB0byB1c2UgZm9yIHByaXZhdGUgYnJvYWRjYXN0IGNoYW5uZWxcblx0Y29uc3Qgc2lfY2hhbm5lbCA9IGBmbG93XyR7Y3J5cHRvLnJhbmRvbVVVSUQoKX1gO1xuXG5cdC8vIGF3YWl0aW5nIGZvciBhIHByZXZpb3VzIGZsb3cgdG8gY29tcGxldGVcblx0Y29uc3Qgc19mbG93ID0gYXdhaXQgc2Vzc2lvbl9zdG9yYWdlX2dldCgnZmxvdycpIHx8ICcnO1xuXHRpZihzX2Zsb3cpIHtcblx0XHQvLyBUT0RPOiBpbXBsZW1lbnRcblx0fVxuXG5cdC8vIGNyZWF0ZSBmbG93IHRhYlxuXHRjb25zdCB7XG5cdFx0d2luZG93OiBnX3dpbmRvdyxcblx0XHR0YWI6IGR0X2Zsb3csXG5cdH0gPSBhd2FpdCBmbG93X2dlbmVyaWMoe1xuXHRcdGNvbW06ICdicm9hZGNhc3QnLFxuXHRcdG5hbWU6IHNpX2NoYW5uZWwsXG5cdH0pO1xuXG5cdC8vIGNvbW11bmljYXRlIHdpdGggcG9wdXAgdXNpbmcgYnJvYWRjYXN0IGNoYW5uZWxcblx0Y29uc3QgZF9icm9hZGNhc3Q6IFZvY2FiLlR5cGVkQnJvYWRjYXN0PEludHJhRXh0LkZsb3dWb2NhYiwgSW50cmFFeHQuRmxvd1Jlc3BvbnNlVm9jYWI+ID0gbmV3IEJyb2FkY2FzdENoYW5uZWwoc2lfY2hhbm5lbCk7XG5cblx0Ly8gZ28gYXN5bmNcblx0cmV0dXJuIG5ldyBQcm9taXNlKChma19yZXNvbHZlKSA9PiB7XG5cdFx0Ly8gd2hlbiByZWFkeSB0byByZXNvbHZlIHRoZSBwb21pc2Vcblx0XHRmdW5jdGlvbiBzaHV0ZG93bihiX2Fuc3dlcjogYm9vbGVhbikge1xuXHRcdFx0Ly8gcmVtb3ZlIHdpbmRvdyBjbG9zZSBsaXN0ZW5lclxuXHRcdFx0Y2hyb21lLndpbmRvd3Mub25SZW1vdmVkLnJlbW92ZUxpc3RlbmVyKGNsb3NlX2xpc3RlbmVyKTtcblxuXHRcdFx0Ly8gcmVtb3ZlIGJyb2FkY2FzdCBsaXN0ZW5lclxuXHRcdFx0ZF9icm9hZGNhc3QucmVtb3ZlRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIG1lc3NhZ2VfbGlzdGVuZXIpO1xuXG5cdFx0XHQvLyBjbGVhciBmbG93XG5cdFx0XHR2b2lkIHNlc3Npb25fc3RvcmFnZV9yZW1vdmUoJ2Zsb3cnKTtcblxuXHRcdFx0Ly8gcmVzb2x2ZSB3aXRoIGFuc3dlclxuXHRcdFx0ZmtfcmVzb2x2ZShiX2Fuc3dlcik7XG5cdFx0fVxuXG5cdFx0Ly8gaGFuZGxlIGluY29taW5nIG1lc3NhZ2VzXG5cdFx0ZnVuY3Rpb24gbWVzc2FnZV9saXN0ZW5lcihkX2V2ZW50KSB7XG5cdFx0XHQvLyBwYXJzZSByZXNwb25zZVxuXHRcdFx0Y29uc3QgZ19tc2cgPSBkX2V2ZW50LmRhdGE7XG5cblx0XHRcdC8vIGZsb3cgY29tcGxldGVkXG5cdFx0XHRpZignY29tcGxldGVGbG93JyA9PT0gZ19tc2cudHlwZSkge1xuXHRcdFx0XHQvLyBraWxsIHRoZSBmbG93IHdpbmRvdyAobm8gbmVlZCB0byB3YWl0IGZvciBpdCB0byByZXNvbHZlKVxuXHRcdFx0XHRjaHJvbWUud2luZG93cy5yZW1vdmUoZ193aW5kb3cuaWQhKTtcblxuXHRcdFx0XHQvLyBzaHV0ZG93biB3aXRoIGFuc3dlclxuXHRcdFx0XHRzaHV0ZG93bihnX21zZy52YWx1ZS5hbnN3ZXIpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIGxpc3RlbiBmb3IgaW5jb21pbmcgbWVzc2FnZXMgb24gYnJvYWRjYXN0IGNoYW5uZWxcblx0XHRkX2Jyb2FkY2FzdC5vbm1lc3NhZ2UgPSBtZXNzYWdlX2xpc3RlbmVyO1xuXG5cdFx0Ly8gaGFuZGxlIHBvcHVwIHdpbmRvdyBiZWluZyBjbG9zZWRcblx0XHRmdW5jdGlvbiBjbG9zZV9saXN0ZW5lcihpX3dpbmRvdykge1xuXHRcdFx0Ly8gdGFyZ2V0IHdpbmRvdzsgc2h1dGRvd24gd2l0aCBlZmZlY3RpdmUgY2FuY2VsIGFuc3dlclxuXHRcdFx0aWYoaV93aW5kb3cgPT09IGdfd2luZG93LmlkISkgc2h1dGRvd24oZmFsc2UpO1xuXHRcdH1cblxuXHRcdC8vIGxpc3RlbiBmb3IgcG9wdXAgd2luZG93IGJlaW5nIGNsb3NlZFxuXHRcdGNocm9tZS53aW5kb3dzLm9uUmVtb3ZlZC5hZGRMaXN0ZW5lcihjbG9zZV9saXN0ZW5lciwge1xuXHRcdFx0d2luZG93VHlwZXM6IFsncG9wdXAnXSxcblx0XHR9KTtcblxuXHRcdC8vIHNlbmQgbWVzc2FnZVxuXHRcdGRfYnJvYWRjYXN0LnBvc3RNZXNzYWdlKGdjX3Byb21wdC5mbG93KTtcblx0fSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBmbG93X3F1ZXJ5KGdjX3Byb21wdDogUHJvbXB0Q29uZmlnKTogUHJvbWlzZTx2b2lkPiB7XG5cdC8vIGNyZWF0ZSBmbG93IHRhYlxuXHRhd2FpdCBmbG93X2dlbmVyaWMoe1xuXHRcdGNvbW06ICdxdWVyeScsXG5cdFx0ZGF0YTogSlNPTi5zdHJpbmdpZnkoZ2NfcHJvbXB0KSxcblx0fSk7XG59XG5cblxuLy8gLyoqXG4vLyAgKiBHZW5lcmF0ZSBhIG5ldyBwcml2YXRlL3NoYXJlZCBzZWNyZXQga2V5IG9mIHRoZSBzcGVjaWZpZWQgc2l6ZSBpbiBieXRlcyAoZGVmYXVsdHMgdG8gNTEyLWJpdCBrZXkpXG4vLyAgKi9cbi8vIGV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZV9rZXkobmJfc2l6ZT02NCk6IHN0cmluZyB7XG4vLyBcdC8vIHByZXAgc3BhY2UgaW4gbWVtb3J5XG4vLyBcdGNvbnN0IGF0dThfc2VjcmV0ID0gbmV3IFVpbnQ4QXJyYXkobmJfc2l6ZSk7XG5cbi8vIFx0Ly8gZmlsbCB3aXRoIGNyeXB0byByYW5kb20gdmFsdWVzXG4vLyBcdGNyeXB0by5nZXRSYW5kb21WYWx1ZXMoYXR1OF9zZWNyZXQpO1xuXG4vLyBcdC8vIGNvbnZlcnQgdG8gaGV4IHN0cmluZ1xuLy8gXHRyZXR1cm4gQXJyYXkuZnJvbShhdHU4X3NlY3JldCkubWFwKHggPT4geC50b1N0cmluZygxNikucGFkU3RhcnQoMiwgJzAnKSkuam9pbignJyk7XG4vLyB9XG5cbi8vIGV4cG9ydCBmdW5jdGlvbiBibG9ja19hcHAoZ19zZW5kZXI6IE1lc3NhZ2VTZW5kZXIsIHNfbXNnOiBzdHJpbmcpIHtcbi8vIFx0Y29uc29sZS53YXJuKGAke3NfbXNnfTsgYmxvY2tlZCByZXF1ZXN0IGZyb20gPCR7Z19zZW5kZXIudXJsfT5gKTtcbi8vIH1cblxuLy8gLy8gbG9jYWxob3N0IHBhdHRlcm5cbi8vIGNvbnN0IFJfTE9DQUxIT1NUID0gL14obG9jYWxob3N0fDEyNy4wLjAuMSkoOlxcZCspPyQvO1xuXG5cbi8vIGV4cG9ydCBuYW1lc3BhY2UgSXNvbW9ycGhpYyB7XG4vLyBcdGV4cG9ydCB0eXBlIE1lc3NhZ2U8PiA9IHtcbi8vIFx0XHRnX3NlbmRlcjogUGljazxjaHJvbWUucnVudGltZS5NZXNzYWdlU2VuZGVyLCAndGFiJyB8ICd1cmwnPjtcblxuLy8gXHR9O1xuLy8gfVxuXG4vLyBleHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVxdWVzdEFkdmVydGlzZW1lbnQoe1xuLy8gXHRnX3NlbmRlcixcbi8vIH06IElzb21vcnBoaWMuTWVzc2FnZSkge1xuLy8gXHQvLyBubyBzZW5kZXI7IHNpbGVudGx5IHJlamVjdFxuLy8gXHRpZighZ19zZW5kZXIudGFiIHx8ICdudW1iZXInICE9PSB0eXBlb2YgZ19zZW5kZXIudGFiLmlkKSB7XG4vLyBcdFx0Y29uc29sZS5lcnJvcihgUmVmdXNpbmcgdG8gYWR2ZXJ0aXNlIHRvIHVua25vd24gc2VuZGVyYCk7XG4vLyBcdFx0cmV0dXJuO1xuLy8gXHR9XG5cbi8vIFx0Ly8gcmVmIHRhYiBpZFxuLy8gXHRjb25zdCBpX3RhYiA9IGdfc2VuZGVyLnRhYi5pZDtcblxuLy8gXHQvLyB1bmtub3duIHNvdXJjZSwgc2lsZW50bHkgcmVqZWN0XG4vLyBcdGlmKCFnX3NlbmRlci51cmwpIHtcbi8vIFx0XHRjb25zb2xlLmRlYnVnKCdTaWxlbnRseSBpZ25vcmluZyBhZHZlcnRpc2VtZW50IHJlcXVlc3QgZnJvbSB1bmtub3duIHNvdXJjZScpO1xuLy8gXHRcdHJldHVybjtcbi8vIFx0fVxuXG4vLyBcdC8vIHBhcnNlIHNlbmRlciB1cmxcbi8vIFx0Y29uc3Qge1xuLy8gXHRcdHByb3RvY29sOiBzX3Byb3RvY29sLFxuLy8gXHRcdGhvc3Q6IHNfaG9zdCxcbi8vIFx0fSA9IG5ldyBVUkwoZ19zZW5kZXIudXJsKTtcblxuLy8gXHQvLyBub3JtYWxpemUgc2NoZW1lXG4vLyBcdGNvbnN0IHNfc2NoZW1lID0gKHNfcHJvdG9jb2wgfHwgJycpLnJlcGxhY2UoLzokLywgJycpO1xuXG4vLyBcdC8vIGNoZWNrIGlmIGFwcCBpcyBsb2NrZWRcbi8vIFx0Y29uc3QgYl91bmxvY2tlZCA9IGF3YWl0IHNlc3Npb25fc3RvcmFnZV9nZXQoJ3VubG9ja2VkJyk7XG4vLyBcdGlmKCFiX3VubG9ja2VkKSB7XG4vLyBcdFx0Ly8gYXNrIHVzZXIgdG8gbG9naW5cbi8vIFx0XHRjb25zdCBiX2ZpbmlzaGVkID0gYXdhaXQgZmxvd19icm9hZGNhc3Qoe1xuLy8gXHRcdFx0Zmxvdzoge1xuLy8gXHRcdFx0XHR0eXBlOiAnbG9naW4nLFxuLy8gXHRcdFx0fSxcbi8vIFx0XHR9KTtcblxuLy8gXHRcdC8vIHVzZXIgY2FuY2VsbGVkOyBkbyBub3QgYWR2ZXJ0aXNlXG4vLyBcdFx0aWYoIWJfZmluaXNoZWQpIHtcbi8vIFx0XHRcdHJldHVybjtcbi8vIFx0XHR9XG4vLyBcdH1cblxuLy8gXHQvLyBvcGVuIHN0b3JhZ2Vcbi8vIFx0Y29uc3Qga19zdG9yYWdlID0gYXdhaXQgRXh0U3RvcmFnZS5vcGVuKCk7XG5cbi8vIFx0Ly8gbm9uLXNlY3VyZSBjb250ZXh0cyBvbmx5IGFsbG93ZWQgYXQgbG9jYWxob3N0XG4vLyBcdGlmKCdodHRwJyA9PT0gc19zY2hlbWUpIHtcbi8vIFx0XHQvLyBub3QgbG9jYWxob3N0XG4vLyBcdFx0aWYoIVJfTE9DQUxIT1NULnRlc3Qoc19ob3N0KSkge1xuLy8gXHRcdFx0cmV0dXJuIGJsb2NrX2FwcChnX3NlbmRlciwgJ05vbi1zZWN1cmUgSFRUUCBjb250ZXh0cyBhcmUgbm90IGFsbG93ZWQgdG8gY29ubmVjdCB0byB3YWxsZXQgZXhjZXB0IGZvciBsb2NhbGhvc3QnKTtcbi8vIFx0XHR9XG4vLyBcdH1cbi8vIFx0Ly8gZmlsZVxuLy8gXHRlbHNlIGlmKCdmaWxlJyA9PT0gc19zY2hlbWUpIHtcbi8vIFx0XHQvLyBjaGVjayBwb2xpY3lcbi8vIFx0XHRpZighKGF3YWl0IGtfc3RvcmFnZS5nZXRTZXR0aW5nKCdhbGxvd19maWxlX3VybHMnKSkpIHtcbi8vIFx0XHRcdHJldHVybiBibG9ja19hcHAoZ19zZW5kZXIsIGBGaWxlIFVSTHMgYXJlIG5vdCBhbGxvd2VkIHRvIGNvbm5lY3QgdG8gd2FsbGV0LCB1bmxlc3MgJ2FsbG93X2ZpbGVfdXJscycgc2V0dGluZyBpcyBlbmFibGVkYCk7XG4vLyBcdFx0fVxuLy8gXHR9XG4vLyBcdC8vIGFueXRoaW5nIGVsc2Vcbi8vIFx0ZWxzZSBpZignaHR0cHMnICE9PSBzX3NjaGVtZSkge1xuLy8gXHRcdHJldHVybiBibG9ja19hcHAoZ19zZW5kZXIsIGBTY2hlbWUgbm90IGFsbG93ZWQgXCIke3Nfc2NoZW1lfVwiYCk7XG4vLyBcdH1cblxuLy8gXHQvLyBjaGVja291dCBhcHBzIHN0b3JlXG4vLyBcdGF3YWl0IGtfc3RvcmFnZS5ib3Jyb3coWydhcHBzJ10sIGFzeW5jKGhfY2hlY2tvdXRzKSA9PiB7XG4vLyBcdFx0Y29uc3Qge1xuLy8gXHRcdFx0YXBwczoga3NfYXBwcyxcbi8vIFx0XHR9ID0gaF9jaGVja291dHM7XG5cbi8vIFx0XHQvLyBsb29rdXAgYXBwIGluIHN0b3JlXG4vLyBcdFx0bGV0IGdfYXBwID0gYXdhaXQga3NfYXBwcy5nZXQoc19ob3N0LCBzX3NjaGVtZSk7XG5cdFxuLy8gXHRcdC8vIGFwcCBpcyBub3QgeWV0IHJlZ2lzdGVyZWQ7IGluaXRpYWxpemVcbi8vIFx0XHRpZighZ19hcHApIHtcbi8vIFx0XHRcdGdfYXBwID0ge1xuLy8gXHRcdFx0XHRzY2hlbWU6IHNfc2NoZW1lLFxuLy8gXHRcdFx0XHRob3N0OiBzX2hvc3QsXG4vLyBcdFx0XHRcdGNvbm5lY3Rpb25zOiB7fSxcbi8vIFx0XHRcdH07XG4vLyBcdFx0fVxuXG4vLyBcdFx0Ly8gbG9va3VwIHBvbGljeSBvbiBhcHBcbi8vIFx0XHRjb25zdCBnX3BvbGljeSA9IGF3YWl0IGtfc3RvcmFnZS5nZXRQb2xpY3lGb3JBcHAoZ19hcHApO1xuXG4vLyBcdFx0Ly8gYSBwb2xpY3kgaW5kaWNhdGVzIHRoaXMgYXBwIGlzIGJsb2NrZWRcbi8vIFx0XHRpZihnX3BvbGljeS5ibG9ja2VkKSB7XG4vLyBcdFx0XHRyZXR1cm4gYmxvY2tfYXBwKGdfc2VuZGVyLCAnQXBwIGNvbm5lY3Rpb24gYmxvY2tlZCBieSBwb2xpY3knKTtcbi8vIFx0XHR9XG5cbi8vIFx0XHQvLyBhcHAgZG9lcyBub3QgaGF2ZSBhbnkgY29ubmVjdGlvbnNcbi8vIFx0XHRpZighT2JqZWN0LmtleXMoZ19hcHAuY29ubmVjdGlvbnMpLmxlbmd0aCkge1xuLy8gXHRcdFx0Ly8gYXBwIGlzIG5vdCB0cnVzdGVkOyByZXF1aXJlcyB1c2VyIGFwcHJvdmFsXG4vLyBcdFx0XHRpZighZ19wb2xpY3kudHJ1c3RlZCkge1xuLy8gXHRcdFx0XHQvLyByZXF1ZXN0IGFwcHJvdmFsIGZyb20gdXNlclxuLy8gXHRcdFx0XHRhd2FpdCBmbG93X2Jyb2FkY2FzdCh7XG4vLyBcdFx0XHRcdFx0Zmxvdzoge1xuLy8gXHRcdFx0XHRcdFx0dHlwZTogJ3JlcXVlc3RBZHZlcnRpc2VtZW50Jyxcbi8vIFx0XHRcdFx0XHRcdHZhbHVlOiB7XG4vLyBcdFx0XHRcdFx0XHRcdHRhYklkOiBpX3RhYixcbi8vIFx0XHRcdFx0XHRcdFx0YXBwOiBnX2FwcCxcbi8vIFx0XHRcdFx0XHRcdH0sXG4vLyBcdFx0XHRcdFx0fSxcbi8vIFx0XHRcdFx0fSk7XG5cbi8vIFx0XHRcdFx0Ly8gdXBkYXRlIHN0b3JlXG4vLyBcdFx0XHRcdGF3YWl0IGtzX2FwcHMucHV0KGdfYXBwKTtcbi8vIFx0XHRcdH1cbi8vIFx0XHR9XG4vLyBcdH0pO1xuXG4vLyBcdC8vIFRPRE86IGNvbnNpZGVyIHdoYXQgd2lsbCBoYXBwZW4gaWYgcHJvbXB0IGNsb3NlcyBidXQgc2VyaWNlIHdvcmtlciBiZWNvbWVzIGluYWN0aXZlXG5cbi8vIFx0Ly8gdmVyYm9zZVxuLy8gXHRjb25zb2xlLmRlYnVnKGBBbGxvd2luZyA8JHtnX3NlbmRlci51cmx9PiB0byByZWNlaXZlIGFkdmVydGlzZW1lbnRgKTtcblxuLy8gXHQvLyBzZWNyZXRzIGZvciB0aGlzIHNlc3Npb25cbi8vIFx0Y29uc3QgZ19zZWNyZXRzOiBTZXJ2aWNlVG9JY3MuU2Vzc2lvbktleXMgPSB7XG4vLyBcdFx0c2Vzc2lvbjogZ2VuZXJhdGVfa2V5KCksXG4vLyBcdH07XG5cbi8vIFx0Ly8gZXhlY3V0ZSBpc29sYXRlZC13b3JsZCBjb250ZW50IHNjcmlwdCAnaG9zdCdcbi8vIFx0Y2hyb21lLnNjcmlwdGluZy5leGVjdXRlU2NyaXB0KHtcbi8vIFx0XHR0YXJnZXQ6IHtcbi8vIFx0XHRcdHRhYklkOiBpX3RhYixcbi8vIFx0XHR9LFxuLy8gXHRcdGZ1bmM6IEljc0hvc3QsXG4vLyBcdFx0YXJnczogW2dfc2VjcmV0c10sXG4vLyBcdFx0d29ybGQ6ICdJU09MQVRFRCcsXG4vLyBcdH0pO1xuXG4vLyBcdC8vIGV4ZWN1dGUgbWFpbi13b3JsZCBjb250ZW50IHNjcmlwdCAncmF0aWZpZXInXG4vLyBcdGNocm9tZS5zY3JpcHRpbmcuZXhlY3V0ZVNjcmlwdCh7XG4vLyBcdFx0dGFyZ2V0OiB7XG4vLyBcdFx0XHR0YWJJZDogaV90YWIsXG4vLyBcdFx0fSxcbi8vIFx0XHRmdW5jOiBNY3NSYXRpZmllcixcbi8vIFx0XHRhcmdzOiBbZ19zZWNyZXRzXSxcbi8vIFx0XHR3b3JsZDogJ01BSU4nLFxuLy8gXHR9KTtcblxuLy8gXHQvLyByZXNwb25kIHRvIGlucGFnZSBjb250ZW50IHNjcmlwdCB3aXRoIHNlc3Npb24gc2VjcmV0c1xuLy8gXHRyZXR1cm4gZ19zZWNyZXRzO1xuLy8gfSIsImltcG9ydCB0eXBlIGJyb3dzZXIgZnJvbSAnd2ViZXh0ZW5zaW9uLXBvbHlmaWxsJztcblxuaW1wb3J0ICogYXMgc2VtdmVyIGZyb20gJ3NlbXZlcic7XG5cbmltcG9ydCB7IERpY3QsIEpzb25PYmplY3QsIEpzb25WYWx1ZSwgb2RlLCBQcm9taXNhYmxlIH0gZnJvbSAnIy91dGlsL2JlbHQnO1xuXG5pbXBvcnQgdHlwZSB7XG5cdEljc1RvU2VydmljZSxcblx0SW50cmFFeHQsXG5cdFNlcnZpY2VUb0ljcyxcbn0gZnJvbSAnLi9tZXNzYWdlcyc7XG5cbmltcG9ydCBJY3NIb3N0IGZyb20gJy4vaWNzLWhvc3QnO1xuaW1wb3J0IE1jc1JhdGlmaWVyIGZyb20gJy4vbWNzLXJhdGlmaWVyJztcblxuaW1wb3J0IHtcblx0SF9DT05URU5UX1NDUklQVF9ERUZTLFxufSBmcm9tICcuL3NjcmlwdHMnO1xuXG5pbXBvcnQgdHlwZSB7IFZvY2FiIH0gZnJvbSAnIy9tZXRhL3ZvY2FiJztcbmltcG9ydCB7IFZhdWx0IH0gZnJvbSAnIy9jcnlwdG8vdmF1bHQnO1xuaW1wb3J0IHsgQXBwcyB9IGZyb20gJyMvc3RvcmUvYXBwcyc7XG5pbXBvcnQgeyBQb2xpY2llcyB9IGZyb20gJyMvc3RvcmUvcG9saWNpZXMnO1xuaW1wb3J0IHsgU2V0dGluZ3MgfSBmcm9tICcjL3N0b3JlL3NldHRpbmdzJztcbmltcG9ydCB7IGZsb3dfYnJvYWRjYXN0IH0gZnJvbSAnLi9tc2ctZmxvdyc7XG5pbXBvcnQgeyBQX1NUQVJTSEVMTF9ERUNSRUVTLCBSX0RPTUFJTl9MT0NBTEhPU1QsIFJfVFJBTlNGRVJfQU1PVU5ULCBTSV9WRVJTSU9OLCBYVF9NSU5VVEVTIH0gZnJvbSAnIy9zaGFyZS9jb25zdGFudHMnO1xuaW1wb3J0IHsgQ2hhaW5zIH0gZnJvbSAnIy9zdG9yZS9jaGFpbnMnO1xuaW1wb3J0IHsgQWN0aXZlTmV0d29yaywgQmFsYW5jZUJ1bmRsZSwgTmV0d29ya3MgfSBmcm9tICcjL3N0b3JlL25ldHdvcmtzJztcbmltcG9ydCB7IENvc21vc05ldHdvcmssIGZvbGRfYXR0cnMsIFBlbmRpbmdTZW5kLCBUeXBlZEV2ZW50IH0gZnJvbSAnIy9jaGFpbi9tYWluJztcbmltcG9ydCB7IEFjY291bnRzIH0gZnJvbSAnIy9zdG9yZS9hY2NvdW50cyc7XG5pbXBvcnQgQmlnTnVtYmVyIGZyb20gJ2JpZ251bWJlci5qcyc7XG5pbXBvcnQgeyBhYmJyZXZpYXRlX2FkZHIsIGZvcm1hdF9hbW91bnQsIGZvcm1hdF9maWF0IH0gZnJvbSAnIy91dGlsL2Zvcm1hdCc7XG5pbXBvcnQgdHlwZSB7IEJlY2gzMiwgQ2hhaW4sIENoYWluUGF0aCwgTmF0aXZlQ29pbiB9IGZyb20gJyMvbWV0YS9jaGFpbic7XG5pbXBvcnQgdHlwZSB7IENvaW4gfSBmcm9tICdjb3Ntb3MtZ3JwYy9kaXN0L2Nvc21vcy9iYXNlL3YxYmV0YTEvY29pbic7XG5pbXBvcnQgeyB5d19uZXR3b3JrX2FjdGl2ZSB9IGZyb20gJyMvYXBwL21lbSc7XG5pbXBvcnQgeyBnbG9iYWxfYnJvYWRjYXN0LCBnbG9iYWxfcmVjZWl2ZSB9IGZyb20gJy4vbXNnLWdsb2JhbCc7XG5pbXBvcnQgdHlwZSB7IE5ldHdvcmsgfSBmcm9tICcjL21ldGEvbmV0d29yayc7XG5pbXBvcnQgeyBidWZmZXJfdG9fYmFzZTY0LCBzaGEyNTZfc3luYywgdGV4dF90b19idWZmZXIgfSBmcm9tICcjL3V0aWwvZGF0YSc7XG5pbXBvcnQgeyBzeXNlcnIsIHN5c3dhcm4gfSBmcm9tICcjL2FwcC9jb21tb24nO1xuaW1wb3J0IHsgQWdlbnRzIH0gZnJvbSAnIy9zdG9yZS9hZ2VudHMnO1xuaW1wb3J0IHR5cGUgeyBCbG9ja0luZm9IZWFkZXIgfSBmcm9tICcuL2NvbW1vbic7XG5pbXBvcnQgdHlwZSB7IEFjY291bnQgfSBmcm9tICcjL21ldGEvYWNjb3VudCc7XG5pbXBvcnQgeyBJbmNpZGVudHMgfSBmcm9tICcjL3N0b3JlL2luY2lkZW50cyc7XG5pbXBvcnQgdHlwZSB7IExvZ0V2ZW50IH0gZnJvbSAnIy9tZXRhL3N0b3JlJztcbmltcG9ydCB7IERlY3JlZSwgV2ViUmVzb3VyY2VDYWNoZSB9IGZyb20gJyMvc3RvcmUvd2ViLXJlc291cmNlLWNhY2hlJztcbmltcG9ydCB7IGNoZWNrX3Jlc3RyaWN0aW9ucyB9IGZyb20gJyMvZXh0ZW5zaW9uL3Jlc3RyaWN0aW9ucyc7XG5pbXBvcnQgeyBCcm9hZGNhc3RNb2RlIH0gZnJvbSAnY29zbW9zLWdycGMvZGlzdC9jb3Ntb3MvdHgvdjFiZXRhMS9zZXJ2aWNlJztcbmltcG9ydCB0eXBlIHsgSW5jaWRlbnQsIEluY2lkZW50UGF0aCB9IGZyb20gJyMvbWV0YS9pbmNpZGVudCc7XG5cbmludGVyZmFjZSBTZXJ2aWNlTWVzc2FnZUhhbmRsZXIge1xuXHQobWVzc2FnZTogYW55LCBzZW5kZXI6IE1lc3NhZ2VTZW5kZXIsIHNlbmRSZXNwb25zZTogKHJlc3BvbnNlPzogYW55KSA9PiB2b2lkKTogdm9pZDtcbn1cblxuLy8gY29uc3QgTl9QWF9XSURUSF9QT1BVUCA9IDM2MDtcbi8vIGNvbnN0IE5fUFhfSEVJR0hUX1BPUFVQID0gNjAwO1xuXG5cblxuLy8gdHlwZSBhbGlhc2VzXG5pbnRlcmZhY2UgU3RvcmFnZUNoYW5nZTx3X3ZhbHVlIGV4dGVuZHMgSnNvblZhbHVlPiBleHRlbmRzIGNocm9tZS5zdG9yYWdlLlN0b3JhZ2VDaGFuZ2Uge1xuXHRuZXdWYWx1ZT86IHdfdmFsdWU7XG5cdG9sZFZhbHVlPzogd192YWx1ZTtcbn1cblxudHlwZSBTdG9yYWdlQXJlYSA9ICdsb2NhbCcgfCAnc2Vzc2lvbicgfCAnc3luYycgfCAnbWFuYWdlZCc7XG5cbmNvbnN0IEhfU1RPUkFHRV9TQ0hFTUFTID0ge1xuXHRzeW5jOiB7XG5cdFx0a2VwbHJfcG9seWZpbGw6IHt9LFxuXHR9LFxuXHRsb2NhbDoge1xuXHRcdC8vIGFwcHM6IHt9LFxuXHR9LFxuXHRzZXNzaW9uOiB7fSxcblx0bWFuYWdlZDoge30sXG59IGFzIGNvbnN0O1xuXG50eXBlIFN0b3JhZ2VMaXN0ZW5lcjxcblx0c2lfYXJlYSBleHRlbmRzIFN0b3JhZ2VBcmVhLFxuPiA9IHNpX2FyZWEgZXh0ZW5kcyBTdG9yYWdlQXJlYVxuXHQ/IFJlY29yZDxrZXlvZiB0eXBlb2YgSF9TVE9SQUdFX1NDSEVNQVNbc2lfYXJlYV0sIHtcblx0XHQoZ19jaGFuZ2U6IFN0b3JhZ2VDaGFuZ2U8U1ZfS2VwbHJQb2x5ZmlsbD4pOiBQcm9taXNlPHZvaWQ+O1xuXHR9PlxuXHQ6IHZvaWQ7XG5cbnR5cGUgU3RvcmFnZUxpc3RlbmVyTWFwID0ge1xuXHRbc2lfYXJlYSBpbiBTdG9yYWdlQXJlYV0/OiBTdG9yYWdlTGlzdGVuZXI8c2lfYXJlYT47XG59XG5cbnR5cGUgU1ZfS2VwbHJQb2x5ZmlsbCA9IGJvb2xlYW47XG5cblxudHlwZSBTdG9yYWdlQ2hhbmdlQ2FsbGJhY2sgPSAoZ19jaGFuZ2U6IGNocm9tZS5zdG9yYWdlLlN0b3JhZ2VDaGFuZ2UpID0+IFByb21pc2FibGU8dm9pZD47XG5cbmNvbnN0IGdfYXdhaXRlcnM6IFJlY29yZDxTdG9yYWdlQXJlYSwgRGljdDxTdG9yYWdlQ2hhbmdlQ2FsbGJhY2tbXT4+ID0ge1xuXHRzeW5jOiB7fSxcblx0bG9jYWw6IHt9LFxuXHRzZXNzaW9uOiB7fSxcblx0bWFuYWdlZDoge30sXG59O1xuXG5leHBvcnQgZnVuY3Rpb24gb25jZV9zdG9yYWdlX2NoYW5nZXMoc2lfYXJlYTogU3RvcmFnZUFyZWEsIHNpX2tleTogc3RyaW5nLCB4dF90aW1lb3V0PTApOiBQcm9taXNlPGNocm9tZS5zdG9yYWdlLlN0b3JhZ2VDaGFuZ2U+IHtcblx0cmV0dXJuIG5ldyBQcm9taXNlKChma19yZXNvbHZlLCBmZV9yZWplY3QpID0+IHtcblx0XHRjb25zdCBoX2F3YWl0ZXJzID0gZ19hd2FpdGVyc1tzaV9hcmVhXTtcblx0XHRjb25zdCBhX2F3YWl0ZXJzID0gaF9hd2FpdGVyc1tzaV9rZXldID0gaF9hd2FpdGVyc1tzaV9rZXldIHx8IFtdO1xuXG5cdFx0bGV0IGlfYXdhaXRlciA9IC0xO1xuXHRcdGxldCBpX3RpbWVvdXQgPSAwO1xuXHRcdGlmKHh0X3RpbWVvdXQgPiAwKSB7XG5cdFx0XHRpX3RpbWVvdXQgPSBnbG9iYWxUaGlzLnNldFRpbWVvdXQoKCkgPT4ge1xuXHRcdFx0XHQvLyByZW1vdmUgYXdhaXRlclxuXHRcdFx0XHRhX2F3YWl0ZXJzLnNwbGljZShpX2F3YWl0ZXIsIDEpO1xuXG5cdFx0XHRcdC8vIHJlamVjdFxuXHRcdFx0XHRmZV9yZWplY3QobmV3IEVycm9yKGBUaW1lZCBvdXRgKSk7XG5cdFx0XHR9LCB4dF90aW1lb3V0KTtcblx0XHR9XG5cblx0XHRpX2F3YWl0ZXIgPSBhX2F3YWl0ZXJzLnB1c2goKGdfY2hhbmdlKSA9PiB7XG5cdFx0XHRnbG9iYWxUaGlzLmNsZWFyVGltZW91dChpX3RpbWVvdXQpO1xuXHRcdFx0ZmtfcmVzb2x2ZShnX2NoYW5nZSk7XG5cdFx0fSk7XG5cdH0pO1xufVxuXG5mdW5jdGlvbiBmaXJlX3N0b3JhZ2VfY2hhbmdlKHNpX2FyZWE6IFN0b3JhZ2VBcmVhLCBzaV9rZXk6IHN0cmluZywgZ19jaGFuZ2U6IGNocm9tZS5zdG9yYWdlLlN0b3JhZ2VDaGFuZ2UpIHtcblx0Y29uc3QgaF9hd2FpdGVycyA9IGdfYXdhaXRlcnNbc2lfYXJlYV07XG5cdGNvbnN0IGFfYXdhaXRlcnMgPSBoX2F3YWl0ZXJzW3NpX2tleV07XG5cblx0aWYoYV9hd2FpdGVycz8ubGVuZ3RoKSB7XG5cdFx0Ly8gcmVzZXQgYXdhaXRlcnNcblx0XHRoX2F3YWl0ZXJzW3NpX2tleV0gPSBbXTtcblxuXHRcdC8vIGNhbGwgZWFjaCBsaXN0ZW5lclxuXHRcdGZvcihjb25zdCBmX2F3YWl0ZXIgb2YgYV9hd2FpdGVycykge1xuXHRcdFx0dm9pZCBmX2F3YWl0ZXIoZ19jaGFuZ2UpO1xuXHRcdH1cblx0fVxufVxuXG4vLyBcbmNocm9tZS5zdG9yYWdlLm9uQ2hhbmdlZC5hZGRMaXN0ZW5lcigoaF9jaGFuZ2VzLCBzaV9hcmVhKSA9PiB7XG5cdGNvbnN0IEhfU1RPUkFHRV9MSVNURU5FUlM6IFN0b3JhZ2VMaXN0ZW5lck1hcCA9IHtcblx0XHRzeW5jOiB7XG5cdFx0XHQvLyBcblx0XHRcdGFzeW5jIGtlcGxyX3BvbHlmaWxsKGdfY2hhbmdlKSB7XG5cdFx0XHRcdGNvbnN0IGRfc2NyaXB0aW5nID0gY2hyb21lLnNjcmlwdGluZyBhcyBicm93c2VyLlNjcmlwdGluZy5TdGF0aWM7XG5cdFxuXHRcdFx0XHQvLyBidWlsZCB0aGUgY29udGVudCBzY3JpcHQgZGVmaW5pdGlvblxuXHRcdFx0XHRjb25zdCBnY19zY3JpcHQgPSBIX0NPTlRFTlRfU0NSSVBUX0RFRlMubWNzX2tlcGxyKCk7XG5cdFxuXHRcdFx0XHQvLyBjaGVjayB0aGUgY3VycmVudCBzdGF0dXMgb2YgdGhlIHNjcmlwdCwgaS5lLiwgd2hldGhlciBvciBub3QgaXQgaXMgZW5hYmxlZFxuXHRcdFx0XHQvLyB6ZXJvIGxlbmd0aCBpbmRpY2F0ZXMgbm8gY3VycmVudGx5IHJlZ2lzdGVyZWQgc2NyaXB0cyBtYXRjaCB0aGUgZ2l2ZW4gaWRcblx0XHRcdFx0Y29uc3QgYl9yZWdpc3RlcmVkID0gISEoYXdhaXQgZF9zY3JpcHRpbmcuZ2V0UmVnaXN0ZXJlZENvbnRlbnRTY3JpcHRzKHtcblx0XHRcdFx0XHRpZHM6IFtnY19zY3JpcHQuaWRdLFxuXHRcdFx0XHR9KSkubGVuZ3RoO1xuXHRcblx0XHRcdFx0Ly8gS2VwbHIgcG9seWZpbGwgb3B0aW9uIGlzIG5vdyBlbmFibGVkXG5cdFx0XHRcdGlmKHRydWUgPT09IGdfY2hhbmdlLm5ld1ZhbHVlKSB7XG5cdFx0XHRcdFx0Ly8gc2NyaXB0IGlzIG5vdCBjdXJyZW50bHkgcmVnaXN0ZXJlZFxuXHRcdFx0XHRcdGlmKCFiX3JlZ2lzdGVyZWQpIHtcblx0XHRcdFx0XHRcdC8vIHJlZ2lzdGVyIHRoZSBjb250ZW50IHNjcmlwdFxuXHRcdFx0XHRcdFx0YXdhaXQgZF9zY3JpcHRpbmcucmVnaXN0ZXJDb250ZW50U2NyaXB0cyhbXG5cdFx0XHRcdFx0XHRcdGdjX3NjcmlwdCxcblx0XHRcdFx0XHRcdF0pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHQvLyBLZXBsciBwb2x5ZmlsbCBvcHRpb24gaXMgbm93IGRpc2FibGVkXG5cdFx0XHRcdGVsc2Uge1xuXHRcdFx0XHRcdC8vIHNjcmlwdCBpcyBjdXJyZW50bHkgcmVnaXN0ZXJlZFxuXHRcdFx0XHRcdGlmKCFiX3JlZ2lzdGVyZWQpIHtcblx0XHRcdFx0XHRcdC8vIHVucmVnaXN0ZXIgdGhlIGNvbnRlbnQgc2NyaXB0XG5cdFx0XHRcdFx0XHRhd2FpdCBkX3NjcmlwdGluZy51bnJlZ2lzdGVyQ29udGVudFNjcmlwdHMoe1xuXHRcdFx0XHRcdFx0XHRpZHM6IFtnY19zY3JpcHQuaWRdXG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFxuXHRcdH0sXG5cblx0XHQvLyAvLyBsb2NhbCBzdG9yYWdlIGFyZWEgY2hhbmdlIGxpc3RlbmVyXG5cdFx0bG9jYWw6IHt9LFxuXG5cdFx0c2Vzc2lvbjoge30sXG5cblx0XHRtYW5hZ2VkOiB7fSxcblx0fTtcblx0XG5cdC8vIGxvb2t1cCBuYW1lc3BhY2Utc3BlY2lmaWMgbGlzdGVuZXIgZGljdFxuXHRjb25zdCBoX2xpc3RlbmVycyA9IEhfU1RPUkFHRV9MSVNURU5FUlNbc2lfYXJlYV07XG5cblx0Ly8gbGlzdGVuZXJzIGF2YWlsYWJsZVxuXHRpZihoX2xpc3RlbmVycykge1xuXHRcdC8vIGVhY2ggY2hhbmdlIGNoYW5nZXNcblx0XHRmb3IoY29uc3Qgc2lfa2V5IGluIGhfY2hhbmdlcykge1xuXHRcdFx0Y29uc3QgZ19jaGFuZ2UgPSBoX2NoYW5nZXNbc2lfa2V5XTtcblxuXHRcdFx0Ly8gZmlyZSBhd2FpdGVyIGNhbGxiYWNrcyBmaXJzdFxuXHRcdFx0ZmlyZV9zdG9yYWdlX2NoYW5nZShzaV9hcmVhLCBzaV9rZXksIGdfY2hhbmdlKTtcblxuXHRcdFx0Ly8gbGlzdGVuZXIgZXhpc3RzIGZvciB0aGlzIGtleVxuXHRcdFx0Y29uc3QgZl9saXN0ZW5lciA9IGhfbGlzdGVuZXJzW3NpX2tleV07XG5cdFx0XHRpZihmX2xpc3RlbmVyKSB7XG5cdFx0XHRcdGZfbGlzdGVuZXIoZ19jaGFuZ2UpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG59KTtcblxuXG50eXBlIE1lc3NhZ2VTZW5kZXIgPSBjaHJvbWUucnVudGltZS5NZXNzYWdlU2VuZGVyO1xuXG5pbnRlcmZhY2UgU2VuZFJlc3BvbnNlIHtcblx0KHdfZGF0YT86IGFueSk6IHZvaWQ7XG59XG5cbmludGVyZmFjZSBNZXNzYWdlSGFuZGxlcjx3X21zZz1hbnk+IHtcblx0KGdfbXNnOiB3X21zZywgZ19zZW5kZXI6IE1lc3NhZ2VTZW5kZXIsIGZrX3Jlc3BvbmQ6IFNlbmRSZXNwb25zZSk6IHZvaWQgfCBib29sZWFuXG59XG5cbmZ1bmN0aW9uIHBhcnNlX3NlbmRlcihwX3NlbmRlcjogc3RyaW5nKSB7XG5cdC8vIHBhcnNlIHNlbmRlciB1cmxcblx0Y29uc3Qge1xuXHRcdHByb3RvY29sOiBzX3Byb3RvY29sLFxuXHRcdGhvc3Q6IHNfaG9zdCxcblx0fSA9IG5ldyBVUkwocF9zZW5kZXIpO1xuXG5cdC8vIG5vcm1hbGl6ZSBzY2hlbWVcblx0Y29uc3Qgc19zY2hlbWUgPSAoc19wcm90b2NvbCB8fCAnJykucmVwbGFjZSgvOiQvLCAnJyk7XG5cblx0cmV0dXJuIFtzX3NjaGVtZSBhcyAnZmlsZScgfCAnaHR0cCcgfCAnaHR0cHMnLCBzX2hvc3RdIGFzIGNvbnN0O1xufVxuXG5cbmZ1bmN0aW9uIGJsb2NrX2FwcChnX3NlbmRlcjogTWVzc2FnZVNlbmRlciwgc19tc2c6IHN0cmluZyk6IGJvb2xlYW4ge1xuXHRjb25zb2xlLndhcm4oYCR7c19tc2d9OyBibG9ja2VkIHJlcXVlc3QgZnJvbSA8JHtnX3NlbmRlci51cmx9PmApO1xuXHRyZXR1cm4gdHJ1ZTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gYXBwX2Jsb2NrZWQoc19zY2hlbWU6IHN0cmluZywgc19ob3N0OiBzdHJpbmcsIGdfc2VuZGVyOiBNZXNzYWdlU2VuZGVyKTogUHJvbWlzZTxib29sZWFuPiB7XG5cdC8vIG5vbi1zZWN1cmUgY29udGV4dHMgb25seSBhbGxvd2VkIGF0IGxvY2FsaG9zdFxuXHRpZignaHR0cCcgPT09IHNfc2NoZW1lKSB7XG5cdFx0Ly8gbm90IGxvY2FsaG9zdFxuXHRcdGlmKCFSX0RPTUFJTl9MT0NBTEhPU1QudGVzdChzX2hvc3QpKSB7XG5cdFx0XHRyZXR1cm4gYmxvY2tfYXBwKGdfc2VuZGVyLCAnTm9uLXNlY3VyZSBIVFRQIGNvbnRleHRzIGFyZSBub3QgYWxsb3dlZCB0byBjb25uZWN0IHRvIHdhbGxldCBleGNlcHQgZm9yIGxvY2FsaG9zdCcpO1xuXHRcdH1cblx0fVxuXHQvLyBmaWxlXG5cdGVsc2UgaWYoJ2ZpbGUnID09PSBzX3NjaGVtZSkge1xuXHRcdC8vIGNoZWNrIHBvbGljeVxuXHRcdGNvbnN0IGJfYWxsb3dlZCA9IGF3YWl0IFNldHRpbmdzLmdldCgnYWxsb3dfZmlsZV91cmxzJyk7XG5cdFx0aWYoIWJfYWxsb3dlZCkge1xuXHRcdFx0cmV0dXJuIGJsb2NrX2FwcChnX3NlbmRlciwgYEZpbGUgVVJMcyBhcmUgbm90IGFsbG93ZWQgdG8gY29ubmVjdCB0byB3YWxsZXQsIHVubGVzcyAnYWxsb3dfZmlsZV91cmxzJyBzZXR0aW5nIGlzIGVuYWJsZWRgKTtcblx0XHR9XG5cdH1cblx0Ly8gYW55dGhpbmcgZWxzZVxuXHRlbHNlIGlmKCdodHRwcycgIT09IHNfc2NoZW1lKSB7XG5cdFx0cmV0dXJuIGJsb2NrX2FwcChnX3NlbmRlciwgYFNjaGVtZSBub3QgYWxsb3dlZCBcIiR7c19zY2hlbWV9XCJgKTtcblx0fVxuXG5cdHJldHVybiBmYWxzZTtcbn1cblxuXG4vKipcbiAqIEdlbmVyYXRlIGEgbmV3IHByaXZhdGUvc2hhcmVkIHNlY3JldCBrZXkgb2YgdGhlIHNwZWNpZmllZCBzaXplIGluIGJ5dGVzIChkZWZhdWx0cyB0byA1MTItYml0IGtleSlcbiAqL1xuZnVuY3Rpb24gZ2VuZXJhdGVfa2V5KG5iX3NpemU9NjQpOiBzdHJpbmcge1xuXHQvLyBwcmVwIHNwYWNlIGluIG1lbW9yeVxuXHRjb25zdCBhdHU4X3NlY3JldCA9IG5ldyBVaW50OEFycmF5KG5iX3NpemUpO1xuXG5cdC8vIGZpbGwgd2l0aCBjcnlwdG8gcmFuZG9tIHZhbHVlc1xuXHRjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKGF0dThfc2VjcmV0KTtcblxuXHQvLyBjb252ZXJ0IHRvIGhleCBzdHJpbmdcblx0cmV0dXJuIEFycmF5LmZyb20oYXR1OF9zZWNyZXQpLm1hcCh4ID0+IHgudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDIsICcwJykpLmpvaW4oJycpO1xufVxuXG4vKipcbiAqIG1lc3NhZ2UgaGFuZGxlcnMgZm9yIHRoZSBwdWJsaWMgdm9jYWIgZnJvbSBJQ1NcbiAqL1xuY29uc3QgSF9IQU5ETEVSU19JQ1M6IFZvY2FiLkhhbmRsZXJzQ2hyb21lPEljc1RvU2VydmljZS5QdWJsaWNWb2NhYj4gPSB7XG5cdC8vIFxuXHRwYW5pYyhnX21zZywgZ19zZW5kZXIpIHtcblx0XHQvLyBUT0RPOiBoYW5kbGVcblx0fSxcblxuXHQvLyBwYWdlIGlzIHJlcXVlc3RpbmcgYWR2ZXJ0aXNlbWVudCB2aWEgaWNzLXNwb3R0ZXJcblx0YXN5bmMgcmVxdWVzdEFkdmVydGlzZW1lbnQoZ19tc2csIGdfc2VuZGVyLCBma19yZXNwb25kKSB7XG5cdFx0Ly8gcmVmIHRhYiBpZFxuXHRcdGNvbnN0IGlfdGFiID0gZ19zZW5kZXIudGFiIS5pZCE7XG5cblx0XHQvLyB1bmtub3duIHNvdXJjZSwgc2lsZW50bHkgcmVqZWN0XG5cdFx0aWYoIWdfc2VuZGVyLnVybCkge1xuXHRcdFx0Y29uc29sZS5kZWJ1ZygnU2lsZW50bHkgaWdub3JpbmcgYWR2ZXJ0aXNlbWVudCByZXF1ZXN0IGZyb20gdW5rbm93biBzb3VyY2UnKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBwYXJzZSBzZW5kZXIgdXJsXG5cdFx0Y29uc3QgW3Nfc2NoZW1lLCBzX2hvc3RdID0gcGFyc2Vfc2VuZGVyKGdfc2VuZGVyLnVybCk7XG5cblx0XHQvLyBwcmVwIHBhZ2UgZGVzY3JpcHRvciBmb3IgcmVzdG9yZXNcblx0XHRjb25zdCBnX3BhZ2UgPSB7XG5cdFx0XHR0YWJJZDogaV90YWIsXG5cdFx0XHRocmVmOiBnX3NlbmRlci51cmwrJycsXG5cdFx0fTtcblxuY29uc29sZS5pbmZvKCdnZXQgcm9vdCBrZXknKTtcblx0XHQvLyBjaGVjayBpZiBhcHAgaXMgbG9ja2VkXG5cdFx0Y29uc3QgZGtfcm9vdCA9IGF3YWl0IFZhdWx0LmdldFJvb3RLZXkoKTtcblx0XHRpZighZGtfcm9vdCkge1xuY29uc29sZS5pbmZvKCdubyByb290IGtleScpO1xuXHRcdFx0Ly8gYXNrIHVzZXIgdG8gbG9naW5cblx0XHRcdGNvbnN0IGJfZmluaXNoZWQgPSBhd2FpdCBmbG93X2Jyb2FkY2FzdCh7XG5cdFx0XHRcdGZsb3c6IHtcblx0XHRcdFx0XHR0eXBlOiAnYXV0aGVudGljYXRlJyxcblx0XHRcdFx0XHRwYWdlOiBnX3BhZ2UsXG5cdFx0XHRcdH0sXG5cdFx0XHR9KTtcblxuY29uc29sZS5pbmZvKCdmbG93IGNvbXBsZXRlZCcpO1xuXHRcdFx0Ly8gdXNlciBjYW5jZWxsZWQ7IGRvIG5vdCBhZHZlcnRpc2Vcblx0XHRcdGlmKCFiX2ZpbmlzaGVkKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gcmV0cnlcblx0XHRcdHJldHVybiBhd2FpdCBIX0hBTkRMRVJTX0lDUy5yZXF1ZXN0QWR2ZXJ0aXNlbWVudChnX21zZywgZ19zZW5kZXIsIGZrX3Jlc3BvbmQpO1xuXHRcdH1cblxuY29uc29sZS5pbmZvKCdyb290IGtleSBleGlzdHMnKTtcblxuXHRcdC8vIGFwcCBpcyBibG9ja2VkOyBleGl0XG5cdFx0aWYoYXdhaXQgYXBwX2Jsb2NrZWQoc19zY2hlbWUsIHNfaG9zdCwgZ19zZW5kZXIpKSByZXR1cm47XG5cbmNvbnNvbGUuaW5mbygnYXBwIHBhc3NlZCBzY2hlbWUgY2hlY2snKTtcblxuXHRcdC8vIGNoZWNrIGFwcCdzIHBvbGljeSBhbmQgcmVnaXN0cmF0aW9uIHN0YXR1c1xuXHRcdHtcblx0XHRcdC8vIGxvb2t1cCBhcHAgaW4gc3RvcmVcblx0XHRcdGxldCBnX2FwcCA9IGF3YWl0IEFwcHMuZ2V0KHNfaG9zdCwgc19zY2hlbWUpO1xuXG5cdFx0XHQvLyBhcHAgcmVnaXN0cnRpb24gc3RhdGVcblx0XHRcdGxldCBiX3JlZ2lzdGVyZWQgPSBmYWxzZTtcblxuXHRcdFx0Ly8gYXBwIGlzIHJlZ2lzdGVyZWQ7IG1hcmsgaXQgc3VjaFxuXHRcdFx0aWYoZ19hcHApIHtcblx0XHRcdFx0Yl9yZWdpc3RlcmVkID0gdHJ1ZTtcblx0XHRcdH1cblx0XHRcdC8vIGFwcCBpcyBub3QgeWV0IHJlZ2lzdGVyZWQ7IGluaXRpYWxpemVcblx0XHRcdGVsc2Uge1xuXHRcdFx0XHRnX2FwcCA9IHtcblx0XHRcdFx0XHRzY2hlbWU6IHNfc2NoZW1lLFxuXHRcdFx0XHRcdGhvc3Q6IHNfaG9zdCxcblx0XHRcdFx0XHRjb25uZWN0aW9uczoge30sXG5cdFx0XHRcdH07XG5cdFx0XHR9XG5cblx0XHRcdC8vIGxvb2t1cCBwb2xpY3kgb24gYXBwXG5cdFx0XHRjb25zdCBnX3BvbGljeSA9IGF3YWl0IFBvbGljaWVzLmZvckFwcChnX2FwcCk7XG5cbmNvbnNvbGUuaW5mbygnZ290IHBvbGljeSBmb3IgYXBwICVvJywgZ19wb2xpY3kpO1xuXHRcdFx0Ly8gYSBwb2xpY3kgaW5kaWNhdGVzIHRoaXMgYXBwIGlzIGJsb2NrZWRcblx0XHRcdGlmKGdfcG9saWN5LmJsb2NrZWQpIHtcblx0XHRcdFx0cmV0dXJuIGJsb2NrX2FwcChnX3NlbmRlciwgJ0FwcCBjb25uZWN0aW9uIGJsb2NrZWQgYnkgcG9saWN5Jyk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIC8vIGFwcCBkb2VzIG5vdCBoYXZlIGFueSBjb25uZWN0aW9uc1xuXHRcdFx0Ly8gaWYoIU9iamVjdC5rZXlzKGdfYXBwLmNvbm5lY3Rpb25zKS5sZW5ndGgpIHtcblxuXHRcdFx0Ly8gYXBwIGlzIG5vdCByZWdpc3RlcmVkIGFuZCBub3QgdHJ1c3RlZDsgcmVxdWlyZXMgdXNlciBhcHByb3ZhbFxuXHRcdFx0aWYoIWJfcmVnaXN0ZXJlZCAmJiAhZ19wb2xpY3kudHJ1c3RlZCkge1xuXHRcdFx0XHQvLyByZXF1ZXN0IGFwcHJvdmFsIGZyb20gdXNlclxuXHRcdFx0XHRjb25zdCBiX2NvbmZpcm1lZCA9IGF3YWl0IGZsb3dfYnJvYWRjYXN0KHtcblx0XHRcdFx0XHRmbG93OiB7XG5cdFx0XHRcdFx0XHR0eXBlOiAncmVxdWVzdEFkdmVydGlzZW1lbnQnLFxuXHRcdFx0XHRcdFx0dmFsdWU6IHtcblx0XHRcdFx0XHRcdFx0YXBwOiBnX2FwcCxcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRwYWdlOiBnX3BhZ2UsXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0Ly8gcmV0cnkgXG5cdFx0XHRcdGlmKGJfY29uZmlybWVkKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGF3YWl0IEhfSEFORExFUlNfSUNTLnJlcXVlc3RBZHZlcnRpc2VtZW50KGdfbXNnLCBnX3NlbmRlciwgZmtfcmVzcG9uZCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBhYm9ydFxuXHRcdFx0XHRjb25zb2xlLmRlYnVnKCdVc2VyIGNhbmNlbGxlZCByZXF1ZXN0Jyk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBUT0RPOiBjb25zaWRlciB3aGF0IHdpbGwgaGFwcGVuIGlmIHByb21wdCBjbG9zZXMgYnV0IHNlcmljZSB3b3JrZXIgYmVjb21lcyBpbmFjdGl2ZVxuXG5cdFx0Ly8gdmVyYm9zZVxuXHRcdGNvbnNvbGUuZGVidWcoYEFsbG93aW5nIDwke2dfc2VuZGVyLnVybH0+IHRvIHJlY2VpdmUgYWR2ZXJ0aXNlbWVudGApO1xuXG5cdFx0Ly8gc2VjcmV0cyBmb3IgdGhpcyBzZXNzaW9uXG5cdFx0Y29uc3QgZ19zZWNyZXRzOiBTZXJ2aWNlVG9JY3MuU2Vzc2lvbktleXMgPSB7XG5cdFx0XHRzZXNzaW9uOiBnZW5lcmF0ZV9rZXkoKSxcblx0XHR9O1xuXG5cdFx0Ly8gZXhlY3V0ZSBpc29sYXRlZC13b3JsZCBjb250ZW50IHNjcmlwdCAnaG9zdCdcblx0XHR2b2lkIGNocm9tZS5zY3JpcHRpbmcuZXhlY3V0ZVNjcmlwdCh7XG5cdFx0XHR0YXJnZXQ6IHtcblx0XHRcdFx0dGFiSWQ6IGlfdGFiLFxuXHRcdFx0fSxcblx0XHRcdGZ1bmM6IEljc0hvc3QsXG5cdFx0XHRhcmdzOiBbZ19zZWNyZXRzXSxcblx0XHRcdHdvcmxkOiAnSVNPTEFURUQnLFxuXHRcdH0pO1xuXG5cdFx0Ly8gZXhlY3V0ZSBtYWluLXdvcmxkIGNvbnRlbnQgc2NyaXB0ICdyYXRpZmllcidcblx0XHR2b2lkIGNocm9tZS5zY3JpcHRpbmcuZXhlY3V0ZVNjcmlwdCh7XG5cdFx0XHR0YXJnZXQ6IHtcblx0XHRcdFx0dGFiSWQ6IGlfdGFiLFxuXHRcdFx0fSxcblx0XHRcdGZ1bmM6IE1jc1JhdGlmaWVyLFxuXHRcdFx0YXJnczogW2dfc2VjcmV0c10sXG5cdFx0XHR3b3JsZDogJ01BSU4nLFxuXHRcdH0pO1xuXG5cdFx0Ly8gcmVzcG9uZCB0byBpbnBhZ2UgY29udGVudCBzY3JpcHQgd2l0aCBzZXNzaW9uIHNlY3JldHNcblx0XHRma19yZXNwb25kKGdfc2VjcmV0cyk7XG5cdH0sXG5cblx0YXN5bmMgZmxvd0Jyb2FkY2FzdChnX3JlcSwgZ19zZW5kZXIsIGZrX3Jlc3BvbmQpIHtcblx0XHRjb25zdCB7XG5cdFx0XHRrZXk6IHNpX3JlcSxcblx0XHRcdGNvbmZpZzogZ2NfcHJvbXB0LFxuXHRcdH0gPSBnX3JlcTtcblxuXHRcdC8vIHVua25vd24gc291cmNlLCBzaWxlbnRseSByZWplY3Rcblx0XHRpZighZ19zZW5kZXIudXJsKSB7XG5cdFx0XHRjb25zb2xlLmRlYnVnKCdTaWxlbnRseSBpZ25vcmluZyBhZHZlcnRpc2VtZW50IHJlcXVlc3QgZnJvbSB1bmtub3duIHNvdXJjZScpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIHNldCB0aGUgcGFnZSBmcm9tIHdoaWNoIHRoZSBmbG93IGlzIGJlaW5nIHJlcXVlc3RlZFxuXHRcdGNvbnN0IGdfcGFnZSA9IGdjX3Byb21wdC5mbG93LnBhZ2UgPSB7XG5cdFx0XHR0YWJJZDogZ19zZW5kZXIudGFiIS5pZCEsXG5cdFx0XHRocmVmOiBnX3NlbmRlci51cmwgfHwgZ2NfcHJvbXB0LmZsb3cucGFnZT8uaHJlZiB8fCAnJyxcblx0XHR9O1xuXG5jb25zb2xlLmluZm8oJ2dldCByb290IGtleScpO1xuXHRcdC8vIGNoZWNrIGlmIGFwcCBpcyBsb2NrZWRcblx0XHRjb25zdCBka19yb290ID0gYXdhaXQgVmF1bHQuZ2V0Um9vdEtleSgpO1xuXHRcdGlmKCFka19yb290KSB7XG5jb25zb2xlLmluZm8oJ25vIHJvb3Qga2V5Jyk7XG5cdFx0XHQvLyBhc2sgdXNlciB0byBsb2dpblxuXHRcdFx0Y29uc3QgYl9maW5pc2hlZCA9IGF3YWl0IGZsb3dfYnJvYWRjYXN0KHtcblx0XHRcdFx0Zmxvdzoge1xuXHRcdFx0XHRcdHR5cGU6ICdhdXRoZW50aWNhdGUnLFxuXHRcdFx0XHRcdHBhZ2U6IGdfcGFnZSxcblx0XHRcdFx0fSxcblx0XHRcdH0pO1xuXG5jb25zb2xlLmluZm8oJ2Zsb3cgY29tcGxldGVkJyk7XG5cdFx0XHQvLyB1c2VyIGNhbmNlbGxlZDsgZG8gbm90IGNvbnRpbnVlXG5cdFx0XHRpZighYl9maW5pc2hlZCkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdC8vIHJldHJ5XG5cdFx0XHRyZXR1cm4gYXdhaXQgSF9IQU5ETEVSU19JQ1MuZmxvd0Jyb2FkY2FzdChnX3JlcSwgZ19zZW5kZXIsIGZrX3Jlc3BvbmQpO1xuXHRcdH1cblxuXHRcdC8vIHBhcnNlIHNlbmRlciB1cmxcblx0XHRjb25zdCBbc19zY2hlbWUsIHNfaG9zdF0gPSBwYXJzZV9zZW5kZXIoZ19zZW5kZXIudXJsKTtcblxuXHRcdC8vIGFwcCBpcyBibG9ja2VkOyBleGl0XG5cdFx0aWYoYXdhaXQgYXBwX2Jsb2NrZWQoc19zY2hlbWUsIHNfaG9zdCwgZ19zZW5kZXIpKSByZXR1cm47XG5cbmNvbnNvbGUuaW5mbygnYXBwIHBhc3NlZCBzY2hlbWUgY2hlY2snKTtcblxuXHRcdC8vIHByZXAgYXBwIGRlc2NyaXB0b3Jcblx0XHRjb25zdCBnX2FwcCA9IHtcblx0XHRcdHNjaGVtZTogc19zY2hlbWUsXG5cdFx0XHRob3N0OiBzX2hvc3QsXG5cdFx0XHRjb25uZWN0aW9uczoge30sXG5cdFx0fTtcblxuXHRcdGdjX3Byb21wdC5mbG93Wyd2YWx1ZSddLmFwcCA9IGdfYXBwO1xuXG5cdFx0Ly8gZm9yd2FyZCByZXF1ZXN0XG5cdFx0dm9pZCBmbG93X2Jyb2FkY2FzdChnY19wcm9tcHQsIHNpX3JlcSk7XG5cdH0sXG59O1xuXG5cbi8qKlxuICogbWVzc2FnZSBoYW5kbGVycyBmb3Igc2VydmljZSBpbnN0cnVjdGlvbnMgZnJvbSBwb3B1cFxuICovXG5jb25zdCBIX0hBTkRMRVJTX0lOU1RSVUNUSU9OUzogVm9jYWIuSGFuZGxlcnNDaHJvbWU8SW50cmFFeHQuU2VydmljZUluc3RydWN0aW9uPiA9IHtcblx0d2FrZSgpIHtcblx0XHR2b2lkIHBlcmlvZGljX2NoZWNrKCk7XG5cdH0sXG5cblx0YXN5bmMgYmFua1NlbmQoZ192YWx1ZSwgZ19zZW5kZXIsIGZrX3Jlc3BvbmQpIHtcblx0XHQvLyBhY2tcblx0XHRma19yZXNwb25kKHRydWUpO1xuXG5cdFx0Ly8gZGVyZWZlcmVuY2UgbmV0d29ya1xuXHRcdGNvbnN0IGdfbmV0d29yayA9IChhd2FpdCBOZXR3b3Jrcy5hdChnX3ZhbHVlLm5ldHdvcmspKSE7XG5cblx0XHQvLyBkZXJlZmVyZW5jZSBjaGFpblxuXHRcdGNvbnN0IGdfY2hhaW4gPSAoYXdhaXQgQ2hhaW5zLmF0KGdfbmV0d29yay5jaGFpbikpITtcblxuXHRcdC8vIGFjdGl2YXRlIG5ldHdvcmtcblx0XHRjb25zdCBrX2FjdGl2ZSA9IE5ldHdvcmtzLmFjdGl2YXRlKGdfbmV0d29yaywgZ19jaGFpbik7XG5cblx0XHQvLyBmaW5kIGFjY291bnQgdGhhdCBvd25zIGFkZHJlc3Ncblx0XHRjb25zdCBbLCBnX2FjY291bnRdID0gYXdhaXQgQWNjb3VudHMuZmluZChnX3ZhbHVlLnNlbmRlciwgZ19jaGFpbik7XG5cblx0XHQvLyBlbnN1cmUgd2Vic29ja2V0IGlzIGxpc3RlbmluZyBmb3IgdHJhbnNmZXJzXG5cdFx0YXdhaXQgYXdhaXRfdHJhbnNmZXIoYCR7Z19uZXR3b3JrLmNoYWlufVxcbiR7Z19uZXR3b3JrLnJwY0hvc3QhfVxcbmAsIGtfYWN0aXZlLCBnX2NoYWluLCBnX2FjY291bnQsIGdfdmFsdWUuc2VuZGVyLCAnU2VuZCcpO1xuXG5cdFx0Ly8gZXhlY3V0ZSB0cmFuc2ZlclxuXHRcdGNvbnN0IGdfYXR0ZW1wdCA9IGF3YWl0IGtfYWN0aXZlLmJhbmtTZW5kKFxuXHRcdFx0Z192YWx1ZS5zZW5kZXIsXG5cdFx0XHRnX3ZhbHVlLnJlY2lwaWVudCxcblx0XHRcdGdfdmFsdWUuY29pbixcblx0XHRcdEJpZ0ludChnX3ZhbHVlLmFtb3VudCksXG5cdFx0XHRCaWdJbnQoZ192YWx1ZS5saW1pdCksXG5cdFx0XHRnX3ZhbHVlLnByaWNlLFxuXHRcdFx0Z192YWx1ZS5tZW1vLFxuXHRcdFx0QnJvYWRjYXN0TW9kZS5CUk9BRENBU1RfTU9ERV9TWU5DLFxuXHRcdFx0Z19jaGFpblxuXHRcdCk7XG5cblx0XHQvLyBub3RpZmljYXRpb24gaWRcblx0XHRjb25zdCBzaV9ub3RpZmNhdGlvbiA9IGBvdXRnb2luZzoke2dfYXR0ZW1wdC5oYXNoIHx8IGNyeXB0by5yYW5kb21VVUlEKCl9YDtcblx0XHRsZXQgc190aXRsZSA9ICcnO1xuXHRcdGxldCBzX21lc3NhZ2UgPSAnJztcblxuXHRcdC8vIGVycm9yXG5cdFx0aWYoMCAhPT0gZ19hdHRlbXB0LmNvZGUpIHtcblx0XHRcdHNfdGl0bGUgPSAn4p2MIE5ldHdvcmsgcmVqZWN0ZWQgdHJhbnNhY3Rpb24nO1xuXHRcdFx0c19tZXNzYWdlID0gYEVycm9yICMke2dfYXR0ZW1wdC5jb2RlfTo6ICR7Z19hdHRlbXB0LnJhd19sb2d9YDtcblx0XHR9XG5cdFx0Ly8gbm8gdHJhbnNhY3Rpb24gaGFzaFxuXHRcdGVsc2UgaWYoIWdfYXR0ZW1wdC5oYXNoKSB7XG5cdFx0XHRzX3RpdGxlID0gJ+KaoO+4jyBOZXR3b3JrIGlzc3Vlcyc7XG5cdFx0XHRzX21lc3NhZ2UgPSAnVHJhbnNhY3Rpb24gd2FzIGFjY2VwdGVkIGJ1dCBtaWdodCBoYXZlIGdvdHRlbiBsb3N0Jztcblx0XHR9XG5cdFx0Ly8gc3VjY2Vzc1xuXHRcdGVsc2Uge1xuXHRcdFx0c190aXRsZSA9IGBUcmFuc2FjdGlvbiBzZW50IHRvIG5ldHdvcmtgO1xuXHRcdFx0c19tZXNzYWdlID0gYFdhaXRpbmcgZm9yIGNvbmZpcm1hdGlvbiBvbiAke2dfY2hhaW4ubmFtZX0uLi5gO1xuXHRcdH1cblxuXHRcdC8vIG5vdGlmeVxuXHRcdG5vdGlmeShzaV9ub3RpZmNhdGlvbiwge1xuXHRcdFx0dGl0bGU6IHNfdGl0bGUsXG5cdFx0XHRtZXNzYWdlOiBzX21lc3NhZ2UsXG5cdFx0fSk7XG5cblx0XHQvLyByZWNvcmQgcGVuZGluZyB0cmFuc2FjdGlvbiBhcyBpbmNpZGVudFxuXHRcdGF3YWl0IEluY2lkZW50cy5yZWNvcmQoZ19hdHRlbXB0Lmhhc2gsIHtcblx0XHRcdHR5cGU6ICd0eF9vdXQnLFxuXHRcdFx0dGltZTogRGF0ZS5ub3coKSxcblx0XHRcdGRhdGE6IGdfYXR0ZW1wdCxcblx0XHR9KTtcblx0fSxcbn07XG5cbi8qKlxuICogSGFuZGxlIG1lc3NhZ2VzIGZyb20gY29udGVudCBzY3JpcHRzXG4gKi9cbmNvbnN0IG1lc3NhZ2Vfcm91dGVyOiBNZXNzYWdlSGFuZGxlciA9IChnX21zZywgZ19zZW5kZXIsIGZrX3Jlc3BvbmQpID0+IHtcblx0Ly8gdmVyYm9zZVxuXHRjb25zb2xlLmRlYnVnKGBTZXJ2aWNlIHJlY2VpdmVkIG1lc3NhZ2UgJW9gLCBnX21zZyk7XG5cblx0Ly8gdmVyaWZ5IG1lc3NhZ2Ugc3RydWN0dXJlXG5cdGlmKCdvYmplY3QnID09PSB0eXBlb2YgZ19tc2cgJiYgJ3N0cmluZycgPT09IHR5cGVvZiBnX21zZy50eXBlKSB7XG5cdFx0Ly8gZGVmYXVsdCB0byBJQ1MgaGFuZGxlcnNcblx0XHRsZXQgaF9oYW5kbGVyczogVm9jYWIuSGFuZGxlcnNDaHJvbWU8SWNzVG9TZXJ2aWNlLlB1YmxpY1ZvY2FiIHwgSW50cmFFeHQuU2VydmljZUluc3RydWN0aW9uPiA9IEhfSEFORExFUlNfSUNTO1xuXG5cdFx0Ly8gbWVzc2FnZSBkb2VzIG5vdCBvcmlnaW5hdGUgZnJvbSBjb250ZW50IHNjcmlwdFxuXHRcdGlmKCFnX3NlbmRlci50YWIgfHwgJ251bWJlcicgIT09IHR5cGVvZiBnX3NlbmRlci50YWIuaWQpIHtcblx0XHRcdC8vIG1lc3NhZ2Ugb3JpZ2luYXRlcyBmcm9tIHRoaXMgZXh0ZW5zaW9uXG5cdFx0XHRpZihnX3NlbmRlci5vcmlnaW4gJiYgY2hyb21lLnJ1bnRpbWUuaWQgPT09IGdfc2VuZGVyLmlkKSB7XG5cdFx0XHRcdGhfaGFuZGxlcnMgPSBIX0hBTkRMRVJTX0lOU1RSVUNUSU9OUztcblx0XHRcdH1cblx0XHRcdC8vIHJlamVjdCB1bmtub3duIHNlbmRlcnNcblx0XHRcdGVsc2Uge1xuXHRcdFx0XHRjb25zb2xlLmVycm9yKGBSZWZ1c2luZyByZXF1ZXN0IGZyb20gdW5rbm93biBzZW5kZXJgKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIHJlZiBtZXNzYWdlIHR5cGVcblx0XHRjb25zdCBzaV90eXBlID0gZ19tc2cudHlwZTtcblxuXHRcdC8vIGxvb2t1cCBoYW5kbGVyXG5cdFx0Y29uc3QgZl9oYW5kbGVyID0gaF9oYW5kbGVyc1tzaV90eXBlXTtcblxuXHRcdC8vIHJvdXRlIG1lc3NhZ2UgdG8gaGFuZGxlclxuXHRcdGlmKGZfaGFuZGxlcikge1xuXHRcdFx0Y29uc3Qgel9yZXNwb25zZSA9IGZfaGFuZGxlcihnX21zZy52YWx1ZSwgZ19zZW5kZXIsIGZrX3Jlc3BvbmQpO1xuXG5cdFx0XHQvLyBhc3luYyBoYW5kbGVyXG5cdFx0XHRpZih6X3Jlc3BvbnNlICYmICdmdW5jdGlvbicgPT09IHR5cGVvZiB6X3Jlc3BvbnNlWyd0aGVuJ10pIHtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59XG5cbi8vIGJpbmQgbWVzc2FnZSByb3V0ZXIgbGlzdGVuZXJcbmNocm9tZS5ydW50aW1lLm9uTWVzc2FnZS5hZGRMaXN0ZW5lcihtZXNzYWdlX3JvdXRlcik7XG5cblxuY2hyb21lLnJ1bnRpbWUub25JbnN0YWxsZWQuYWRkTGlzdGVuZXIoYXN5bmMoKSA9PiB7XG5cdC8vIC8vIHVwb24gZmlyc3QgaW5zdGFsbCwgd2FsayB0aGUgdXNlciB0aHJvdWdoIHNldHVwXG5cdC8vIGF3YWl0IGZsb3dfYnJvYWRjYXN0KHtcblx0Ly8gXHRmbG93OiB7XG5cdC8vIFx0XHR0eXBlOiAnYXV0aGVudGljYXRlJyxcblx0Ly8gXHRcdHBhZ2U6IG51bGwsXG5cdC8vIFx0fSxcblx0Ly8gfSk7XG5cblx0Ly8gYXdhaXQgY2hyb21lLnN0b3JhZ2Uuc2Vzc2lvbi5zZXRBY2Nlc3NMZXZlbCh7XG5cdC8vIFx0YWNjZXNzTGV2ZWw6IGNocm9tZS5zdG9yYWdlLkFjY2Vzc0xldmVsLlRSVVNURURfQU5EX1VOVFJVU1RFRF9DT05URVhUUyxcblx0Ly8gfSk7XG5cblx0Ly8gY29uc29sZS5sb2coJ29rJyk7XG5cblx0Ly8gY29uc3QgZF9zY3JpcHRpbmcgPSBjaHJvbWUuc2NyaXB0aW5nIGFzIGJyb3dzZXIuU2NyaXB0aW5nLlN0YXRpYztcblxuXG5cdC8vIGNvbnN0IGdfd2FrZXIgPSBIX0NPTlRFTlRfU0NSSVBUX0RFRlMuaW5wYWdlX3dha2VyKCk7XG5cblx0Ly8gYXdhaXQgZF9zY3JpcHRpbmcucmVnaXN0ZXJDb250ZW50U2NyaXB0cyhbXG5cdC8vIFx0e1xuXHQvLyBcdFx0Li4uZ193YWtlcixcblx0Ly8gXHRcdC8vIGpzOiBbXG5cdC8vIFx0XHQvLyBcdCdzMnIuc2lnbmluZy5rZXkjYWU0MjYxYycsXG5cdC8vIFx0XHQvLyBcdC4uLmdfd2FrZXIuanMsXG5cdC8vIFx0XHQvLyBdLFxuXHQvLyBcdH0sXG5cdC8vIF0pO1xuXG5cdC8vIGNvbnN0IGFfc2NyaXB0cyA9IGF3YWl0IGRfc2NyaXB0aW5nLmdldFJlZ2lzdGVyZWRDb250ZW50U2NyaXB0cygpO1xuXHQvLyBmb3IoY29uc3QgZ19zY3JpcHQgb2YgYV9zY3JpcHRzKSB7XG5cdC8vIFx0Y29uc29sZS5sb2coZ19zY3JpcHQpO1xuXHQvLyB9XG5cbn0pO1xuXG50eXBlIE5vdGlmaWNhdGlvbiA9IHtcblx0dHlwZTogJ2JhbGFuY2UnO1xuXHRjaGFpbjogQ2hhaW5bJ2ludGVyZmFjZSddO1xuXHRjb2luOiBzdHJpbmc7XG5cdGNhY2hlZDogQ29pbiB8IG51bGw7XG5cdGJhbGFuY2U6IENvaW47XG59O1xuXG5jaHJvbWUuYWxhcm1zLmNsZWFyQWxsKCgpID0+IHtcblx0Y29uc29sZS53YXJuKCdjbGVhciBhbGwnKTtcblxuXHRjaHJvbWUuYWxhcm1zLmNyZWF0ZSgncGVyaW9kaWNDaGFpblF1ZXJpZXMnLCB7XG5cdFx0cGVyaW9kSW5NaW51dGVzOiAyLFxuXHR9KTtcblxuXHRjaHJvbWUuYWxhcm1zLm9uQWxhcm0uYWRkTGlzdGVuZXIoKGdfYWxhcm0pID0+IHtcblx0XHRzd2l0Y2goZ19hbGFybS5uYW1lKSB7XG5cdFx0XHRjYXNlICdwZXJpb2RpY0NoYWluUXVlcmllcyc6IHtcblx0XHRcdFx0dm9pZCBwZXJpb2RpY19jaGVjaygpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblxuXHRcdFx0ZGVmYXVsdDoge1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHR9XG5cdH0pO1xuXG5cdHZvaWQgcGVyaW9kaWNfY2hlY2soKTtcbn0pO1xuXG5sZXQgYl9hbGl2ZSA9IGZhbHNlO1xuY29uc3QgaF9zb2NrZXRzOiBEaWN0PFZvaWRGdW5jdGlvbj4gPSB7fTtcblxuY29uc3QgYXV0b19oZWFsID0gKCkgPT4gc2V0VGltZW91dCgoKSA9PiB7XG5cdGJfYWxpdmUgPSBmYWxzZTtcblx0dm9pZCBwZXJpb2RpY19jaGVjaygpO1xufSwgMzAqWFRfTUlOVVRFUyk7XG5cbmxldCBpX2F1dG9faGVhbCA9IGF1dG9faGVhbCgpO1xuXG5pbnRlcmZhY2UgTm90aWZ5Q29uZmlnIHtcblx0dGl0bGU6IHN0cmluZztcblx0bWVzc2FnZTogc3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgTWV0YU5vdGlmeUNvbmZpZyB7XG5cdGluY2lkZW50PzogSW5jaWRlbnRQYXRoO1xufVxuXG5pbnRlcmZhY2UgTWV0YUhhbmRsZXIge1xuXHRjbGljaz86IFZvaWRGdW5jdGlvbjtcbn1cblxuY29uc3QgaF9tZXRhX25vdGlmaWNhdGlvbnMgPSB7fTtcblxuY2hyb21lLm5vdGlmaWNhdGlvbnMub25DbGlja2VkLmFkZExpc3RlbmVyKChzaV9ub3RpZikgPT4ge1xuXHRjb25zdCBnX21ldGEgPSBoX21ldGFfbm90aWZpY2F0aW9uc1tzaV9ub3RpZl07XG5cblx0aWYoZ19tZXRhPy5jbGljaykge1xuXHRcdGdfbWV0YS5jbGljaygpO1xuXHR9XG59KTtcblxuZnVuY3Rpb24gbm90aWZ5KHNpX25vdGlmOiBzdHJpbmcsIGdjX25vdGlmeTogTm90aWZ5Q29uZmlnKSB7XG5cdGNocm9tZS5ub3RpZmljYXRpb25zLmNyZWF0ZShzaV9ub3RpZiwge1xuXHRcdHR5cGU6ICdiYXNpYycsXG5cdFx0cHJpb3JpdHk6IDEsXG5cdFx0aWNvblVybDogJy9tZWRpYS92ZW5kb3IvbG9nby0xOTJweC5wbmcnLFxuXHRcdGlzQ2xpY2thYmxlOiB0cnVlLFxuXHRcdGV2ZW50VGltZTogRGF0ZS5ub3coKSxcblx0XHQuLi5nY19ub3RpZnksXG5cdH0pO1xufVxuXG5mdW5jdGlvbiBub3RpZnlfaW5jaWRlbnRfdHgoc2lfbm90aWY6IHN0cmluZywgZ2Nfbm90aWZ5OiBOb3RpZnlDb25maWcsIGdjX21ldGE6IE1ldGFOb3RpZnlDb25maWc9e30pIHtcblx0aWYoZ2NfbWV0YSkge1xuXHRcdGNvbnN0IGdfbWV0YTogTWV0YUhhbmRsZXIgPSB7fTtcblxuXHRcdGlmKGdjX21ldGEuaW5jaWRlbnQpIHtcblx0XHRcdGdfbWV0YS5jbGljayA9ICgpID0+IHtcblx0XHRcdFx0dm9pZCBmbG93X2Jyb2FkY2FzdCh7XG5cdFx0XHRcdFx0Zmxvdzoge1xuXHRcdFx0XHRcdFx0dHlwZTogJ2luc3BlY3RJbmNpZGVudCcsXG5cdFx0XHRcdFx0XHRwYWdlOiBudWxsLFxuXHRcdFx0XHRcdFx0dmFsdWU6IHtcblx0XHRcdFx0XHRcdFx0aW5jaWRlbnQ6IGdjX21ldGEuaW5jaWRlbnQhLFxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHR9KTtcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0aF9tZXRhX25vdGlmaWNhdGlvbnNbc2lfbm90aWZdID0gZ19tZXRhO1xuXHR9XG5cblx0cmV0dXJuIG5vdGlmeShzaV9ub3RpZiwgZ2Nfbm90aWZ5KTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gYXdhaXRfdHJhbnNmZXIoXG5cdHNpX3NvY2tldF9ncm91cDogc3RyaW5nLFxuXHRrX25ldHdvcms6IEFjdGl2ZU5ldHdvcmssXG5cdGdfY2hhaW46IENoYWluWydpbnRlcmZhY2UnXSxcblx0Z19hY2NvdW50OiBBY2NvdW50WydpbnRlcmZhY2UnXSxcblx0c2Ffb3duZXI6IEJlY2gzMi5TdHJpbmcsXG5cdHNpX3R5cGU6ICdSZWNlaXZlJyB8ICdTZW5kJ1xuKTogUHJvbWlzZTxWb2lkRnVuY3Rpb24+IHtcblx0Y29uc3Qgc2lfc29ja2V0ID0gc2lfc29ja2V0X2dyb3VwKyc6JytzaV90eXBlO1xuXG5cdGNvbnN0IHBfY2hhaW4gPSBDaGFpbnMucGF0aEZyb20oZ19jaGFpbik7XG5cblx0Ly8gc29ja2V0IGFscmVhZHkgZXhpc3RzLCBhdHRlbXB0IHRvIGNsb3NlIGl0XG5cdGlmKGhfc29ja2V0c1tzaV9zb2NrZXRdKSB7XG5cdFx0dHJ5IHtcblx0XHRcdGhfc29ja2V0c1tzaV9zb2NrZXRdKCk7XG5cdFx0fVxuXHRcdGNhdGNoKGVfY2xvc2UpIHt9XG5cdH1cblxuXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWxvb3AtZnVuY1xuXHRyZXR1cm4gaF9zb2NrZXRzW3NpX3NvY2tldF0gPSBhd2FpdCAoa19uZXR3b3JrW2BvbiR7c2lfdHlwZX1gXSkoc2Ffb3duZXIsIGFzeW5jKGRfa2lsbCwgZ190eCkgPT4ge1xuXHRcdGlmKGRfa2lsbCkge1xuXHRcdFx0ZGVsZXRlIGhfc29ja2V0c1tzaV9zb2NrZXRdO1xuXHRcdFx0Y29uc29sZS5lcnJvcihkX2tpbGwpO1xuXHRcdFx0Ly8gc3lzZXJyKHtcblx0XHRcdC8vIFx0dGV4dDogZF9raWxsLixcblx0XHRcdC8vIH0pO1xuXHRcdH1cblx0XHRlbHNlIGlmKGdfdHgpIHtcblx0XHRcdGNvbnN0IGFfbG9ncyA9IEpTT04ucGFyc2UoZ190eC5yZXN1bHQ/LmxvZyB8fCAnW10nKTtcblx0XHRcdGlmKGFfbG9ncz8ubGVuZ3RoKSB7XG5cdFx0XHRcdGZvcihjb25zdCBnX2V2ZW50IG9mIGFfbG9nc1swXS5ldmVudHMpIHtcblx0XHRcdFx0XHRpZigndHJhbnNmZXInID09PSBnX2V2ZW50LnR5cGUpIHtcblx0XHRcdFx0XHRcdGNvbnN0IGdfdHJhbnNmZXIgPSBmb2xkX2F0dHJzKGdfZXZlbnQgYXMgVHlwZWRFdmVudCk7XG5cblx0XHRcdFx0XHRcdC8vIGRlZmF1bHQgcmVjZWl2ZSBzdHJpbmdcblx0XHRcdFx0XHRcdGxldCBzX3BheWxvYWQgPSBnX3RyYW5zZmVyLmFtb3VudDtcblxuXHRcdFx0XHRcdFx0Ly8gYXR0ZW1wdCB0byBwYXJzZSBhbW91bnRcblx0XHRcdFx0XHRcdGxldCBzaV9jb2luID0gJyc7XG5cdFx0XHRcdFx0XHRsZXQgZ19jb2luOiBOYXRpdmVDb2luO1xuXHRcdFx0XHRcdFx0Y29uc3QgbV9hbW91bnQgPSBSX1RSQU5TRkVSX0FNT1VOVC5leGVjKGdfdHJhbnNmZXIuYW1vdW50KTtcblx0XHRcdFx0XHRcdGlmKCFtX2Ftb3VudCkge1xuXHRcdFx0XHRcdFx0XHRzeXN3YXJuKHtcblx0XHRcdFx0XHRcdFx0XHR0ZXh0OiBgRmFpbGVkIHRvIHBhcnNlIHRyYW5zZmVyIGFtb3VudCBcIiR7Z190cmFuc2Zlci5hbW91bnR9XCJgLFxuXHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGVsc2Uge1xuXHRcdFx0XHRcdFx0XHQvLyBkZXN0cnVjdHVyZSBpbnRvIGFtb3VudCBhbmQgZGVub21cblx0XHRcdFx0XHRcdFx0Y29uc3QgWywgc19hbW91bnQsIHNpX2Rlbm9tXSA9IG1fYW1vdW50O1xuXG5cdFx0XHRcdFx0XHRcdC8vIGxvY2F0ZSBjb2luXG5cdFx0XHRcdFx0XHRcdGZvcihjb25zdCBbc2lfY29pbl90ZXN0LCBnX2NvaW5fdGVzdF0gb2Ygb2RlKGdfY2hhaW4uY29pbnMpKSB7XG5cdFx0XHRcdFx0XHRcdFx0aWYoc2lfZGVub20gPT09IGdfY29pbl90ZXN0LmRlbm9tKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRjb25zdCB4X2Ftb3VudCA9IG5ldyBCaWdOdW1iZXIoc19hbW91bnQpLnNoaWZ0ZWRCeSgtZ19jb2luX3Rlc3QuZGVjaW1hbHMpLnRvTnVtYmVyKCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRzX3BheWxvYWQgPSBgJHtmb3JtYXRfYW1vdW50KHhfYW1vdW50LCB0cnVlKX0gJHtzaV9jb2luX3Rlc3R9YDtcblx0XHRcdFx0XHRcdFx0XHRcdHNpX2NvaW4gPSBzaV9jb2luX3Rlc3Q7XG5cdFx0XHRcdFx0XHRcdFx0XHRnX2NvaW4gPSBnX2NvaW5fdGVzdDtcblx0XHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRsZXQgc19vdGhlciA9IGdfdHJhbnNmZXIuc2VuZGVyO1xuXHRcdFx0XHRcdFx0Y29uc3QgcF9jb250YWN0ID0gQWdlbnRzLnBhdGhGb3JDb250YWN0KHNfb3RoZXIsIGdfY2hhaW4uZmFtaWx5KTtcblx0XHRcdFx0XHRcdGNvbnN0IGdfY29udGFjdCA9IGF3YWl0IEFnZW50cy5nZXRDb250YWN0KHBfY29udGFjdCk7XG5cdFx0XHRcdFx0XHRpZihnX2NvbnRhY3QpIHtcblx0XHRcdFx0XHRcdFx0c19vdGhlciA9IGdfY29udGFjdC5uYW1lO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0ZWxzZSB7XG5cdFx0XHRcdFx0XHRcdHNfb3RoZXIgPSBhYmJyZXZpYXRlX2FkZHIoc19vdGhlcik7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdC8vIHJlZiB0cmFuc2FjdGlvbiBpZFxuXHRcdFx0XHRcdFx0Y29uc3Qgc2lfdHhuID0gZ190eC5oYXNoO1xuXG5cdFx0XHRcdFx0XHQvLyBoYXNoIHR4IHRvIGNyZWF0ZSBub3RpZmljYXRpb24gaWRcblx0XHRcdFx0XHRcdGNvbnN0IHNpX25vdGlmID0gKCdTZW5kJyA9PT0gc2lfdHlwZT8gJ291dGdvaW5nJzogJ2luY29taW5nJykrJzonK3NpX3R4bjtcblxuXHRcdFx0XHRcdFx0Ly8gbm90aWZ5XG5cdFx0XHRcdFx0XHRpZignUmVjZWl2ZScgPT09IHNpX3R5cGUpIHtcblx0XHRcdFx0XHRcdFx0bm90aWZ5X2luY2lkZW50X3R4KHNpX25vdGlmLCB7XG5cdFx0XHRcdFx0XHRcdFx0dGl0bGU6IGDwn5K4IFJlY2VpdmVkICR7c19wYXlsb2FkfSBvbiAke2dfY2hhaW4ubmFtZX1gLFxuXHRcdFx0XHRcdFx0XHRcdG1lc3NhZ2U6IGAke3Nfb3RoZXJ9IHNlbnQgJHtzX3BheWxvYWR9IHRvIHlvdXIgJHtnX2FjY291bnQubmFtZX0gYWNjb3VudGAsXG5cdFx0XHRcdFx0XHRcdH0sIHtcblx0XHRcdFx0XHRcdFx0XHRpbmNpZGVudDogSW5jaWRlbnRzLnBhdGhGb3IoJ3R4X2luJywgc2lfdHhuKSxcblx0XHRcdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHRcdFx0Ly8gZG93bmxvYWQgcmVjZWl2ZSB0eG5cblx0XHRcdFx0XHRcdFx0Y29uc3QgZ19kb3dubG9hZCA9IGF3YWl0IGtfbmV0d29yay5kb3dubG9hZFR4bihzaV90eG4pO1xuXG5cdFx0XHRcdFx0XHRcdC8vIHJlY29yZCBpbmNpZGVudFxuXHRcdFx0XHRcdFx0XHRhd2FpdCBJbmNpZGVudHMucmVjb3JkKHNpX3R4biwge1xuXHRcdFx0XHRcdFx0XHRcdHR5cGU6ICd0eF9pbicsXG5cdFx0XHRcdFx0XHRcdFx0dGltZTogbmV3IERhdGUoZ19kb3dubG9hZC50aW1lc3RhbXApLmdldFRpbWUoKSxcblx0XHRcdFx0XHRcdFx0XHRkYXRhOiBnX2Rvd25sb2FkLFxuXHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGVsc2UgaWYoJ1NlbmQnID09PSBzaV90eXBlKSB7XG5cdFx0XHRcdFx0XHRcdG5vdGlmeV9pbmNpZGVudF90eChzaV9ub3RpZiwge1xuXHRcdFx0XHRcdFx0XHRcdHRpdGxlOiBg4pyFIFNlbnQgJHtzX3BheWxvYWR9IG9uICR7Z19jaGFpbi5uYW1lfWAsXG5cdFx0XHRcdFx0XHRcdFx0bWVzc2FnZTogYCR7c19wYXlsb2FkfSBzZW50IHRvICR7c19vdGhlcn0gZnJvbSAke2dfYWNjb3VudC5uYW1lfSBhY2NvdW50YCxcblx0XHRcdFx0XHRcdFx0fSwge1xuXHRcdFx0XHRcdFx0XHRcdGluY2lkZW50OiBJbmNpZGVudHMucGF0aEZvcigndHhfb3V0Jywgc2lfdHhuKSxcblx0XHRcdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHRcdFx0Ly8gZG93bmxvYWQgc2VuZCB0eG5cblx0XHRcdFx0XHRcdFx0Y29uc3QgZ19kb3dubG9hZCA9IGF3YWl0IGtfbmV0d29yay5kb3dubG9hZFR4bihzaV90eG4pO1xuXG5cdFx0XHRcdFx0XHRcdC8vIHJlY29yZCBpbmNpZGVudFxuXHRcdFx0XHRcdFx0XHRhd2FpdCBJbmNpZGVudHMucmVjb3JkKHNpX3R4biwge1xuXHRcdFx0XHRcdFx0XHRcdHR5cGU6ICd0eF9vdXQnLFxuXHRcdFx0XHRcdFx0XHRcdHRpbWU6IG5ldyBEYXRlKGdfZG93bmxvYWQudGltZXN0YW1wKS5nZXRUaW1lKCksXG5cdFx0XHRcdFx0XHRcdFx0ZGF0YTogZ19kb3dubG9hZCxcblx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9KTtcbn1cblxuY29uc3QgWFRfSU5URVJWQUxfSEVBUlRCRUFUID0gMWUzO1xubGV0IGlfaGVhcnRiZWF0ID0gMDtcbmxldCB4dF9sYXN0X2hlYXJiZWF0ID0gMDtcbmZ1bmN0aW9uIGhlYXJ0YmVhdCgpIHtcblx0Ly8gaW50ZXJ2YWwgaXMgZGVhZFxuXHRpZihEYXRlLm5vdygpIC0geHRfbGFzdF9oZWFyYmVhdCA+IFhUX0lOVEVSVkFMX0hFQVJUQkVBVCAqIDEuNSkge1xuXHRcdC8vIGNsZWFyIHByZXZpb3VzIGludGVydmFsIChpZiBhbnkpXG5cdFx0Z2xvYmFsVGhpcy5jbGVhckludGVydmFsKGlfaGVhcnRiZWF0KTtcblxuXHRcdC8vIHJlY3JlYXRlIGludGVydmFsXG5cdFx0aV9oZWFydGJlYXQgPSAoZ2xvYmFsVGhpcyBhcyB0eXBlb2Ygd2luZG93KS5zZXRJbnRlcnZhbCgoKSA9PiB7XG5cdFx0XHQvLyBicm9hZGNhc3Qgc2VydmljZSBoZWFydGJlYXRcblx0XHRcdGdsb2JhbF9icm9hZGNhc3Qoe1xuXHRcdFx0XHR0eXBlOiAnaGVhcnRiZWF0Jyxcblx0XHRcdH0pO1xuXG5cdFx0XHQvLyB1cGRhdGUgbGFzdCBoZWFydGJlYXQgbWFya2VyXG5cdFx0XHR4dF9sYXN0X2hlYXJiZWF0ID0gRGF0ZS5ub3coKTtcblx0XHR9LCBYVF9JTlRFUlZBTF9IRUFSVEJFQVQpO1xuXHR9XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHBlcmlvZGljX2NoZWNrKGJfaW5pdD1mYWxzZSkge1xuXHQvLyBlbnN1cmUgaGVhcnRiZWF0IGlzIGFsaXZlXG5cdGhlYXJ0YmVhdCgpO1xuXG5cdC8vIGZldGNoIGxhdGVzdCBkZWNyZWVzXG5cdGF3YWl0IFdlYlJlc291cmNlQ2FjaGUudXBkYXRlQWxsKCk7XG5cblx0Ly8gbm90IHNpZ25lZCBpbjsgZXhpdFxuXHRpZighYXdhaXQgVmF1bHQuZ2V0Um9vdEtleSgpKSByZXR1cm47XG5cblx0Ly8gc2VydmljZSBpcyBhbHJlYWR5IGFsaXZlOyBleGl0XG5cdGlmKGJfYWxpdmUpIHJldHVybjtcblxuXHQvLyBzZXJ2aWNlIGlzIG5vdyBhbGl2ZVxuXHRiX2FsaXZlID0gdHJ1ZTtcblxuXHQvLyByZXNldCBhdXRvIGhlYWwgdGltZW91dFxuXHRjbGVhclRpbWVvdXQoaV9hdXRvX2hlYWwpO1xuXG5cdC8vIHJlYWQgZnJvbSBzdG9yZXNcblx0Y29uc3QgW1xuXHRcdGtzX2FjY291bnRzLFxuXHRcdGtzX2NoYWlucyxcblx0XHRrc19uZXR3b3Jrcyxcblx0XSA9IGF3YWl0IFByb21pc2UuYWxsKFtcblx0XHRBY2NvdW50cy5yZWFkKCksXG5cdFx0Q2hhaW5zLnJlYWQoKSxcblx0XHROZXR3b3Jrcy5yZWFkKCksXG5cdF0pO1xuXG5cdC8vIHByZXAgbmV0d29yayA9PiBjaGFpbiBtYXBcblx0Y29uc3QgaF9uZXR3b3JrczogUmVjb3JkPENoYWluUGF0aCwgTmV0d29ya1snaW50ZXJmYWNlJ10+ID0ge307XG5cdGZvcihjb25zdCBbcF9uZXR3b3JrLCBnX25ldHdvcmtdIG9mIGtzX25ldHdvcmtzLmVudHJpZXMoKSkge1xuXHRcdGhfbmV0d29ya3NbZ19uZXR3b3JrLmNoYWluXSA9IGhfbmV0d29ya3NbZ19uZXR3b3JrLmNoYWluXSB8fCBnX25ldHdvcms7XG5cdH1cblxuXG5cdC8vIGVhY2ggY2hhaW4gdy8gaXRzIGRlZmF1bHQgcHJvdmlkZXJcblx0Zm9yKGNvbnN0IFtwX2NoYWluLCBnX25ldHdvcmtdIG9mIG9kZShoX25ldHdvcmtzKSkge1xuXHRcdC8vIHNraXAgYnJva2VuIGNvc21vc1xuXHRcdGlmKHBfY2hhaW4gPT09ICcvZmFtaWx5LmNvc21vcy9jaGFpbi50aGV0YS10ZXN0bmV0LTAwMScpIGNvbnRpbnVlO1xuXG5cdFx0Ly8gYWxyZWFkeSBsaXN0ZW5pbmdcblx0XHRpZihoX3NvY2tldHNbcF9jaGFpbl0pIGNvbnRpbnVlO1xuXG5cdFx0Ly8gcmVmIGNoYWluXG5cdFx0Y29uc3QgZ19jaGFpbiA9IGtzX2NoYWlucy5hdChwX2NoYWluKSE7XG5cblx0XHQvLyBjcmVhdGUgbmV0d29ya1xuXHRcdGNvbnN0IHBfbmV0d29yayA9IE5ldHdvcmtzLnBhdGhGcm9tKGdfbmV0d29yayk7XG5cdFx0Y29uc3Qga19uZXR3b3JrID0gTmV0d29ya3MuYWN0aXZhdGUoZ19uZXR3b3JrLCBnX2NoYWluKTtcblxuXHRcdC8vIGxpc3RlbiBmb3IgbmV3IGJsb2Nrc1xuXHRcdGNvbnN0IGFfcmVjZW50czogbnVtYmVyW10gPSBbXTtcblx0XHR0cnkge1xuXHRcdFx0aF9zb2NrZXRzW3BfY2hhaW5dID0gYXdhaXQga19uZXR3b3JrLmxpc3RlbihbXG5cdFx0XHRcdGB0bS5ldmVudD0nTmV3QmxvY2snYCxcblx0XHRcdF0sIChkX2tpbGwsIGdfdmFsdWUpID0+IHtcblx0XHRcdFx0aWYoZF9raWxsKSB7XG5cdFx0XHRcdFx0ZGVsZXRlIGhfc29ja2V0c1twX2NoYWluXTtcblx0XHRcdFx0fVxuXHRcdFx0XHRlbHNlIGlmKGdfdmFsdWUpIHtcblx0XHRcdFx0XHRhX3JlY2VudHMucHVzaChEYXRlLm5vdygpKTtcblxuXHRcdFx0XHRcdGNvbnN0IGdfYmxvY2sgPSBnX3ZhbHVlLmJsb2NrIGFzIHtcblx0XHRcdFx0XHRcdGhlYWRlcjogQmxvY2tJbmZvSGVhZGVyO1xuXHRcdFx0XHRcdFx0ZGF0YToge1xuXHRcdFx0XHRcdFx0XHR0eHM6IFtdO1xuXHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHR9O1xuXG5cdFx0XHRcdFx0d2hpbGUoYV9yZWNlbnRzLmxlbmd0aCA+IDE2KSB7XG5cdFx0XHRcdFx0XHRhX3JlY2VudHMuc2hpZnQoKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRnbG9iYWxfYnJvYWRjYXN0KHtcblx0XHRcdFx0XHRcdHR5cGU6ICdibG9ja0luZm8nLFxuXHRcdFx0XHRcdFx0dmFsdWU6IHtcblx0XHRcdFx0XHRcdFx0aGVhZGVyOiBnX2Jsb2NrLmhlYWRlcixcblx0XHRcdFx0XHRcdFx0Y2hhaW46IHBfY2hhaW4sXG5cdFx0XHRcdFx0XHRcdG5ldHdvcms6IHBfbmV0d29yayxcblx0XHRcdFx0XHRcdFx0cmVjZW50czogYV9yZWNlbnRzLFxuXHRcdFx0XHRcdFx0XHR0eENvdW50OiBnX2Jsb2NrLmRhdGEudHhzLmxlbmd0aCxcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXG5cdFx0XHRjb25zb2xlLmluZm8oe1xuXHRcdFx0XHRoX3NvY2tldHMsXG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0Y2F0Y2goZV9saXN0ZW4pIHtcblx0XHRcdHN5c2Vycih7XG5cdFx0XHRcdHRpdGxlOiAnV2Vic29ja2V0IEVycm9yJyxcblx0XHRcdFx0ZXJyb3I6IGVfbGlzdGVuLFxuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0Ly8gZWFjaCBhY2NvdW50XG5cdFx0Zm9yKGNvbnN0IFtwX2FjY291bnQsIGdfYWNjb3VudF0gb2Yga3NfYWNjb3VudHMuZW50cmllcygpKSB7XG5cdFx0XHRjb25zdCBzYV9vd25lciA9IENoYWlucy5hZGRyZXNzRm9yKGdfYWNjb3VudC5wdWJrZXksIGdfY2hhaW4pO1xuXG5cdFx0XHRpZihrX25ldHdvcmsuaGFzUnBjKSB7XG5cdFx0XHRcdGNvbnN0IHNpX3NvY2tldF9ncm91cCA9IHBfY2hhaW4rJ1xcbicrZ19uZXR3b3JrLnJwY0hvc3QhKydcXG4nO1xuXG5cdFx0XHRcdC8vIHN1YnNjcmliZSB0byB3ZWJzb2NrZXQgZXZlbnRzXG5cdFx0XHRcdGxldCBmX2Nsb3NlID0gaF9zb2NrZXRzW3NpX3NvY2tldF9ncm91cF07XG5cdFx0XHRcdGlmKCFmX2Nsb3NlKSB7XG5cdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdGF3YWl0IFByb21pc2UuYWxsKFtcblx0XHRcdFx0XHRcdFx0YXdhaXRfdHJhbnNmZXIoc2lfc29ja2V0X2dyb3VwLCBrX25ldHdvcmssIGdfY2hhaW4sIGdfYWNjb3VudCwgc2Ffb3duZXIsICdSZWNlaXZlJyksXG5cdFx0XHRcdFx0XHRcdGF3YWl0X3RyYW5zZmVyKHNpX3NvY2tldF9ncm91cCwga19uZXR3b3JrLCBnX2NoYWluLCBnX2FjY291bnQsIHNhX293bmVyLCAnU2VuZCcpLFxuXHRcdFx0XHRcdFx0XSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGNhdGNoKGVfcmVjZWl2ZSkge1xuXHRcdFx0XHRcdFx0c3lzZXJyKHtcblx0XHRcdFx0XHRcdFx0dGl0bGU6ICdQcm92aWRlciBFcnJvcicsXG5cdFx0XHRcdFx0XHRcdGVycm9yOiBlX3JlY2VpdmUsXG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb25zdCBhX2luY29taW5nOiBJbmNpZGVudC5TdHJ1Y3Q8J3R4X2luJz5bXSA9IFtdO1xuXHRcdFx0XHRjb25zdCBhX291dGdvaW5nOiBJbmNpZGVudC5TdHJ1Y3Q8J3R4X291dCc+W10gPSBbXTtcblxuXHRcdFx0XHQvLyBjb25kdWN0IGFjY291bnQgc3luY1xuXHRcdFx0XHRmb3IgYXdhaXQoY29uc3QgZ19pbmNpZGVudCBvZiBrX25ldHdvcmsuc3luY2hyb25pemVBbGwoc2Ffb3duZXIpKSB7XG5cdFx0XHRcdFx0aWYoJ3R4X2luJyA9PT0gZ19pbmNpZGVudC50eXBlKSB7XG5cdFx0XHRcdFx0XHRhX2luY29taW5nLnB1c2goZ19pbmNpZGVudCBhcyBJbmNpZGVudC5TdHJ1Y3Q8J3R4X2luJz4pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRlbHNlIGlmKCd0eF9vdXQnID09PSBnX2luY2lkZW50LnR5cGUpIHtcblx0XHRcdFx0XHRcdGFfb3V0Z29pbmcucHVzaChnX2luY2lkZW50IGFzIEluY2lkZW50LlN0cnVjdDwndHhfb3V0Jz4pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cblx0XHRcdFx0Y29uc3Qgbmxfb3V0Z29pbmcgPSBhX291dGdvaW5nLmxlbmd0aDtcblx0XHRcdFx0Y29uc3QgbmxfaW5jb21pbmcgPSBhX2luY29taW5nLmxlbmd0aDtcblxuXHRcdFx0XHQvLyBvdXRnb2luZyB0eHMgc3luY2VkXG5cdFx0XHRcdGlmKG5sX291dGdvaW5nID49IDEpIHtcblx0XHRcdFx0XHQvLyBvbmx5IGEgZmV3IGluY2lkZW50c1xuXHRcdFx0XHRcdGlmKG5sX291dGdvaW5nIDw9IDApIHtcblx0XHRcdFx0XHRcdC8vIHJlZiBpbmNpZGVudFxuXHRcdFx0XHRcdFx0Zm9yKGNvbnN0IGdfaW5jaWRlbnQgb2YgYV9vdXRnb2luZykge1xuXHRcdFx0XHRcdFx0XHQvLyBoYXNoIHR4IHRvIGNyZWF0ZSBub3RpZmljYXRpb24gaWRcblx0XHRcdFx0XHRcdFx0Ly8gY29uc3Qgc2lfbm90aWYgPSBgb3V0Z29pbmc6JHtzaV90eG59YDtcblxuXHRcdFx0XHRcdFx0XHQvLyBjcmVhdGUgbm90aWZpY2F0aW9uXG5cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Ly8gbWFueSBpbmNpZGVudHNcblx0XHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHRcdG5vdGlmeShjcnlwdG8ucmFuZG9tVVVJRCgpLCB7XG5cdFx0XHRcdFx0XHRcdHRpdGxlOiBg4pyFIFNlbnQgJHsxID09PSBubF9vdXRnb2luZz8gJ2EgdHJhbnNmZXInOiBgJHtubF9pbmNvbWluZ30gdHJhbnNmZXJzYH1gLFxuXHRcdFx0XHRcdFx0XHRtZXNzYWdlOiAnV2hpbGUgeW91IHdlcmUgYXdheS4uLicsXG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBpbmNvbWluZyB0eHMgc3luY2VkXG5cdFx0XHRcdGlmKG5sX2luY29taW5nID49IDEpIHtcblx0XHRcdFx0XHQvLyBvbmx5IGEgZmV3IGluY2lkZW50c1xuXHRcdFx0XHRcdGlmKG5sX2luY29taW5nIDw9IDApIHtcblx0XHRcdFx0XHRcdC8vIHJlZiBpbmNpZGVudFxuXHRcdFx0XHRcdFx0Zm9yKGNvbnN0IGdfaW5jaWRlbnQgb2YgYV9vdXRnb2luZykge1xuXHRcdFx0XHRcdFx0XHQvLyAvLyBoYXNoIHR4IHRvIGNyZWF0ZSBub3RpZmljYXRpb24gaWRcblx0XHRcdFx0XHRcdFx0Ly8gY29uc3Qgc2lfbm90aWYgPSBidWZmZXJfdG9fYmFzZTY0KHNoYTI1Nl9zeW5jKHRleHRfdG9fYnVmZmVyKGdfaW5jaWRlbnQuZGF0YS5oYXNoKSkpO1xuXG5cdFx0XHRcdFx0XHRcdC8vIC8vIGNyZWF0ZSBub3RpZmljYXRpb25cblx0XHRcdFx0XHRcdFx0Ly8gbm90aWZ5KHNpX25vdGlmLCB7XG5cdFx0XHRcdFx0XHRcdC8vIFx0dGl0bGU6IGDwn5K4IFJlY2VpdmVkICR7c19wYXlsb2FkfSBvbiAke2dfY2hhaW4ubmFtZX1gLFxuXHRcdFx0XHRcdFx0XHQvLyBcdG1lc3NhZ2U6IGAke3Nfb3RoZXJ9IHNlbnQgJHtzX3BheWxvYWR9IHRvIHlvdXIgJHtnX2FjY291bnQubmFtZX0gYWNjb3VudGAsXG5cdFx0XHRcdFx0XHRcdC8vIH0pO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHQvLyBtYW55IGluY2lkZW50c1xuXHRcdFx0XHRcdGVsc2Uge1xuXHRcdFx0XHRcdFx0bm90aWZ5KGNyeXB0by5yYW5kb21VVUlEKCksIHtcblx0XHRcdFx0XHRcdFx0dGl0bGU6IGDwn5K4IFJlY2VpdmVkICR7MSA9PT0gbmxfaW5jb21pbmc/ICdhIHRyYW5zZmVyJzogYCR7bmxfaW5jb21pbmd9IHRyYW5zZmVyc2B9YCxcblx0XHRcdFx0XHRcdFx0bWVzc2FnZTogJ1doaWxlIHlvdSB3ZXJlIGF3YXkuLi4nLFxuXHRcdFx0XHRcdFx0XHQvLyBtZXNzYWdlOiBgJHtzX290aGVyfSBzZW50ICR7c19wYXlsb2FkfSB0byB5b3VyICR7Z19hY2NvdW50Lm5hbWV9IGFjY291bnRgLFxuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIC8vIHF1ZXJ5IGFsbCBiYWxhbmNlc1xuXHRcdFx0Ly8gdm9pZCBrX25ldHdvcmsuYmFua0JhbGFuY2VzKHNhX293bmVyKS50aGVuKChoX2JhbGFuY2VzKSA9PiB7ICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1sb29wLWZ1bmNcblx0XHRcdC8vIFx0Ly8gcXVlcnkgc3VjY2VlZGVkXG5cdFx0XHQvLyBcdGZvcihjb25zdCBbc2lfY29pbiwgZ19idW5kbGVdIG9mIG9kZShoX2JhbGFuY2VzKSkge1xuXHRcdFx0Ly8gXHRcdGNvbnN0IHtcblx0XHRcdC8vIFx0XHRcdGJhbGFuY2U6IGdfYmFsYW5jZSxcblx0XHRcdC8vIFx0XHRcdGNhY2hlZDogZ19jYWNoZWQsXG5cdFx0XHQvLyBcdFx0fSA9IGdfYnVuZGxlO1xuXG5cdFx0XHQvLyBcdFx0Ly8gYW1vdW50IGRpZmZlcnMgZnJvbSBjYWNoZWRcblx0XHRcdC8vIFx0XHRpZihnX2JhbGFuY2UuYW1vdW50ICE9PSBnX2NhY2hlZD8uYW1vdW50KSB7XG5cdFx0XHQvLyBcdFx0XHQvLyBub3RpZnlcblx0XHRcdC8vIFx0XHRcdGFfbm90aWZpY2F0aW9ucy5wdXNoKHtcblx0XHRcdC8vIFx0XHRcdFx0dHlwZTogJ2JhbGFuY2UnLFxuXHRcdFx0Ly8gXHRcdFx0XHRjaGFpbjogZ19jaGFpbixcblx0XHRcdC8vIFx0XHRcdFx0Y29pbjogc2lfY29pbixcblx0XHRcdC8vIFx0XHRcdFx0Y2FjaGVkOiBnX2NhY2hlZCxcblx0XHRcdC8vIFx0XHRcdFx0YmFsYW5jZTogZ19iYWxhbmNlLFxuXHRcdFx0Ly8gXHRcdFx0fSk7XG5cblx0XHRcdC8vIFx0XHRcdGxldCBzX21lc3NhZ2UgPSAnJztcblx0XHRcdC8vIFx0XHRcdGxldCBzX2NvbnRleHQgPSAnJztcblx0XHRcdC8vIFx0XHRcdGlmKDEgPT09IGFfbm90aWZpY2F0aW9ucy5sZW5ndGgpIHtcblx0XHRcdC8vIFx0XHRcdFx0aWYoZ19jYWNoZWQpIHtcblx0XHRcdC8vIFx0XHRcdFx0XHRjb25zdCB5Z19jaGFuZ2UgPSBuZXcgQmlnTnVtYmVyKGdfYmFsYW5jZS5hbW91bnQpLm1pbnVzKGdfY2FjaGVkLmFtb3VudClcblx0XHRcdC8vIFx0XHRcdFx0XHRcdC5zaGlmdGVkQnkoLWdfY2hhaW4uY29pbnNbc2lfY29pbl0uZGVjaW1hbHMpO1xuXG5cdFx0XHQvLyBcdFx0XHRcdFx0Ly8gcmVjZWl2ZWQgY29pbnNcblx0XHRcdC8vIFx0XHRcdFx0XHRpZih5Z19jaGFuZ2UuZ3QoMCkpIHtcblx0XHRcdC8vIFx0XHRcdFx0XHRcdHNfbWVzc2FnZSA9IGBCYWxhbmNlIGluY3JlYXNlZCArJHtmb3JtYXRfYW1vdW50KHlnX2NoYW5nZS50b051bWJlcigpLCB0cnVlKX0gJHtzaV9jb2lufWA7XG5cdFx0XHQvLyBcdFx0XHRcdFx0XHQvLyBzX2NvbnRleHQgPSBgZnJvbSBgXG5cdFx0XHQvLyBcdFx0XHRcdFx0fVxuXHRcdFx0Ly8gXHRcdFx0XHR9XG5cblx0XHRcdC8vIFx0XHRcdFx0Y2hyb21lLm5vdGlmaWNhdGlvbnMuY3JlYXRlKCdiYW5rQmFsYW5jZUNoYW5nZScsIHtcblx0XHRcdC8vIFx0XHRcdFx0XHR0eXBlOiAnYmFzaWMnLFxuXHRcdFx0Ly8gXHRcdFx0XHRcdHRpdGxlOiAnQmFsYW5jZSBJbmNyZWFzZWQnLFxuXHRcdFx0Ly8gXHRcdFx0XHRcdG1lc3NhZ2U6IHNfbWVzc2FnZSxcblx0XHRcdC8vIFx0XHRcdFx0XHRjb250ZXh0TWVzc2FnZTogc19jb250ZXh0LFxuXHRcdFx0Ly8gXHRcdFx0XHRcdHByaW9yaXR5OiAxLFxuXHRcdFx0Ly8gXHRcdFx0XHRcdGljb25Vcmw6ICcnLFxuXHRcdFx0Ly8gXHRcdFx0XHRcdC8vIGV2ZW50VGltZTogXG5cdFx0XHQvLyBcdFx0XHRcdH0pO1xuXHRcdFx0Ly8gXHRcdFx0fVxuXHRcdFx0Ly8gXHRcdH1cblx0XHRcdC8vIFx0fVxuXHRcdFx0Ly8gfSk7XG5cdFx0fVxuXHR9XG5cblx0Ly8gc3RhcnQgY291bnRkb3duIHRvIHVuLWFsaXZlIHRoZSBzZXJ2aWNlIGZsYWdcblx0YXV0b19oZWFsKCk7XG59XG5cbmdsb2JhbF9yZWNlaXZlKHtcblx0bG9naW4oKSB7XG5cdFx0dm9pZCBwZXJpb2RpY19jaGVjayh0cnVlKTtcblx0fSxcbn0pO1xuIl0sIm5hbWVzIjpbIkljc0hvc3QiLCJzaF9zZXNzaW9uIiwiaG1hY1NIQTI1NiIsIkFfQ0hBSU5fQ0FURUdPUklFUyIsIkFfQ0hBSU5fRkFNSUxJRVMiLCJSX0NIQUlOX0lEIiwiUl9DSEFJTl9OQU1FIiwiZXhwb3J0cyIsImxvY2F0ZV9zY3JpcHQiLCJkX3J1bnRpbWUiLCJkZWJ1ZyIsInMiLCJhX2FyZ3MiLCJTZWN1cml0eUVycm9yIiwiZF9wb3J0IiwiYl9hY3F1YWludGVkIiwiYl9hYm9ydGVkIiwiYWJvcnQiLCJzX3JlYXNvbiIsImFzc2VydF9ub3RfYWJvcnRlZCIsImhfaGFuZGxlcnNfYXV0aGVkIiwiZ19yZXF1ZXN0IiwiaV9yZXF1ZXN0IiwiZ19tYW5pZmVzdCIsImVyciIsImFfY2hhaW5zIiwiYXNfY2hhaW5zIiwiYV9yZXF1ZXN0cyIsImlfY2hhaW4iLCJnX2NoYWluIiwiY2VyciIsInBfY2hhaW4iLCJzX2xhYmVsIiwiYV9wb3J0cyIsImRfY2hhbm5lbCIsInNfcmVzb24iLCJhdXRoZWRfbWVzc2FnZV9oYW5kbGVyIiwiZF9ldmVudCIsInNpX3R5cGUiLCJ3X3ZhbHVlIiwiZl9oYW5kbGVyIiwiaF9oYW5kbGVyc193aW5kb3ciLCJfIiwiZF93aW5kb3dfcmVsYXkiLCJkX2RvY3VtZW50X3JlbGF5IiwiZ19wYXlsb2FkIiwiZG1fcGF5bG9hZCIsImRtX3NjcmlwdCIsInBfcmVsYXkiLCJkbV9pZnJhbWUiLCJkbV9kaXYiLCJkd19zZW5kZXIiLCJnX2RhdGEiLCJzX2F1dGgiLCJNY3NSYXRpZmllciIsInNpbGVudF9leGl0Iiwic19lcnJvciIsImZfYWRkX2V2ZW50X2xpc3RlbmVyIiwiZF9yZWZsZWN0IiwiZl9nZXRfb3duX3Byb3BlcnR5X2Rlc2NyaXB0b3IiLCJmX2dldF9wcm90b3R5cGVfb2YiLCJsb2NhdGVfZGVzY3JpcHRvciIsIndfcmVmIiwic2lfcHJvcCIsImFfbGluZWFnZSIsImdfZGVzY3JpcHRvciIsIndfcGFyZW50IiwiYWNjZXNzX3NpbGVudGx5IiwiYl9hY2Nlc3NvcnMiLCJrX3N0YXJzaGVsbCIsInNfc2lnX2F1dGgiLCJnX3Byb29mIiwiel9kYXRhIiwic19wYXR0ZXJuIiwiZ19zY3JpcHQiLCJzcl9zY3JpcHQiLCJ6X3Jlc291cmNlIiwiQV9NQVRDSF9BTEwiLCJHX1NDUklQVF9CQVNJQyIsIkhfQ09OVEVOVF9TQ1JJUFRfREVGUyIsImhfb3ZlcnJpZGVzIiwiR19BUFBfUE9MSUNZX1JFU1VMVF9CTE9DS0VEIiwicG9saWN5X2FwcGxpZXMiLCJnX3BvbGljeSIsImdfYXBwIiwicl9tYXRjaGVzIiwicl9leGNlcHQiLCJQb2xpY2llcyIsImNyZWF0ZV9zdG9yZV9jbGFzcyIsIlNJX1NUT1JFX0FQUF9QT0xJQ0lFUyIsIldyaXRhYmxlU3RvcmUiLCJrc19wb2xpY2llcyIsImJfdHJ1c3RlZCIsIk5fUFhfV0lEVEhfUE9QVVAiLCJOX1BYX0hFSUdIVF9QT1BVUCIsImZsb3dfZ2VuZXJpYyIsImhfcGFyYW1zIiwicF9mbG93IiwicF9jb25uZWN0IiwiYV9kaXNwbGF5cyIsImdfc2NyZWVuX2luZm8iLCJnX2luZm8iLCJvbmNlX3N0b3JhZ2VfY2hhbmdlcyIsIlhUX1NFQ09ORFMiLCJoX2Rpc3BsYXlzIiwiZ19kaXNwbGF5IiwiZ193aW5kb3dfcG9zaXRpb24iLCJzaV9kaXNwbGF5IiwiZ193aW5kb3ciLCJkdF9jcmVhdGVkIiwiZmtfY3JlYXRlZCIsInRhYl91cGRhdGUiLCJpX3RhYiIsImR0X3VwZGF0ZWQiLCJmbG93X2Jyb2FkY2FzdCIsImdjX3Byb21wdCIsInNpX3JlcSIsInNpX2NoYW5uZWwiLCJzZXNzaW9uX3N0b3JhZ2VfZ2V0IiwiZHRfZmxvdyIsImRfYnJvYWRjYXN0IiwiZmtfcmVzb2x2ZSIsInNodXRkb3duIiwiYl9hbnN3ZXIiLCJjbG9zZV9saXN0ZW5lciIsIm1lc3NhZ2VfbGlzdGVuZXIiLCJzZXNzaW9uX3N0b3JhZ2VfcmVtb3ZlIiwiZ19tc2ciLCJpX3dpbmRvdyIsImdfYXdhaXRlcnMiLCJzaV9hcmVhIiwic2lfa2V5IiwieHRfdGltZW91dCIsImZlX3JlamVjdCIsImhfYXdhaXRlcnMiLCJhX2F3YWl0ZXJzIiwiaV9hd2FpdGVyIiwiaV90aW1lb3V0IiwiZ19jaGFuZ2UiLCJmaXJlX3N0b3JhZ2VfY2hhbmdlIiwiZl9hd2FpdGVyIiwiaF9jaGFuZ2VzIiwiaF9saXN0ZW5lcnMiLCJkX3NjcmlwdGluZyIsImdjX3NjcmlwdCIsImJfcmVnaXN0ZXJlZCIsImZfbGlzdGVuZXIiLCJwYXJzZV9zZW5kZXIiLCJwX3NlbmRlciIsInNfcHJvdG9jb2wiLCJzX2hvc3QiLCJibG9ja19hcHAiLCJnX3NlbmRlciIsInNfbXNnIiwiYXBwX2Jsb2NrZWQiLCJzX3NjaGVtZSIsIlJfRE9NQUlOX0xPQ0FMSE9TVCIsIlNldHRpbmdzIiwiZ2VuZXJhdGVfa2V5IiwibmJfc2l6ZSIsImF0dThfc2VjcmV0IiwieCIsIkhfSEFORExFUlNfSUNTIiwiZmtfcmVzcG9uZCIsImdfcGFnZSIsIlZhdWx0IiwiYl9maW5pc2hlZCIsIkFwcHMiLCJnX3NlY3JldHMiLCJnX3JlcSIsIkhfSEFORExFUlNfSU5TVFJVQ1RJT05TIiwicGVyaW9kaWNfY2hlY2siLCJnX3ZhbHVlIiwiZ19uZXR3b3JrIiwiTmV0d29ya3MiLCJDaGFpbnMiLCJrX2FjdGl2ZSIsImdfYWNjb3VudCIsIkFjY291bnRzIiwiYXdhaXRfdHJhbnNmZXIiLCJnX2F0dGVtcHQiLCJCcm9hZGNhc3RNb2RlIiwic2lfbm90aWZjYXRpb24iLCJzX3RpdGxlIiwic19tZXNzYWdlIiwibm90aWZ5IiwiSW5jaWRlbnRzIiwibWVzc2FnZV9yb3V0ZXIiLCJoX2hhbmRsZXJzIiwiel9yZXNwb25zZSIsImdfYWxhcm0iLCJiX2FsaXZlIiwiaF9zb2NrZXRzIiwiYXV0b19oZWFsIiwiWFRfTUlOVVRFUyIsImlfYXV0b19oZWFsIiwiaF9tZXRhX25vdGlmaWNhdGlvbnMiLCJzaV9ub3RpZiIsImdfbWV0YSIsImdjX25vdGlmeSIsIm5vdGlmeV9pbmNpZGVudF90eCIsImdjX21ldGEiLCJzaV9zb2NrZXRfZ3JvdXAiLCJrX25ldHdvcmsiLCJzYV9vd25lciIsInNpX3NvY2tldCIsImRfa2lsbCIsImdfdHgiLCJhX2xvZ3MiLCJnX2V2ZW50IiwiZ190cmFuc2ZlciIsImZvbGRfYXR0cnMiLCJzX3BheWxvYWQiLCJtX2Ftb3VudCIsIlJfVFJBTlNGRVJfQU1PVU5UIiwic3lzd2FybiIsInNfYW1vdW50Iiwic2lfZGVub20iLCJzaV9jb2luX3Rlc3QiLCJnX2NvaW5fdGVzdCIsIm9kZSIsInhfYW1vdW50IiwiQmlnTnVtYmVyIiwiZm9ybWF0X2Ftb3VudCIsInNfb3RoZXIiLCJwX2NvbnRhY3QiLCJBZ2VudHMiLCJnX2NvbnRhY3QiLCJhYmJyZXZpYXRlX2FkZHIiLCJzaV90eG4iLCJnX2Rvd25sb2FkIiwiWFRfSU5URVJWQUxfSEVBUlRCRUFUIiwiaV9oZWFydGJlYXQiLCJ4dF9sYXN0X2hlYXJiZWF0IiwiaGVhcnRiZWF0IiwiZ2xvYmFsX2Jyb2FkY2FzdCIsImJfaW5pdCIsIldlYlJlc291cmNlQ2FjaGUiLCJrc19hY2NvdW50cyIsImtzX2NoYWlucyIsImtzX25ldHdvcmtzIiwiaF9uZXR3b3JrcyIsInBfbmV0d29yayIsImFfcmVjZW50cyIsImdfYmxvY2siLCJlX2xpc3RlbiIsInN5c2VyciIsInBfYWNjb3VudCIsImVfcmVjZWl2ZSIsImFfaW5jb21pbmciLCJhX291dGdvaW5nIiwiZ19pbmNpZGVudCIsIm5sX291dGdvaW5nIiwibmxfaW5jb21pbmciLCJnbG9iYWxfcmVjZWl2ZSJdLCJtYXBwaW5ncyI6IitUQTRCd0IsU0FBQUEsR0FBQSxDQUN2QixRQUFTQyxDQUNWLEVBQXVCLENBRWhCLE1BQUFDLEVBQWEsVUFBQSx1bk5BRWIsQ0FDTCxtQkFBQUMsRUFDQSxpQkFBQUMsRUFDQSxXQUFBQyxFQUNBLGFBQUFDLENBQUEsRUFDRyxTQUFBQyxFQUFBLG1WQUVFLENBQ0wsY0FBQUMsQ0FBQSxFQUNHLFNBQUFELEVBQUEsd1lBR0VFLEVBQTRGLFFBQU8sUUFHbkdDLEVBQVEsQ0FBQ0MsS0FBY0MsSUFBa0IsUUFBUSxNQUFNLHVCQUF1QkQsSUFBSyxHQUFHQyxDQUFNLEVBQzVGRixFQUFBLGdCQUFnQixTQUFTLE9BQU8sRUFvRHRDLE1BQU1HLFVBQXNCLEtBQU0sQ0FBQyxDQUcvQixJQUFBQyxFQUdBQyxFQUFlLEdBR2ZDLEVBQVksR0FLaEIsU0FBU0MsRUFBTUMsRUFBa0Is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
