var __defProp = Object.defineProperty;
var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __publicField = (obj, key, value) => {
  __defNormalProp(obj, typeof key !== "symbol" ? key + "" : key, value);
  return value;
};
const p = function polyfill() {
  const relList = document.createElement("link").relList;
  if (relList && relList.supports && relList.supports("modulepreload")) {
    return;
  }
  for (const link of document.querySelectorAll('link[rel="modulepreload"]')) {
    processPreload(link);
  }
  new MutationObserver((mutations) => {
    for (const mutation of mutations) {
      if (mutation.type !== "childList") {
        continue;
      }
      for (const node of mutation.addedNodes) {
        if (node.tagName === "LINK" && node.rel === "modulepreload")
          processPreload(node);
      }
    }
  }).observe(document, { childList: true, subtree: true });
  function getFetchOpts(script) {
    const fetchOpts = {};
    if (script.integrity)
      fetchOpts.integrity = script.integrity;
    if (script.referrerpolicy)
      fetchOpts.referrerPolicy = script.referrerpolicy;
    if (script.crossorigin === "use-credentials")
      fetchOpts.credentials = "include";
    else if (script.crossorigin === "anonymous")
      fetchOpts.credentials = "omit";
    else
      fetchOpts.credentials = "same-origin";
    return fetchOpts;
  }
  function processPreload(link) {
    if (link.ep)
      return;
    link.ep = true;
    const fetchOpts = getFetchOpts(link);
    fetch(link.href, fetchOpts);
  }
};
p();
function noop$1() {
}
const identity = (x) => x;
function assign(tar, src) {
  for (const k in src)
    tar[k] = src[k];
  return tar;
}
function is_promise(value) {
  return value && typeof value === "object" && typeof value.then === "function";
}
function run(fn) {
  return fn();
}
function blank_object() {
  return /* @__PURE__ */ Object.create(null);
}
function run_all(fns) {
  fns.forEach(run);
}
function is_function(thing) {
  return typeof thing === "function";
}
function safe_not_equal(a, b) {
  return a != a ? b == b : a !== b || (a && typeof a === "object" || typeof a === "function");
}
let src_url_equal_anchor;
function src_url_equal(element_src, url) {
  if (!src_url_equal_anchor) {
    src_url_equal_anchor = document.createElement("a");
  }
  src_url_equal_anchor.href = url;
  return element_src === src_url_equal_anchor.href;
}
function is_empty(obj) {
  return Object.keys(obj).length === 0;
}
function subscribe(store, ...callbacks) {
  if (store == null) {
    return noop$1;
  }
  const unsub = store.subscribe(...callbacks);
  return unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;
}
function component_subscribe(component, store, callback) {
  component.$$.on_destroy.push(subscribe(store, callback));
}
function create_slot(definition, ctx, $$scope, fn) {
  if (definition) {
    const slot_ctx = get_slot_context(definition, ctx, $$scope, fn);
    return definition[0](slot_ctx);
  }
}
function get_slot_context(definition, ctx, $$scope, fn) {
  return definition[1] && fn ? assign($$scope.ctx.slice(), definition[1](fn(ctx))) : $$scope.ctx;
}
function get_slot_changes(definition, $$scope, dirty, fn) {
  if (definition[2] && fn) {
    const lets = definition[2](fn(dirty));
    if ($$scope.dirty === void 0) {
      return lets;
    }
    if (typeof lets === "object") {
      const merged = [];
      const len = Math.max($$scope.dirty.length, lets.length);
      for (let i = 0; i < len; i += 1) {
        merged[i] = $$scope.dirty[i] | lets[i];
      }
      return merged;
    }
    return $$scope.dirty | lets;
  }
  return $$scope.dirty;
}
function update_slot_base(slot, slot_definition, ctx, $$scope, slot_changes, get_slot_context_fn) {
  if (slot_changes) {
    const slot_context = get_slot_context(slot_definition, ctx, $$scope, get_slot_context_fn);
    slot.p(slot_context, slot_changes);
  }
}
function get_all_dirty_from_scope($$scope) {
  if ($$scope.ctx.length > 32) {
    const dirty = [];
    const length2 = $$scope.ctx.length / 32;
    for (let i = 0; i < length2; i++) {
      dirty[i] = -1;
    }
    return dirty;
  }
  return -1;
}
function compute_slots(slots) {
  const result = {};
  for (const key in slots) {
    result[key] = true;
  }
  return result;
}
function null_to_empty(value) {
  return value == null ? "" : value;
}
function set_store_value(store, ret, value) {
  store.set(value);
  return ret;
}
const is_client = typeof window !== "undefined";
let now = is_client ? () => window.performance.now() : () => Date.now();
let raf = is_client ? (cb) => requestAnimationFrame(cb) : noop$1;
const tasks = /* @__PURE__ */ new Set();
function run_tasks(now2) {
  tasks.forEach((task) => {
    if (!task.c(now2)) {
      tasks.delete(task);
      task.f();
    }
  });
  if (tasks.size !== 0)
    raf(run_tasks);
}
function loop(callback) {
  let task;
  if (tasks.size === 0)
    raf(run_tasks);
  return {
    promise: new Promise((fulfill) => {
      tasks.add(task = { c: callback, f: fulfill });
    }),
    abort() {
      tasks.delete(task);
    }
  };
}
function append(target, node) {
  target.appendChild(node);
}
function get_root_for_style(node) {
  if (!node)
    return document;
  const root = node.getRootNode ? node.getRootNode() : node.ownerDocument;
  if (root && root.host) {
    return root;
  }
  return node.ownerDocument;
}
function append_empty_stylesheet(node) {
  const style_element = element("style");
  append_stylesheet(get_root_for_style(node), style_element);
  return style_element.sheet;
}
function append_stylesheet(node, style) {
  append(node.head || node, style);
}
function insert(target, node, anchor) {
  target.insertBefore(node, anchor || null);
}
function detach(node) {
  node.parentNode.removeChild(node);
}
function destroy_each(iterations, detaching) {
  for (let i = 0; i < iterations.length; i += 1) {
    if (iterations[i])
      iterations[i].d(detaching);
  }
}
function element(name) {
  return document.createElement(name);
}
function svg_element(name) {
  return document.createElementNS("http://www.w3.org/2000/svg", name);
}
function text(data) {
  return document.createTextNode(data);
}
function space() {
  return text(" ");
}
function empty() {
  return text("");
}
function listen(node, event, handler, options) {
  node.addEventListener(event, handler, options);
  return () => node.removeEventListener(event, handler, options);
}
function prevent_default(fn) {
  return function(event) {
    event.preventDefault();
    return fn.call(this, event);
  };
}
function attr(node, attribute, value) {
  if (value == null)
    node.removeAttribute(attribute);
  else if (node.getAttribute(attribute) !== value)
    node.setAttribute(attribute, value);
}
function set_attributes(node, attributes) {
  const descriptors = Object.getOwnPropertyDescriptors(node.__proto__);
  for (const key in attributes) {
    if (attributes[key] == null) {
      node.removeAttribute(key);
    } else if (key === "style") {
      node.style.cssText = attributes[key];
    } else if (key === "__value") {
      node.value = node[key] = attributes[key];
    } else if (descriptors[key] && descriptors[key].set) {
      node[key] = attributes[key];
    } else {
      attr(node, key, attributes[key]);
    }
  }
}
function set_custom_element_data(node, prop, value) {
  if (prop in node) {
    node[prop] = typeof node[prop] === "boolean" && value === "" ? true : value;
  } else {
    attr(node, prop, value);
  }
}
function children(element2) {
  return Array.from(element2.childNodes);
}
function set_data(text2, data) {
  data = "" + data;
  if (text2.wholeText !== data)
    text2.data = data;
}
function set_input_value(input, value) {
  input.value = value == null ? "" : value;
}
function set_style(node, key, value, important) {
  if (value === null) {
    node.style.removeProperty(key);
  } else {
    node.style.setProperty(key, value, important ? "important" : "");
  }
}
let crossorigin;
function is_crossorigin() {
  if (crossorigin === void 0) {
    crossorigin = false;
    try {
      if (typeof window !== "undefined" && window.parent) {
        void window.parent.document;
      }
    } catch (error) {
      crossorigin = true;
    }
  }
  return crossorigin;
}
function add_resize_listener(node, fn) {
  const computed_style = getComputedStyle(node);
  if (computed_style.position === "static") {
    node.style.position = "relative";
  }
  const iframe = element("iframe");
  iframe.setAttribute("style", "display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;");
  iframe.setAttribute("aria-hidden", "true");
  iframe.tabIndex = -1;
  const crossorigin2 = is_crossorigin();
  let unsubscribe;
  if (crossorigin2) {
    iframe.src = "data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>";
    unsubscribe = listen(window, "message", (event) => {
      if (event.source === iframe.contentWindow)
        fn();
    });
  } else {
    iframe.src = "about:blank";
    iframe.onload = () => {
      unsubscribe = listen(iframe.contentWindow, "resize", fn);
    };
  }
  append(node, iframe);
  return () => {
    if (crossorigin2) {
      unsubscribe();
    } else if (unsubscribe && iframe.contentWindow) {
      unsubscribe();
    }
    detach(iframe);
  };
}
function toggle_class(element2, name, toggle) {
  element2.classList[toggle ? "add" : "remove"](name);
}
function custom_event(type, detail, { bubbles = false, cancelable = false } = {}) {
  const e = document.createEvent("CustomEvent");
  e.initCustomEvent(type, bubbles, cancelable, detail);
  return e;
}
class HtmlTag {
  constructor(is_svg = false) {
    this.is_svg = false;
    this.is_svg = is_svg;
    this.e = this.n = null;
  }
  c(html) {
    this.h(html);
  }
  m(html, target, anchor = null) {
    if (!this.e) {
      if (this.is_svg)
        this.e = svg_element(target.nodeName);
      else
        this.e = element(target.nodeName);
      this.t = target;
      this.c(html);
    }
    this.i(anchor);
  }
  h(html) {
    this.e.innerHTML = html;
    this.n = Array.from(this.e.childNodes);
  }
  i(anchor) {
    for (let i = 0; i < this.n.length; i += 1) {
      insert(this.t, this.n[i], anchor);
    }
  }
  p(html) {
    this.d();
    this.h(html);
    this.i(this.a);
  }
  d() {
    this.n.forEach(detach);
  }
}
const managed_styles = /* @__PURE__ */ new Map();
let active = 0;
function hash(str) {
  let hash2 = 5381;
  let i = str.length;
  while (i--)
    hash2 = (hash2 << 5) - hash2 ^ str.charCodeAt(i);
  return hash2 >>> 0;
}
function create_style_information(doc, node) {
  const info = { stylesheet: append_empty_stylesheet(node), rules: {} };
  managed_styles.set(doc, info);
  return info;
}
function create_rule(node, a, b, duration, delay, ease, fn, uid = 0) {
  const step = 16.666 / duration;
  let keyframes = "{\n";
  for (let p2 = 0; p2 <= 1; p2 += step) {
    const t = a + (b - a) * ease(p2);
    keyframes += p2 * 100 + `%{${fn(t, 1 - t)}}
`;
  }
  const rule = keyframes + `100% {${fn(b, 1 - b)}}
}`;
  const name = `__svelte_${hash(rule)}_${uid}`;
  const doc = get_root_for_style(node);
  const { stylesheet, rules } = managed_styles.get(doc) || create_style_information(doc, node);
  if (!rules[name]) {
    rules[name] = true;
    stylesheet.insertRule(`@keyframes ${name} ${rule}`, stylesheet.cssRules.length);
  }
  const animation = node.style.animation || "";
  node.style.animation = `${animation ? `${animation}, ` : ""}${name} ${duration}ms linear ${delay}ms 1 both`;
  active += 1;
  return name;
}
function delete_rule(node, name) {
  const previous = (node.style.animation || "").split(", ");
  const next = previous.filter(name ? (anim) => anim.indexOf(name) < 0 : (anim) => anim.indexOf("__svelte") === -1);
  const deleted = previous.length - next.length;
  if (deleted) {
    node.style.animation = next.join(", ");
    active -= deleted;
    if (!active)
      clear_rules();
  }
}
function clear_rules() {
  raf(() => {
    if (active)
      return;
    managed_styles.forEach((info) => {
      const { stylesheet } = info;
      let i = stylesheet.cssRules.length;
      while (i--)
        stylesheet.deleteRule(i);
      info.rules = {};
    });
    managed_styles.clear();
  });
}
let current_component;
function set_current_component(component) {
  current_component = component;
}
function get_current_component() {
  if (!current_component)
    throw new Error("Function called outside component initialization");
  return current_component;
}
function beforeUpdate(fn) {
  get_current_component().$$.before_update.push(fn);
}
function onMount(fn) {
  get_current_component().$$.on_mount.push(fn);
}
function afterUpdate(fn) {
  get_current_component().$$.after_update.push(fn);
}
function onDestroy(fn) {
  get_current_component().$$.on_destroy.push(fn);
}
function createEventDispatcher() {
  const component = get_current_component();
  return (type, detail, { cancelable = false } = {}) => {
    const callbacks = component.$$.callbacks[type];
    if (callbacks) {
      const event = custom_event(type, detail, { cancelable });
      callbacks.slice().forEach((fn) => {
        fn.call(component, event);
      });
      return !event.defaultPrevented;
    }
    return true;
  };
}
function setContext(key, context) {
  get_current_component().$$.context.set(key, context);
  return context;
}
function getContext(key) {
  return get_current_component().$$.context.get(key);
}
function getAllContexts() {
  return get_current_component().$$.context;
}
function bubble(component, event) {
  const callbacks = component.$$.callbacks[event.type];
  if (callbacks) {
    callbacks.slice().forEach((fn) => fn.call(this, event));
  }
}
const dirty_components = [];
const binding_callbacks = [];
const render_callbacks = [];
const flush_callbacks = [];
const resolved_promise = Promise.resolve();
let update_scheduled = false;
function schedule_update() {
  if (!update_scheduled) {
    update_scheduled = true;
    resolved_promise.then(flush);
  }
}
function tick() {
  schedule_update();
  return resolved_promise;
}
function add_render_callback(fn) {
  render_callbacks.push(fn);
}
function add_flush_callback(fn) {
  flush_callbacks.push(fn);
}
const seen_callbacks = /* @__PURE__ */ new Set();
let flushidx = 0;
function flush() {
  const saved_component = current_component;
  do {
    while (flushidx < dirty_components.length) {
      const component = dirty_components[flushidx];
      flushidx++;
      set_current_component(component);
      update(component.$$);
    }
    set_current_component(null);
    dirty_components.length = 0;
    flushidx = 0;
    while (binding_callbacks.length)
      binding_callbacks.pop()();
    for (let i = 0; i < render_callbacks.length; i += 1) {
      const callback = render_callbacks[i];
      if (!seen_callbacks.has(callback)) {
        seen_callbacks.add(callback);
        callback();
      }
    }
    render_callbacks.length = 0;
  } while (dirty_components.length);
  while (flush_callbacks.length) {
    flush_callbacks.pop()();
  }
  update_scheduled = false;
  seen_callbacks.clear();
  set_current_component(saved_component);
}
function update($$) {
  if ($$.fragment !== null) {
    $$.update();
    run_all($$.before_update);
    const dirty = $$.dirty;
    $$.dirty = [-1];
    $$.fragment && $$.fragment.p($$.ctx, dirty);
    $$.after_update.forEach(add_render_callback);
  }
}
let promise;
function wait() {
  if (!promise) {
    promise = Promise.resolve();
    promise.then(() => {
      promise = null;
    });
  }
  return promise;
}
function dispatch(node, direction, kind) {
  node.dispatchEvent(custom_event(`${direction ? "intro" : "outro"}${kind}`));
}
const outroing = /* @__PURE__ */ new Set();
let outros;
function group_outros() {
  outros = {
    r: 0,
    c: [],
    p: outros
  };
}
function check_outros() {
  if (!outros.r) {
    run_all(outros.c);
  }
  outros = outros.p;
}
function transition_in(block, local) {
  if (block && block.i) {
    outroing.delete(block);
    block.i(local);
  }
}
function transition_out(block, local, detach2, callback) {
  if (block && block.o) {
    if (outroing.has(block))
      return;
    outroing.add(block);
    outros.c.push(() => {
      outroing.delete(block);
      if (callback) {
        if (detach2)
          block.d(1);
        callback();
      }
    });
    block.o(local);
  }
}
const null_transition = { duration: 0 };
function create_out_transition(node, fn, params) {
  let config = fn(node, params);
  let running = true;
  let animation_name;
  const group = outros;
  group.r += 1;
  function go() {
    const { delay = 0, duration = 300, easing = identity, tick: tick2 = noop$1, css } = config || null_transition;
    if (css)
      animation_name = create_rule(node, 1, 0, duration, delay, easing, css);
    const start_time = now() + delay;
    const end_time = start_time + duration;
    add_render_callback(() => dispatch(node, false, "start"));
    loop((now2) => {
      if (running) {
        if (now2 >= end_time) {
          tick2(0, 1);
          dispatch(node, false, "end");
          if (!--group.r) {
            run_all(group.c);
          }
          return false;
        }
        if (now2 >= start_time) {
          const t = easing((now2 - start_time) / duration);
          tick2(1 - t, t);
        }
      }
      return running;
    });
  }
  if (is_function(config)) {
    wait().then(() => {
      config = config();
      go();
    });
  } else {
    go();
  }
  return {
    end(reset2) {
      if (reset2 && config.tick) {
        config.tick(1, 0);
      }
      if (running) {
        if (animation_name)
          delete_rule(node, animation_name);
        running = false;
      }
    }
  };
}
function create_bidirectional_transition(node, fn, params, intro) {
  let config = fn(node, params);
  let t = intro ? 0 : 1;
  let running_program = null;
  let pending_program = null;
  let animation_name = null;
  function clear_animation() {
    if (animation_name)
      delete_rule(node, animation_name);
  }
  function init2(program, duration) {
    const d = program.b - t;
    duration *= Math.abs(d);
    return {
      a: t,
      b: program.b,
      d,
      duration,
      start: program.start,
      end: program.start + duration,
      group: program.group
    };
  }
  function go(b) {
    const { delay = 0, duration = 300, easing = identity, tick: tick2 = noop$1, css } = config || null_transition;
    const program = {
      start: now() + delay,
      b
    };
    if (!b) {
      program.group = outros;
      outros.r += 1;
    }
    if (running_program || pending_program) {
      pending_program = program;
    } else {
      if (css) {
        clear_animation();
        animation_name = create_rule(node, t, b, duration, delay, easing, css);
      }
      if (b)
        tick2(0, 1);
      running_program = init2(program, duration);
      add_render_callback(() => dispatch(node, b, "start"));
      loop((now2) => {
        if (pending_program && now2 > pending_program.start) {
          running_program = init2(pending_program, duration);
          pending_program = null;
          dispatch(node, running_program.b, "start");
          if (css) {
            clear_animation();
            animation_name = create_rule(node, t, running_program.b, running_program.duration, 0, easing, config.css);
          }
        }
        if (running_program) {
          if (now2 >= running_program.end) {
            tick2(t = running_program.b, 1 - t);
            dispatch(node, running_program.b, "end");
            if (!pending_program) {
              if (running_program.b) {
                clear_animation();
              } else {
                if (!--running_program.group.r)
                  run_all(running_program.group.c);
              }
            }
            running_program = null;
          } else if (now2 >= running_program.start) {
            const p2 = now2 - running_program.start;
            t = running_program.a + running_program.d * easing(p2 / running_program.duration);
            tick2(t, 1 - t);
          }
        }
        return !!(running_program || pending_program);
      });
    }
  }
  return {
    run(b) {
      if (is_function(config)) {
        wait().then(() => {
          config = config();
          go(b);
        });
      } else {
        go(b);
      }
    },
    end() {
      clear_animation();
      running_program = pending_program = null;
    }
  };
}
function handle_promise(promise2, info) {
  const token = info.token = {};
  function update2(type, index, key, value) {
    if (info.token !== token)
      return;
    info.resolved = value;
    let child_ctx = info.ctx;
    if (key !== void 0) {
      child_ctx = child_ctx.slice();
      child_ctx[key] = value;
    }
    const block = type && (info.current = type)(child_ctx);
    let needs_flush = false;
    if (info.block) {
      if (info.blocks) {
        info.blocks.forEach((block2, i) => {
          if (i !== index && block2) {
            group_outros();
            transition_out(block2, 1, 1, () => {
              if (info.blocks[i] === block2) {
                info.blocks[i] = null;
              }
            });
            check_outros();
          }
        });
      } else {
        info.block.d(1);
      }
      block.c();
      transition_in(block, 1);
      block.m(info.mount(), info.anchor);
      needs_flush = true;
    }
    info.block = block;
    if (info.blocks)
      info.blocks[index] = block;
    if (needs_flush) {
      flush();
    }
  }
  if (is_promise(promise2)) {
    const current_component2 = get_current_component();
    promise2.then((value) => {
      set_current_component(current_component2);
      update2(info.then, 1, info.value, value);
      set_current_component(null);
    }, (error) => {
      set_current_component(current_component2);
      update2(info.catch, 2, info.error, error);
      set_current_component(null);
      if (!info.hasCatch) {
        throw error;
      }
    });
    if (info.current !== info.pending) {
      update2(info.pending, 0);
      return true;
    }
  } else {
    if (info.current !== info.then) {
      update2(info.then, 1, info.value, promise2);
      return true;
    }
    info.resolved = promise2;
  }
}
function update_await_block_branch(info, ctx, dirty) {
  const child_ctx = ctx.slice();
  const { resolved } = info;
  if (info.current === info.then) {
    child_ctx[info.value] = resolved;
  }
  if (info.current === info.catch) {
    child_ctx[info.error] = resolved;
  }
  info.block.p(child_ctx, dirty);
}
function outro_and_destroy_block(block, lookup) {
  transition_out(block, 1, 1, () => {
    lookup.delete(block.key);
  });
}
function update_keyed_each(old_blocks, dirty, get_key, dynamic, ctx, list, lookup, node, destroy, create_each_block2, next, get_context) {
  let o = old_blocks.length;
  let n = list.length;
  let i = o;
  const old_indexes = {};
  while (i--)
    old_indexes[old_blocks[i].key] = i;
  const new_blocks = [];
  const new_lookup = /* @__PURE__ */ new Map();
  const deltas = /* @__PURE__ */ new Map();
  i = n;
  while (i--) {
    const child_ctx = get_context(ctx, list, i);
    const key = get_key(child_ctx);
    let block = lookup.get(key);
    if (!block) {
      block = create_each_block2(key, child_ctx);
      block.c();
    } else if (dynamic) {
      block.p(child_ctx, dirty);
    }
    new_lookup.set(key, new_blocks[i] = block);
    if (key in old_indexes)
      deltas.set(key, Math.abs(i - old_indexes[key]));
  }
  const will_move = /* @__PURE__ */ new Set();
  const did_move = /* @__PURE__ */ new Set();
  function insert2(block) {
    transition_in(block, 1);
    block.m(node, next);
    lookup.set(block.key, block);
    next = block.first;
    n--;
  }
  while (o && n) {
    const new_block = new_blocks[n - 1];
    const old_block = old_blocks[o - 1];
    const new_key = new_block.key;
    const old_key = old_block.key;
    if (new_block === old_block) {
      next = new_block.first;
      o--;
      n--;
    } else if (!new_lookup.has(old_key)) {
      destroy(old_block, lookup);
      o--;
    } else if (!lookup.has(new_key) || will_move.has(new_key)) {
      insert2(new_block);
    } else if (did_move.has(old_key)) {
      o--;
    } else if (deltas.get(new_key) > deltas.get(old_key)) {
      did_move.add(new_key);
      insert2(new_block);
    } else {
      will_move.add(old_key);
      o--;
    }
  }
  while (o--) {
    const old_block = old_blocks[o];
    if (!new_lookup.has(old_block.key))
      destroy(old_block, lookup);
  }
  while (n)
    insert2(new_blocks[n - 1]);
  return new_blocks;
}
function get_spread_update(levels, updates) {
  const update2 = {};
  const to_null_out = {};
  const accounted_for = { $$scope: 1 };
  let i = levels.length;
  while (i--) {
    const o = levels[i];
    const n = updates[i];
    if (n) {
      for (const key in o) {
        if (!(key in n))
          to_null_out[key] = 1;
      }
      for (const key in n) {
        if (!accounted_for[key]) {
          update2[key] = n[key];
          accounted_for[key] = 1;
        }
      }
      levels[i] = n;
    } else {
      for (const key in o) {
        accounted_for[key] = 1;
      }
    }
  }
  for (const key in to_null_out) {
    if (!(key in update2))
      update2[key] = void 0;
  }
  return update2;
}
function get_spread_object(spread_props) {
  return typeof spread_props === "object" && spread_props !== null ? spread_props : {};
}
function bind(component, name, callback) {
  const index = component.$$.props[name];
  if (index !== void 0) {
    component.$$.bound[index] = callback;
    callback(component.$$.ctx[index]);
  }
}
function create_component(block) {
  block && block.c();
}
function mount_component(component, target, anchor, customElement) {
  const { fragment, on_mount, on_destroy, after_update } = component.$$;
  fragment && fragment.m(target, anchor);
  if (!customElement) {
    add_render_callback(() => {
      const new_on_destroy = on_mount.map(run).filter(is_function);
      if (on_destroy) {
        on_destroy.push(...new_on_destroy);
      } else {
        run_all(new_on_destroy);
      }
      component.$$.on_mount = [];
    });
  }
  after_update.forEach(add_render_callback);
}
function destroy_component(component, detaching) {
  const $$ = component.$$;
  if ($$.fragment !== null) {
    run_all($$.on_destroy);
    $$.fragment && $$.fragment.d(detaching);
    $$.on_destroy = $$.fragment = null;
    $$.ctx = [];
  }
}
function make_dirty(component, i) {
  if (component.$$.dirty[0] === -1) {
    dirty_components.push(component);
    schedule_update();
    component.$$.dirty.fill(0);
  }
  component.$$.dirty[i / 31 | 0] |= 1 << i % 31;
}
function init(component, options, instance2, create_fragment2, not_equal, props, append_styles, dirty = [-1]) {
  const parent_component = current_component;
  set_current_component(component);
  const $$ = component.$$ = {
    fragment: null,
    ctx: null,
    props,
    update: noop$1,
    not_equal,
    bound: blank_object(),
    on_mount: [],
    on_destroy: [],
    on_disconnect: [],
    before_update: [],
    after_update: [],
    context: new Map(options.context || (parent_component ? parent_component.$$.context : [])),
    callbacks: blank_object(),
    dirty,
    skip_bound: false,
    root: options.target || parent_component.$$.root
  };
  append_styles && append_styles($$.root);
  let ready = false;
  $$.ctx = instance2 ? instance2(component, options.props || {}, (i, ret, ...rest) => {
    const value = rest.length ? rest[0] : ret;
    if ($$.ctx && not_equal($$.ctx[i], $$.ctx[i] = value)) {
      if (!$$.skip_bound && $$.bound[i])
        $$.bound[i](value);
      if (ready)
        make_dirty(component, i);
    }
    return ret;
  }) : [];
  $$.update();
  ready = true;
  run_all($$.before_update);
  $$.fragment = create_fragment2 ? create_fragment2($$.ctx) : false;
  if (options.target) {
    if (options.hydrate) {
      const nodes = children(options.target);
      $$.fragment && $$.fragment.l(nodes);
      nodes.forEach(detach);
    } else {
      $$.fragment && $$.fragment.c();
    }
    if (options.intro)
      transition_in(component.$$.fragment);
    mount_component(component, options.target, options.anchor, options.customElement);
    flush();
  }
  set_current_component(parent_component);
}
class SvelteComponent {
  $destroy() {
    destroy_component(this, 1);
    this.$destroy = noop$1;
  }
  $on(type, callback) {
    const callbacks = this.$$.callbacks[type] || (this.$$.callbacks[type] = []);
    callbacks.push(callback);
    return () => {
      const index = callbacks.indexOf(callback);
      if (index !== -1)
        callbacks.splice(index, 1);
    };
  }
  $set($$props) {
    if (this.$$set && !is_empty($$props)) {
      this.$$.skip_bound = true;
      this.$$set($$props);
      this.$$.skip_bound = false;
    }
  }
}
const F_NOOP = () => {
};
const proper = (s_input) => s_input.split(/\s+/g).map((s) => s[0].toUpperCase() + s.slice(1)).join(" ");
function objects_might_differ(h_a, h_b) {
  const a_keys_a = Object.keys(h_a);
  const a_keys_b = Object.keys(h_b);
  const nl_keys = a_keys_a.length;
  if (nl_keys !== a_keys_b.length)
    return true;
  for (const si_key in h_a) {
    if (h_b[si_key] !== h_a[si_key])
      return true;
  }
  return false;
}
function fold(a_in, f_fold) {
  const h_out = {};
  let i_each = 0;
  for (const z_each of a_in) {
    Object.assign(h_out, f_fold(z_each, i_each++));
  }
  return h_out;
}
function ode(h_object) {
  return Object.entries(h_object);
}
function ofe(a_entries) {
  return Object.fromEntries(a_entries);
}
function oderac(h_thing, f_concat, b_add_undefs) {
  return ode(h_thing).reduce((a_out, [si_key, w_value], i_entry) => [
    ...a_out,
    f_concat(si_key, w_value, i_entry)
  ], []);
}
function oderom(h_thing, f_merge) {
  return ode(h_thing).reduce((h_out, [si_key, w_value]) => ({
    ...h_out,
    ...f_merge(si_key, w_value)
  }), {});
}
function timeout(xt_wait) {
  return new Promise((fk_resolve) => {
    setTimeout(() => {
      fk_resolve();
    }, xt_wait);
  });
}
function forever(w_type) {
  return new Promise(F_NOOP);
}
var commonjsGlobal = typeof globalThis !== "undefined" ? globalThis : typeof window !== "undefined" ? window : typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : {};
function commonjsRequire(path) {
  throw new Error('Could not dynamically require "' + path + '". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.');
}
var dist = {};
Object.defineProperty(dist, "__esModule", { value: true });
dist.bech32m = bech32 = dist.bech32 = void 0;
const ALPHABET = "qpzry9x8gf2tvdw0s3jn54khce6mua7l";
const ALPHABET_MAP = {};
for (let z = 0; z < ALPHABET.length; z++) {
  const x = ALPHABET.charAt(z);
  ALPHABET_MAP[x] = z;
}
function polymodStep(pre) {
  const b = pre >> 25;
  return (pre & 33554431) << 5 ^ -(b >> 0 & 1) & 996825010 ^ -(b >> 1 & 1) & 642813549 ^ -(b >> 2 & 1) & 513874426 ^ -(b >> 3 & 1) & 1027748829 ^ -(b >> 4 & 1) & 705979059;
}
function prefixChk(prefix) {
  let chk = 1;
  for (let i = 0; i < prefix.length; ++i) {
    const c = prefix.charCodeAt(i);
    if (c < 33 || c > 126)
      return "Invalid prefix (" + prefix + ")";
    chk = polymodStep(chk) ^ c >> 5;
  }
  chk = polymodStep(chk);
  for (let i = 0; i < prefix.length; ++i) {
    const v = prefix.charCodeAt(i);
    chk = polymodStep(chk) ^ v & 31;
  }
  return chk;
}
function convert(data, inBits, outBits, pad) {
  let value = 0;
  let bits = 0;
  const maxV = (1 << outBits) - 1;
  const result = [];
  for (let i = 0; i < data.length; ++i) {
    value = value << inBits | data[i];
    bits += inBits;
    while (bits >= outBits) {
      bits -= outBits;
      result.push(value >> bits & maxV);
    }
  }
  if (pad) {
    if (bits > 0) {
      result.push(value << outBits - bits & maxV);
    }
  } else {
    if (bits >= inBits)
      return "Excess padding";
    if (value << outBits - bits & maxV)
      return "Non-zero padding";
  }
  return result;
}
function toWords(bytes) {
  return convert(bytes, 8, 5, true);
}
function fromWordsUnsafe(words) {
  const res = convert(words, 5, 8, false);
  if (Array.isArray(res))
    return res;
}
function fromWords(words) {
  const res = convert(words, 5, 8, false);
  if (Array.isArray(res))
    return res;
  throw new Error(res);
}
function getLibraryFromEncoding(encoding) {
  let ENCODING_CONST;
  if (encoding === "bech32") {
    ENCODING_CONST = 1;
  } else {
    ENCODING_CONST = 734539939;
  }
  function encode(prefix, words, LIMIT) {
    LIMIT = LIMIT || 90;
    if (prefix.length + 7 + words.length > LIMIT)
      throw new TypeError("Exceeds length limit");
    prefix = prefix.toLowerCase();
    let chk = prefixChk(prefix);
    if (typeof chk === "string")
      throw new Error(chk);
    let result = prefix + "1";
    for (let i = 0; i < words.length; ++i) {
      const x = words[i];
      if (x >> 5 !== 0)
        throw new Error("Non 5-bit word");
      chk = polymodStep(chk) ^ x;
      result += ALPHABET.charAt(x);
    }
    for (let i = 0; i < 6; ++i) {
      chk = polymodStep(chk);
    }
    chk ^= ENCODING_CONST;
    for (let i = 0; i < 6; ++i) {
      const v = chk >> (5 - i) * 5 & 31;
      result += ALPHABET.charAt(v);
    }
    return result;
  }
  function __decode(str, LIMIT) {
    LIMIT = LIMIT || 90;
    if (str.length < 8)
      return str + " too short";
    if (str.length > LIMIT)
      return "Exceeds length limit";
    const lowered = str.toLowerCase();
    const uppered = str.toUpperCase();
    if (str !== lowered && str !== uppered)
      return "Mixed-case string " + str;
    str = lowered;
    const split = str.lastIndexOf("1");
    if (split === -1)
      return "No separator character for " + str;
    if (split === 0)
      return "Missing prefix for " + str;
    const prefix = str.slice(0, split);
    const wordChars = str.slice(split + 1);
    if (wordChars.length < 6)
      return "Data too short";
    let chk = prefixChk(prefix);
    if (typeof chk === "string")
      return chk;
    const words = [];
    for (let i = 0; i < wordChars.length; ++i) {
      const c = wordChars.charAt(i);
      const v = ALPHABET_MAP[c];
      if (v === void 0)
        return "Unknown character " + c;
      chk = polymodStep(chk) ^ v;
      if (i + 6 >= wordChars.length)
        continue;
      words.push(v);
    }
    if (chk !== ENCODING_CONST)
      return "Invalid checksum for " + str;
    return { prefix, words };
  }
  function decodeUnsafe(str, LIMIT) {
    const res = __decode(str, LIMIT);
    if (typeof res === "object")
      return res;
  }
  function decode(str, LIMIT) {
    const res = __decode(str, LIMIT);
    if (typeof res === "object")
      return res;
    throw new Error(res);
  }
  return {
    decodeUnsafe,
    decode,
    encode,
    toWords,
    fromWordsUnsafe,
    fromWords
  };
}
var bech32 = dist.bech32 = getLibraryFromEncoding("bech32");
dist.bech32m = getLibraryFromEncoding("bech32m");
if (typeof window !== "undefined" && window?.location?.hostname === "localhost") {
  const d_chrome = globalThis["chrome"];
  if (!d_chrome["storage"]) {
    let polyfill_chrome_storage = function(si_area) {
      return {
        async get(z_keys) {
          const a_keys = Array.isArray(z_keys) ? z_keys : [z_keys];
          return fold(a_keys, (si_key) => {
            const z_value = localStorage.getItem(`chrome.${si_area}:${si_key}`);
            return {
              [si_key]: typeof z_value === "string" ? JSON.parse(z_value) : void 0
            };
          });
        },
        async set(h_set) {
          for (const [si_key, w_value] of ode(h_set)) {
            localStorage.setItem(`chrome.${si_area}:${si_key}`, JSON.stringify(w_value));
          }
        },
        async clear() {
          const nl_items = localStorage.length;
          for (let i_item = nl_items; i_item >= 0; i_item--) {
            const si_key = localStorage.key(i_item);
            if (!si_key)
              continue;
            if (si_key.startsWith(`chrome.${si_area}:`)) {
              localStorage.removeItem(si_key);
            }
          }
        },
        async remove(z_keys) {
          const a_keys = Array.isArray(z_keys) ? z_keys : [z_keys];
          for (const si_key of a_keys) {
            localStorage.removeItem(`chrome.${si_area}:${si_key}`);
          }
        }
      };
    };
    d_chrome.storage = {
      local: polyfill_chrome_storage("local"),
      sync: polyfill_chrome_storage("sync"),
      session: polyfill_chrome_storage("session")
    };
  }
  if (!d_chrome["runtime"]) {
    d_chrome.runtime = {
      getURL(p_asset) {
        debugger;
      },
      getManifest() {
        debugger;
      },
      sendMessage(g_msg) {
        debugger;
      },
      onMessage: {
        addListener(f_listener) {
          debugger;
        },
        removeListener() {
          debugger;
        }
      },
      onInstalled: {
        addListener(f_listener) {
          debugger;
        },
        removeListener() {
          debugger;
        }
      }
    };
  }
  if (!d_chrome["tabs"]) {
    d_chrome.tabs = {
      create(gc_create) {
        window.open(gc_create.url, "_blank");
      },
      get(i_tab) {
        debugger;
      },
      reload(i_tab) {
        debugger;
      },
      onUpdated: {
        addEventListener() {
          debugger;
        },
        removeListener() {
          debugger;
        }
      }
    };
  }
  if (!d_chrome["windows"]) {
    d_chrome.windows = {
      create(gc_create) {
        window.open(gc_create.url, "_blank");
      },
      get(i_window) {
        debugger;
      },
      remove(i_window) {
        debugger;
      },
      onRemoved: {
        addEventListener() {
          debugger;
        },
        removeListener() {
          debugger;
        }
      }
    };
  }
  if (!d_chrome["extension"]) {
    d_chrome.extension = {
      getBackgroundPage() {
        debugger;
      }
    };
  }
  if (!d_chrome["scripting"]) {
    d_chrome.scripting = {
      executeScript() {
        debugger;
      }
    };
  }
}
const chars = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";
const base64ToBin = (validBase64) => {
  const lookup = new Uint8Array(123);
  for (let i = 0; i < chars.length; i++) {
    lookup[chars.charCodeAt(i)] = i;
  }
  const bufferLengthEstimate = validBase64.length * 0.75;
  const stringLength = validBase64.length;
  const bufferLength = validBase64[validBase64.length - 1] === "=" ? validBase64[validBase64.length - 2] === "=" ? bufferLengthEstimate - 2 : bufferLengthEstimate - 1 : bufferLengthEstimate;
  const buffer = new ArrayBuffer(bufferLength);
  const bytes = new Uint8Array(buffer);
  let p2 = 0;
  for (let i = 0; i < stringLength; i += 4) {
    const encoded1 = lookup[validBase64.charCodeAt(i)];
    const encoded2 = lookup[validBase64.charCodeAt(i + 1)];
    const encoded3 = lookup[validBase64.charCodeAt(i + 2)];
    const encoded4 = lookup[validBase64.charCodeAt(i + 3)];
    bytes[p2++] = encoded1 << 2 | encoded2 >> 4;
    bytes[p2++] = (encoded2 & 15) << 4 | encoded3 >> 2;
    bytes[p2++] = (encoded3 & 3) << 6 | encoded4 & 63;
  }
  return bytes;
};
const instantiateRustWasm = async (webassemblyBytes, expectedImportModuleName, hashExportName, initExportName, updateExportName, finalExportName) => {
  const wasm2 = (await WebAssembly.instantiate(webassemblyBytes, {
    [expectedImportModuleName]: {
      __wbindgen_throw: (ptr, len) => {
        throw new Error(Array.from(getUint8Memory().subarray(ptr, ptr + len)).map((num) => String.fromCharCode(num)).join(""));
      }
    }
  })).instance.exports;
  let cachedUint8Memory;
  let cachedUint32Memory;
  let cachedGlobalArgumentPtr;
  const globalArgumentPtr = () => {
    if (cachedGlobalArgumentPtr === void 0) {
      cachedGlobalArgumentPtr = wasm2.__wbindgen_global_argument_ptr();
    }
    return cachedGlobalArgumentPtr;
  };
  function getUint8Memory() {
    if (cachedUint8Memory === void 0 || cachedUint8Memory.buffer !== wasm2.memory.buffer) {
      cachedUint8Memory = new Uint8Array(wasm2.memory.buffer);
    }
    return cachedUint8Memory;
  }
  const getUint32Memory = () => {
    if (cachedUint32Memory === void 0 || cachedUint32Memory.buffer !== wasm2.memory.buffer) {
      cachedUint32Memory = new Uint32Array(wasm2.memory.buffer);
    }
    return cachedUint32Memory;
  };
  const passArray8ToWasm = (array) => {
    const ptr = wasm2.__wbindgen_malloc(array.length);
    getUint8Memory().set(array, ptr);
    return [ptr, array.length];
  };
  const getArrayU8FromWasm = (ptr, len) => getUint8Memory().subarray(ptr, ptr + len);
  const hash2 = (input) => {
    const [ptr0, len0] = passArray8ToWasm(input);
    const retPtr = globalArgumentPtr();
    try {
      wasm2[hashExportName](retPtr, ptr0, len0);
      const mem = getUint32Memory();
      const ptr = mem[retPtr / 4];
      const len = mem[retPtr / 4 + 1];
      const realRet = getArrayU8FromWasm(ptr, len).slice();
      wasm2.__wbindgen_free(ptr, len);
      return realRet;
    } finally {
      wasm2.__wbindgen_free(ptr0, len0);
    }
  };
  const init2 = () => {
    const retPtr = globalArgumentPtr();
    wasm2[initExportName](retPtr);
    const mem = getUint32Memory();
    const ptr = mem[retPtr / 4];
    const len = mem[retPtr / 4 + 1];
    const realRet = getArrayU8FromWasm(ptr, len).slice();
    wasm2.__wbindgen_free(ptr, len);
    return realRet;
  };
  const update2 = (rawState, input) => {
    const [ptr0, len0] = passArray8ToWasm(rawState);
    const [ptr1, len1] = passArray8ToWasm(input);
    const retPtr = globalArgumentPtr();
    try {
      wasm2[updateExportName](retPtr, ptr0, len0, ptr1, len1);
      const mem = getUint32Memory();
      const ptr = mem[retPtr / 4];
      const len = mem[retPtr / 4 + 1];
      const realRet = getArrayU8FromWasm(ptr, len).slice();
      wasm2.__wbindgen_free(ptr, len);
      return realRet;
    } finally {
      rawState.set(getUint8Memory().subarray(ptr0 / 1, ptr0 / 1 + len0));
      wasm2.__wbindgen_free(ptr0, len0);
      wasm2.__wbindgen_free(ptr1, len1);
    }
  };
  const final = (rawState) => {
    const [ptr0, len0] = passArray8ToWasm(rawState);
    const retPtr = globalArgumentPtr();
    try {
      wasm2[finalExportName](retPtr, ptr0, len0);
      const mem = getUint32Memory();
      const ptr = mem[retPtr / 4];
      const len = mem[retPtr / 4 + 1];
      const realRet = getArrayU8FromWasm(ptr, len).slice();
      wasm2.__wbindgen_free(ptr, len);
      return realRet;
    } finally {
      rawState.set(getUint8Memory().subarray(ptr0 / 1, ptr0 / 1 + len0));
      wasm2.__wbindgen_free(ptr0, len0);
    }
  };
  return {
    final,
    hash: hash2,
    init: init2,
    update: update2
  };
};
const ripemd160Base64Bytes = "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AgQMBQsgAEH8EigCACACaiICQQFyNgIEQYQTIAA2AgBB/BIgAjYCACAAIAJqIAI2AgAMBAsgAxAgDAELQewPQewPKAIAQX4gAUEDdndxNgIACyAEIAJqIQIgAyAEaiEDCyADIAMoAgRBfnE2AgQgACACQQFyNgIEIAAgAmogAjYCAAJ/AkAgAkH/AU0EQCACQQN2IgFBA3RB9A9qIQJB7A8oAgAiA0EBIAFBH3F0IgFxRQ0BIAJBCGohAyACKAIIDAILIAAgAhAhDAILQewPIAMgAXI2AgAgAkEIaiEDIAILIQEgAyAANgIAIAEgADYCDCAAIAI2AgwgACABNgIICyAFQQhqDwtBgBMgACACayIBNgIAQYgTQYgTKAIAIgAgAmoiAzYCACADIAFBAXI2AgQgACACQQNyNgIEIABBCGoLpQEBAn9BAiEFAkACQAJAAkACQCAAKAIEIgYgAWsgAk8NACABIAJqIgIgAUkhAQJAIAQEQEEAIQUgAQ0CIAZBAXQiASACIAIgAUkbIQIMAQtBACEFIAENAQsgAkEASA0AIAZFDQEgACgCACACEBMiAUUNAgwDCyAFDwsgAhAEIgENAQsgAw0BCyABBEAgACABNgIAIABBBGogAjYCAEECDwtBAQ8LAAsIAEGMFBAHAAtmAgF/A34jAEEwayIBJAAgACkCECECIAApAgghAyAAKQIAIQQgAUEUakEANgIAIAEgBDcDGCABQgE3AgQgAUH0DDYCECABIAFBGGo2AgAgASADNwMgIAEgAjcDKCABIAFBIGoQJQALuAEBAX8jAEHgAWsiAyQAIANBOGpBzAgoAgA2AgAgA0EwakHECCkCADcDACADQgA3AyAgA0G8CCkCADcDKCADQTxqQQBBxAAQKhogA0EgaiABIAIQCSADQYABaiADQSBqQeAAECgaIANBCGogA0GAAWoQCiADQSBqIANBCGpBFBADIANBiAFqIANBKGooAgA2AgAgAyADKQMgNwOAASADIANBgAFqEAsgACADKQMANwIAIANB4AFqJAALlwMBBH8jAEFAaiIDJAAgACAAKQMAIAKtfDcDACADIABBCGo2AiggAyADQShqNgIsAkACQAJAAkACQAJAIAAoAhwiBQRAQcAAIAVrIgQgAk0NASADQRhqIAUgBSACaiIEIABBIGoQFiADKAIcIAJHDQUgAygCGCABIAIQKBoMAwsgAiEEDAELIANBMGogASACIAQQFyADQTxqKAIAIQQgAygCOCEBIAMoAjAhBSADKAI0IQIgA0EgaiAAQSBqIgYgACgCHBAYIAIgAygCJEcNBCADKAIgIAUgAhAoGiAAQRxqQQA2AgAgA0EsaiAGEBkLIANBPGohAiADQThqIQUCQANAIARBP00NASADQTBqIAEgBEHAABAXIAIoAgAhBCAFKAIAIQEgA0EIakEAQcAAIAMoAjAgAygCNBAaIANBLGogAygCCBAZDAALAAsgA0EQaiAAQSBqIAQQGyADKAIUIARHDQEgAygCECABIAQQKBoLIABBHGogBDYCACADQUBrJAAPC0H0ExAHAAtB9BMQBwALQfQTEAcAC+MCAgR/AX4jAEFAaiICJAAgAiABQQhqIgU2AiQgASkDACEGIAEoAhwhAyACIAJBJGo2AigCQCADQT9NBEAgAUEgaiIEIANqQYABOgAAIAEgASgCHEEBaiIDNgIcIAJBGGogBCADEBggAigCGEEAIAIoAhwQKhpBwAAgASgCHGtBB00EQCACQShqIAQQGSACQRBqIAQgAUEcaigCABAbIAIoAhBBACACKAIUECoaCyACQQhqIARBOBAYIAIoAgxBCEcNASACKAIIIAZCA4Y3AAAgAkEoaiAEEBkgAUEcakEANgIAIAJBADYCKEEEIQECQANAIAFBGEYNASACQShqIAFqQQA6AAAgAiACKAIoQQFqNgIoIAFBAWohAQwACwALIAAgBSkAADcAACAAQRBqIAVBEGooAAA2AAAgAEEIaiAFQQhqKQAANwAAIAJBQGskAA8LQcwTIANBwAAQHQALQdwTEAcAC2MBAn8gASgCACECAkACQCABKAIEIgMgASgCCCIBRgRAIAMhAQwBCyADIAFJDQEgAQRAIAIgARATIgINAQALIAIgAxARQQEhAkEAIQELIAAgATYCBCAAIAI2AgAPC0G0ExAHAAuQAQEBfyMAQYABayIBJAAgAUEwakHECCkCADcDACABQThqQcwIKAIANgIAIAFCADcDICABQbwIKQIANwMoIAFBPGpBAEHEABAqGiABQRBqIAFBIGpB4AAQAyABQShqIAFBGGooAgA2AgAgASABKQMQNwMgIAFBCGogAUEgahALIAAgASkDCDcCACABQYABaiQAC4YB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";
const sha256Base64Bytes = "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IAJHDQUgAygCGCABIAIQKxoMAwsgAiEEDAELIANBMGogASACIAQQFiADQTxqKAIAIQQgAygCOCEBIAMoAjAhBSADKAI0IQIgA0EgaiAAQQxqIgYgACgCCBAXIAIgAygCJEcNBCADKAIgIAUgAhArGiAAQQhqQQA2AgAgA0EsaiAGEBgLIANBPGohAiADQThqIQUCQANAIARBP00NASADQTBqIAEgBEHAABAWIAIoAgAhBCAFKAIAIQEgA0EIakEAQcAAIAMoAjAgAygCNBAZIANBLGogAygCCBAYDAALAAsgA0EQaiAAQQxqIAQQGiADKAIUIARHDQEgAygCECABIAQQKxoLIABBCGogBDYCACADQUBrJAAPC0GEFBAHAAtBhBQQBwALQYQUEAcAC98EAgN/AX4jAEHQAGsiAiQAIAIgAUHMAGo2AiQgASkDACEFIAEoAgghBCACIAJBJGo2AigCQCAEQT9NBEAgAUEMaiIDIARqQYABOgAAIAEgASgCCEEBaiIENgIIIAJBGGogAyAEEBcgAigCGEEAIAIoAhwQLRpBwAAgASgCCGtBB00EQCACQShqIAMQGCACQRBqIAMgAUEIaigCABAaIAIoAhBBACACKAIUEC0aCyACQQhqIANBOBAXIAIoAgxBCEcNASACKAIIIAVCOIYgBUIohkKAgICAgIDA/wCDhCAFQhiGQoCAgICA4D+DIAVCCIZCgICAgPAfg4SEIAVCCIhCgICA+A+DIAVCGIhCgID8B4OEIAVCKIhCgP4DgyAFQjiIhISENwAAIAJBKGogAxAYIAFBCGpBADYCACACQQA2AiggAkEoakEEciEEQQAhAwJAA0AgA0EgRg0BIAQgA2pBADoAACACIAIoAihBAWo2AiggA0EBaiEDDAALAAsgAkFAayABQeQAaikAADcDACACQThqIAFB3ABqKQAANwMAIAJBMGogAUHUAGopAAA3AwAgAiABKQBMNwMoQQAhAwJAA0AgA0EgRg0BIAJBKGogA2oiBCAEKAIAIgRBGHQgBEEIdEGAgPwHcXIgBEEIdkGA/gNxIARBGHZycjYCACADQQRqIQMMAAsACyAAIAIpAyg3AAAgAEEYaiACQUBrKQMANwAAIABBEGogAkE4aikDADcAACAAQQhqIAJBMGopAwA3AAAgAkHQAGokAA8LQdwTIARBwAAQ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KAJsIQggASAPNgJkIAEgDjYCYCABIBM2AmggASAYNgJsIAEgAjYCdCABIBc2AnAgASAQNgJ4IAEgDDYCfCABQdAAaiABQeAAaiABQfAAaiAHQevZwaJ6aiAIQfr/+4V5ahAeIAEoAlwhByABKAJYIQggASgCUCEKIAEoAlQhESABIAI2AmQgASAXNgJgIAEgEDYCaCABIAw2AmwgASARNgJ0IAEgCjYCcCABIAg2AnggASAHNgJ8IAFB0ABqIAFB4ABqIAFB8ABqIA1B8vHFs3xqIBlB98fm93tqEB4gASgCXCENIAEoAlghGCABKAJQIRMgACAeIAEoAlRqNgIEIAAgEyAdajYCACAAIAogIWo2AgggACARICJqNgIMIAAgGCAcajYCECAAIA0gG2o2AhQgACAIICBqNgIYIAAgByAfajYCHCABQYABaiQAC30BAX8jAEEwayICJAAgAiABNgIEIAIgADYCACACQSxqQQE2AgAgAkEUakECNgIAIAJBHGpBAjYCACACQQE2AiQgAkGMFTYCCCACQQI2AgwgAkHMDTYCECACIAI2AiAgAiACQQRqNgIoIAIgAkEgajYCGCACQQhqQZwVECgAC3wBAX8jAEEwayIDJAAgAyACNgIEIAMgATYCACADQSxqQQE2AgAgA0EUakECNgIAIANBHGpBAjYCACADQQE2AiQgA0HcFDYCCCADQQI2AgwgA0HMDTYCECADIANBBGo2AiAgAyADNgIoIAMgA0EgajYCGCADQQhqIAAQKAAL1gEBBn8gACABKAIAIgggAigCBCIHcyACKAIAIgVxIAggB3FzIAVBHncgBUETd3MgBUEKd3NqIAIoAggiBkEadyAGQRV3cyAGQQd3cyAEaiABKAIMaiABKAIIIgQgAigCDCIJcyAGcSAEc2oiCmoiAjYCBCAAIAogASgCBGoiATYCDCAAIAJBHncgAkETd3MgAkEKd3MgAiAHIAVzcSAHIAVxc2ogBCADaiAJIAEgCSAGc3FzaiABQRp3IAFBFXdzIAFBB3dzaiIFajYCACAAIAUgCGo2AggLeAAgACACQRl3IAJBA3ZzIAJBDndzIAEoAgAiAmo2AgAgACACQRl3IAJBA3ZzIAJBDndzIAEoAgQiAmo2AgQgACACQRl3IAJBA3ZzIAJBDndzIAEoAggiAmo2AgggACACQRl3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";
const instantiateRipemd160Bytes = async (webassemblyBytes) => {
  const wasm2 = await instantiateRustWasm(webassemblyBytes, "./ripemd160", "ripemd160", "ripemd160_init", "ripemd160_update", "ripemd160_final");
  return {
    final: wasm2.final,
    hash: wasm2.hash,
    init: wasm2.init,
    update: wasm2.update
  };
};
const getEmbeddedRipemd160Binary = () => base64ToBin(ripemd160Base64Bytes).buffer;
const cachedRipemd160 = {};
const instantiateRipemd160 = async () => {
  if (cachedRipemd160.cache !== void 0) {
    return cachedRipemd160.cache;
  }
  const result = instantiateRipemd160Bytes(getEmbeddedRipemd160Binary());
  cachedRipemd160.cache = result;
  return result;
};
const instantiateSha256Bytes = async (webassemblyBytes) => {
  const wasm2 = await instantiateRustWasm(webassemblyBytes, "./sha256", "sha256", "sha256_init", "sha256_update", "sha256_final");
  return {
    final: wasm2.final,
    hash: wasm2.hash,
    init: wasm2.init,
    update: wasm2.update
  };
};
const getEmbeddedSha256Binary = () => base64ToBin(sha256Base64Bytes).buffer;
const cachedSha256 = {};
const instantiateSha256 = async () => {
  if (cachedSha256.cache !== void 0) {
    return cachedSha256.cache;
  }
  const result = instantiateSha256Bytes(getEmbeddedSha256Binary());
  cachedSha256.cache = result;
  return result;
};
var sha256Uint8array = {};
Object.defineProperty(sha256Uint8array, "__esModule", { value: true });
sha256Uint8array.Hash = createHash_1 = sha256Uint8array.createHash = void 0;
const K = [
  1116352408 | 0,
  1899447441 | 0,
  3049323471 | 0,
  3921009573 | 0,
  961987163 | 0,
  1508970993 | 0,
  2453635748 | 0,
  2870763221 | 0,
  3624381080 | 0,
  310598401 | 0,
  607225278 | 0,
  1426881987 | 0,
  1925078388 | 0,
  2162078206 | 0,
  2614888103 | 0,
  3248222580 | 0,
  3835390401 | 0,
  4022224774 | 0,
  264347078 | 0,
  604807628 | 0,
  770255983 | 0,
  1249150122 | 0,
  1555081692 | 0,
  1996064986 | 0,
  2554220882 | 0,
  2821834349 | 0,
  2952996808 | 0,
  3210313671 | 0,
  3336571891 | 0,
  3584528711 | 0,
  113926993 | 0,
  338241895 | 0,
  666307205 | 0,
  773529912 | 0,
  1294757372 | 0,
  1396182291 | 0,
  1695183700 | 0,
  1986661051 | 0,
  2177026350 | 0,
  2456956037 | 0,
  2730485921 | 0,
  2820302411 | 0,
  3259730800 | 0,
  3345764771 | 0,
  3516065817 | 0,
  3600352804 | 0,
  4094571909 | 0,
  275423344 | 0,
  430227734 | 0,
  506948616 | 0,
  659060556 | 0,
  883997877 | 0,
  958139571 | 0,
  1322822218 | 0,
  1537002063 | 0,
  1747873779 | 0,
  1955562222 | 0,
  2024104815 | 0,
  2227730452 | 0,
  2361852424 | 0,
  2428436474 | 0,
  2756734187 | 0,
  3204031479 | 0,
  3329325298 | 0
];
const algorithms = {
  sha256: 1
};
function createHash(algorithm) {
  if (algorithm && !algorithms[algorithm] && !algorithms[algorithm.toLowerCase()]) {
    throw new Error("Digest method not supported");
  }
  return new Hash();
}
var createHash_1 = sha256Uint8array.createHash = createHash;
class Hash {
  constructor() {
    this.A = 1779033703 | 0;
    this.B = 3144134277 | 0;
    this.C = 1013904242 | 0;
    this.D = 2773480762 | 0;
    this.E = 1359893119 | 0;
    this.F = 2600822924 | 0;
    this.G = 528734635 | 0;
    this.H = 1541459225 | 0;
    this._size = 0;
    this._sp = 0;
    if (!sharedBuffer || sharedOffset >= 8e3) {
      sharedBuffer = new ArrayBuffer(8e3);
      sharedOffset = 0;
    }
    this._byte = new Uint8Array(sharedBuffer, sharedOffset, 80);
    this._word = new Int32Array(sharedBuffer, sharedOffset, 20);
    sharedOffset += 80;
  }
  update(data) {
    if (typeof data === "string") {
      return this._utf8(data);
    }
    if (data == null) {
      throw new TypeError("Invalid type: " + typeof data);
    }
    const byteOffset = data.byteOffset;
    const length2 = data.byteLength;
    let blocks = length2 / 64 | 0;
    let offset = 0;
    if (blocks && !(byteOffset & 3) && !(this._size % 64)) {
      const block = new Int32Array(data.buffer, byteOffset, blocks * 16);
      while (blocks--) {
        this._int32(block, offset >> 2);
        offset += 64;
      }
      this._size += offset;
    }
    const BYTES_PER_ELEMENT = data.BYTES_PER_ELEMENT;
    if (BYTES_PER_ELEMENT !== 1 && data.buffer) {
      const rest = new Uint8Array(data.buffer, byteOffset + offset, length2 - offset);
      return this._uint8(rest);
    }
    if (offset === length2)
      return this;
    return this._uint8(data, offset);
  }
  _uint8(data, offset) {
    const { _byte, _word } = this;
    const length2 = data.length;
    offset = offset | 0;
    while (offset < length2) {
      const start = this._size % 64;
      let index = start;
      while (offset < length2 && index < 64) {
        _byte[index++] = data[offset++];
      }
      if (index >= 64) {
        this._int32(_word);
      }
      this._size += index - start;
    }
    return this;
  }
  _utf8(text2) {
    const { _byte, _word } = this;
    const length2 = text2.length;
    let surrogate = this._sp;
    for (let offset = 0; offset < length2; ) {
      const start = this._size % 64;
      let index = start;
      while (offset < length2 && index < 64) {
        let code = text2.charCodeAt(offset++) | 0;
        if (code < 128) {
          _byte[index++] = code;
        } else if (code < 2048) {
          _byte[index++] = 192 | code >>> 6;
          _byte[index++] = 128 | code & 63;
        } else if (code < 55296 || code > 57343) {
          _byte[index++] = 224 | code >>> 12;
          _byte[index++] = 128 | code >>> 6 & 63;
          _byte[index++] = 128 | code & 63;
        } else if (surrogate) {
          code = ((surrogate & 1023) << 10) + (code & 1023) + 65536;
          _byte[index++] = 240 | code >>> 18;
          _byte[index++] = 128 | code >>> 12 & 63;
          _byte[index++] = 128 | code >>> 6 & 63;
          _byte[index++] = 128 | code & 63;
          surrogate = 0;
        } else {
          surrogate = code;
        }
      }
      if (index >= 64) {
        this._int32(_word);
        _word[0] = _word[16];
      }
      this._size += index - start;
    }
    this._sp = surrogate;
    return this;
  }
  _int32(data, offset) {
    let { A, B, C, D, E, F, G, H } = this;
    let i = 0;
    offset = offset | 0;
    while (i < 16) {
      W[i++] = swap32(data[offset++]);
    }
    for (i = 16; i < 64; i++) {
      W[i] = gamma1(W[i - 2]) + W[i - 7] + gamma0(W[i - 15]) + W[i - 16] | 0;
    }
    for (i = 0; i < 64; i++) {
      const T1 = H + sigma1(E) + ch(E, F, G) + K[i] + W[i] | 0;
      const T2 = sigma0(A) + maj(A, B, C) | 0;
      H = G;
      G = F;
      F = E;
      E = D + T1 | 0;
      D = C;
      C = B;
      B = A;
      A = T1 + T2 | 0;
    }
    this.A = A + this.A | 0;
    this.B = B + this.B | 0;
    this.C = C + this.C | 0;
    this.D = D + this.D | 0;
    this.E = E + this.E | 0;
    this.F = F + this.F | 0;
    this.G = G + this.G | 0;
    this.H = H + this.H | 0;
  }
  digest(encoding) {
    const { _byte, _word } = this;
    let i = this._size % 64 | 0;
    _byte[i++] = 128;
    while (i & 3) {
      _byte[i++] = 0;
    }
    i >>= 2;
    if (i > 14) {
      while (i < 16) {
        _word[i++] = 0;
      }
      i = 0;
      this._int32(_word);
    }
    while (i < 16) {
      _word[i++] = 0;
    }
    const bits64 = this._size * 8;
    const low32 = (bits64 & 4294967295) >>> 0;
    const high32 = (bits64 - low32) / 4294967296;
    if (high32)
      _word[14] = swap32(high32);
    if (low32)
      _word[15] = swap32(low32);
    this._int32(_word);
    return encoding === "hex" ? this._hex() : this._bin();
  }
  _hex() {
    const { A, B, C, D, E, F, G, H } = this;
    return hex32(A) + hex32(B) + hex32(C) + hex32(D) + hex32(E) + hex32(F) + hex32(G) + hex32(H);
  }
  _bin() {
    const { A, B, C, D, E, F, G, H, _byte, _word } = this;
    _word[0] = swap32(A);
    _word[1] = swap32(B);
    _word[2] = swap32(C);
    _word[3] = swap32(D);
    _word[4] = swap32(E);
    _word[5] = swap32(F);
    _word[6] = swap32(G);
    _word[7] = swap32(H);
    return _byte.slice(0, 32);
  }
}
sha256Uint8array.Hash = Hash;
const W = new Int32Array(64);
let sharedBuffer;
let sharedOffset = 0;
const hex32 = (num) => (num + 4294967296).toString(16).substr(-8);
const swapLE = (c) => c << 24 & 4278190080 | c << 8 & 16711680 | c >> 8 & 65280 | c >> 24 & 255;
const swapBE = (c) => c;
const swap32 = isBE() ? swapBE : swapLE;
const ch = (x, y, z) => z ^ x & (y ^ z);
const maj = (x, y, z) => x & y | z & (x | y);
const sigma0 = (x) => (x >>> 2 | x << 30) ^ (x >>> 13 | x << 19) ^ (x >>> 22 | x << 10);
const sigma1 = (x) => (x >>> 6 | x << 26) ^ (x >>> 11 | x << 21) ^ (x >>> 25 | x << 7);
const gamma0 = (x) => (x >>> 7 | x << 25) ^ (x >>> 18 | x << 14) ^ x >>> 3;
const gamma1 = (x) => (x >>> 17 | x << 15) ^ (x >>> 19 | x << 13) ^ x >>> 10;
function isBE() {
  const buf = new Uint8Array(new Uint16Array([65279]).buffer);
  return buf[0] === 254;
}
async function sha256$1(atu8_data) {
  return new Uint8Array(await crypto.subtle.digest("SHA-256", atu8_data));
}
const sha256_sync_insecure = (atu8_data) => createHash_1().update(atu8_data).digest();
let y_sha256;
void instantiateSha256().then((y) => y_sha256 = y);
const sha256_sync$1 = (atu8_data) => y_sha256.final(y_sha256.update(y_sha256.init(), atu8_data));
let y_ripemd;
void instantiateRipemd160().then((y) => y_ripemd = y);
const ripemd160_sync = (atu8_data) => y_ripemd.final(y_ripemd.update(y_ripemd.init(), atu8_data));
function zero_out(atu8_data) {
  atu8_data.fill(0);
  if (atu8_data.reduce((c, x) => c + x, 0) !== 0)
    throw new Error("Failed to zero out sensitive memory region");
}
function text_to_buffer(s_text) {
  return new TextEncoder().encode(s_text);
}
function buffer_to_text(atu8_text) {
  return new TextDecoder().decode(atu8_text);
}
const sfcc = String.fromCharCode;
function buffer_to_hex(atu8_buffer) {
  let sx_hex = "";
  for (const xb_byte of atu8_buffer) {
    sx_hex += xb_byte.toString(16).padStart(2, "0");
  }
  return sx_hex;
}
function hex_to_buffer(sx_hex) {
  const nl_hex = sx_hex.length;
  if (nl_hex % 2 !== 0)
    throw new Error(`Invalid hex string length is not a multiple of 2`);
  const nb_buffer = nl_hex / 2;
  const atu8_buffer = new Uint8Array(nb_buffer);
  for (let i_byte = 0; i_byte < nb_buffer; i_byte++) {
    atu8_buffer[i_byte] = parseInt(sx_hex.slice(i_byte + i_byte, i_byte + i_byte + 2), 16);
  }
  return atu8_buffer;
}
function buffer_to_base64(atu8_buffer) {
  return globalThis.btoa(buffer_to_string8(atu8_buffer));
}
function base64_to_buffer(sx_buffer) {
  return string8_to_buffer(globalThis.atob(sx_buffer));
}
function buffer_to_string8(atu8_buffer) {
  let sx_buffer = "";
  for (const xb_byte of atu8_buffer) {
    sx_buffer += sfcc(xb_byte);
  }
  return sx_buffer;
}
function string8_to_buffer(sx_buffer) {
  const nl_pairs = sx_buffer.length;
  const atu8_buffer = new Uint8Array(nl_pairs);
  for (let i_read = 0; i_read < nl_pairs; i_read++) {
    atu8_buffer[i_read] = sx_buffer.charCodeAt(i_read);
  }
  return atu8_buffer;
}
var sha256 = { exports: {} };
var core = { exports: {} };
(function(module, exports) {
  (function(root, factory2) {
    {
      module.exports = factory2();
    }
  })(commonjsGlobal, function() {
    var CryptoJS = CryptoJS || function(Math2, undefined$1) {
      var crypto2;
      if (typeof window !== "undefined" && window.crypto) {
        crypto2 = window.crypto;
      }
      if (typeof self !== "undefined" && self.crypto) {
        crypto2 = self.crypto;
      }
      if (typeof globalThis !== "undefined" && globalThis.crypto) {
        crypto2 = globalThis.crypto;
      }
      if (!crypto2 && typeof window !== "undefined" && window.msCrypto) {
        crypto2 = window.msCrypto;
      }
      if (!crypto2 && typeof commonjsGlobal !== "undefined" && commonjsGlobal.crypto) {
        crypto2 = commonjsGlobal.crypto;
      }
      if (!crypto2 && typeof commonjsRequire === "function") {
        try {
          crypto2 = require("crypto");
        } catch (err) {
        }
      }
      var cryptoSecureRandomInt = function() {
        if (crypto2) {
          if (typeof crypto2.getRandomValues === "function") {
            try {
              return crypto2.getRandomValues(new Uint32Array(1))[0];
            } catch (err) {
            }
          }
          if (typeof crypto2.randomBytes === "function") {
            try {
              return crypto2.randomBytes(4).readInt32LE();
            } catch (err) {
            }
          }
        }
        throw new Error("Native crypto module could not be used to get secure random number.");
      };
      var create4 = Object.create || function() {
        function F() {
        }
        return function(obj) {
          var subtype;
          F.prototype = obj;
          subtype = new F();
          F.prototype = null;
          return subtype;
        };
      }();
      var C = {};
      var C_lib = C.lib = {};
      var Base = C_lib.Base = function() {
        return {
          extend: function(overrides) {
            var subtype = create4(this);
            if (overrides) {
              subtype.mixIn(overrides);
            }
            if (!subtype.hasOwnProperty("init") || this.init === subtype.init) {
              subtype.init = function() {
                subtype.$super.init.apply(this, arguments);
              };
            }
            subtype.init.prototype = subtype;
            subtype.$super = this;
            return subtype;
          },
          create: function() {
            var instance2 = this.extend();
            instance2.init.apply(instance2, arguments);
            return instance2;
          },
          init: function() {
          },
          mixIn: function(properties) {
            for (var propertyName in properties) {
              if (properties.hasOwnProperty(propertyName)) {
                this[propertyName] = properties[propertyName];
              }
            }
            if (properties.hasOwnProperty("toString")) {
              this.toString = properties.toString;
            }
          },
          clone: function() {
            return this.init.prototype.extend(this);
          }
        };
      }();
      var WordArray = C_lib.WordArray = Base.extend({
        init: function(words, sigBytes) {
          words = this.words = words || [];
          if (sigBytes != undefined$1) {
            this.sigBytes = sigBytes;
          } else {
            this.sigBytes = words.length * 4;
          }
        },
        toString: function(encoder) {
          return (encoder || Hex).stringify(this);
        },
        concat: function(wordArray) {
          var thisWords = this.words;
          var thatWords = wordArray.words;
          var thisSigBytes = this.sigBytes;
          var thatSigBytes = wordArray.sigBytes;
          this.clamp();
          if (thisSigBytes % 4) {
            for (var i = 0; i < thatSigBytes; i++) {
              var thatByte = thatWords[i >>> 2] >>> 24 - i % 4 * 8 & 255;
              thisWords[thisSigBytes + i >>> 2] |= thatByte << 24 - (thisSigBytes + i) % 4 * 8;
            }
          } else {
            for (var j = 0; j < thatSigBytes; j += 4) {
              thisWords[thisSigBytes + j >>> 2] = thatWords[j >>> 2];
            }
          }
          this.sigBytes += thatSigBytes;
          return this;
        },
        clamp: function() {
          var words = this.words;
          var sigBytes = this.sigBytes;
          words[sigBytes >>> 2] &= 4294967295 << 32 - sigBytes % 4 * 8;
          words.length = Math2.ceil(sigBytes / 4);
        },
        clone: function() {
          var clone2 = Base.clone.call(this);
          clone2.words = this.words.slice(0);
          return clone2;
        },
        random: function(nBytes) {
          var words = [];
          for (var i = 0; i < nBytes; i += 4) {
            words.push(cryptoSecureRandomInt());
          }
          return new WordArray.init(words, nBytes);
        }
      });
      var C_enc = C.enc = {};
      var Hex = C_enc.Hex = {
        stringify: function(wordArray) {
          var words = wordArray.words;
          var sigBytes = wordArray.sigBytes;
          var hexChars = [];
          for (var i = 0; i < sigBytes; i++) {
            var bite = words[i >>> 2] >>> 24 - i % 4 * 8 & 255;
            hexChars.push((bite >>> 4).toString(16));
            hexChars.push((bite & 15).toString(16));
          }
          return hexChars.join("");
        },
        parse: function(hexStr) {
          var hexStrLength = hexStr.length;
          var words = [];
          for (var i = 0; i < hexStrLength; i += 2) {
            words[i >>> 3] |= parseInt(hexStr.substr(i, 2), 16) << 24 - i % 8 * 4;
          }
          return new WordArray.init(words, hexStrLength / 2);
        }
      };
      var Latin1 = C_enc.Latin1 = {
        stringify: function(wordArray) {
          var words = wordArray.words;
          var sigBytes = wordArray.sigBytes;
          var latin1Chars = [];
          for (var i = 0; i < sigBytes; i++) {
            var bite = words[i >>> 2] >>> 24 - i % 4 * 8 & 255;
            latin1Chars.push(String.fromCharCode(bite));
          }
          return latin1Chars.join("");
        },
        parse: function(latin1Str) {
          var latin1StrLength = latin1Str.length;
          var words = [];
          for (var i = 0; i < latin1StrLength; i++) {
            words[i >>> 2] |= (latin1Str.charCodeAt(i) & 255) << 24 - i % 4 * 8;
          }
          return new WordArray.init(words, latin1StrLength);
        }
      };
      var Utf8 = C_enc.Utf8 = {
        stringify: function(wordArray) {
          try {
            return decodeURIComponent(escape(Latin1.stringify(wordArray)));
          } catch (e) {
            throw new Error("Malformed UTF-8 data");
          }
        },
        parse: function(utf8Str) {
          return Latin1.parse(unescape(encodeURIComponent(utf8Str)));
        }
      };
      var BufferedBlockAlgorithm = C_lib.BufferedBlockAlgorithm = Base.extend({
        reset: function() {
          this._data = new WordArray.init();
          this._nDataBytes = 0;
        },
        _append: function(data) {
          if (typeof data == "string") {
            data = Utf8.parse(data);
          }
          this._data.concat(data);
          this._nDataBytes += data.sigBytes;
        },
        _process: function(doFlush) {
          var processedWords;
          var data = this._data;
          var dataWords = data.words;
          var dataSigBytes = data.sigBytes;
          var blockSize = this.blockSize;
          var blockSizeBytes = blockSize * 4;
          var nBlocksReady = dataSigBytes / blockSizeBytes;
          if (doFlush) {
            nBlocksReady = Math2.ceil(nBlocksReady);
          } else {
            nBlocksReady = Math2.max((nBlocksReady | 0) - this._minBufferSize, 0);
          }
          var nWordsReady = nBlocksReady * blockSize;
          var nBytesReady = Math2.min(nWordsReady * 4, dataSigBytes);
          if (nWordsReady) {
            for (var offset = 0; offset < nWordsReady; offset += blockSize) {
              this._doProcessBlock(dataWords, offset);
            }
            processedWords = dataWords.splice(0, nWordsReady);
            data.sigBytes -= nBytesReady;
          }
          return new WordArray.init(processedWords, nBytesReady);
        },
        clone: function() {
          var clone2 = Base.clone.call(this);
          clone2._data = this._data.clone();
          return clone2;
        },
        _minBufferSize: 0
      });
      C_lib.Hasher = BufferedBlockAlgorithm.extend({
        cfg: Base.extend(),
        init: function(cfg) {
          this.cfg = this.cfg.extend(cfg);
          this.reset();
        },
        reset: function() {
          BufferedBlockAlgorithm.reset.call(this);
          this._doReset();
        },
        update: function(messageUpdate) {
          this._append(messageUpdate);
          this._process();
          return this;
        },
        finalize: function(messageUpdate) {
          if (messageUpdate) {
            this._append(messageUpdate);
          }
          var hash2 = this._doFinalize();
          return hash2;
        },
        blockSize: 512 / 32,
        _createHelper: function(hasher) {
          return function(message, cfg) {
            return new hasher.init(cfg).finalize(message);
          };
        },
        _createHmacHelper: function(hasher) {
          return function(message, key) {
            return new C_algo.HMAC.init(hasher, key).finalize(message);
          };
        }
      });
      var C_algo = C.algo = {};
      return C;
    }(Math);
    return CryptoJS;
  });
})(core);
(function(module, exports) {
  (function(root, factory2) {
    {
      module.exports = factory2(core.exports);
    }
  })(commonjsGlobal, function(CryptoJS) {
    (function(Math2) {
      var C = CryptoJS;
      var C_lib = C.lib;
      var WordArray = C_lib.WordArray;
      var Hasher = C_lib.Hasher;
      var C_algo = C.algo;
      var H = [];
      var K2 = [];
      (function() {
        function isPrime(n2) {
          var sqrtN = Math2.sqrt(n2);
          for (var factor = 2; factor <= sqrtN; factor++) {
            if (!(n2 % factor)) {
              return false;
            }
          }
          return true;
        }
        function getFractionalBits(n2) {
          return (n2 - (n2 | 0)) * 4294967296 | 0;
        }
        var n = 2;
        var nPrime = 0;
        while (nPrime < 64) {
          if (isPrime(n)) {
            if (nPrime < 8) {
              H[nPrime] = getFractionalBits(Math2.pow(n, 1 / 2));
            }
            K2[nPrime] = getFractionalBits(Math2.pow(n, 1 / 3));
            nPrime++;
          }
          n++;
        }
      })();
      var W2 = [];
      var SHA256 = C_algo.SHA256 = Hasher.extend({
        _doReset: function() {
          this._hash = new WordArray.init(H.slice(0));
        },
        _doProcessBlock: function(M, offset) {
          var H2 = this._hash.words;
          var a = H2[0];
          var b = H2[1];
          var c = H2[2];
          var d = H2[3];
          var e = H2[4];
          var f = H2[5];
          var g = H2[6];
          var h = H2[7];
          for (var i = 0; i < 64; i++) {
            if (i < 16) {
              W2[i] = M[offset + i] | 0;
            } else {
              var gamma0x = W2[i - 15];
              var gamma02 = (gamma0x << 25 | gamma0x >>> 7) ^ (gamma0x << 14 | gamma0x >>> 18) ^ gamma0x >>> 3;
              var gamma1x = W2[i - 2];
              var gamma12 = (gamma1x << 15 | gamma1x >>> 17) ^ (gamma1x << 13 | gamma1x >>> 19) ^ gamma1x >>> 10;
              W2[i] = gamma02 + W2[i - 7] + gamma12 + W2[i - 16];
            }
            var ch2 = e & f ^ ~e & g;
            var maj2 = a & b ^ a & c ^ b & c;
            var sigma02 = (a << 30 | a >>> 2) ^ (a << 19 | a >>> 13) ^ (a << 10 | a >>> 22);
            var sigma12 = (e << 26 | e >>> 6) ^ (e << 21 | e >>> 11) ^ (e << 7 | e >>> 25);
            var t1 = h + sigma12 + ch2 + K2[i] + W2[i];
            var t2 = sigma02 + maj2;
            h = g;
            g = f;
            f = e;
            e = d + t1 | 0;
            d = c;
            c = b;
            b = a;
            a = t1 + t2 | 0;
          }
          H2[0] = H2[0] + a | 0;
          H2[1] = H2[1] + b | 0;
          H2[2] = H2[2] + c | 0;
          H2[3] = H2[3] + d | 0;
          H2[4] = H2[4] + e | 0;
          H2[5] = H2[5] + f | 0;
          H2[6] = H2[6] + g | 0;
          H2[7] = H2[7] + h | 0;
        },
        _doFinalize: function() {
          var data = this._data;
          var dataWords = data.words;
          var nBitsTotal = this._nDataBytes * 8;
          var nBitsLeft = data.sigBytes * 8;
          dataWords[nBitsLeft >>> 5] |= 128 << 24 - nBitsLeft % 32;
          dataWords[(nBitsLeft + 64 >>> 9 << 4) + 14] = Math2.floor(nBitsTotal / 4294967296);
          dataWords[(nBitsLeft + 64 >>> 9 << 4) + 15] = nBitsTotal;
          data.sigBytes = dataWords.length * 4;
          this._process();
          return this._hash;
        },
        clone: function() {
          var clone2 = Hasher.clone.call(this);
          clone2._hash = this._hash.clone();
          return clone2;
        }
      });
      C.SHA256 = Hasher._createHelper(SHA256);
      C.HmacSHA256 = Hasher._createHmacHelper(SHA256);
    })(Math);
    return CryptoJS.SHA256;
  });
})(sha256);
var sha256_sync = sha256.exports;
var sha512 = { exports: {} };
var x64Core = { exports: {} };
(function(module, exports) {
  (function(root, factory2) {
    {
      module.exports = factory2(core.exports);
    }
  })(commonjsGlobal, function(CryptoJS) {
    (function(undefined$1) {
      var C = CryptoJS;
      var C_lib = C.lib;
      var Base = C_lib.Base;
      var X32WordArray = C_lib.WordArray;
      var C_x64 = C.x64 = {};
      C_x64.Word = Base.extend({
        init: function(high, low) {
          this.high = high;
          this.low = low;
        }
      });
      C_x64.WordArray = Base.extend({
        init: function(words, sigBytes) {
          words = this.words = words || [];
          if (sigBytes != undefined$1) {
            this.sigBytes = sigBytes;
          } else {
            this.sigBytes = words.length * 8;
          }
        },
        toX32: function() {
          var x64Words = this.words;
          var x64WordsLength = x64Words.length;
          var x32Words = [];
          for (var i = 0; i < x64WordsLength; i++) {
            var x64Word = x64Words[i];
            x32Words.push(x64Word.high);
            x32Words.push(x64Word.low);
          }
          return X32WordArray.create(x32Words, this.sigBytes);
        },
        clone: function() {
          var clone2 = Base.clone.call(this);
          var words = clone2.words = this.words.slice(0);
          var wordsLength = words.length;
          for (var i = 0; i < wordsLength; i++) {
            words[i] = words[i].clone();
          }
          return clone2;
        }
      });
    })();
    return CryptoJS;
  });
})(x64Core);
(function(module, exports) {
  (function(root, factory2, undef) {
    {
      module.exports = factory2(core.exports, x64Core.exports);
    }
  })(commonjsGlobal, function(CryptoJS) {
    (function() {
      var C = CryptoJS;
      var C_lib = C.lib;
      var Hasher = C_lib.Hasher;
      var C_x64 = C.x64;
      var X64Word = C_x64.Word;
      var X64WordArray = C_x64.WordArray;
      var C_algo = C.algo;
      function X64Word_create() {
        return X64Word.create.apply(X64Word, arguments);
      }
      var K2 = [
        X64Word_create(1116352408, 3609767458),
        X64Word_create(1899447441, 602891725),
        X64Word_create(3049323471, 3964484399),
        X64Word_create(3921009573, 2173295548),
        X64Word_create(961987163, 4081628472),
        X64Word_create(1508970993, 3053834265),
        X64Word_create(2453635748, 2937671579),
        X64Word_create(2870763221, 3664609560),
        X64Word_create(3624381080, 2734883394),
        X64Word_create(310598401, 1164996542),
        X64Word_create(607225278, 1323610764),
        X64Word_create(1426881987, 3590304994),
        X64Word_create(1925078388, 4068182383),
        X64Word_create(2162078206, 991336113),
        X64Word_create(2614888103, 633803317),
        X64Word_create(3248222580, 3479774868),
        X64Word_create(3835390401, 2666613458),
        X64Word_create(4022224774, 944711139),
        X64Word_create(264347078, 2341262773),
        X64Word_create(604807628, 2007800933),
        X64Word_create(770255983, 1495990901),
        X64Word_create(1249150122, 1856431235),
        X64Word_create(1555081692, 3175218132),
        X64Word_create(1996064986, 2198950837),
        X64Word_create(2554220882, 3999719339),
        X64Word_create(2821834349, 766784016),
        X64Word_create(2952996808, 2566594879),
        X64Word_create(3210313671, 3203337956),
        X64Word_create(3336571891, 1034457026),
        X64Word_create(3584528711, 2466948901),
        X64Word_create(113926993, 3758326383),
        X64Word_create(338241895, 168717936),
        X64Word_create(666307205, 1188179964),
        X64Word_create(773529912, 1546045734),
        X64Word_create(1294757372, 1522805485),
        X64Word_create(1396182291, 2643833823),
        X64Word_create(1695183700, 2343527390),
        X64Word_create(1986661051, 1014477480),
        X64Word_create(2177026350, 1206759142),
        X64Word_create(2456956037, 344077627),
        X64Word_create(2730485921, 1290863460),
        X64Word_create(2820302411, 3158454273),
        X64Word_create(3259730800, 3505952657),
        X64Word_create(3345764771, 106217008),
        X64Word_create(3516065817, 3606008344),
        X64Word_create(3600352804, 1432725776),
        X64Word_create(4094571909, 1467031594),
        X64Word_create(275423344, 851169720),
        X64Word_create(430227734, 3100823752),
        X64Word_create(506948616, 1363258195),
        X64Word_create(659060556, 3750685593),
        X64Word_create(883997877, 3785050280),
        X64Word_create(958139571, 3318307427),
        X64Word_create(1322822218, 3812723403),
        X64Word_create(1537002063, 2003034995),
        X64Word_create(1747873779, 3602036899),
        X64Word_create(1955562222, 1575990012),
        X64Word_create(2024104815, 1125592928),
        X64Word_create(2227730452, 2716904306),
        X64Word_create(2361852424, 442776044),
        X64Word_create(2428436474, 593698344),
        X64Word_create(2756734187, 3733110249),
        X64Word_create(3204031479, 2999351573),
        X64Word_create(3329325298, 3815920427),
        X64Word_create(3391569614, 3928383900),
        X64Word_create(3515267271, 566280711),
        X64Word_create(3940187606, 3454069534),
        X64Word_create(4118630271, 4000239992),
        X64Word_create(116418474, 1914138554),
        X64Word_create(174292421, 2731055270),
        X64Word_create(289380356, 3203993006),
        X64Word_create(460393269, 320620315),
        X64Word_create(685471733, 587496836),
        X64Word_create(852142971, 1086792851),
        X64Word_create(1017036298, 365543100),
        X64Word_create(1126000580, 2618297676),
        X64Word_create(1288033470, 3409855158),
        X64Word_create(1501505948, 4234509866),
        X64Word_create(1607167915, 987167468),
        X64Word_create(1816402316, 1246189591)
      ];
      var W2 = [];
      (function() {
        for (var i = 0; i < 80; i++) {
          W2[i] = X64Word_create();
        }
      })();
      var SHA512 = C_algo.SHA512 = Hasher.extend({
        _doReset: function() {
          this._hash = new X64WordArray.init([
            new X64Word.init(1779033703, 4089235720),
            new X64Word.init(3144134277, 2227873595),
            new X64Word.init(1013904242, 4271175723),
            new X64Word.init(2773480762, 1595750129),
            new X64Word.init(1359893119, 2917565137),
            new X64Word.init(2600822924, 725511199),
            new X64Word.init(528734635, 4215389547),
            new X64Word.init(1541459225, 327033209)
          ]);
        },
        _doProcessBlock: function(M, offset) {
          var H = this._hash.words;
          var H0 = H[0];
          var H1 = H[1];
          var H2 = H[2];
          var H3 = H[3];
          var H4 = H[4];
          var H5 = H[5];
          var H6 = H[6];
          var H7 = H[7];
          var H0h = H0.high;
          var H0l = H0.low;
          var H1h = H1.high;
          var H1l = H1.low;
          var H2h = H2.high;
          var H2l = H2.low;
          var H3h = H3.high;
          var H3l = H3.low;
          var H4h = H4.high;
          var H4l = H4.low;
          var H5h = H5.high;
          var H5l = H5.low;
          var H6h = H6.high;
          var H6l = H6.low;
          var H7h = H7.high;
          var H7l = H7.low;
          var ah = H0h;
          var al = H0l;
          var bh = H1h;
          var bl = H1l;
          var ch2 = H2h;
          var cl = H2l;
          var dh = H3h;
          var dl = H3l;
          var eh = H4h;
          var el = H4l;
          var fh = H5h;
          var fl = H5l;
          var gh = H6h;
          var gl = H6l;
          var hh = H7h;
          var hl = H7l;
          for (var i = 0; i < 80; i++) {
            var Wil;
            var Wih;
            var Wi = W2[i];
            if (i < 16) {
              Wih = Wi.high = M[offset + i * 2] | 0;
              Wil = Wi.low = M[offset + i * 2 + 1] | 0;
            } else {
              var gamma0x = W2[i - 15];
              var gamma0xh = gamma0x.high;
              var gamma0xl = gamma0x.low;
              var gamma0h = (gamma0xh >>> 1 | gamma0xl << 31) ^ (gamma0xh >>> 8 | gamma0xl << 24) ^ gamma0xh >>> 7;
              var gamma0l = (gamma0xl >>> 1 | gamma0xh << 31) ^ (gamma0xl >>> 8 | gamma0xh << 24) ^ (gamma0xl >>> 7 | gamma0xh << 25);
              var gamma1x = W2[i - 2];
              var gamma1xh = gamma1x.high;
              var gamma1xl = gamma1x.low;
              var gamma1h = (gamma1xh >>> 19 | gamma1xl << 13) ^ (gamma1xh << 3 | gamma1xl >>> 29) ^ gamma1xh >>> 6;
              var gamma1l = (gamma1xl >>> 19 | gamma1xh << 13) ^ (gamma1xl << 3 | gamma1xh >>> 29) ^ (gamma1xl >>> 6 | gamma1xh << 26);
              var Wi7 = W2[i - 7];
              var Wi7h = Wi7.high;
              var Wi7l = Wi7.low;
              var Wi16 = W2[i - 16];
              var Wi16h = Wi16.high;
              var Wi16l = Wi16.low;
              Wil = gamma0l + Wi7l;
              Wih = gamma0h + Wi7h + (Wil >>> 0 < gamma0l >>> 0 ? 1 : 0);
              Wil = Wil + gamma1l;
              Wih = Wih + gamma1h + (Wil >>> 0 < gamma1l >>> 0 ? 1 : 0);
              Wil = Wil + Wi16l;
              Wih = Wih + Wi16h + (Wil >>> 0 < Wi16l >>> 0 ? 1 : 0);
              Wi.high = Wih;
              Wi.low = Wil;
            }
            var chh = eh & fh ^ ~eh & gh;
            var chl = el & fl ^ ~el & gl;
            var majh = ah & bh ^ ah & ch2 ^ bh & ch2;
            var majl = al & bl ^ al & cl ^ bl & cl;
            var sigma0h = (ah >>> 28 | al << 4) ^ (ah << 30 | al >>> 2) ^ (ah << 25 | al >>> 7);
            var sigma0l = (al >>> 28 | ah << 4) ^ (al << 30 | ah >>> 2) ^ (al << 25 | ah >>> 7);
            var sigma1h = (eh >>> 14 | el << 18) ^ (eh >>> 18 | el << 14) ^ (eh << 23 | el >>> 9);
            var sigma1l = (el >>> 14 | eh << 18) ^ (el >>> 18 | eh << 14) ^ (el << 23 | eh >>> 9);
            var Ki = K2[i];
            var Kih = Ki.high;
            var Kil = Ki.low;
            var t1l = hl + sigma1l;
            var t1h = hh + sigma1h + (t1l >>> 0 < hl >>> 0 ? 1 : 0);
            var t1l = t1l + chl;
            var t1h = t1h + chh + (t1l >>> 0 < chl >>> 0 ? 1 : 0);
            var t1l = t1l + Kil;
            var t1h = t1h + Kih + (t1l >>> 0 < Kil >>> 0 ? 1 : 0);
            var t1l = t1l + Wil;
            var t1h = t1h + Wih + (t1l >>> 0 < Wil >>> 0 ? 1 : 0);
            var t2l = sigma0l + majl;
            var t2h = sigma0h + majh + (t2l >>> 0 < sigma0l >>> 0 ? 1 : 0);
            hh = gh;
            hl = gl;
            gh = fh;
            gl = fl;
            fh = eh;
            fl = el;
            el = dl + t1l | 0;
            eh = dh + t1h + (el >>> 0 < dl >>> 0 ? 1 : 0) | 0;
            dh = ch2;
            dl = cl;
            ch2 = bh;
            cl = bl;
            bh = ah;
            bl = al;
            al = t1l + t2l | 0;
            ah = t1h + t2h + (al >>> 0 < t1l >>> 0 ? 1 : 0) | 0;
          }
          H0l = H0.low = H0l + al;
          H0.high = H0h + ah + (H0l >>> 0 < al >>> 0 ? 1 : 0);
          H1l = H1.low = H1l + bl;
          H1.high = H1h + bh + (H1l >>> 0 < bl >>> 0 ? 1 : 0);
          H2l = H2.low = H2l + cl;
          H2.high = H2h + ch2 + (H2l >>> 0 < cl >>> 0 ? 1 : 0);
          H3l = H3.low = H3l + dl;
          H3.high = H3h + dh + (H3l >>> 0 < dl >>> 0 ? 1 : 0);
          H4l = H4.low = H4l + el;
          H4.high = H4h + eh + (H4l >>> 0 < el >>> 0 ? 1 : 0);
          H5l = H5.low = H5l + fl;
          H5.high = H5h + fh + (H5l >>> 0 < fl >>> 0 ? 1 : 0);
          H6l = H6.low = H6l + gl;
          H6.high = H6h + gh + (H6l >>> 0 < gl >>> 0 ? 1 : 0);
          H7l = H7.low = H7l + hl;
          H7.high = H7h + hh + (H7l >>> 0 < hl >>> 0 ? 1 : 0);
        },
        _doFinalize: function() {
          var data = this._data;
          var dataWords = data.words;
          var nBitsTotal = this._nDataBytes * 8;
          var nBitsLeft = data.sigBytes * 8;
          dataWords[nBitsLeft >>> 5] |= 128 << 24 - nBitsLeft % 32;
          dataWords[(nBitsLeft + 128 >>> 10 << 5) + 30] = Math.floor(nBitsTotal / 4294967296);
          dataWords[(nBitsLeft + 128 >>> 10 << 5) + 31] = nBitsTotal;
          data.sigBytes = dataWords.length * 4;
          this._process();
          var hash2 = this._hash.toX32();
          return hash2;
        },
        clone: function() {
          var clone2 = Hasher.clone.call(this);
          clone2._hash = this._hash.clone();
          return clone2;
        },
        blockSize: 1024 / 32
      });
      C.SHA512 = Hasher._createHelper(SHA512);
      C.HmacSHA512 = Hasher._createHmacHelper(SHA512);
    })();
    return CryptoJS.SHA512;
  });
})(sha512);
var sha512_sync = sha512.exports;
function destroyed() {
  throw new Error("Method called on destroyed SensitiveBytes instance");
}
class SensitiveBytesContext {
  constructor() {
    __publicField(this, "_a_biguints", []);
  }
  random(nb_size) {
    const kn_random = SensitiveBytes.random(nb_size);
    this._a_biguints.push(kn_random);
    return kn_random;
  }
  empty(nb_size) {
    const kn_empty = SensitiveBytes.random(nb_size);
    this._a_biguints.push(kn_empty);
    return kn_empty;
  }
  new(atu8_data) {
    const kn_new = new SensitiveBytes(atu8_data, this);
    this._a_biguints.push(kn_new);
    return kn_new;
  }
  wipe() {
    for (const kn_each of this._a_biguints) {
      kn_each.wipe();
    }
  }
}
class SensitiveBytes {
  constructor(_atu8_data, _kc_context = null) {
    this._atu8_data = _atu8_data;
    this._kc_context = _kc_context;
  }
  static context() {
    return new SensitiveBytesContext();
  }
  static random(nb_size) {
    return new SensitiveBytes(crypto.getRandomValues(new Uint8Array(nb_size)));
  }
  static empty(nb_size = 0) {
    return new SensitiveBytes(new Uint8Array(nb_size));
  }
  get data() {
    return this._atu8_data;
  }
  clone() {
    return new SensitiveBytes(Uint8Array.from(this._atu8_data), this._kc_context);
  }
  wipe() {
    this._atu8_data.fill(0);
    this.clone = this.wipe = this.diff = this.compare = this.mod = destroyed;
    Object.defineProperties(this, {
      data: {
        get: destroyed
      },
      digits: {
        get: destroyed
      }
    });
  }
  leftShift(ni_shift) {
    if (Number.isInteger(ni_shift) || ni_shift < 0) {
      this.wipe();
      throw new Error("Refusing to left shift by argument that is not a non-negative integer");
    }
    if (ni_shift === 0)
      return this.clone();
    const nb_digits_this = this._atu8_data.byteLength;
    const atu8_output = new Uint8Array(nb_digits_this);
    const nb_shift = ni_shift >>> 3;
    const atu8_sub = this._atu8_data.subarray(nb_shift);
    const ni_remainder = ni_shift % 8;
    if (ni_remainder === 0) {
      atu8_output.set(atu8_sub);
      return new SensitiveBytes(atu8_output);
    }
    const xm_truncate = 255 >>> ni_remainder;
    const ni_carry = 8 - ni_remainder;
    let ib_each = 0;
    for (; ib_each < nb_digits_this - 1 - nb_shift; ib_each++) {
      atu8_output[ib_each] = (atu8_sub[ib_each] & xm_truncate) << ni_remainder | atu8_sub[ib_each + 1] >>> ni_carry;
    }
    if (nb_shift === 0) {
      atu8_output[ib_each] <<= ni_shift;
    }
    return new SensitiveBytes(atu8_output);
  }
  rightShift(ni_shift) {
    if (Number.isInteger(ni_shift) || ni_shift < 0) {
      this.wipe();
      throw new Error("Refusing to left shift by argument that is not a non-negative integer");
    }
    if (ni_shift === 0)
      return this.clone();
    const atu8_data = this._atu8_data;
    const nb_digits_this = atu8_data.byteLength;
    const atu8_output = new Uint8Array(nb_digits_this);
    const ni_remainder = ni_shift % 8;
    const nb_shift = ni_shift >>> 3;
    if (ni_remainder === 0) {
      atu8_output.set(atu8_data, nb_shift);
      return new SensitiveBytes(atu8_output);
    }
    const atu8_sub = atu8_data.subarray(0, nb_digits_this - (ni_shift >>> 3));
    const ni_carry = 8 - ni_remainder;
    if (nb_shift === 0) {
      atu8_output[0] >>= ni_shift;
    }
    let ib_each = 1;
    for (; ib_each < nb_digits_this - 1; ib_each++) {
      atu8_output[ib_each] = atu8_sub[ib_each - 1] << ni_carry & 255 | atu8_sub[ib_each] >>> ni_remainder;
    }
    return new SensitiveBytes(atu8_output);
  }
  xor(kn_other) {
    const atu8_data_this = this._atu8_data;
    const atu8_data_other = kn_other._atu8_data;
    const nb_digits_this = atu8_data_this.byteLength;
    if (nb_digits_this !== atu8_data_other.byteLength) {
      this.wipe();
      kn_other.wipe();
      throw new Error("Refusing to XOR buffers of different byte length");
    }
    const atu8_output = new Uint8Array(nb_digits_this);
    for (let ib_each = 0; ib_each < nb_digits_this; ib_each++) {
      atu8_output[ib_each] = atu8_data_this[ib_each] ^ atu8_data_other[ib_each];
    }
    return new SensitiveBytes(atu8_output);
  }
  split(xb_value) {
    const atu8_data = this.data;
    const nb_this = atu8_data.byteLength;
    const a_words = [];
    let ib_start = 0;
    for (let ib_each = 0; ib_each < nb_this; ib_each++) {
      if (xb_value === atu8_data[ib_each]) {
        a_words.push(atu8_data.subarray(ib_start, ib_each));
        ib_start = ib_each + 1;
      }
    }
    return a_words;
  }
}
const d_broadcast_global = new BroadcastChannel("global");
function global_broadcast(g_msg) {
  d_broadcast_global.postMessage(g_msg);
  d_broadcast_global.dispatchEvent(new MessageEvent("message", {
    data: g_msg
  }));
}
function global_receive(h_handlers) {
  const f_listener = (d_event) => {
    const g_msg = d_event.data;
    if (!g_msg || !g_msg.type) {
      throw new Error("Ignored invalid message received on global broadcast channel");
    }
    const {
      type: si_type,
      value: w_value = null
    } = g_msg;
    const f_handler = h_handlers[si_type];
    if (!f_handler)
      return;
    void f_handler(w_value);
  };
  d_broadcast_global.addEventListener("message", f_listener);
  return () => {
    d_broadcast_global.removeEventListener("message", f_listener);
  };
}
async function global_wait(si_key, fk_test, xt_timeout) {
  const s_stack = new Error().stack || "";
  return new Promise((fk_resolve, fe_reject) => {
    let i_timeout = 0;
    const f_unregister = global_receive({
      [si_key]: (w_value) => {
        if (fk_test(w_value)) {
          f_unregister();
          clearTimeout(i_timeout);
          fk_resolve();
        }
      }
    });
    if (Number.isInteger(xt_timeout) && xt_timeout > 0) {
      i_timeout = globalThis.setTimeout(() => {
        f_unregister();
        fe_reject(new Error(`A timeout was reached waiting for the '${si_key}' event
${s_stack}`));
      }, xt_timeout);
    }
  });
}
class NotAuthenticatedError extends Error {
}
class AlreadyRegisteredError extends Error {
}
class InvalidPassphraseError extends Error {
}
class UnregisteredError extends Error {
}
class RecoverableVaultError extends Error {
}
class CorruptedVaultError extends Error {
}
const ATU8_DUMMY_PHRASE = text_to_buffer("32-character-long-dummy-password");
const ATU8_DUMMY_VECTOR = new Uint8Array(crypto.getRandomValues(new Uint8Array(16)));
const NL_PASSPHRASE_MINIMUM = 5;
const NL_PASSPHRASE_MAXIMUM = 1024;
function acceptable(sh_phrase) {
  return typeof sh_phrase === "string" && sh_phrase.length >= NL_PASSPHRASE_MINIMUM && sh_phrase.length <= NL_PASSPHRASE_MAXIMUM;
}
async function register(sh_phrase, f_update = F_NOOP) {
  f_update("Reading from storage");
  const g_root = await Vault.getBase();
  if (Vault.isValidBase(g_root)) {
    throw new AlreadyRegisteredError();
  }
  if (!sh_phrase || !acceptable(sh_phrase)) {
    throw new InvalidPassphraseError();
  }
  const atu8_phrase = text_to_buffer(sh_phrase);
  f_update("Deriving root keys");
  const atu8_entropy = crypto.getRandomValues(new Uint8Array(8));
  const dv_random = new DataView(crypto.getRandomValues(new Uint32Array(2)).buffer);
  const xg_nonce_init = dv_random.getBigUint64(0, false);
  const {
    new: {
      key: dk_root_new,
      nonce: xg_nonce_new
    }
  } = await Vault.deriveRootKeys(atu8_phrase, atu8_entropy, xg_nonce_init);
  f_update("Generating signature");
  const atu8_signature = await Vault.generateRootKeySignature(dk_root_new);
  f_update("Saving to storage");
  await Vault.setParsedBase({
    entropy: atu8_entropy,
    nonce: xg_nonce_new,
    signature: atu8_signature
  });
}
async function login(sh_phrase, b_recover = false, f_update = F_NOOP) {
  f_update("Reading from storage");
  const g_root = await Vault.getBase();
  if (!g_root) {
    throw new UnregisteredError();
  }
  if (!Vault.isValidBase(g_root)) {
    throw new CorruptedVaultError(`Storage is corrupt; root object is missing or partially damaged`);
  }
  const {
    entropy: atu8_entropy,
    nonce: xg_nonce_old,
    signature: atu8_signature_old,
    version: n_version
  } = Vault.parseBase(g_root);
  if (n_version < 1) {
    throw new CorruptedVaultError(`Vault reports to be encrypted with an unknown version identifier`);
  } else if (n_version > 1) {
    throw new CorruptedVaultError(`Vault reports to be encrypted with a newer version identifier`);
  }
  if (!sh_phrase)
    throw new InvalidPassphraseError();
  const atu8_phrase = text_to_buffer(sh_phrase);
  f_update("Deriving root keys");
  const {
    old: {
      key: dk_root_old,
      vector: atu8_vector_old
    },
    new: {
      key: dk_root_new,
      vector: atu8_vector_new,
      nonce: xg_nonce_new
    },
    export: kn_root_new
  } = await Vault.deriveRootKeys(atu8_phrase, atu8_entropy, xg_nonce_old, true);
  try {
    if (!await Vault.verifyRootKey(dk_root_old, atu8_signature_old)) {
      if (!await Vault.verifyRootKey(dk_root_new, atu8_signature_old)) {
        throw new InvalidPassphraseError();
      } else if (!b_recover) {
        throw new RecoverableVaultError();
      }
    }
    f_update("Rotating keys");
    await Vault.recryptAll(dk_root_old, atu8_vector_old, dk_root_new, atu8_vector_new);
    f_update("Generating signature");
    const atu8_signature_new = await Vault.generateRootKeySignature(dk_root_new);
    f_update("Saving to storage");
    await Vault.setParsedBase({
      entropy: atu8_entropy,
      nonce: xg_nonce_new,
      signature: atu8_signature_new
    });
    if (session_storage_is_native) {
      await session_storage_set_native({
        root: dk_root_new,
        vector: atu8_vector_new
      });
    } else {
      await session_storage_set_wrapped({
        root: Array.from(kn_root_new.data),
        vector: Array.from(atu8_vector_new)
      });
    }
    kn_root_new?.wipe();
    global_broadcast({
      type: "login"
    });
    f_update("Done");
  } catch (e_thrown) {
    kn_root_new?.wipe();
    throw e_thrown;
  }
}
function syserr(g_error) {
  console.error(g_error);
}
function syswarn(g_warn) {
  console.warn(g_warn);
}
var ContactAgentType = /* @__PURE__ */ ((ContactAgentType2) => {
  ContactAgentType2["PERSON"] = "person";
  ContactAgentType2["CONTRACT"] = "contract";
  return ContactAgentType2;
})(ContactAgentType || {});
const XT_SECONDS = 1e3;
const XT_MINUTES = 60 * XT_SECONDS;
const R_DOMAIN_LOCALHOST = /^(localhost|127.0.0.1)(:\d+)?$/;
const R_DOMAIN_IP = /^\d+(?:.\d+){3}(:\d+)?$/;
const R_BECH32 = /^(\w+)([13])([a-zA-HJ-NP-Z0-9]{25,39})$/;
const P_PUBLIC_SUFFIX_LIST = "https://raw.githubusercontent.com/publicsuffix/list/master/public_suffix_list.dat";
const P_STARSHELL_DECREES = "https://raw.githubusercontent.com/SolarRepublic/wallet-decrees/master/global.json";
const R_TRANSFER_AMOUNT = /^(\d+)(.+)/;
const SI_STORE_SECRETS = "secrets";
const SI_STORE_APPS = "apps";
const SI_STORE_APP_POLICIES = "app_policies";
const SI_STORE_AGENTS = "agents";
const SI_STORE_SETTINGS = "settings";
const SI_STORE_ACCOUNTS = "accounts";
const SI_STORE_QUERY_CACHE = "query_cache";
const SI_STORE_TAGS = "tags";
const SI_STORE_MEDIA = "media";
const SI_STORE_PFPS = "pfps";
const SI_STORE_CHAINS = "chains";
const SI_STORE_NETWORKS = "networks";
const SI_STORE_ENTITIES = "entities";
const SI_STORE_EVENTS = "events";
const SI_STORE_WEB_RESOURCES = "web_resources";
const SI_STORE_WEB_APIS = "web_apis";
const type_check = (h_input) => h_input;
const H_MEDIA = { "/media.image/sha256.8df5056ed6b806c2e36cd5b4e59f7ada3d832d339a4528417e12d44de9f02156": { "hash": "8df5056ed6b806c2e36cd5b4e59f7ada3d832d339a4528417e12d44de9f02156", "data": "/media/chain/akash.svg" }, "/media.image/sha256.4010e79c2131a2cceee1027940138e866c0c95fa961059ce6958cf5a3ea460c4": { "hash": "4010e79c2131a2cceee1027940138e866c0c95fa961059ce6958cf5a3ea460c4", "data": "/media/chain/cosmos-hub.svg" }, "/media.image/sha256.da6c5b6b3348288b3ea67d4dd9eaf3fc57f7f0bda1ddaf11bd64624f358eec49": { "hash": "da6c5b6b3348288b3ea67d4dd9eaf3fc57f7f0bda1ddaf11bd64624f358eec49", "data": "/media/chain/dvpn.png" }, "/media.image/sha256.8f7927283c16106a4d7e0adf84d087b195d9c2f011d10ddd5d219c8502d6f2af": { "hash": "8f7927283c16106a4d7e0adf84d087b195d9c2f011d10ddd5d219c8502d6f2af", "data": "/media/chain/iris.svg" }, "/media.image/sha256.e6012eddd6d5ff8339fdbc8db0671e70921e6407d51ff14126620a06e5898eeb": { "hash": "e6012eddd6d5ff8339fdbc8db0671e70921e6407d51ff14126620a06e5898eeb", "data": "/media/chain/juno.svg" }, "/media.image/sha256.0439126779b99998d706fd6515935595644b31118814d7cb4749144ea3e9f625": { "hash": "0439126779b99998d706fd6515935595644b31118814d7cb4749144ea3e9f625", "data": "/media/chain/luna.svg" }, "/media.image/sha256.668c28e1a5e0ce6839c6b3a8a35c5dfba3e284a442f7ae4049398472f72ace27": { "hash": "668c28e1a5e0ce6839c6b3a8a35c5dfba3e284a442f7ae4049398472f72ace27", "data": "/media/chain/monero.svg" }, "/media.image/sha256.63b08c298e1dd7f81d61e20bf7fcc8d2e9f9b6a424769b34c7c5a9439c1a1655": { "hash": "63b08c298e1dd7f81d61e20bf7fcc8d2e9f9b6a424769b34c7c5a9439c1a1655", "data": "/media/chain/osmosis.svg" }, "/media.image/sha256.9dedfbec129c61f372221053f27deaf4205e827e487db702a0fc0b83b717e056": { "hash": "9dedfbec129c61f372221053f27deaf4205e827e487db702a0fc0b83b717e056", "data": "/media/chain/regen.png" }, "/media.image/sha256.b04e9464a3d26cea0815da3fd5bf454af9d3317be96732ecda9ea830bdeaeec5": { "hash": "b04e9464a3d26cea0815da3fd5bf454af9d3317be96732ecda9ea830bdeaeec5", "data": "/media/chain/secret-network.svg" }, "/media.image/sha256.4436f974426723faa4948135da5c96842c7c9ced4dfe6ae1556281428fcada3f": { "hash": "4436f974426723faa4948135da5c96842c7c9ced4dfe6ae1556281428fcada3f", "data": "/media/token/secret-secret.svg" }, "/media.image/sha256.af836bf7edee07cefd268465180256b79115a796c2b8e33a440ef987bee95dcc": { "hash": "af836bf7edee07cefd268465180256b79115a796c2b8e33a440ef987bee95dcc", "data": "/media/vendor/logo-128px.png" }, "/media.image/sha256.a5d0053596c7044eb2ffdc43b035e1ffc095dbe667fbdc3d6667e56b7e4b019b": { "hash": "a5d0053596c7044eb2ffdc43b035e1ffc095dbe667fbdc3d6667e56b7e4b019b", "data": "/media/vendor/logo-192px.png" }, "/media.image/sha256.adf28c4af60418bcbff19498d7fcbc938def15322951677cf3838c162ac26c0e": { "hash": "adf28c4af60418bcbff19498d7fcbc938def15322951677cf3838c162ac26c0e", "data": "/media/vendor/logo-256px.png" }, "/media.image/sha256.345ede2f04cdf5c837e9a363dbb27a40c1383d86b371e1445ab4145727ee64c1": { "hash": "345ede2f04cdf5c837e9a363dbb27a40c1383d86b371e1445ab4145727ee64c1", "data": "/media/vendor/logo-32px.png" }, "/media.image/sha256.9457704318786e08034fdcd7ba1917249f91a1e49a3ee0aa5d73339021f4dc13": { "hash": "9457704318786e08034fdcd7ba1917249f91a1e49a3ee0aa5d73339021f4dc13", "data": "/media/vendor/logo-48px.png" }, "/media.image/sha256.4873801c4ffd5294ca110258d39c26f9dd4af896b7c34cda591d5a6a317c8ff7": { "hash": "4873801c4ffd5294ca110258d39c26f9dd4af896b7c34cda591d5a6a317c8ff7", "data": "/media/vendor/logo-64px.png" }, "/media.image/sha256.ab8cba62b0a72801f542bd88580af91fa60a31ff724ef6e732559b706b706196": { "hash": "ab8cba62b0a72801f542bd88580af91fa60a31ff724ef6e732559b706b706196", "data": "/media/vendor/logo-96px.png" }, "/media.image/sha256.602124abca18b5e30da54addb50ca5fb0ca044cd8590c5fd4edc75a98b0f3412": { "hash": "602124abca18b5e30da54addb50ca5fb0ca044cd8590c5fd4edc75a98b0f3412", "data": "/media/vendor/logo.svg" }, "/media.image/sha256.861e55f23f97723dd9e5ff9b4ab708c6b6aef4986d59f66a56ba2e329f7efd15": { "hash": "861e55f23f97723dd9e5ff9b4ab708c6b6aef4986d59f66a56ba2e329f7efd15", "data": "/media/vendor/orb-1.png" }, "/media.image/sha256.88286cacda5af5ae34fb924513e0d5f0158ad535eaf1e452a8013b20acdf8e9e": { "hash": "88286cacda5af5ae34fb924513e0d5f0158ad535eaf1e452a8013b20acdf8e9e", "data": "/media/vendor/orb-1.svg" }, "/media.image/sha256.cf644a4e8f825a6df083b5399e51749dd97af568abdf4146b27374476bf7977b": { "hash": "cf644a4e8f825a6df083b5399e51749dd97af568abdf4146b27374476bf7977b", "data": "/media/vendor/title.svg" }, "/media.image/sha256.6fee1420b6bf2f7c0cad4c59a457abcef727be430705233e141a90cea5bb5622": { "hash": "6fee1420b6bf2f7c0cad4c59a457abcef727be430705233e141a90cea5bb5622", "data": "/media/other/secret-saturn.png" }, "/media.image/sha256.3f62d381cd0f496c946093344fdb27180f12e28241a60ee99a34efc185ae08ff": { "hash": "3f62d381cd0f496c946093344fdb27180f12e28241a60ee99a34efc185ae08ff", "data": "/media/other/supdoggie.png" } };
const H_MEDIA_LOOKUP = { "/media/chain/akash.svg": "/media.image/sha256.8df5056ed6b806c2e36cd5b4e59f7ada3d832d339a4528417e12d44de9f02156", "/media/chain/cosmos-hub.svg": "/media.image/sha256.4010e79c2131a2cceee1027940138e866c0c95fa961059ce6958cf5a3ea460c4", "/media/chain/dvpn.png": "/media.image/sha256.da6c5b6b3348288b3ea67d4dd9eaf3fc57f7f0bda1ddaf11bd64624f358eec49", "/media/chain/iris.svg": "/media.image/sha256.8f7927283c16106a4d7e0adf84d087b195d9c2f011d10ddd5d219c8502d6f2af", "/media/chain/juno.svg": "/media.image/sha256.e6012eddd6d5ff8339fdbc8db0671e70921e6407d51ff14126620a06e5898eeb", "/media/chain/luna.svg": "/media.image/sha256.0439126779b99998d706fd6515935595644b31118814d7cb4749144ea3e9f625", "/media/chain/monero.svg": "/media.image/sha256.668c28e1a5e0ce6839c6b3a8a35c5dfba3e284a442f7ae4049398472f72ace27", "/media/chain/osmosis.svg": "/media.image/sha256.63b08c298e1dd7f81d61e20bf7fcc8d2e9f9b6a424769b34c7c5a9439c1a1655", "/media/chain/regen.png": "/media.image/sha256.9dedfbec129c61f372221053f27deaf4205e827e487db702a0fc0b83b717e056", "/media/chain/secret-network.svg": "/media.image/sha256.b04e9464a3d26cea0815da3fd5bf454af9d3317be96732ecda9ea830bdeaeec5", "/media/token/secret-secret.svg": "/media.image/sha256.4436f974426723faa4948135da5c96842c7c9ced4dfe6ae1556281428fcada3f", "/media/vendor/logo-128px.png": "/media.image/sha256.af836bf7edee07cefd268465180256b79115a796c2b8e33a440ef987bee95dcc", "/media/vendor/logo-192px.png": "/media.image/sha256.a5d0053596c7044eb2ffdc43b035e1ffc095dbe667fbdc3d6667e56b7e4b019b", "/media/vendor/logo-256px.png": "/media.image/sha256.adf28c4af60418bcbff19498d7fcbc938def15322951677cf3838c162ac26c0e", "/media/vendor/logo-32px.png": "/media.image/sha256.345ede2f04cdf5c837e9a363dbb27a40c1383d86b371e1445ab4145727ee64c1", "/media/vendor/logo-48px.png": "/media.image/sha256.9457704318786e08034fdcd7ba1917249f91a1e49a3ee0aa5d73339021f4dc13", "/media/vendor/logo-64px.png": "/media.image/sha256.4873801c4ffd5294ca110258d39c26f9dd4af896b7c34cda591d5a6a317c8ff7", "/media/vendor/logo-96px.png": "/media.image/sha256.ab8cba62b0a72801f542bd88580af91fa60a31ff724ef6e732559b706b706196", "/media/vendor/logo.svg": "/media.image/sha256.602124abca18b5e30da54addb50ca5fb0ca044cd8590c5fd4edc75a98b0f3412", "/media/vendor/orb-1.png": "/media.image/sha256.861e55f23f97723dd9e5ff9b4ab708c6b6aef4986d59f66a56ba2e329f7efd15", "/media/vendor/orb-1.svg": "/media.image/sha256.88286cacda5af5ae34fb924513e0d5f0158ad535eaf1e452a8013b20acdf8e9e", "/media/vendor/title.svg": "/media.image/sha256.cf644a4e8f825a6df083b5399e51749dd97af568abdf4146b27374476bf7977b", "/media/other/secret-saturn.png": "/media.image/sha256.6fee1420b6bf2f7c0cad4c59a457abcef727be430705233e141a90cea5bb5622", "/media/other/supdoggie.png": "/media.image/sha256.3f62d381cd0f496c946093344fdb27180f12e28241a60ee99a34efc185ae08ff" };
const H_STORE_INIT_MEDIA = type_check(H_MEDIA);
const cosmos_bech32s = (s_prefix) => ({
  acc: {
    hrp: s_prefix,
    separator: "1"
  },
  accpub: {
    hrp: `${s_prefix}pub`,
    separator: "1"
  },
  valoper: {
    hrp: `${s_prefix}valoper`,
    separator: "1"
  },
  valoperpub: {
    hrp: `${s_prefix}valoperpub`,
    separator: "1"
  },
  valcons: {
    hrp: `${s_prefix}valcons`,
    separator: "1"
  },
  valconspub: {
    hrp: `${s_prefix}valconspub`,
    separator: "1"
  }
});
const H_STORE_INIT_PFPS = type_check(fold([
  {
    type: "plain",
    image: {
      default: H_MEDIA_LOOKUP["/media/vendor/logo.svg"]
    }
  },
  {
    type: "plain",
    image: {
      default: H_MEDIA_LOOKUP["/media/chain/cosmos-hub.svg"]
    }
  },
  {
    type: "plain",
    image: {
      default: H_MEDIA_LOOKUP["/media/chain/secret-network.svg"]
    }
  },
  {
    type: "plain",
    image: {
      default: H_MEDIA_LOOKUP["/media/token/secret-secret.svg"]
    }
  },
  {
    type: "plain",
    image: {
      default: H_MEDIA_LOOKUP["/media/other/secret-saturn.png"]
    }
  },
  {
    type: "plain",
    image: {
      default: H_MEDIA_LOOKUP["/media/other/supdoggie.png"]
    }
  }
], (g_pfp, i_pfp) => ({
  [`/template.pfp/id.${i_pfp}`]: g_pfp
})));
const H_LOOKUP_PFP = {};
for (const [p_pfp, g_pfp] of ode(H_STORE_INIT_PFPS)) {
  if (g_pfp.type === "plain") {
    const g_media = H_MEDIA[g_pfp.image.default];
    H_LOOKUP_PFP[g_media.data] = p_pfp;
  }
}
const H_STORE_INIT_CHAINS = type_check({
  "/family.cosmos/chain.pulsar-2": {
    name: "Secret Pulsar",
    pfp: H_LOOKUP_PFP["/media/chain/secret-network.svg"],
    family: "cosmos",
    id: "pulsar-2",
    bech32s: cosmos_bech32s("secret"),
    bip44: {
      coinType: 529
    },
    coins: {
      SCRT: {
        decimals: 6,
        denom: "uscrt",
        name: "Secret",
        pfp: H_LOOKUP_PFP["/media/chain/secret-network.svg"],
        extra: {
          coingecko_id: "secret"
        }
      }
    },
    tokenInterfaces: ["snip-20", "snip-21", "snip-721", "snip-722"],
    testnet: true
  },
  "/family.cosmos/chain.theta-testnet-001": {
    name: "Cosmos Hub Theta",
    pfp: H_LOOKUP_PFP["/media/chain/cosmos-hub.svg"],
    family: "cosmos",
    id: "theta-testnet-001",
    bech32s: cosmos_bech32s("cosmos"),
    bip44: {
      coinType: 118
    },
    coins: {
      ATOM: {
        decimals: 6,
        denom: "uatom",
        name: "Cosmos",
        pfp: H_LOOKUP_PFP["/media/chain/cosmos-hub.svg"],
        extra: {
          coingecko_id: "cosmos-hub"
        }
      }
    },
    tokenInterfaces: ["cw-20"],
    testnet: true
  }
});
const H_STORE_INIT_NETWORKS = type_check(fold([
  {
    name: "\u{1D54A}ecret \u{1D54A}aturn",
    pfp: H_LOOKUP_PFP["/media/other/secret-saturn.png"],
    chain: "/family.cosmos/chain.pulsar-2",
    grpcWebUrl: "https://grpc.testnet.secretsaturn.net",
    rpcHost: "rpc.testnet.secretsaturn.net"
  },
  {
    name: "Polypore",
    pfp: "",
    chain: "/family.cosmos/chain.theta-testnet-001",
    grpcWebUrl: "https://grpc.sentry-01.theta-testnet.polypore.xyz"
  }
], (g_each) => ({
  [`/network.${buffer_to_base64(sha256_sync_insecure(text_to_buffer(g_each.grpcWebUrl)))}`]: g_each
})));
const H_STORE_INIT_APPS = type_check(fold([
  {
    scheme: "https",
    host: "app.starshell.net",
    connections: {},
    pfp: H_LOOKUP_PFP["/media/vendor/logo.svg"]
  },
  {
    scheme: "https",
    host: "faucet.secrettestnet.io",
    connections: {},
    pfp: ""
  }
], (g_each) => ({
  [`/scheme.${g_each.scheme}/host.${g_each.host.replace(/:/g, "+")}`]: g_each
})));
const H_STORE_INIT_AGENTS = type_check(fold([
  {
    name: "supdoggie",
    notes: "",
    agentType: ContactAgentType.PERSON,
    space: "acc",
    family: "cosmos",
    chains: {},
    pfp: H_LOOKUP_PFP["/media/other/supdoggie.png"],
    address: "0mtm48ul5mcgjj4hm0a4j3td4l5pt590erl3k9",
    origin: "built-in"
  },
  {
    name: "faucet.secrettestnet.io",
    notes: "",
    agentType: ContactAgentType.PERSON,
    space: "acc",
    family: "cosmos",
    chains: {},
    pfp: "",
    address: "3fqtu0lxsvn8gtlf3mz5kt75spxv93ssa6vecf",
    origin: "built-in"
  }
], (g_contact) => ({
  [`/family.${g_contact.family}/agent.${g_contact.address}/as.contact`]: g_contact
})));
const H_STORE_INITS = {
  [SI_STORE_APPS]: H_STORE_INIT_APPS,
  [SI_STORE_APP_POLICIES]: {
    hq: [],
    user: []
  },
  [SI_STORE_ACCOUNTS]: {},
  [SI_STORE_AGENTS]: H_STORE_INIT_AGENTS,
  [SI_STORE_CHAINS]: H_STORE_INIT_CHAINS,
  [SI_STORE_NETWORKS]: H_STORE_INIT_NETWORKS,
  [SI_STORE_SETTINGS]: {},
  [SI_STORE_MEDIA]: H_STORE_INIT_MEDIA,
  [SI_STORE_PFPS]: H_STORE_INIT_PFPS,
  [SI_STORE_ENTITIES]: {},
  [SI_STORE_EVENTS]: [],
  [SI_STORE_SECRETS]: {},
  [SI_STORE_TAGS]: {
    registry: oderac({
      pink: "#D500F9",
      hot: "#C51162",
      orange: "#FF4D21",
      gold: "#FF8622",
      yellow: "#EEB521",
      autum: "#7E9E24",
      grass: "#3A6F16",
      teal: "#009688",
      sky: "#1976D2",
      violet: "#6200EA",
      gray: "#607D8B",
      brown: "#795548",
      bright: "#ffffff"
    }, (si_key, s_value, i_entry) => ({
      index: i_entry,
      color: s_value,
      name: si_key,
      info: ""
    })),
    map: {}
  },
  [SI_STORE_QUERY_CACHE]: {},
  [SI_STORE_WEB_RESOURCES]: {},
  [SI_STORE_WEB_APIS]: {}
};
const ATU8_SHA256_STARSHELL = hex_to_buffer(sha256_sync("starshell").toString());
hex_to_buffer(sha512_sync("starshell").toString());
const N_ITERATIONS = 20;
const NB_SALT = 256 >> 3;
const SI_PRF = "SHA-512";
const NI_DERIVED_AES_KEY = 256;
const NB_RECRYPTION_THRESHOLD = 32 * 1024;
const GC_DERIVE_ROOT_SIGNING = {
  name: "HMAC",
  hash: "SHA-256"
};
const GC_DERIVE_ROOT_CIPHER = {
  name: "AES-GCM",
  length: NI_DERIVED_AES_KEY
};
const GC_HKDF_COMMON = {
  name: "HKDF",
  hash: "SHA-256",
  salt: ATU8_SHA256_STARSHELL,
  info: Uint8Array.from([])
};
const A_STORE_KEYS = ["keys", ...Object.keys(H_STORE_INITS)];
const SI_FRAME_LOCAL = crypto.randomUUID().slice(24);
const hm_privates$1 = /* @__PURE__ */ new WeakMap();
async function restore_as_key(z_data, w_kdf, b_extractable, a_usages) {
  if (Array.isArray(z_data)) {
    return await crypto.subtle.importKey("raw", Uint8Array.from(z_data), w_kdf, false, a_usages);
  }
  return z_data;
}
function restore_as_buffer(z_data) {
  if (Array.isArray(z_data)) {
    return Uint8Array.from(z_data);
  }
  return z_data;
}
const {
  session_storage_get,
  session_storage_set_native,
  session_storage_set_wrapped,
  session_storage_remove,
  session_storage_clear,
  session_storage_is_native
} = (() => {
  if (chrome.storage["session"]) {
    const d_session = chrome.storage.session;
    return {
      async session_storage_get(si_key) {
        return (await d_session.get([si_key]))[si_key];
      },
      session_storage_set_native(h_set_native) {
        throw new Error("Implementation bug; cannot use native session storage");
      },
      async session_storage_set_wrapped(h_set_wrapped) {
        return await d_session.set(h_set_wrapped);
      },
      async session_storage_remove(si_key) {
        return await d_session.remove(si_key);
      },
      async session_storage_clear() {
        return await d_session.clear();
      },
      session_storage_is_native: false
    };
  } else {
    const dw_background = chrome.extension.getBackgroundPage();
    if (!dw_background) {
      throw new Error("Browser does not support any type of session storage");
    }
    let g_session = dw_background["_g_session"] = {};
    return {
      async session_storage_get(si_key) {
        return g_session[si_key] ?? null;
      },
      async session_storage_set_native(h_set_native) {
        for (const [si_key, w_value] of ode(h_set_native)) {
          session_storage_remove(si_key);
          g_session[si_key] = w_value;
        }
      },
      async session_storage_set_wrapped(h_set_wrapped) {
        throw new Error("Implementation bug; cannot use wrapped session storage");
      },
      async session_storage_remove(si_key) {
        const z_value = g_session[si_key];
        if (z_value && typeof z_value === "object") {
          if (Array.isArray(z_value) || ArrayBuffer.isView(z_value)) {
            zero_out(z_value);
          }
        }
        delete g_session[si_key];
      },
      async session_storage_clear() {
        for (const [si_key, w_value] of ode(g_session)) {
          session_storage_remove(si_key);
        }
        dw_background["_g_session"] = g_session = {};
      },
      session_storage_is_native: true
    };
  }
})();
async function session_storage_set_isomorphic(h_set) {
  if (session_storage_is_native) {
    await session_storage_set_native(h_set);
  } else {
    await session_storage_set_wrapped(h_set);
  }
}
async function hkdf_params() {
  const g_base = await Vault.getBase();
  let atu8_salt;
  if (Vault.isValidBase(g_base)) {
    atu8_salt = await Vault.getSalt();
    if (!atu8_salt || NB_SALT !== atu8_salt.byteLength) {
      throw new Error("Vault is irreparably corrupted. No salt was found.");
    }
  } else {
    atu8_salt = crypto.getRandomValues(new Uint8Array(NB_SALT));
    await Vault.setSalt(atu8_salt);
  }
  return {
    ...GC_HKDF_COMMON,
    salt: atu8_salt
  };
}
function pbkdf2_derive2(ab_nonce, x_iteration_multiplier = 0) {
  return async function(dk_base) {
    return new SensitiveBytes(new Uint8Array(await crypto.subtle.deriveBits({
      name: "PBKDF2",
      salt: ab_nonce,
      iterations: x_iteration_multiplier ? Math.ceil(N_ITERATIONS * x_iteration_multiplier) : N_ITERATIONS,
      hash: SI_PRF
    }, dk_base, 256)));
  };
}
class DecryptionError extends Error {
  constructor(original) {
    super("Failed to decrypt data: " + original);
    this.original = original;
  }
}
async function decrypt(atu8_data, dk_key, atu8_nonce, atu8_verify = ATU8_SHA256_STARSHELL) {
  try {
    return new Uint8Array(await crypto.subtle.decrypt({
      name: "AES-GCM",
      iv: atu8_nonce,
      additionalData: atu8_verify
    }, dk_key, atu8_data));
  } catch (e_decrypt) {
    console.warn(`
			const atu8_key = Uint8Array.from([${Array.from(new Uint8Array(await crypto.subtle.exportKey("raw", dk_key))).join(",")}]);
			const dk_key = await crypto.subtle.importKey('raw', atu8_key, 'AES-GCM', true, ['encrypt', 'decrypt']);
			const atu8_nonce = Uint8Array.from([${Array.from(atu8_nonce).join(",")}]);
			const atu8_verify = Uint8Array.from([${Array.from(atu8_verify).join(",")}]);
			const atu8_data = Uint8Array.from([${Array.from(atu8_data).join(",")}]);
			const atu8_ans = await crypto.subtle.decrypt({
				name: 'AES-GCM',
				iv: atu8_nonce,
				additionalData: atu8_verify,
			}, dk_key, atu8_data);
		`);
    debugger;
    throw new DecryptionError(e_decrypt);
  }
}
class EncryptionError extends Error {
  constructor(original) {
    super("Failed to encrypt data: " + original);
    this.original = original;
  }
}
async function encrypt(atu8_data, dk_key, atu8_nonce, atu8_verify = ATU8_SHA256_STARSHELL) {
  try {
    return new Uint8Array(await crypto.subtle.encrypt({
      name: "AES-GCM",
      iv: atu8_nonce,
      additionalData: atu8_verify
    }, dk_key, atu8_data));
  } catch (e_encrypt) {
    throw new EncryptionError(e_encrypt);
  }
}
const h_release_waiters_local = {};
const Vault = {
  async getBase() {
    return (await chrome.storage.local.get(["base"]))["base"];
  },
  isValidBase(z_test) {
    return !!z_test && typeof z_test === "object" && typeof z_test["version"] === "number" && typeof z_test["entropy"] === "string" && typeof z_test["nonce"] === "string" && typeof z_test["signature"] === "string";
  },
  parseBase(g_base) {
    return {
      version: g_base.version,
      entropy: hex_to_buffer(g_base.entropy),
      nonce: BigInt(g_base.nonce),
      signature: hex_to_buffer(g_base.signature)
    };
  },
  async setParsedBase(g_base) {
    return await chrome.storage.local.set({
      base: {
        version: 1,
        entropy: buffer_to_hex(g_base.entropy),
        nonce: g_base.nonce + "",
        signature: buffer_to_hex(g_base.signature)
      }
    });
  },
  async eraseBase() {
    return await chrome.storage.local.remove(["base"]);
  },
  async getSalt() {
    const sx_salt = (await chrome.storage.local.get(["salt"]))["salt"];
    return sx_salt ? hex_to_buffer(sx_salt) : void 0;
  },
  async setSalt(atu8_salt) {
    return await chrome.storage.local.set({
      salt: buffer_to_hex(atu8_salt)
    });
  },
  async getRootKey() {
    const w_root = await session_storage_get("root");
    if (!w_root)
      return null;
    return await restore_as_key(w_root, "HKDF", false, ["deriveKey"]);
  },
  async clearRootKey() {
    let dw_background;
    if (chrome.extension.getBackgroundPage && (dw_background = chrome.extension.getBackgroundPage())) {
      delete dw_background["_dk_root"];
    }
    global_broadcast({
      type: "logout"
    });
    await Promise.all([
      session_storage_clear()
    ]);
  },
  deriveRootBits(atu8_phrase, ab_nonce, x_iteration_multiplier = 0) {
    return crypto.subtle.importKey("raw", atu8_phrase, "PBKDF2", false, ["deriveBits"]).then(pbkdf2_derive2(ab_nonce, x_iteration_multiplier));
  },
  async deriveRootKeys(atu8_phrase, atu8_entropy, xg_nonce_old, b_export_new = false) {
    const xg_nonce_new = (xg_nonce_old + 1n) % 2n ** 64n;
    const atu8_vector_old = new Uint8Array(16);
    const atu8_vector_new = new Uint8Array(16);
    atu8_vector_old.set(atu8_entropy, 0);
    atu8_vector_new.set(atu8_entropy, 0);
    new DataView(atu8_vector_old.buffer).setBigUint64(8, xg_nonce_old, false);
    new DataView(atu8_vector_new.buffer).setBigUint64(8, xg_nonce_new, false);
    const [
      kn_root_old,
      kn_root_new
    ] = await Promise.all([
      Vault.deriveRootBits(atu8_phrase, atu8_vector_old),
      Vault.deriveRootBits(atu8_phrase, atu8_vector_new)
    ]);
    zero_out(atu8_phrase);
    const [
      dk_root_old,
      dk_root_new
    ] = await Promise.all([
      crypto.subtle.importKey("raw", kn_root_old.data, "HKDF", false, ["deriveKey"]),
      crypto.subtle.importKey("raw", kn_root_new.data, "HKDF", false, ["deriveKey"])
    ]);
    kn_root_old.wipe();
    if (!b_export_new)
      kn_root_new.wipe();
    return {
      old: {
        key: dk_root_old,
        vector: atu8_vector_old,
        nonce: xg_nonce_old
      },
      new: {
        key: dk_root_new,
        vector: atu8_vector_new,
        nonce: xg_nonce_new
      },
      export: b_export_new ? kn_root_new : null
    };
  },
  async cipherKey(dk_root, b_encrypt = false) {
    return crypto.subtle.deriveKey(await hkdf_params(), dk_root, GC_DERIVE_ROOT_CIPHER, true, b_encrypt ? ["encrypt", "decrypt"] : ["decrypt"]);
  },
  async signatureKey(dk_root, b_signer = false) {
    return crypto.subtle.deriveKey(await hkdf_params(), dk_root, GC_DERIVE_ROOT_SIGNING, false, b_signer ? ["sign"] : ["verify"]);
  },
  async generateRootKeySignature(dk_root) {
    const dk_verify = await Vault.signatureKey(dk_root, true);
    return new Uint8Array(await crypto.subtle.sign("HMAC", dk_verify, ATU8_SHA256_STARSHELL));
  },
  async verifyRootKey(dk_root, atu8_test) {
    const dk_verify = await Vault.signatureKey(dk_root, false);
    return await crypto.subtle.verify("HMAC", dk_verify, atu8_test, ATU8_SHA256_STARSHELL);
  },
  async recryptAll(dk_root_old, atu8_nonce_old, dk_root_new, atu8_nonce_new) {
    const a_promises = [];
    let cb_pending = 0;
    const [
      dk_aes_old,
      dk_aes_new
    ] = await Promise.all([
      Vault.cipherKey(dk_root_old, false),
      Vault.cipherKey(dk_root_new, true)
    ]);
    debugger;
    for (const si_key of A_STORE_KEYS) {
      if (si_key === "media")
        debugger;
      const sx_entry = (await chrome.storage.local.get([si_key]))[si_key];
      if (!sx_entry)
        continue;
      const atu8_entry = string8_to_buffer(sx_entry);
      cb_pending += atu8_entry.byteLength;
      a_promises.push((async () => {
        let atu8_data;
        try {
          atu8_data = await decrypt(atu8_entry, dk_aes_old, atu8_nonce_old);
        } catch (e_decrypt) {
          atu8_data = await decrypt(atu8_entry, dk_aes_new, atu8_nonce_old);
        }
        const atu8_replace = await encrypt(atu8_data, dk_aes_new, atu8_nonce_new);
        await chrome.storage.local.set({
          [si_key]: buffer_to_string8(atu8_replace)
        });
        cb_pending -= atu8_entry.byteLength;
      })());
      if (cb_pending > NB_RECRYPTION_THRESHOLD) {
        await Promise.all(a_promises);
        a_promises.length = 0;
      }
    }
    await Promise.all(a_promises);
  },
  async peekJson(si_key, dk_cipher) {
    const kp_store = await Vault.acquire(si_key);
    const w_read = kp_store.readJson(dk_cipher);
    await kp_store.release();
    return w_read;
  },
  async readonly(si_key) {
    const sx_entry = (await chrome.storage.local.get(si_key))[si_key];
    return new VaultEntry(si_key, sx_entry ?? "");
  },
  async acquire(si_key, c_attempts = 0) {
    const si_lock = `lock_${si_key}`;
    const sx_owner = await session_storage_get(si_lock);
    if (sx_owner) {
      const [si_frame, si_moment] = sx_owner.split(":");
      if (SI_FRAME_LOCAL === si_frame) {
        await new Promise((fk_resolve) => {
          let i_timeout = 0;
          (h_release_waiters_local[si_key] = h_release_waiters_local[si_key] || []).push(() => {
            clearTimeout(i_timeout);
            fk_resolve(void 0);
          });
          i_timeout = globalThis.setTimeout(() => {
            syserr({
              text: `Local lock on '${si_key}' lasted more than 5 seconds; possible bug in implementation.`
            });
          }, 5e3);
        });
      } else {
        console.warn(`'${si_key}' store is currently locked on a remote frame: ${sx_owner}; waiting for release`);
        try {
          await global_wait("releaseStore", (g_release) => si_key === g_release.key, 5e3);
        } catch (e_timeout) {
          syswarn({
            text: "Recovered from previous interrupted shutdown."
          });
          await session_storage_remove(`lock_${si_key}`);
        }
      }
    }
    const si_self = SI_FRAME_LOCAL + ":" + crypto.randomUUID().slice(24);
    await session_storage_set_isomorphic({ [si_lock]: si_self });
    if (si_self !== await session_storage_get(si_lock)) {
      if (c_attempts > 10) {
        throw new Error(`Exceeded maximum retry count while trying to checkout "${si_key}" from the vault`);
      }
      return await Vault.acquire(si_key, c_attempts + 1);
    }
    global_broadcast({
      type: "acquireStore",
      value: {
        key: si_key
      }
    });
    const sx_entry = (await chrome.storage.local.get(si_key))[si_key];
    return new WritableVaultEntry(si_key, sx_entry ?? "");
  }
};
function VaultEntry$_fields(kv_this) {
  const g_privates = hm_privates$1.get(kv_this);
  if (!g_privates) {
    throw new Error(`Attempted to use '${kv_this._si_key}' store after it was released or it was never opened for writing.`);
  }
  return g_privates;
}
class VaultEntry {
  constructor(_si_key, sx_store) {
    this._si_key = _si_key;
    hm_privates$1.set(this, {
      atu8_ciphertext: string8_to_buffer(sx_store)
    });
  }
  async read(dk_cipher) {
    const atu8_vector = restore_as_buffer(await session_storage_get("vector"));
    if (!atu8_vector) {
      throw new NotAuthenticatedError();
    }
    const g_privates = VaultEntry$_fields(this);
    if (!g_privates.atu8_ciphertext.byteLength) {
      return new Uint8Array(0);
    }
    return await decrypt(g_privates.atu8_ciphertext, dk_cipher, atu8_vector);
  }
  async readJson(dk_cipher) {
    let h_store = {};
    try {
      const atu8_store = await this.read(dk_cipher);
      if (!atu8_store.byteLength)
        return null;
      h_store = JSON.parse(buffer_to_text(atu8_store));
      zero_out(atu8_store);
    } catch (e_read) {
      try {
        if (this instanceof WritableVaultEntry) {
          void this.release();
        }
      } catch (e_ignore) {
      }
      throw e_read;
    }
    return h_store;
  }
}
class WritableVaultEntry extends VaultEntry {
  async release() {
    VaultEntry$_fields(this);
    hm_privates$1.delete(this);
    await session_storage_remove(`lock_${this._si_key}`);
    if (this._si_key in h_release_waiters_local) {
      for (const f_notify of h_release_waiters_local[this._si_key]) {
        f_notify();
      }
    }
    global_broadcast({
      type: "releaseStore",
      value: {
        key: this._si_key
      }
    });
  }
  async write(atu8_data, dk_cipher, b_init = false) {
    const g_privates = VaultEntry$_fields(this);
    const atu8_vector = restore_as_buffer(await session_storage_get("vector"));
    if (!atu8_vector) {
      throw new NotAuthenticatedError();
    }
    const atu8_ciphertext = await encrypt(atu8_data, dk_cipher, atu8_vector);
    await chrome.storage.local.set({
      [this._si_key]: buffer_to_string8(atu8_ciphertext)
    });
    zero_out(g_privates.atu8_ciphertext);
    g_privates.atu8_ciphertext = atu8_ciphertext;
    queueMicrotask(() => {
      global_broadcast({
        type: "updateStore",
        value: {
          key: this._si_key,
          init: b_init
        }
      });
    });
  }
  async writeJson(w_value, dk_cipher, b_init = false) {
    const atu8_data = text_to_buffer(JSON.stringify(w_value));
    return await this.write(atu8_data, dk_cipher, b_init);
  }
}
const hm_privates = /* @__PURE__ */ new WeakMap();
class WritableStore {
  constructor(_kv_store, _w_cache, dk_cipher) {
    this._kv_store = _kv_store;
    this._w_cache = _w_cache;
    hm_privates.set(this, {
      dk_cipher
    });
  }
  get raw() {
    return this._w_cache;
  }
  release() {
    return this._kv_store.release();
  }
  save(b_init = false) {
    return this._kv_store.writeJson(this._w_cache, hm_privates.get(this).dk_cipher, b_init);
  }
}
class WritableStoreMap extends WritableStore {
  *[Symbol.iterator]() {
    for (const a_pair of ode(this._w_cache)) {
      yield a_pair;
    }
  }
  at(p_res) {
    return this._w_cache[p_res] ?? null;
  }
  reduce(f_map) {
    return oderac(this._w_cache, f_map);
  }
  entries() {
    return ode(this._w_cache);
  }
}
class WritableStoreDict extends WritableStore {
  get(si_key) {
    return this._w_cache[si_key] ?? null;
  }
  async set(si_key, w_value) {
    this._w_cache[si_key] = w_value;
    await this.save();
  }
}
async function fetch_cipher() {
  const dk_root = await Vault.getRootKey();
  if (!dk_root)
    throw new NotAuthenticatedError();
  return await Vault.cipherKey(dk_root, true);
}
function create_store_class({
  store: si_store,
  class: dc_store,
  extension: s_extension
}) {
  return Object.assign(dc_store, {
    async open(fk_use) {
      const dk_cipher = await fetch_cipher();
      const kv_store = await Vault.acquire(si_store);
      let w_store = await kv_store.readJson(dk_cipher);
      let b_save = false;
      if (!w_store) {
        w_store = H_STORE_INITS[si_store];
        b_save = true;
        if (si_store === "media")
          debugger;
      }
      const ks_store = new dc_store(kv_store, w_store, dk_cipher);
      if (b_save)
        await ks_store.save(true);
      const w_return = await fk_use(ks_store);
      await ks_store.release();
      return w_return;
    },
    read() {
      return dc_store["open"]((ks_store) => ks_store);
    },
    ...s_extension === "map" && {
      async at(si_key) {
        return await dc_store["open"]((ks_self) => ks_self.at(si_key));
      }
    },
    ...s_extension === "dict" && {
      async get(si_key) {
        return await dc_store["open"]((ks_self) => ks_self.get(si_key));
      },
      async set(si_key, w_value) {
        return await dc_store["open"]((ks_self) => ks_self.put(si_key, w_value));
      }
    }
  });
}
function subscribe_store(si_key, f_callback) {
  return global_receive({
    updateStore({ key: si_store, init: b_init }) {
      if (si_store === si_key) {
        f_callback(b_init);
      }
    }
  });
}
(async () => {
  await instantiateRipemd160();
})();
const Chains = create_store_class({
  store: SI_STORE_CHAINS,
  class: class ChainsI extends WritableStoreMap {
    static pathFor(si_family, si_chain) {
      return `/family.${si_family}/chain.${si_chain}`;
    }
    static pathFrom(g_chain) {
      return ChainsI.pathFor(g_chain.family, g_chain.id);
    }
    static addressFor(s_pubkey, g_chain = yw_chain.get(), g_bech32 = g_chain.bech32s.acc) {
      const atu8_sha256 = sha256_sync$1(base64_to_buffer(s_pubkey));
      const atu8_ripemd160 = ripemd160_sync(atu8_sha256);
      return bech32.encode(g_bech32.hrp, bech32.toWords(atu8_ripemd160));
    }
    static bech32(s_addr, g_chain = yw_chain.get(), g_bech32 = g_chain.bech32s.acc) {
      return `${g_bech32.hrp}${g_bech32.separator}${s_addr}`;
    }
    static get(si_family, si_chain) {
      return Chains.read().then((ks) => ks.get(si_family, si_chain));
    }
    static at(p_chain) {
      return Chains.read().then((ks) => ks.at(p_chain));
    }
    static isValidAddressFor(g_chain, s_address, si_purpose = "acc") {
      if (g_chain.bech32s) {
        const m_bech32 = R_BECH32.exec(s_address);
        return m_bech32 && m_bech32[1] === g_chain.bech32s[si_purpose].hrp && m_bech32[2] === g_chain.bech32s[si_purpose].separator;
      } else {
        return false;
      }
    }
    *inFamily(si_family) {
      const p_prefix = ChainsI.pathFor(si_family, "");
      for (const [p_chain, g_chain] of ode(this._w_cache)) {
        if (p_chain.startsWith(p_prefix)) {
          yield [p_chain, g_chain];
        }
      }
    }
    get(si_family, si_chain) {
      const p_res = ChainsI.pathFor(si_family, si_chain);
      return this._w_cache[p_res] ?? null;
    }
    async put(g_res) {
      const p_res = ChainsI.pathFrom(g_res);
      this._w_cache[p_res] = g_res;
      await this.save();
      return p_res;
    }
  }
});
const TokenRegistry = {
  "cw-20": {
    attributes: {
      fungible: false
    }
  },
  "snip-20": {
    attributes: {
      fungible: true
    }
  },
  "snip-21": {
    extends: "snip-20",
    attributes: {
      fungible: true
    }
  },
  "snip-721": {
    attributes: {
      fungible: false
    }
  },
  "snip-722": {
    extends: "snip-721",
    attributes: {
      fungible: false
    }
  }
};
const Entities = create_store_class({
  store: SI_STORE_ENTITIES,
  class: class EntitiesI extends WritableStoreDict {
    static pathFrom(g_entity, g_chain = yw_chain.get()) {
      return `${Chains.pathFrom(g_chain)}/bech32.${g_entity.bech32}`;
    }
    static parseEntityPath(p_entity) {
      const a_paths = p_entity.slice(1).split("/");
      if (a_paths.length < 3)
        return null;
      if (!a_paths[0].startsWith("family.") || !a_paths[1].startsWith("chain.") || !a_paths[2].startsWith("bech32.")) {
        return null;
      }
      let si_type;
      let si_coin = "";
      if (a_paths[3] === "as.contract") {
        si_type = "contract";
      } else if (a_paths[3] === "as.token") {
        si_type = "token";
      } else if (a_paths[3].startsWith("holding.")) {
        si_type = "holding";
        si_coin = a_paths[3].slice(a_paths[3].indexOf(".") + 1);
      } else {
        return null;
      }
      const p_chain = "/" + a_paths.slice(0, 2).join("/");
      return {
        chainRef: p_chain,
        entityRef: `${p_chain}/${a_paths[3]}`,
        bech32: a_paths[2].slice(a_paths[2].indexOf(".") + 1),
        type: si_type,
        ...si_coin && {
          coin: si_coin
        }
      };
    }
    static holdingPathFor(sa_owner, si_coin, p_chain = yw_chain_ref.get()) {
      return `${p_chain}/bech32.${sa_owner}/holding.${si_coin}`;
    }
    static async readTokens(g_chain, h_interfaces = null) {
      const ks_res = await Entities.read();
      return ks_res.tokens(Chains.pathFrom(g_chain), h_interfaces);
    }
    static async readFungibleTokens(g_chain) {
      const ks_res = await Entities.read();
      const h_interfaces = fold(g_chain.tokenInterfaces, (si_key) => TokenRegistry[si_key].attributes.fungible ? { [si_key]: {} } : {});
      return ks_res.tokens(Chains.pathFrom(g_chain), h_interfaces);
    }
    static fungibleInterfacesFor(g_chain) {
      return fold(g_chain.tokenInterfaces, (si_key) => TokenRegistry[si_key].attributes.fungible ? { [si_key]: {} } : {});
    }
    static async infoForToken(g_token) {
    }
    filteredMap(f_map) {
      const h_cache = this._w_cache;
      const h_out = {};
      for (const p_res in h_cache) {
        const w_out = f_map(p_res, h_cache[p_res]);
        if (w_out) {
          h_out[p_res] = w_out;
        }
      }
      return h_out;
    }
    every(f_every) {
      const h_cache = this._w_cache;
      for (const p_res in h_cache) {
        if (!f_every(p_res, h_cache[p_res])) {
          return false;
        }
      }
      return true;
    }
    tokens(p_prefix, h_interfaces = null) {
      const h_outs = {};
      this.every((p_res, g_entity) => {
        let g_contract;
        if (p_res.startsWith(p_prefix) && (g_contract = g_entity["as.contract"])) {
          for (const si_interface in g_contract) {
            if (!si_interface.startsWith("token."))
              continue;
            const si_interface_token = si_interface.slice("token.".length);
            if (!h_interfaces || si_interface_token in h_interfaces) {
              h_outs[si_interface_token][p_res] = g_contract[si_interface];
            }
          }
        }
        return true;
      });
      return h_outs;
    }
  }
});
const QueryCache = create_store_class({
  store: SI_STORE_QUERY_CACHE,
  extension: "map",
  class: class QueryCacheI extends WritableStoreMap {
    async set(p_query, g_result) {
      this._w_cache[p_query] = g_result;
      await this.save();
    }
  }
});
var grpcWebClient_umd$1 = { exports: {} };
(function(module, exports) {
  !function(e, t) {
    module.exports = t();
  }(commonjsGlobal, function() {
    return e = { 418: function(e2, t2) {
      !function(e3, t3) {
        for (var r in t3)
          e3[r] = t3[r];
      }(t2, function(e3) {
        var t3 = {};
        function r(n) {
          if (t3[n])
            return t3[n].exports;
          var o = t3[n] = { i: n, l: false, exports: {} };
          return e3[n].call(o.exports, o, o.exports, r), o.l = true, o.exports;
        }
        return r.m = e3, r.c = t3, r.i = function(e4) {
          return e4;
        }, r.d = function(e4, t4, n) {
          r.o(e4, t4) || Object.defineProperty(e4, t4, { configurable: false, enumerable: true, get: n });
        }, r.n = function(e4) {
          var t4 = e4 && e4.__esModule ? function() {
            return e4.default;
          } : function() {
            return e4;
          };
          return r.d(t4, "a", t4), t4;
        }, r.o = function(e4, t4) {
          return Object.prototype.hasOwnProperty.call(e4, t4);
        }, r.p = "", r(r.s = 1);
      }([function(e3, t3, r) {
        Object.defineProperty(t3, "__esModule", { value: true });
        var n = r(3), o = function() {
          function e4(e5, t4) {
            e5 === void 0 && (e5 = {}), t4 === void 0 && (t4 = { splitValues: false });
            var r2, o2 = this;
            this.headersMap = {}, e5 && (typeof Headers != "undefined" && e5 instanceof Headers ? n.getHeaderKeys(e5).forEach(function(r3) {
              n.getHeaderValues(e5, r3).forEach(function(e6) {
                t4.splitValues ? o2.append(r3, n.splitHeaderValue(e6)) : o2.append(r3, e6);
              });
            }) : typeof (r2 = e5) == "object" && typeof r2.headersMap == "object" && typeof r2.forEach == "function" ? e5.forEach(function(e6, t5) {
              o2.append(e6, t5);
            }) : typeof Map != "undefined" && e5 instanceof Map ? e5.forEach(function(e6, t5) {
              o2.append(t5, e6);
            }) : typeof e5 == "string" ? this.appendFromString(e5) : typeof e5 == "object" && Object.getOwnPropertyNames(e5).forEach(function(t5) {
              var r3 = e5[t5];
              Array.isArray(r3) ? r3.forEach(function(e6) {
                o2.append(t5, e6);
              }) : o2.append(t5, r3);
            }));
          }
          return e4.prototype.appendFromString = function(e5) {
            for (var t4 = e5.split("\r\n"), r2 = 0; r2 < t4.length; r2++) {
              var n2 = t4[r2], o2 = n2.indexOf(":");
              if (o2 > 0) {
                var s = n2.substring(0, o2).trim(), i = n2.substring(o2 + 1).trim();
                this.append(s, i);
              }
            }
          }, e4.prototype.delete = function(e5, t4) {
            var r2 = n.normalizeName(e5);
            if (t4 === void 0)
              delete this.headersMap[r2];
            else {
              var o2 = this.headersMap[r2];
              if (o2) {
                var s = o2.indexOf(t4);
                s >= 0 && o2.splice(s, 1), o2.length === 0 && delete this.headersMap[r2];
              }
            }
          }, e4.prototype.append = function(e5, t4) {
            var r2 = this, o2 = n.normalizeName(e5);
            Array.isArray(this.headersMap[o2]) || (this.headersMap[o2] = []), Array.isArray(t4) ? t4.forEach(function(e6) {
              r2.headersMap[o2].push(n.normalizeValue(e6));
            }) : this.headersMap[o2].push(n.normalizeValue(t4));
          }, e4.prototype.set = function(e5, t4) {
            var r2 = n.normalizeName(e5);
            if (Array.isArray(t4)) {
              var o2 = [];
              t4.forEach(function(e6) {
                o2.push(n.normalizeValue(e6));
              }), this.headersMap[r2] = o2;
            } else
              this.headersMap[r2] = [n.normalizeValue(t4)];
          }, e4.prototype.has = function(e5, t4) {
            var r2 = this.headersMap[n.normalizeName(e5)];
            if (!Array.isArray(r2))
              return false;
            if (t4 !== void 0) {
              var o2 = n.normalizeValue(t4);
              return r2.indexOf(o2) >= 0;
            }
            return true;
          }, e4.prototype.get = function(e5) {
            var t4 = this.headersMap[n.normalizeName(e5)];
            return t4 !== void 0 ? t4.concat() : [];
          }, e4.prototype.forEach = function(e5) {
            var t4 = this;
            Object.getOwnPropertyNames(this.headersMap).forEach(function(r2) {
              e5(r2, t4.headersMap[r2]);
            }, this);
          }, e4.prototype.toHeaders = function() {
            if (typeof Headers != "undefined") {
              var e5 = new Headers();
              return this.forEach(function(t4, r2) {
                r2.forEach(function(r3) {
                  e5.append(t4, r3);
                });
              }), e5;
            }
            throw new Error("Headers class is not defined");
          }, e4;
        }();
        t3.BrowserHeaders = o;
      }, function(e3, t3, r) {
        Object.defineProperty(t3, "__esModule", { value: true });
        var n = r(0);
        t3.BrowserHeaders = n.BrowserHeaders;
      }, function(e3, t3, r) {
        Object.defineProperty(t3, "__esModule", { value: true }), t3.iterateHeaders = function(e4, t4) {
          for (var r2 = e4[Symbol.iterator](), n = r2.next(); !n.done; )
            t4(n.value[0]), n = r2.next();
        }, t3.iterateHeadersKeys = function(e4, t4) {
          for (var r2 = e4.keys(), n = r2.next(); !n.done; )
            t4(n.value), n = r2.next();
        };
      }, function(e3, t3, r) {
        Object.defineProperty(t3, "__esModule", { value: true });
        var n = r(2);
        t3.normalizeName = function(e4) {
          if (typeof e4 != "string" && (e4 = String(e4)), /[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e4))
            throw new TypeError("Invalid character in header field name");
          return e4.toLowerCase();
        }, t3.normalizeValue = function(e4) {
          return typeof e4 != "string" && (e4 = String(e4)), e4;
        }, t3.getHeaderValues = function(e4, t4) {
          var r2 = e4;
          if (r2 instanceof Headers && r2.getAll)
            return r2.getAll(t4);
          var n2 = r2.get(t4);
          return n2 && typeof n2 == "string" ? [n2] : n2;
        }, t3.getHeaderKeys = function(e4) {
          var t4 = e4, r2 = {}, o = [];
          return t4.keys ? n.iterateHeadersKeys(t4, function(e5) {
            r2[e5] || (r2[e5] = true, o.push(e5));
          }) : t4.forEach ? t4.forEach(function(e5, t5) {
            r2[t5] || (r2[t5] = true, o.push(t5));
          }) : n.iterateHeaders(t4, function(e5) {
            var t5 = e5[0];
            r2[t5] || (r2[t5] = true, o.push(t5));
          }), o;
        }, t3.splitHeaderValue = function(e4) {
          var t4 = [];
          return e4.split(", ").forEach(function(e5) {
            e5.split(",").forEach(function(e6) {
              t4.push(e6);
            });
          }), t4;
        };
      }]));
    }, 617: function(e2, t2, r) {
      Object.defineProperty(t2, "__esModule", { value: true }), t2.ChunkParser = t2.ChunkType = t2.encodeASCII = t2.decodeASCII = void 0;
      var n, o = r(65);
      function s(e3) {
        return (t3 = e3) === 9 || t3 === 10 || t3 === 13 || e3 >= 32 && e3 <= 126;
        var t3;
      }
      function i(e3) {
        for (var t3 = 0; t3 !== e3.length; ++t3)
          if (!s(e3[t3]))
            throw new Error("Metadata is not valid (printable) ASCII");
        return String.fromCharCode.apply(String, Array.prototype.slice.call(e3));
      }
      function a(e3) {
        return (128 & e3.getUint8(0)) == 128;
      }
      function u(e3) {
        return e3.getUint32(1, false);
      }
      function d(e3, t3, r2) {
        return e3.byteLength - t3 >= r2;
      }
      function c(e3, t3, r2) {
        if (e3.slice)
          return e3.slice(t3, r2);
        var n2 = e3.length;
        r2 !== void 0 && (n2 = r2);
        for (var o2 = new Uint8Array(n2 - t3), s2 = 0, i2 = t3; i2 < n2; i2++)
          o2[s2++] = e3[i2];
        return o2;
      }
      t2.decodeASCII = i, t2.encodeASCII = function(e3) {
        for (var t3 = new Uint8Array(e3.length), r2 = 0; r2 !== e3.length; ++r2) {
          var n2 = e3.charCodeAt(r2);
          if (!s(n2))
            throw new Error("Metadata contains invalid ASCII");
          t3[r2] = n2;
        }
        return t3;
      }, function(e3) {
        e3[e3.MESSAGE = 1] = "MESSAGE", e3[e3.TRAILERS = 2] = "TRAILERS";
      }(n = t2.ChunkType || (t2.ChunkType = {}));
      var p2 = function() {
        function e3() {
          this.buffer = null, this.position = 0;
        }
        return e3.prototype.parse = function(e4, t3) {
          if (e4.length === 0 && t3)
            return [];
          var r2, s2 = [];
          if (this.buffer == null)
            this.buffer = e4, this.position = 0;
          else if (this.position === this.buffer.byteLength)
            this.buffer = e4, this.position = 0;
          else {
            var p3 = this.buffer.byteLength - this.position, h = new Uint8Array(p3 + e4.byteLength), f = c(this.buffer, this.position);
            h.set(f, 0);
            var l = new Uint8Array(e4);
            h.set(l, p3), this.buffer = h, this.position = 0;
          }
          for (; ; ) {
            if (!d(this.buffer, this.position, 5))
              return s2;
            var g = c(this.buffer, this.position, this.position + 5), b = new DataView(g.buffer, g.byteOffset, g.byteLength), y = u(b);
            if (!d(this.buffer, this.position, 5 + y))
              return s2;
            var v = c(this.buffer, this.position + 5, this.position + 5 + y);
            if (this.position += 5 + y, a(b))
              return s2.push({ chunkType: n.TRAILERS, trailers: (r2 = v, new o.Metadata(i(r2))) }), s2;
            s2.push({ chunkType: n.MESSAGE, data: v });
          }
        }, e3;
      }();
      t2.ChunkParser = p2;
    }, 8: function(e2, t2) {
      var r;
      Object.defineProperty(t2, "__esModule", { value: true }), t2.httpStatusToCode = t2.Code = void 0, function(e3) {
        e3[e3.OK = 0] = "OK", e3[e3.Canceled = 1] = "Canceled", e3[e3.Unknown = 2] = "Unknown", e3[e3.InvalidArgument = 3] = "InvalidArgument", e3[e3.DeadlineExceeded = 4] = "DeadlineExceeded", e3[e3.NotFound = 5] = "NotFound", e3[e3.AlreadyExists = 6] = "AlreadyExists", e3[e3.PermissionDenied = 7] = "PermissionDenied", e3[e3.ResourceExhausted = 8] = "ResourceExhausted", e3[e3.FailedPrecondition = 9] = "FailedPrecondition", e3[e3.Aborted = 10] = "Aborted", e3[e3.OutOfRange = 11] = "OutOfRange", e3[e3.Unimplemented = 12] = "Unimplemented", e3[e3.Internal = 13] = "Internal", e3[e3.Unavailable = 14] = "Unavailable", e3[e3.DataLoss = 15] = "DataLoss", e3[e3.Unauthenticated = 16] = "Unauthenticated";
      }(r = t2.Code || (t2.Code = {})), t2.httpStatusToCode = function(e3) {
        switch (e3) {
          case 0:
            return r.Internal;
          case 200:
            return r.OK;
          case 400:
            return r.InvalidArgument;
          case 401:
            return r.Unauthenticated;
          case 403:
            return r.PermissionDenied;
          case 404:
            return r.NotFound;
          case 409:
            return r.Aborted;
          case 412:
            return r.FailedPrecondition;
          case 429:
            return r.ResourceExhausted;
          case 499:
            return r.Canceled;
          case 500:
            return r.Unknown;
          case 501:
            return r.Unimplemented;
          case 503:
            return r.Unavailable;
          case 504:
            return r.DeadlineExceeded;
          default:
            return r.Unknown;
        }
      };
    }, 934: function(e2, t2, r) {
      Object.defineProperty(t2, "__esModule", { value: true }), t2.client = void 0;
      var n = r(65), o = r(617), s = r(8), i = r(346), a = r(57), u = r(882);
      t2.client = function(e3, t3) {
        return new d(e3, t3);
      };
      var d = function() {
        function e3(e4, t3) {
          this.started = false, this.sentFirstMessage = false, this.completed = false, this.closed = false, this.finishedSending = false, this.onHeadersCallbacks = [], this.onMessageCallbacks = [], this.onEndCallbacks = [], this.parser = new o.ChunkParser(), this.methodDefinition = e4, this.props = t3, this.createTransport();
        }
        return e3.prototype.createTransport = function() {
          var e4 = this.props.host + "/" + this.methodDefinition.service.serviceName + "/" + this.methodDefinition.methodName, t3 = { methodDefinition: this.methodDefinition, debug: this.props.debug || false, url: e4, onHeaders: this.onTransportHeaders.bind(this), onChunk: this.onTransportChunk.bind(this), onEnd: this.onTransportEnd.bind(this) };
          this.props.transport ? this.transport = this.props.transport(t3) : this.transport = a.makeDefaultTransport(t3);
        }, e3.prototype.onTransportHeaders = function(e4, t3) {
          if (this.props.debug && i.debug("onHeaders", e4, t3), this.closed)
            this.props.debug && i.debug("grpc.onHeaders received after request was closed - ignoring");
          else if (t3 === 0)
            ;
          else {
            this.responseHeaders = e4, this.props.debug && i.debug("onHeaders.responseHeaders", JSON.stringify(this.responseHeaders, null, 2));
            var r2 = c(e4);
            this.props.debug && i.debug("onHeaders.gRPCStatus", r2);
            var n2 = r2 && r2 >= 0 ? r2 : s.httpStatusToCode(t3);
            this.props.debug && i.debug("onHeaders.code", n2);
            var o2 = e4.get("grpc-message") || [];
            if (this.props.debug && i.debug("onHeaders.gRPCMessage", o2), this.rawOnHeaders(e4), n2 !== s.Code.OK) {
              var a2 = this.decodeGRPCStatus(o2[0]);
              this.rawOnError(n2, a2, e4);
            }
          }
        }, e3.prototype.onTransportChunk = function(e4) {
          var t3 = this;
          if (this.closed)
            this.props.debug && i.debug("grpc.onChunk received after request was closed - ignoring");
          else {
            var r2 = [];
            try {
              r2 = this.parser.parse(e4);
            } catch (e5) {
              return this.props.debug && i.debug("onChunk.parsing error", e5, e5.message), void this.rawOnError(s.Code.Internal, "parsing error: " + e5.message);
            }
            r2.forEach(function(e5) {
              if (e5.chunkType === o.ChunkType.MESSAGE) {
                var r3 = t3.methodDefinition.responseType.deserializeBinary(e5.data);
                t3.rawOnMessage(r3);
              } else
                e5.chunkType === o.ChunkType.TRAILERS && (t3.responseHeaders ? (t3.responseTrailers = new n.Metadata(e5.trailers), t3.props.debug && i.debug("onChunk.trailers", t3.responseTrailers)) : (t3.responseHeaders = new n.Metadata(e5.trailers), t3.rawOnHeaders(t3.responseHeaders)));
            });
          }
        }, e3.prototype.onTransportEnd = function() {
          if (this.props.debug && i.debug("grpc.onEnd"), this.closed)
            this.props.debug && i.debug("grpc.onEnd received after request was closed - ignoring");
          else if (this.responseTrailers !== void 0) {
            var e4 = c(this.responseTrailers);
            if (e4 !== null) {
              var t3 = this.responseTrailers.get("grpc-message"), r2 = this.decodeGRPCStatus(t3[0]);
              this.rawOnEnd(e4, r2, this.responseTrailers);
            } else
              this.rawOnError(s.Code.Internal, "Response closed without grpc-status (Trailers provided)");
          } else {
            if (this.responseHeaders === void 0)
              return void this.rawOnError(s.Code.Unknown, "Response closed without headers");
            var n2 = c(this.responseHeaders), o2 = this.responseHeaders.get("grpc-message");
            if (this.props.debug && i.debug("grpc.headers only response ", n2, o2), n2 === null)
              return void this.rawOnEnd(s.Code.Unknown, "Response closed without grpc-status (Headers only)", this.responseHeaders);
            var a2 = this.decodeGRPCStatus(o2[0]);
            this.rawOnEnd(n2, a2, this.responseHeaders);
          }
        }, e3.prototype.decodeGRPCStatus = function(e4) {
          if (!e4)
            return "";
          try {
            return decodeURIComponent(e4);
          } catch (t3) {
            return e4;
          }
        }, e3.prototype.rawOnEnd = function(e4, t3, r2) {
          var n2 = this;
          this.props.debug && i.debug("rawOnEnd", e4, t3, r2), this.completed || (this.completed = true, this.onEndCallbacks.forEach(function(o2) {
            if (!n2.closed)
              try {
                o2(e4, t3, r2);
              } catch (e5) {
                setTimeout(function() {
                  throw e5;
                }, 0);
              }
          }));
        }, e3.prototype.rawOnHeaders = function(e4) {
          this.props.debug && i.debug("rawOnHeaders", e4), this.completed || this.onHeadersCallbacks.forEach(function(t3) {
            try {
              t3(e4);
            } catch (e5) {
              setTimeout(function() {
                throw e5;
              }, 0);
            }
          });
        }, e3.prototype.rawOnError = function(e4, t3, r2) {
          var o2 = this;
          r2 === void 0 && (r2 = new n.Metadata()), this.props.debug && i.debug("rawOnError", e4, t3), this.completed || (this.completed = true, this.onEndCallbacks.forEach(function(n2) {
            if (!o2.closed)
              try {
                n2(e4, t3, r2);
              } catch (e5) {
                setTimeout(function() {
                  throw e5;
                }, 0);
              }
          }));
        }, e3.prototype.rawOnMessage = function(e4) {
          var t3 = this;
          this.props.debug && i.debug("rawOnMessage", e4.toObject()), this.completed || this.closed || this.onMessageCallbacks.forEach(function(r2) {
            if (!t3.closed)
              try {
                r2(e4);
              } catch (e5) {
                setTimeout(function() {
                  throw e5;
                }, 0);
              }
          });
        }, e3.prototype.onHeaders = function(e4) {
          this.onHeadersCallbacks.push(e4);
        }, e3.prototype.onMessage = function(e4) {
          this.onMessageCallbacks.push(e4);
        }, e3.prototype.onEnd = function(e4) {
          this.onEndCallbacks.push(e4);
        }, e3.prototype.start = function(e4) {
          if (this.started)
            throw new Error("Client already started - cannot .start()");
          this.started = true;
          var t3 = new n.Metadata(e4 || {});
          t3.set("content-type", "application/grpc-web+proto"), t3.set("x-grpc-web", "1"), this.transport.start(t3);
        }, e3.prototype.send = function(e4) {
          if (!this.started)
            throw new Error("Client not started - .start() must be called before .send()");
          if (this.closed)
            throw new Error("Client already closed - cannot .send()");
          if (this.finishedSending)
            throw new Error("Client already finished sending - cannot .send()");
          if (!this.methodDefinition.requestStream && this.sentFirstMessage)
            throw new Error("Message already sent for non-client-streaming method - cannot .send()");
          this.sentFirstMessage = true;
          var t3 = u.frameRequest(e4);
          this.transport.sendMessage(t3);
        }, e3.prototype.finishSend = function() {
          if (!this.started)
            throw new Error("Client not started - .finishSend() must be called before .close()");
          if (this.closed)
            throw new Error("Client already closed - cannot .send()");
          if (this.finishedSending)
            throw new Error("Client already finished sending - cannot .finishSend()");
          this.finishedSending = true, this.transport.finishSend();
        }, e3.prototype.close = function() {
          if (!this.started)
            throw new Error("Client not started - .start() must be called before .close()");
          if (this.closed)
            throw new Error("Client already closed - cannot .close()");
          this.closed = true, this.props.debug && i.debug("request.abort aborting request"), this.transport.cancel();
        }, e3;
      }();
      function c(e3) {
        var t3 = e3.get("grpc-status") || [];
        if (t3.length > 0)
          try {
            var r2 = t3[0];
            return parseInt(r2, 10);
          } catch (e4) {
            return null;
          }
        return null;
      }
    }, 346: function(e2, t2) {
      Object.defineProperty(t2, "__esModule", { value: true }), t2.debug = void 0, t2.debug = function() {
        for (var e3 = [], t3 = 0; t3 < arguments.length; t3++)
          e3[t3] = arguments[t3];
        console.debug ? console.debug.apply(null, e3) : console.log.apply(null, e3);
      };
    }, 607: function(e2, t2, r) {
      Object.defineProperty(t2, "__esModule", { value: true }), t2.grpc = void 0;
      var n, o = r(418), s = r(57), i = r(229), a = r(540), u = r(210), d = r(859), c = r(8), p2 = r(938), h = r(35), f = r(934);
      (n = t2.grpc || (t2.grpc = {})).setDefaultTransport = s.setDefaultTransportFactory, n.CrossBrowserHttpTransport = d.CrossBrowserHttpTransport, n.FetchReadableStreamTransport = i.FetchReadableStreamTransport, n.XhrTransport = u.XhrTransport, n.WebsocketTransport = a.WebsocketTransport, n.Code = c.Code, n.Metadata = o.BrowserHeaders, n.client = function(e3, t3) {
        return f.client(e3, t3);
      }, n.invoke = p2.invoke, n.unary = h.unary;
    }, 938: function(e2, t2, r) {
      Object.defineProperty(t2, "__esModule", { value: true }), t2.invoke = void 0;
      var n = r(934);
      t2.invoke = function(e3, t3) {
        if (e3.requestStream)
          throw new Error(".invoke cannot be used with client-streaming methods. Use .client instead.");
        var r2 = n.client(e3, { host: t3.host, transport: t3.transport, debug: t3.debug });
        return t3.onHeaders && r2.onHeaders(t3.onHeaders), t3.onMessage && r2.onMessage(t3.onMessage), t3.onEnd && r2.onEnd(t3.onEnd), r2.start(t3.metadata), r2.send(t3.request), r2.finishSend(), { close: function() {
          r2.close();
        } };
      };
    }, 65: function(e2, t2, r) {
      Object.defineProperty(t2, "__esModule", { value: true }), t2.Metadata = void 0;
      var n = r(418);
      Object.defineProperty(t2, "Metadata", { enumerable: true, get: function() {
        return n.BrowserHeaders;
      } });
    }, 57: function(e2, t2, r) {
      Object.defineProperty(t2, "__esModule", { value: true }), t2.makeDefaultTransport = t2.setDefaultTransportFactory = void 0;
      var n = r(859), o = function(e3) {
        return n.CrossBrowserHttpTransport({ withCredentials: false })(e3);
      };
      t2.setDefaultTransportFactory = function(e3) {
        o = e3;
      }, t2.makeDefaultTransport = function(e3) {
        return o(e3);
      };
    }, 229: function(e2, t2, r) {
      var n = this && this.__assign || function() {
        return (n = Object.assign || function(e3) {
          for (var t3, r2 = 1, n2 = arguments.length; r2 < n2; r2++)
            for (var o2 in t3 = arguments[r2])
              Object.prototype.hasOwnProperty.call(t3, o2) && (e3[o2] = t3[o2]);
          return e3;
        }).apply(this, arguments);
      };
      Object.defineProperty(t2, "__esModule", { value: true }), t2.detectFetchSupport = t2.FetchReadableStreamTransport = void 0;
      var o = r(65), s = r(346);
      t2.FetchReadableStreamTransport = function(e3) {
        return function(t3) {
          return function(e4, t4) {
            return e4.debug && s.debug("fetchRequest", e4), new i(e4, t4);
          }(t3, e3);
        };
      };
      var i = function() {
        function e3(e4, t3) {
          this.cancelled = false, this.controller = self.AbortController && new AbortController(), this.options = e4, this.init = t3;
        }
        return e3.prototype.pump = function(e4, t3) {
          var r2 = this;
          if (this.reader = e4, this.cancelled)
            return this.options.debug && s.debug("Fetch.pump.cancel at first pump"), void this.reader.cancel().catch(function(e5) {
              r2.options.debug && s.debug("Fetch.pump.reader.cancel exception", e5);
            });
          this.reader.read().then(function(e5) {
            if (e5.done)
              return r2.options.onEnd(), t3;
            r2.options.onChunk(e5.value), r2.pump(r2.reader, t3);
          }).catch(function(e5) {
            r2.cancelled ? r2.options.debug && s.debug("Fetch.catch - request cancelled") : (r2.cancelled = true, r2.options.debug && s.debug("Fetch.catch", e5.message), r2.options.onEnd(e5));
          });
        }, e3.prototype.send = function(e4) {
          var t3 = this;
          fetch(this.options.url, n(n({}, this.init), { headers: this.metadata.toHeaders(), method: "POST", body: e4, signal: this.controller && this.controller.signal })).then(function(e5) {
            if (t3.options.debug && s.debug("Fetch.response", e5), t3.options.onHeaders(new o.Metadata(e5.headers), e5.status), !e5.body)
              return e5;
            t3.pump(e5.body.getReader(), e5);
          }).catch(function(e5) {
            t3.cancelled ? t3.options.debug && s.debug("Fetch.catch - request cancelled") : (t3.cancelled = true, t3.options.debug && s.debug("Fetch.catch", e5.message), t3.options.onEnd(e5));
          });
        }, e3.prototype.sendMessage = function(e4) {
          this.send(e4);
        }, e3.prototype.finishSend = function() {
        }, e3.prototype.start = function(e4) {
          this.metadata = e4;
        }, e3.prototype.cancel = function() {
          var e4 = this;
          this.cancelled ? this.options.debug && s.debug("Fetch.cancel already cancelled") : (this.cancelled = true, this.controller ? (this.options.debug && s.debug("Fetch.cancel.controller.abort"), this.controller.abort()) : this.options.debug && s.debug("Fetch.cancel.missing abort controller"), this.reader ? (this.options.debug && s.debug("Fetch.cancel.reader.cancel"), this.reader.cancel().catch(function(t3) {
            e4.options.debug && s.debug("Fetch.cancel.reader.cancel exception", t3);
          })) : this.options.debug && s.debug("Fetch.cancel before reader"));
        }, e3;
      }();
      t2.detectFetchSupport = function() {
        return typeof Response != "undefined" && Response.prototype.hasOwnProperty("body") && typeof Headers == "function";
      };
    }, 859: function(e2, t2, r) {
      Object.defineProperty(t2, "__esModule", { value: true }), t2.CrossBrowserHttpTransport = void 0;
      var n = r(229), o = r(210);
      t2.CrossBrowserHttpTransport = function(e3) {
        if (n.detectFetchSupport()) {
          var t3 = { credentials: e3.withCredentials ? "include" : "same-origin" };
          return n.FetchReadableStreamTransport(t3);
        }
        return o.XhrTransport({ withCredentials: e3.withCredentials });
      };
    }, 210: function(e2, t2, r) {
      var n, o = this && this.__extends || (n = function(e3, t3) {
        return (n = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(e4, t4) {
          e4.__proto__ = t4;
        } || function(e4, t4) {
          for (var r2 in t4)
            Object.prototype.hasOwnProperty.call(t4, r2) && (e4[r2] = t4[r2]);
        })(e3, t3);
      }, function(e3, t3) {
        function r2() {
          this.constructor = e3;
        }
        n(e3, t3), e3.prototype = t3 === null ? Object.create(t3) : (r2.prototype = t3.prototype, new r2());
      });
      Object.defineProperty(t2, "__esModule", { value: true }), t2.stringToArrayBuffer = t2.MozChunkedArrayBufferXHR = t2.XHR = t2.XhrTransport = void 0;
      var s = r(65), i = r(346), a = r(849);
      t2.XhrTransport = function(e3) {
        return function(t3) {
          if (a.detectMozXHRSupport())
            return new d(t3, e3);
          if (a.detectXHROverrideMimeTypeSupport())
            return new u(t3, e3);
          throw new Error("This environment's XHR implementation cannot support binary transfer.");
        };
      };
      var u = function() {
        function e3(e4, t3) {
          this.options = e4, this.init = t3;
        }
        return e3.prototype.onProgressEvent = function() {
          this.options.debug && i.debug("XHR.onProgressEvent.length: ", this.xhr.response.length);
          var e4 = this.xhr.response.substr(this.index);
          this.index = this.xhr.response.length;
          var t3 = p2(e4);
          this.options.onChunk(t3);
        }, e3.prototype.onLoadEvent = function() {
          this.options.debug && i.debug("XHR.onLoadEvent"), this.options.onEnd();
        }, e3.prototype.onStateChange = function() {
          this.options.debug && i.debug("XHR.onStateChange", this.xhr.readyState), this.xhr.readyState === XMLHttpRequest.HEADERS_RECEIVED && this.options.onHeaders(new s.Metadata(this.xhr.getAllResponseHeaders()), this.xhr.status);
        }, e3.prototype.sendMessage = function(e4) {
          this.xhr.send(e4);
        }, e3.prototype.finishSend = function() {
        }, e3.prototype.start = function(e4) {
          var t3 = this;
          this.metadata = e4;
          var r2 = new XMLHttpRequest();
          this.xhr = r2, r2.open("POST", this.options.url), this.configureXhr(), this.metadata.forEach(function(e5, t4) {
            r2.setRequestHeader(e5, t4.join(", "));
          }), r2.withCredentials = Boolean(this.init.withCredentials), r2.addEventListener("readystatechange", this.onStateChange.bind(this)), r2.addEventListener("progress", this.onProgressEvent.bind(this)), r2.addEventListener("loadend", this.onLoadEvent.bind(this)), r2.addEventListener("error", function(e5) {
            t3.options.debug && i.debug("XHR.error", e5), t3.options.onEnd(e5.error);
          });
        }, e3.prototype.configureXhr = function() {
          this.xhr.responseType = "text", this.xhr.overrideMimeType("text/plain; charset=x-user-defined");
        }, e3.prototype.cancel = function() {
          this.options.debug && i.debug("XHR.abort"), this.xhr.abort();
        }, e3;
      }();
      t2.XHR = u;
      var d = function(e3) {
        function t3() {
          return e3 !== null && e3.apply(this, arguments) || this;
        }
        return o(t3, e3), t3.prototype.configureXhr = function() {
          this.options.debug && i.debug("MozXHR.configureXhr: setting responseType to 'moz-chunked-arraybuffer'"), this.xhr.responseType = "moz-chunked-arraybuffer";
        }, t3.prototype.onProgressEvent = function() {
          var e4 = this.xhr.response;
          this.options.debug && i.debug("MozXHR.onProgressEvent: ", new Uint8Array(e4)), this.options.onChunk(new Uint8Array(e4));
        }, t3;
      }(u);
      function c(e3, t3) {
        var r2 = e3.charCodeAt(t3);
        if (r2 >= 55296 && r2 <= 56319) {
          var n2 = e3.charCodeAt(t3 + 1);
          n2 >= 56320 && n2 <= 57343 && (r2 = 65536 + (r2 - 55296 << 10) + (n2 - 56320));
        }
        return r2;
      }
      function p2(e3) {
        for (var t3 = new Uint8Array(e3.length), r2 = 0, n2 = 0; n2 < e3.length; n2++) {
          var o2 = String.prototype.codePointAt ? e3.codePointAt(n2) : c(e3, n2);
          t3[r2++] = 255 & o2;
        }
        return t3;
      }
      t2.MozChunkedArrayBufferXHR = d, t2.stringToArrayBuffer = p2;
    }, 849: function(e2, t2) {
      var r;
      function n() {
        if (r !== void 0)
          return r;
        if (XMLHttpRequest) {
          r = new XMLHttpRequest();
          try {
            r.open("GET", "https://localhost");
          } catch (e3) {
          }
        }
        return r;
      }
      function o(e3) {
        var t3 = n();
        if (!t3)
          return false;
        try {
          return t3.responseType = e3, t3.responseType === e3;
        } catch (e4) {
        }
        return false;
      }
      Object.defineProperty(t2, "__esModule", { value: true }), t2.detectXHROverrideMimeTypeSupport = t2.detectMozXHRSupport = t2.xhrSupportsResponseType = void 0, t2.xhrSupportsResponseType = o, t2.detectMozXHRSupport = function() {
        return typeof XMLHttpRequest != "undefined" && o("moz-chunked-arraybuffer");
      }, t2.detectXHROverrideMimeTypeSupport = function() {
        return typeof XMLHttpRequest != "undefined" && XMLHttpRequest.prototype.hasOwnProperty("overrideMimeType");
      };
    }, 540: function(e2, t2, r) {
      Object.defineProperty(t2, "__esModule", { value: true }), t2.WebsocketTransport = void 0;
      var n, o = r(346), s = r(617);
      !function(e3) {
        e3[e3.FINISH_SEND = 1] = "FINISH_SEND";
      }(n || (n = {}));
      var i = new Uint8Array([1]);
      t2.WebsocketTransport = function() {
        return function(e3) {
          return function(e4) {
            e4.debug && o.debug("websocketRequest", e4);
            var t3, r2 = function(e5) {
              if (e5.substr(0, 8) === "https://")
                return "wss://" + e5.substr(8);
              if (e5.substr(0, 7) === "http://")
                return "ws://" + e5.substr(7);
              throw new Error("Websocket transport constructed with non-https:// or http:// host.");
            }(e4.url), a = [];
            function u(e5) {
              if (e5 === n.FINISH_SEND)
                t3.send(i);
              else {
                var r3 = e5, o2 = new Int8Array(r3.byteLength + 1);
                o2.set(new Uint8Array([0])), o2.set(r3, 1), t3.send(o2);
              }
            }
            return { sendMessage: function(e5) {
              t3 && t3.readyState !== t3.CONNECTING ? u(e5) : a.push(e5);
            }, finishSend: function() {
              t3 && t3.readyState !== t3.CONNECTING ? u(n.FINISH_SEND) : a.push(n.FINISH_SEND);
            }, start: function(n2) {
              (t3 = new WebSocket(r2, ["grpc-websockets"])).binaryType = "arraybuffer", t3.onopen = function() {
                var r3;
                e4.debug && o.debug("websocketRequest.onopen"), t3.send((r3 = "", n2.forEach(function(e5, t4) {
                  r3 += e5 + ": " + t4.join(", ") + "\r\n";
                }), s.encodeASCII(r3))), a.forEach(function(e5) {
                  u(e5);
                });
              }, t3.onclose = function(t4) {
                e4.debug && o.debug("websocketRequest.onclose", t4), e4.onEnd();
              }, t3.onerror = function(t4) {
                e4.debug && o.debug("websocketRequest.onerror", t4);
              }, t3.onmessage = function(t4) {
                e4.onChunk(new Uint8Array(t4.data));
              };
            }, cancel: function() {
              e4.debug && o.debug("websocket.abort"), t3.close();
            } };
          }(e3);
        };
      };
    }, 35: function(e2, t2, r) {
      Object.defineProperty(t2, "__esModule", { value: true }), t2.unary = void 0;
      var n = r(65), o = r(934);
      t2.unary = function(e3, t3) {
        if (e3.responseStream)
          throw new Error(".unary cannot be used with server-streaming methods. Use .invoke or .client instead.");
        if (e3.requestStream)
          throw new Error(".unary cannot be used with client-streaming methods. Use .client instead.");
        var r2 = null, s = null, i = o.client(e3, { host: t3.host, transport: t3.transport, debug: t3.debug });
        return i.onHeaders(function(e4) {
          r2 = e4;
        }), i.onMessage(function(e4) {
          s = e4;
        }), i.onEnd(function(e4, o2, i2) {
          t3.onEnd({ status: e4, statusMessage: o2, headers: r2 || new n.Metadata(), message: s, trailers: i2 });
        }), i.start(t3.metadata), i.send(t3.request), i.finishSend(), { close: function() {
          i.close();
        } };
      };
    }, 882: function(e2, t2) {
      Object.defineProperty(t2, "__esModule", { value: true }), t2.frameRequest = void 0, t2.frameRequest = function(e3) {
        var t3 = e3.serializeBinary(), r = new ArrayBuffer(t3.byteLength + 5);
        return new DataView(r, 1, 4).setUint32(0, t3.length, false), new Uint8Array(r, 5).set(t3), new Uint8Array(r);
      };
    } }, t = {}, function r(n) {
      if (t[n])
        return t[n].exports;
      var o = t[n] = { exports: {} };
      return e[n].call(o.exports, o, o.exports, r), o.exports;
    }(607);
    var e, t;
  });
})(grpcWebClient_umd$1);
var grpcWebClient_umd = { exports: {} };
(function(module, exports) {
  !function(e, t) {
    module.exports = t();
  }(commonjsGlobal, function() {
    return e = { 418: function(e2, t2) {
      !function(e3, t3) {
        for (var r in t3)
          e3[r] = t3[r];
      }(t2, function(e3) {
        var t3 = {};
        function r(n) {
          if (t3[n])
            return t3[n].exports;
          var o = t3[n] = { i: n, l: false, exports: {} };
          return e3[n].call(o.exports, o, o.exports, r), o.l = true, o.exports;
        }
        return r.m = e3, r.c = t3, r.i = function(e4) {
          return e4;
        }, r.d = function(e4, t4, n) {
          r.o(e4, t4) || Object.defineProperty(e4, t4, { configurable: false, enumerable: true, get: n });
        }, r.n = function(e4) {
          var t4 = e4 && e4.__esModule ? function() {
            return e4.default;
          } : function() {
            return e4;
          };
          return r.d(t4, "a", t4), t4;
        }, r.o = function(e4, t4) {
          return Object.prototype.hasOwnProperty.call(e4, t4);
        }, r.p = "", r(r.s = 1);
      }([function(e3, t3, r) {
        Object.defineProperty(t3, "__esModule", { value: true });
        var n = r(3), o = function() {
          function e4(e5, t4) {
            e5 === void 0 && (e5 = {}), t4 === void 0 && (t4 = { splitValues: false });
            var r2, o2 = this;
            this.headersMap = {}, e5 && (typeof Headers != "undefined" && e5 instanceof Headers ? n.getHeaderKeys(e5).forEach(function(r3) {
              n.getHeaderValues(e5, r3).forEach(function(e6) {
                t4.splitValues ? o2.append(r3, n.splitHeaderValue(e6)) : o2.append(r3, e6);
              });
            }) : typeof (r2 = e5) == "object" && typeof r2.headersMap == "object" && typeof r2.forEach == "function" ? e5.forEach(function(e6, t5) {
              o2.append(e6, t5);
            }) : typeof Map != "undefined" && e5 instanceof Map ? e5.forEach(function(e6, t5) {
              o2.append(t5, e6);
            }) : typeof e5 == "string" ? this.appendFromString(e5) : typeof e5 == "object" && Object.getOwnPropertyNames(e5).forEach(function(t5) {
              var r3 = e5[t5];
              Array.isArray(r3) ? r3.forEach(function(e6) {
                o2.append(t5, e6);
              }) : o2.append(t5, r3);
            }));
          }
          return e4.prototype.appendFromString = function(e5) {
            for (var t4 = e5.split("\r\n"), r2 = 0; r2 < t4.length; r2++) {
              var n2 = t4[r2], o2 = n2.indexOf(":");
              if (o2 > 0) {
                var s = n2.substring(0, o2).trim(), i = n2.substring(o2 + 1).trim();
                this.append(s, i);
              }
            }
          }, e4.prototype.delete = function(e5, t4) {
            var r2 = n.normalizeName(e5);
            if (t4 === void 0)
              delete this.headersMap[r2];
            else {
              var o2 = this.headersMap[r2];
              if (o2) {
                var s = o2.indexOf(t4);
                s >= 0 && o2.splice(s, 1), o2.length === 0 && delete this.headersMap[r2];
              }
            }
          }, e4.prototype.append = function(e5, t4) {
            var r2 = this, o2 = n.normalizeName(e5);
            Array.isArray(this.headersMap[o2]) || (this.headersMap[o2] = []), Array.isArray(t4) ? t4.forEach(function(e6) {
              r2.headersMap[o2].push(n.normalizeValue(e6));
            }) : this.headersMap[o2].push(n.normalizeValue(t4));
          }, e4.prototype.set = function(e5, t4) {
            var r2 = n.normalizeName(e5);
            if (Array.isArray(t4)) {
              var o2 = [];
              t4.forEach(function(e6) {
                o2.push(n.normalizeValue(e6));
              }), this.headersMap[r2] = o2;
            } else
              this.headersMap[r2] = [n.normalizeValue(t4)];
          }, e4.prototype.has = function(e5, t4) {
            var r2 = this.headersMap[n.normalizeName(e5)];
            if (!Array.isArray(r2))
              return false;
            if (t4 !== void 0) {
              var o2 = n.normalizeValue(t4);
              return r2.indexOf(o2) >= 0;
            }
            return true;
          }, e4.prototype.get = function(e5) {
            var t4 = this.headersMap[n.normalizeName(e5)];
            return t4 !== void 0 ? t4.concat() : [];
          }, e4.prototype.forEach = function(e5) {
            var t4 = this;
            Object.getOwnPropertyNames(this.headersMap).forEach(function(r2) {
              e5(r2, t4.headersMap[r2]);
            }, this);
          }, e4.prototype.toHeaders = function() {
            if (typeof Headers != "undefined") {
              var e5 = new Headers();
              return this.forEach(function(t4, r2) {
                r2.forEach(function(r3) {
                  e5.append(t4, r3);
                });
              }), e5;
            }
            throw new Error("Headers class is not defined");
          }, e4;
        }();
        t3.BrowserHeaders = o;
      }, function(e3, t3, r) {
        Object.defineProperty(t3, "__esModule", { value: true });
        var n = r(0);
        t3.BrowserHeaders = n.BrowserHeaders;
      }, function(e3, t3, r) {
        Object.defineProperty(t3, "__esModule", { value: true }), t3.iterateHeaders = function(e4, t4) {
          for (var r2 = e4[Symbol.iterator](), n = r2.next(); !n.done; )
            t4(n.value[0]), n = r2.next();
        }, t3.iterateHeadersKeys = function(e4, t4) {
          for (var r2 = e4.keys(), n = r2.next(); !n.done; )
            t4(n.value), n = r2.next();
        };
      }, function(e3, t3, r) {
        Object.defineProperty(t3, "__esModule", { value: true });
        var n = r(2);
        t3.normalizeName = function(e4) {
          if (typeof e4 != "string" && (e4 = String(e4)), /[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e4))
            throw new TypeError("Invalid character in header field name");
          return e4.toLowerCase();
        }, t3.normalizeValue = function(e4) {
          return typeof e4 != "string" && (e4 = String(e4)), e4;
        }, t3.getHeaderValues = function(e4, t4) {
          var r2 = e4;
          if (r2 instanceof Headers && r2.getAll)
            return r2.getAll(t4);
          var n2 = r2.get(t4);
          return n2 && typeof n2 == "string" ? [n2] : n2;
        }, t3.getHeaderKeys = function(e4) {
          var t4 = e4, r2 = {}, o = [];
          return t4.keys ? n.iterateHeadersKeys(t4, function(e5) {
            r2[e5] || (r2[e5] = true, o.push(e5));
          }) : t4.forEach ? t4.forEach(function(e5, t5) {
            r2[t5] || (r2[t5] = true, o.push(t5));
          }) : n.iterateHeaders(t4, function(e5) {
            var t5 = e5[0];
            r2[t5] || (r2[t5] = true, o.push(t5));
          }), o;
        }, t3.splitHeaderValue = function(e4) {
          var t4 = [];
          return e4.split(", ").forEach(function(e5) {
            e5.split(",").forEach(function(e6) {
              t4.push(e6);
            });
          }), t4;
        };
      }]));
    }, 617: function(e2, t2, r) {
      Object.defineProperty(t2, "__esModule", { value: true }), t2.ChunkParser = t2.ChunkType = t2.encodeASCII = t2.decodeASCII = void 0;
      var n, o = r(65);
      function s(e3) {
        return (t3 = e3) === 9 || t3 === 10 || t3 === 13 || e3 >= 32 && e3 <= 126;
        var t3;
      }
      function i(e3) {
        for (var t3 = 0; t3 !== e3.length; ++t3)
          if (!s(e3[t3]))
            throw new Error("Metadata is not valid (printable) ASCII");
        return String.fromCharCode.apply(String, Array.prototype.slice.call(e3));
      }
      function a(e3) {
        return (128 & e3.getUint8(0)) == 128;
      }
      function u(e3) {
        return e3.getUint32(1, false);
      }
      function d(e3, t3, r2) {
        return e3.byteLength - t3 >= r2;
      }
      function c(e3, t3, r2) {
        if (e3.slice)
          return e3.slice(t3, r2);
        var n2 = e3.length;
        r2 !== void 0 && (n2 = r2);
        for (var o2 = new Uint8Array(n2 - t3), s2 = 0, i2 = t3; i2 < n2; i2++)
          o2[s2++] = e3[i2];
        return o2;
      }
      t2.decodeASCII = i, t2.encodeASCII = function(e3) {
        for (var t3 = new Uint8Array(e3.length), r2 = 0; r2 !== e3.length; ++r2) {
          var n2 = e3.charCodeAt(r2);
          if (!s(n2))
            throw new Error("Metadata contains invalid ASCII");
          t3[r2] = n2;
        }
        return t3;
      }, function(e3) {
        e3[e3.MESSAGE = 1] = "MESSAGE", e3[e3.TRAILERS = 2] = "TRAILERS";
      }(n = t2.ChunkType || (t2.ChunkType = {}));
      var p2 = function() {
        function e3() {
          this.buffer = null, this.position = 0;
        }
        return e3.prototype.parse = function(e4, t3) {
          if (e4.length === 0 && t3)
            return [];
          var r2, s2 = [];
          if (this.buffer == null)
            this.buffer = e4, this.position = 0;
          else if (this.position === this.buffer.byteLength)
            this.buffer = e4, this.position = 0;
          else {
            var p3 = this.buffer.byteLength - this.position, h = new Uint8Array(p3 + e4.byteLength), f = c(this.buffer, this.position);
            h.set(f, 0);
            var l = new Uint8Array(e4);
            h.set(l, p3), this.buffer = h, this.position = 0;
          }
          for (; ; ) {
            if (!d(this.buffer, this.position, 5))
              return s2;
            var g = c(this.buffer, this.position, this.position + 5), b = new DataView(g.buffer, g.byteOffset, g.byteLength), y = u(b);
            if (!d(this.buffer, this.position, 5 + y))
              return s2;
            var v = c(this.buffer, this.position + 5, this.position + 5 + y);
            if (this.position += 5 + y, a(b))
              return s2.push({ chunkType: n.TRAILERS, trailers: (r2 = v, new o.Metadata(i(r2))) }), s2;
            s2.push({ chunkType: n.MESSAGE, data: v });
          }
        }, e3;
      }();
      t2.ChunkParser = p2;
    }, 8: function(e2, t2) {
      var r;
      Object.defineProperty(t2, "__esModule", { value: true }), t2.httpStatusToCode = t2.Code = void 0, function(e3) {
        e3[e3.OK = 0] = "OK", e3[e3.Canceled = 1] = "Canceled", e3[e3.Unknown = 2] = "Unknown", e3[e3.InvalidArgument = 3] = "InvalidArgument", e3[e3.DeadlineExceeded = 4] = "DeadlineExceeded", e3[e3.NotFound = 5] = "NotFound", e3[e3.AlreadyExists = 6] = "AlreadyExists", e3[e3.PermissionDenied = 7] = "PermissionDenied", e3[e3.ResourceExhausted = 8] = "ResourceExhausted", e3[e3.FailedPrecondition = 9] = "FailedPrecondition", e3[e3.Aborted = 10] = "Aborted", e3[e3.OutOfRange = 11] = "OutOfRange", e3[e3.Unimplemented = 12] = "Unimplemented", e3[e3.Internal = 13] = "Internal", e3[e3.Unavailable = 14] = "Unavailable", e3[e3.DataLoss = 15] = "DataLoss", e3[e3.Unauthenticated = 16] = "Unauthenticated";
      }(r = t2.Code || (t2.Code = {})), t2.httpStatusToCode = function(e3) {
        switch (e3) {
          case 0:
            return r.Internal;
          case 200:
            return r.OK;
          case 400:
            return r.InvalidArgument;
          case 401:
            return r.Unauthenticated;
          case 403:
            return r.PermissionDenied;
          case 404:
            return r.NotFound;
          case 409:
            return r.Aborted;
          case 412:
            return r.FailedPrecondition;
          case 429:
            return r.ResourceExhausted;
          case 499:
            return r.Canceled;
          case 500:
            return r.Unknown;
          case 501:
            return r.Unimplemented;
          case 503:
            return r.Unavailable;
          case 504:
            return r.DeadlineExceeded;
          default:
            return r.Unknown;
        }
      };
    }, 934: function(e2, t2, r) {
      Object.defineProperty(t2, "__esModule", { value: true }), t2.client = void 0;
      var n = r(65), o = r(617), s = r(8), i = r(346), a = r(57), u = r(882);
      t2.client = function(e3, t3) {
        return new d(e3, t3);
      };
      var d = function() {
        function e3(e4, t3) {
          this.started = false, this.sentFirstMessage = false, this.completed = false, this.closed = false, this.finishedSending = false, this.onHeadersCallbacks = [], this.onMessageCallbacks = [], this.onEndCallbacks = [], this.parser = new o.ChunkParser(), this.methodDefinition = e4, this.props = t3, this.createTransport();
        }
        return e3.prototype.createTransport = function() {
          var e4 = this.props.host + "/" + this.methodDefinition.service.serviceName + "/" + this.methodDefinition.methodName, t3 = { methodDefinition: this.methodDefinition, debug: this.props.debug || false, url: e4, onHeaders: this.onTransportHeaders.bind(this), onChunk: this.onTransportChunk.bind(this), onEnd: this.onTransportEnd.bind(this) };
          this.props.transport ? this.transport = this.props.transport(t3) : this.transport = a.makeDefaultTransport(t3);
        }, e3.prototype.onTransportHeaders = function(e4, t3) {
          if (this.props.debug && i.debug("onHeaders", e4, t3), this.closed)
            this.props.debug && i.debug("grpc.onHeaders received after request was closed - ignoring");
          else if (t3 === 0)
            ;
          else {
            this.responseHeaders = e4, this.props.debug && i.debug("onHeaders.responseHeaders", JSON.stringify(this.responseHeaders, null, 2));
            var r2 = c(e4);
            this.props.debug && i.debug("onHeaders.gRPCStatus", r2);
            var n2 = r2 && r2 >= 0 ? r2 : s.httpStatusToCode(t3);
            this.props.debug && i.debug("onHeaders.code", n2);
            var o2 = e4.get("grpc-message") || [];
            if (this.props.debug && i.debug("onHeaders.gRPCMessage", o2), this.rawOnHeaders(e4), n2 !== s.Code.OK) {
              var a2 = this.decodeGRPCStatus(o2[0]);
              this.rawOnError(n2, a2, e4);
            }
          }
        }, e3.prototype.onTransportChunk = function(e4) {
          var t3 = this;
          if (this.closed)
            this.props.debug && i.debug("grpc.onChunk received after request was closed - ignoring");
          else {
            var r2 = [];
            try {
              r2 = this.parser.parse(e4);
            } catch (e5) {
              return this.props.debug && i.debug("onChunk.parsing error", e5, e5.message), void this.rawOnError(s.Code.Internal, "parsing error: " + e5.message);
            }
            r2.forEach(function(e5) {
              if (e5.chunkType === o.ChunkType.MESSAGE) {
                var r3 = t3.methodDefinition.responseType.deserializeBinary(e5.data);
                t3.rawOnMessage(r3);
              } else
                e5.chunkType === o.ChunkType.TRAILERS && (t3.responseHeaders ? (t3.responseTrailers = new n.Metadata(e5.trailers), t3.props.debug && i.debug("onChunk.trailers", t3.responseTrailers)) : (t3.responseHeaders = new n.Metadata(e5.trailers), t3.rawOnHeaders(t3.responseHeaders)));
            });
          }
        }, e3.prototype.onTransportEnd = function() {
          if (this.props.debug && i.debug("grpc.onEnd"), this.closed)
            this.props.debug && i.debug("grpc.onEnd received after request was closed - ignoring");
          else if (this.responseTrailers !== void 0) {
            var e4 = c(this.responseTrailers);
            if (e4 !== null) {
              var t3 = this.responseTrailers.get("grpc-message"), r2 = this.decodeGRPCStatus(t3[0]);
              this.rawOnEnd(e4, r2, this.responseTrailers);
            } else
              this.rawOnError(s.Code.Internal, "Response closed without grpc-status (Trailers provided)");
          } else {
            if (this.responseHeaders === void 0)
              return void this.rawOnError(s.Code.Unknown, "Response closed without headers");
            var n2 = c(this.responseHeaders), o2 = this.responseHeaders.get("grpc-message");
            if (this.props.debug && i.debug("grpc.headers only response ", n2, o2), n2 === null)
              return void this.rawOnEnd(s.Code.Unknown, "Response closed without grpc-status (Headers only)", this.responseHeaders);
            var a2 = this.decodeGRPCStatus(o2[0]);
            this.rawOnEnd(n2, a2, this.responseHeaders);
          }
        }, e3.prototype.decodeGRPCStatus = function(e4) {
          if (!e4)
            return "";
          try {
            return decodeURIComponent(e4);
          } catch (t3) {
            return e4;
          }
        }, e3.prototype.rawOnEnd = function(e4, t3, r2) {
          var n2 = this;
          this.props.debug && i.debug("rawOnEnd", e4, t3, r2), this.completed || (this.completed = true, this.onEndCallbacks.forEach(function(o2) {
            if (!n2.closed)
              try {
                o2(e4, t3, r2);
              } catch (e5) {
                setTimeout(function() {
                  throw e5;
                }, 0);
              }
          }));
        }, e3.prototype.rawOnHeaders = function(e4) {
          this.props.debug && i.debug("rawOnHeaders", e4), this.completed || this.onHeadersCallbacks.forEach(function(t3) {
            try {
              t3(e4);
            } catch (e5) {
              setTimeout(function() {
                throw e5;
              }, 0);
            }
          });
        }, e3.prototype.rawOnError = function(e4, t3, r2) {
          var o2 = this;
          r2 === void 0 && (r2 = new n.Metadata()), this.props.debug && i.debug("rawOnError", e4, t3), this.completed || (this.completed = true, this.onEndCallbacks.forEach(function(n2) {
            if (!o2.closed)
              try {
                n2(e4, t3, r2);
              } catch (e5) {
                setTimeout(function() {
                  throw e5;
                }, 0);
              }
          }));
        }, e3.prototype.rawOnMessage = function(e4) {
          var t3 = this;
          this.props.debug && i.debug("rawOnMessage", e4.toObject()), this.completed || this.closed || this.onMessageCallbacks.forEach(function(r2) {
            if (!t3.closed)
              try {
                r2(e4);
              } catch (e5) {
                setTimeout(function() {
                  throw e5;
                }, 0);
              }
          });
        }, e3.prototype.onHeaders = function(e4) {
          this.onHeadersCallbacks.push(e4);
        }, e3.prototype.onMessage = function(e4) {
          this.onMessageCallbacks.push(e4);
        }, e3.prototype.onEnd = function(e4) {
          this.onEndCallbacks.push(e4);
        }, e3.prototype.start = function(e4) {
          if (this.started)
            throw new Error("Client already started - cannot .start()");
          this.started = true;
          var t3 = new n.Metadata(e4 || {});
          t3.set("content-type", "application/grpc-web+proto"), t3.set("x-grpc-web", "1"), this.transport.start(t3);
        }, e3.prototype.send = function(e4) {
          if (!this.started)
            throw new Error("Client not started - .start() must be called before .send()");
          if (this.closed)
            throw new Error("Client already closed - cannot .send()");
          if (this.finishedSending)
            throw new Error("Client already finished sending - cannot .send()");
          if (!this.methodDefinition.requestStream && this.sentFirstMessage)
            throw new Error("Message already sent for non-client-streaming method - cannot .send()");
          this.sentFirstMessage = true;
          var t3 = u.frameRequest(e4);
          this.transport.sendMessage(t3);
        }, e3.prototype.finishSend = function() {
          if (!this.started)
            throw new Error("Client not started - .finishSend() must be called before .close()");
          if (this.closed)
            throw new Error("Client already closed - cannot .send()");
          if (this.finishedSending)
            throw new Error("Client already finished sending - cannot .finishSend()");
          this.finishedSending = true, this.transport.finishSend();
        }, e3.prototype.close = function() {
          if (!this.started)
            throw new Error("Client not started - .start() must be called before .close()");
          if (this.closed)
            throw new Error("Client already closed - cannot .close()");
          this.closed = true, this.props.debug && i.debug("request.abort aborting request"), this.transport.cancel();
        }, e3;
      }();
      function c(e3) {
        var t3 = e3.get("grpc-status") || [];
        if (t3.length > 0)
          try {
            var r2 = t3[0];
            return parseInt(r2, 10);
          } catch (e4) {
            return null;
          }
        return null;
      }
    }, 346: function(e2, t2) {
      Object.defineProperty(t2, "__esModule", { value: true }), t2.debug = void 0, t2.debug = function() {
        for (var e3 = [], t3 = 0; t3 < arguments.length; t3++)
          e3[t3] = arguments[t3];
        console.debug ? console.debug.apply(null, e3) : console.log.apply(null, e3);
      };
    }, 607: function(e2, t2, r) {
      Object.defineProperty(t2, "__esModule", { value: true }), t2.grpc = void 0;
      var n, o = r(418), s = r(57), i = r(229), a = r(540), u = r(210), d = r(859), c = r(8), p2 = r(938), h = r(35), f = r(934);
      (n = t2.grpc || (t2.grpc = {})).setDefaultTransport = s.setDefaultTransportFactory, n.CrossBrowserHttpTransport = d.CrossBrowserHttpTransport, n.FetchReadableStreamTransport = i.FetchReadableStreamTransport, n.XhrTransport = u.XhrTransport, n.WebsocketTransport = a.WebsocketTransport, n.Code = c.Code, n.Metadata = o.BrowserHeaders, n.client = function(e3, t3) {
        return f.client(e3, t3);
      }, n.invoke = p2.invoke, n.unary = h.unary;
    }, 938: function(e2, t2, r) {
      Object.defineProperty(t2, "__esModule", { value: true }), t2.invoke = void 0;
      var n = r(934);
      t2.invoke = function(e3, t3) {
        if (e3.requestStream)
          throw new Error(".invoke cannot be used with client-streaming methods. Use .client instead.");
        var r2 = n.client(e3, { host: t3.host, transport: t3.transport, debug: t3.debug });
        return t3.onHeaders && r2.onHeaders(t3.onHeaders), t3.onMessage && r2.onMessage(t3.onMessage), t3.onEnd && r2.onEnd(t3.onEnd), r2.start(t3.metadata), r2.send(t3.request), r2.finishSend(), { close: function() {
          r2.close();
        } };
      };
    }, 65: function(e2, t2, r) {
      Object.defineProperty(t2, "__esModule", { value: true }), t2.Metadata = void 0;
      var n = r(418);
      Object.defineProperty(t2, "Metadata", { enumerable: true, get: function() {
        return n.BrowserHeaders;
      } });
    }, 57: function(e2, t2, r) {
      Object.defineProperty(t2, "__esModule", { value: true }), t2.makeDefaultTransport = t2.setDefaultTransportFactory = void 0;
      var n = r(859), o = function(e3) {
        return n.CrossBrowserHttpTransport({ withCredentials: false })(e3);
      };
      t2.setDefaultTransportFactory = function(e3) {
        o = e3;
      }, t2.makeDefaultTransport = function(e3) {
        return o(e3);
      };
    }, 229: function(e2, t2, r) {
      var n = this && this.__assign || function() {
        return (n = Object.assign || function(e3) {
          for (var t3, r2 = 1, n2 = arguments.length; r2 < n2; r2++)
            for (var o2 in t3 = arguments[r2])
              Object.prototype.hasOwnProperty.call(t3, o2) && (e3[o2] = t3[o2]);
          return e3;
        }).apply(this, arguments);
      };
      Object.defineProperty(t2, "__esModule", { value: true }), t2.detectFetchSupport = t2.FetchReadableStreamTransport = void 0;
      var o = r(65), s = r(346);
      t2.FetchReadableStreamTransport = function(e3) {
        return function(t3) {
          return function(e4, t4) {
            return e4.debug && s.debug("fetchRequest", e4), new i(e4, t4);
          }(t3, e3);
        };
      };
      var i = function() {
        function e3(e4, t3) {
          this.cancelled = false, this.controller = self.AbortController && new AbortController(), this.options = e4, this.init = t3;
        }
        return e3.prototype.pump = function(e4, t3) {
          var r2 = this;
          if (this.reader = e4, this.cancelled)
            return this.options.debug && s.debug("Fetch.pump.cancel at first pump"), void this.reader.cancel().catch(function(e5) {
              r2.options.debug && s.debug("Fetch.pump.reader.cancel exception", e5);
            });
          this.reader.read().then(function(e5) {
            if (e5.done)
              return r2.options.onEnd(), t3;
            r2.options.onChunk(e5.value), r2.pump(r2.reader, t3);
          }).catch(function(e5) {
            r2.cancelled ? r2.options.debug && s.debug("Fetch.catch - request cancelled") : (r2.cancelled = true, r2.options.debug && s.debug("Fetch.catch", e5.message), r2.options.onEnd(e5));
          });
        }, e3.prototype.send = function(e4) {
          var t3 = this;
          fetch(this.options.url, n(n({}, this.init), { headers: this.metadata.toHeaders(), method: "POST", body: e4, signal: this.controller && this.controller.signal })).then(function(e5) {
            if (t3.options.debug && s.debug("Fetch.response", e5), t3.options.onHeaders(new o.Metadata(e5.headers), e5.status), !e5.body)
              return e5;
            t3.pump(e5.body.getReader(), e5);
          }).catch(function(e5) {
            t3.cancelled ? t3.options.debug && s.debug("Fetch.catch - request cancelled") : (t3.cancelled = true, t3.options.debug && s.debug("Fetch.catch", e5.message), t3.options.onEnd(e5));
          });
        }, e3.prototype.sendMessage = function(e4) {
          this.send(e4);
        }, e3.prototype.finishSend = function() {
        }, e3.prototype.start = function(e4) {
          this.metadata = e4;
        }, e3.prototype.cancel = function() {
          var e4 = this;
          this.cancelled ? this.options.debug && s.debug("Fetch.cancel already cancelled") : (this.cancelled = true, this.controller ? (this.options.debug && s.debug("Fetch.cancel.controller.abort"), this.controller.abort()) : this.options.debug && s.debug("Fetch.cancel.missing abort controller"), this.reader ? (this.options.debug && s.debug("Fetch.cancel.reader.cancel"), this.reader.cancel().catch(function(t3) {
            e4.options.debug && s.debug("Fetch.cancel.reader.cancel exception", t3);
          })) : this.options.debug && s.debug("Fetch.cancel before reader"));
        }, e3;
      }();
      t2.detectFetchSupport = function() {
        return typeof Response != "undefined" && Response.prototype.hasOwnProperty("body") && typeof Headers == "function";
      };
    }, 859: function(e2, t2, r) {
      Object.defineProperty(t2, "__esModule", { value: true }), t2.CrossBrowserHttpTransport = void 0;
      var n = r(229), o = r(210);
      t2.CrossBrowserHttpTransport = function(e3) {
        if (n.detectFetchSupport()) {
          var t3 = { credentials: e3.withCredentials ? "include" : "same-origin" };
          return n.FetchReadableStreamTransport(t3);
        }
        return o.XhrTransport({ withCredentials: e3.withCredentials });
      };
    }, 210: function(e2, t2, r) {
      var n, o = this && this.__extends || (n = function(e3, t3) {
        return (n = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(e4, t4) {
          e4.__proto__ = t4;
        } || function(e4, t4) {
          for (var r2 in t4)
            Object.prototype.hasOwnProperty.call(t4, r2) && (e4[r2] = t4[r2]);
        })(e3, t3);
      }, function(e3, t3) {
        function r2() {
          this.constructor = e3;
        }
        n(e3, t3), e3.prototype = t3 === null ? Object.create(t3) : (r2.prototype = t3.prototype, new r2());
      });
      Object.defineProperty(t2, "__esModule", { value: true }), t2.stringToArrayBuffer = t2.MozChunkedArrayBufferXHR = t2.XHR = t2.XhrTransport = void 0;
      var s = r(65), i = r(346), a = r(849);
      t2.XhrTransport = function(e3) {
        return function(t3) {
          if (a.detectMozXHRSupport())
            return new d(t3, e3);
          if (a.detectXHROverrideMimeTypeSupport())
            return new u(t3, e3);
          throw new Error("This environment's XHR implementation cannot support binary transfer.");
        };
      };
      var u = function() {
        function e3(e4, t3) {
          this.options = e4, this.init = t3;
        }
        return e3.prototype.onProgressEvent = function() {
          this.options.debug && i.debug("XHR.onProgressEvent.length: ", this.xhr.response.length);
          var e4 = this.xhr.response.substr(this.index);
          this.index = this.xhr.response.length;
          var t3 = p2(e4);
          this.options.onChunk(t3);
        }, e3.prototype.onLoadEvent = function() {
          this.options.debug && i.debug("XHR.onLoadEvent"), this.options.onEnd();
        }, e3.prototype.onStateChange = function() {
          this.options.debug && i.debug("XHR.onStateChange", this.xhr.readyState), this.xhr.readyState === XMLHttpRequest.HEADERS_RECEIVED && this.options.onHeaders(new s.Metadata(this.xhr.getAllResponseHeaders()), this.xhr.status);
        }, e3.prototype.sendMessage = function(e4) {
          this.xhr.send(e4);
        }, e3.prototype.finishSend = function() {
        }, e3.prototype.start = function(e4) {
          var t3 = this;
          this.metadata = e4;
          var r2 = new XMLHttpRequest();
          this.xhr = r2, r2.open("POST", this.options.url), this.configureXhr(), this.metadata.forEach(function(e5, t4) {
            r2.setRequestHeader(e5, t4.join(", "));
          }), r2.withCredentials = Boolean(this.init.withCredentials), r2.addEventListener("readystatechange", this.onStateChange.bind(this)), r2.addEventListener("progress", this.onProgressEvent.bind(this)), r2.addEventListener("loadend", this.onLoadEvent.bind(this)), r2.addEventListener("error", function(e5) {
            t3.options.debug && i.debug("XHR.error", e5), t3.options.onEnd(e5.error);
          });
        }, e3.prototype.configureXhr = function() {
          this.xhr.responseType = "text", this.xhr.overrideMimeType("text/plain; charset=x-user-defined");
        }, e3.prototype.cancel = function() {
          this.options.debug && i.debug("XHR.abort"), this.xhr.abort();
        }, e3;
      }();
      t2.XHR = u;
      var d = function(e3) {
        function t3() {
          return e3 !== null && e3.apply(this, arguments) || this;
        }
        return o(t3, e3), t3.prototype.configureXhr = function() {
          this.options.debug && i.debug("MozXHR.configureXhr: setting responseType to 'moz-chunked-arraybuffer'"), this.xhr.responseType = "moz-chunked-arraybuffer";
        }, t3.prototype.onProgressEvent = function() {
          var e4 = this.xhr.response;
          this.options.debug && i.debug("MozXHR.onProgressEvent: ", new Uint8Array(e4)), this.options.onChunk(new Uint8Array(e4));
        }, t3;
      }(u);
      function c(e3, t3) {
        var r2 = e3.charCodeAt(t3);
        if (r2 >= 55296 && r2 <= 56319) {
          var n2 = e3.charCodeAt(t3 + 1);
          n2 >= 56320 && n2 <= 57343 && (r2 = 65536 + (r2 - 55296 << 10) + (n2 - 56320));
        }
        return r2;
      }
      function p2(e3) {
        for (var t3 = new Uint8Array(e3.length), r2 = 0, n2 = 0; n2 < e3.length; n2++) {
          var o2 = String.prototype.codePointAt ? e3.codePointAt(n2) : c(e3, n2);
          t3[r2++] = 255 & o2;
        }
        return t3;
      }
      t2.MozChunkedArrayBufferXHR = d, t2.stringToArrayBuffer = p2;
    }, 849: function(e2, t2) {
      var r;
      function n() {
        if (r !== void 0)
          return r;
        if (XMLHttpRequest) {
          r = new XMLHttpRequest();
          try {
            r.open("GET", "https://localhost");
          } catch (e3) {
          }
        }
        return r;
      }
      function o(e3) {
        var t3 = n();
        if (!t3)
          return false;
        try {
          return t3.responseType = e3, t3.responseType === e3;
        } catch (e4) {
        }
        return false;
      }
      Object.defineProperty(t2, "__esModule", { value: true }), t2.detectXHROverrideMimeTypeSupport = t2.detectMozXHRSupport = t2.xhrSupportsResponseType = void 0, t2.xhrSupportsResponseType = o, t2.detectMozXHRSupport = function() {
        return typeof XMLHttpRequest != "undefined" && o("moz-chunked-arraybuffer");
      }, t2.detectXHROverrideMimeTypeSupport = function() {
        return typeof XMLHttpRequest != "undefined" && XMLHttpRequest.prototype.hasOwnProperty("overrideMimeType");
      };
    }, 540: function(e2, t2, r) {
      Object.defineProperty(t2, "__esModule", { value: true }), t2.WebsocketTransport = void 0;
      var n, o = r(346), s = r(617);
      !function(e3) {
        e3[e3.FINISH_SEND = 1] = "FINISH_SEND";
      }(n || (n = {}));
      var i = new Uint8Array([1]);
      t2.WebsocketTransport = function() {
        return function(e3) {
          return function(e4) {
            e4.debug && o.debug("websocketRequest", e4);
            var t3, r2 = function(e5) {
              if (e5.substr(0, 8) === "https://")
                return "wss://" + e5.substr(8);
              if (e5.substr(0, 7) === "http://")
                return "ws://" + e5.substr(7);
              throw new Error("Websocket transport constructed with non-https:// or http:// host.");
            }(e4.url), a = [];
            function u(e5) {
              if (e5 === n.FINISH_SEND)
                t3.send(i);
              else {
                var r3 = e5, o2 = new Int8Array(r3.byteLength + 1);
                o2.set(new Uint8Array([0])), o2.set(r3, 1), t3.send(o2);
              }
            }
            return { sendMessage: function(e5) {
              t3 && t3.readyState !== t3.CONNECTING ? u(e5) : a.push(e5);
            }, finishSend: function() {
              t3 && t3.readyState !== t3.CONNECTING ? u(n.FINISH_SEND) : a.push(n.FINISH_SEND);
            }, start: function(n2) {
              (t3 = new WebSocket(r2, ["grpc-websockets"])).binaryType = "arraybuffer", t3.onopen = function() {
                var r3;
                e4.debug && o.debug("websocketRequest.onopen"), t3.send((r3 = "", n2.forEach(function(e5, t4) {
                  r3 += e5 + ": " + t4.join(", ") + "\r\n";
                }), s.encodeASCII(r3))), a.forEach(function(e5) {
                  u(e5);
                });
              }, t3.onclose = function(t4) {
                e4.debug && o.debug("websocketRequest.onclose", t4), e4.onEnd();
              }, t3.onerror = function(t4) {
                e4.debug && o.debug("websocketRequest.onerror", t4);
              }, t3.onmessage = function(t4) {
                e4.onChunk(new Uint8Array(t4.data));
              };
            }, cancel: function() {
              e4.debug && o.debug("websocket.abort"), t3.close();
            } };
          }(e3);
        };
      };
    }, 35: function(e2, t2, r) {
      Object.defineProperty(t2, "__esModule", { value: true }), t2.unary = void 0;
      var n = r(65), o = r(934);
      t2.unary = function(e3, t3) {
        if (e3.responseStream)
          throw new Error(".unary cannot be used with server-streaming methods. Use .invoke or .client instead.");
        if (e3.requestStream)
          throw new Error(".unary cannot be used with client-streaming methods. Use .client instead.");
        var r2 = null, s = null, i = o.client(e3, { host: t3.host, transport: t3.transport, debug: t3.debug });
        return i.onHeaders(function(e4) {
          r2 = e4;
        }), i.onMessage(function(e4) {
          s = e4;
        }), i.onEnd(function(e4, o2, i2) {
          t3.onEnd({ status: e4, statusMessage: o2, headers: r2 || new n.Metadata(), message: s, trailers: i2 });
        }), i.start(t3.metadata), i.send(t3.request), i.finishSend(), { close: function() {
          i.close();
        } };
      };
    }, 882: function(e2, t2) {
      Object.defineProperty(t2, "__esModule", { value: true }), t2.frameRequest = void 0, t2.frameRequest = function(e3) {
        var t3 = e3.serializeBinary(), r = new ArrayBuffer(t3.byteLength + 5);
        return new DataView(r, 1, 4).setUint32(0, t3.length, false), new Uint8Array(r, 5).set(t3), new Uint8Array(r);
      };
    } }, t = {}, function r(n) {
      if (t[n])
        return t[n].exports;
      var o = t[n] = { exports: {} };
      return e[n].call(o.exports, o, o.exports, r), o.exports;
    }(607);
    var e, t;
  });
})(grpcWebClient_umd);
var indexMinimal = {};
var minimal$1 = {};
var aspromise = asPromise;
function asPromise(fn, ctx) {
  var params = new Array(arguments.length - 1), offset = 0, index = 2, pending = true;
  while (index < arguments.length)
    params[offset++] = arguments[index++];
  return new Promise(function executor(resolve, reject) {
    params[offset] = function callback(err) {
      if (pending) {
        pending = false;
        if (err)
          reject(err);
        else {
          var params2 = new Array(arguments.length - 1), offset2 = 0;
          while (offset2 < params2.length)
            params2[offset2++] = arguments[offset2];
          resolve.apply(null, params2);
        }
      }
    };
    try {
      fn.apply(ctx || null, params);
    } catch (err) {
      if (pending) {
        pending = false;
        reject(err);
      }
    }
  });
}
var base64$1 = {};
(function(exports) {
  var base642 = exports;
  base642.length = function length2(string) {
    var p2 = string.length;
    if (!p2)
      return 0;
    var n = 0;
    while (--p2 % 4 > 1 && string.charAt(p2) === "=")
      ++n;
    return Math.ceil(string.length * 3) / 4 - n;
  };
  var b64 = new Array(64);
  var s64 = new Array(123);
  for (var i = 0; i < 64; )
    s64[b64[i] = i < 26 ? i + 65 : i < 52 ? i + 71 : i < 62 ? i - 4 : i - 59 | 43] = i++;
  base642.encode = function encode(buffer, start, end2) {
    var parts = null, chunk = [];
    var i2 = 0, j = 0, t;
    while (start < end2) {
      var b = buffer[start++];
      switch (j) {
        case 0:
          chunk[i2++] = b64[b >> 2];
          t = (b & 3) << 4;
          j = 1;
          break;
        case 1:
          chunk[i2++] = b64[t | b >> 4];
          t = (b & 15) << 2;
          j = 2;
          break;
        case 2:
          chunk[i2++] = b64[t | b >> 6];
          chunk[i2++] = b64[b & 63];
          j = 0;
          break;
      }
      if (i2 > 8191) {
        (parts || (parts = [])).push(String.fromCharCode.apply(String, chunk));
        i2 = 0;
      }
    }
    if (j) {
      chunk[i2++] = b64[t];
      chunk[i2++] = 61;
      if (j === 1)
        chunk[i2++] = 61;
    }
    if (parts) {
      if (i2)
        parts.push(String.fromCharCode.apply(String, chunk.slice(0, i2)));
      return parts.join("");
    }
    return String.fromCharCode.apply(String, chunk.slice(0, i2));
  };
  var invalidEncoding = "invalid encoding";
  base642.decode = function decode(string, buffer, offset) {
    var start = offset;
    var j = 0, t;
    for (var i2 = 0; i2 < string.length; ) {
      var c = string.charCodeAt(i2++);
      if (c === 61 && j > 1)
        break;
      if ((c = s64[c]) === void 0)
        throw Error(invalidEncoding);
      switch (j) {
        case 0:
          t = c;
          j = 1;
          break;
        case 1:
          buffer[offset++] = t << 2 | (c & 48) >> 4;
          t = c;
          j = 2;
          break;
        case 2:
          buffer[offset++] = (t & 15) << 4 | (c & 60) >> 2;
          t = c;
          j = 3;
          break;
        case 3:
          buffer[offset++] = (t & 3) << 6 | c;
          j = 0;
          break;
      }
    }
    if (j === 1)
      throw Error(invalidEncoding);
    return offset - start;
  };
  base642.test = function test(string) {
    return /^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(string);
  };
})(base64$1);
var eventemitter = EventEmitter;
function EventEmitter() {
  this._listeners = {};
}
EventEmitter.prototype.on = function on(evt, fn, ctx) {
  (this._listeners[evt] || (this._listeners[evt] = [])).push({
    fn,
    ctx: ctx || this
  });
  return this;
};
EventEmitter.prototype.off = function off(evt, fn) {
  if (evt === void 0)
    this._listeners = {};
  else {
    if (fn === void 0)
      this._listeners[evt] = [];
    else {
      var listeners = this._listeners[evt];
      for (var i = 0; i < listeners.length; )
        if (listeners[i].fn === fn)
          listeners.splice(i, 1);
        else
          ++i;
    }
  }
  return this;
};
EventEmitter.prototype.emit = function emit(evt) {
  var listeners = this._listeners[evt];
  if (listeners) {
    var args = [], i = 1;
    for (; i < arguments.length; )
      args.push(arguments[i++]);
    for (i = 0; i < listeners.length; )
      listeners[i].fn.apply(listeners[i++].ctx, args);
  }
  return this;
};
var float = factory(factory);
function factory(exports) {
  if (typeof Float32Array !== "undefined")
    (function() {
      var f32 = new Float32Array([-0]), f8b = new Uint8Array(f32.buffer), le = f8b[3] === 128;
      function writeFloat_f32_cpy(val, buf, pos) {
        f32[0] = val;
        buf[pos] = f8b[0];
        buf[pos + 1] = f8b[1];
        buf[pos + 2] = f8b[2];
        buf[pos + 3] = f8b[3];
      }
      function writeFloat_f32_rev(val, buf, pos) {
        f32[0] = val;
        buf[pos] = f8b[3];
        buf[pos + 1] = f8b[2];
        buf[pos + 2] = f8b[1];
        buf[pos + 3] = f8b[0];
      }
      exports.writeFloatLE = le ? writeFloat_f32_cpy : writeFloat_f32_rev;
      exports.writeFloatBE = le ? writeFloat_f32_rev : writeFloat_f32_cpy;
      function readFloat_f32_cpy(buf, pos) {
        f8b[0] = buf[pos];
        f8b[1] = buf[pos + 1];
        f8b[2] = buf[pos + 2];
        f8b[3] = buf[pos + 3];
        return f32[0];
      }
      function readFloat_f32_rev(buf, pos) {
        f8b[3] = buf[pos];
        f8b[2] = buf[pos + 1];
        f8b[1] = buf[pos + 2];
        f8b[0] = buf[pos + 3];
        return f32[0];
      }
      exports.readFloatLE = le ? readFloat_f32_cpy : readFloat_f32_rev;
      exports.readFloatBE = le ? readFloat_f32_rev : readFloat_f32_cpy;
    })();
  else
    (function() {
      function writeFloat_ieee754(writeUint, val, buf, pos) {
        var sign = val < 0 ? 1 : 0;
        if (sign)
          val = -val;
        if (val === 0)
          writeUint(1 / val > 0 ? 0 : 2147483648, buf, pos);
        else if (isNaN(val))
          writeUint(2143289344, buf, pos);
        else if (val > 34028234663852886e22)
          writeUint((sign << 31 | 2139095040) >>> 0, buf, pos);
        else if (val < 11754943508222875e-54)
          writeUint((sign << 31 | Math.round(val / 1401298464324817e-60)) >>> 0, buf, pos);
        else {
          var exponent = Math.floor(Math.log(val) / Math.LN2), mantissa = Math.round(val * Math.pow(2, -exponent) * 8388608) & 8388607;
          writeUint((sign << 31 | exponent + 127 << 23 | mantissa) >>> 0, buf, pos);
        }
      }
      exports.writeFloatLE = writeFloat_ieee754.bind(null, writeUintLE);
      exports.writeFloatBE = writeFloat_ieee754.bind(null, writeUintBE);
      function readFloat_ieee754(readUint, buf, pos) {
        var uint = readUint(buf, pos), sign = (uint >> 31) * 2 + 1, exponent = uint >>> 23 & 255, mantissa = uint & 8388607;
        return exponent === 255 ? mantissa ? NaN : sign * Infinity : exponent === 0 ? sign * 1401298464324817e-60 * mantissa : sign * Math.pow(2, exponent - 150) * (mantissa + 8388608);
      }
      exports.readFloatLE = readFloat_ieee754.bind(null, readUintLE);
      exports.readFloatBE = readFloat_ieee754.bind(null, readUintBE);
    })();
  if (typeof Float64Array !== "undefined")
    (function() {
      var f64 = new Float64Array([-0]), f8b = new Uint8Array(f64.buffer), le = f8b[7] === 128;
      function writeDouble_f64_cpy(val, buf, pos) {
        f64[0] = val;
        buf[pos] = f8b[0];
        buf[pos + 1] = f8b[1];
        buf[pos + 2] = f8b[2];
        buf[pos + 3] = f8b[3];
        buf[pos + 4] = f8b[4];
        buf[pos + 5] = f8b[5];
        buf[pos + 6] = f8b[6];
        buf[pos + 7] = f8b[7];
      }
      function writeDouble_f64_rev(val, buf, pos) {
        f64[0] = val;
        buf[pos] = f8b[7];
        buf[pos + 1] = f8b[6];
        buf[pos + 2] = f8b[5];
        buf[pos + 3] = f8b[4];
        buf[pos + 4] = f8b[3];
        buf[pos + 5] = f8b[2];
        buf[pos + 6] = f8b[1];
        buf[pos + 7] = f8b[0];
      }
      exports.writeDoubleLE = le ? writeDouble_f64_cpy : writeDouble_f64_rev;
      exports.writeDoubleBE = le ? writeDouble_f64_rev : writeDouble_f64_cpy;
      function readDouble_f64_cpy(buf, pos) {
        f8b[0] = buf[pos];
        f8b[1] = buf[pos + 1];
        f8b[2] = buf[pos + 2];
        f8b[3] = buf[pos + 3];
        f8b[4] = buf[pos + 4];
        f8b[5] = buf[pos + 5];
        f8b[6] = buf[pos + 6];
        f8b[7] = buf[pos + 7];
        return f64[0];
      }
      function readDouble_f64_rev(buf, pos) {
        f8b[7] = buf[pos];
        f8b[6] = buf[pos + 1];
        f8b[5] = buf[pos + 2];
        f8b[4] = buf[pos + 3];
        f8b[3] = buf[pos + 4];
        f8b[2] = buf[pos + 5];
        f8b[1] = buf[pos + 6];
        f8b[0] = buf[pos + 7];
        return f64[0];
      }
      exports.readDoubleLE = le ? readDouble_f64_cpy : readDouble_f64_rev;
      exports.readDoubleBE = le ? readDouble_f64_rev : readDouble_f64_cpy;
    })();
  else
    (function() {
      function writeDouble_ieee754(writeUint, off0, off1, val, buf, pos) {
        var sign = val < 0 ? 1 : 0;
        if (sign)
          val = -val;
        if (val === 0) {
          writeUint(0, buf, pos + off0);
          writeUint(1 / val > 0 ? 0 : 2147483648, buf, pos + off1);
        } else if (isNaN(val)) {
          writeUint(0, buf, pos + off0);
          writeUint(2146959360, buf, pos + off1);
        } else if (val > 17976931348623157e292) {
          writeUint(0, buf, pos + off0);
          writeUint((sign << 31 | 2146435072) >>> 0, buf, pos + off1);
        } else {
          var mantissa;
          if (val < 22250738585072014e-324) {
            mantissa = val / 5e-324;
            writeUint(mantissa >>> 0, buf, pos + off0);
            writeUint((sign << 31 | mantissa / 4294967296) >>> 0, buf, pos + off1);
          } else {
            var exponent = Math.floor(Math.log(val) / Math.LN2);
            if (exponent === 1024)
              exponent = 1023;
            mantissa = val * Math.pow(2, -exponent);
            writeUint(mantissa * 4503599627370496 >>> 0, buf, pos + off0);
            writeUint((sign << 31 | exponent + 1023 << 20 | mantissa * 1048576 & 1048575) >>> 0, buf, pos + off1);
          }
        }
      }
      exports.writeDoubleLE = writeDouble_ieee754.bind(null, writeUintLE, 0, 4);
      exports.writeDoubleBE = writeDouble_ieee754.bind(null, writeUintBE, 4, 0);
      function readDouble_ieee754(readUint, off0, off1, buf, pos) {
        var lo = readUint(buf, pos + off0), hi = readUint(buf, pos + off1);
        var sign = (hi >> 31) * 2 + 1, exponent = hi >>> 20 & 2047, mantissa = 4294967296 * (hi & 1048575) + lo;
        return exponent === 2047 ? mantissa ? NaN : sign * Infinity : exponent === 0 ? sign * 5e-324 * mantissa : sign * Math.pow(2, exponent - 1075) * (mantissa + 4503599627370496);
      }
      exports.readDoubleLE = readDouble_ieee754.bind(null, readUintLE, 0, 4);
      exports.readDoubleBE = readDouble_ieee754.bind(null, readUintBE, 4, 0);
    })();
  return exports;
}
function writeUintLE(val, buf, pos) {
  buf[pos] = val & 255;
  buf[pos + 1] = val >>> 8 & 255;
  buf[pos + 2] = val >>> 16 & 255;
  buf[pos + 3] = val >>> 24;
}
function writeUintBE(val, buf, pos) {
  buf[pos] = val >>> 24;
  buf[pos + 1] = val >>> 16 & 255;
  buf[pos + 2] = val >>> 8 & 255;
  buf[pos + 3] = val & 255;
}
function readUintLE(buf, pos) {
  return (buf[pos] | buf[pos + 1] << 8 | buf[pos + 2] << 16 | buf[pos + 3] << 24) >>> 0;
}
function readUintBE(buf, pos) {
  return (buf[pos] << 24 | buf[pos + 1] << 16 | buf[pos + 2] << 8 | buf[pos + 3]) >>> 0;
}
var inquire_1 = inquire;
function inquire(moduleName) {
  try {
    var mod = eval("quire".replace(/^/, "re"))(moduleName);
    if (mod && (mod.length || Object.keys(mod).length))
      return mod;
  } catch (e) {
  }
  return null;
}
var utf8$2 = {};
(function(exports) {
  var utf82 = exports;
  utf82.length = function utf8_length(string) {
    var len = 0, c = 0;
    for (var i = 0; i < string.length; ++i) {
      c = string.charCodeAt(i);
      if (c < 128)
        len += 1;
      else if (c < 2048)
        len += 2;
      else if ((c & 64512) === 55296 && (string.charCodeAt(i + 1) & 64512) === 56320) {
        ++i;
        len += 4;
      } else
        len += 3;
    }
    return len;
  };
  utf82.read = function utf8_read(buffer, start, end2) {
    var len = end2 - start;
    if (len < 1)
      return "";
    var parts = null, chunk = [], i = 0, t;
    while (start < end2) {
      t = buffer[start++];
      if (t < 128)
        chunk[i++] = t;
      else if (t > 191 && t < 224)
        chunk[i++] = (t & 31) << 6 | buffer[start++] & 63;
      else if (t > 239 && t < 365) {
        t = ((t & 7) << 18 | (buffer[start++] & 63) << 12 | (buffer[start++] & 63) << 6 | buffer[start++] & 63) - 65536;
        chunk[i++] = 55296 + (t >> 10);
        chunk[i++] = 56320 + (t & 1023);
      } else
        chunk[i++] = (t & 15) << 12 | (buffer[start++] & 63) << 6 | buffer[start++] & 63;
      if (i > 8191) {
        (parts || (parts = [])).push(String.fromCharCode.apply(String, chunk));
        i = 0;
      }
    }
    if (parts) {
      if (i)
        parts.push(String.fromCharCode.apply(String, chunk.slice(0, i)));
      return parts.join("");
    }
    return String.fromCharCode.apply(String, chunk.slice(0, i));
  };
  utf82.write = function utf8_write(string, buffer, offset) {
    var start = offset, c1, c2;
    for (var i = 0; i < string.length; ++i) {
      c1 = string.charCodeAt(i);
      if (c1 < 128) {
        buffer[offset++] = c1;
      } else if (c1 < 2048) {
        buffer[offset++] = c1 >> 6 | 192;
        buffer[offset++] = c1 & 63 | 128;
      } else if ((c1 & 64512) === 55296 && ((c2 = string.charCodeAt(i + 1)) & 64512) === 56320) {
        c1 = 65536 + ((c1 & 1023) << 10) + (c2 & 1023);
        ++i;
        buffer[offset++] = c1 >> 18 | 240;
        buffer[offset++] = c1 >> 12 & 63 | 128;
        buffer[offset++] = c1 >> 6 & 63 | 128;
        buffer[offset++] = c1 & 63 | 128;
      } else {
        buffer[offset++] = c1 >> 12 | 224;
        buffer[offset++] = c1 >> 6 & 63 | 128;
        buffer[offset++] = c1 & 63 | 128;
      }
    }
    return offset - start;
  };
})(utf8$2);
var pool_1 = pool;
function pool(alloc2, slice, size) {
  var SIZE = size || 8192;
  var MAX2 = SIZE >>> 1;
  var slab = null;
  var offset = SIZE;
  return function pool_alloc(size2) {
    if (size2 < 1 || size2 > MAX2)
      return alloc2(size2);
    if (offset + size2 > SIZE) {
      slab = alloc2(SIZE);
      offset = 0;
    }
    var buf = slice.call(slab, offset, offset += size2);
    if (offset & 7)
      offset = (offset | 7) + 1;
    return buf;
  };
}
var longbits = LongBits$2;
var util$5 = minimal$1;
function LongBits$2(lo, hi) {
  this.lo = lo >>> 0;
  this.hi = hi >>> 0;
}
var zero = LongBits$2.zero = new LongBits$2(0, 0);
zero.toNumber = function() {
  return 0;
};
zero.zzEncode = zero.zzDecode = function() {
  return this;
};
zero.length = function() {
  return 1;
};
var zeroHash = LongBits$2.zeroHash = "\0\0\0\0\0\0\0\0";
LongBits$2.fromNumber = function fromNumber2(value) {
  if (value === 0)
    return zero;
  var sign = value < 0;
  if (sign)
    value = -value;
  var lo = value >>> 0, hi = (value - lo) / 4294967296 >>> 0;
  if (sign) {
    hi = ~hi >>> 0;
    lo = ~lo >>> 0;
    if (++lo > 4294967295) {
      lo = 0;
      if (++hi > 4294967295)
        hi = 0;
    }
  }
  return new LongBits$2(lo, hi);
};
LongBits$2.from = function from(value) {
  if (typeof value === "number")
    return LongBits$2.fromNumber(value);
  if (util$5.isString(value)) {
    if (util$5.Long)
      value = util$5.Long.fromString(value);
    else
      return LongBits$2.fromNumber(parseInt(value, 10));
  }
  return value.low || value.high ? new LongBits$2(value.low >>> 0, value.high >>> 0) : zero;
};
LongBits$2.prototype.toNumber = function toNumber(unsigned) {
  if (!unsigned && this.hi >>> 31) {
    var lo = ~this.lo + 1 >>> 0, hi = ~this.hi >>> 0;
    if (!lo)
      hi = hi + 1 >>> 0;
    return -(lo + hi * 4294967296);
  }
  return this.lo + this.hi * 4294967296;
};
LongBits$2.prototype.toLong = function toLong(unsigned) {
  return util$5.Long ? new util$5.Long(this.lo | 0, this.hi | 0, Boolean(unsigned)) : { low: this.lo | 0, high: this.hi | 0, unsigned: Boolean(unsigned) };
};
var charCodeAt = String.prototype.charCodeAt;
LongBits$2.fromHash = function fromHash(hash2) {
  if (hash2 === zeroHash)
    return zero;
  return new LongBits$2((charCodeAt.call(hash2, 0) | charCodeAt.call(hash2, 1) << 8 | charCodeAt.call(hash2, 2) << 16 | charCodeAt.call(hash2, 3) << 24) >>> 0, (charCodeAt.call(hash2, 4) | charCodeAt.call(hash2, 5) << 8 | charCodeAt.call(hash2, 6) << 16 | charCodeAt.call(hash2, 7) << 24) >>> 0);
};
LongBits$2.prototype.toHash = function toHash() {
  return String.fromCharCode(this.lo & 255, this.lo >>> 8 & 255, this.lo >>> 16 & 255, this.lo >>> 24, this.hi & 255, this.hi >>> 8 & 255, this.hi >>> 16 & 255, this.hi >>> 24);
};
LongBits$2.prototype.zzEncode = function zzEncode() {
  var mask = this.hi >> 31;
  this.hi = ((this.hi << 1 | this.lo >>> 31) ^ mask) >>> 0;
  this.lo = (this.lo << 1 ^ mask) >>> 0;
  return this;
};
LongBits$2.prototype.zzDecode = function zzDecode() {
  var mask = -(this.lo & 1);
  this.lo = ((this.lo >>> 1 | this.hi << 31) ^ mask) >>> 0;
  this.hi = (this.hi >>> 1 ^ mask) >>> 0;
  return this;
};
LongBits$2.prototype.length = function length() {
  var part0 = this.lo, part1 = (this.lo >>> 28 | this.hi << 4) >>> 0, part2 = this.hi >>> 24;
  return part2 === 0 ? part1 === 0 ? part0 < 16384 ? part0 < 128 ? 1 : 2 : part0 < 2097152 ? 3 : 4 : part1 < 16384 ? part1 < 128 ? 5 : 6 : part1 < 2097152 ? 7 : 8 : part2 < 128 ? 9 : 10;
};
(function(exports) {
  var util2 = exports;
  util2.asPromise = aspromise;
  util2.base64 = base64$1;
  util2.EventEmitter = eventemitter;
  util2.float = float;
  util2.inquire = inquire_1;
  util2.utf8 = utf8$2;
  util2.pool = pool_1;
  util2.LongBits = longbits;
  util2.isNode = Boolean(typeof commonjsGlobal !== "undefined" && commonjsGlobal && commonjsGlobal.process && commonjsGlobal.process.versions && commonjsGlobal.process.versions.node);
  util2.global = util2.isNode && commonjsGlobal || typeof window !== "undefined" && window || typeof self !== "undefined" && self || commonjsGlobal;
  util2.emptyArray = Object.freeze ? Object.freeze([]) : [];
  util2.emptyObject = Object.freeze ? Object.freeze({}) : {};
  util2.isInteger = Number.isInteger || function isInteger(value) {
    return typeof value === "number" && isFinite(value) && Math.floor(value) === value;
  };
  util2.isString = function isString(value) {
    return typeof value === "string" || value instanceof String;
  };
  util2.isObject = function isObject(value) {
    return value && typeof value === "object";
  };
  util2.isset = util2.isSet = function isSet2(obj, prop) {
    var value = obj[prop];
    if (value != null && obj.hasOwnProperty(prop))
      return typeof value !== "object" || (Array.isArray(value) ? value.length : Object.keys(value).length) > 0;
    return false;
  };
  util2.Buffer = function() {
    try {
      var Buffer2 = util2.inquire("buffer").Buffer;
      return Buffer2.prototype.utf8Write ? Buffer2 : null;
    } catch (e) {
      return null;
    }
  }();
  util2._Buffer_from = null;
  util2._Buffer_allocUnsafe = null;
  util2.newBuffer = function newBuffer(sizeOrArray) {
    return typeof sizeOrArray === "number" ? util2.Buffer ? util2._Buffer_allocUnsafe(sizeOrArray) : new util2.Array(sizeOrArray) : util2.Buffer ? util2._Buffer_from(sizeOrArray) : typeof Uint8Array === "undefined" ? sizeOrArray : new Uint8Array(sizeOrArray);
  };
  util2.Array = typeof Uint8Array !== "undefined" ? Uint8Array : Array;
  util2.Long = util2.global.dcodeIO && util2.global.dcodeIO.Long || util2.global.Long || util2.inquire("long");
  util2.key2Re = /^true|false|0|1$/;
  util2.key32Re = /^-?(?:0|[1-9][0-9]*)$/;
  util2.key64Re = /^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;
  util2.longToHash = function longToHash(value) {
    return value ? util2.LongBits.from(value).toHash() : util2.LongBits.zeroHash;
  };
  util2.longFromHash = function longFromHash(hash2, unsigned) {
    var bits = util2.LongBits.fromHash(hash2);
    if (util2.Long)
      return util2.Long.fromBits(bits.lo, bits.hi, unsigned);
    return bits.toNumber(Boolean(unsigned));
  };
  function merge(dst, src, ifNotSet) {
    for (var keys = Object.keys(src), i = 0; i < keys.length; ++i)
      if (dst[keys[i]] === void 0 || !ifNotSet)
        dst[keys[i]] = src[keys[i]];
    return dst;
  }
  util2.merge = merge;
  util2.lcFirst = function lcFirst(str) {
    return str.charAt(0).toLowerCase() + str.substring(1);
  };
  function newError(name) {
    function CustomError(message, properties) {
      if (!(this instanceof CustomError))
        return new CustomError(message, properties);
      Object.defineProperty(this, "message", { get: function() {
        return message;
      } });
      if (Error.captureStackTrace)
        Error.captureStackTrace(this, CustomError);
      else
        Object.defineProperty(this, "stack", { value: new Error().stack || "" });
      if (properties)
        merge(this, properties);
    }
    CustomError.prototype = Object.create(Error.prototype, {
      constructor: {
        value: CustomError,
        writable: true,
        enumerable: false,
        configurable: true
      },
      name: {
        get() {
          return name;
        },
        set: void 0,
        enumerable: false,
        configurable: true
      },
      toString: {
        value() {
          return this.name + ": " + this.message;
        },
        writable: true,
        enumerable: false,
        configurable: true
      }
    });
    return CustomError;
  }
  util2.newError = newError;
  util2.ProtocolError = newError("ProtocolError");
  util2.oneOfGetter = function getOneOf(fieldNames) {
    var fieldMap = {};
    for (var i = 0; i < fieldNames.length; ++i)
      fieldMap[fieldNames[i]] = 1;
    return function() {
      for (var keys = Object.keys(this), i2 = keys.length - 1; i2 > -1; --i2)
        if (fieldMap[keys[i2]] === 1 && this[keys[i2]] !== void 0 && this[keys[i2]] !== null)
          return keys[i2];
    };
  };
  util2.oneOfSetter = function setOneOf(fieldNames) {
    return function(name) {
      for (var i = 0; i < fieldNames.length; ++i)
        if (fieldNames[i] !== name)
          delete this[fieldNames[i]];
    };
  };
  util2.toJSONOptions = {
    longs: String,
    enums: String,
    bytes: String,
    json: true
  };
  util2._configure = function() {
    var Buffer2 = util2.Buffer;
    if (!Buffer2) {
      util2._Buffer_from = util2._Buffer_allocUnsafe = null;
      return;
    }
    util2._Buffer_from = Buffer2.from !== Uint8Array.from && Buffer2.from || function Buffer_from(value, encoding) {
      return new Buffer2(value, encoding);
    };
    util2._Buffer_allocUnsafe = Buffer2.allocUnsafe || function Buffer_allocUnsafe(size) {
      return new Buffer2(size);
    };
  };
})(minimal$1);
var writer = Writer$1;
var util$4 = minimal$1;
var BufferWriter$1;
var LongBits$1 = util$4.LongBits, base64 = util$4.base64, utf8$1 = util$4.utf8;
function Op(fn, len, val) {
  this.fn = fn;
  this.len = len;
  this.next = void 0;
  this.val = val;
}
function noop() {
}
function State(writer2) {
  this.head = writer2.head;
  this.tail = writer2.tail;
  this.len = writer2.len;
  this.next = writer2.states;
}
function Writer$1() {
  this.len = 0;
  this.head = new Op(noop, 0, 0);
  this.tail = this.head;
  this.states = null;
}
var create$1 = function create2() {
  return util$4.Buffer ? function create_buffer_setup() {
    return (Writer$1.create = function create_buffer() {
      return new BufferWriter$1();
    })();
  } : function create_array3() {
    return new Writer$1();
  };
};
Writer$1.create = create$1();
Writer$1.alloc = function alloc(size) {
  return new util$4.Array(size);
};
if (util$4.Array !== Array)
  Writer$1.alloc = util$4.pool(Writer$1.alloc, util$4.Array.prototype.subarray);
Writer$1.prototype._push = function push(fn, len, val) {
  this.tail = this.tail.next = new Op(fn, len, val);
  this.len += len;
  return this;
};
function writeByte(val, buf, pos) {
  buf[pos] = val & 255;
}
function writeVarint32(val, buf, pos) {
  while (val > 127) {
    buf[pos++] = val & 127 | 128;
    val >>>= 7;
  }
  buf[pos] = val;
}
function VarintOp(len, val) {
  this.len = len;
  this.next = void 0;
  this.val = val;
}
VarintOp.prototype = Object.create(Op.prototype);
VarintOp.prototype.fn = writeVarint32;
Writer$1.prototype.uint32 = function write_uint32(value) {
  this.len += (this.tail = this.tail.next = new VarintOp((value = value >>> 0) < 128 ? 1 : value < 16384 ? 2 : value < 2097152 ? 3 : value < 268435456 ? 4 : 5, value)).len;
  return this;
};
Writer$1.prototype.int32 = function write_int32(value) {
  return value < 0 ? this._push(writeVarint64, 10, LongBits$1.fromNumber(value)) : this.uint32(value);
};
Writer$1.prototype.sint32 = function write_sint32(value) {
  return this.uint32((value << 1 ^ value >> 31) >>> 0);
};
function writeVarint64(val, buf, pos) {
  while (val.hi) {
    buf[pos++] = val.lo & 127 | 128;
    val.lo = (val.lo >>> 7 | val.hi << 25) >>> 0;
    val.hi >>>= 7;
  }
  while (val.lo > 127) {
    buf[pos++] = val.lo & 127 | 128;
    val.lo = val.lo >>> 7;
  }
  buf[pos++] = val.lo;
}
Writer$1.prototype.uint64 = function write_uint64(value) {
  var bits = LongBits$1.from(value);
  return this._push(writeVarint64, bits.length(), bits);
};
Writer$1.prototype.int64 = Writer$1.prototype.uint64;
Writer$1.prototype.sint64 = function write_sint64(value) {
  var bits = LongBits$1.from(value).zzEncode();
  return this._push(writeVarint64, bits.length(), bits);
};
Writer$1.prototype.bool = function write_bool(value) {
  return this._push(writeByte, 1, value ? 1 : 0);
};
function writeFixed32(val, buf, pos) {
  buf[pos] = val & 255;
  buf[pos + 1] = val >>> 8 & 255;
  buf[pos + 2] = val >>> 16 & 255;
  buf[pos + 3] = val >>> 24;
}
Writer$1.prototype.fixed32 = function write_fixed32(value) {
  return this._push(writeFixed32, 4, value >>> 0);
};
Writer$1.prototype.sfixed32 = Writer$1.prototype.fixed32;
Writer$1.prototype.fixed64 = function write_fixed64(value) {
  var bits = LongBits$1.from(value);
  return this._push(writeFixed32, 4, bits.lo)._push(writeFixed32, 4, bits.hi);
};
Writer$1.prototype.sfixed64 = Writer$1.prototype.fixed64;
Writer$1.prototype.float = function write_float(value) {
  return this._push(util$4.float.writeFloatLE, 4, value);
};
Writer$1.prototype.double = function write_double(value) {
  return this._push(util$4.float.writeDoubleLE, 8, value);
};
var writeBytes = util$4.Array.prototype.set ? function writeBytes_set(val, buf, pos) {
  buf.set(val, pos);
} : function writeBytes_for(val, buf, pos) {
  for (var i = 0; i < val.length; ++i)
    buf[pos + i] = val[i];
};
Writer$1.prototype.bytes = function write_bytes(value) {
  var len = value.length >>> 0;
  if (!len)
    return this._push(writeByte, 1, 0);
  if (util$4.isString(value)) {
    var buf = Writer$1.alloc(len = base64.length(value));
    base64.decode(value, buf, 0);
    value = buf;
  }
  return this.uint32(len)._push(writeBytes, len, value);
};
Writer$1.prototype.string = function write_string(value) {
  var len = utf8$1.length(value);
  return len ? this.uint32(len)._push(utf8$1.write, len, value) : this._push(writeByte, 1, 0);
};
Writer$1.prototype.fork = function fork() {
  this.states = new State(this);
  this.head = this.tail = new Op(noop, 0, 0);
  this.len = 0;
  return this;
};
Writer$1.prototype.reset = function reset() {
  if (this.states) {
    this.head = this.states.head;
    this.tail = this.states.tail;
    this.len = this.states.len;
    this.states = this.states.next;
  } else {
    this.head = this.tail = new Op(noop, 0, 0);
    this.len = 0;
  }
  return this;
};
Writer$1.prototype.ldelim = function ldelim() {
  var head = this.head, tail = this.tail, len = this.len;
  this.reset().uint32(len);
  if (len) {
    this.tail.next = head.next;
    this.tail = tail;
    this.len += len;
  }
  return this;
};
Writer$1.prototype.finish = function finish() {
  var head = this.head.next, buf = this.constructor.alloc(this.len), pos = 0;
  while (head) {
    head.fn(head.val, buf, pos);
    pos += head.len;
    head = head.next;
  }
  return buf;
};
Writer$1._configure = function(BufferWriter_) {
  BufferWriter$1 = BufferWriter_;
  Writer$1.create = create$1();
  BufferWriter$1._configure();
};
var writer_buffer = BufferWriter;
var Writer = writer;
(BufferWriter.prototype = Object.create(Writer.prototype)).constructor = BufferWriter;
var util$3 = minimal$1;
function BufferWriter() {
  Writer.call(this);
}
BufferWriter._configure = function() {
  BufferWriter.alloc = util$3._Buffer_allocUnsafe;
  BufferWriter.writeBytesBuffer = util$3.Buffer && util$3.Buffer.prototype instanceof Uint8Array && util$3.Buffer.prototype.set.name === "set" ? function writeBytesBuffer_set(val, buf, pos) {
    buf.set(val, pos);
  } : function writeBytesBuffer_copy(val, buf, pos) {
    if (val.copy)
      val.copy(buf, pos, 0, val.length);
    else
      for (var i = 0; i < val.length; )
        buf[pos++] = val[i++];
  };
};
BufferWriter.prototype.bytes = function write_bytes_buffer(value) {
  if (util$3.isString(value))
    value = util$3._Buffer_from(value, "base64");
  var len = value.length >>> 0;
  this.uint32(len);
  if (len)
    this._push(BufferWriter.writeBytesBuffer, len, value);
  return this;
};
function writeStringBuffer(val, buf, pos) {
  if (val.length < 40)
    util$3.utf8.write(val, buf, pos);
  else if (buf.utf8Write)
    buf.utf8Write(val, pos);
  else
    buf.write(val, pos);
}
BufferWriter.prototype.string = function write_string_buffer(value) {
  var len = util$3.Buffer.byteLength(value);
  this.uint32(len);
  if (len)
    this._push(writeStringBuffer, len, value);
  return this;
};
BufferWriter._configure();
var reader = Reader$1;
var util$2 = minimal$1;
var BufferReader$1;
var LongBits = util$2.LongBits, utf8 = util$2.utf8;
function indexOutOfRange(reader2, writeLength) {
  return RangeError("index out of range: " + reader2.pos + " + " + (writeLength || 1) + " > " + reader2.len);
}
function Reader$1(buffer) {
  this.buf = buffer;
  this.pos = 0;
  this.len = buffer.length;
}
var create_array = typeof Uint8Array !== "undefined" ? function create_typed_array(buffer) {
  if (buffer instanceof Uint8Array || Array.isArray(buffer))
    return new Reader$1(buffer);
  throw Error("illegal buffer");
} : function create_array2(buffer) {
  if (Array.isArray(buffer))
    return new Reader$1(buffer);
  throw Error("illegal buffer");
};
var create = function create3() {
  return util$2.Buffer ? function create_buffer_setup(buffer) {
    return (Reader$1.create = function create_buffer(buffer2) {
      return util$2.Buffer.isBuffer(buffer2) ? new BufferReader$1(buffer2) : create_array(buffer2);
    })(buffer);
  } : create_array;
};
Reader$1.create = create();
Reader$1.prototype._slice = util$2.Array.prototype.subarray || util$2.Array.prototype.slice;
Reader$1.prototype.uint32 = function read_uint32_setup() {
  var value = 4294967295;
  return function read_uint32() {
    value = (this.buf[this.pos] & 127) >>> 0;
    if (this.buf[this.pos++] < 128)
      return value;
    value = (value | (this.buf[this.pos] & 127) << 7) >>> 0;
    if (this.buf[this.pos++] < 128)
      return value;
    value = (value | (this.buf[this.pos] & 127) << 14) >>> 0;
    if (this.buf[this.pos++] < 128)
      return value;
    value = (value | (this.buf[this.pos] & 127) << 21) >>> 0;
    if (this.buf[this.pos++] < 128)
      return value;
    value = (value | (this.buf[this.pos] & 15) << 28) >>> 0;
    if (this.buf[this.pos++] < 128)
      return value;
    if ((this.pos += 5) > this.len) {
      this.pos = this.len;
      throw indexOutOfRange(this, 10);
    }
    return value;
  };
}();
Reader$1.prototype.int32 = function read_int32() {
  return this.uint32() | 0;
};
Reader$1.prototype.sint32 = function read_sint32() {
  var value = this.uint32();
  return value >>> 1 ^ -(value & 1) | 0;
};
function readLongVarint() {
  var bits = new LongBits(0, 0);
  var i = 0;
  if (this.len - this.pos > 4) {
    for (; i < 4; ++i) {
      bits.lo = (bits.lo | (this.buf[this.pos] & 127) << i * 7) >>> 0;
      if (this.buf[this.pos++] < 128)
        return bits;
    }
    bits.lo = (bits.lo | (this.buf[this.pos] & 127) << 28) >>> 0;
    bits.hi = (bits.hi | (this.buf[this.pos] & 127) >> 4) >>> 0;
    if (this.buf[this.pos++] < 128)
      return bits;
    i = 0;
  } else {
    for (; i < 3; ++i) {
      if (this.pos >= this.len)
        throw indexOutOfRange(this);
      bits.lo = (bits.lo | (this.buf[this.pos] & 127) << i * 7) >>> 0;
      if (this.buf[this.pos++] < 128)
        return bits;
    }
    bits.lo = (bits.lo | (this.buf[this.pos++] & 127) << i * 7) >>> 0;
    return bits;
  }
  if (this.len - this.pos > 4) {
    for (; i < 5; ++i) {
      bits.hi = (bits.hi | (this.buf[this.pos] & 127) << i * 7 + 3) >>> 0;
      if (this.buf[this.pos++] < 128)
        return bits;
    }
  } else {
    for (; i < 5; ++i) {
      if (this.pos >= this.len)
        throw indexOutOfRange(this);
      bits.hi = (bits.hi | (this.buf[this.pos] & 127) << i * 7 + 3) >>> 0;
      if (this.buf[this.pos++] < 128)
        return bits;
    }
  }
  throw Error("invalid varint encoding");
}
Reader$1.prototype.bool = function read_bool() {
  return this.uint32() !== 0;
};
function readFixed32_end(buf, end2) {
  return (buf[end2 - 4] | buf[end2 - 3] << 8 | buf[end2 - 2] << 16 | buf[end2 - 1] << 24) >>> 0;
}
Reader$1.prototype.fixed32 = function read_fixed32() {
  if (this.pos + 4 > this.len)
    throw indexOutOfRange(this, 4);
  return readFixed32_end(this.buf, this.pos += 4);
};
Reader$1.prototype.sfixed32 = function read_sfixed32() {
  if (this.pos + 4 > this.len)
    throw indexOutOfRange(this, 4);
  return readFixed32_end(this.buf, this.pos += 4) | 0;
};
function readFixed64() {
  if (this.pos + 8 > this.len)
    throw indexOutOfRange(this, 8);
  return new LongBits(readFixed32_end(this.buf, this.pos += 4), readFixed32_end(this.buf, this.pos += 4));
}
Reader$1.prototype.float = function read_float() {
  if (this.pos + 4 > this.len)
    throw indexOutOfRange(this, 4);
  var value = util$2.float.readFloatLE(this.buf, this.pos);
  this.pos += 4;
  return value;
};
Reader$1.prototype.double = function read_double() {
  if (this.pos + 8 > this.len)
    throw indexOutOfRange(this, 4);
  var value = util$2.float.readDoubleLE(this.buf, this.pos);
  this.pos += 8;
  return value;
};
Reader$1.prototype.bytes = function read_bytes() {
  var length2 = this.uint32(), start = this.pos, end2 = this.pos + length2;
  if (end2 > this.len)
    throw indexOutOfRange(this, length2);
  this.pos += length2;
  if (Array.isArray(this.buf))
    return this.buf.slice(start, end2);
  return start === end2 ? new this.buf.constructor(0) : this._slice.call(this.buf, start, end2);
};
Reader$1.prototype.string = function read_string() {
  var bytes = this.bytes();
  return utf8.read(bytes, 0, bytes.length);
};
Reader$1.prototype.skip = function skip(length2) {
  if (typeof length2 === "number") {
    if (this.pos + length2 > this.len)
      throw indexOutOfRange(this, length2);
    this.pos += length2;
  } else {
    do {
      if (this.pos >= this.len)
        throw indexOutOfRange(this);
    } while (this.buf[this.pos++] & 128);
  }
  return this;
};
Reader$1.prototype.skipType = function(wireType) {
  switch (wireType) {
    case 0:
      this.skip();
      break;
    case 1:
      this.skip(8);
      break;
    case 2:
      this.skip(this.uint32());
      break;
    case 3:
      while ((wireType = this.uint32() & 7) !== 4) {
        this.skipType(wireType);
      }
      break;
    case 5:
      this.skip(4);
      break;
    default:
      throw Error("invalid wire type " + wireType + " at offset " + this.pos);
  }
  return this;
};
Reader$1._configure = function(BufferReader_) {
  BufferReader$1 = BufferReader_;
  Reader$1.create = create();
  BufferReader$1._configure();
  var fn = util$2.Long ? "toLong" : "toNumber";
  util$2.merge(Reader$1.prototype, {
    int64: function read_int64() {
      return readLongVarint.call(this)[fn](false);
    },
    uint64: function read_uint64() {
      return readLongVarint.call(this)[fn](true);
    },
    sint64: function read_sint64() {
      return readLongVarint.call(this).zzDecode()[fn](false);
    },
    fixed64: function read_fixed64() {
      return readFixed64.call(this)[fn](true);
    },
    sfixed64: function read_sfixed64() {
      return readFixed64.call(this)[fn](false);
    }
  });
};
var reader_buffer = BufferReader;
var Reader = reader;
(BufferReader.prototype = Object.create(Reader.prototype)).constructor = BufferReader;
var util$1 = minimal$1;
function BufferReader(buffer) {
  Reader.call(this, buffer);
}
BufferReader._configure = function() {
  if (util$1.Buffer)
    BufferReader.prototype._slice = util$1.Buffer.prototype.slice;
};
BufferReader.prototype.string = function read_string_buffer() {
  var len = this.uint32();
  return this.buf.utf8Slice ? this.buf.utf8Slice(this.pos, this.pos = Math.min(this.pos + len, this.len)) : this.buf.toString("utf-8", this.pos, this.pos = Math.min(this.pos + len, this.len));
};
BufferReader._configure();
var rpc = {};
var service = Service;
var util = minimal$1;
(Service.prototype = Object.create(util.EventEmitter.prototype)).constructor = Service;
function Service(rpcImpl, requestDelimited, responseDelimited) {
  if (typeof rpcImpl !== "function")
    throw TypeError("rpcImpl must be a function");
  util.EventEmitter.call(this);
  this.rpcImpl = rpcImpl;
  this.requestDelimited = Boolean(requestDelimited);
  this.responseDelimited = Boolean(responseDelimited);
}
Service.prototype.rpcCall = function rpcCall(method, requestCtor, responseCtor, request, callback) {
  if (!request)
    throw TypeError("request must be specified");
  var self2 = this;
  if (!callback)
    return util.asPromise(rpcCall, self2, method, requestCtor, responseCtor, request);
  if (!self2.rpcImpl) {
    setTimeout(function() {
      callback(Error("already ended"));
    }, 0);
    return void 0;
  }
  try {
    return self2.rpcImpl(method, requestCtor[self2.requestDelimited ? "encodeDelimited" : "encode"](request).finish(), function rpcCallback(err, response) {
      if (err) {
        self2.emit("error", err, method);
        return callback(err);
      }
      if (response === null) {
        self2.end(true);
        return void 0;
      }
      if (!(response instanceof responseCtor)) {
        try {
          response = responseCtor[self2.responseDelimited ? "decodeDelimited" : "decode"](response);
        } catch (err2) {
          self2.emit("error", err2, method);
          return callback(err2);
        }
      }
      self2.emit("data", response, method);
      return callback(null, response);
    });
  } catch (err) {
    self2.emit("error", err, method);
    setTimeout(function() {
      callback(err);
    }, 0);
    return void 0;
  }
};
Service.prototype.end = function end(endedByRPC) {
  if (this.rpcImpl) {
    if (!endedByRPC)
      this.rpcImpl(null, null, null);
    this.rpcImpl = null;
    this.emit("end").off();
  }
  return this;
};
(function(exports) {
  var rpc2 = exports;
  rpc2.Service = service;
})(rpc);
var roots = {};
(function(exports) {
  var protobuf = exports;
  protobuf.build = "minimal";
  protobuf.Writer = writer;
  protobuf.BufferWriter = writer_buffer;
  protobuf.Reader = reader;
  protobuf.BufferReader = reader_buffer;
  protobuf.util = minimal$1;
  protobuf.rpc = rpc;
  protobuf.roots = roots;
  protobuf.configure = configure;
  function configure() {
    protobuf.util._configure();
    protobuf.Writer._configure(protobuf.BufferWriter);
    protobuf.Reader._configure(protobuf.BufferReader);
  }
  configure();
})(indexMinimal);
var minimal = indexMinimal;
function createBaseCoin() {
  return { denom: "", amount: "" };
}
const Coin = {
  encode(message, writer2 = minimal.Writer.create()) {
    if (message.denom !== "") {
      writer2.uint32(10).string(message.denom);
    }
    if (message.amount !== "") {
      writer2.uint32(18).string(message.amount);
    }
    return writer2;
  },
  decode(input, length2) {
    const reader2 = input instanceof minimal.Reader ? input : new minimal.Reader(input);
    let end2 = length2 === void 0 ? reader2.len : reader2.pos + length2;
    const message = createBaseCoin();
    while (reader2.pos < end2) {
      const tag = reader2.uint32();
      switch (tag >>> 3) {
        case 1:
          message.denom = reader2.string();
          break;
        case 2:
          message.amount = reader2.string();
          break;
        default:
          reader2.skipType(tag & 7);
          break;
      }
    }
    return message;
  },
  fromJSON(object) {
    return {
      denom: isSet$9(object.denom) ? String(object.denom) : "",
      amount: isSet$9(object.amount) ? String(object.amount) : ""
    };
  },
  toJSON(message) {
    const obj = {};
    message.denom !== void 0 && (obj.denom = message.denom);
    message.amount !== void 0 && (obj.amount = message.amount);
    return obj;
  },
  fromPartial(object) {
    const message = createBaseCoin();
    message.denom = object.denom ?? "";
    message.amount = object.amount ?? "";
    return message;
  }
};
function isSet$9(value) {
  return value !== null && value !== void 0;
}
var long = Long;
var wasm = null;
try {
  wasm = new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([
    0,
    97,
    115,
    109,
    1,
    0,
    0,
    0,
    1,
    13,
    2,
    96,
    0,
    1,
    127,
    96,
    4,
    127,
    127,
    127,
    127,
    1,
    127,
    3,
    7,
    6,
    0,
    1,
    1,
    1,
    1,
    1,
    6,
    6,
    1,
    127,
    1,
    65,
    0,
    11,
    7,
    50,
    6,
    3,
    109,
    117,
    108,
    0,
    1,
    5,
    100,
    105,
    118,
    95,
    115,
    0,
    2,
    5,
    100,
    105,
    118,
    95,
    117,
    0,
    3,
    5,
    114,
    101,
    109,
    95,
    115,
    0,
    4,
    5,
    114,
    101,
    109,
    95,
    117,
    0,
    5,
    8,
    103,
    101,
    116,
    95,
    104,
    105,
    103,
    104,
    0,
    0,
    10,
    191,
    1,
    6,
    4,
    0,
    35,
    0,
    11,
    36,
    1,
    1,
    126,
    32,
    0,
    173,
    32,
    1,
    173,
    66,
    32,
    134,
    132,
    32,
    2,
    173,
    32,
    3,
    173,
    66,
    32,
    134,
    132,
    126,
    34,
    4,
    66,
    32,
    135,
    167,
    36,
    0,
    32,
    4,
    167,
    11,
    36,
    1,
    1,
    126,
    32,
    0,
    173,
    32,
    1,
    173,
    66,
    32,
    134,
    132,
    32,
    2,
    173,
    32,
    3,
    173,
    66,
    32,
    134,
    132,
    127,
    34,
    4,
    66,
    32,
    135,
    167,
    36,
    0,
    32,
    4,
    167,
    11,
    36,
    1,
    1,
    126,
    32,
    0,
    173,
    32,
    1,
    173,
    66,
    32,
    134,
    132,
    32,
    2,
    173,
    32,
    3,
    173,
    66,
    32,
    134,
    132,
    128,
    34,
    4,
    66,
    32,
    135,
    167,
    36,
    0,
    32,
    4,
    167,
    11,
    36,
    1,
    1,
    126,
    32,
    0,
    173,
    32,
    1,
    173,
    66,
    32,
    134,
    132,
    32,
    2,
    173,
    32,
    3,
    173,
    66,
    32,
    134,
    132,
    129,
    34,
    4,
    66,
    32,
    135,
    167,
    36,
    0,
    32,
    4,
    167,
    11,
    36,
    1,
    1,
    126,
    32,
    0,
    173,
    32,
    1,
    173,
    66,
    32,
    134,
    132,
    32,
    2,
    173,
    32,
    3,
    173,
    66,
    32,
    134,
    132,
    130,
    34,
    4,
    66,
    32,
    135,
    167,
    36,
    0,
    32,
    4,
    167,
    11
  ])), {}).exports;
} catch (e) {
}
function Long(low, high, unsigned) {
  this.low = low | 0;
  this.high = high | 0;
  this.unsigned = !!unsigned;
}
Long.prototype.__isLong__;
Object.defineProperty(Long.prototype, "__isLong__", { value: true });
function isLong(obj) {
  return (obj && obj["__isLong__"]) === true;
}
Long.isLong = isLong;
var INT_CACHE = {};
var UINT_CACHE = {};
function fromInt(value, unsigned) {
  var obj, cachedObj, cache;
  if (unsigned) {
    value >>>= 0;
    if (cache = 0 <= value && value < 256) {
      cachedObj = UINT_CACHE[value];
      if (cachedObj)
        return cachedObj;
    }
    obj = fromBits(value, (value | 0) < 0 ? -1 : 0, true);
    if (cache)
      UINT_CACHE[value] = obj;
    return obj;
  } else {
    value |= 0;
    if (cache = -128 <= value && value < 128) {
      cachedObj = INT_CACHE[value];
      if (cachedObj)
        return cachedObj;
    }
    obj = fromBits(value, value < 0 ? -1 : 0, false);
    if (cache)
      INT_CACHE[value] = obj;
    return obj;
  }
}
Long.fromInt = fromInt;
function fromNumber(value, unsigned) {
  if (isNaN(value))
    return unsigned ? UZERO : ZERO;
  if (unsigned) {
    if (value < 0)
      return UZERO;
    if (value >= TWO_PWR_64_DBL)
      return MAX_UNSIGNED_VALUE;
  } else {
    if (value <= -TWO_PWR_63_DBL)
      return MIN_VALUE;
    if (value + 1 >= TWO_PWR_63_DBL)
      return MAX_VALUE;
  }
  if (value < 0)
    return fromNumber(-value, unsigned).neg();
  return fromBits(value % TWO_PWR_32_DBL | 0, value / TWO_PWR_32_DBL | 0, unsigned);
}
Long.fromNumber = fromNumber;
function fromBits(lowBits, highBits, unsigned) {
  return new Long(lowBits, highBits, unsigned);
}
Long.fromBits = fromBits;
var pow_dbl = Math.pow;
function fromString(str, unsigned, radix) {
  if (str.length === 0)
    throw Error("empty string");
  if (str === "NaN" || str === "Infinity" || str === "+Infinity" || str === "-Infinity")
    return ZERO;
  if (typeof unsigned === "number") {
    radix = unsigned, unsigned = false;
  } else {
    unsigned = !!unsigned;
  }
  radix = radix || 10;
  if (radix < 2 || 36 < radix)
    throw RangeError("radix");
  var p2;
  if ((p2 = str.indexOf("-")) > 0)
    throw Error("interior hyphen");
  else if (p2 === 0) {
    return fromString(str.substring(1), unsigned, radix).neg();
  }
  var radixToPower = fromNumber(pow_dbl(radix, 8));
  var result = ZERO;
  for (var i = 0; i < str.length; i += 8) {
    var size = Math.min(8, str.length - i), value = parseInt(str.substring(i, i + size), radix);
    if (size < 8) {
      var power = fromNumber(pow_dbl(radix, size));
      result = result.mul(power).add(fromNumber(value));
    } else {
      result = result.mul(radixToPower);
      result = result.add(fromNumber(value));
    }
  }
  result.unsigned = unsigned;
  return result;
}
Long.fromString = fromString;
function fromValue(val, unsigned) {
  if (typeof val === "number")
    return fromNumber(val, unsigned);
  if (typeof val === "string")
    return fromString(val, unsigned);
  return fromBits(val.low, val.high, typeof unsigned === "boolean" ? unsigned : val.unsigned);
}
Long.fromValue = fromValue;
var TWO_PWR_16_DBL = 1 << 16;
var TWO_PWR_24_DBL = 1 << 24;
var TWO_PWR_32_DBL = TWO_PWR_16_DBL * TWO_PWR_16_DBL;
var TWO_PWR_64_DBL = TWO_PWR_32_DBL * TWO_PWR_32_DBL;
var TWO_PWR_63_DBL = TWO_PWR_64_DBL / 2;
var TWO_PWR_24 = fromInt(TWO_PWR_24_DBL);
var ZERO = fromInt(0);
Long.ZERO = ZERO;
var UZERO = fromInt(0, true);
Long.UZERO = UZERO;
var ONE = fromInt(1);
Long.ONE = ONE;
var UONE = fromInt(1, true);
Long.UONE = UONE;
var NEG_ONE = fromInt(-1);
Long.NEG_ONE = NEG_ONE;
var MAX_VALUE = fromBits(4294967295 | 0, 2147483647 | 0, false);
Long.MAX_VALUE = MAX_VALUE;
var MAX_UNSIGNED_VALUE = fromBits(4294967295 | 0, 4294967295 | 0, true);
Long.MAX_UNSIGNED_VALUE = MAX_UNSIGNED_VALUE;
var MIN_VALUE = fromBits(0, 2147483648 | 0, false);
Long.MIN_VALUE = MIN_VALUE;
var LongPrototype = Long.prototype;
LongPrototype.toInt = function toInt() {
  return this.unsigned ? this.low >>> 0 : this.low;
};
LongPrototype.toNumber = function toNumber2() {
  if (this.unsigned)
    return (this.high >>> 0) * TWO_PWR_32_DBL + (this.low >>> 0);
  return this.high * TWO_PWR_32_DBL + (this.low >>> 0);
};
LongPrototype.toString = function toString(radix) {
  radix = radix || 10;
  if (radix < 2 || 36 < radix)
    throw RangeError("radix");
  if (this.isZero())
    return "0";
  if (this.isNegative()) {
    if (this.eq(MIN_VALUE)) {
      var radixLong = fromNumber(radix), div = this.div(radixLong), rem1 = div.mul(radixLong).sub(this);
      return div.toString(radix) + rem1.toInt().toString(radix);
    } else
      return "-" + this.neg().toString(radix);
  }
  var radixToPower = fromNumber(pow_dbl(radix, 6), this.unsigned), rem = this;
  var result = "";
  while (true) {
    var remDiv = rem.div(radixToPower), intval = rem.sub(remDiv.mul(radixToPower)).toInt() >>> 0, digits = intval.toString(radix);
    rem = remDiv;
    if (rem.isZero())
      return digits + result;
    else {
      while (digits.length < 6)
        digits = "0" + digits;
      result = "" + digits + result;
    }
  }
};
LongPrototype.getHighBits = function getHighBits() {
  return this.high;
};
LongPrototype.getHighBitsUnsigned = function getHighBitsUnsigned() {
  return this.high >>> 0;
};
LongPrototype.getLowBits = function getLowBits() {
  return this.low;
};
LongPrototype.getLowBitsUnsigned = function getLowBitsUnsigned() {
  return this.low >>> 0;
};
LongPrototype.getNumBitsAbs = function getNumBitsAbs() {
  if (this.isNegative())
    return this.eq(MIN_VALUE) ? 64 : this.neg().getNumBitsAbs();
  var val = this.high != 0 ? this.high : this.low;
  for (var bit = 31; bit > 0; bit--)
    if ((val & 1 << bit) != 0)
      break;
  return this.high != 0 ? bit + 33 : bit + 1;
};
LongPrototype.isZero = function isZero() {
  return this.high === 0 && this.low === 0;
};
LongPrototype.eqz = LongPrototype.isZero;
LongPrototype.isNegative = function isNegative() {
  return !this.unsigned && this.high < 0;
};
LongPrototype.isPositive = function isPositive() {
  return this.unsigned || this.high >= 0;
};
LongPrototype.isOdd = function isOdd2() {
  return (this.low & 1) === 1;
};
LongPrototype.isEven = function isEven() {
  return (this.low & 1) === 0;
};
LongPrototype.equals = function equals(other) {
  if (!isLong(other))
    other = fromValue(other);
  if (this.unsigned !== other.unsigned && this.high >>> 31 === 1 && other.high >>> 31 === 1)
    return false;
  return this.high === other.high && this.low === other.low;
};
LongPrototype.eq = LongPrototype.equals;
LongPrototype.notEquals = function notEquals(other) {
  return !this.eq(other);
};
LongPrototype.neq = LongPrototype.notEquals;
LongPrototype.ne = LongPrototype.notEquals;
LongPrototype.lessThan = function lessThan(other) {
  return this.comp(other) < 0;
};
LongPrototype.lt = LongPrototype.lessThan;
LongPrototype.lessThanOrEqual = function lessThanOrEqual(other) {
  return this.comp(other) <= 0;
};
LongPrototype.lte = LongPrototype.lessThanOrEqual;
LongPrototype.le = LongPrototype.lessThanOrEqual;
LongPrototype.greaterThan = function greaterThan(other) {
  return this.comp(other) > 0;
};
LongPrototype.gt = LongPrototype.greaterThan;
LongPrototype.greaterThanOrEqual = function greaterThanOrEqual(other) {
  return this.comp(other) >= 0;
};
LongPrototype.gte = LongPrototype.greaterThanOrEqual;
LongPrototype.ge = LongPrototype.greaterThanOrEqual;
LongPrototype.compare = function compare2(other) {
  if (!isLong(other))
    other = fromValue(other);
  if (this.eq(other))
    return 0;
  var thisNeg = this.isNegative(), otherNeg = other.isNegative();
  if (thisNeg && !otherNeg)
    return -1;
  if (!thisNeg && otherNeg)
    return 1;
  if (!this.unsigned)
    return this.sub(other).isNegative() ? -1 : 1;
  return other.high >>> 0 > this.high >>> 0 || other.high === this.high && other.low >>> 0 > this.low >>> 0 ? -1 : 1;
};
LongPrototype.comp = LongPrototype.compare;
LongPrototype.negate = function negate() {
  if (!this.unsigned && this.eq(MIN_VALUE))
    return MIN_VALUE;
  return this.not().add(ONE);
};
LongPrototype.neg = LongPrototype.negate;
LongPrototype.add = function add(addend) {
  if (!isLong(addend))
    addend = fromValue(addend);
  var a48 = this.high >>> 16;
  var a32 = this.high & 65535;
  var a16 = this.low >>> 16;
  var a00 = this.low & 65535;
  var b48 = addend.high >>> 16;
  var b32 = addend.high & 65535;
  var b16 = addend.low >>> 16;
  var b00 = addend.low & 65535;
  var c48 = 0, c32 = 0, c16 = 0, c00 = 0;
  c00 += a00 + b00;
  c16 += c00 >>> 16;
  c00 &= 65535;
  c16 += a16 + b16;
  c32 += c16 >>> 16;
  c16 &= 65535;
  c32 += a32 + b32;
  c48 += c32 >>> 16;
  c32 &= 65535;
  c48 += a48 + b48;
  c48 &= 65535;
  return fromBits(c16 << 16 | c00, c48 << 16 | c32, this.unsigned);
};
LongPrototype.subtract = function subtract(subtrahend) {
  if (!isLong(subtrahend))
    subtrahend = fromValue(subtrahend);
  return this.add(subtrahend.neg());
};
LongPrototype.sub = LongPrototype.subtract;
LongPrototype.multiply = function multiply(multiplier) {
  if (this.isZero())
    return ZERO;
  if (!isLong(multiplier))
    multiplier = fromValue(multiplier);
  if (wasm) {
    var low = wasm.mul(this.low, this.high, multiplier.low, multiplier.high);
    return fromBits(low, wasm.get_high(), this.unsigned);
  }
  if (multiplier.isZero())
    return ZERO;
  if (this.eq(MIN_VALUE))
    return multiplier.isOdd() ? MIN_VALUE : ZERO;
  if (multiplier.eq(MIN_VALUE))
    return this.isOdd() ? MIN_VALUE : ZERO;
  if (this.isNegative()) {
    if (multiplier.isNegative())
      return this.neg().mul(multiplier.neg());
    else
      return this.neg().mul(multiplier).neg();
  } else if (multiplier.isNegative())
    return this.mul(multiplier.neg()).neg();
  if (this.lt(TWO_PWR_24) && multiplier.lt(TWO_PWR_24))
    return fromNumber(this.toNumber() * multiplier.toNumber(), this.unsigned);
  var a48 = this.high >>> 16;
  var a32 = this.high & 65535;
  var a16 = this.low >>> 16;
  var a00 = this.low & 65535;
  var b48 = multiplier.high >>> 16;
  var b32 = multiplier.high & 65535;
  var b16 = multiplier.low >>> 16;
  var b00 = multiplier.low & 65535;
  var c48 = 0, c32 = 0, c16 = 0, c00 = 0;
  c00 += a00 * b00;
  c16 += c00 >>> 16;
  c00 &= 65535;
  c16 += a16 * b00;
  c32 += c16 >>> 16;
  c16 &= 65535;
  c16 += a00 * b16;
  c32 += c16 >>> 16;
  c16 &= 65535;
  c32 += a32 * b00;
  c48 += c32 >>> 16;
  c32 &= 65535;
  c32 += a16 * b16;
  c48 += c32 >>> 16;
  c32 &= 65535;
  c32 += a00 * b32;
  c48 += c32 >>> 16;
  c32 &= 65535;
  c48 += a48 * b00 + a32 * b16 + a16 * b32 + a00 * b48;
  c48 &= 65535;
  return fromBits(c16 << 16 | c00, c48 << 16 | c32, this.unsigned);
};
LongPrototype.mul = LongPrototype.multiply;
LongPrototype.divide = function divide(divisor) {
  if (!isLong(divisor))
    divisor = fromValue(divisor);
  if (divisor.isZero())
    throw Error("division by zero");
  if (wasm) {
    if (!this.unsigned && this.high === -2147483648 && divisor.low === -1 && divisor.high === -1) {
      return this;
    }
    var low = (this.unsigned ? wasm.div_u : wasm.div_s)(this.low, this.high, divisor.low, divisor.high);
    return fromBits(low, wasm.get_high(), this.unsigned);
  }
  if (this.isZero())
    return this.unsigned ? UZERO : ZERO;
  var approx, rem, res;
  if (!this.unsigned) {
    if (this.eq(MIN_VALUE)) {
      if (divisor.eq(ONE) || divisor.eq(NEG_ONE))
        return MIN_VALUE;
      else if (divisor.eq(MIN_VALUE))
        return ONE;
      else {
        var halfThis = this.shr(1);
        approx = halfThis.div(divisor).shl(1);
        if (approx.eq(ZERO)) {
          return divisor.isNegative() ? ONE : NEG_ONE;
        } else {
          rem = this.sub(divisor.mul(approx));
          res = approx.add(rem.div(divisor));
          return res;
        }
      }
    } else if (divisor.eq(MIN_VALUE))
      return this.unsigned ? UZERO : ZERO;
    if (this.isNegative()) {
      if (divisor.isNegative())
        return this.neg().div(divisor.neg());
      return this.neg().div(divisor).neg();
    } else if (divisor.isNegative())
      return this.div(divisor.neg()).neg();
    res = ZERO;
  } else {
    if (!divisor.unsigned)
      divisor = divisor.toUnsigned();
    if (divisor.gt(this))
      return UZERO;
    if (divisor.gt(this.shru(1)))
      return UONE;
    res = UZERO;
  }
  rem = this;
  while (rem.gte(divisor)) {
    approx = Math.max(1, Math.floor(rem.toNumber() / divisor.toNumber()));
    var log2 = Math.ceil(Math.log(approx) / Math.LN2), delta = log2 <= 48 ? 1 : pow_dbl(2, log2 - 48), approxRes = fromNumber(approx), approxRem = approxRes.mul(divisor);
    while (approxRem.isNegative() || approxRem.gt(rem)) {
      approx -= delta;
      approxRes = fromNumber(approx, this.unsigned);
      approxRem = approxRes.mul(divisor);
    }
    if (approxRes.isZero())
      approxRes = ONE;
    res = res.add(approxRes);
    rem = rem.sub(approxRem);
  }
  return res;
};
LongPrototype.div = LongPrototype.divide;
LongPrototype.modulo = function modulo(divisor) {
  if (!isLong(divisor))
    divisor = fromValue(divisor);
  if (wasm) {
    var low = (this.unsigned ? wasm.rem_u : wasm.rem_s)(this.low, this.high, divisor.low, divisor.high);
    return fromBits(low, wasm.get_high(), this.unsigned);
  }
  return this.sub(this.div(divisor).mul(divisor));
};
LongPrototype.mod = LongPrototype.modulo;
LongPrototype.rem = LongPrototype.modulo;
LongPrototype.not = function not() {
  return fromBits(~this.low, ~this.high, this.unsigned);
};
LongPrototype.and = function and(other) {
  if (!isLong(other))
    other = fromValue(other);
  return fromBits(this.low & other.low, this.high & other.high, this.unsigned);
};
LongPrototype.or = function or(other) {
  if (!isLong(other))
    other = fromValue(other);
  return fromBits(this.low | other.low, this.high | other.high, this.unsigned);
};
LongPrototype.xor = function xor(other) {
  if (!isLong(other))
    other = fromValue(other);
  return fromBits(this.low ^ other.low, this.high ^ other.high, this.unsigned);
};
LongPrototype.shiftLeft = function shiftLeft(numBits) {
  if (isLong(numBits))
    numBits = numBits.toInt();
  if ((numBits &= 63) === 0)
    return this;
  else if (numBits < 32)
    return fromBits(this.low << numBits, this.high << numBits | this.low >>> 32 - numBits, this.unsigned);
  else
    return fromBits(0, this.low << numBits - 32, this.unsigned);
};
LongPrototype.shl = LongPrototype.shiftLeft;
LongPrototype.shiftRight = function shiftRight(numBits) {
  if (isLong(numBits))
    numBits = numBits.toInt();
  if ((numBits &= 63) === 0)
    return this;
  else if (numBits < 32)
    return fromBits(this.low >>> numBits | this.high << 32 - numBits, this.high >> numBits, this.unsigned);
  else
    return fromBits(this.high >> numBits - 32, this.high >= 0 ? 0 : -1, this.unsigned);
};
LongPrototype.shr = LongPrototype.shiftRight;
LongPrototype.shiftRightUnsigned = function shiftRightUnsigned(numBits) {
  if (isLong(numBits))
    numBits = numBits.toInt();
  numBits &= 63;
  if (numBits === 0)
    return this;
  else {
    var high = this.high;
    if (numBits < 32) {
      var low = this.low;
      return fromBits(low >>> numBits | high << 32 - numBits, high >>> numBits, this.unsigned);
    } else if (numBits === 32)
      return fromBits(high, 0, this.unsigned);
    else
      return fromBits(high >>> numBits - 32, 0, this.unsigned);
  }
};
LongPrototype.shru = LongPrototype.shiftRightUnsigned;
LongPrototype.shr_u = LongPrototype.shiftRightUnsigned;
LongPrototype.toSigned = function toSigned() {
  if (!this.unsigned)
    return this;
  return fromBits(this.low, this.high, false);
};
LongPrototype.toUnsigned = function toUnsigned() {
  if (this.unsigned)
    return this;
  return fromBits(this.low, this.high, true);
};
LongPrototype.toBytes = function toBytes(le) {
  return le ? this.toBytesLE() : this.toBytesBE();
};
LongPrototype.toBytesLE = function toBytesLE() {
  var hi = this.high, lo = this.low;
  return [
    lo & 255,
    lo >>> 8 & 255,
    lo >>> 16 & 255,
    lo >>> 24,
    hi & 255,
    hi >>> 8 & 255,
    hi >>> 16 & 255,
    hi >>> 24
  ];
};
LongPrototype.toBytesBE = function toBytesBE() {
  var hi = this.high, lo = this.low;
  return [
    hi >>> 24,
    hi >>> 16 & 255,
    hi >>> 8 & 255,
    hi & 255,
    lo >>> 24,
    lo >>> 16 & 255,
    lo >>> 8 & 255,
    lo & 255
  ];
};
Long.fromBytes = function fromBytes(bytes, unsigned, le) {
  return le ? Long.fromBytesLE(bytes, unsigned) : Long.fromBytesBE(bytes, unsigned);
};
Long.fromBytesLE = function fromBytesLE(bytes, unsigned) {
  return new Long(bytes[0] | bytes[1] << 8 | bytes[2] << 16 | bytes[3] << 24, bytes[4] | bytes[5] << 8 | bytes[6] << 16 | bytes[7] << 24, unsigned);
};
Long.fromBytesBE = function fromBytesBE(bytes, unsigned) {
  return new Long(bytes[4] << 24 | bytes[5] << 16 | bytes[6] << 8 | bytes[7], bytes[0] << 24 | bytes[1] << 16 | bytes[2] << 8 | bytes[3], unsigned);
};
function createBasePageRequest() {
  return {
    key: new Uint8Array(),
    offset: "0",
    limit: "0",
    countTotal: false,
    reverse: false
  };
}
const PageRequest = {
  encode(message, writer2 = minimal.Writer.create()) {
    if (message.key.length !== 0) {
      writer2.uint32(10).bytes(message.key);
    }
    if (message.offset !== "0") {
      writer2.uint32(16).uint64(message.offset);
    }
    if (message.limit !== "0") {
      writer2.uint32(24).uint64(message.limit);
    }
    if (message.countTotal === true) {
      writer2.uint32(32).bool(message.countTotal);
    }
    if (message.reverse === true) {
      writer2.uint32(40).bool(message.reverse);
    }
    return writer2;
  },
  decode(input, length2) {
    const reader2 = input instanceof minimal.Reader ? input : new minimal.Reader(input);
    let end2 = length2 === void 0 ? reader2.len : reader2.pos + length2;
    const message = createBasePageRequest();
    while (reader2.pos < end2) {
      const tag = reader2.uint32();
      switch (tag >>> 3) {
        case 1:
          message.key = reader2.bytes();
          break;
        case 2:
          message.offset = longToString$2(reader2.uint64());
          break;
        case 3:
          message.limit = longToString$2(reader2.uint64());
          break;
        case 4:
          message.countTotal = reader2.bool();
          break;
        case 5:
          message.reverse = reader2.bool();
          break;
        default:
          reader2.skipType(tag & 7);
          break;
      }
    }
    return message;
  },
  fromJSON(object) {
    return {
      key: isSet$8(object.key) ? bytesFromBase64$6(object.key) : new Uint8Array(),
      offset: isSet$8(object.offset) ? String(object.offset) : "0",
      limit: isSet$8(object.limit) ? String(object.limit) : "0",
      countTotal: isSet$8(object.countTotal) ? Boolean(object.countTotal) : false,
      reverse: isSet$8(object.reverse) ? Boolean(object.reverse) : false
    };
  },
  toJSON(message) {
    const obj = {};
    message.key !== void 0 && (obj.key = base64FromBytes$6(message.key !== void 0 ? message.key : new Uint8Array()));
    message.offset !== void 0 && (obj.offset = message.offset);
    message.limit !== void 0 && (obj.limit = message.limit);
    message.countTotal !== void 0 && (obj.countTotal = message.countTotal);
    message.reverse !== void 0 && (obj.reverse = message.reverse);
    return obj;
  },
  fromPartial(object) {
    const message = createBasePageRequest();
    message.key = object.key ?? new Uint8Array();
    message.offset = object.offset ?? "0";
    message.limit = object.limit ?? "0";
    message.countTotal = object.countTotal ?? false;
    message.reverse = object.reverse ?? false;
    return message;
  }
};
function createBasePageResponse() {
  return { nextKey: new Uint8Array(), total: "0" };
}
const PageResponse = {
  encode(message, writer2 = minimal.Writer.create()) {
    if (message.nextKey.length !== 0) {
      writer2.uint32(10).bytes(message.nextKey);
    }
    if (message.total !== "0") {
      writer2.uint32(16).uint64(message.total);
    }
    return writer2;
  },
  decode(input, length2) {
    const reader2 = input instanceof minimal.Reader ? input : new minimal.Reader(input);
    let end2 = length2 === void 0 ? reader2.len : reader2.pos + length2;
    const message = createBasePageResponse();
    while (reader2.pos < end2) {
      const tag = reader2.uint32();
      switch (tag >>> 3) {
        case 1:
          message.nextKey = reader2.bytes();
          break;
        case 2:
          message.total = longToString$2(reader2.uint64());
          break;
        default:
          reader2.skipType(tag & 7);
          break;
      }
    }
    return message;
  },
  fromJSON(object) {
    return {
      nextKey: isSet$8(object.nextKey) ? bytesFromBase64$6(object.nextKey) : new Uint8Array(),
      total: isSet$8(object.total) ? String(object.total) : "0"
    };
  },
  toJSON(message) {
    const obj = {};
    message.nextKey !== void 0 && (obj.nextKey = base64FromBytes$6(message.nextKey !== void 0 ? message.nextKey : new Uint8Array()));
    message.total !== void 0 && (obj.total = message.total);
    return obj;
  },
  fromPartial(object) {
    const message = createBasePageResponse();
    message.nextKey = object.nextKey ?? new Uint8Array();
    message.total = object.total ?? "0";
    return message;
  }
};
var globalThis$c = (() => {
  if (typeof globalThis$c !== "undefined")
    return globalThis$c;
  if (typeof self !== "undefined")
    return self;
  if (typeof window !== "undefined")
    return window;
  if (typeof global !== "undefined")
    return global;
  throw "Unable to locate global object";
})();
const atob$6 = globalThis$c.atob || ((b64) => globalThis$c.Buffer.from(b64, "base64").toString("binary"));
function bytesFromBase64$6(b64) {
  const bin = atob$6(b64);
  const arr = new Uint8Array(bin.length);
  for (let i = 0; i < bin.length; ++i) {
    arr[i] = bin.charCodeAt(i);
  }
  return arr;
}
const btoa$6 = globalThis$c.btoa || ((bin) => globalThis$c.Buffer.from(bin, "binary").toString("base64"));
function base64FromBytes$6(arr) {
  const bin = [];
  arr.forEach((byte) => {
    bin.push(String.fromCharCode(byte));
  });
  return btoa$6(bin.join(""));
}
function longToString$2(long2) {
  return long2.toString();
}
if (minimal.util.Long !== long) {
  minimal.util.Long = long;
  minimal.configure();
}
function isSet$8(value) {
  return value !== null && value !== void 0;
}
function createBaseParams() {
  return { sendEnabled: [], defaultSendEnabled: false };
}
const Params = {
  encode(message, writer2 = minimal.Writer.create()) {
    for (const v of message.sendEnabled) {
      SendEnabled.encode(v, writer2.uint32(10).fork()).ldelim();
    }
    if (message.defaultSendEnabled === true) {
      writer2.uint32(16).bool(message.defaultSendEnabled);
    }
    return writer2;
  },
  decode(input, length2) {
    const reader2 = input instanceof minimal.Reader ? input : new minimal.Reader(input);
    let end2 = length2 === void 0 ? reader2.len : reader2.pos + length2;
    const message = createBaseParams();
    while (reader2.pos < end2) {
      const tag = reader2.uint32();
      switch (tag >>> 3) {
        case 1:
          message.sendEnabled.push(SendEnabled.decode(reader2, reader2.uint32()));
          break;
        case 2:
          message.defaultSendEnabled = reader2.bool();
          break;
        default:
          reader2.skipType(tag & 7);
          break;
      }
    }
    return message;
  },
  fromJSON(object) {
    return {
      sendEnabled: Array.isArray(object?.sendEnabled) ? object.sendEnabled.map((e) => SendEnabled.fromJSON(e)) : [],
      defaultSendEnabled: isSet$7(object.defaultSendEnabled) ? Boolean(object.defaultSendEnabled) : false
    };
  },
  toJSON(message) {
    const obj = {};
    if (message.sendEnabled) {
      obj.sendEnabled = message.sendEnabled.map((e) => e ? SendEnabled.toJSON(e) : void 0);
    } else {
      obj.sendEnabled = [];
    }
    message.defaultSendEnabled !== void 0 && (obj.defaultSendEnabled = message.defaultSendEnabled);
    return obj;
  },
  fromPartial(object) {
    const message = createBaseParams();
    message.sendEnabled = object.sendEnabled?.map((e) => SendEnabled.fromPartial(e)) || [];
    message.defaultSendEnabled = object.defaultSendEnabled ?? false;
    return message;
  }
};
function createBaseSendEnabled() {
  return { denom: "", enabled: false };
}
const SendEnabled = {
  encode(message, writer2 = minimal.Writer.create()) {
    if (message.denom !== "") {
      writer2.uint32(10).string(message.denom);
    }
    if (message.enabled === true) {
      writer2.uint32(16).bool(message.enabled);
    }
    return writer2;
  },
  decode(input, length2) {
    const reader2 = input instanceof minimal.Reader ? input : new minimal.Reader(input);
    let end2 = length2 === void 0 ? reader2.len : reader2.pos + length2;
    const message = createBaseSendEnabled();
    while (reader2.pos < end2) {
      const tag = reader2.uint32();
      switch (tag >>> 3) {
        case 1:
          message.denom = reader2.string();
          break;
        case 2:
          message.enabled = reader2.bool();
          break;
        default:
          reader2.skipType(tag & 7);
          break;
      }
    }
    return message;
  },
  fromJSON(object) {
    return {
      denom: isSet$7(object.denom) ? String(object.denom) : "",
      enabled: isSet$7(object.enabled) ? Boolean(object.enabled) : false
    };
  },
  toJSON(message) {
    const obj = {};
    message.denom !== void 0 && (obj.denom = message.denom);
    message.enabled !== void 0 && (obj.enabled = message.enabled);
    return obj;
  },
  fromPartial(object) {
    const message = createBaseSendEnabled();
    message.denom = object.denom ?? "";
    message.enabled = object.enabled ?? false;
    return message;
  }
};
function createBaseDenomUnit() {
  return { denom: "", exponent: 0, aliases: [] };
}
const DenomUnit = {
  encode(message, writer2 = minimal.Writer.create()) {
    if (message.denom !== "") {
      writer2.uint32(10).string(message.denom);
    }
    if (message.exponent !== 0) {
      writer2.uint32(16).uint32(message.exponent);
    }
    for (const v of message.aliases) {
      writer2.uint32(26).string(v);
    }
    return writer2;
  },
  decode(input, length2) {
    const reader2 = input instanceof minimal.Reader ? input : new minimal.Reader(input);
    let end2 = length2 === void 0 ? reader2.len : reader2.pos + length2;
    const message = createBaseDenomUnit();
    while (reader2.pos < end2) {
      const tag = reader2.uint32();
      switch (tag >>> 3) {
        case 1:
          message.denom = reader2.string();
          break;
        case 2:
          message.exponent = reader2.uint32();
          break;
        case 3:
          message.aliases.push(reader2.string());
          break;
        default:
          reader2.skipType(tag & 7);
          break;
      }
    }
    return message;
  },
  fromJSON(object) {
    return {
      denom: isSet$7(object.denom) ? String(object.denom) : "",
      exponent: isSet$7(object.exponent) ? Number(object.exponent) : 0,
      aliases: Array.isArray(object?.aliases) ? object.aliases.map((e) => String(e)) : []
    };
  },
  toJSON(message) {
    const obj = {};
    message.denom !== void 0 && (obj.denom = message.denom);
    message.exponent !== void 0 && (obj.exponent = Math.round(message.exponent));
    if (message.aliases) {
      obj.aliases = message.aliases.map((e) => e);
    } else {
      obj.aliases = [];
    }
    return obj;
  },
  fromPartial(object) {
    const message = createBaseDenomUnit();
    message.denom = object.denom ?? "";
    message.exponent = object.exponent ?? 0;
    message.aliases = object.aliases?.map((e) => e) || [];
    return message;
  }
};
function createBaseMetadata() {
  return {
    description: "",
    denomUnits: [],
    base: "",
    display: "",
    name: "",
    symbol: ""
  };
}
const Metadata = {
  encode(message, writer2 = minimal.Writer.create()) {
    if (message.description !== "") {
      writer2.uint32(10).string(message.description);
    }
    for (const v of message.denomUnits) {
      DenomUnit.encode(v, writer2.uint32(18).fork()).ldelim();
    }
    if (message.base !== "") {
      writer2.uint32(26).string(message.base);
    }
    if (message.display !== "") {
      writer2.uint32(34).string(message.display);
    }
    if (message.name !== "") {
      writer2.uint32(42).string(message.name);
    }
    if (message.symbol !== "") {
      writer2.uint32(50).string(message.symbol);
    }
    return writer2;
  },
  decode(input, length2) {
    const reader2 = input instanceof minimal.Reader ? input : new minimal.Reader(input);
    let end2 = length2 === void 0 ? reader2.len : reader2.pos + length2;
    const message = createBaseMetadata();
    while (reader2.pos < end2) {
      const tag = reader2.uint32();
      switch (tag >>> 3) {
        case 1:
          message.description = reader2.string();
          break;
        case 2:
          message.denomUnits.push(DenomUnit.decode(reader2, reader2.uint32()));
          break;
        case 3:
          message.base = reader2.string();
          break;
        case 4:
          message.display = reader2.string();
          break;
        case 5:
          message.name = reader2.string();
          break;
        case 6:
          message.symbol = reader2.string();
          break;
        default:
          reader2.skipType(tag & 7);
          break;
      }
    }
    return message;
  },
  fromJSON(object) {
    return {
      description: isSet$7(object.description) ? String(object.description) : "",
      denomUnits: Array.isArray(object?.denomUnits) ? object.denomUnits.map((e) => DenomUnit.fromJSON(e)) : [],
      base: isSet$7(object.base) ? String(object.base) : "",
      display: isSet$7(object.display) ? String(object.display) : "",
      name: isSet$7(object.name) ? String(object.name) : "",
      symbol: isSet$7(object.symbol) ? String(object.symbol) : ""
    };
  },
  toJSON(message) {
    const obj = {};
    message.description !== void 0 && (obj.description = message.description);
    if (message.denomUnits) {
      obj.denomUnits = message.denomUnits.map((e) => e ? DenomUnit.toJSON(e) : void 0);
    } else {
      obj.denomUnits = [];
    }
    message.base !== void 0 && (obj.base = message.base);
    message.display !== void 0 && (obj.display = message.display);
    message.name !== void 0 && (obj.name = message.name);
    message.symbol !== void 0 && (obj.symbol = message.symbol);
    return obj;
  },
  fromPartial(object) {
    const message = createBaseMetadata();
    message.description = object.description ?? "";
    message.denomUnits = object.denomUnits?.map((e) => DenomUnit.fromPartial(e)) || [];
    message.base = object.base ?? "";
    message.display = object.display ?? "";
    message.name = object.name ?? "";
    message.symbol = object.symbol ?? "";
    return message;
  }
};
function isSet$7(value) {
  return value !== null && value !== void 0;
}
var browserHeaders_umd = { exports: {} };
(function(module, exports) {
  (function webpackUniversalModuleDefinition(root, factory2) {
    module.exports = factory2();
  })(commonjsGlobal, function() {
    return function(modules) {
      var installedModules = {};
      function __webpack_require__(moduleId) {
        if (installedModules[moduleId]) {
          return installedModules[moduleId].exports;
        }
        var module2 = installedModules[moduleId] = {
          i: moduleId,
          l: false,
          exports: {}
        };
        modules[moduleId].call(module2.exports, module2, module2.exports, __webpack_require__);
        module2.l = true;
        return module2.exports;
      }
      __webpack_require__.m = modules;
      __webpack_require__.c = installedModules;
      __webpack_require__.i = function(value) {
        return value;
      };
      __webpack_require__.d = function(exports2, name, getter) {
        if (!__webpack_require__.o(exports2, name)) {
          Object.defineProperty(exports2, name, {
            configurable: false,
            enumerable: true,
            get: getter
          });
        }
      };
      __webpack_require__.n = function(module2) {
        var getter = module2 && module2.__esModule ? function getDefault() {
          return module2["default"];
        } : function getModuleExports() {
          return module2;
        };
        __webpack_require__.d(getter, "a", getter);
        return getter;
      };
      __webpack_require__.o = function(object, property) {
        return Object.prototype.hasOwnProperty.call(object, property);
      };
      __webpack_require__.p = "";
      return __webpack_require__(__webpack_require__.s = 1);
    }([
      function(module2, exports2, __webpack_require__) {
        Object.defineProperty(exports2, "__esModule", { value: true });
        var util_1 = __webpack_require__(3);
        function isBrowserHeaders(arg) {
          return typeof arg === "object" && typeof arg.headersMap === "object" && typeof arg.forEach === "function";
        }
        var BrowserHeaders = function() {
          function BrowserHeaders2(init2, options) {
            if (init2 === void 0) {
              init2 = {};
            }
            if (options === void 0) {
              options = { splitValues: false };
            }
            var _this = this;
            this.headersMap = {};
            if (init2) {
              if (typeof Headers !== "undefined" && init2 instanceof Headers) {
                var keys = util_1.getHeaderKeys(init2);
                keys.forEach(function(key) {
                  var values = util_1.getHeaderValues(init2, key);
                  values.forEach(function(value) {
                    if (options.splitValues) {
                      _this.append(key, util_1.splitHeaderValue(value));
                    } else {
                      _this.append(key, value);
                    }
                  });
                });
              } else if (isBrowserHeaders(init2)) {
                init2.forEach(function(key, values) {
                  _this.append(key, values);
                });
              } else if (typeof Map !== "undefined" && init2 instanceof Map) {
                var asMap = init2;
                asMap.forEach(function(value, key) {
                  _this.append(key, value);
                });
              } else if (typeof init2 === "string") {
                this.appendFromString(init2);
              } else if (typeof init2 === "object") {
                Object.getOwnPropertyNames(init2).forEach(function(key) {
                  var asObject = init2;
                  var values = asObject[key];
                  if (Array.isArray(values)) {
                    values.forEach(function(value) {
                      _this.append(key, value);
                    });
                  } else {
                    _this.append(key, values);
                  }
                });
              }
            }
          }
          BrowserHeaders2.prototype.appendFromString = function(str) {
            var pairs = str.split("\r\n");
            for (var i = 0; i < pairs.length; i++) {
              var p2 = pairs[i];
              var index = p2.indexOf(":");
              if (index > 0) {
                var key = p2.substring(0, index).trim();
                var value = p2.substring(index + 1).trim();
                this.append(key, value);
              }
            }
          };
          BrowserHeaders2.prototype.delete = function(key, value) {
            var normalizedKey = util_1.normalizeName(key);
            if (value === void 0) {
              delete this.headersMap[normalizedKey];
            } else {
              var existing = this.headersMap[normalizedKey];
              if (existing) {
                var index = existing.indexOf(value);
                if (index >= 0) {
                  existing.splice(index, 1);
                }
                if (existing.length === 0) {
                  delete this.headersMap[normalizedKey];
                }
              }
            }
          };
          BrowserHeaders2.prototype.append = function(key, value) {
            var _this = this;
            var normalizedKey = util_1.normalizeName(key);
            if (!Array.isArray(this.headersMap[normalizedKey])) {
              this.headersMap[normalizedKey] = [];
            }
            if (Array.isArray(value)) {
              value.forEach(function(arrayValue) {
                _this.headersMap[normalizedKey].push(util_1.normalizeValue(arrayValue));
              });
            } else {
              this.headersMap[normalizedKey].push(util_1.normalizeValue(value));
            }
          };
          BrowserHeaders2.prototype.set = function(key, value) {
            var normalizedKey = util_1.normalizeName(key);
            if (Array.isArray(value)) {
              var normalized_1 = [];
              value.forEach(function(arrayValue) {
                normalized_1.push(util_1.normalizeValue(arrayValue));
              });
              this.headersMap[normalizedKey] = normalized_1;
            } else {
              this.headersMap[normalizedKey] = [util_1.normalizeValue(value)];
            }
          };
          BrowserHeaders2.prototype.has = function(key, value) {
            var keyArray = this.headersMap[util_1.normalizeName(key)];
            var keyExists = Array.isArray(keyArray);
            if (!keyExists) {
              return false;
            }
            if (value !== void 0) {
              var normalizedValue = util_1.normalizeValue(value);
              return keyArray.indexOf(normalizedValue) >= 0;
            } else {
              return true;
            }
          };
          BrowserHeaders2.prototype.get = function(key) {
            var values = this.headersMap[util_1.normalizeName(key)];
            if (values !== void 0) {
              return values.concat();
            }
            return [];
          };
          BrowserHeaders2.prototype.forEach = function(callback) {
            var _this = this;
            Object.getOwnPropertyNames(this.headersMap).forEach(function(key) {
              callback(key, _this.headersMap[key]);
            }, this);
          };
          BrowserHeaders2.prototype.toHeaders = function() {
            if (typeof Headers !== "undefined") {
              var headers_1 = new Headers();
              this.forEach(function(key, values) {
                values.forEach(function(value) {
                  headers_1.append(key, value);
                });
              });
              return headers_1;
            } else {
              throw new Error("Headers class is not defined");
            }
          };
          return BrowserHeaders2;
        }();
        exports2.BrowserHeaders = BrowserHeaders;
      },
      function(module2, exports2, __webpack_require__) {
        Object.defineProperty(exports2, "__esModule", { value: true });
        var BrowserHeaders_1 = __webpack_require__(0);
        exports2.BrowserHeaders = BrowserHeaders_1.BrowserHeaders;
      },
      function(module2, exports2, __webpack_require__) {
        Object.defineProperty(exports2, "__esModule", { value: true });
        function iterateHeaders(headers, callback) {
          var iterator = headers[Symbol.iterator]();
          var entry = iterator.next();
          while (!entry.done) {
            callback(entry.value[0]);
            entry = iterator.next();
          }
        }
        exports2.iterateHeaders = iterateHeaders;
        function iterateHeadersKeys(headers, callback) {
          var iterator = headers.keys();
          var entry = iterator.next();
          while (!entry.done) {
            callback(entry.value);
            entry = iterator.next();
          }
        }
        exports2.iterateHeadersKeys = iterateHeadersKeys;
      },
      function(module2, exports2, __webpack_require__) {
        Object.defineProperty(exports2, "__esModule", { value: true });
        var iterateHeaders_1 = __webpack_require__(2);
        function normalizeName(name) {
          if (typeof name !== "string") {
            name = String(name);
          }
          if (/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(name)) {
            throw new TypeError("Invalid character in header field name");
          }
          return name.toLowerCase();
        }
        exports2.normalizeName = normalizeName;
        function normalizeValue(value) {
          if (typeof value !== "string") {
            value = String(value);
          }
          return value;
        }
        exports2.normalizeValue = normalizeValue;
        function getHeaderValues(headersAsNative, key) {
          var headers = toWindowHeaders(headersAsNative);
          if (headers instanceof Headers && headers.getAll) {
            return headers.getAll(key);
          }
          var getValue = headers.get(key);
          if (getValue && typeof getValue === "string") {
            return [getValue];
          }
          return getValue;
        }
        exports2.getHeaderValues = getHeaderValues;
        function toWindowHeaders(headersAsNative) {
          return headersAsNative;
        }
        function getHeaderKeys(headersAsNative) {
          var headers = toWindowHeaders(headersAsNative);
          var asMap = {};
          var keys = [];
          if (headers.keys) {
            iterateHeaders_1.iterateHeadersKeys(headers, function(key) {
              if (!asMap[key]) {
                asMap[key] = true;
                keys.push(key);
              }
            });
          } else if (headers.forEach) {
            headers.forEach(function(_, key) {
              if (!asMap[key]) {
                asMap[key] = true;
                keys.push(key);
              }
            });
          } else {
            iterateHeaders_1.iterateHeaders(headers, function(entry) {
              var key = entry[0];
              if (!asMap[key]) {
                asMap[key] = true;
                keys.push(key);
              }
            });
          }
          return keys;
        }
        exports2.getHeaderKeys = getHeaderKeys;
        function splitHeaderValue(str) {
          var values = [];
          var commaSpaceValues = str.split(", ");
          commaSpaceValues.forEach(function(commaSpaceValue) {
            commaSpaceValue.split(",").forEach(function(commaValue) {
              values.push(commaValue);
            });
          });
          return values;
        }
        exports2.splitHeaderValue = splitHeaderValue;
      }
    ]);
  });
})(browserHeaders_umd);
function createBaseQueryBalanceRequest() {
  return { address: "", denom: "" };
}
const QueryBalanceRequest = {
  encode(message, writer2 = minimal.Writer.create()) {
    if (message.address !== "") {
      writer2.uint32(10).string(message.address);
    }
    if (message.denom !== "") {
      writer2.uint32(18).string(message.denom);
    }
    return writer2;
  },
  decode(input, length2) {
    const reader2 = input instanceof minimal.Reader ? input : new minimal.Reader(input);
    let end2 = length2 === void 0 ? reader2.len : reader2.pos + length2;
    const message = createBaseQueryBalanceRequest();
    while (reader2.pos < end2) {
      const tag = reader2.uint32();
      switch (tag >>> 3) {
        case 1:
          message.address = reader2.string();
          break;
        case 2:
          message.denom = reader2.string();
          break;
        default:
          reader2.skipType(tag & 7);
          break;
      }
    }
    return message;
  },
  fromJSON(object) {
    return {
      address: isSet$6(object.address) ? String(object.address) : "",
      denom: isSet$6(object.denom) ? String(object.denom) : ""
    };
  },
  toJSON(message) {
    const obj = {};
    message.address !== void 0 && (obj.address = message.address);
    message.denom !== void 0 && (obj.denom = message.denom);
    return obj;
  },
  fromPartial(object) {
    const message = createBaseQueryBalanceRequest();
    message.address = object.address ?? "";
    message.denom = object.denom ?? "";
    return message;
  }
};
function createBaseQueryBalanceResponse() {
  return { balance: void 0 };
}
const QueryBalanceResponse = {
  encode(message, writer2 = minimal.Writer.create()) {
    if (message.balance !== void 0) {
      Coin.encode(message.balance, writer2.uint32(10).fork()).ldelim();
    }
    return writer2;
  },
  decode(input, length2) {
    const reader2 = input instanceof minimal.Reader ? input : new minimal.Reader(input);
    let end2 = length2 === void 0 ? reader2.len : reader2.pos + length2;
    const message = createBaseQueryBalanceResponse();
    while (reader2.pos < end2) {
      const tag = reader2.uint32();
      switch (tag >>> 3) {
        case 1:
          message.balance = Coin.decode(reader2, reader2.uint32());
          break;
        default:
          reader2.skipType(tag & 7);
          break;
      }
    }
    return message;
  },
  fromJSON(object) {
    return {
      balance: isSet$6(object.balance) ? Coin.fromJSON(object.balance) : void 0
    };
  },
  toJSON(message) {
    const obj = {};
    message.balance !== void 0 && (obj.balance = message.balance ? Coin.toJSON(message.balance) : void 0);
    return obj;
  },
  fromPartial(object) {
    const message = createBaseQueryBalanceResponse();
    message.balance = object.balance !== void 0 && object.balance !== null ? Coin.fromPartial(object.balance) : void 0;
    return message;
  }
};
function createBaseQueryAllBalancesRequest() {
  return { address: "", pagination: void 0 };
}
const QueryAllBalancesRequest = {
  encode(message, writer2 = minimal.Writer.create()) {
    if (message.address !== "") {
      writer2.uint32(10).string(message.address);
    }
    if (message.pagination !== void 0) {
      PageRequest.encode(message.pagination, writer2.uint32(18).fork()).ldelim();
    }
    return writer2;
  },
  decode(input, length2) {
    const reader2 = input instanceof minimal.Reader ? input : new minimal.Reader(input);
    let end2 = length2 === void 0 ? reader2.len : reader2.pos + length2;
    const message = createBaseQueryAllBalancesRequest();
    while (reader2.pos < end2) {
      const tag = reader2.uint32();
      switch (tag >>> 3) {
        case 1:
          message.address = reader2.string();
          break;
        case 2:
          message.pagination = PageRequest.decode(reader2, reader2.uint32());
          break;
        default:
          reader2.skipType(tag & 7);
          break;
      }
    }
    return message;
  },
  fromJSON(object) {
    return {
      address: isSet$6(object.address) ? String(object.address) : "",
      pagination: isSet$6(object.pagination) ? PageRequest.fromJSON(object.pagination) : void 0
    };
  },
  toJSON(message) {
    const obj = {};
    message.address !== void 0 && (obj.address = message.address);
    message.pagination !== void 0 && (obj.pagination = message.pagination ? PageRequest.toJSON(message.pagination) : void 0);
    return obj;
  },
  fromPartial(object) {
    const message = createBaseQueryAllBalancesRequest();
    message.address = object.address ?? "";
    message.pagination = object.pagination !== void 0 && object.pagination !== null ? PageRequest.fromPartial(object.pagination) : void 0;
    return message;
  }
};
function createBaseQueryAllBalancesResponse() {
  return { balances: [], pagination: void 0 };
}
const QueryAllBalancesResponse = {
  encode(message, writer2 = minimal.Writer.create()) {
    for (const v of message.balances) {
      Coin.encode(v, writer2.uint32(10).fork()).ldelim();
    }
    if (message.pagination !== void 0) {
      PageResponse.encode(message.pagination, writer2.uint32(18).fork()).ldelim();
    }
    return writer2;
  },
  decode(input, length2) {
    const reader2 = input instanceof minimal.Reader ? input : new minimal.Reader(input);
    let end2 = length2 === void 0 ? reader2.len : reader2.pos + length2;
    const message = createBaseQueryAllBalancesResponse();
    while (reader2.pos < end2) {
      const tag = reader2.uint32();
      switch (tag >>> 3) {
        case 1:
          message.balances.push(Coin.decode(reader2, reader2.uint32()));
          break;
        case 2:
          message.pagination = PageResponse.decode(reader2, reader2.uint32());
          break;
        default:
          reader2.skipType(tag & 7);
          break;
      }
    }
    return message;
  },
  fromJSON(object) {
    return {
      balances: Array.isArray(object?.balances) ? object.balances.map((e) => Coin.fromJSON(e)) : [],
      pagination: isSet$6(object.pagination) ? PageResponse.fromJSON(object.pagination) : void 0
    };
  },
  toJSON(message) {
    const obj = {};
    if (message.balances) {
      obj.balances = message.balances.map((e) => e ? Coin.toJSON(e) : void 0);
    } else {
      obj.balances = [];
    }
    message.pagination !== void 0 && (obj.pagination = message.pagination ? PageResponse.toJSON(message.pagination) : void 0);
    return obj;
  },
  fromPartial(object) {
    const message = createBaseQueryAllBalancesResponse();
    message.balances = object.balances?.map((e) => Coin.fromPartial(e)) || [];
    message.pagination = object.pagination !== void 0 && object.pagination !== null ? PageResponse.fromPartial(object.pagination) : void 0;
    return message;
  }
};
function createBaseQueryTotalSupplyRequest() {
  return { pagination: void 0 };
}
const QueryTotalSupplyRequest = {
  encode(message, writer2 = minimal.Writer.create()) {
    if (message.pagination !== void 0) {
      PageRequest.encode(message.pagination, writer2.uint32(10).fork()).ldelim();
    }
    return writer2;
  },
  decode(input, length2) {
    const reader2 = input instanceof minimal.Reader ? input : new minimal.Reader(input);
    let end2 = length2 === void 0 ? reader2.len : reader2.pos + length2;
    const message = createBaseQueryTotalSupplyRequest();
    while (reader2.pos < end2) {
      const tag = reader2.uint32();
      switch (tag >>> 3) {
        case 1:
          message.pagination = PageRequest.decode(reader2, reader2.uint32());
          break;
        default:
          reader2.skipType(tag & 7);
          break;
      }
    }
    return message;
  },
  fromJSON(object) {
    return {
      pagination: isSet$6(object.pagination) ? PageRequest.fromJSON(object.pagination) : void 0
    };
  },
  toJSON(message) {
    const obj = {};
    message.pagination !== void 0 && (obj.pagination = message.pagination ? PageRequest.toJSON(message.pagination) : void 0);
    return obj;
  },
  fromPartial(object) {
    const message = createBaseQueryTotalSupplyRequest();
    message.pagination = object.pagination !== void 0 && object.pagination !== null ? PageRequest.fromPartial(object.pagination) : void 0;
    return message;
  }
};
function createBaseQueryTotalSupplyResponse() {
  return { supply: [], pagination: void 0 };
}
const QueryTotalSupplyResponse = {
  encode(message, writer2 = minimal.Writer.create()) {
    for (const v of message.supply) {
      Coin.encode(v, writer2.uint32(10).fork()).ldelim();
    }
    if (message.pagination !== void 0) {
      PageResponse.encode(message.pagination, writer2.uint32(18).fork()).ldelim();
    }
    return writer2;
  },
  decode(input, length2) {
    const reader2 = input instanceof minimal.Reader ? input : new minimal.Reader(input);
    let end2 = length2 === void 0 ? reader2.len : reader2.pos + length2;
    const message = createBaseQueryTotalSupplyResponse();
    while (reader2.pos < end2) {
      const tag = reader2.uint32();
      switch (tag >>> 3) {
        case 1:
          message.supply.push(Coin.decode(reader2, reader2.uint32()));
          break;
        case 2:
          message.pagination = PageResponse.decode(reader2, reader2.uint32());
          break;
        default:
          reader2.skipType(tag & 7);
          break;
      }
    }
    return message;
  },
  fromJSON(object) {
    return {
      supply: Array.isArray(object?.supply) ? object.supply.map((e) => Coin.fromJSON(e)) : [],
      pagination: isSet$6(object.pagination) ? PageResponse.fromJSON(object.pagination) : void 0
    };
  },
  toJSON(message) {
    const obj = {};
    if (message.supply) {
      obj.supply = message.supply.map((e) => e ? Coin.toJSON(e) : void 0);
    } else {
      obj.supply = [];
    }
    message.pagination !== void 0 && (obj.pagination = message.pagination ? PageResponse.toJSON(message.pagination) : void 0);
    return obj;
  },
  fromPartial(object) {
    const message = createBaseQueryTotalSupplyResponse();
    message.supply = object.supply?.map((e) => Coin.fromPartial(e)) || [];
    message.pagination = object.pagination !== void 0 && object.pagination !== null ? PageResponse.fromPartial(object.pagination) : void 0;
    return message;
  }
};
function createBaseQuerySupplyOfRequest() {
  return { denom: "" };
}
const QuerySupplyOfRequest = {
  encode(message, writer2 = minimal.Writer.create()) {
    if (message.denom !== "") {
      writer2.uint32(10).string(message.denom);
    }
    return writer2;
  },
  decode(input, length2) {
    const reader2 = input instanceof minimal.Reader ? input : new minimal.Reader(input);
    let end2 = length2 === void 0 ? reader2.len : reader2.pos + length2;
    const message = createBaseQuerySupplyOfRequest();
    while (reader2.pos < end2) {
      const tag = reader2.uint32();
      switch (tag >>> 3) {
        case 1:
          message.denom = reader2.string();
          break;
        default:
          reader2.skipType(tag & 7);
          break;
      }
    }
    return message;
  },
  fromJSON(object) {
    return {
      denom: isSet$6(object.denom) ? String(object.denom) : ""
    };
  },
  toJSON(message) {
    const obj = {};
    message.denom !== void 0 && (obj.denom = message.denom);
    return obj;
  },
  fromPartial(object) {
    const message = createBaseQuerySupplyOfRequest();
    message.denom = object.denom ?? "";
    return message;
  }
};
function createBaseQuerySupplyOfResponse() {
  return { amount: void 0 };
}
const QuerySupplyOfResponse = {
  encode(message, writer2 = minimal.Writer.create()) {
    if (message.amount !== void 0) {
      Coin.encode(message.amount, writer2.uint32(10).fork()).ldelim();
    }
    return writer2;
  },
  decode(input, length2) {
    const reader2 = input instanceof minimal.Reader ? input : new minimal.Reader(input);
    let end2 = length2 === void 0 ? reader2.len : reader2.pos + length2;
    const message = createBaseQuerySupplyOfResponse();
    while (reader2.pos < end2) {
      const tag = reader2.uint32();
      switch (tag >>> 3) {
        case 1:
          message.amount = Coin.decode(reader2, reader2.uint32());
          break;
        default:
          reader2.skipType(tag & 7);
          break;
      }
    }
    return message;
  },
  fromJSON(object) {
    return {
      amount: isSet$6(object.amount) ? Coin.fromJSON(object.amount) : void 0
    };
  },
  toJSON(message) {
    const obj = {};
    message.amount !== void 0 && (obj.amount = message.amount ? Coin.toJSON(message.amount) : void 0);
    return obj;
  },
  fromPartial(object) {
    const message = createBaseQuerySupplyOfResponse();
    message.amount = object.amount !== void 0 && object.amount !== null ? Coin.fromPartial(object.amount) : void 0;
    return message;
  }
};
function createBaseQueryParamsRequest() {
  return {};
}
const QueryParamsRequest = {
  encode(_, writer2 = minimal.Writer.create()) {
    return writer2;
  },
  decode(input, length2) {
    const reader2 = input instanceof minimal.Reader ? input : new minimal.Reader(input);
    let end2 = length2 === void 0 ? reader2.len : reader2.pos + length2;
    const message = createBaseQueryParamsRequest();
    while (reader2.pos < end2) {
      const tag = reader2.uint32();
      switch (tag >>> 3) {
        default:
          reader2.skipType(tag & 7);
          break;
      }
    }
    return message;
  },
  fromJSON(_) {
    return {};
  },
  toJSON(_) {
    const obj = {};
    return obj;
  },
  fromPartial(_) {
    const message = createBaseQueryParamsRequest();
    return message;
  }
};
function createBaseQueryParamsResponse() {
  return { params: void 0 };
}
const QueryParamsResponse = {
  encode(message, writer2 = minimal.Writer.create()) {
    if (message.params !== void 0) {
      Params.encode(message.params, writer2.uint32(10).fork()).ldelim();
    }
    return writer2;
  },
  decode(input, length2) {
    const reader2 = input instanceof minimal.Reader ? input : new minimal.Reader(input);
    let end2 = length2 === void 0 ? reader2.len : reader2.pos + length2;
    const message = createBaseQueryParamsResponse();
    while (reader2.pos < end2) {
      const tag = reader2.uint32();
      switch (tag >>> 3) {
        case 1:
          message.params = Params.decode(reader2, reader2.uint32());
          break;
        default:
          reader2.skipType(tag & 7);
          break;
      }
    }
    return message;
  },
  fromJSON(object) {
    return {
      params: isSet$6(object.params) ? Params.fromJSON(object.params) : void 0
    };
  },
  toJSON(message) {
    const obj = {};
    message.params !== void 0 && (obj.params = message.params ? Params.toJSON(message.params) : void 0);
    return obj;
  },
  fromPartial(object) {
    const message = createBaseQueryParamsResponse();
    message.params = object.params !== void 0 && object.params !== null ? Params.fromPartial(object.params) : void 0;
    return message;
  }
};
function createBaseQueryDenomsMetadataRequest() {
  return { pagination: void 0 };
}
const QueryDenomsMetadataRequest = {
  encode(message, writer2 = minimal.Writer.create()) {
    if (message.pagination !== void 0) {
      PageRequest.encode(message.pagination, writer2.uint32(10).fork()).ldelim();
    }
    return writer2;
  },
  decode(input, length2) {
    const reader2 = input instanceof minimal.Reader ? input : new minimal.Reader(input);
    let end2 = length2 === void 0 ? reader2.len : reader2.pos + length2;
    const message = createBaseQueryDenomsMetadataRequest();
    while (reader2.pos < end2) {
      const tag = reader2.uint32();
      switch (tag >>> 3) {
        case 1:
          message.pagination = PageRequest.decode(reader2, reader2.uint32());
          break;
        default:
          reader2.skipType(tag & 7);
          break;
      }
    }
    return message;
  },
  fromJSON(object) {
    return {
      pagination: isSet$6(object.pagination) ? PageRequest.fromJSON(object.pagination) : void 0
    };
  },
  toJSON(message) {
    const obj = {};
    message.pagination !== void 0 && (obj.pagination = message.pagination ? PageRequest.toJSON(message.pagination) : void 0);
    return obj;
  },
  fromPartial(object) {
    const message = createBaseQueryDenomsMetadataRequest();
    message.pagination = object.pagination !== void 0 && object.pagination !== null ? PageRequest.fromPartial(object.pagination) : void 0;
    return message;
  }
};
function createBaseQueryDenomsMetadataResponse() {
  return { metadatas: [], pagination: void 0 };
}
const QueryDenomsMetadataResponse = {
  encode(message, writer2 = minimal.Writer.create()) {
    for (const v of message.metadatas) {
      Metadata.encode(v, writer2.uint32(10).fork()).ldelim();
    }
    if (message.pagination !== void 0) {
      PageResponse.encode(message.pagination, writer2.uint32(18).fork()).ldelim();
    }
    return writer2;
  },
  decode(input, length2) {
    const reader2 = input instanceof minimal.Reader ? input : new minimal.Reader(input);
    let end2 = length2 === void 0 ? reader2.len : reader2.pos + length2;
    const message = createBaseQueryDenomsMetadataResponse();
    while (reader2.pos < end2) {
      const tag = reader2.uint32();
      switch (tag >>> 3) {
        case 1:
          message.metadatas.push(Metadata.decode(reader2, reader2.uint32()));
          break;
        case 2:
          message.pagination = PageResponse.decode(reader2, reader2.uint32());
          break;
        default:
          reader2.skipType(tag & 7);
          break;
      }
    }
    return message;
  },
  fromJSON(object) {
    return {
      metadatas: Array.isArray(object?.metadatas) ? object.metadatas.map((e) => Metadata.fromJSON(e)) : [],
      pagination: isSet$6(object.pagination) ? PageResponse.fromJSON(object.pagination) : void 0
    };
  },
  toJSON(message) {
    const obj = {};
    if (message.metadatas) {
      obj.metadatas = message.metadatas.map((e) => e ? Metadata.toJSON(e) : void 0);
    } else {
      obj.metadatas = [];
    }
    message.pagination !== void 0 && (obj.pagination = message.pagination ? PageResponse.toJSON(message.pagination) : void 0);
    return obj;
  },
  fromPartial(object) {
    const message = createBaseQueryDenomsMetadataResponse();
    message.metadatas = object.metadatas?.map((e) => Metadata.fromPartial(e)) || [];
    message.pagination = object.pagination !== void 0 && object.pagination !== null ? PageResponse.fromPartial(object.pagination) : void 0;
    return message;
  }
};
function createBaseQueryDenomMetadataRequest() {
  return { denom: "" };
}
const QueryDenomMetadataRequest = {
  encode(message, writer2 = minimal.Writer.create()) {
    if (message.denom !== "") {
      writer2.uint32(10).string(message.denom);
    }
    return writer2;
  },
  decode(input, length2) {
    const reader2 = input instanceof minimal.Reader ? input : new minimal.Reader(input);
    let end2 = length2 === void 0 ? reader2.len : reader2.pos + length2;
    const message = createBaseQueryDenomMetadataRequest();
    while (reader2.pos < end2) {
      const tag = reader2.uint32();
      switch (tag >>> 3) {
        case 1:
          message.denom = reader2.string();
          break;
        default:
          reader2.skipType(tag & 7);
          break;
      }
    }
    return message;
  },
  fromJSON(object) {
    return {
      denom: isSet$6(object.denom) ? String(object.denom) : ""
    };
  },
  toJSON(message) {
    const obj = {};
    message.denom !== void 0 && (obj.denom = message.denom);
    return obj;
  },
  fromPartial(object) {
    const message = createBaseQueryDenomMetadataRequest();
    message.denom = object.denom ?? "";
    return message;
  }
};
function createBaseQueryDenomMetadataResponse() {
  return { metadata: void 0 };
}
const QueryDenomMetadataResponse = {
  encode(message, writer2 = minimal.Writer.create()) {
    if (message.metadata !== void 0) {
      Metadata.encode(message.metadata, writer2.uint32(10).fork()).ldelim();
    }
    return writer2;
  },
  decode(input, length2) {
    const reader2 = input instanceof minimal.Reader ? input : new minimal.Reader(input);
    let end2 = length2 === void 0 ? reader2.len : reader2.pos + length2;
    const message = createBaseQueryDenomMetadataResponse();
    while (reader2.pos < end2) {
      const tag = reader2.uint32();
      switch (tag >>> 3) {
        case 1:
          message.metadata = Metadata.decode(reader2, reader2.uint32());
          break;
        default:
          reader2.skipType(tag & 7);
          break;
      }
    }
    return message;
  },
  fromJSON(object) {
    return {
      metadata: isSet$6(object.metadata) ? Metadata.fromJSON(object.metadata) : void 0
    };
  },
  toJSON(message) {
    const obj = {};
    message.metadata !== void 0 && (obj.metadata = message.metadata ? Metadata.toJSON(message.metadata) : void 0);
    return obj;
  },
  fromPartial(object) {
    const message = createBaseQueryDenomMetadataResponse();
    message.metadata = object.metadata !== void 0 && object.metadata !== null ? Metadata.fromPartial(object.metadata) : void 0;
    return message;
  }
};
class QueryClientImpl {
  constructor(rpc2) {
    __publicField(this, "rpc");
    this.rpc = rpc2;
    this.balance = this.balance.bind(this);
    this.allBalances = this.allBalances.bind(this);
    this.totalSupply = this.totalSupply.bind(this);
    this.supplyOf = this.supplyOf.bind(this);
    this.params = this.params.bind(this);
    this.denomMetadata = this.denomMetadata.bind(this);
    this.denomsMetadata = this.denomsMetadata.bind(this);
  }
  balance(request, metadata) {
    return this.rpc.unary(QueryBalanceDesc, QueryBalanceRequest.fromPartial(request), metadata);
  }
  allBalances(request, metadata) {
    return this.rpc.unary(QueryAllBalancesDesc, QueryAllBalancesRequest.fromPartial(request), metadata);
  }
  totalSupply(request, metadata) {
    return this.rpc.unary(QueryTotalSupplyDesc, QueryTotalSupplyRequest.fromPartial(request), metadata);
  }
  supplyOf(request, metadata) {
    return this.rpc.unary(QuerySupplyOfDesc, QuerySupplyOfRequest.fromPartial(request), metadata);
  }
  params(request, metadata) {
    return this.rpc.unary(QueryParamsDesc, QueryParamsRequest.fromPartial(request), metadata);
  }
  denomMetadata(request, metadata) {
    return this.rpc.unary(QueryDenomMetadataDesc, QueryDenomMetadataRequest.fromPartial(request), metadata);
  }
  denomsMetadata(request, metadata) {
    return this.rpc.unary(QueryDenomsMetadataDesc, QueryDenomsMetadataRequest.fromPartial(request), metadata);
  }
}
const QueryDesc = {
  serviceName: "cosmos.bank.v1beta1.Query"
};
const QueryBalanceDesc = {
  methodName: "Balance",
  service: QueryDesc,
  requestStream: false,
  responseStream: false,
  requestType: {
    serializeBinary() {
      return QueryBalanceRequest.encode(this).finish();
    }
  },
  responseType: {
    deserializeBinary(data) {
      return {
        ...QueryBalanceResponse.decode(data),
        toObject() {
          return this;
        }
      };
    }
  }
};
const QueryAllBalancesDesc = {
  methodName: "AllBalances",
  service: QueryDesc,
  requestStream: false,
  responseStream: false,
  requestType: {
    serializeBinary() {
      return QueryAllBalancesRequest.encode(this).finish();
    }
  },
  responseType: {
    deserializeBinary(data) {
      return {
        ...QueryAllBalancesResponse.decode(data),
        toObject() {
          return this;
        }
      };
    }
  }
};
const QueryTotalSupplyDesc = {
  methodName: "TotalSupply",
  service: QueryDesc,
  requestStream: false,
  responseStream: false,
  requestType: {
    serializeBinary() {
      return QueryTotalSupplyRequest.encode(this).finish();
    }
  },
  responseType: {
    deserializeBinary(data) {
      return {
        ...QueryTotalSupplyResponse.decode(data),
        toObject() {
          return this;
        }
      };
    }
  }
};
const QuerySupplyOfDesc = {
  methodName: "SupplyOf",
  service: QueryDesc,
  requestStream: false,
  responseStream: false,
  requestType: {
    serializeBinary() {
      return QuerySupplyOfRequest.encode(this).finish();
    }
  },
  responseType: {
    deserializeBinary(data) {
      return {
        ...QuerySupplyOfResponse.decode(data),
        toObject() {
          return this;
        }
      };
    }
  }
};
const QueryParamsDesc = {
  methodName: "Params",
  service: QueryDesc,
  requestStream: false,
  responseStream: false,
  requestType: {
    serializeBinary() {
      return QueryParamsRequest.encode(this).finish();
    }
  },
  responseType: {
    deserializeBinary(data) {
      return {
        ...QueryParamsResponse.decode(data),
        toObject() {
          return this;
        }
      };
    }
  }
};
const QueryDenomMetadataDesc = {
  methodName: "DenomMetadata",
  service: QueryDesc,
  requestStream: false,
  responseStream: false,
  requestType: {
    serializeBinary() {
      return QueryDenomMetadataRequest.encode(this).finish();
    }
  },
  responseType: {
    deserializeBinary(data) {
      return {
        ...QueryDenomMetadataResponse.decode(data),
        toObject() {
          return this;
        }
      };
    }
  }
};
const QueryDenomsMetadataDesc = {
  methodName: "DenomsMetadata",
  service: QueryDesc,
  requestStream: false,
  responseStream: false,
  requestType: {
    serializeBinary() {
      return QueryDenomsMetadataRequest.encode(this).finish();
    }
  },
  responseType: {
    deserializeBinary(data) {
      return {
        ...QueryDenomsMetadataResponse.decode(data),
        toObject() {
          return this;
        }
      };
    }
  }
};
class GrpcWebImpl {
  constructor(host, options) {
    __publicField(this, "host");
    __publicField(this, "options");
    this.host = host;
    this.options = options;
  }
  unary(methodDesc, _request, metadata) {
    const request = { ..._request, ...methodDesc.requestType };
    const maybeCombinedMetadata = metadata && this.options.metadata ? new browserHeaders_umd.exports.BrowserHeaders({
      ...this.options?.metadata.headersMap,
      ...metadata?.headersMap
    }) : metadata || this.options.metadata;
    return new Promise((resolve, reject) => {
      grpcWebClient_umd.exports.grpc.unary(methodDesc, {
        request,
        host: this.host,
        metadata: maybeCombinedMetadata,
        transport: this.options.transport,
        debug: this.options.debug,
        onEnd: function(response) {
          if (response.status === grpcWebClient_umd.exports.grpc.Code.OK) {
            resolve(response.message);
          } else {
            const err = new Error(response.statusMessage);
            err.code = response.status;
            err.metadata = response.trailers;
            reject(err);
          }
        }
      });
    });
  }
}
function isSet$6(value) {
  return value !== null && value !== void 0;
}
function createBaseAny() {
  return { typeUrl: "", value: new Uint8Array() };
}
const Any = {
  encode(message, writer2 = minimal.Writer.create()) {
    if (message.typeUrl !== "") {
      writer2.uint32(10).string(message.typeUrl);
    }
    if (message.value.length !== 0) {
      writer2.uint32(18).bytes(message.value);
    }
    return writer2;
  },
  decode(input, length2) {
    const reader2 = input instanceof minimal.Reader ? input : new minimal.Reader(input);
    let end2 = length2 === void 0 ? reader2.len : reader2.pos + length2;
    const message = createBaseAny();
    while (reader2.pos < end2) {
      const tag = reader2.uint32();
      switch (tag >>> 3) {
        case 1:
          message.typeUrl = reader2.string();
          break;
        case 2:
          message.value = reader2.bytes();
          break;
        default:
          reader2.skipType(tag & 7);
          break;
      }
    }
    return message;
  },
  fromJSON(object) {
    return {
      typeUrl: isSet$5(object.typeUrl) ? String(object.typeUrl) : "",
      value: isSet$5(object.value) ? bytesFromBase64$5(object.value) : new Uint8Array()
    };
  },
  toJSON(message) {
    const obj = {};
    message.typeUrl !== void 0 && (obj.typeUrl = message.typeUrl);
    message.value !== void 0 && (obj.value = base64FromBytes$5(message.value !== void 0 ? message.value : new Uint8Array()));
    return obj;
  },
  fromPartial(object) {
    const message = createBaseAny();
    message.typeUrl = object.typeUrl ?? "";
    message.value = object.value ?? new Uint8Array();
    return message;
  }
};
var globalThis$b = (() => {
  if (typeof globalThis$b !== "undefined")
    return globalThis$b;
  if (typeof self !== "undefined")
    return self;
  if (typeof window !== "undefined")
    return window;
  if (typeof global !== "undefined")
    return global;
  throw "Unable to locate global object";
})();
const atob$5 = globalThis$b.atob || ((b64) => globalThis$b.Buffer.from(b64, "base64").toString("binary"));
function bytesFromBase64$5(b64) {
  const bin = atob$5(b64);
  const arr = new Uint8Array(bin.length);
  for (let i = 0; i < bin.length; ++i) {
    arr[i] = bin.charCodeAt(i);
  }
  return arr;
}
const btoa$5 = globalThis$b.btoa || ((bin) => globalThis$b.Buffer.from(bin, "binary").toString("base64"));
function base64FromBytes$5(arr) {
  const bin = [];
  arr.forEach((byte) => {
    bin.push(String.fromCharCode(byte));
  });
  return btoa$5(bin.join(""));
}
function isSet$5(value) {
  return value !== null && value !== void 0;
}
if (minimal.util.Long !== long) {
  minimal.util.Long = long;
  minimal.configure();
}
var globalThis$a = (() => {
  if (typeof globalThis$a !== "undefined")
    return globalThis$a;
  if (typeof self !== "undefined")
    return self;
  if (typeof window !== "undefined")
    return window;
  if (typeof global !== "undefined")
    return global;
  throw "Unable to locate global object";
})();
globalThis$a.atob || ((b64) => globalThis$a.Buffer.from(b64, "base64").toString("binary"));
globalThis$a.btoa || ((bin) => globalThis$a.Buffer.from(bin, "binary").toString("base64"));
if (minimal.util.Long !== long) {
  minimal.util.Long = long;
  minimal.configure();
}
if (minimal.util.Long !== long) {
  minimal.util.Long = long;
  minimal.configure();
}
var globalThis$9 = (() => {
  if (typeof globalThis$9 !== "undefined")
    return globalThis$9;
  if (typeof self !== "undefined")
    return self;
  if (typeof window !== "undefined")
    return window;
  if (typeof global !== "undefined")
    return global;
  throw "Unable to locate global object";
})();
globalThis$9.atob || ((b64) => globalThis$9.Buffer.from(b64, "base64").toString("binary"));
globalThis$9.btoa || ((bin) => globalThis$9.Buffer.from(bin, "binary").toString("base64"));
var globalThis$8 = (() => {
  if (typeof globalThis$8 !== "undefined")
    return globalThis$8;
  if (typeof self !== "undefined")
    return self;
  if (typeof window !== "undefined")
    return window;
  if (typeof global !== "undefined")
    return global;
  throw "Unable to locate global object";
})();
globalThis$8.atob || ((b64) => globalThis$8.Buffer.from(b64, "base64").toString("binary"));
globalThis$8.btoa || ((bin) => globalThis$8.Buffer.from(bin, "binary").toString("base64"));
if (minimal.util.Long !== long) {
  minimal.util.Long = long;
  minimal.configure();
}
var BlockIDFlag;
(function(BlockIDFlag2) {
  BlockIDFlag2[BlockIDFlag2["BLOCK_ID_FLAG_UNKNOWN"] = 0] = "BLOCK_ID_FLAG_UNKNOWN";
  BlockIDFlag2[BlockIDFlag2["BLOCK_ID_FLAG_ABSENT"] = 1] = "BLOCK_ID_FLAG_ABSENT";
  BlockIDFlag2[BlockIDFlag2["BLOCK_ID_FLAG_COMMIT"] = 2] = "BLOCK_ID_FLAG_COMMIT";
  BlockIDFlag2[BlockIDFlag2["BLOCK_ID_FLAG_NIL"] = 3] = "BLOCK_ID_FLAG_NIL";
  BlockIDFlag2[BlockIDFlag2["UNRECOGNIZED"] = -1] = "UNRECOGNIZED";
})(BlockIDFlag || (BlockIDFlag = {}));
var SignedMsgType;
(function(SignedMsgType2) {
  SignedMsgType2[SignedMsgType2["SIGNED_MSG_TYPE_UNKNOWN"] = 0] = "SIGNED_MSG_TYPE_UNKNOWN";
  SignedMsgType2[SignedMsgType2["SIGNED_MSG_TYPE_PREVOTE"] = 1] = "SIGNED_MSG_TYPE_PREVOTE";
  SignedMsgType2[SignedMsgType2["SIGNED_MSG_TYPE_PRECOMMIT"] = 2] = "SIGNED_MSG_TYPE_PRECOMMIT";
  SignedMsgType2[SignedMsgType2["SIGNED_MSG_TYPE_PROPOSAL"] = 32] = "SIGNED_MSG_TYPE_PROPOSAL";
  SignedMsgType2[SignedMsgType2["UNRECOGNIZED"] = -1] = "UNRECOGNIZED";
})(SignedMsgType || (SignedMsgType = {}));
var globalThis$7 = (() => {
  if (typeof globalThis$7 !== "undefined")
    return globalThis$7;
  if (typeof self !== "undefined")
    return self;
  if (typeof window !== "undefined")
    return window;
  if (typeof global !== "undefined")
    return global;
  throw "Unable to locate global object";
})();
globalThis$7.atob || ((b64) => globalThis$7.Buffer.from(b64, "base64").toString("binary"));
globalThis$7.btoa || ((bin) => globalThis$7.Buffer.from(bin, "binary").toString("base64"));
if (minimal.util.Long !== long) {
  minimal.util.Long = long;
  minimal.configure();
}
if (minimal.util.Long !== long) {
  minimal.util.Long = long;
  minimal.configure();
}
if (minimal.util.Long !== long) {
  minimal.util.Long = long;
  minimal.configure();
}
var CheckTxType;
(function(CheckTxType2) {
  CheckTxType2[CheckTxType2["NEW"] = 0] = "NEW";
  CheckTxType2[CheckTxType2["RECHECK"] = 1] = "RECHECK";
  CheckTxType2[CheckTxType2["UNRECOGNIZED"] = -1] = "UNRECOGNIZED";
})(CheckTxType || (CheckTxType = {}));
var EvidenceType;
(function(EvidenceType2) {
  EvidenceType2[EvidenceType2["UNKNOWN"] = 0] = "UNKNOWN";
  EvidenceType2[EvidenceType2["DUPLICATE_VOTE"] = 1] = "DUPLICATE_VOTE";
  EvidenceType2[EvidenceType2["LIGHT_CLIENT_ATTACK"] = 2] = "LIGHT_CLIENT_ATTACK";
  EvidenceType2[EvidenceType2["UNRECOGNIZED"] = -1] = "UNRECOGNIZED";
})(EvidenceType || (EvidenceType = {}));
var ResponseOfferSnapshot_Result;
(function(ResponseOfferSnapshot_Result2) {
  ResponseOfferSnapshot_Result2[ResponseOfferSnapshot_Result2["UNKNOWN"] = 0] = "UNKNOWN";
  ResponseOfferSnapshot_Result2[ResponseOfferSnapshot_Result2["ACCEPT"] = 1] = "ACCEPT";
  ResponseOfferSnapshot_Result2[ResponseOfferSnapshot_Result2["ABORT"] = 2] = "ABORT";
  ResponseOfferSnapshot_Result2[ResponseOfferSnapshot_Result2["REJECT"] = 3] = "REJECT";
  ResponseOfferSnapshot_Result2[ResponseOfferSnapshot_Result2["REJECT_FORMAT"] = 4] = "REJECT_FORMAT";
  ResponseOfferSnapshot_Result2[ResponseOfferSnapshot_Result2["REJECT_SENDER"] = 5] = "REJECT_SENDER";
  ResponseOfferSnapshot_Result2[ResponseOfferSnapshot_Result2["UNRECOGNIZED"] = -1] = "UNRECOGNIZED";
})(ResponseOfferSnapshot_Result || (ResponseOfferSnapshot_Result = {}));
var ResponseApplySnapshotChunk_Result;
(function(ResponseApplySnapshotChunk_Result2) {
  ResponseApplySnapshotChunk_Result2[ResponseApplySnapshotChunk_Result2["UNKNOWN"] = 0] = "UNKNOWN";
  ResponseApplySnapshotChunk_Result2[ResponseApplySnapshotChunk_Result2["ACCEPT"] = 1] = "ACCEPT";
  ResponseApplySnapshotChunk_Result2[ResponseApplySnapshotChunk_Result2["ABORT"] = 2] = "ABORT";
  ResponseApplySnapshotChunk_Result2[ResponseApplySnapshotChunk_Result2["RETRY"] = 3] = "RETRY";
  ResponseApplySnapshotChunk_Result2[ResponseApplySnapshotChunk_Result2["RETRY_SNAPSHOT"] = 4] = "RETRY_SNAPSHOT";
  ResponseApplySnapshotChunk_Result2[ResponseApplySnapshotChunk_Result2["REJECT_SNAPSHOT"] = 5] = "REJECT_SNAPSHOT";
  ResponseApplySnapshotChunk_Result2[ResponseApplySnapshotChunk_Result2["UNRECOGNIZED"] = -1] = "UNRECOGNIZED";
})(ResponseApplySnapshotChunk_Result || (ResponseApplySnapshotChunk_Result = {}));
function createBaseEvent() {
  return { type: "", attributes: [] };
}
const Event$1 = {
  encode(message, writer2 = minimal.Writer.create()) {
    if (message.type !== "") {
      writer2.uint32(10).string(message.type);
    }
    for (const v of message.attributes) {
      EventAttribute.encode(v, writer2.uint32(18).fork()).ldelim();
    }
    return writer2;
  },
  decode(input, length2) {
    const reader2 = input instanceof minimal.Reader ? input : new minimal.Reader(input);
    let end2 = length2 === void 0 ? reader2.len : reader2.pos + length2;
    const message = createBaseEvent();
    while (reader2.pos < end2) {
      const tag = reader2.uint32();
      switch (tag >>> 3) {
        case 1:
          message.type = reader2.string();
          break;
        case 2:
          message.attributes.push(EventAttribute.decode(reader2, reader2.uint32()));
          break;
        default:
          reader2.skipType(tag & 7);
          break;
      }
    }
    return message;
  },
  fromJSON(object) {
    return {
      type: isSet$4(object.type) ? String(object.type) : "",
      attributes: Array.isArray(object?.attributes) ? object.attributes.map((e) => EventAttribute.fromJSON(e)) : []
    };
  },
  toJSON(message) {
    const obj = {};
    message.type !== void 0 && (obj.type = message.type);
    if (message.attributes) {
      obj.attributes = message.attributes.map((e) => e ? EventAttribute.toJSON(e) : void 0);
    } else {
      obj.attributes = [];
    }
    return obj;
  },
  fromPartial(object) {
    const message = createBaseEvent();
    message.type = object.type ?? "";
    message.attributes = object.attributes?.map((e) => EventAttribute.fromPartial(e)) || [];
    return message;
  }
};
function createBaseEventAttribute() {
  return { key: new Uint8Array(), value: new Uint8Array(), index: false };
}
const EventAttribute = {
  encode(message, writer2 = minimal.Writer.create()) {
    if (message.key.length !== 0) {
      writer2.uint32(10).bytes(message.key);
    }
    if (message.value.length !== 0) {
      writer2.uint32(18).bytes(message.value);
    }
    if (message.index === true) {
      writer2.uint32(24).bool(message.index);
    }
    return writer2;
  },
  decode(input, length2) {
    const reader2 = input instanceof minimal.Reader ? input : new minimal.Reader(input);
    let end2 = length2 === void 0 ? reader2.len : reader2.pos + length2;
    const message = createBaseEventAttribute();
    while (reader2.pos < end2) {
      const tag = reader2.uint32();
      switch (tag >>> 3) {
        case 1:
          message.key = reader2.bytes();
          break;
        case 2:
          message.value = reader2.bytes();
          break;
        case 3:
          message.index = reader2.bool();
          break;
        default:
          reader2.skipType(tag & 7);
          break;
      }
    }
    return message;
  },
  fromJSON(object) {
    return {
      key: isSet$4(object.key) ? bytesFromBase64$4(object.key) : new Uint8Array(),
      value: isSet$4(object.value) ? bytesFromBase64$4(object.value) : new Uint8Array(),
      index: isSet$4(object.index) ? Boolean(object.index) : false
    };
  },
  toJSON(message) {
    const obj = {};
    message.key !== void 0 && (obj.key = base64FromBytes$4(message.key !== void 0 ? message.key : new Uint8Array()));
    message.value !== void 0 && (obj.value = base64FromBytes$4(message.value !== void 0 ? message.value : new Uint8Array()));
    message.index !== void 0 && (obj.index = message.index);
    return obj;
  },
  fromPartial(object) {
    const message = createBaseEventAttribute();
    message.key = object.key ?? new Uint8Array();
    message.value = object.value ?? new Uint8Array();
    message.index = object.index ?? false;
    return message;
  }
};
var globalThis$6 = (() => {
  if (typeof globalThis$6 !== "undefined")
    return globalThis$6;
  if (typeof self !== "undefined")
    return self;
  if (typeof window !== "undefined")
    return window;
  if (typeof global !== "undefined")
    return global;
  throw "Unable to locate global object";
})();
const atob$4 = globalThis$6.atob || ((b64) => globalThis$6.Buffer.from(b64, "base64").toString("binary"));
function bytesFromBase64$4(b64) {
  const bin = atob$4(b64);
  const arr = new Uint8Array(bin.length);
  for (let i = 0; i < bin.length; ++i) {
    arr[i] = bin.charCodeAt(i);
  }
  return arr;
}
const btoa$4 = globalThis$6.btoa || ((bin) => globalThis$6.Buffer.from(bin, "binary").toString("base64"));
function base64FromBytes$4(arr) {
  const bin = [];
  arr.forEach((byte) => {
    bin.push(String.fromCharCode(byte));
  });
  return btoa$4(bin.join(""));
}
if (minimal.util.Long !== long) {
  minimal.util.Long = long;
  minimal.configure();
}
function isSet$4(value) {
  return value !== null && value !== void 0;
}
function createBaseTxResponse() {
  return {
    height: "0",
    txhash: "",
    codespace: "",
    code: 0,
    data: "",
    rawLog: "",
    logs: [],
    info: "",
    gasWanted: "0",
    gasUsed: "0",
    tx: void 0,
    timestamp: "",
    events: []
  };
}
const TxResponse = {
  encode(message, writer2 = minimal.Writer.create()) {
    if (message.height !== "0") {
      writer2.uint32(8).int64(message.height);
    }
    if (message.txhash !== "") {
      writer2.uint32(18).string(message.txhash);
    }
    if (message.codespace !== "") {
      writer2.uint32(26).string(message.codespace);
    }
    if (message.code !== 0) {
      writer2.uint32(32).uint32(message.code);
    }
    if (message.data !== "") {
      writer2.uint32(42).string(message.data);
    }
    if (message.rawLog !== "") {
      writer2.uint32(50).string(message.rawLog);
    }
    for (const v of message.logs) {
      ABCIMessageLog.encode(v, writer2.uint32(58).fork()).ldelim();
    }
    if (message.info !== "") {
      writer2.uint32(66).string(message.info);
    }
    if (message.gasWanted !== "0") {
      writer2.uint32(72).int64(message.gasWanted);
    }
    if (message.gasUsed !== "0") {
      writer2.uint32(80).int64(message.gasUsed);
    }
    if (message.tx !== void 0) {
      Any.encode(message.tx, writer2.uint32(90).fork()).ldelim();
    }
    if (message.timestamp !== "") {
      writer2.uint32(98).string(message.timestamp);
    }
    for (const v of message.events) {
      Event$1.encode(v, writer2.uint32(106).fork()).ldelim();
    }
    return writer2;
  },
  decode(input, length2) {
    const reader2 = input instanceof minimal.Reader ? input : new minimal.Reader(input);
    let end2 = length2 === void 0 ? reader2.len : reader2.pos + length2;
    const message = createBaseTxResponse();
    while (reader2.pos < end2) {
      const tag = reader2.uint32();
      switch (tag >>> 3) {
        case 1:
          message.height = longToString$1(reader2.int64());
          break;
        case 2:
          message.txhash = reader2.string();
          break;
        case 3:
          message.codespace = reader2.string();
          break;
        case 4:
          message.code = reader2.uint32();
          break;
        case 5:
          message.data = reader2.string();
          break;
        case 6:
          message.rawLog = reader2.string();
          break;
        case 7:
          message.logs.push(ABCIMessageLog.decode(reader2, reader2.uint32()));
          break;
        case 8:
          message.info = reader2.string();
          break;
        case 9:
          message.gasWanted = longToString$1(reader2.int64());
          break;
        case 10:
          message.gasUsed = longToString$1(reader2.int64());
          break;
        case 11:
          message.tx = Any.decode(reader2, reader2.uint32());
          break;
        case 12:
          message.timestamp = reader2.string();
          break;
        case 13:
          message.events.push(Event$1.decode(reader2, reader2.uint32()));
          break;
        default:
          reader2.skipType(tag & 7);
          break;
      }
    }
    return message;
  },
  fromJSON(object) {
    return {
      height: isSet$3(object.height) ? String(object.height) : "0",
      txhash: isSet$3(object.txhash) ? String(object.txhash) : "",
      codespace: isSet$3(object.codespace) ? String(object.codespace) : "",
      code: isSet$3(object.code) ? Number(object.code) : 0,
      data: isSet$3(object.data) ? String(object.data) : "",
      rawLog: isSet$3(object.rawLog) ? String(object.rawLog) : "",
      logs: Array.isArray(object?.logs) ? object.logs.map((e) => ABCIMessageLog.fromJSON(e)) : [],
      info: isSet$3(object.info) ? String(object.info) : "",
      gasWanted: isSet$3(object.gasWanted) ? String(object.gasWanted) : "0",
      gasUsed: isSet$3(object.gasUsed) ? String(object.gasUsed) : "0",
      tx: isSet$3(object.tx) ? Any.fromJSON(object.tx) : void 0,
      timestamp: isSet$3(object.timestamp) ? String(object.timestamp) : "",
      events: Array.isArray(object?.events) ? object.events.map((e) => Event$1.fromJSON(e)) : []
    };
  },
  toJSON(message) {
    const obj = {};
    message.height !== void 0 && (obj.height = message.height);
    message.txhash !== void 0 && (obj.txhash = message.txhash);
    message.codespace !== void 0 && (obj.codespace = message.codespace);
    message.code !== void 0 && (obj.code = Math.round(message.code));
    message.data !== void 0 && (obj.data = message.data);
    message.rawLog !== void 0 && (obj.rawLog = message.rawLog);
    if (message.logs) {
      obj.logs = message.logs.map((e) => e ? ABCIMessageLog.toJSON(e) : void 0);
    } else {
      obj.logs = [];
    }
    message.info !== void 0 && (obj.info = message.info);
    message.gasWanted !== void 0 && (obj.gasWanted = message.gasWanted);
    message.gasUsed !== void 0 && (obj.gasUsed = message.gasUsed);
    message.tx !== void 0 && (obj.tx = message.tx ? Any.toJSON(message.tx) : void 0);
    message.timestamp !== void 0 && (obj.timestamp = message.timestamp);
    if (message.events) {
      obj.events = message.events.map((e) => e ? Event$1.toJSON(e) : void 0);
    } else {
      obj.events = [];
    }
    return obj;
  },
  fromPartial(object) {
    const message = createBaseTxResponse();
    message.height = object.height ?? "0";
    message.txhash = object.txhash ?? "";
    message.codespace = object.codespace ?? "";
    message.code = object.code ?? 0;
    message.data = object.data ?? "";
    message.rawLog = object.rawLog ?? "";
    message.logs = object.logs?.map((e) => ABCIMessageLog.fromPartial(e)) || [];
    message.info = object.info ?? "";
    message.gasWanted = object.gasWanted ?? "0";
    message.gasUsed = object.gasUsed ?? "0";
    message.tx = object.tx !== void 0 && object.tx !== null ? Any.fromPartial(object.tx) : void 0;
    message.timestamp = object.timestamp ?? "";
    message.events = object.events?.map((e) => Event$1.fromPartial(e)) || [];
    return message;
  }
};
function createBaseABCIMessageLog() {
  return { msgIndex: 0, log: "", events: [] };
}
const ABCIMessageLog = {
  encode(message, writer2 = minimal.Writer.create()) {
    if (message.msgIndex !== 0) {
      writer2.uint32(8).uint32(message.msgIndex);
    }
    if (message.log !== "") {
      writer2.uint32(18).string(message.log);
    }
    for (const v of message.events) {
      StringEvent.encode(v, writer2.uint32(26).fork()).ldelim();
    }
    return writer2;
  },
  decode(input, length2) {
    const reader2 = input instanceof minimal.Reader ? input : new minimal.Reader(input);
    let end2 = length2 === void 0 ? reader2.len : reader2.pos + length2;
    const message = createBaseABCIMessageLog();
    while (reader2.pos < end2) {
      const tag = reader2.uint32();
      switch (tag >>> 3) {
        case 1:
          message.msgIndex = reader2.uint32();
          break;
        case 2:
          message.log = reader2.string();
          break;
        case 3:
          message.events.push(StringEvent.decode(reader2, reader2.uint32()));
          break;
        default:
          reader2.skipType(tag & 7);
          break;
      }
    }
    return message;
  },
  fromJSON(object) {
    return {
      msgIndex: isSet$3(object.msgIndex) ? Number(object.msgIndex) : 0,
      log: isSet$3(object.log) ? String(object.log) : "",
      events: Array.isArray(object?.events) ? object.events.map((e) => StringEvent.fromJSON(e)) : []
    };
  },
  toJSON(message) {
    const obj = {};
    message.msgIndex !== void 0 && (obj.msgIndex = Math.round(message.msgIndex));
    message.log !== void 0 && (obj.log = message.log);
    if (message.events) {
      obj.events = message.events.map((e) => e ? StringEvent.toJSON(e) : void 0);
    } else {
      obj.events = [];
    }
    return obj;
  },
  fromPartial(object) {
    const message = createBaseABCIMessageLog();
    message.msgIndex = object.msgIndex ?? 0;
    message.log = object.log ?? "";
    message.events = object.events?.map((e) => StringEvent.fromPartial(e)) || [];
    return message;
  }
};
function createBaseStringEvent() {
  return { type: "", attributes: [] };
}
const StringEvent = {
  encode(message, writer2 = minimal.Writer.create()) {
    if (message.type !== "") {
      writer2.uint32(10).string(message.type);
    }
    for (const v of message.attributes) {
      Attribute.encode(v, writer2.uint32(18).fork()).ldelim();
    }
    return writer2;
  },
  decode(input, length2) {
    const reader2 = input instanceof minimal.Reader ? input : new minimal.Reader(input);
    let end2 = length2 === void 0 ? reader2.len : reader2.pos + length2;
    const message = createBaseStringEvent();
    while (reader2.pos < end2) {
      const tag = reader2.uint32();
      switch (tag >>> 3) {
        case 1:
          message.type = reader2.string();
          break;
        case 2:
          message.attributes.push(Attribute.decode(reader2, reader2.uint32()));
          break;
        default:
          reader2.skipType(tag & 7);
          break;
      }
    }
    return message;
  },
  fromJSON(object) {
    return {
      type: isSet$3(object.type) ? String(object.type) : "",
      attributes: Array.isArray(object?.attributes) ? object.attributes.map((e) => Attribute.fromJSON(e)) : []
    };
  },
  toJSON(message) {
    const obj = {};
    message.type !== void 0 && (obj.type = message.type);
    if (message.attributes) {
      obj.attributes = message.attributes.map((e) => e ? Attribute.toJSON(e) : void 0);
    } else {
      obj.attributes = [];
    }
    return obj;
  },
  fromPartial(object) {
    const message = createBaseStringEvent();
    message.type = object.type ?? "";
    message.attributes = object.attributes?.map((e) => Attribute.fromPartial(e)) || [];
    return message;
  }
};
function createBaseAttribute() {
  return { key: "", value: "" };
}
const Attribute = {
  encode(message, writer2 = minimal.Writer.create()) {
    if (message.key !== "") {
      writer2.uint32(10).string(message.key);
    }
    if (message.value !== "") {
      writer2.uint32(18).string(message.value);
    }
    return writer2;
  },
  decode(input, length2) {
    const reader2 = input instanceof minimal.Reader ? input : new minimal.Reader(input);
    let end2 = length2 === void 0 ? reader2.len : reader2.pos + length2;
    const message = createBaseAttribute();
    while (reader2.pos < end2) {
      const tag = reader2.uint32();
      switch (tag >>> 3) {
        case 1:
          message.key = reader2.string();
          break;
        case 2:
          message.value = reader2.string();
          break;
        default:
          reader2.skipType(tag & 7);
          break;
      }
    }
    return message;
  },
  fromJSON(object) {
    return {
      key: isSet$3(object.key) ? String(object.key) : "",
      value: isSet$3(object.value) ? String(object.value) : ""
    };
  },
  toJSON(message) {
    const obj = {};
    message.key !== void 0 && (obj.key = message.key);
    message.value !== void 0 && (obj.value = message.value);
    return obj;
  },
  fromPartial(object) {
    const message = createBaseAttribute();
    message.key = object.key ?? "";
    message.value = object.value ?? "";
    return message;
  }
};
function createBaseGasInfo() {
  return { gasWanted: "0", gasUsed: "0" };
}
const GasInfo = {
  encode(message, writer2 = minimal.Writer.create()) {
    if (message.gasWanted !== "0") {
      writer2.uint32(8).uint64(message.gasWanted);
    }
    if (message.gasUsed !== "0") {
      writer2.uint32(16).uint64(message.gasUsed);
    }
    return writer2;
  },
  decode(input, length2) {
    const reader2 = input instanceof minimal.Reader ? input : new minimal.Reader(input);
    let end2 = length2 === void 0 ? reader2.len : reader2.pos + length2;
    const message = createBaseGasInfo();
    while (reader2.pos < end2) {
      const tag = reader2.uint32();
      switch (tag >>> 3) {
        case 1:
          message.gasWanted = longToString$1(reader2.uint64());
          break;
        case 2:
          message.gasUsed = longToString$1(reader2.uint64());
          break;
        default:
          reader2.skipType(tag & 7);
          break;
      }
    }
    return message;
  },
  fromJSON(object) {
    return {
      gasWanted: isSet$3(object.gasWanted) ? String(object.gasWanted) : "0",
      gasUsed: isSet$3(object.gasUsed) ? String(object.gasUsed) : "0"
    };
  },
  toJSON(message) {
    const obj = {};
    message.gasWanted !== void 0 && (obj.gasWanted = message.gasWanted);
    message.gasUsed !== void 0 && (obj.gasUsed = message.gasUsed);
    return obj;
  },
  fromPartial(object) {
    const message = createBaseGasInfo();
    message.gasWanted = object.gasWanted ?? "0";
    message.gasUsed = object.gasUsed ?? "0";
    return message;
  }
};
function createBaseResult() {
  return { data: new Uint8Array(), log: "", events: [] };
}
const Result = {
  encode(message, writer2 = minimal.Writer.create()) {
    if (message.data.length !== 0) {
      writer2.uint32(10).bytes(message.data);
    }
    if (message.log !== "") {
      writer2.uint32(18).string(message.log);
    }
    for (const v of message.events) {
      Event$1.encode(v, writer2.uint32(26).fork()).ldelim();
    }
    return writer2;
  },
  decode(input, length2) {
    const reader2 = input instanceof minimal.Reader ? input : new minimal.Reader(input);
    let end2 = length2 === void 0 ? reader2.len : reader2.pos + length2;
    const message = createBaseResult();
    while (reader2.pos < end2) {
      const tag = reader2.uint32();
      switch (tag >>> 3) {
        case 1:
          message.data = reader2.bytes();
          break;
        case 2:
          message.log = reader2.string();
          break;
        case 3:
          message.events.push(Event$1.decode(reader2, reader2.uint32()));
          break;
        default:
          reader2.skipType(tag & 7);
          break;
      }
    }
    return message;
  },
  fromJSON(object) {
    return {
      data: isSet$3(object.data) ? bytesFromBase64$3(object.data) : new Uint8Array(),
      log: isSet$3(object.log) ? String(object.log) : "",
      events: Array.isArray(object?.events) ? object.events.map((e) => Event$1.fromJSON(e)) : []
    };
  },
  toJSON(message) {
    const obj = {};
    message.data !== void 0 && (obj.data = base64FromBytes$3(message.data !== void 0 ? message.data : new Uint8Array()));
    message.log !== void 0 && (obj.log = message.log);
    if (message.events) {
      obj.events = message.events.map((e) => e ? Event$1.toJSON(e) : void 0);
    } else {
      obj.events = [];
    }
    return obj;
  },
  fromPartial(object) {
    const message = createBaseResult();
    message.data = object.data ?? new Uint8Array();
    message.log = object.log ?? "";
    message.events = object.events?.map((e) => Event$1.fromPartial(e)) || [];
    return message;
  }
};
var globalThis$5 = (() => {
  if (typeof globalThis$5 !== "undefined")
    return globalThis$5;
  if (typeof self !== "undefined")
    return self;
  if (typeof window !== "undefined")
    return window;
  if (typeof global !== "undefined")
    return global;
  throw "Unable to locate global object";
})();
const atob$3 = globalThis$5.atob || ((b64) => globalThis$5.Buffer.from(b64, "base64").toString("binary"));
function bytesFromBase64$3(b64) {
  const bin = atob$3(b64);
  const arr = new Uint8Array(bin.length);
  for (let i = 0; i < bin.length; ++i) {
    arr[i] = bin.charCodeAt(i);
  }
  return arr;
}
const btoa$3 = globalThis$5.btoa || ((bin) => globalThis$5.Buffer.from(bin, "binary").toString("base64"));
function base64FromBytes$3(arr) {
  const bin = [];
  arr.forEach((byte) => {
    bin.push(String.fromCharCode(byte));
  });
  return btoa$3(bin.join(""));
}
function longToString$1(long2) {
  return long2.toString();
}
if (minimal.util.Long !== long) {
  minimal.util.Long = long;
  minimal.configure();
}
function isSet$3(value) {
  return value !== null && value !== void 0;
}
function createBaseCompactBitArray() {
  return { extraBitsStored: 0, elems: new Uint8Array() };
}
const CompactBitArray = {
  encode(message, writer2 = minimal.Writer.create()) {
    if (message.extraBitsStored !== 0) {
      writer2.uint32(8).uint32(message.extraBitsStored);
    }
    if (message.elems.length !== 0) {
      writer2.uint32(18).bytes(message.elems);
    }
    return writer2;
  },
  decode(input, length2) {
    const reader2 = input instanceof minimal.Reader ? input : new minimal.Reader(input);
    let end2 = length2 === void 0 ? reader2.len : reader2.pos + length2;
    const message = createBaseCompactBitArray();
    while (reader2.pos < end2) {
      const tag = reader2.uint32();
      switch (tag >>> 3) {
        case 1:
          message.extraBitsStored = reader2.uint32();
          break;
        case 2:
          message.elems = reader2.bytes();
          break;
        default:
          reader2.skipType(tag & 7);
          break;
      }
    }
    return message;
  },
  fromJSON(object) {
    return {
      extraBitsStored: isSet$2(object.extraBitsStored) ? Number(object.extraBitsStored) : 0,
      elems: isSet$2(object.elems) ? bytesFromBase64$2(object.elems) : new Uint8Array()
    };
  },
  toJSON(message) {
    const obj = {};
    message.extraBitsStored !== void 0 && (obj.extraBitsStored = Math.round(message.extraBitsStored));
    message.elems !== void 0 && (obj.elems = base64FromBytes$2(message.elems !== void 0 ? message.elems : new Uint8Array()));
    return obj;
  },
  fromPartial(object) {
    const message = createBaseCompactBitArray();
    message.extraBitsStored = object.extraBitsStored ?? 0;
    message.elems = object.elems ?? new Uint8Array();
    return message;
  }
};
var globalThis$4 = (() => {
  if (typeof globalThis$4 !== "undefined")
    return globalThis$4;
  if (typeof self !== "undefined")
    return self;
  if (typeof window !== "undefined")
    return window;
  if (typeof global !== "undefined")
    return global;
  throw "Unable to locate global object";
})();
const atob$2 = globalThis$4.atob || ((b64) => globalThis$4.Buffer.from(b64, "base64").toString("binary"));
function bytesFromBase64$2(b64) {
  const bin = atob$2(b64);
  const arr = new Uint8Array(bin.length);
  for (let i = 0; i < bin.length; ++i) {
    arr[i] = bin.charCodeAt(i);
  }
  return arr;
}
const btoa$2 = globalThis$4.btoa || ((bin) => globalThis$4.Buffer.from(bin, "binary").toString("base64"));
function base64FromBytes$2(arr) {
  const bin = [];
  arr.forEach((byte) => {
    bin.push(String.fromCharCode(byte));
  });
  return btoa$2(bin.join(""));
}
function isSet$2(value) {
  return value !== null && value !== void 0;
}
var SignMode;
(function(SignMode2) {
  SignMode2[SignMode2["SIGN_MODE_UNSPECIFIED"] = 0] = "SIGN_MODE_UNSPECIFIED";
  SignMode2[SignMode2["SIGN_MODE_DIRECT"] = 1] = "SIGN_MODE_DIRECT";
  SignMode2[SignMode2["SIGN_MODE_TEXTUAL"] = 2] = "SIGN_MODE_TEXTUAL";
  SignMode2[SignMode2["SIGN_MODE_LEGACY_AMINO_JSON"] = 127] = "SIGN_MODE_LEGACY_AMINO_JSON";
  SignMode2[SignMode2["UNRECOGNIZED"] = -1] = "UNRECOGNIZED";
})(SignMode || (SignMode = {}));
function signModeFromJSON(object) {
  switch (object) {
    case 0:
    case "SIGN_MODE_UNSPECIFIED":
      return SignMode.SIGN_MODE_UNSPECIFIED;
    case 1:
    case "SIGN_MODE_DIRECT":
      return SignMode.SIGN_MODE_DIRECT;
    case 2:
    case "SIGN_MODE_TEXTUAL":
      return SignMode.SIGN_MODE_TEXTUAL;
    case 127:
    case "SIGN_MODE_LEGACY_AMINO_JSON":
      return SignMode.SIGN_MODE_LEGACY_AMINO_JSON;
    case -1:
    case "UNRECOGNIZED":
    default:
      return SignMode.UNRECOGNIZED;
  }
}
function signModeToJSON(object) {
  switch (object) {
    case SignMode.SIGN_MODE_UNSPECIFIED:
      return "SIGN_MODE_UNSPECIFIED";
    case SignMode.SIGN_MODE_DIRECT:
      return "SIGN_MODE_DIRECT";
    case SignMode.SIGN_MODE_TEXTUAL:
      return "SIGN_MODE_TEXTUAL";
    case SignMode.SIGN_MODE_LEGACY_AMINO_JSON:
      return "SIGN_MODE_LEGACY_AMINO_JSON";
    case SignMode.UNRECOGNIZED:
    default:
      return "UNRECOGNIZED";
  }
}
var globalThis$3 = (() => {
  if (typeof globalThis$3 !== "undefined")
    return globalThis$3;
  if (typeof self !== "undefined")
    return self;
  if (typeof window !== "undefined")
    return window;
  if (typeof global !== "undefined")
    return global;
  throw "Unable to locate global object";
})();
globalThis$3.atob || ((b64) => globalThis$3.Buffer.from(b64, "base64").toString("binary"));
globalThis$3.btoa || ((bin) => globalThis$3.Buffer.from(bin, "binary").toString("base64"));
if (minimal.util.Long !== long) {
  minimal.util.Long = long;
  minimal.configure();
}
function createBaseTx() {
  return { body: void 0, authInfo: void 0, signatures: [] };
}
const Tx = {
  encode(message, writer2 = minimal.Writer.create()) {
    if (message.body !== void 0) {
      TxBody.encode(message.body, writer2.uint32(10).fork()).ldelim();
    }
    if (message.authInfo !== void 0) {
      AuthInfo.encode(message.authInfo, writer2.uint32(18).fork()).ldelim();
    }
    for (const v of message.signatures) {
      writer2.uint32(26).bytes(v);
    }
    return writer2;
  },
  decode(input, length2) {
    const reader2 = input instanceof minimal.Reader ? input : new minimal.Reader(input);
    let end2 = length2 === void 0 ? reader2.len : reader2.pos + length2;
    const message = createBaseTx();
    while (reader2.pos < end2) {
      const tag = reader2.uint32();
      switch (tag >>> 3) {
        case 1:
          message.body = TxBody.decode(reader2, reader2.uint32());
          break;
        case 2:
          message.authInfo = AuthInfo.decode(reader2, reader2.uint32());
          break;
        case 3:
          message.signatures.push(reader2.bytes());
          break;
        default:
          reader2.skipType(tag & 7);
          break;
      }
    }
    return message;
  },
  fromJSON(object) {
    return {
      body: isSet$1(object.body) ? TxBody.fromJSON(object.body) : void 0,
      authInfo: isSet$1(object.authInfo) ? AuthInfo.fromJSON(object.authInfo) : void 0,
      signatures: Array.isArray(object?.signatures) ? object.signatures.map((e) => bytesFromBase64$1(e)) : []
    };
  },
  toJSON(message) {
    const obj = {};
    message.body !== void 0 && (obj.body = message.body ? TxBody.toJSON(message.body) : void 0);
    message.authInfo !== void 0 && (obj.authInfo = message.authInfo ? AuthInfo.toJSON(message.authInfo) : void 0);
    if (message.signatures) {
      obj.signatures = message.signatures.map((e) => base64FromBytes$1(e !== void 0 ? e : new Uint8Array()));
    } else {
      obj.signatures = [];
    }
    return obj;
  },
  fromPartial(object) {
    const message = createBaseTx();
    message.body = object.body !== void 0 && object.body !== null ? TxBody.fromPartial(object.body) : void 0;
    message.authInfo = object.authInfo !== void 0 && object.authInfo !== null ? AuthInfo.fromPartial(object.authInfo) : void 0;
    message.signatures = object.signatures?.map((e) => e) || [];
    return message;
  }
};
function createBaseTxBody() {
  return {
    messages: [],
    memo: "",
    timeoutHeight: "0",
    extensionOptions: [],
    nonCriticalExtensionOptions: []
  };
}
const TxBody = {
  encode(message, writer2 = minimal.Writer.create()) {
    for (const v of message.messages) {
      Any.encode(v, writer2.uint32(10).fork()).ldelim();
    }
    if (message.memo !== "") {
      writer2.uint32(18).string(message.memo);
    }
    if (message.timeoutHeight !== "0") {
      writer2.uint32(24).uint64(message.timeoutHeight);
    }
    for (const v of message.extensionOptions) {
      Any.encode(v, writer2.uint32(8186).fork()).ldelim();
    }
    for (const v of message.nonCriticalExtensionOptions) {
      Any.encode(v, writer2.uint32(16378).fork()).ldelim();
    }
    return writer2;
  },
  decode(input, length2) {
    const reader2 = input instanceof minimal.Reader ? input : new minimal.Reader(input);
    let end2 = length2 === void 0 ? reader2.len : reader2.pos + length2;
    const message = createBaseTxBody();
    while (reader2.pos < end2) {
      const tag = reader2.uint32();
      switch (tag >>> 3) {
        case 1:
          message.messages.push(Any.decode(reader2, reader2.uint32()));
          break;
        case 2:
          message.memo = reader2.string();
          break;
        case 3:
          message.timeoutHeight = longToString(reader2.uint64());
          break;
        case 1023:
          message.extensionOptions.push(Any.decode(reader2, reader2.uint32()));
          break;
        case 2047:
          message.nonCriticalExtensionOptions.push(Any.decode(reader2, reader2.uint32()));
          break;
        default:
          reader2.skipType(tag & 7);
          break;
      }
    }
    return message;
  },
  fromJSON(object) {
    return {
      messages: Array.isArray(object?.messages) ? object.messages.map((e) => Any.fromJSON(e)) : [],
      memo: isSet$1(object.memo) ? String(object.memo) : "",
      timeoutHeight: isSet$1(object.timeoutHeight) ? String(object.timeoutHeight) : "0",
      extensionOptions: Array.isArray(object?.extensionOptions) ? object.extensionOptions.map((e) => Any.fromJSON(e)) : [],
      nonCriticalExtensionOptions: Array.isArray(object?.nonCriticalExtensionOptions) ? object.nonCriticalExtensionOptions.map((e) => Any.fromJSON(e)) : []
    };
  },
  toJSON(message) {
    const obj = {};
    if (message.messages) {
      obj.messages = message.messages.map((e) => e ? Any.toJSON(e) : void 0);
    } else {
      obj.messages = [];
    }
    message.memo !== void 0 && (obj.memo = message.memo);
    message.timeoutHeight !== void 0 && (obj.timeoutHeight = message.timeoutHeight);
    if (message.extensionOptions) {
      obj.extensionOptions = message.extensionOptions.map((e) => e ? Any.toJSON(e) : void 0);
    } else {
      obj.extensionOptions = [];
    }
    if (message.nonCriticalExtensionOptions) {
      obj.nonCriticalExtensionOptions = message.nonCriticalExtensionOptions.map((e) => e ? Any.toJSON(e) : void 0);
    } else {
      obj.nonCriticalExtensionOptions = [];
    }
    return obj;
  },
  fromPartial(object) {
    const message = createBaseTxBody();
    message.messages = object.messages?.map((e) => Any.fromPartial(e)) || [];
    message.memo = object.memo ?? "";
    message.timeoutHeight = object.timeoutHeight ?? "0";
    message.extensionOptions = object.extensionOptions?.map((e) => Any.fromPartial(e)) || [];
    message.nonCriticalExtensionOptions = object.nonCriticalExtensionOptions?.map((e) => Any.fromPartial(e)) || [];
    return message;
  }
};
function createBaseAuthInfo() {
  return { signerInfos: [], fee: void 0 };
}
const AuthInfo = {
  encode(message, writer2 = minimal.Writer.create()) {
    for (const v of message.signerInfos) {
      SignerInfo.encode(v, writer2.uint32(10).fork()).ldelim();
    }
    if (message.fee !== void 0) {
      Fee.encode(message.fee, writer2.uint32(18).fork()).ldelim();
    }
    return writer2;
  },
  decode(input, length2) {
    const reader2 = input instanceof minimal.Reader ? input : new minimal.Reader(input);
    let end2 = length2 === void 0 ? reader2.len : reader2.pos + length2;
    const message = createBaseAuthInfo();
    while (reader2.pos < end2) {
      const tag = reader2.uint32();
      switch (tag >>> 3) {
        case 1:
          message.signerInfos.push(SignerInfo.decode(reader2, reader2.uint32()));
          break;
        case 2:
          message.fee = Fee.decode(reader2, reader2.uint32());
          break;
        default:
          reader2.skipType(tag & 7);
          break;
      }
    }
    return message;
  },
  fromJSON(object) {
    return {
      signerInfos: Array.isArray(object?.signerInfos) ? object.signerInfos.map((e) => SignerInfo.fromJSON(e)) : [],
      fee: isSet$1(object.fee) ? Fee.fromJSON(object.fee) : void 0
    };
  },
  toJSON(message) {
    const obj = {};
    if (message.signerInfos) {
      obj.signerInfos = message.signerInfos.map((e) => e ? SignerInfo.toJSON(e) : void 0);
    } else {
      obj.signerInfos = [];
    }
    message.fee !== void 0 && (obj.fee = message.fee ? Fee.toJSON(message.fee) : void 0);
    return obj;
  },
  fromPartial(object) {
    const message = createBaseAuthInfo();
    message.signerInfos = object.signerInfos?.map((e) => SignerInfo.fromPartial(e)) || [];
    message.fee = object.fee !== void 0 && object.fee !== null ? Fee.fromPartial(object.fee) : void 0;
    return message;
  }
};
function createBaseSignerInfo() {
  return { publicKey: void 0, modeInfo: void 0, sequence: "0" };
}
const SignerInfo = {
  encode(message, writer2 = minimal.Writer.create()) {
    if (message.publicKey !== void 0) {
      Any.encode(message.publicKey, writer2.uint32(10).fork()).ldelim();
    }
    if (message.modeInfo !== void 0) {
      ModeInfo.encode(message.modeInfo, writer2.uint32(18).fork()).ldelim();
    }
    if (message.sequence !== "0") {
      writer2.uint32(24).uint64(message.sequence);
    }
    return writer2;
  },
  decode(input, length2) {
    const reader2 = input instanceof minimal.Reader ? input : new minimal.Reader(input);
    let end2 = length2 === void 0 ? reader2.len : reader2.pos + length2;
    const message = createBaseSignerInfo();
    while (reader2.pos < end2) {
      const tag = reader2.uint32();
      switch (tag >>> 3) {
        case 1:
          message.publicKey = Any.decode(reader2, reader2.uint32());
          break;
        case 2:
          message.modeInfo = ModeInfo.decode(reader2, reader2.uint32());
          break;
        case 3:
          message.sequence = longToString(reader2.uint64());
          break;
        default:
          reader2.skipType(tag & 7);
          break;
      }
    }
    return message;
  },
  fromJSON(object) {
    return {
      publicKey: isSet$1(object.publicKey) ? Any.fromJSON(object.publicKey) : void 0,
      modeInfo: isSet$1(object.modeInfo) ? ModeInfo.fromJSON(object.modeInfo) : void 0,
      sequence: isSet$1(object.sequence) ? String(object.sequence) : "0"
    };
  },
  toJSON(message) {
    const obj = {};
    message.publicKey !== void 0 && (obj.publicKey = message.publicKey ? Any.toJSON(message.publicKey) : void 0);
    message.modeInfo !== void 0 && (obj.modeInfo = message.modeInfo ? ModeInfo.toJSON(message.modeInfo) : void 0);
    message.sequence !== void 0 && (obj.sequence = message.sequence);
    return obj;
  },
  fromPartial(object) {
    const message = createBaseSignerInfo();
    message.publicKey = object.publicKey !== void 0 && object.publicKey !== null ? Any.fromPartial(object.publicKey) : void 0;
    message.modeInfo = object.modeInfo !== void 0 && object.modeInfo !== null ? ModeInfo.fromPartial(object.modeInfo) : void 0;
    message.sequence = object.sequence ?? "0";
    return message;
  }
};
function createBaseModeInfo() {
  return { single: void 0, multi: void 0 };
}
const ModeInfo = {
  encode(message, writer2 = minimal.Writer.create()) {
    if (message.single !== void 0) {
      ModeInfo_Single.encode(message.single, writer2.uint32(10).fork()).ldelim();
    }
    if (message.multi !== void 0) {
      ModeInfo_Multi.encode(message.multi, writer2.uint32(18).fork()).ldelim();
    }
    return writer2;
  },
  decode(input, length2) {
    const reader2 = input instanceof minimal.Reader ? input : new minimal.Reader(input);
    let end2 = length2 === void 0 ? reader2.len : reader2.pos + length2;
    const message = createBaseModeInfo();
    while (reader2.pos < end2) {
      const tag = reader2.uint32();
      switch (tag >>> 3) {
        case 1:
          message.single = ModeInfo_Single.decode(reader2, reader2.uint32());
          break;
        case 2:
          message.multi = ModeInfo_Multi.decode(reader2, reader2.uint32());
          break;
        default:
          reader2.skipType(tag & 7);
          break;
      }
    }
    return message;
  },
  fromJSON(object) {
    return {
      single: isSet$1(object.single) ? ModeInfo_Single.fromJSON(object.single) : void 0,
      multi: isSet$1(object.multi) ? ModeInfo_Multi.fromJSON(object.multi) : void 0
    };
  },
  toJSON(message) {
    const obj = {};
    message.single !== void 0 && (obj.single = message.single ? ModeInfo_Single.toJSON(message.single) : void 0);
    message.multi !== void 0 && (obj.multi = message.multi ? ModeInfo_Multi.toJSON(message.multi) : void 0);
    return obj;
  },
  fromPartial(object) {
    const message = createBaseModeInfo();
    message.single = object.single !== void 0 && object.single !== null ? ModeInfo_Single.fromPartial(object.single) : void 0;
    message.multi = object.multi !== void 0 && object.multi !== null ? ModeInfo_Multi.fromPartial(object.multi) : void 0;
    return message;
  }
};
function createBaseModeInfo_Single() {
  return { mode: 0 };
}
const ModeInfo_Single = {
  encode(message, writer2 = minimal.Writer.create()) {
    if (message.mode !== 0) {
      writer2.uint32(8).int32(message.mode);
    }
    return writer2;
  },
  decode(input, length2) {
    const reader2 = input instanceof minimal.Reader ? input : new minimal.Reader(input);
    let end2 = length2 === void 0 ? reader2.len : reader2.pos + length2;
    const message = createBaseModeInfo_Single();
    while (reader2.pos < end2) {
      const tag = reader2.uint32();
      switch (tag >>> 3) {
        case 1:
          message.mode = reader2.int32();
          break;
        default:
          reader2.skipType(tag & 7);
          break;
      }
    }
    return message;
  },
  fromJSON(object) {
    return {
      mode: isSet$1(object.mode) ? signModeFromJSON(object.mode) : 0
    };
  },
  toJSON(message) {
    const obj = {};
    message.mode !== void 0 && (obj.mode = signModeToJSON(message.mode));
    return obj;
  },
  fromPartial(object) {
    const message = createBaseModeInfo_Single();
    message.mode = object.mode ?? 0;
    return message;
  }
};
function createBaseModeInfo_Multi() {
  return { bitarray: void 0, modeInfos: [] };
}
const ModeInfo_Multi = {
  encode(message, writer2 = minimal.Writer.create()) {
    if (message.bitarray !== void 0) {
      CompactBitArray.encode(message.bitarray, writer2.uint32(10).fork()).ldelim();
    }
    for (const v of message.modeInfos) {
      ModeInfo.encode(v, writer2.uint32(18).fork()).ldelim();
    }
    return writer2;
  },
  decode(input, length2) {
    const reader2 = input instanceof minimal.Reader ? input : new minimal.Reader(input);
    let end2 = length2 === void 0 ? reader2.len : reader2.pos + length2;
    const message = createBaseModeInfo_Multi();
    while (reader2.pos < end2) {
      const tag = reader2.uint32();
      switch (tag >>> 3) {
        case 1:
          message.bitarray = CompactBitArray.decode(reader2, reader2.uint32());
          break;
        case 2:
          message.modeInfos.push(ModeInfo.decode(reader2, reader2.uint32()));
          break;
        default:
          reader2.skipType(tag & 7);
          break;
      }
    }
    return message;
  },
  fromJSON(object) {
    return {
      bitarray: isSet$1(object.bitarray) ? CompactBitArray.fromJSON(object.bitarray) : void 0,
      modeInfos: Array.isArray(object?.modeInfos) ? object.modeInfos.map((e) => ModeInfo.fromJSON(e)) : []
    };
  },
  toJSON(message) {
    const obj = {};
    message.bitarray !== void 0 && (obj.bitarray = message.bitarray ? CompactBitArray.toJSON(message.bitarray) : void 0);
    if (message.modeInfos) {
      obj.modeInfos = message.modeInfos.map((e) => e ? ModeInfo.toJSON(e) : void 0);
    } else {
      obj.modeInfos = [];
    }
    return obj;
  },
  fromPartial(object) {
    const message = createBaseModeInfo_Multi();
    message.bitarray = object.bitarray !== void 0 && object.bitarray !== null ? CompactBitArray.fromPartial(object.bitarray) : void 0;
    message.modeInfos = object.modeInfos?.map((e) => ModeInfo.fromPartial(e)) || [];
    return message;
  }
};
function createBaseFee() {
  return { amount: [], gasLimit: "0", payer: "", granter: "" };
}
const Fee = {
  encode(message, writer2 = minimal.Writer.create()) {
    for (const v of message.amount) {
      Coin.encode(v, writer2.uint32(10).fork()).ldelim();
    }
    if (message.gasLimit !== "0") {
      writer2.uint32(16).uint64(message.gasLimit);
    }
    if (message.payer !== "") {
      writer2.uint32(26).string(message.payer);
    }
    if (message.granter !== "") {
      writer2.uint32(34).string(message.granter);
    }
    return writer2;
  },
  decode(input, length2) {
    const reader2 = input instanceof minimal.Reader ? input : new minimal.Reader(input);
    let end2 = length2 === void 0 ? reader2.len : reader2.pos + length2;
    const message = createBaseFee();
    while (reader2.pos < end2) {
      const tag = reader2.uint32();
      switch (tag >>> 3) {
        case 1:
          message.amount.push(Coin.decode(reader2, reader2.uint32()));
          break;
        case 2:
          message.gasLimit = longToString(reader2.uint64());
          break;
        case 3:
          message.payer = reader2.string();
          break;
        case 4:
          message.granter = reader2.string();
          break;
        default:
          reader2.skipType(tag & 7);
          break;
      }
    }
    return message;
  },
  fromJSON(object) {
    return {
      amount: Array.isArray(object?.amount) ? object.amount.map((e) => Coin.fromJSON(e)) : [],
      gasLimit: isSet$1(object.gasLimit) ? String(object.gasLimit) : "0",
      payer: isSet$1(object.payer) ? String(object.payer) : "",
      granter: isSet$1(object.granter) ? String(object.granter) : ""
    };
  },
  toJSON(message) {
    const obj = {};
    if (message.amount) {
      obj.amount = message.amount.map((e) => e ? Coin.toJSON(e) : void 0);
    } else {
      obj.amount = [];
    }
    message.gasLimit !== void 0 && (obj.gasLimit = message.gasLimit);
    message.payer !== void 0 && (obj.payer = message.payer);
    message.granter !== void 0 && (obj.granter = message.granter);
    return obj;
  },
  fromPartial(object) {
    const message = createBaseFee();
    message.amount = object.amount?.map((e) => Coin.fromPartial(e)) || [];
    message.gasLimit = object.gasLimit ?? "0";
    message.payer = object.payer ?? "";
    message.granter = object.granter ?? "";
    return message;
  }
};
var globalThis$2 = (() => {
  if (typeof globalThis$2 !== "undefined")
    return globalThis$2;
  if (typeof self !== "undefined")
    return self;
  if (typeof window !== "undefined")
    return window;
  if (typeof global !== "undefined")
    return global;
  throw "Unable to locate global object";
})();
const atob$1 = globalThis$2.atob || ((b64) => globalThis$2.Buffer.from(b64, "base64").toString("binary"));
function bytesFromBase64$1(b64) {
  const bin = atob$1(b64);
  const arr = new Uint8Array(bin.length);
  for (let i = 0; i < bin.length; ++i) {
    arr[i] = bin.charCodeAt(i);
  }
  return arr;
}
const btoa$1 = globalThis$2.btoa || ((bin) => globalThis$2.Buffer.from(bin, "binary").toString("base64"));
function base64FromBytes$1(arr) {
  const bin = [];
  arr.forEach((byte) => {
    bin.push(String.fromCharCode(byte));
  });
  return btoa$1(bin.join(""));
}
function longToString(long2) {
  return long2.toString();
}
if (minimal.util.Long !== long) {
  minimal.util.Long = long;
  minimal.configure();
}
function isSet$1(value) {
  return value !== null && value !== void 0;
}
var OrderBy;
(function(OrderBy2) {
  OrderBy2[OrderBy2["ORDER_BY_UNSPECIFIED"] = 0] = "ORDER_BY_UNSPECIFIED";
  OrderBy2[OrderBy2["ORDER_BY_ASC"] = 1] = "ORDER_BY_ASC";
  OrderBy2[OrderBy2["ORDER_BY_DESC"] = 2] = "ORDER_BY_DESC";
  OrderBy2[OrderBy2["UNRECOGNIZED"] = -1] = "UNRECOGNIZED";
})(OrderBy || (OrderBy = {}));
function orderByFromJSON(object) {
  switch (object) {
    case 0:
    case "ORDER_BY_UNSPECIFIED":
      return OrderBy.ORDER_BY_UNSPECIFIED;
    case 1:
    case "ORDER_BY_ASC":
      return OrderBy.ORDER_BY_ASC;
    case 2:
    case "ORDER_BY_DESC":
      return OrderBy.ORDER_BY_DESC;
    case -1:
    case "UNRECOGNIZED":
    default:
      return OrderBy.UNRECOGNIZED;
  }
}
function orderByToJSON(object) {
  switch (object) {
    case OrderBy.ORDER_BY_UNSPECIFIED:
      return "ORDER_BY_UNSPECIFIED";
    case OrderBy.ORDER_BY_ASC:
      return "ORDER_BY_ASC";
    case OrderBy.ORDER_BY_DESC:
      return "ORDER_BY_DESC";
    case OrderBy.UNRECOGNIZED:
    default:
      return "UNRECOGNIZED";
  }
}
var BroadcastMode;
(function(BroadcastMode2) {
  BroadcastMode2[BroadcastMode2["BROADCAST_MODE_UNSPECIFIED"] = 0] = "BROADCAST_MODE_UNSPECIFIED";
  BroadcastMode2[BroadcastMode2["BROADCAST_MODE_BLOCK"] = 1] = "BROADCAST_MODE_BLOCK";
  BroadcastMode2[BroadcastMode2["BROADCAST_MODE_SYNC"] = 2] = "BROADCAST_MODE_SYNC";
  BroadcastMode2[BroadcastMode2["BROADCAST_MODE_ASYNC"] = 3] = "BROADCAST_MODE_ASYNC";
  BroadcastMode2[BroadcastMode2["UNRECOGNIZED"] = -1] = "UNRECOGNIZED";
})(BroadcastMode || (BroadcastMode = {}));
function broadcastModeFromJSON(object) {
  switch (object) {
    case 0:
    case "BROADCAST_MODE_UNSPECIFIED":
      return BroadcastMode.BROADCAST_MODE_UNSPECIFIED;
    case 1:
    case "BROADCAST_MODE_BLOCK":
      return BroadcastMode.BROADCAST_MODE_BLOCK;
    case 2:
    case "BROADCAST_MODE_SYNC":
      return BroadcastMode.BROADCAST_MODE_SYNC;
    case 3:
    case "BROADCAST_MODE_ASYNC":
      return BroadcastMode.BROADCAST_MODE_ASYNC;
    case -1:
    case "UNRECOGNIZED":
    default:
      return BroadcastMode.UNRECOGNIZED;
  }
}
function broadcastModeToJSON(object) {
  switch (object) {
    case BroadcastMode.BROADCAST_MODE_UNSPECIFIED:
      return "BROADCAST_MODE_UNSPECIFIED";
    case BroadcastMode.BROADCAST_MODE_BLOCK:
      return "BROADCAST_MODE_BLOCK";
    case BroadcastMode.BROADCAST_MODE_SYNC:
      return "BROADCAST_MODE_SYNC";
    case BroadcastMode.BROADCAST_MODE_ASYNC:
      return "BROADCAST_MODE_ASYNC";
    case BroadcastMode.UNRECOGNIZED:
    default:
      return "UNRECOGNIZED";
  }
}
function createBaseGetTxsEventRequest() {
  return { events: [], pagination: void 0, orderBy: 0 };
}
const GetTxsEventRequest = {
  encode(message, writer2 = minimal.Writer.create()) {
    for (const v of message.events) {
      writer2.uint32(10).string(v);
    }
    if (message.pagination !== void 0) {
      PageRequest.encode(message.pagination, writer2.uint32(18).fork()).ldelim();
    }
    if (message.orderBy !== 0) {
      writer2.uint32(24).int32(message.orderBy);
    }
    return writer2;
  },
  decode(input, length2) {
    const reader2 = input instanceof minimal.Reader ? input : new minimal.Reader(input);
    let end2 = length2 === void 0 ? reader2.len : reader2.pos + length2;
    const message = createBaseGetTxsEventRequest();
    while (reader2.pos < end2) {
      const tag = reader2.uint32();
      switch (tag >>> 3) {
        case 1:
          message.events.push(reader2.string());
          break;
        case 2:
          message.pagination = PageRequest.decode(reader2, reader2.uint32());
          break;
        case 3:
          message.orderBy = reader2.int32();
          break;
        default:
          reader2.skipType(tag & 7);
          break;
      }
    }
    return message;
  },
  fromJSON(object) {
    return {
      events: Array.isArray(object?.events) ? object.events.map((e) => String(e)) : [],
      pagination: isSet(object.pagination) ? PageRequest.fromJSON(object.pagination) : void 0,
      orderBy: isSet(object.orderBy) ? orderByFromJSON(object.orderBy) : 0
    };
  },
  toJSON(message) {
    const obj = {};
    if (message.events) {
      obj.events = message.events.map((e) => e);
    } else {
      obj.events = [];
    }
    message.pagination !== void 0 && (obj.pagination = message.pagination ? PageRequest.toJSON(message.pagination) : void 0);
    message.orderBy !== void 0 && (obj.orderBy = orderByToJSON(message.orderBy));
    return obj;
  },
  fromPartial(object) {
    const message = createBaseGetTxsEventRequest();
    message.events = object.events?.map((e) => e) || [];
    message.pagination = object.pagination !== void 0 && object.pagination !== null ? PageRequest.fromPartial(object.pagination) : void 0;
    message.orderBy = object.orderBy ?? 0;
    return message;
  }
};
function createBaseGetTxsEventResponse() {
  return { txs: [], txResponses: [], pagination: void 0 };
}
const GetTxsEventResponse = {
  encode(message, writer2 = minimal.Writer.create()) {
    for (const v of message.txs) {
      Tx.encode(v, writer2.uint32(10).fork()).ldelim();
    }
    for (const v of message.txResponses) {
      TxResponse.encode(v, writer2.uint32(18).fork()).ldelim();
    }
    if (message.pagination !== void 0) {
      PageResponse.encode(message.pagination, writer2.uint32(26).fork()).ldelim();
    }
    return writer2;
  },
  decode(input, length2) {
    const reader2 = input instanceof minimal.Reader ? input : new minimal.Reader(input);
    let end2 = length2 === void 0 ? reader2.len : reader2.pos + length2;
    const message = createBaseGetTxsEventResponse();
    while (reader2.pos < end2) {
      const tag = reader2.uint32();
      switch (tag >>> 3) {
        case 1:
          message.txs.push(Tx.decode(reader2, reader2.uint32()));
          break;
        case 2:
          message.txResponses.push(TxResponse.decode(reader2, reader2.uint32()));
          break;
        case 3:
          message.pagination = PageResponse.decode(reader2, reader2.uint32());
          break;
        default:
          reader2.skipType(tag & 7);
          break;
      }
    }
    return message;
  },
  fromJSON(object) {
    return {
      txs: Array.isArray(object?.txs) ? object.txs.map((e) => Tx.fromJSON(e)) : [],
      txResponses: Array.isArray(object?.txResponses) ? object.txResponses.map((e) => TxResponse.fromJSON(e)) : [],
      pagination: isSet(object.pagination) ? PageResponse.fromJSON(object.pagination) : void 0
    };
  },
  toJSON(message) {
    const obj = {};
    if (message.txs) {
      obj.txs = message.txs.map((e) => e ? Tx.toJSON(e) : void 0);
    } else {
      obj.txs = [];
    }
    if (message.txResponses) {
      obj.txResponses = message.txResponses.map((e) => e ? TxResponse.toJSON(e) : void 0);
    } else {
      obj.txResponses = [];
    }
    message.pagination !== void 0 && (obj.pagination = message.pagination ? PageResponse.toJSON(message.pagination) : void 0);
    return obj;
  },
  fromPartial(object) {
    const message = createBaseGetTxsEventResponse();
    message.txs = object.txs?.map((e) => Tx.fromPartial(e)) || [];
    message.txResponses = object.txResponses?.map((e) => TxResponse.fromPartial(e)) || [];
    message.pagination = object.pagination !== void 0 && object.pagination !== null ? PageResponse.fromPartial(object.pagination) : void 0;
    return message;
  }
};
function createBaseBroadcastTxRequest() {
  return { txBytes: new Uint8Array(), mode: 0 };
}
const BroadcastTxRequest = {
  encode(message, writer2 = minimal.Writer.create()) {
    if (message.txBytes.length !== 0) {
      writer2.uint32(10).bytes(message.txBytes);
    }
    if (message.mode !== 0) {
      writer2.uint32(16).int32(message.mode);
    }
    return writer2;
  },
  decode(input, length2) {
    const reader2 = input instanceof minimal.Reader ? input : new minimal.Reader(input);
    let end2 = length2 === void 0 ? reader2.len : reader2.pos + length2;
    const message = createBaseBroadcastTxRequest();
    while (reader2.pos < end2) {
      const tag = reader2.uint32();
      switch (tag >>> 3) {
        case 1:
          message.txBytes = reader2.bytes();
          break;
        case 2:
          message.mode = reader2.int32();
          break;
        default:
          reader2.skipType(tag & 7);
          break;
      }
    }
    return message;
  },
  fromJSON(object) {
    return {
      txBytes: isSet(object.txBytes) ? bytesFromBase64(object.txBytes) : new Uint8Array(),
      mode: isSet(object.mode) ? broadcastModeFromJSON(object.mode) : 0
    };
  },
  toJSON(message) {
    const obj = {};
    message.txBytes !== void 0 && (obj.txBytes = base64FromBytes(message.txBytes !== void 0 ? message.txBytes : new Uint8Array()));
    message.mode !== void 0 && (obj.mode = broadcastModeToJSON(message.mode));
    return obj;
  },
  fromPartial(object) {
    const message = createBaseBroadcastTxRequest();
    message.txBytes = object.txBytes ?? new Uint8Array();
    message.mode = object.mode ?? 0;
    return message;
  }
};
function createBaseBroadcastTxResponse() {
  return { txResponse: void 0 };
}
const BroadcastTxResponse = {
  encode(message, writer2 = minimal.Writer.create()) {
    if (message.txResponse !== void 0) {
      TxResponse.encode(message.txResponse, writer2.uint32(10).fork()).ldelim();
    }
    return writer2;
  },
  decode(input, length2) {
    const reader2 = input instanceof minimal.Reader ? input : new minimal.Reader(input);
    let end2 = length2 === void 0 ? reader2.len : reader2.pos + length2;
    const message = createBaseBroadcastTxResponse();
    while (reader2.pos < end2) {
      const tag = reader2.uint32();
      switch (tag >>> 3) {
        case 1:
          message.txResponse = TxResponse.decode(reader2, reader2.uint32());
          break;
        default:
          reader2.skipType(tag & 7);
          break;
      }
    }
    return message;
  },
  fromJSON(object) {
    return {
      txResponse: isSet(object.txResponse) ? TxResponse.fromJSON(object.txResponse) : void 0
    };
  },
  toJSON(message) {
    const obj = {};
    message.txResponse !== void 0 && (obj.txResponse = message.txResponse ? TxResponse.toJSON(message.txResponse) : void 0);
    return obj;
  },
  fromPartial(object) {
    const message = createBaseBroadcastTxResponse();
    message.txResponse = object.txResponse !== void 0 && object.txResponse !== null ? TxResponse.fromPartial(object.txResponse) : void 0;
    return message;
  }
};
function createBaseSimulateRequest() {
  return { tx: void 0, txBytes: new Uint8Array() };
}
const SimulateRequest = {
  encode(message, writer2 = minimal.Writer.create()) {
    if (message.tx !== void 0) {
      Tx.encode(message.tx, writer2.uint32(10).fork()).ldelim();
    }
    if (message.txBytes.length !== 0) {
      writer2.uint32(18).bytes(message.txBytes);
    }
    return writer2;
  },
  decode(input, length2) {
    const reader2 = input instanceof minimal.Reader ? input : new minimal.Reader(input);
    let end2 = length2 === void 0 ? reader2.len : reader2.pos + length2;
    const message = createBaseSimulateRequest();
    while (reader2.pos < end2) {
      const tag = reader2.uint32();
      switch (tag >>> 3) {
        case 1:
          message.tx = Tx.decode(reader2, reader2.uint32());
          break;
        case 2:
          message.txBytes = reader2.bytes();
          break;
        default:
          reader2.skipType(tag & 7);
          break;
      }
    }
    return message;
  },
  fromJSON(object) {
    return {
      tx: isSet(object.tx) ? Tx.fromJSON(object.tx) : void 0,
      txBytes: isSet(object.txBytes) ? bytesFromBase64(object.txBytes) : new Uint8Array()
    };
  },
  toJSON(message) {
    const obj = {};
    message.tx !== void 0 && (obj.tx = message.tx ? Tx.toJSON(message.tx) : void 0);
    message.txBytes !== void 0 && (obj.txBytes = base64FromBytes(message.txBytes !== void 0 ? message.txBytes : new Uint8Array()));
    return obj;
  },
  fromPartial(object) {
    const message = createBaseSimulateRequest();
    message.tx = object.tx !== void 0 && object.tx !== null ? Tx.fromPartial(object.tx) : void 0;
    message.txBytes = object.txBytes ?? new Uint8Array();
    return message;
  }
};
function createBaseSimulateResponse() {
  return { gasInfo: void 0, result: void 0 };
}
const SimulateResponse = {
  encode(message, writer2 = minimal.Writer.create()) {
    if (message.gasInfo !== void 0) {
      GasInfo.encode(message.gasInfo, writer2.uint32(10).fork()).ldelim();
    }
    if (message.result !== void 0) {
      Result.encode(message.result, writer2.uint32(18).fork()).ldelim();
    }
    return writer2;
  },
  decode(input, length2) {
    const reader2 = input instanceof minimal.Reader ? input : new minimal.Reader(input);
    let end2 = length2 === void 0 ? reader2.len : reader2.pos + length2;
    const message = createBaseSimulateResponse();
    while (reader2.pos < end2) {
      const tag = reader2.uint32();
      switch (tag >>> 3) {
        case 1:
          message.gasInfo = GasInfo.decode(reader2, reader2.uint32());
          break;
        case 2:
          message.result = Result.decode(reader2, reader2.uint32());
          break;
        default:
          reader2.skipType(tag & 7);
          break;
      }
    }
    return message;
  },
  fromJSON(object) {
    return {
      gasInfo: isSet(object.gasInfo) ? GasInfo.fromJSON(object.gasInfo) : void 0,
      result: isSet(object.result) ? Result.fromJSON(object.result) : void 0
    };
  },
  toJSON(message) {
    const obj = {};
    message.gasInfo !== void 0 && (obj.gasInfo = message.gasInfo ? GasInfo.toJSON(message.gasInfo) : void 0);
    message.result !== void 0 && (obj.result = message.result ? Result.toJSON(message.result) : void 0);
    return obj;
  },
  fromPartial(object) {
    const message = createBaseSimulateResponse();
    message.gasInfo = object.gasInfo !== void 0 && object.gasInfo !== null ? GasInfo.fromPartial(object.gasInfo) : void 0;
    message.result = object.result !== void 0 && object.result !== null ? Result.fromPartial(object.result) : void 0;
    return message;
  }
};
function createBaseGetTxRequest() {
  return { hash: "" };
}
const GetTxRequest = {
  encode(message, writer2 = minimal.Writer.create()) {
    if (message.hash !== "") {
      writer2.uint32(10).string(message.hash);
    }
    return writer2;
  },
  decode(input, length2) {
    const reader2 = input instanceof minimal.Reader ? input : new minimal.Reader(input);
    let end2 = length2 === void 0 ? reader2.len : reader2.pos + length2;
    const message = createBaseGetTxRequest();
    while (reader2.pos < end2) {
      const tag = reader2.uint32();
      switch (tag >>> 3) {
        case 1:
          message.hash = reader2.string();
          break;
        default:
          reader2.skipType(tag & 7);
          break;
      }
    }
    return message;
  },
  fromJSON(object) {
    return {
      hash: isSet(object.hash) ? String(object.hash) : ""
    };
  },
  toJSON(message) {
    const obj = {};
    message.hash !== void 0 && (obj.hash = message.hash);
    return obj;
  },
  fromPartial(object) {
    const message = createBaseGetTxRequest();
    message.hash = object.hash ?? "";
    return message;
  }
};
function createBaseGetTxResponse() {
  return { tx: void 0, txResponse: void 0 };
}
const GetTxResponse = {
  encode(message, writer2 = minimal.Writer.create()) {
    if (message.tx !== void 0) {
      Tx.encode(message.tx, writer2.uint32(10).fork()).ldelim();
    }
    if (message.txResponse !== void 0) {
      TxResponse.encode(message.txResponse, writer2.uint32(18).fork()).ldelim();
    }
    return writer2;
  },
  decode(input, length2) {
    const reader2 = input instanceof minimal.Reader ? input : new minimal.Reader(input);
    let end2 = length2 === void 0 ? reader2.len : reader2.pos + length2;
    const message = createBaseGetTxResponse();
    while (reader2.pos < end2) {
      const tag = reader2.uint32();
      switch (tag >>> 3) {
        case 1:
          message.tx = Tx.decode(reader2, reader2.uint32());
          break;
        case 2:
          message.txResponse = TxResponse.decode(reader2, reader2.uint32());
          break;
        default:
          reader2.skipType(tag & 7);
          break;
      }
    }
    return message;
  },
  fromJSON(object) {
    return {
      tx: isSet(object.tx) ? Tx.fromJSON(object.tx) : void 0,
      txResponse: isSet(object.txResponse) ? TxResponse.fromJSON(object.txResponse) : void 0
    };
  },
  toJSON(message) {
    const obj = {};
    message.tx !== void 0 && (obj.tx = message.tx ? Tx.toJSON(message.tx) : void 0);
    message.txResponse !== void 0 && (obj.txResponse = message.txResponse ? TxResponse.toJSON(message.txResponse) : void 0);
    return obj;
  },
  fromPartial(object) {
    const message = createBaseGetTxResponse();
    message.tx = object.tx !== void 0 && object.tx !== null ? Tx.fromPartial(object.tx) : void 0;
    message.txResponse = object.txResponse !== void 0 && object.txResponse !== null ? TxResponse.fromPartial(object.txResponse) : void 0;
    return message;
  }
};
class ServiceClientImpl {
  constructor(rpc2) {
    __publicField(this, "rpc");
    this.rpc = rpc2;
    this.simulate = this.simulate.bind(this);
    this.getTx = this.getTx.bind(this);
    this.broadcastTx = this.broadcastTx.bind(this);
    this.getTxsEvent = this.getTxsEvent.bind(this);
  }
  simulate(request, metadata) {
    return this.rpc.unary(ServiceSimulateDesc, SimulateRequest.fromPartial(request), metadata);
  }
  getTx(request, metadata) {
    return this.rpc.unary(ServiceGetTxDesc, GetTxRequest.fromPartial(request), metadata);
  }
  broadcastTx(request, metadata) {
    return this.rpc.unary(ServiceBroadcastTxDesc, BroadcastTxRequest.fromPartial(request), metadata);
  }
  getTxsEvent(request, metadata) {
    return this.rpc.unary(ServiceGetTxsEventDesc, GetTxsEventRequest.fromPartial(request), metadata);
  }
}
const ServiceDesc = {
  serviceName: "cosmos.tx.v1beta1.Service"
};
const ServiceSimulateDesc = {
  methodName: "Simulate",
  service: ServiceDesc,
  requestStream: false,
  responseStream: false,
  requestType: {
    serializeBinary() {
      return SimulateRequest.encode(this).finish();
    }
  },
  responseType: {
    deserializeBinary(data) {
      return {
        ...SimulateResponse.decode(data),
        toObject() {
          return this;
        }
      };
    }
  }
};
const ServiceGetTxDesc = {
  methodName: "GetTx",
  service: ServiceDesc,
  requestStream: false,
  responseStream: false,
  requestType: {
    serializeBinary() {
      return GetTxRequest.encode(this).finish();
    }
  },
  responseType: {
    deserializeBinary(data) {
      return {
        ...GetTxResponse.decode(data),
        toObject() {
          return this;
        }
      };
    }
  }
};
const ServiceBroadcastTxDesc = {
  methodName: "BroadcastTx",
  service: ServiceDesc,
  requestStream: false,
  responseStream: false,
  requestType: {
    serializeBinary() {
      return BroadcastTxRequest.encode(this).finish();
    }
  },
  responseType: {
    deserializeBinary(data) {
      return {
        ...BroadcastTxResponse.decode(data),
        toObject() {
          return this;
        }
      };
    }
  }
};
const ServiceGetTxsEventDesc = {
  methodName: "GetTxsEvent",
  service: ServiceDesc,
  requestStream: false,
  responseStream: false,
  requestType: {
    serializeBinary() {
      return GetTxsEventRequest.encode(this).finish();
    }
  },
  responseType: {
    deserializeBinary(data) {
      return {
        ...GetTxsEventResponse.decode(data),
        toObject() {
          return this;
        }
      };
    }
  }
};
var globalThis$1 = (() => {
  if (typeof globalThis$1 !== "undefined")
    return globalThis$1;
  if (typeof self !== "undefined")
    return self;
  if (typeof window !== "undefined")
    return window;
  if (typeof global !== "undefined")
    return global;
  throw "Unable to locate global object";
})();
const atob = globalThis$1.atob || ((b64) => globalThis$1.Buffer.from(b64, "base64").toString("binary"));
function bytesFromBase64(b64) {
  const bin = atob(b64);
  const arr = new Uint8Array(bin.length);
  for (let i = 0; i < bin.length; ++i) {
    arr[i] = bin.charCodeAt(i);
  }
  return arr;
}
const btoa = globalThis$1.btoa || ((bin) => globalThis$1.Buffer.from(bin, "binary").toString("base64"));
function base64FromBytes(arr) {
  const bin = [];
  arr.forEach((byte) => {
    bin.push(String.fromCharCode(byte));
  });
  return btoa(bin.join(""));
}
function isSet(value) {
  return value !== null && value !== void 0;
}
const fold_attrs = (g_event) => fold(g_event.attributes, (g_attr) => ({
  [g_attr.key]: g_attr.value
}));
class CosmosNetwork {
  constructor(_g_network, _g_chain) {
    __publicField(this, "_p_chain");
    __publicField(this, "_y_grpc");
    __publicField(this, "_ks_cache");
    this._g_network = _g_network;
    this._g_chain = _g_chain;
    this._p_chain = Chains.pathFrom(_g_chain);
    this._y_grpc = new GrpcWebImpl(_g_network.grpcWebUrl, {
      transport: grpcWebClient_umd$1.exports.grpc.CrossBrowserHttpTransport({ withCredentials: false })
    });
    void this.reloadCached();
  }
  async reloadCached() {
    this._ks_cache = await QueryCache.read();
  }
  cachedBalance(sa_owner, si_coin) {
    const p_holding = Entities.holdingPathFor(sa_owner, si_coin, this._p_chain);
    return this._ks_cache.at(p_holding);
  }
  async _update_balance(sa_owner, si_coin, g_balance, xt_when) {
    const p_holding = Entities.holdingPathFor(sa_owner, si_coin, this._p_chain);
    const g_cached = this._ks_cache.at(p_holding);
    await QueryCache.open(async (ks) => {
      await ks.set(p_holding, {
        timestamp: xt_when,
        data: JSON.parse(JSON.stringify(g_balance))
      });
      this._ks_cache = ks;
    });
    return [p_holding, g_cached];
  }
  async bankBalance(sa_owner, si_coin, xt_since = 0) {
    const xt_req = Date.now();
    si_coin = si_coin || Object.keys(this._g_chain.coins)[0];
    const g_response = await new QueryClientImpl(this._y_grpc).balance({
      address: sa_owner,
      denom: this._g_chain.coins[si_coin].denom
    });
    const {
      balance: g_balance
    } = g_response;
    if (!g_balance) {
      throw new Error(`Failed to fetch balance`);
    }
    const [p_holding, g_cached] = await this._update_balance(sa_owner, si_coin, g_balance, xt_req);
    return {
      balance: g_balance,
      cached: g_cached,
      holding: p_holding
    };
  }
  async bankBalances(sa_owner) {
    const xt_req = Date.now();
    const g_response = await new QueryClientImpl(this._y_grpc).allBalances({
      address: sa_owner
    });
    const {
      balances: a_balances
    } = g_response;
    const h_coins = this._g_chain.coins;
    const h_denoms = oderom(h_coins, (si_coin, g_coin) => ({
      [g_coin.denom]: si_coin
    }));
    const h_outs = {};
    for (const g_balance of a_balances) {
      const si_coin = h_denoms[g_balance.denom];
      h_coins[si_coin];
      const [p_holding, g_cached] = await this._update_balance(sa_owner, si_coin, g_balance, xt_req);
      h_outs[si_coin] = {
        balance: g_balance,
        cached: g_cached,
        holding: p_holding
      };
    }
    return h_outs;
  }
  get hasRpc() {
    return !!this._g_network.rpcHost;
  }
  listen(a_events, fke_receive) {
    const p_host = this._g_network.rpcHost;
    if (!p_host)
      throw new Error("Cannot subscribe to events; no RPC host configured on network");
    const d_ws = new WebSocket(`wss://${p_host}/websocket`);
    d_ws.onopen = (d_event) => {
      d_ws.send(JSON.stringify({
        jsonrpc: "2.0",
        method: "subscribe",
        id: "0",
        params: {
          query: a_events.join(" AND ")
        }
      }));
    };
    d_ws.onmessage = (d_event) => {
      const g_msg = JSON.parse(d_event.data || "{}");
      const g_value = g_msg?.result?.data?.value;
      if (g_value) {
        void fke_receive(null, g_value);
      }
    };
    let b_user_closed = false;
    d_ws.onclose = (d_event) => {
      if (!b_user_closed) {
        void fke_receive(d_event);
      }
    };
    d_ws.onerror = (d_event) => {
      void fke_receive(d_event);
    };
    return () => {
      b_user_closed = true;
      d_ws.close();
    };
  }
  onReceive(sa_owner, fke_receive) {
    return this.listen([
      `tm.event='Tx'`,
      `transfer.recipient='${sa_owner}'`
    ], (d_kill, g_value) => {
      void fke_receive(d_kill, g_value?.TxResult || void 0);
    });
  }
  async isContract(sa_account) {
    const g_response = await new ServiceClientImpl(this._y_grpc).getTxsEvent({
      events: [
        `message.contract_address='${sa_account}'`
      ],
      orderBy: OrderBy.ORDER_BY_ASC,
      pagination: {
        limit: "1"
      }
    });
    return g_response.txResponses.length > 0;
  }
  async received(sa_owner, n_min_block = 0) {
    const g_response = await new ServiceClientImpl(this._y_grpc).getTxsEvent({
      events: [
        `transfer.recipient='${sa_owner}'`,
        `tx.height>=${n_min_block}`
      ],
      pagination: {
        limit: "100"
      }
    });
    const y_client = grpcWebClient_umd$1.exports.grpc.client(ServiceGetTxsEventDesc, {
      host: "wss://rpc.testnet.secretsaturn.net/websocket",
      transport: grpcWebClient_umd$1.exports.grpc.WebsocketTransport(),
      debug: true
    });
    y_client.onHeaders((g_headers) => {
      console.log(g_headers);
      debugger;
    });
    y_client.onMessage((g_msg) => {
      console.log(g_msg);
      debugger;
    });
    y_client.onEnd((w_status, s_msg, g_trailers) => {
      console.log({
        w_status,
        s_msg,
        g_trailers
      });
      debugger;
      console.log("#end");
    });
    y_client.start();
    const g_tx = GetTxsEventRequest.fromPartial({
      events: [
        `tm.event='Tx'`
      ]
    });
    debugger;
    y_client.send({
      ...g_tx,
      ...ServiceGetTxsEventDesc.requestType
    });
    y_client.finishSend();
    if (!g_response) {
      throw new Error("Failed to fetch transaction");
    }
    const n_pages = +(g_response.pagination?.total || 1);
    if (n_pages > 1) {
      throw new Error("Not yet implemented");
    }
    const a_outs = [];
    for (const g_txn of g_response.txResponses) {
      const a_events = JSON.parse(g_txn.rawLog)[0].events;
      for (const g_event of a_events) {
        if (g_event.type === "transfer") {
          const h_attrs = fold_attrs(g_event);
          a_outs.push({
            ...h_attrs,
            height: g_txn.height,
            timestamp: g_txn.timestamp,
            txhash: g_txn.txhash
          });
        }
      }
    }
    console.log(a_outs);
    return a_outs;
  }
}
const Accounts = create_store_class({
  store: SI_STORE_ACCOUNTS,
  class: class AccountsI extends WritableStoreMap {
    static pathFor(si_family, s_pubkey) {
      return `/family.${si_family}/account.${s_pubkey.replace(/:/g, "+")}`;
    }
    static pathFrom(g_account) {
      return AccountsI.pathFor(g_account.family, g_account.pubkey);
    }
    static get(si_family, s_pubkey) {
      return Accounts.open((ks) => ks.get(si_family, s_pubkey));
    }
    get(si_family, s_pubkey) {
      const p_res = AccountsI.pathFor(si_family, s_pubkey);
      return this._w_cache[p_res] ?? null;
    }
    async put(g_account) {
      const p_res = AccountsI.pathFrom(g_account);
      this._w_cache[p_res] = g_account;
      await this.save();
      return p_res;
    }
  }
});
const Medias = create_store_class({
  store: SI_STORE_MEDIA,
  extension: "map",
  class: class MediaI extends WritableStoreMap {
  }
});
const Networks = create_store_class({
  store: SI_STORE_NETWORKS,
  class: class NetworksI extends WritableStoreMap {
    static pathFor(p_base) {
      return `/network.${buffer_to_base64(sha256_sync$1(text_to_buffer(p_base)))}`;
    }
    static pathFrom(g_network) {
      return NetworksI.pathFor(g_network.grpcWebUrl);
    }
    static activate(g_network, g_chain = yw_chain.get()) {
      return new CosmosNetwork(g_network, g_chain);
    }
  }
});
const Tags = create_store_class({
  store: SI_STORE_TAGS,
  class: class TagsI extends WritableStore {
    static tagPathFor(g_tag) {
      return `/tag.${g_tag.index}`;
    }
    getTag(i_tag) {
      return this._w_cache.registry[i_tag] ?? null;
    }
    getIdsFor(p_resource) {
      return this._w_cache.map[p_resource] ?? [];
    }
    getTagsFor(p_resource) {
      return this.getIdsFor(p_resource).map((i_tag) => this.getTag(i_tag)).filter((g) => !!g);
    }
    setIdsFor(p_ressource, a_ids) {
      this._w_cache.map[p_ressource] = a_ids;
      return this.save();
    }
    setTagsFor(p_resource, a_tags2) {
      return this.setIdsFor(p_resource, a_tags2.map((g) => g.index));
    }
  }
});
const subscriber_queue = [];
function readable(value, start) {
  return {
    subscribe: writable(value, start).subscribe
  };
}
function writable(value, start = noop$1) {
  let stop;
  const subscribers = /* @__PURE__ */ new Set();
  function set(new_value) {
    if (safe_not_equal(value, new_value)) {
      value = new_value;
      if (stop) {
        const run_queue = !subscriber_queue.length;
        for (const subscriber of subscribers) {
          subscriber[1]();
          subscriber_queue.push(subscriber, value);
        }
        if (run_queue) {
          for (let i = 0; i < subscriber_queue.length; i += 2) {
            subscriber_queue[i][0](subscriber_queue[i + 1]);
          }
          subscriber_queue.length = 0;
        }
      }
    }
  }
  function update2(fn) {
    set(fn(value));
  }
  function subscribe2(run2, invalidate = noop$1) {
    const subscriber = [run2, invalidate];
    subscribers.add(subscriber);
    if (subscribers.size === 1) {
      stop = start(set) || noop$1;
    }
    run2(value);
    return () => {
      subscribers.delete(subscriber);
      if (subscribers.size === 0) {
        stop();
        stop = null;
      }
    };
  }
  return { set, update: update2, subscribe: subscribe2 };
}
function derived(stores, fn, initial_value) {
  const single = !Array.isArray(stores);
  const stores_array = single ? [stores] : stores;
  const auto = fn.length < 2;
  return readable(initial_value, (set) => {
    let inited = false;
    const values = [];
    let pending = 0;
    let cleanup = noop$1;
    const sync = () => {
      if (pending) {
        return;
      }
      cleanup();
      const result = fn(single ? values[0] : values, set);
      if (auto) {
        set(result);
      } else {
        cleanup = is_function(result) ? result : noop$1;
      }
    };
    const unsubscribers = stores_array.map((store, i) => subscribe(store, (value) => {
      values[i] = value;
      pending &= ~(1 << i);
      if (inited) {
        sync();
      }
    }, () => {
      pending |= 1 << i;
    }));
    inited = true;
    sync();
    return function stop() {
      run_all(unsubscribers);
      cleanup();
    };
  });
}
var Screen_svelte_svelte_type_style_lang = /* @__PURE__ */ (() => `.font-family_mono.svelte-re7ihy{font-family:'PT Mono';white-space:pre}.hide-scrollbar.svelte-re7ihy{scrollbar-width:none}.hide-scrollbar.svelte-re7ihy::-webkit-scrollbar{display:none}.hide-scrollbar.svelte-re7ihy::-webkit-scrollbar-track{display:none}.hide-scrollbar.svelte-re7ihy::-webkit-scrollbar-thumb{background-color:rgba(0, 0, 0, 0.2)}div.bounds.svelte-re7ihy{position:absolute;top:0;left:0;width:100%;height:100%;padding-left:calc(50vw - (var(--app-max-width) / 2))}.slides.svelte-re7ihy{transform:translateX(calc(var(--app-window-width) / 2));transition:transform 0.6s var(--ease-out-quick)}@media(prefers-reduced-motion){.slides.svelte-re7ihy{transition:none 0s linear}}form.screen.svelte-re7ihy{position:relative;max-width:var(--app-max-width);top:0;left:0;box-sizing:border-box;width:100%;height:100%;font-family:Poppins;font-weight:400;font-size:14px;background-color:var(--theme-color-bg);opacity:1;filter:blur(0);overflow:hidden}form.screen.transparent.svelte-re7ihy{background-color:transparent}form.screen.progress.svelte-re7ihy{padding-top:22px}form.screen.nav.svelte-re7ihy{padding-bottom:71px}form.screen.flex.svelte-re7ihy{display:flex;flex-direction:column;align-items:stretch;gap:var(--gap, var(--ui-padding))}section.screen.flex > :first-child:not(.no-margin),form.screen.flex > :first-child:not(.no-margin){margin-top:var(--ui-padding)}section.screen.flex > *,form.screen.flex > *{flex:0}section.screen.flex > *:not(.no-margin),form.screen.flex > *:not(.no-margin){margin:0 var(--ui-padding)}form.screen.scroll.svelte-re7ihy{overflow-y:scroll;overscroll-behavior-y:contain;scrollbar-width:none}form.screen.scroll.svelte-re7ihy::-webkit-scrollbar{display:none}form.screen.scroll.svelte-re7ihy::-webkit-scrollbar-track{display:none}form.screen.scroll.svelte-re7ihy::-webkit-scrollbar-thumb{background-color:rgba(0, 0, 0, 0.2)}form.screen.slid.svelte-re7ihy{transition:transform 0.5s var(--ease-out-cubic)}section.screen[data-s2-exit]:not([data-s2-exit='']),form.screen[data-s2-exit]:not([data-s2-exit='']){transform:translateX(0px);transition:transform 0.5s var(--ease-out-quint)}@keyframes svelte-re7ihy-fade-away{0%{opacity:1}75%{opacity:0}100%{opacity:0}}@keyframes svelte-re7ihy-blur-away{0%{filter:blur(0)}100%{filter:blur(14px)}}@keyframes svelte-re7ihy-scale-up{0%{transform:scale(1)}100%{transform:scale(1.75)}}@keyframes svelte-re7ihy-turn-away{0%{transform:perspective(0px) rotateY(0deg)}1%{transform:perspective(1500px) rotateY(0deg)}100%{transform:perspective(1500px) rotateY(-80deg)}}@keyframes svelte-re7ihy-fade-out{0%{opacity:1}10%{opacity:1}80%{opacity:0}100%{opacity:0}}form.screen.sublimate.svelte-re7ihy{transition:opacity 400ms var(--ease-out-quad);opacity:0}section.screen > *:not(.header),form.screen > *:not(.header){transition:filter 400ms var(--ease-out-cubic)}section.screen.blur > *:not(.header),form.screen.blur > *:not(.header){filter:blur(2px)}section.screen *,form.screen *{font-family:inherit;user-select:none}section.screen .text:not(button .text):not(.row .text),form.screen .text:not(button .text):not(.row .text){user-select:text;cursor:default}section.screen input,form.screen input,section.screentextarea,form.screentextarea{user-select:initial}section.screen .validation-message,form.screen .validation-message{font-family:Poppins;font-weight:400;font-size:11px;color:var(--theme-color-caution);text-align:right;width:100%;padding-top:3px;margin-left:-9px;display:inline-block}section.screen .user-select_all,form.screen .user-select_all{user-select:all}section.screen .actions-wall button,form.screen .actions-wall button,section.screen .actions-line button,form.screen .actions-line button{min-height:var(--ui-row-height);max-height:var(--ui-row-height);color:var(--theme-color-text-light);border:1px solid var(--theme-color-border);border-radius:var(--ui-border-radius);transition:background-color 1s var(--ease-out-expo), color 2s var(--ease-out-quick)}section.screen .actions-wall button.primary,form.screen .actions-wall button.primary,section.screen .actions-line button.primary,form.screen .actions-line button.primary{color:var(--theme-color-text-dark);background-color:var(--theme-color-primary)}section.screen .actions-wall button.primary:disabled,form.screen .actions-wall button.primary:disabled,section.screen .actions-line button.primary:disabled,form.screen .actions-line button.primary:disabled,section.screen .actions-wall button.primary[readonly="true"],form.screen .actions-wall button.primary[readonly="true"],section.screen .actions-line button.primary[readonly="true"],form.screen .actions-line button.primary[readonly="true"]{color:var(--theme-color-text-med);background-color:var(--theme-color-border);cursor:not-allowed;opacity:0.4}section.screen button,form.screen button{background-color:var(--theme-color-bg);cursor:pointer}section.screen button.pill,form.screen button.pill{font-family:Poppins;font-weight:500;font-size:11px;margin:0;padding:0.4em 1em;color:var(--theme-color-primary);border:1px solid var(--theme-color-primary);border-radius:400em}section.screen h3,form.screen h3{font-weight:500;margin:0}section.screen .action-wall,form.screen .action-wall{display:flex;flex-direction:column;justify-content:space-evenly;gap:var(--ui-padding)}section.screen .action-wall > button,form.screen .action-wall > button{flex:1}section.screen p,form.screen p{font-family:Poppins;font-weight:300;font-size:14px}section.screen input,form.screen input{font-size:inherit}section.screen input[type="text"],form.screen input[type="text"],section.screen input[type="password"],form.screen input[type="password"],section.screen input[type="number"],form.screen input[type="number"]{width:100%;height:var(--ui-row-height);box-sizing:border-box;padding-left:var(--ui-padding);border-radius:var(--ui-border-radius);background-color:var(--theme-color-border);color:var(--theme-color-text-light);border:1px solid transparent;font-weight:300}section.screen input[type="text"]::placeholder,form.screen input[type="text"]::placeholder,section.screen input[type="password"]::placeholder,form.screen input[type="password"]::placeholder,section.screen input[type="number"]::placeholder,form.screen input[type="number"]::placeholder{font-weight:300;color:var(--theme-color-text-med);opacity:0.7}section.screen input[type="text"]:focus,form.screen input[type="text"]:focus,section.screen input[type="password"]:focus,form.screen input[type="password"]:focus,section.screen input[type="number"]:focus,form.screen input[type="number"]:focus{outline:1px solid var(--theme-color-primary)}section.screen input.invalid:not(:focus),form.screen input.invalid:not(:focus){border:1px solid var(--theme-color-caution) !important}section.screen input.address,form.screen input.address{font-family:'PT Mono';font-weight:400;font-size:11px;letter-spacing:0.25px}section.screen .selectContainer.invalid input,form.screen .selectContainer.invalid input{border:1px solid var(--theme-color-caution) !important}section.screen textarea,form.screen textarea{width:100%;height:var(--ui-row-height);box-sizing:border-box;padding-left:var(--ui-padding);border-radius:var(--ui-border-radius);background-color:var(--theme-color-border);color:var(--theme-color-text-light);border:1px solid transparent;font-weight:300}section.screen textarea::placeholder,form.screen textarea::placeholder{font-weight:300;color:var(--theme-color-text-med);opacity:0.7}section.screen textarea:focus,form.screen textarea:focus{outline:1px solid var(--theme-color-primary)}section.screen textarea,form.screen textarea{font-family:Poppins;font-weight:400;font-size:14px;padding:1ex 2ex;height:10.75ex}section.screen .flex-rows,form.screen .flex-rows{display:flex;flex-direction:column;align-items:stretch;gap:var(--ui-padding)}section.screen .flex-rows > *,form.screen .flex-rows > *{flex:0;margin-top:0;margin-bottom:0}section.screen .font-variant_mono,form.screen .font-variant_mono{font-family:'PT Mono';font-weight:400;font-size:14px}section.screen .font-variant_mono-tiny,form.screen .font-variant_mono-tiny{font-family:'PT Mono';font-weight:400;font-size:11px}section.screen .color-icon-send,form.screen .color-icon-send{--svg-color-fg:var(--theme-color-orange)}section.screen .color-icon-recv,form.screen .color-icon-recv{--svg-color-fg:var(--theme-color-slime)}section.screen .link,form.screen .link{color:var(--theme-color-primary);cursor:pointer}section.screen .link:hover,form.screen .link:hover{text-decoration:underline}section.screen .svelte-tabs > ul.svelte-tabs__tab-list,form.screen .svelte-tabs > ul.svelte-tabs__tab-list{display:flex;justify-content:stretch;margin-left:calc(0px - var(--ui-padding));margin-right:calc(0px - var(--ui-padding));border-bottom:1px solid var(--theme-color-border)}section.screen .svelte-tabs > ul.svelte-tabs__tab-list > li.svelte-tabs__tab,form.screen .svelte-tabs > ul.svelte-tabs__tab-list > li.svelte-tabs__tab{flex:1;text-align:center;color:var(--theme-color-graymed);border-bottom:2px solid transparent;padding:12px 0.75em}section.screen .svelte-tabs > ul.svelte-tabs__tab-list > li.svelte-tabs__tab.svelte-tabs__selected,form.screen .svelte-tabs > ul.svelte-tabs__tab-list > li.svelte-tabs__tab.svelte-tabs__selected{color:var(--theme-color-primary);border-bottom:2px solid var(--theme-color-primary)}section.screen .svelte-tabs > div.svelte-tabs__tab-panel,form.screen .svelte-tabs > div.svelte-tabs__tab-panel{margin-top:var(--ui-padding)}`)();
var StarShellLogo_svelte_svelte_type_style_lang = /* @__PURE__ */ (() => ".logo.svelte-5d3u97.svelte-5d3u97{display:block;margin:0;padding:0;border:0;user-select:none;margin-left:auto;margin-right:auto}.logo.svelte-5d3u97 img.svelte-5d3u97{width:100%;height:100%}")();
var SX_ICON_ADD$1 = '<svg xmlns="http://www.w3.org/2000/svg" width="8" height="8">\n	<g style="fill: var(--svg-color-fg, currentColor);">\n		<rect x="3" width="2" height="8" />\n		<rect y="5" width="2" height="8" transform="rotate(-90 0 5)" />\n	</g>\n</svg>';
var OverlaySelect_svelte_svelte_type_style_lang = /* @__PURE__ */ (() => ".cancel.svelte-1f5uzt4.svelte-1f5uzt4.svelte-1f5uzt4.svelte-1f5uzt4.svelte-1f5uzt4{position:absolute;top:0;left:0;width:100%;height:100%;background-color:transparent;z-index:5000}.cancel.showing.svelte-1f5uzt4>.overlay.svelte-1f5uzt4.svelte-1f5uzt4.svelte-1f5uzt4.svelte-1f5uzt4{opacity:1;height:320px;max-height:320px}.cancel.svelte-1f5uzt4 .overlay.svelte-1f5uzt4.svelte-1f5uzt4.svelte-1f5uzt4.svelte-1f5uzt4{position:absolute;top:4em;right:20px;z-index:1000;width:300px;padding-left:var(--ui-padding);padding-right:var(--ui-padding);padding-bottom:var(--ui-padding);background-color:rgba(0, 0, 0, 0.95);border-radius:8px;max-height:320px;display:flex;flex-direction:column;overscroll-behavior:contain;overflow:scroll;scrollbar-width:none;box-sizing:border-box;opacity:0.25;transition:opacity 200ms linear, height 250ms var(--ease-out-expo);height:0}.cancel.svelte-1f5uzt4 .overlay.svelte-1f5uzt4.svelte-1f5uzt4.svelte-1f5uzt4.svelte-1f5uzt4::-webkit-scrollbar{display:none}.cancel.svelte-1f5uzt4 .overlay.svelte-1f5uzt4.svelte-1f5uzt4.svelte-1f5uzt4.svelte-1f5uzt4::-webkit-scrollbar-track{display:none}.cancel.svelte-1f5uzt4 .overlay.svelte-1f5uzt4.svelte-1f5uzt4.svelte-1f5uzt4.svelte-1f5uzt4::-webkit-scrollbar-thumb{background-color:rgba(0, 0, 0, 0.2)}.cancel.svelte-1f5uzt4 .overlay.svelte-1f5uzt4>.top.svelte-1f5uzt4.svelte-1f5uzt4.svelte-1f5uzt4{display:flex;justify-content:space-between;align-items:center}.cancel.svelte-1f5uzt4 .overlay.svelte-1f5uzt4>.top.svelte-1f5uzt4>h3.svelte-1f5uzt4.svelte-1f5uzt4{margin:16px 0}.cancel.svelte-1f5uzt4 .overlay.svelte-1f5uzt4>.top.svelte-1f5uzt4>.add-new.svelte-1f5uzt4>.icon.svelte-1f5uzt4{--icon-diameter:8px;--icon-color:var(--theme-color-primary)}.cancel.svelte-1f5uzt4 .overlay.svelte-1f5uzt4>.rows.svelte-1f5uzt4.svelte-1f5uzt4.svelte-1f5uzt4{display:flex;flex-direction:column;--row-padding:12px}.cancel .overlay > .rows .overlay-select.icon{--icon-diameter:20px;align-self:center}.cancel .overlay > .rows > .row{padding-top:var(--row-padding) !important;padding-left:0 !important;padding-right:var(--row-padding) !important;padding-bottom:var(--row-padding) !important}")();
function create_fragment$l(ctx) {
  let span;
  return {
    c() {
      span = element("span");
    },
    m(target, anchor) {
      insert(target, span, anchor);
      ctx[2](span);
    },
    p: noop$1,
    i: noop$1,
    o: noop$1,
    d(detaching) {
      if (detaching)
        detach(span);
      ctx[2](null);
    }
  };
}
function instance$k($$self, $$props, $$invalidate) {
  let { element: element2 } = $$props;
  let dm_dummy;
  onMount(() => {
    dm_dummy.replaceWith(element2);
  });
  function span_binding($$value) {
    binding_callbacks[$$value ? "unshift" : "push"](() => {
      dm_dummy = $$value;
      $$invalidate(0, dm_dummy);
    });
  }
  $$self.$$set = ($$props2) => {
    if ("element" in $$props2)
      $$invalidate(1, element2 = $$props2.element);
  };
  return [dm_dummy, element2, span_binding];
}
class Put extends SvelteComponent {
  constructor(options) {
    super();
    init(this, options, instance$k, create_fragment$l, safe_not_equal, { element: 1 });
  }
}
const qs = (dm_node, sq_selector) => dm_node.querySelector(sq_selector);
function dd(s_tag, h_attrs = {}, a_children = []) {
  const dm_node = document.createElement(s_tag);
  for (const si_attr in h_attrs) {
    dm_node.setAttribute(si_attr, h_attrs[si_attr] + "");
  }
  for (const w_child of a_children) {
    dm_node.append(w_child);
  }
  return dm_node;
}
function open_external_link(p_url) {
  chrome.tabs.create({
    url: p_url
  });
}
function picture(h_image, gc_render, h_attrs) {
  const {
    default: p_default,
    16: p_16,
    32: p_32,
    48: p_48,
    64: p_64,
    96: p_96,
    128: p_128,
    256: p_256
  } = h_image;
  const ks_medias = gc_render.medias;
  const sx_16 = p_16 ? ks_medias.at(p_16)?.data : null;
  const sx_32 = p_32 ? ks_medias.at(p_32)?.data : null;
  const sx_48 = p_48 ? ks_medias.at(p_48)?.data : null;
  const sx_64 = p_64 ? ks_medias.at(p_64)?.data : null;
  const sx_96 = p_96 ? ks_medias.at(p_96)?.data : null;
  const sx_128 = p_128 ? ks_medias.at(p_128)?.data : null;
  const sx_256 = p_256 ? ks_medias.at(p_256)?.data : null;
  const sx_default = ks_medias.at(p_default).data;
  const sx_any_x = sx_16 || sx_32 || sx_48 || sx_64 || sx_96 || sx_128 || sx_256;
  const x_dim_1x = gc_render.dim;
  const x_dim_2x = x_dim_1x * 2;
  let sx_1x = null;
  let sx_2x = null;
  if (sx_any_x) {
    if (x_dim_1x <= 64) {
      if (x_dim_1x <= 32) {
        if (x_dim_1x <= 16) {
          sx_1x = sx_any_x;
        } else {
          sx_1x = sx_32 || sx_48 || sx_64 || sx_96 || sx_128 || sx_256;
        }
      } else if (x_dim_1x <= 48) {
        sx_1x = sx_48 || sx_64 || sx_96 || sx_128 || sx_256;
      } else {
        sx_1x = sx_64 || sx_96 || sx_128 || sx_256;
      }
    } else if (x_dim_1x <= 128) {
      if (x_dim_1x <= 96) {
        sx_1x = sx_96 || sx_128 || sx_256;
      } else {
        sx_1x = sx_128 || sx_256;
      }
    } else if (x_dim_1x <= 256) {
      sx_1x = sx_256;
    }
    if (x_dim_2x <= 64) {
      if (x_dim_2x <= 32) {
        if (x_dim_2x <= 16) {
          sx_2x = sx_any_x;
        } else {
          sx_2x = sx_32 || sx_48 || sx_64 || sx_96 || sx_128 || sx_256;
        }
      } else if (x_dim_2x <= 48) {
        sx_2x = sx_48 || sx_64 || sx_96 || sx_128 || sx_256;
      } else {
        sx_2x = sx_64 || sx_96 || sx_128 || sx_256;
      }
    } else if (x_dim_2x <= 128) {
      if (x_dim_2x <= 96) {
        sx_2x = sx_96 || sx_128 || sx_256;
      } else {
        sx_2x = sx_128 || sx_256;
      }
    } else if (x_dim_2x <= 256) {
      sx_2x = sx_256;
    }
  }
  return dd("picture", {
    ...h_attrs
  }, [
    ...sx_2x ? [dd("source", {
      srcset: sx_2x,
      media: "(min-resolution: 2dppx)"
    })] : [],
    dd("img", {
      src: sx_1x || sx_default,
      alt: gc_render.alt || ""
    })
  ]);
}
const Pfps = create_store_class({
  store: SI_STORE_PFPS,
  extension: "map",
  class: class PfpI extends WritableStoreMap {
    static async load(p_pfp, gc_render) {
      const g_pfp = await Pfps.at(p_pfp);
      if (!g_pfp)
        return null;
      return Pfps.render(g_pfp, gc_render);
    }
    static render(g_pfp, gc_render) {
      const sx_style_picture = `width:${gc_render.dim}px; height:${gc_render.dim}px;`;
      switch (g_pfp.type) {
        case "plain": {
          return picture(g_pfp.image, gc_render, {
            class: "global_pfp",
            style: sx_style_picture
          });
        }
      }
    }
  }
});
var PfpDisplay_svelte_svelte_type_style_lang = /* @__PURE__ */ (() => ".font-family_mono.svelte-mmgef2{font-family:'PT Mono';white-space:pre}.hide-scrollbar.svelte-mmgef2{scrollbar-width:none}.hide-scrollbar.svelte-mmgef2::-webkit-scrollbar{display:none}.hide-scrollbar.svelte-mmgef2::-webkit-scrollbar-track{display:none}.hide-scrollbar.svelte-mmgef2::-webkit-scrollbar-thumb{background-color:rgba(0, 0, 0, 0.2)}.tile.svelte-mmgef2{display:inline-flex;vertical-align:middle;line-height:0;cursor:pointer}.tile.satin.svelte-mmgef2{background:radial-gradient(ellipse farthest-side at bottom right, #07080a, #0f1317)}.icon-dom.svelte-mmgef2{color:var(--theme-color-text-light);display:flex;align-items:center;justify-content:center;font-size:30px;background-color:var(--theme-color-bg);background:radial-gradient(ellipse farthest-side at bottom right, #000000, var(--theme-color-bg));outline:1px solid var(--theme-color-border)}")();
function create_else_block_1$1(ctx) {
  let span;
  let t0_value = (ctx[1][0] || "") + "";
  let t0;
  let t1;
  let await_block_anchor;
  let info = {
    ctx,
    current: null,
    token: null,
    hasCatch: false,
    pending: create_pending_block_2,
    then: create_then_block_2,
    catch: create_catch_block_2,
    value: 22
  };
  handle_promise(ctx[7](), info);
  return {
    c() {
      span = element("span");
      t0 = text(t0_value);
      t1 = space();
      await_block_anchor = empty();
      info.block.c();
      attr(span, "class", "icon-dom svelte-mmgef2");
      attr(span, "style", ctx[4]);
    },
    m(target, anchor) {
      insert(target, span, anchor);
      append(span, t0);
      insert(target, t1, anchor);
      insert(target, await_block_anchor, anchor);
      info.block.m(target, info.anchor = anchor);
      info.mount = () => await_block_anchor.parentNode;
      info.anchor = await_block_anchor;
    },
    p(new_ctx, dirty) {
      ctx = new_ctx;
    },
    i: noop$1,
    o: noop$1,
    d(detaching) {
      if (detaching)
        detach(span);
      if (detaching)
        detach(t1);
      if (detaching)
        detach(await_block_anchor);
      info.block.d(detaching);
      info.token = null;
      info = null;
    }
  };
}
function create_if_block$c(ctx) {
  let await_block_anchor;
  let current;
  let info = {
    ctx,
    current: null,
    token: null,
    hasCatch: false,
    pending: create_pending_block$3,
    then: create_then_block$3,
    catch: create_catch_block_1$2,
    value: 21,
    blocks: [, , ,]
  };
  handle_promise(ctx[6](), info);
  return {
    c() {
      await_block_anchor = empty();
      info.block.c();
    },
    m(target, anchor) {
      insert(target, await_block_anchor, anchor);
      info.block.m(target, info.anchor = anchor);
      info.mount = () => await_block_anchor.parentNode;
      info.anchor = await_block_anchor;
      current = true;
    },
    p(new_ctx, dirty) {
      ctx = new_ctx;
      update_await_block_branch(info, ctx, dirty);
    },
    i(local) {
      if (current)
        return;
      transition_in(info.block);
      current = true;
    },
    o(local) {
      for (let i = 0; i < 3; i += 1) {
        const block = info.blocks[i];
        transition_out(block);
      }
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(await_block_anchor);
      info.block.d(detaching);
      info.token = null;
      info = null;
    }
  };
}
function create_catch_block_2(ctx) {
  return { c: noop$1, m: noop$1, d: noop$1 };
}
function create_then_block_2(ctx) {
  let t;
  return {
    c() {
      t = text("_");
    },
    m(target, anchor) {
      insert(target, t, anchor);
    },
    d(detaching) {
      if (detaching)
        detach(t);
    }
  };
}
function create_pending_block_2(ctx) {
  return { c: noop$1, m: noop$1, d: noop$1 };
}
function create_catch_block_1$2(ctx) {
  return {
    c: noop$1,
    m: noop$1,
    p: noop$1,
    i: noop$1,
    o: noop$1,
    d: noop$1
  };
}
function create_then_block$3(ctx) {
  let current_block_type_index;
  let if_block;
  let t;
  let await_block_anchor;
  let current;
  const if_block_creators = [create_if_block_1$7, create_else_block$3];
  const if_blocks = [];
  function select_block_type_1(ctx2, dirty) {
    if (ctx2[21])
      return 0;
    return 1;
  }
  current_block_type_index = select_block_type_1(ctx);
  if_block = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);
  let info = {
    ctx,
    current: null,
    token: null,
    hasCatch: false,
    pending: create_pending_block_1$2,
    then: create_then_block_1$2,
    catch: create_catch_block$3,
    value: 22
  };
  handle_promise(ctx[7](), info);
  return {
    c() {
      if_block.c();
      t = space();
      await_block_anchor = empty();
      info.block.c();
    },
    m(target, anchor) {
      if_blocks[current_block_type_index].m(target, anchor);
      insert(target, t, anchor);
      insert(target, await_block_anchor, anchor);
      info.block.m(target, info.anchor = anchor);
      info.mount = () => await_block_anchor.parentNode;
      info.anchor = await_block_anchor;
      current = true;
    },
    p(new_ctx, dirty) {
      ctx = new_ctx;
      if_block.p(ctx, dirty);
    },
    i(local) {
      if (current)
        return;
      transition_in(if_block);
      current = true;
    },
    o(local) {
      transition_out(if_block);
      current = false;
    },
    d(detaching) {
      if_blocks[current_block_type_index].d(detaching);
      if (detaching)
        detach(t);
      if (detaching)
        detach(await_block_anchor);
      info.block.d(detaching);
      info.token = null;
      info = null;
    }
  };
}
function create_else_block$3(ctx) {
  let span;
  return {
    c() {
      span = element("span");
      span.textContent = "Error";
      attr(span, "class", "error");
    },
    m(target, anchor) {
      insert(target, span, anchor);
    },
    p: noop$1,
    i: noop$1,
    o: noop$1,
    d(detaching) {
      if (detaching)
        detach(span);
    }
  };
}
function create_if_block_1$7(ctx) {
  let put;
  let current;
  put = new Put({ props: { element: ctx[21] } });
  return {
    c() {
      create_component(put.$$.fragment);
    },
    m(target, anchor) {
      mount_component(put, target, anchor);
      current = true;
    },
    p: noop$1,
    i(local) {
      if (current)
        return;
      transition_in(put.$$.fragment, local);
      current = true;
    },
    o(local) {
      transition_out(put.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      destroy_component(put, detaching);
    }
  };
}
function create_catch_block$3(ctx) {
  return { c: noop$1, m: noop$1, d: noop$1 };
}
function create_then_block_1$2(ctx) {
  let t;
  return {
    c() {
      t = text("_");
    },
    m(target, anchor) {
      insert(target, t, anchor);
    },
    d(detaching) {
      if (detaching)
        detach(t);
    }
  };
}
function create_pending_block_1$2(ctx) {
  return { c: noop$1, m: noop$1, d: noop$1 };
}
function create_pending_block$3(ctx) {
  let t;
  return {
    c() {
      t = text("loading pfp...");
    },
    m(target, anchor) {
      insert(target, t, anchor);
    },
    p: noop$1,
    i: noop$1,
    o: noop$1,
    d(detaching) {
      if (detaching)
        detach(t);
    }
  };
}
function create_fragment$k(ctx) {
  let span;
  let current_block_type_index;
  let if_block;
  let current;
  const if_block_creators = [create_if_block$c, create_else_block_1$1];
  const if_blocks = [];
  function select_block_type(ctx2, dirty) {
    if (ctx2[0])
      return 0;
    return 1;
  }
  current_block_type_index = select_block_type(ctx);
  if_block = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);
  return {
    c() {
      span = element("span");
      if_block.c();
      attr(span, "class", "global_pfp tile " + ctx[2] + " svelte-mmgef2");
      attr(span, "style", ctx[5]);
      toggle_class(span, "satin", ctx[3] === "satin");
    },
    m(target, anchor) {
      insert(target, span, anchor);
      if_blocks[current_block_type_index].m(span, null);
      current = true;
    },
    p(ctx2, [dirty]) {
      if_block.p(ctx2, dirty);
    },
    i(local) {
      if (current)
        return;
      transition_in(if_block);
      current = true;
    },
    o(local) {
      transition_out(if_block);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(span);
      if_blocks[current_block_type_index].d();
    }
  };
}
function instance$j($$self, $$props, $$invalidate) {
  let $yw_store_medias;
  component_subscribe($$self, yw_store_medias, ($$value) => $$invalidate(17, $yw_store_medias = $$value));
  const dispatch2 = createEventDispatcher();
  let { resource = null } = $$props;
  const g_resource = resource;
  let { ref = g_resource?.pfp || "" } = $$props;
  const p_ref = ref || null;
  let { name = g_resource?.name || "" } = $$props;
  const s_name = name;
  let { dim } = $$props;
  const x_dim = dim;
  let { circular = false } = $$props;
  const s_classes = circular ? "" : "square";
  let { bg = void 0 } = $$props;
  const si_style_bg = bg;
  let { genStyle = "" } = $$props;
  const sx_style_gen = `width:${x_dim}px; height:${x_dim}px; ` + (genStyle || "") + (ref ? `font-size:${x_dim}px;` : "") + (circular ? `border-radius:${x_dim}px;` : "");
  let { rootStyle = "" } = $$props;
  const sx_style_root = rootStyle;
  let { settle = void 0 } = $$props;
  async function load_pfp() {
    const ks_medias = $yw_store_medias || await Medias.read();
    const dm_pfp = await Pfps.load(p_ref, {
      alt: s_name,
      dim: x_dim,
      medias: ks_medias
    });
    queueMicrotask(() => {
      dispatch2("loaded");
    });
    return dm_pfp;
  }
  function settle_inner() {
    if (settle)
      queueMicrotask(() => settle());
    return new Promise(F_NOOP);
  }
  $$self.$$set = ($$props2) => {
    if ("resource" in $$props2)
      $$invalidate(8, resource = $$props2.resource);
    if ("ref" in $$props2)
      $$invalidate(9, ref = $$props2.ref);
    if ("name" in $$props2)
      $$invalidate(10, name = $$props2.name);
    if ("dim" in $$props2)
      $$invalidate(11, dim = $$props2.dim);
    if ("circular" in $$props2)
      $$invalidate(12, circular = $$props2.circular);
    if ("bg" in $$props2)
      $$invalidate(13, bg = $$props2.bg);
    if ("genStyle" in $$props2)
      $$invalidate(14, genStyle = $$props2.genStyle);
    if ("rootStyle" in $$props2)
      $$invalidate(15, rootStyle = $$props2.rootStyle);
    if ("settle" in $$props2)
      $$invalidate(16, settle = $$props2.settle);
  };
  return [
    p_ref,
    s_name,
    s_classes,
    si_style_bg,
    sx_style_gen,
    sx_style_root,
    load_pfp,
    settle_inner,
    resource,
    ref,
    name,
    dim,
    circular,
    bg,
    genStyle,
    rootStyle,
    settle
  ];
}
class PfpDisplay extends SvelteComponent {
  constructor(options) {
    super();
    init(this, options, instance$j, create_fragment$k, safe_not_equal, {
      resource: 8,
      ref: 9,
      name: 10,
      dim: 11,
      circular: 12,
      bg: 13,
      genStyle: 14,
      rootStyle: 15,
      settle: 16
    });
  }
}
var SX_ICON_CLOSE = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n	<style type="text/css">\n		.s2r-close-fg {\n			fill: var(--svg-color-fg, currentColor);\n		}\n	</style>\n	<path class="s2r-close-fg" d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/>\n</svg>\n';
var Close_svelte_svelte_type_style_lang = /* @__PURE__ */ (() => ".close.svelte-1to5vmp{position:relative;top:0;right:0;margin:var(--margin, 10px);padding:12px;cursor:pointer;--icon-diameter:24px;--icon-color:var(--theme-color-primary);outline:1px solid var(--theme-color-border);border-radius:0px;transition:border-radius 650ms var(--ease-out-expo);pointer-events:all}.close.absolute.svelte-1to5vmp{position:absolute}.close.svelte-1to5vmp::before{--occlusion-thickness:4px;content:'';position:absolute;top:calc(var(--occlusion-thickness) / 2);left:calc(var(--occlusion-thickness) / 2);width:calc(100% - var(--occlusion-thickness));height:calc(100% - var(--occlusion-thickness));outline:var(--occlusion-thickness) solid var(--theme-color-bg);box-sizing:border-box;pointer-events:none}.close.svelte-1to5vmp:hover{border-radius:22px}")();
function create_fragment$j(ctx) {
  let div;
  let mounted;
  let dispose;
  return {
    c() {
      div = element("div");
      attr(div, "class", "close icon svelte-1to5vmp");
      toggle_class(div, "absolute", ctx[0]);
    },
    m(target, anchor) {
      insert(target, div, anchor);
      div.innerHTML = SX_ICON_CLOSE;
      if (!mounted) {
        dispose = listen(div, "click", ctx[2]);
        mounted = true;
      }
    },
    p(ctx2, [dirty]) {
      if (dirty & 1) {
        toggle_class(div, "absolute", ctx2[0]);
      }
    },
    i: noop$1,
    o: noop$1,
    d(detaching) {
      if (detaching)
        detach(div);
      mounted = false;
      dispose();
    }
  };
}
function instance$i($$self, $$props, $$invalidate) {
  let { absolute = false } = $$props;
  let { heightless = false } = $$props;
  function click_handler2(event) {
    bubble.call(this, $$self, event);
  }
  $$self.$$set = ($$props2) => {
    if ("absolute" in $$props2)
      $$invalidate(0, absolute = $$props2.absolute);
    if ("heightless" in $$props2)
      $$invalidate(1, heightless = $$props2.heightless);
  };
  return [absolute, heightless, click_handler2];
}
class Close extends SvelteComponent {
  constructor(options) {
    super();
    init(this, options, instance$i, create_fragment$j, safe_not_equal, { absolute: 0, heightless: 1 });
  }
}
var Row_svelte_svelte_type_style_lang = /* @__PURE__ */ (() => ".font-family_mono.svelte-o4urkb.svelte-o4urkb.svelte-o4urkb.svelte-o4urkb.svelte-o4urkb.svelte-o4urkb{font-family:'PT Mono';white-space:pre}.hide-scrollbar.svelte-o4urkb.svelte-o4urkb.svelte-o4urkb.svelte-o4urkb.svelte-o4urkb.svelte-o4urkb{scrollbar-width:none}.hide-scrollbar.svelte-o4urkb.svelte-o4urkb.svelte-o4urkb.svelte-o4urkb.svelte-o4urkb.svelte-o4urkb::-webkit-scrollbar{display:none}.hide-scrollbar.svelte-o4urkb.svelte-o4urkb.svelte-o4urkb.svelte-o4urkb.svelte-o4urkb.svelte-o4urkb::-webkit-scrollbar-track{display:none}.hide-scrollbar.svelte-o4urkb.svelte-o4urkb.svelte-o4urkb.svelte-o4urkb.svelte-o4urkb.svelte-o4urkb::-webkit-scrollbar-thumb{background-color:rgba(0, 0, 0, 0.2)}:root{--row-padding:20px;--icon-margin:14px}.row.svelte-o4urkb.svelte-o4urkb.svelte-o4urkb.svelte-o4urkb.svelte-o4urkb.svelte-o4urkb{padding:var(--row-padding);border-top:1px solid var(--theme-color-border);border-bottom:1px solid var(--theme-color-border);max-width:var(--app-window-width);cursor:pointer;display:flex;flex-direction:column}.row.svelte-o4urkb>.banner.svelte-o4urkb.svelte-o4urkb.svelte-o4urkb.svelte-o4urkb.svelte-o4urkb{display:flex;align-items:center}.row.svelte-o4urkb.svelte-o4urkb.svelte-o4urkb.svelte-o4urkb.svelte-o4urkb.svelte-o4urkb:nth-child(n+2){border-top-color:transparent}.row.svelte-o4urkb .icon.svelte-o4urkb.svelte-o4urkb.svelte-o4urkb.svelte-o4urkb.svelte-o4urkb{--icon-diameter:var(--icon-diameter, var(--app-icon-diameter));flex:0 0 var(--icon-diameter);margin-right:var(--icon-margin)}.row.svelte-o4urkb .icon.bordered.svelte-o4urkb.svelte-o4urkb.svelte-o4urkb.svelte-o4urkb.svelte-o4urkb{--icon-diameter:calc(var(--app-icon-diameter) - 2px);background-color:var(--button-color, var(--theme-color-border))}.row .icon > .icon-20{--icon-diameter:18px}.row .icon img{border-radius:20%}.row .icon.site{background-color:var(--theme-color-text-light)}.row.svelte-o4urkb .content.svelte-o4urkb.svelte-o4urkb.svelte-o4urkb.svelte-o4urkb.svelte-o4urkb{flex:auto;display:flex;max-width:calc(var(--app-window-width) - var(--app-icon-diameter) - var(--icon-margin) - var(--row-padding) - var(--row-padding))}.row.svelte-o4urkb .content.svelte-o4urkb>.part.svelte-o4urkb.svelte-o4urkb.svelte-o4urkb.svelte-o4urkb{flex:auto;display:flex;flex-direction:column}.row.svelte-o4urkb .content.svelte-o4urkb>.part.main.svelte-o4urkb.svelte-o4urkb.svelte-o4urkb.svelte-o4urkb{overflow:hidden}.row.svelte-o4urkb .content.svelte-o4urkb>.part.main.svelte-o4urkb>.title.svelte-o4urkb.svelte-o4urkb.svelte-o4urkb{flex:0}.row.svelte-o4urkb .content.svelte-o4urkb>.part.main.svelte-o4urkb>.title.svelte-o4urkb>.name.svelte-o4urkb.svelte-o4urkb{font-family:Poppins;font-weight:400;font-size:14px;display:inline-flex;max-width:100%}.row.svelte-o4urkb .content.svelte-o4urkb>.part.main.svelte-o4urkb>.title.svelte-o4urkb>.name.svelte-o4urkb>.text.svelte-o4urkb{max-width:100%;white-space:nowrap;overflow-x:hidden;text-overflow:ellipsis}.row.svelte-o4urkb .content>.part.main>.title>.name .postname.svelte-o4urkb.svelte-o4urkb.svelte-o4urkb.svelte-o4urkb.svelte-o4urkb{color:var(--theme-color-text-med)}.row .content > .part.main > .title > svg{margin-left:-1px;vertical-align:-3px}.row.svelte-o4urkb .content.svelte-o4urkb>.part.main.svelte-o4urkb>.subtitle.svelte-o4urkb.svelte-o4urkb.svelte-o4urkb{flex:0}.row .content > .part.main > .subtitle > :nth-child(n+2){margin-left:4px}.row.svelte-o4urkb .content.svelte-o4urkb>.part.main.svelte-o4urkb>.subtitle.svelte-o4urkb>.detail.svelte-o4urkb.svelte-o4urkb{color:var(--theme-color-text-med);font-family:Poppins;font-weight:400;font-size:11px}.row.svelte-o4urkb .content.svelte-o4urkb>.part.status.svelte-o4urkb.svelte-o4urkb.svelte-o4urkb.svelte-o4urkb{text-align:right;max-width:55%}.row.svelte-o4urkb .content>.part.status .amount.svelte-o4urkb.svelte-o4urkb.svelte-o4urkb.svelte-o4urkb.svelte-o4urkb{font-family:Poppins;font-weight:400;font-size:14px;flex:0}.row.svelte-o4urkb .content>.part.status .fiat.svelte-o4urkb.svelte-o4urkb.svelte-o4urkb.svelte-o4urkb.svelte-o4urkb{font-family:Poppins;font-weight:400;font-size:11px;flex:0;color:var(--theme-color-text-med);white-space:nowrap}.number.svelte-o4urkb.svelte-o4urkb.svelte-o4urkb.svelte-o4urkb.svelte-o4urkb.svelte-o4urkb{display:inline-flex;max-width:18ch;overflow-x:scroll;scrollbar-width:none;white-space:nowrap}.number.svelte-o4urkb.svelte-o4urkb.svelte-o4urkb.svelte-o4urkb.svelte-o4urkb.svelte-o4urkb::-webkit-scrollbar{display:none}.number.svelte-o4urkb.svelte-o4urkb.svelte-o4urkb.svelte-o4urkb.svelte-o4urkb.svelte-o4urkb::-webkit-scrollbar-track{display:none}.number.svelte-o4urkb.svelte-o4urkb.svelte-o4urkb.svelte-o4urkb.svelte-o4urkb.svelte-o4urkb::-webkit-scrollbar-thumb{background-color:rgba(0, 0, 0, 0.2)}.rest.svelte-o4urkb.svelte-o4urkb.svelte-o4urkb.svelte-o4urkb.svelte-o4urkb.svelte-o4urkb{margin-left:calc(var(--icon-margin) + var(--app-icon-diameter))}")();
const get_tags_slot_changes = (dirty) => ({});
const get_tags_slot_context = (ctx) => ({});
const get_right_slot_changes = (dirty) => ({});
const get_right_slot_context = (ctx) => ({});
const get_status_slot_changes = (dirty) => ({});
const get_status_slot_context = (ctx) => ({});
const get_detail_slot_changes = (dirty) => ({});
const get_detail_slot_context = (ctx) => ({});
const get_icon_slot_changes = (dirty) => ({});
const get_icon_slot_context = (ctx) => ({});
function fallback_block_2(ctx) {
  let pfpdisplay;
  let current;
  pfpdisplay = new PfpDisplay({
    props: {
      ref: ctx[12],
      name: ctx[10],
      dim: ctx[13]
    }
  });
  return {
    c() {
      create_component(pfpdisplay.$$.fragment);
    },
    m(target, anchor) {
      mount_component(pfpdisplay, target, anchor);
      current = true;
    },
    p: noop$1,
    i(local) {
      if (current)
        return;
      transition_in(pfpdisplay.$$.fragment, local);
      current = true;
    },
    o(local) {
      transition_out(pfpdisplay.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      destroy_component(pfpdisplay, detaching);
    }
  };
}
function create_if_block_9$1(ctx) {
  let span;
  return {
    c() {
      span = element("span");
      span.textContent = `(${ctx[11]})`;
      attr(span, "class", "postname svelte-o4urkb");
    },
    m(target, anchor) {
      insert(target, span, anchor);
    },
    p: noop$1,
    d(detaching) {
      if (detaching)
        detach(span);
    }
  };
}
function create_if_block_8$1(ctx) {
  return { c: noop$1, m: noop$1, d: noop$1 };
}
function create_if_block_5$1(ctx) {
  let div;
  let current_block_type_index;
  let if_block;
  let current;
  const if_block_creators = [create_if_block_6$1, create_if_block_7$1];
  const if_blocks = [];
  function select_block_type(ctx2, dirty) {
    if (ctx2[5] || ctx2[2] || ctx2[17].detail)
      return 0;
    if (ctx2[4])
      return 1;
    return -1;
  }
  if (~(current_block_type_index = select_block_type(ctx))) {
    if_block = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);
  }
  return {
    c() {
      div = element("div");
      if (if_block)
        if_block.c();
      attr(div, "class", "subtitle svelte-o4urkb");
    },
    m(target, anchor) {
      insert(target, div, anchor);
      if (~current_block_type_index) {
        if_blocks[current_block_type_index].m(div, null);
      }
      current = true;
    },
    p(ctx2, dirty) {
      let previous_block_index = current_block_type_index;
      current_block_type_index = select_block_type(ctx2);
      if (current_block_type_index === previous_block_index) {
        if (~current_block_type_index) {
          if_blocks[current_block_type_index].p(ctx2, dirty);
        }
      } else {
        if (if_block) {
          group_outros();
          transition_out(if_blocks[previous_block_index], 1, 1, () => {
            if_blocks[previous_block_index] = null;
          });
          check_outros();
        }
        if (~current_block_type_index) {
          if_block = if_blocks[current_block_type_index];
          if (!if_block) {
            if_block = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx2);
            if_block.c();
          } else {
            if_block.p(ctx2, dirty);
          }
          transition_in(if_block, 1);
          if_block.m(div, null);
        } else {
          if_block = null;
        }
      }
    },
    i(local) {
      if (current)
        return;
      transition_in(if_block);
      current = true;
    },
    o(local) {
      transition_out(if_block);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(div);
      if (~current_block_type_index) {
        if_blocks[current_block_type_index].d();
      }
    }
  };
}
function create_if_block_7$1(ctx) {
  return {
    c: noop$1,
    m: noop$1,
    p: noop$1,
    i: noop$1,
    o: noop$1,
    d: noop$1
  };
}
function create_if_block_6$1(ctx) {
  let span;
  let current;
  const detail_slot_template = ctx[26].detail;
  const detail_slot = create_slot(detail_slot_template, ctx, ctx[25], get_detail_slot_context);
  const detail_slot_or_fallback = detail_slot || fallback_block_1$1(ctx);
  return {
    c() {
      span = element("span");
      if (detail_slot_or_fallback)
        detail_slot_or_fallback.c();
      attr(span, "class", "detail svelte-o4urkb");
    },
    m(target, anchor) {
      insert(target, span, anchor);
      if (detail_slot_or_fallback) {
        detail_slot_or_fallback.m(span, null);
      }
      current = true;
    },
    p(ctx2, dirty) {
      if (detail_slot) {
        if (detail_slot.p && (!current || dirty[0] & 33554432)) {
          update_slot_base(detail_slot, detail_slot_template, ctx2, ctx2[25], !current ? get_all_dirty_from_scope(ctx2[25]) : get_slot_changes(detail_slot_template, ctx2[25], dirty, get_detail_slot_changes), get_detail_slot_context);
        }
      } else {
        if (detail_slot_or_fallback && detail_slot_or_fallback.p && (!current || dirty[0] & 100)) {
          detail_slot_or_fallback.p(ctx2, !current ? [-1, -1] : dirty);
        }
      }
    },
    i(local) {
      if (current)
        return;
      transition_in(detail_slot_or_fallback, local);
      current = true;
    },
    o(local) {
      transition_out(detail_slot_or_fallback, local);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(span);
      if (detail_slot_or_fallback)
        detail_slot_or_fallback.d(detaching);
    }
  };
}
function fallback_block_1$1(ctx) {
  let t0;
  let t1_value = (ctx[5] || ctx[2]) + "";
  let t1;
  return {
    c() {
      t0 = text(ctx[6]);
      t1 = text(t1_value);
    },
    m(target, anchor) {
      insert(target, t0, anchor);
      insert(target, t1, anchor);
    },
    p(ctx2, dirty) {
      if (dirty[0] & 64)
        set_data(t0, ctx2[6]);
      if (dirty[0] & 36 && t1_value !== (t1_value = (ctx2[5] || ctx2[2]) + ""))
        set_data(t1, t1_value);
    },
    d(detaching) {
      if (detaching)
        detach(t0);
      if (detaching)
        detach(t1);
    }
  };
}
function create_if_block_3$3(ctx) {
  let div;
  let span;
  let promise2;
  let t;
  let if_block_anchor;
  let info = {
    ctx,
    current: null,
    token: null,
    hasCatch: false,
    pending: create_pending_block_1$1,
    then: create_then_block_1$1,
    catch: create_catch_block_1$1,
    value: 33
  };
  handle_promise(promise2 = ctx[16](ctx[0]), info);
  let if_block = ctx[1] && create_if_block_4$3(ctx);
  return {
    c() {
      div = element("div");
      span = element("span");
      info.block.c();
      t = space();
      if (if_block)
        if_block.c();
      if_block_anchor = empty();
      attr(span, "class", "number svelte-o4urkb");
      attr(div, "class", "amount svelte-o4urkb");
    },
    m(target, anchor) {
      insert(target, div, anchor);
      append(div, span);
      info.block.m(span, info.anchor = null);
      info.mount = () => span;
      info.anchor = null;
      insert(target, t, anchor);
      if (if_block)
        if_block.m(target, anchor);
      insert(target, if_block_anchor, anchor);
    },
    p(new_ctx, dirty) {
      ctx = new_ctx;
      info.ctx = ctx;
      if (dirty[0] & 1 && promise2 !== (promise2 = ctx[16](ctx[0])) && handle_promise(promise2, info))
        ;
      else {
        update_await_block_branch(info, ctx, dirty);
      }
      if (ctx[1]) {
        if (if_block) {
          if_block.p(ctx, dirty);
        } else {
          if_block = create_if_block_4$3(ctx);
          if_block.c();
          if_block.m(if_block_anchor.parentNode, if_block_anchor);
        }
      } else if (if_block) {
        if_block.d(1);
        if_block = null;
      }
    },
    i: noop$1,
    o: noop$1,
    d(detaching) {
      if (detaching)
        detach(div);
      info.block.d();
      info.token = null;
      info = null;
      if (detaching)
        detach(t);
      if (if_block)
        if_block.d(detaching);
      if (detaching)
        detach(if_block_anchor);
    }
  };
}
function create_if_block_2$5(ctx) {
  let current;
  const status_slot_template = ctx[26].status;
  const status_slot = create_slot(status_slot_template, ctx, ctx[25], get_status_slot_context);
  return {
    c() {
      if (status_slot)
        status_slot.c();
    },
    m(target, anchor) {
      if (status_slot) {
        status_slot.m(target, anchor);
      }
      current = true;
    },
    p(ctx2, dirty) {
      if (status_slot) {
        if (status_slot.p && (!current || dirty[0] & 33554432)) {
          update_slot_base(status_slot, status_slot_template, ctx2, ctx2[25], !current ? get_all_dirty_from_scope(ctx2[25]) : get_slot_changes(status_slot_template, ctx2[25], dirty, get_status_slot_changes), get_status_slot_context);
        }
      }
    },
    i(local) {
      if (current)
        return;
      transition_in(status_slot, local);
      current = true;
    },
    o(local) {
      transition_out(status_slot, local);
      current = false;
    },
    d(detaching) {
      if (status_slot)
        status_slot.d(detaching);
    }
  };
}
function create_catch_block_1$1(ctx) {
  return { c: noop$1, m: noop$1, p: noop$1, d: noop$1 };
}
function create_then_block_1$1(ctx) {
  let span;
  let t;
  return {
    c() {
      span = element("span");
      t = text(ctx[0]);
    },
    m(target, anchor) {
      insert(target, span, anchor);
      append(span, t);
    },
    p(ctx2, dirty) {
      if (dirty[0] & 1)
        set_data(t, ctx2[0]);
    },
    d(detaching) {
      if (detaching)
        detach(span);
    }
  };
}
function create_pending_block_1$1(ctx) {
  let span;
  let t;
  return {
    c() {
      span = element("span");
      t = text(ctx[9]);
      attr(span, "class", "font-family_mono svelte-o4urkb");
    },
    m(target, anchor) {
      insert(target, span, anchor);
      append(span, t);
    },
    p(ctx2, dirty) {
      if (dirty[0] & 512)
        set_data(t, ctx2[9]);
    },
    d(detaching) {
      if (detaching)
        detach(span);
    }
  };
}
function create_if_block_4$3(ctx) {
  let div;
  let span;
  let promise2;
  let info = {
    ctx,
    current: null,
    token: null,
    hasCatch: false,
    pending: create_pending_block$2,
    then: create_then_block$2,
    catch: create_catch_block$2,
    value: 32
  };
  handle_promise(promise2 = ctx[1], info);
  return {
    c() {
      div = element("div");
      span = element("span");
      info.block.c();
      attr(span, "class", "fiat svelte-o4urkb");
    },
    m(target, anchor) {
      insert(target, div, anchor);
      append(div, span);
      info.block.m(span, info.anchor = null);
      info.mount = () => span;
      info.anchor = null;
    },
    p(new_ctx, dirty) {
      ctx = new_ctx;
      info.ctx = ctx;
      if (dirty[0] & 2 && promise2 !== (promise2 = ctx[1]) && handle_promise(promise2, info))
        ;
      else {
        update_await_block_branch(info, ctx, dirty);
      }
    },
    d(detaching) {
      if (detaching)
        detach(div);
      info.block.d();
      info.token = null;
      info = null;
    }
  };
}
function create_catch_block$2(ctx) {
  return { c: noop$1, m: noop$1, p: noop$1, d: noop$1 };
}
function create_then_block$2(ctx) {
  let t_value = ctx[32] + "";
  let t;
  return {
    c() {
      t = text(t_value);
    },
    m(target, anchor) {
      insert(target, t, anchor);
    },
    p(ctx2, dirty) {
      if (dirty[0] & 2 && t_value !== (t_value = ctx2[32] + ""))
        set_data(t, t_value);
    },
    d(detaching) {
      if (detaching)
        detach(t);
    }
  };
}
function create_pending_block$2(ctx) {
  let t;
  return {
    c() {
      t = text("$...");
    },
    m(target, anchor) {
      insert(target, t, anchor);
    },
    p: noop$1,
    d(detaching) {
      if (detaching)
        detach(t);
    }
  };
}
function create_if_block_1$6(ctx) {
  let current;
  const right_slot_template = ctx[26].right;
  const right_slot = create_slot(right_slot_template, ctx, ctx[25], get_right_slot_context);
  return {
    c() {
      if (right_slot)
        right_slot.c();
    },
    m(target, anchor) {
      if (right_slot) {
        right_slot.m(target, anchor);
      }
      current = true;
    },
    p(ctx2, dirty) {
      if (right_slot) {
        if (right_slot.p && (!current || dirty[0] & 33554432)) {
          update_slot_base(right_slot, right_slot_template, ctx2, ctx2[25], !current ? get_all_dirty_from_scope(ctx2[25]) : get_slot_changes(right_slot_template, ctx2[25], dirty, get_right_slot_changes), get_right_slot_context);
        }
      }
    },
    i(local) {
      if (current)
        return;
      transition_in(right_slot, local);
      current = true;
    },
    o(local) {
      transition_out(right_slot, local);
      current = false;
    },
    d(detaching) {
      if (right_slot)
        right_slot.d(detaching);
    }
  };
}
function create_if_block$b(ctx) {
  let current;
  const tags_slot_template = ctx[26].tags;
  const tags_slot = create_slot(tags_slot_template, ctx, ctx[25], get_tags_slot_context);
  return {
    c() {
      if (tags_slot)
        tags_slot.c();
    },
    m(target, anchor) {
      if (tags_slot) {
        tags_slot.m(target, anchor);
      }
      current = true;
    },
    p(ctx2, dirty) {
      if (tags_slot) {
        if (tags_slot.p && (!current || dirty[0] & 33554432)) {
          update_slot_base(tags_slot, tags_slot_template, ctx2, ctx2[25], !current ? get_all_dirty_from_scope(ctx2[25]) : get_slot_changes(tags_slot_template, ctx2[25], dirty, get_tags_slot_changes), get_tags_slot_context);
        }
      }
    },
    i(local) {
      if (current)
        return;
      transition_in(tags_slot, local);
      current = true;
    },
    o(local) {
      transition_out(tags_slot, local);
      current = false;
    },
    d(detaching) {
      if (tags_slot)
        tags_slot.d(detaching);
    }
  };
}
function create_fragment$i(ctx) {
  let div3;
  let div1;
  let span0;
  let span0_class_value;
  let t0;
  let span5;
  let span3;
  let div0;
  let span2;
  let span1;
  let t1;
  let t2;
  let t3;
  let t4;
  let t5;
  let span4;
  let current_block_type_index;
  let if_block3;
  let t6;
  let t7;
  let div2;
  let current;
  let mounted;
  let dispose;
  const icon_slot_template = ctx[26].icon;
  const icon_slot = create_slot(icon_slot_template, ctx, ctx[25], get_icon_slot_context);
  const icon_slot_or_fallback = icon_slot || fallback_block_2(ctx);
  let if_block0 = ctx[11] && create_if_block_9$1(ctx);
  let if_block1 = ctx[3] && create_if_block_8$1();
  let if_block2 = (ctx[4] || ctx[2] || ctx[5] || ctx[15].length || ctx[17].detail) && create_if_block_5$1(ctx);
  const if_block_creators = [create_if_block_2$5, create_if_block_3$3];
  const if_blocks = [];
  function select_block_type_1(ctx2, dirty) {
    if (ctx2[17].status)
      return 0;
    if (ctx2[0])
      return 1;
    return -1;
  }
  if (~(current_block_type_index = select_block_type_1(ctx))) {
    if_block3 = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);
  }
  let if_block4 = ctx[17].right && create_if_block_1$6(ctx);
  let if_block5 = (ctx[15].length || ctx[17].tags) && create_if_block$b(ctx);
  return {
    c() {
      div3 = element("div");
      div1 = element("div");
      span0 = element("span");
      if (icon_slot_or_fallback)
        icon_slot_or_fallback.c();
      t0 = space();
      span5 = element("span");
      span3 = element("span");
      div0 = element("div");
      span2 = element("span");
      span1 = element("span");
      t1 = text(ctx[10]);
      t2 = space();
      if (if_block0)
        if_block0.c();
      t3 = space();
      if (if_block1)
        if_block1.c();
      t4 = space();
      if (if_block2)
        if_block2.c();
      t5 = space();
      span4 = element("span");
      if (if_block3)
        if_block3.c();
      t6 = space();
      if (if_block4)
        if_block4.c();
      t7 = space();
      div2 = element("div");
      if (if_block5)
        if_block5.c();
      attr(span0, "class", span0_class_value = "icon " + ctx[8] + " svelte-o4urkb");
      attr(span1, "class", "text svelte-o4urkb");
      attr(span2, "class", "name svelte-o4urkb");
      attr(div0, "class", "title svelte-o4urkb");
      attr(span3, "class", "main part svelte-o4urkb");
      attr(span4, "class", "status part svelte-o4urkb");
      attr(span5, "class", "content svelte-o4urkb");
      attr(div1, "class", "banner svelte-o4urkb");
      attr(div2, "class", "rest svelte-o4urkb");
      attr(div3, "class", "row " + ctx[14] + " svelte-o4urkb");
      attr(div3, "style", ctx[7]);
    },
    m(target, anchor) {
      insert(target, div3, anchor);
      append(div3, div1);
      append(div1, span0);
      if (icon_slot_or_fallback) {
        icon_slot_or_fallback.m(span0, null);
      }
      append(div1, t0);
      append(div1, span5);
      append(span5, span3);
      append(span3, div0);
      append(div0, span2);
      append(span2, span1);
      append(span1, t1);
      append(span1, t2);
      if (if_block0)
        if_block0.m(span1, null);
      append(div0, t3);
      if (if_block1)
        if_block1.m(div0, null);
      append(span3, t4);
      if (if_block2)
        if_block2.m(span3, null);
      append(span5, t5);
      append(span5, span4);
      if (~current_block_type_index) {
        if_blocks[current_block_type_index].m(span4, null);
      }
      append(div1, t6);
      if (if_block4)
        if_block4.m(div1, null);
      append(div3, t7);
      append(div3, div2);
      if (if_block5)
        if_block5.m(div2, null);
      current = true;
      if (!mounted) {
        dispose = listen(div3, "click", ctx[27]);
        mounted = true;
      }
    },
    p(ctx2, dirty) {
      if (icon_slot) {
        if (icon_slot.p && (!current || dirty[0] & 33554432)) {
          update_slot_base(icon_slot, icon_slot_template, ctx2, ctx2[25], !current ? get_all_dirty_from_scope(ctx2[25]) : get_slot_changes(icon_slot_template, ctx2[25], dirty, get_icon_slot_changes), get_icon_slot_context);
        }
      }
      if (!current || dirty[0] & 256 && span0_class_value !== (span0_class_value = "icon " + ctx2[8] + " svelte-o4urkb")) {
        attr(span0, "class", span0_class_value);
      }
      if (ctx2[11])
        if_block0.p(ctx2, dirty);
      if (ctx2[3]) {
        if (if_block1)
          ;
        else {
          if_block1 = create_if_block_8$1();
          if_block1.c();
          if_block1.m(div0, null);
        }
      } else if (if_block1) {
        if_block1.d(1);
        if_block1 = null;
      }
      if (ctx2[4] || ctx2[2] || ctx2[5] || ctx2[15].length || ctx2[17].detail) {
        if (if_block2) {
          if_block2.p(ctx2, dirty);
          if (dirty[0] & 131124) {
            transition_in(if_block2, 1);
          }
        } else {
          if_block2 = create_if_block_5$1(ctx2);
          if_block2.c();
          transition_in(if_block2, 1);
          if_block2.m(span3, null);
        }
      } else if (if_block2) {
        group_outros();
        transition_out(if_block2, 1, 1, () => {
          if_block2 = null;
        });
        check_outros();
      }
      let previous_block_index = current_block_type_index;
      current_block_type_index = select_block_type_1(ctx2);
      if (current_block_type_index === previous_block_index) {
        if (~current_block_type_index) {
          if_blocks[current_block_type_index].p(ctx2, dirty);
        }
      } else {
        if (if_block3) {
          group_outros();
          transition_out(if_blocks[previous_block_index], 1, 1, () => {
            if_blocks[previous_block_index] = null;
          });
          check_outros();
        }
        if (~current_block_type_index) {
          if_block3 = if_blocks[current_block_type_index];
          if (!if_block3) {
            if_block3 = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx2);
            if_block3.c();
          } else {
            if_block3.p(ctx2, dirty);
          }
          transition_in(if_block3, 1);
          if_block3.m(span4, null);
        } else {
          if_block3 = null;
        }
      }
      if (ctx2[17].right) {
        if (if_block4) {
          if_block4.p(ctx2, dirty);
          if (dirty[0] & 131072) {
            transition_in(if_block4, 1);
          }
        } else {
          if_block4 = create_if_block_1$6(ctx2);
          if_block4.c();
          transition_in(if_block4, 1);
          if_block4.m(div1, null);
        }
      } else if (if_block4) {
        group_outros();
        transition_out(if_block4, 1, 1, () => {
          if_block4 = null;
        });
        check_outros();
      }
      if (ctx2[15].length || ctx2[17].tags) {
        if (if_block5) {
          if_block5.p(ctx2, dirty);
          if (dirty[0] & 131072) {
            transition_in(if_block5, 1);
          }
        } else {
          if_block5 = create_if_block$b(ctx2);
          if_block5.c();
          transition_in(if_block5, 1);
          if_block5.m(div2, null);
        }
      } else if (if_block5) {
        group_outros();
        transition_out(if_block5, 1, 1, () => {
          if_block5 = null;
        });
        check_outros();
      }
      if (!current || dirty[0] & 128) {
        attr(div3, "style", ctx2[7]);
      }
    },
    i(local) {
      if (current)
        return;
      transition_in(icon_slot_or_fallback, local);
      transition_in(if_block2);
      transition_in(if_block3);
      transition_in(if_block4);
      transition_in(if_block5);
      current = true;
    },
    o(local) {
      transition_out(icon_slot_or_fallback, local);
      transition_out(if_block2);
      transition_out(if_block3);
      transition_out(if_block4);
      transition_out(if_block5);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(div3);
      if (icon_slot_or_fallback)
        icon_slot_or_fallback.d(detaching);
      if (if_block0)
        if_block0.d();
      if (if_block1)
        if_block1.d();
      if (if_block2)
        if_block2.d();
      if (~current_block_type_index) {
        if_blocks[current_block_type_index].d();
      }
      if (if_block4)
        if_block4.d();
      if (if_block5)
        if_block5.d();
      mounted = false;
      dispose();
    }
  };
}
function instance$h($$self, $$props, $$invalidate) {
  let $yw_store_tags;
  component_subscribe($$self, yw_store_tags, ($$value) => $$invalidate(28, $yw_store_tags = $$value));
  let { $$slots: slots = {}, $$scope } = $$props;
  const $$slots = compute_slots(slots);
  let { resourcePath = "" } = $$props;
  const p_resource = resourcePath;
  let { resource = null } = $$props;
  const g_resource = resource;
  let { name = g_resource?.name } = $$props;
  const s_name = name;
  let { postname = "" } = $$props;
  const s_postname = postname;
  let { pfp = g_resource?.pfp } = $$props;
  const p_pfp = pfp;
  let { pfpDim = 48 } = $$props;
  const x_dim_pfp = pfpDim;
  let { amount = "" } = $$props;
  let { fiat = "" } = $$props;
  let { symbol = "" } = $$props;
  let { lockIcon = false } = $$props;
  let { address = "" } = $$props;
  let { detail = "" } = $$props;
  let { prefix = "" } = $$props;
  let { rootStyle = "" } = $$props;
  let { rootClasses = "" } = $$props;
  const s_classes = rootClasses;
  let { iconClass = "" } = $$props;
  const a_tags2 = $yw_store_tags?.getTagsFor(p_resource) || [];
  const as_intervals = /* @__PURE__ */ new Set();
  onDestroy(() => {
    for (const i_interval of as_intervals) {
      clearInterval(i_interval);
    }
  });
  let s_spin = "";
  async function start_spinner(dp_thing) {
    const A_SPIN = ["\u25DC \u25DD", " \u02C9\u25DE", " \u02CD\u25DD", "\u25DF \u25DE", "\u25DC\u02CD ", "\u25DF\u02C9 "];
    let i_spin = 0;
    $$invalidate(9, s_spin = A_SPIN[0]);
    if (dp_thing instanceof Promise) {
      const i_interval = window.setInterval(() => {
        i_spin = (i_spin + 1) % A_SPIN.length;
        $$invalidate(9, s_spin = A_SPIN[i_spin]);
      }, 125);
      as_intervals.add(i_interval);
      const w_value = await dp_thing;
      clearInterval(i_interval);
      return w_value;
    }
    return dp_thing;
  }
  function click_handler2(event) {
    bubble.call(this, $$self, event);
  }
  $$self.$$set = ($$props2) => {
    if ("resourcePath" in $$props2)
      $$invalidate(18, resourcePath = $$props2.resourcePath);
    if ("resource" in $$props2)
      $$invalidate(19, resource = $$props2.resource);
    if ("name" in $$props2)
      $$invalidate(20, name = $$props2.name);
    if ("postname" in $$props2)
      $$invalidate(21, postname = $$props2.postname);
    if ("pfp" in $$props2)
      $$invalidate(22, pfp = $$props2.pfp);
    if ("pfpDim" in $$props2)
      $$invalidate(23, pfpDim = $$props2.pfpDim);
    if ("amount" in $$props2)
      $$invalidate(0, amount = $$props2.amount);
    if ("fiat" in $$props2)
      $$invalidate(1, fiat = $$props2.fiat);
    if ("symbol" in $$props2)
      $$invalidate(2, symbol = $$props2.symbol);
    if ("lockIcon" in $$props2)
      $$invalidate(3, lockIcon = $$props2.lockIcon);
    if ("address" in $$props2)
      $$invalidate(4, address = $$props2.address);
    if ("detail" in $$props2)
      $$invalidate(5, detail = $$props2.detail);
    if ("prefix" in $$props2)
      $$invalidate(6, prefix = $$props2.prefix);
    if ("rootStyle" in $$props2)
      $$invalidate(7, rootStyle = $$props2.rootStyle);
    if ("rootClasses" in $$props2)
      $$invalidate(24, rootClasses = $$props2.rootClasses);
    if ("iconClass" in $$props2)
      $$invalidate(8, iconClass = $$props2.iconClass);
    if ("$$scope" in $$props2)
      $$invalidate(25, $$scope = $$props2.$$scope);
  };
  return [
    amount,
    fiat,
    symbol,
    lockIcon,
    address,
    detail,
    prefix,
    rootStyle,
    iconClass,
    s_spin,
    s_name,
    s_postname,
    p_pfp,
    x_dim_pfp,
    s_classes,
    a_tags2,
    start_spinner,
    $$slots,
    resourcePath,
    resource,
    name,
    postname,
    pfp,
    pfpDim,
    rootClasses,
    $$scope,
    slots,
    click_handler2
  ];
}
class Row extends SvelteComponent {
  constructor(options) {
    super();
    init(this, options, instance$h, create_fragment$i, safe_not_equal, {
      resourcePath: 18,
      resource: 19,
      name: 20,
      postname: 21,
      pfp: 22,
      pfpDim: 23,
      amount: 0,
      fiat: 1,
      symbol: 2,
      lockIcon: 3,
      address: 4,
      detail: 5,
      prefix: 6,
      rootStyle: 7,
      rootClasses: 24,
      iconClass: 8
    }, null, [-1, -1]);
  }
}
var Header_svelte_svelte_type_style_lang = /* @__PURE__ */ (() => ".header.svelte-1fcz7ql.svelte-1fcz7ql.svelte-1fcz7ql.svelte-1fcz7ql{display:flex;flex-direction:column;gap:16px}.header.svelte-1fcz7ql>.svelte-1fcz7ql.svelte-1fcz7ql.svelte-1fcz7ql:not(.top){transition:blur 400ms var(--ease-out-cubic)}.top.svelte-1fcz7ql.svelte-1fcz7ql.svelte-1fcz7ql.svelte-1fcz7ql{display:flex;align-items:center;justify-content:space-between}.top.svelte-1fcz7ql>.back.svelte-1fcz7ql.svelte-1fcz7ql.svelte-1fcz7ql{flex:1;color:var(--theme-color-primary);cursor:pointer;max-width:24px;margin-right:20px}.top.svelte-1fcz7ql>.main.svelte-1fcz7ql.svelte-1fcz7ql.svelte-1fcz7ql{flex:3;cursor:default;margin-right:1em;min-width:25%}.top.svelte-1fcz7ql>.main.svelte-1fcz7ql>.title.svelte-1fcz7ql.svelte-1fcz7ql{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.top.svelte-1fcz7ql>.main.svelte-1fcz7ql>.title.svelte-1fcz7ql>.name.svelte-1fcz7ql{font-weight:500;color:var(--theme-color-text-light)}.top.svelte-1fcz7ql>.main.svelte-1fcz7ql>.title.svelte-1fcz7ql>.symbol.svelte-1fcz7ql{font-weight:400;color:var(--theme-color-text-med)}.top.svelte-1fcz7ql>.main.svelte-1fcz7ql>.subtitle.svelte-1fcz7ql.svelte-1fcz7ql{font-size:12px;font-weight:500;color:var(--theme-color-text-med);white-space:nowrap}.top.svelte-1fcz7ql>.right.svelte-1fcz7ql.svelte-1fcz7ql.svelte-1fcz7ql{flex:5;display:flex;max-width:max-content;align-items:center;gap:1em}.top.svelte-1fcz7ql>.right.heightless.svelte-1fcz7ql.svelte-1fcz7ql.svelte-1fcz7ql{height:0}.top.svelte-1fcz7ql>.right.svelte-1fcz7ql>.cluster.svelte-1fcz7ql.svelte-1fcz7ql{display:inline-flex}.top.svelte-1fcz7ql>.right.svelte-1fcz7ql>.cluster.svelte-1fcz7ql>.svelte-1fcz7ql{display:inline-flex}.top.svelte-1fcz7ql>.right.svelte-1fcz7ql>.cluster.svelte-1fcz7ql>.svelte-1fcz7ql:nth-child(n+1){margin-left:-2px}.search.svelte-1fcz7ql.svelte-1fcz7ql.svelte-1fcz7ql.svelte-1fcz7ql{font-weight:400;position:relative}.search.svelte-1fcz7ql>.action.svelte-1fcz7ql.svelte-1fcz7ql.svelte-1fcz7ql{--icon-diameter:20px;width:var(--icon-diameter);height:var(--icon-diameter);fill:var(--theme-color-text-light);position:absolute;right:12px;top:calc(50% - (var(--icon-diameter) / 2))}.search > .action > svg{width:100%;height:100%}")();
var SubHeader_svelte_svelte_type_style_lang = /* @__PURE__ */ (() => ".title.svelte-44hl34.svelte-44hl34.svelte-44hl34{display:flex;align-items:center;justify-content:space-between}.title.svelte-44hl34>.right.svelte-44hl34.svelte-44hl34{display:flex;gap:8px}.title.svelte-44hl34 .pill.svelte-44hl34>.icon.svelte-44hl34{--icon-diameter:8px;--icon-color:var(--theme-color-primary)}")();
function get_each_context$7(ctx, list, i) {
  const child_ctx = ctx.slice();
  child_ctx[10] = list[i];
  return child_ctx;
}
function create_each_block$7(ctx) {
  let button;
  let span;
  let t_value = ctx[10] + "";
  let t;
  let mounted;
  let dispose;
  function click_handler2() {
    return ctx[7](ctx[10]);
  }
  return {
    c() {
      button = element("button");
      span = element("span");
      t = text(t_value);
      attr(span, "class", "text");
      attr(button, "class", "pill");
    },
    m(target, anchor) {
      insert(target, button, anchor);
      append(button, span);
      append(span, t);
      if (!mounted) {
        dispose = listen(button, "click", click_handler2);
        mounted = true;
      }
    },
    p(new_ctx, dirty) {
      ctx = new_ctx;
      if (dirty & 2 && t_value !== (t_value = ctx[10] + ""))
        set_data(t, t_value);
    },
    d(detaching) {
      if (detaching)
        detach(button);
      mounted = false;
      dispose();
    }
  };
}
function create_if_block_1$5(ctx) {
  let button;
  let span0;
  let t0;
  let span1;
  let mounted;
  let dispose;
  return {
    c() {
      button = element("button");
      span0 = element("span");
      t0 = space();
      span1 = element("span");
      span1.textContent = "Add New";
      attr(span0, "class", "icon svelte-44hl34");
      attr(span1, "class", "text");
      attr(button, "class", "pill svelte-44hl34");
    },
    m(target, anchor) {
      insert(target, button, anchor);
      append(button, span0);
      span0.innerHTML = SX_ICON_ADD$1;
      append(button, t0);
      append(button, span1);
      if (!mounted) {
        dispose = listen(button, "click", ctx[8]);
        mounted = true;
      }
    },
    p: noop$1,
    d(detaching) {
      if (detaching)
        detach(button);
      mounted = false;
      dispose();
    }
  };
}
function create_if_block$a(ctx) {
  let close;
  let current;
  close = new Close({});
  close.$on("click", ctx[9]);
  return {
    c() {
      create_component(close.$$.fragment);
    },
    m(target, anchor) {
      mount_component(close, target, anchor);
      current = true;
    },
    p: noop$1,
    i(local) {
      if (current)
        return;
      transition_in(close.$$.fragment, local);
      current = true;
    },
    o(local) {
      transition_out(close.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      destroy_component(close, detaching);
    }
  };
}
function create_fragment$h(ctx) {
  let div;
  let span0;
  let t0;
  let t1;
  let span1;
  let t2;
  let t3;
  let current;
  let each_value = ctx[1];
  let each_blocks = [];
  for (let i = 0; i < each_value.length; i += 1) {
    each_blocks[i] = create_each_block$7(get_each_context$7(ctx, each_value, i));
  }
  let if_block0 = !ctx[2] && create_if_block_1$5(ctx);
  let if_block1 = ctx[4] && create_if_block$a(ctx);
  return {
    c() {
      div = element("div");
      span0 = element("span");
      t0 = text(ctx[0]);
      t1 = space();
      span1 = element("span");
      for (let i = 0; i < each_blocks.length; i += 1) {
        each_blocks[i].c();
      }
      t2 = space();
      if (if_block0)
        if_block0.c();
      t3 = space();
      if (if_block1)
        if_block1.c();
      attr(span0, "class", "text");
      attr(span1, "class", "right svelte-44hl34");
      attr(div, "class", "title svelte-44hl34");
    },
    m(target, anchor) {
      insert(target, div, anchor);
      append(div, span0);
      append(span0, t0);
      append(div, t1);
      append(div, span1);
      for (let i = 0; i < each_blocks.length; i += 1) {
        each_blocks[i].m(span1, null);
      }
      append(span1, t2);
      if (if_block0)
        if_block0.m(span1, null);
      append(span1, t3);
      if (if_block1)
        if_block1.m(span1, null);
      current = true;
    },
    p(ctx2, [dirty]) {
      if (!current || dirty & 1)
        set_data(t0, ctx2[0]);
      if (dirty & 34) {
        each_value = ctx2[1];
        let i;
        for (i = 0; i < each_value.length; i += 1) {
          const child_ctx = get_each_context$7(ctx2, each_value, i);
          if (each_blocks[i]) {
            each_blocks[i].p(child_ctx, dirty);
          } else {
            each_blocks[i] = create_each_block$7(child_ctx);
            each_blocks[i].c();
            each_blocks[i].m(span1, t2);
          }
        }
        for (; i < each_blocks.length; i += 1) {
          each_blocks[i].d(1);
        }
        each_blocks.length = each_value.length;
      }
      if (!ctx2[2]) {
        if (if_block0) {
          if_block0.p(ctx2, dirty);
        } else {
          if_block0 = create_if_block_1$5(ctx2);
          if_block0.c();
          if_block0.m(span1, t3);
        }
      } else if (if_block0) {
        if_block0.d(1);
        if_block0 = null;
      }
      if (ctx2[4])
        if_block1.p(ctx2, dirty);
    },
    i(local) {
      if (current)
        return;
      transition_in(if_block1);
      current = true;
    },
    o(local) {
      transition_out(if_block1);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(div);
      destroy_each(each_blocks, detaching);
      if (if_block0)
        if_block0.d();
      if (if_block1)
        if_block1.d();
    }
  };
}
function instance$g($$self, $$props, $$invalidate) {
  let $yw_popup;
  component_subscribe($$self, yw_popup, ($$value) => $$invalidate(3, $yw_popup = $$value));
  let { title } = $$props;
  let { buttons = [] } = $$props;
  let { bare = false } = $$props;
  let { closes = false } = $$props;
  const b_closes = closes;
  const dispatch2 = createEventDispatcher();
  const click_handler2 = (s_button) => dispatch2(s_button.toLowerCase().replace(/\s/g, "_"));
  const click_handler_1 = () => dispatch2("add_new");
  const click_handler_2 = () => set_store_value(yw_popup, $yw_popup = null, $yw_popup);
  $$self.$$set = ($$props2) => {
    if ("title" in $$props2)
      $$invalidate(0, title = $$props2.title);
    if ("buttons" in $$props2)
      $$invalidate(1, buttons = $$props2.buttons);
    if ("bare" in $$props2)
      $$invalidate(2, bare = $$props2.bare);
    if ("closes" in $$props2)
      $$invalidate(6, closes = $$props2.closes);
  };
  return [
    title,
    buttons,
    bare,
    $yw_popup,
    b_closes,
    dispatch2,
    closes,
    click_handler2,
    click_handler_1,
    click_handler_2
  ];
}
class SubHeader extends SvelteComponent {
  constructor(options) {
    super();
    init(this, options, instance$g, create_fragment$h, safe_not_equal, { title: 0, buttons: 1, bare: 2, closes: 6 });
  }
}
function cubicOut(t) {
  const f = t - 1;
  return f * f * f + 1;
}
function quintOut(t) {
  return --t * t * t * t * t + 1;
}
function slide(node, { delay = 0, duration = 400, easing = cubicOut } = {}) {
  const style = getComputedStyle(node);
  const opacity = +style.opacity;
  const height = parseFloat(style.height);
  const padding_top = parseFloat(style.paddingTop);
  const padding_bottom = parseFloat(style.paddingBottom);
  const margin_top = parseFloat(style.marginTop);
  const margin_bottom = parseFloat(style.marginBottom);
  const border_top_width = parseFloat(style.borderTopWidth);
  const border_bottom_width = parseFloat(style.borderBottomWidth);
  return {
    delay,
    duration,
    easing,
    css: (t) => `overflow: hidden;opacity: ${Math.min(t * 20, 1) * opacity};height: ${t * height}px;padding-top: ${t * padding_top}px;padding-bottom: ${t * padding_bottom}px;margin-top: ${t * margin_top}px;margin-bottom: ${t * margin_bottom}px;border-top-width: ${t * border_top_width}px;border-bottom-width: ${t * border_bottom_width}px;`
  };
}
var Field_svelte_svelte_type_style_lang = /* @__PURE__ */ (() => ".field.svelte-yry0w8.svelte-yry0w8{align-items:center}.field.svelte-yry0w8 .field-name.svelte-yry0w8{margin-bottom:10px;color:var(--theme-color-text-med);font-size:13px;font-weight:300}.field.svelte-yry0w8 .field-value.svelte-yry0w8{font-family:Poppins;font-weight:400;font-size:14px;color:var(--theme-color-text-light)}.field.short.svelte-yry0w8.svelte-yry0w8{display:flex}.field.short.svelte-yry0w8>.field-name.svelte-yry0w8{flex:1;margin-bottom:0}.field.short.svelte-yry0w8>.field-value.svelte-yry0w8{flex:3;width:0}")();
const get_post_slot_changes = (dirty) => ({});
const get_post_slot_context = (ctx) => ({});
function create_fragment$g(ctx) {
  let div2;
  let div0;
  let label;
  let t0;
  let div0_transition;
  let t1;
  let div1;
  let div1_transition;
  let t2;
  let div2_id_value;
  let current;
  const default_slot_template = ctx[6].default;
  const default_slot = create_slot(default_slot_template, ctx, ctx[5], null);
  const post_slot_template = ctx[6].post;
  const post_slot = create_slot(post_slot_template, ctx, ctx[5], get_post_slot_context);
  return {
    c() {
      div2 = element("div");
      div0 = element("div");
      label = element("label");
      t0 = text(ctx[0]);
      t1 = space();
      div1 = element("div");
      if (default_slot)
        default_slot.c();
      t2 = space();
      if (post_slot)
        post_slot.c();
      attr(label, "for", ctx[1]);
      attr(div0, "class", "field-name svelte-yry0w8");
      attr(div1, "class", "field-value svelte-yry0w8");
      attr(div2, "class", "field svelte-yry0w8");
      attr(div2, "id", div2_id_value = "field-" + ctx[1]);
      toggle_class(div2, "short", ctx[2]);
      toggle_class(div2, "double", ctx[4]);
    },
    m(target, anchor) {
      insert(target, div2, anchor);
      append(div2, div0);
      append(div0, label);
      append(label, t0);
      append(div2, t1);
      append(div2, div1);
      if (default_slot) {
        default_slot.m(div1, null);
      }
      append(div2, t2);
      if (post_slot) {
        post_slot.m(div2, null);
      }
      current = true;
    },
    p(new_ctx, [dirty]) {
      ctx = new_ctx;
      if (!current || dirty & 1)
        set_data(t0, ctx[0]);
      if (!current || dirty & 2) {
        attr(label, "for", ctx[1]);
      }
      if (default_slot) {
        if (default_slot.p && (!current || dirty & 32)) {
          update_slot_base(default_slot, default_slot_template, ctx, ctx[5], !current ? get_all_dirty_from_scope(ctx[5]) : get_slot_changes(default_slot_template, ctx[5], dirty, null), null);
        }
      }
      if (post_slot) {
        if (post_slot.p && (!current || dirty & 32)) {
          update_slot_base(post_slot, post_slot_template, ctx, ctx[5], !current ? get_all_dirty_from_scope(ctx[5]) : get_slot_changes(post_slot_template, ctx[5], dirty, get_post_slot_changes), get_post_slot_context);
        }
      }
      if (!current || dirty & 2 && div2_id_value !== (div2_id_value = "field-" + ctx[1])) {
        attr(div2, "id", div2_id_value);
      }
      if (dirty & 4) {
        toggle_class(div2, "short", ctx[2]);
      }
      if (dirty & 16) {
        toggle_class(div2, "double", ctx[4]);
      }
    },
    i(local) {
      if (current)
        return;
      add_render_callback(() => {
        if (!div0_transition)
          div0_transition = create_bidirectional_transition(div0, slide, { duration: ctx[3] ? 350 : 0 }, true);
        div0_transition.run(1);
      });
      transition_in(default_slot, local);
      add_render_callback(() => {
        if (!div1_transition)
          div1_transition = create_bidirectional_transition(div1, slide, { duration: ctx[3] ? 350 : 0 }, true);
        div1_transition.run(1);
      });
      transition_in(post_slot, local);
      current = true;
    },
    o(local) {
      if (!div0_transition)
        div0_transition = create_bidirectional_transition(div0, slide, { duration: ctx[3] ? 350 : 0 }, false);
      div0_transition.run(0);
      transition_out(default_slot, local);
      if (!div1_transition)
        div1_transition = create_bidirectional_transition(div1, slide, { duration: ctx[3] ? 350 : 0 }, false);
      div1_transition.run(0);
      transition_out(post_slot, local);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(div2);
      if (detaching && div0_transition)
        div0_transition.end();
      if (default_slot)
        default_slot.d(detaching);
      if (detaching && div1_transition)
        div1_transition.end();
      if (post_slot)
        post_slot.d(detaching);
    }
  };
}
function instance$f($$self, $$props, $$invalidate) {
  let { $$slots: slots = {}, $$scope } = $$props;
  let { name = "" } = $$props;
  let { key } = $$props;
  let { short = false } = $$props;
  let { slides = false } = $$props;
  let { double = false } = $$props;
  $$self.$$set = ($$props2) => {
    if ("name" in $$props2)
      $$invalidate(0, name = $$props2.name);
    if ("key" in $$props2)
      $$invalidate(1, key = $$props2.key);
    if ("short" in $$props2)
      $$invalidate(2, short = $$props2.short);
    if ("slides" in $$props2)
      $$invalidate(3, slides = $$props2.slides);
    if ("double" in $$props2)
      $$invalidate(4, double = $$props2.double);
    if ("$$scope" in $$props2)
      $$invalidate(5, $$scope = $$props2.$$scope);
  };
  return [name, key, short, slides, double, $$scope, slots];
}
class Field extends SvelteComponent {
  constructor(options) {
    super();
    init(this, options, instance$f, create_fragment$g, safe_not_equal, {
      name: 0,
      key: 1,
      short: 2,
      slides: 3,
      double: 4
    });
  }
}
var Log_svelte_svelte_type_style_lang = /* @__PURE__ */ (() => ".log-container.svelte-13jddbg{font-family:'PT Mono', monospace}")();
var ActionsLine_svelte_svelte_type_style_lang = /* @__PURE__ */ (() => "div.actions-line.svelte-11kqquk.svelte-11kqquk{display:flex;flex-direction:row;justify-content:space-evenly;gap:var(--ui-padding);padding-bottom:var(--ui-padding);align-items:flex-end;flex:auto;text-align:center}div.actions-line.svelte-11kqquk>button.svelte-11kqquk{flex:1}")();
function create_if_block$9(ctx) {
  let button;
  let t_value = ctx[5] ? "Cancel" : "Back";
  let t;
  let button_disabled_value;
  let mounted;
  let dispose;
  return {
    c() {
      button = element("button");
      t = text(t_value);
      button.disabled = button_disabled_value = ctx[0] || ctx[2];
      attr(button, "class", "svelte-11kqquk");
    },
    m(target, anchor) {
      insert(target, button, anchor);
      append(button, t);
      if (!mounted) {
        dispose = listen(button, "click", ctx[15]);
        mounted = true;
      }
    },
    p(ctx2, dirty) {
      if (dirty & 5 && button_disabled_value !== (button_disabled_value = ctx2[0] || ctx2[2])) {
        button.disabled = button_disabled_value;
      }
    },
    d(detaching) {
      if (detaching)
        detach(button);
      mounted = false;
      dispose();
    }
  };
}
function create_fragment$f(ctx) {
  let div;
  let t0;
  let button;
  let t1;
  let button_disabled_value;
  let mounted;
  let dispose;
  let if_block = (ctx[5] || ctx[6]) && create_if_block$9(ctx);
  return {
    c() {
      div = element("div");
      if (if_block)
        if_block.c();
      t0 = space();
      button = element("button");
      t1 = text(ctx[4]);
      button.disabled = button_disabled_value = ctx[3] || ctx[0] || ctx[1] || ctx[2];
      attr(button, "class", "primary svelte-11kqquk");
      attr(div, "class", "actions-line svelte-11kqquk");
    },
    m(target, anchor) {
      insert(target, div, anchor);
      if (if_block)
        if_block.m(div, null);
      append(div, t0);
      append(div, button);
      append(button, t1);
      if (!mounted) {
        dispose = listen(button, "click", ctx[16]);
        mounted = true;
      }
    },
    p(ctx2, [dirty]) {
      if (ctx2[5] || ctx2[6])
        if_block.p(ctx2, dirty);
      if (dirty & 16)
        set_data(t1, ctx2[4]);
      if (dirty & 15 && button_disabled_value !== (button_disabled_value = ctx2[3] || ctx2[0] || ctx2[1] || ctx2[2])) {
        button.disabled = button_disabled_value;
      }
    },
    i: noop$1,
    o: noop$1,
    d(detaching) {
      if (detaching)
        detach(div);
      if (if_block)
        if_block.d();
      mounted = false;
      dispose();
    }
  };
}
function instance$e($$self, $$props, $$invalidate) {
  let s_confirm_final;
  let b_disabled;
  let { cancel = false } = $$props;
  const b_cancel = !!cancel;
  const f_cancel = typeof cancel === "function" ? cancel : F_NOOP;
  let { back = false } = $$props;
  const b_back = back;
  let { confirm = ["Done", F_NOOP, false] } = $$props;
  const [s_confirm, f_confirm] = confirm;
  let s_confirm_append = "";
  let { wait: wait2 = 0 } = $$props;
  const xt_wait = wait2 === true ? 5e3 : wait2 || 0;
  let b_waiting = xt_wait > 0;
  if (b_waiting) {
    let n_seconds = Math.round(xt_wait / 1e3);
    s_confirm_append = ` (${n_seconds}s)`;
    const i_interval = setInterval(() => {
      n_seconds -= 1;
      $$invalidate(14, s_confirm_append = ` (${n_seconds}s)`);
    }, 1e3);
    setTimeout(() => {
      $$invalidate(1, b_waiting = false);
      $$invalidate(14, s_confirm_append = "");
      clearInterval(i_interval);
    }, xt_wait);
  }
  let b_busy = false;
  let { disabled = false } = $$props;
  let { contd = null } = $$props;
  const f_continue = contd ? () => k_page.push(contd) : null;
  const k_page = getContext("page");
  function cancel_action() {
    if (b_cancel && f_cancel) {
      f_cancel();
    }
    if (b_back || cancel === "pop") {
      k_page.pop();
    }
  }
  async function confirm_action() {
    let b_continue = true;
    $$invalidate(2, b_busy = true);
    try {
      await (f_confirm || F_NOOP)();
    } catch (e_confirm) {
      b_continue = false;
    }
    $$invalidate(2, b_busy = false);
    if (f_continue && b_continue) {
      f_continue();
    }
  }
  const click_handler2 = () => cancel_action();
  const click_handler_1 = () => confirm_action();
  $$self.$$set = ($$props2) => {
    if ("cancel" in $$props2)
      $$invalidate(9, cancel = $$props2.cancel);
    if ("back" in $$props2)
      $$invalidate(10, back = $$props2.back);
    if ("confirm" in $$props2)
      $$invalidate(11, confirm = $$props2.confirm);
    if ("wait" in $$props2)
      $$invalidate(12, wait2 = $$props2.wait);
    if ("disabled" in $$props2)
      $$invalidate(0, disabled = $$props2.disabled);
    if ("contd" in $$props2)
      $$invalidate(13, contd = $$props2.contd);
  };
  $$self.$$.update = () => {
    if ($$self.$$.dirty & 16384) {
      $$invalidate(4, s_confirm_final = s_confirm + s_confirm_append);
    }
    if ($$self.$$.dirty & 2048) {
      $$invalidate(3, b_disabled = confirm[2] || false);
    }
  };
  return [
    disabled,
    b_waiting,
    b_busy,
    b_disabled,
    s_confirm_final,
    b_cancel,
    b_back,
    cancel_action,
    confirm_action,
    cancel,
    back,
    confirm,
    wait2,
    contd,
    s_confirm_append,
    click_handler2,
    click_handler_1
  ];
}
class ActionsLine extends SvelteComponent {
  constructor(options) {
    super();
    init(this, options, instance$e, create_fragment$f, safe_not_equal, {
      cancel: 9,
      back: 10,
      confirm: 11,
      wait: 12,
      disabled: 0,
      contd: 13
    });
  }
}
var StarShellTitle_svelte_svelte_type_style_lang = /* @__PURE__ */ (() => ".title.svelte-1htd4i8.svelte-1htd4i8{display:block;margin:0;padding:0;border:0;user-select:none;margin-left:auto;margin-right:auto;height:auto}.title.svelte-1htd4i8 img.svelte-1htd4i8{width:100%}")();
var Register_svelte_svelte_type_style_lang = /* @__PURE__ */ (() => ".intro.svelte-pdf2wg{margin-top:1em;margin-bottom:0}.intro .icon > svg,.intro .icon > img,.intro .icon > picture,.intro .icon > .icon-dom{width:172px;height:137px;margin:10px 0}.intro .icon > svg{margin:0}.narrow.svelte-pdf2wg{color:var(--theme-color-text-med);font-weight:300;max-width:18em}")();
var SX_ICON_SEND = '<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none">\n	<g style="fill: var(--svg-color-fg, currentColor);">\n		<rect x="12" y="4" width="2" height="9" />\n		<rect x="5" y="6" width="2" height="9" transform="rotate(-90 5 6)" />\n		<path d="M14 5.5V4H12.5L3 13.5L4.5 15L14 5.5Z" />\n	</g>\n</svg>\n';
var SX_ICON_RECV = '<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none">\n	<style>\n		.s2r-action-recv-fg-stroke {\n			stroke: var(--svg-color-fg, currentColor);\n		}\n	</style>\n	<path style="fill:var(--svg-color-fg, currentColor)" d="M3 14h12v2H3z"/>\n	<path class="s2r-action-recv-fg-stroke" d="M9 12V1M4.5 7.5 9 12l4.5-4.5" stroke-width="2"/>\n</svg>';
var SX_ICON_ADD = '<svg xmlns="http://www.w3.org/2000/svg" width="22" height="22">\n	<g style="fill: var(--svg-color-fg, currentColor);">\n		<rect x="10" y="4" width="2" height="14" rx="1" />\n		<rect x="4" y="10" width="14" height="2" ry="1" />\n	</g>\n</svg>';
var SX_ICON_INFO = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n	<path style="fill: var(--svg-color-fg, currentColor);" d="M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>\n</svg>';
var SX_ICON_EDIT$1 = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n	<path style="fill: var(--svg-color-fg, currentColor);" d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04a.996.996 0 0 0 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/>\n</svg>';
var SX_ICON_DELETE = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n	<path style="fill: var(--svg-color-fg, currentColor);" d="M16 9v10H8V9h8m-1.5-6h-5l-1 1H5v2h14V4h-3.5l-1-1zM18 7H6v12c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7z"/>\n</svg>';
var SX_ICON_WRAP = '<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">\n	<style>\n		.star-action-wrap-fg {\n			fill: var(--svg-color-fg, currentColor);\n		}\n	</style>\n	<path class="star-action-wrap-fg" d="M11,3.6L7.8,6.7L4.6,3.6c-0.3-0.3-0.8-0.3-1.1,0s-0.3,0.8,0,1.1l3.7,3.7c0.3,0.3,0.8,0.3,1.1,0L12,4.7 c0.3-0.3,0.3-0.8,0-1.1C11.8,3.3,11.3,3.3,11,3.6z M12.6,12.3c0,0.4-0.3,0.8-0.7,0.8H3.7c-0.4,0-0.8-0.4-0.8-0.8l0,0l0,0v-1.6 c0-0.4,0.4-0.8,0.8-0.8s0.8,0.4,0.8,0.8v0.8H11v-0.8c0-0.4,0.4-0.8,0.8-0.8s0.8,0.4,0.8,0.8V12.3C12.7,12.3,12.7,12.3,12.6,12.3 L12.6,12.3z" />\n</svg>\n';
var SX_ICON_UNWRAP = '<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">\n	<style>\n		.star-action-unwrap-fg {\n			fill: var(--svg-color-fg, currentColor);\n		}\n	</style>\n	<path class="star-action-unwrap-fg" d="M12,7.8c0.3-0.3,0.3-0.8,0-1.1L8.3,3C8,2.7,7.5,2.7,7.2,3L3.5,6.8C3.2,7,3.2,7.5,3.5,7.8c0.3,0.3,0.8,0.3,1.1,0\n	l3.2-3.1L11,7.8C11.3,8.1,11.8,8.1,12,7.8z M12.6,12.4c0,0.4-0.3,0.8-0.7,0.8H3.7c-0.4,0-0.8-0.4-0.8-0.8l0,0l0,0v-1.6\n	c0-0.4,0.4-0.8,0.8-0.8s0.8,0.4,0.8,0.8v0.8H11v-0.8c0-0.4,0.4-0.8,0.8-0.8s0.8,0.4,0.8,0.8V12.4L12.6,12.4L12.6,12.4z" />\n</svg>\n';
var SX_ICON_EDIT = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n	<circle cx="11" cy="11" r="10" fill="none" style="stroke:var(--svg-color-bg, currentColor)"/>\n	<path style="fill:var(--svg-color-fg, currentColor)" d="m8.364 11.631 5.656-5.657L16 7.954l-5.657 5.657zM7.6 12.4 7 13v2h2l.6-.6z"/>\n</svg>';
var SX_ICON_CHECKED = '<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18">\n	<style type="text/css">\n		.s2r-checked-fg {\n			fill: var(--svg-color-fg, currentColor);\n		}\n	</style>\n	<path class="s2r-checked-fg" d="M16 0H2C0.9 0 0 0.9 0 2V16C0 17.1 0.9 18 2 18H16C17.1 18 18 17.1 18 16V2C18 0.9 17.1 0 16 0ZM7.71 13.29C7.32 13.68 6.69 13.68 6.3 13.29L2.71 9.7C2.32 9.31 2.32 8.68 2.71 8.29C3.1 7.9 3.73 7.9 4.12 8.29L7 11.17L13.88 4.29C14.27 3.9 14.9 3.9 15.29 4.29C15.68 4.68 15.68 5.31 15.29 5.7L7.71 13.29Z" />\n</svg>\n';
var SX_ICON_UNCHECKED = '<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18">\n	<style type="text/css">\n		.s2r-unchecked-fg {\n			fill: var(--svg-color-fg, currentColor);\n		}\n	</style>\n	<path class="s2r-unchecked-fg" d="M15 16H3C2.45 16 2 15.55 2 15V3C2 2.45 2.45 2 3 2H15C15.55 2 16 2.45 16 3V15C16 15.55 15.55 16 15 16ZM16 0H2C0.9 0 0 0.9 0 2V16C0 17.1 0.9 18 2 18H16C17.1 18 18 17.1 18 16V2C18 0.9 17.1 0 16 0Z" />\n</svg>\n';
var CheckboxField_svelte_svelte_type_style_lang = /* @__PURE__ */ (() => "fieldset.svelte-1fxz7ga.svelte-1fxz7ga{display:flex;gap:14px;margin:0;padding:0;border:0}fieldset.svelte-1fxz7ga .checkbox .icon.svelte-1fxz7ga{--icon-diameter:18px;--icon-color:var(--theme-color-primary);vertical-align:middle}")();
function create_if_block$8(ctx) {
  let label;
  let current;
  let mounted;
  let dispose;
  const default_slot_template = ctx[7].default;
  const default_slot = create_slot(default_slot_template, ctx, ctx[6], null);
  return {
    c() {
      label = element("label");
      if (default_slot)
        default_slot.c();
      attr(label, "for", ctx[3]);
    },
    m(target, anchor) {
      insert(target, label, anchor);
      if (default_slot) {
        default_slot.m(label, null);
      }
      current = true;
      if (!mounted) {
        dispose = listen(label, "click", click_handler);
        mounted = true;
      }
    },
    p(ctx2, dirty) {
      if (default_slot) {
        if (default_slot.p && (!current || dirty & 64)) {
          update_slot_base(default_slot, default_slot_template, ctx2, ctx2[6], !current ? get_all_dirty_from_scope(ctx2[6]) : get_slot_changes(default_slot_template, ctx2[6], dirty, null), null);
        }
      }
    },
    i(local) {
      if (current)
        return;
      transition_in(default_slot, local);
      current = true;
    },
    o(local) {
      transition_out(default_slot, local);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(label);
      if (default_slot)
        default_slot.d(detaching);
      mounted = false;
      dispose();
    }
  };
}
function create_fragment$e(ctx) {
  let fieldset;
  let span1;
  let input;
  let t0;
  let span0;
  let raw_value = (ctx[0] ? SX_ICON_CHECKED : SX_ICON_UNCHECKED) + "";
  let t1;
  let fieldset_class_value;
  let current;
  let mounted;
  let dispose;
  let if_block = ctx[4].default && create_if_block$8(ctx);
  return {
    c() {
      fieldset = element("fieldset");
      span1 = element("span");
      input = element("input");
      t0 = space();
      span0 = element("span");
      t1 = space();
      if (if_block)
        if_block.c();
      attr(input, "id", ctx[3]);
      attr(input, "type", "checkbox");
      input.hidden = true;
      attr(span0, "class", "icon svelte-1fxz7ga");
      attr(span1, "class", "checkbox");
      attr(fieldset, "class", fieldset_class_value = null_to_empty(ctx[1]) + " svelte-1fxz7ga");
    },
    m(target, anchor) {
      insert(target, fieldset, anchor);
      append(fieldset, span1);
      append(span1, input);
      input.checked = ctx[0];
      append(span1, t0);
      append(span1, span0);
      span0.innerHTML = raw_value;
      append(fieldset, t1);
      if (if_block)
        if_block.m(fieldset, null);
      current = true;
      if (!mounted) {
        dispose = [
          listen(input, "change", ctx[8]),
          listen(fieldset, "click", function() {
            if (is_function(ctx[2] ? F_NOOP : ctx[9]))
              (ctx[2] ? F_NOOP : ctx[9]).apply(this, arguments);
          })
        ];
        mounted = true;
      }
    },
    p(new_ctx, [dirty]) {
      ctx = new_ctx;
      if (dirty & 1) {
        input.checked = ctx[0];
      }
      if ((!current || dirty & 1) && raw_value !== (raw_value = (ctx[0] ? SX_ICON_CHECKED : SX_ICON_UNCHECKED) + ""))
        span0.innerHTML = raw_value;
      if (ctx[4].default) {
        if (if_block) {
          if_block.p(ctx, dirty);
          if (dirty & 16) {
            transition_in(if_block, 1);
          }
        } else {
          if_block = create_if_block$8(ctx);
          if_block.c();
          transition_in(if_block, 1);
          if_block.m(fieldset, null);
        }
      } else if (if_block) {
        group_outros();
        transition_out(if_block, 1, 1, () => {
          if_block = null;
        });
        check_outros();
      }
      if (!current || dirty & 2 && fieldset_class_value !== (fieldset_class_value = null_to_empty(ctx[1]) + " svelte-1fxz7ga")) {
        attr(fieldset, "class", fieldset_class_value);
      }
    },
    i(local) {
      if (current)
        return;
      transition_in(if_block);
      current = true;
    },
    o(local) {
      transition_out(if_block);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(fieldset);
      if (if_block)
        if_block.d();
      mounted = false;
      run_all(dispose);
    }
  };
}
const click_handler = (d_event) => d_event.stopImmediatePropagation();
function instance$d($$self, $$props, $$invalidate) {
  let { $$slots: slots = {}, $$scope } = $$props;
  const $$slots = compute_slots(slots);
  let { id } = $$props;
  const s_id = id;
  let { containerClass = "" } = $$props;
  let { checked = false } = $$props;
  let { disableHandler = false } = $$props;
  function input_change_handler() {
    checked = this.checked;
    $$invalidate(0, checked);
  }
  const click_handler_1 = () => $$invalidate(0, checked = !checked);
  $$self.$$set = ($$props2) => {
    if ("id" in $$props2)
      $$invalidate(5, id = $$props2.id);
    if ("containerClass" in $$props2)
      $$invalidate(1, containerClass = $$props2.containerClass);
    if ("checked" in $$props2)
      $$invalidate(0, checked = $$props2.checked);
    if ("disableHandler" in $$props2)
      $$invalidate(2, disableHandler = $$props2.disableHandler);
    if ("$$scope" in $$props2)
      $$invalidate(6, $$scope = $$props2.$$scope);
  };
  return [
    checked,
    containerClass,
    disableHandler,
    s_id,
    $$slots,
    id,
    $$scope,
    slots,
    input_change_handler,
    click_handler_1
  ];
}
class CheckboxField extends SvelteComponent {
  constructor(options) {
    super();
    init(this, options, instance$d, create_fragment$e, safe_not_equal, {
      id: 5,
      containerClass: 1,
      checked: 0,
      disableHandler: 2
    });
  }
}
var PopupTagsSelect_svelte_svelte_type_style_lang = /* @__PURE__ */ (() => ".rows.svelte-vooes4{margin-left:calc(0px - var(--ui-padding));margin-right:calc(0px - var(--ui-padding));margin-top:1em;margin-bottom:1em}.float.svelte-vooes4{--anti-padding:calc(0px - var(--ui-padding));position:sticky;width:100%;background-color:var(--theme-color-bg);margin-left:var(--anti-padding);margin-right:var(--anti-padding);padding-left:var(--ui-padding);padding-right:var(--ui-padding);padding-top:var(--ui-padding);bottom:var(--anti-padding);background:linear-gradient(0deg, var(--theme-color-bg) 0%, var(--theme-color-bg) 80%, transparent)}")();
function get_each_context$6(ctx, list, i) {
  const child_ctx = ctx.slice();
  child_ctx[11] = list[i].tag;
  child_ctx[12] = list[i].selected;
  child_ctx[13] = list;
  child_ctx[14] = i;
  return child_ctx;
}
function create_right_slot(ctx) {
  let checkboxfield;
  let updating_checked;
  let t;
  let current;
  function checkboxfield_checked_binding(value) {
    ctx[3](value, ctx[12], ctx[13], ctx[14]);
  }
  let checkboxfield_props = {
    id: "tag-$" + ctx[11].index,
    disableHandler: true
  };
  if (ctx[12] !== void 0) {
    checkboxfield_props.checked = ctx[12];
  }
  checkboxfield = new CheckboxField({ props: checkboxfield_props });
  binding_callbacks.push(() => bind(checkboxfield, "checked", checkboxfield_checked_binding));
  return {
    c() {
      create_component(checkboxfield.$$.fragment);
      t = space();
    },
    m(target, anchor) {
      mount_component(checkboxfield, target, anchor);
      insert(target, t, anchor);
      current = true;
    },
    p(new_ctx, dirty) {
      ctx = new_ctx;
      const checkboxfield_changes = {};
      if (dirty & 1)
        checkboxfield_changes.id = "tag-$" + ctx[11].index;
      if (!updating_checked && dirty & 1) {
        updating_checked = true;
        checkboxfield_changes.checked = ctx[12];
        add_flush_callback(() => updating_checked = false);
      }
      checkboxfield.$set(checkboxfield_changes);
    },
    i(local) {
      if (current)
        return;
      transition_in(checkboxfield.$$.fragment, local);
      current = true;
    },
    o(local) {
      transition_out(checkboxfield.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      destroy_component(checkboxfield, detaching);
      if (detaching)
        detach(t);
    }
  };
}
function create_each_block$6(ctx) {
  let row;
  let current;
  function click_handler2() {
    return ctx[4](ctx[11]);
  }
  row = new Row({
    props: {
      rootStyle: "--app-icon-diameter:12px;",
      iconClass: "align-self_center",
      name: ctx[11].name,
      $$slots: { right: [create_right_slot] },
      $$scope: { ctx }
    }
  });
  row.$on("click", click_handler2);
  return {
    c() {
      create_component(row.$$.fragment);
    },
    m(target, anchor) {
      mount_component(row, target, anchor);
      current = true;
    },
    p(new_ctx, dirty) {
      ctx = new_ctx;
      const row_changes = {};
      if (dirty & 1)
        row_changes.name = ctx[11].name;
      if (dirty & 32769) {
        row_changes.$$scope = { dirty, ctx };
      }
      row.$set(row_changes);
    },
    i(local) {
      if (current)
        return;
      transition_in(row.$$.fragment, local);
      current = true;
    },
    o(local) {
      transition_out(row.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      destroy_component(row, detaching);
    }
  };
}
function create_fragment$d(ctx) {
  let section;
  let subheader;
  let t0;
  let div0;
  let t1;
  let div1;
  let actionsline;
  let current;
  subheader = new SubHeader({
    props: {
      title: "Select Tag(s)",
      bare: true,
      closes: true
    }
  });
  let each_value = ctx[0];
  let each_blocks = [];
  for (let i = 0; i < each_value.length; i += 1) {
    each_blocks[i] = create_each_block$6(get_each_context$6(ctx, each_value, i));
  }
  const out = (i) => transition_out(each_blocks[i], 1, 1, () => {
    each_blocks[i] = null;
  });
  actionsline = new ActionsLine({
    props: {
      confirm: ["Apply", ctx[2]]
    }
  });
  return {
    c() {
      section = element("section");
      create_component(subheader.$$.fragment);
      t0 = space();
      div0 = element("div");
      for (let i = 0; i < each_blocks.length; i += 1) {
        each_blocks[i].c();
      }
      t1 = space();
      div1 = element("div");
      create_component(actionsline.$$.fragment);
      attr(div0, "class", "rows svelte-vooes4");
      attr(div1, "class", "float svelte-vooes4");
      attr(section, "class", "screen");
    },
    m(target, anchor) {
      insert(target, section, anchor);
      mount_component(subheader, section, null);
      append(section, t0);
      append(section, div0);
      for (let i = 0; i < each_blocks.length; i += 1) {
        each_blocks[i].m(div0, null);
      }
      append(section, t1);
      append(section, div1);
      mount_component(actionsline, div1, null);
      current = true;
    },
    p(ctx2, [dirty]) {
      if (dirty & 3) {
        each_value = ctx2[0];
        let i;
        for (i = 0; i < each_value.length; i += 1) {
          const child_ctx = get_each_context$6(ctx2, each_value, i);
          if (each_blocks[i]) {
            each_blocks[i].p(child_ctx, dirty);
            transition_in(each_blocks[i], 1);
          } else {
            each_blocks[i] = create_each_block$6(child_ctx);
            each_blocks[i].c();
            transition_in(each_blocks[i], 1);
            each_blocks[i].m(div0, null);
          }
        }
        group_outros();
        for (i = each_value.length; i < each_blocks.length; i += 1) {
          out(i);
        }
        check_outros();
      }
    },
    i(local) {
      if (current)
        return;
      transition_in(subheader.$$.fragment, local);
      for (let i = 0; i < each_value.length; i += 1) {
        transition_in(each_blocks[i]);
      }
      transition_in(actionsline.$$.fragment, local);
      current = true;
    },
    o(local) {
      transition_out(subheader.$$.fragment, local);
      each_blocks = each_blocks.filter(Boolean);
      for (let i = 0; i < each_blocks.length; i += 1) {
        transition_out(each_blocks[i]);
      }
      transition_out(actionsline.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(section);
      destroy_component(subheader);
      destroy_each(each_blocks, detaching);
      destroy_component(actionsline);
    }
  };
}
function instance$c($$self, $$props, $$invalidate) {
  let $yw_popup;
  let $yw_store_tags;
  let $yw_context_popup;
  component_subscribe($$self, yw_popup, ($$value) => $$invalidate(5, $yw_popup = $$value));
  component_subscribe($$self, yw_store_tags, ($$value) => $$invalidate(6, $yw_store_tags = $$value));
  component_subscribe($$self, yw_context_popup, ($$value) => $$invalidate(7, $yw_context_popup = $$value));
  const p_resource = $yw_context_popup["resource"];
  const f_sort_tags = (g_a, g_b) => g_a.index - g_b.index;
  const as_preapplied = new Set($yw_store_tags.getIdsFor(p_resource));
  let a_tag_options = $yw_store_tags.raw.registry.sort(f_sort_tags).map((g_tag) => ({
    tag: g_tag,
    selected: as_preapplied.has(g_tag.index)
  }));
  function toggle_tag(i_tag) {
    const g_option = a_tag_options.find((g) => i_tag === g.tag.index);
    g_option.selected = !g_option.selected;
    $$invalidate(0, a_tag_options);
  }
  async function apply_tags() {
    await $yw_store_tags.setTagsFor(p_resource, a_tags);
    set_store_value(yw_popup, $yw_popup = null, $yw_popup);
  }
  function checkboxfield_checked_binding(value, b_selected, each_value, each_index) {
    each_value[each_index].selected = value;
    $$invalidate(0, a_tag_options);
  }
  const click_handler2 = (g_tag) => toggle_tag(g_tag.index);
  return [
    a_tag_options,
    toggle_tag,
    apply_tags,
    checkboxfield_checked_binding,
    click_handler2
  ];
}
class PopupTagsSelect extends SvelteComponent {
  constructor(options) {
    super();
    init(this, options, instance$c, create_fragment$d, safe_not_equal, {});
  }
}
var InlineTags_svelte_svelte_type_style_lang = /* @__PURE__ */ (() => ".font-family_mono.svelte-r4i5a9.svelte-r4i5a9.svelte-r4i5a9{font-family:'PT Mono';white-space:pre}.hide-scrollbar.svelte-r4i5a9.svelte-r4i5a9.svelte-r4i5a9{scrollbar-width:none}.hide-scrollbar.svelte-r4i5a9.svelte-r4i5a9.svelte-r4i5a9::-webkit-scrollbar{display:none}.hide-scrollbar.svelte-r4i5a9.svelte-r4i5a9.svelte-r4i5a9::-webkit-scrollbar-track{display:none}.hide-scrollbar.svelte-r4i5a9.svelte-r4i5a9.svelte-r4i5a9::-webkit-scrollbar-thumb{background-color:rgba(0, 0, 0, 0.2)}.cluster.svelte-r4i5a9.svelte-r4i5a9.svelte-r4i5a9{display:inline-flex;vertical-align:middle;justify-content:center;align-items:center;gap:4px;flex-flow:row wrap}.cluster.collapsed.svelte-r4i5a9.svelte-r4i5a9.svelte-r4i5a9{margin:var(--tag-cluster-margin, 0);margin-top:5px;justify-content:flex-start;display:flex}.cluster.editable.svelte-r4i5a9.svelte-r4i5a9.svelte-r4i5a9{justify-content:flex-start;margin-top:-10px;margin-bottom:5px}.cluster.editable.svelte-r4i5a9>.tag.svelte-r4i5a9.svelte-r4i5a9{padding-right:2px}.cluster.svelte-r4i5a9>.tag.svelte-r4i5a9.svelte-r4i5a9{--tag-width:auto;--tag-height:22px;display:inline-flex;width:var(--tag-width);height:var(--tag-height);border-radius:1em;padding:0 1ch;font-size:13px}.cluster.svelte-r4i5a9>.tag.svelte-r4i5a9>.label.svelte-r4i5a9{margin-top:1px;text-shadow:-1px 1px 1.3px rgba(0, 0, 0, 0.4)}.cluster.svelte-r4i5a9>.tag.collapsed.svelte-r4i5a9.svelte-r4i5a9{--tag-width:var(--app-tag-diameter);--tag-height:var(--app-tag-diameter);padding:0}.cluster.svelte-r4i5a9>.tag .delete.icon.svelte-r4i5a9.svelte-r4i5a9{--icon-diameter:22px;transform:rotate(45deg);transition:transform 200ms ease-out, filter 200ms ease-out;cursor:pointer;filter:drop-shadow(0px 0px 0px black);display:var(--delete-display, initial)}.cluster.svelte-r4i5a9>.tag .delete.icon.svelte-r4i5a9.svelte-r4i5a9:hover{transform:rotate(45deg) scale(1.075);filter:drop-shadow(-1px 3px 2px rgba(0, 0, 0, 0.4))}.cluster.svelte-r4i5a9>.edit.svelte-r4i5a9.svelte-r4i5a9{cursor:pointer}.cluster.svelte-r4i5a9>.edit.svelte-r4i5a9>.icon.svelte-r4i5a9{--icon-color:var(--theme-color-primary);--icon-diameter:22px;display:flex;background-color:transparent}.cluster.svelte-r4i5a9 .prefix.svelte-r4i5a9.svelte-r4i5a9,.cluster.svelte-r4i5a9 .suffix.svelte-r4i5a9.svelte-r4i5a9{font-family:Poppins;font-weight:400;font-size:11px;color:var(--theme-color-text-light);display:inline-flex;text-align:center}")();
const get_suffix_slot_changes = (dirty) => ({});
const get_suffix_slot_context = (ctx) => ({});
function get_each_context$5(ctx, list, i) {
  const child_ctx = ctx.slice();
  child_ctx[26] = list[i];
  child_ctx[28] = i;
  return child_ctx;
}
const get_prefix_slot_changes = (dirty) => ({});
const get_prefix_slot_context = (ctx) => ({});
function create_if_block_4$2(ctx) {
  let span;
  let span_class_value;
  let current;
  const prefix_slot_template = ctx[17].prefix;
  const prefix_slot = create_slot(prefix_slot_template, ctx, ctx[16], get_prefix_slot_context);
  return {
    c() {
      span = element("span");
      if (prefix_slot)
        prefix_slot.c();
      attr(span, "class", span_class_value = "prefix " + ctx[0] + " svelte-r4i5a9");
    },
    m(target, anchor) {
      insert(target, span, anchor);
      if (prefix_slot) {
        prefix_slot.m(span, null);
      }
      current = true;
    },
    p(ctx2, dirty) {
      if (prefix_slot) {
        if (prefix_slot.p && (!current || dirty & 65536)) {
          update_slot_base(prefix_slot, prefix_slot_template, ctx2, ctx2[16], !current ? get_all_dirty_from_scope(ctx2[16]) : get_slot_changes(prefix_slot_template, ctx2[16], dirty, get_prefix_slot_changes), get_prefix_slot_context);
        }
      }
      if (!current || dirty & 1 && span_class_value !== (span_class_value = "prefix " + ctx2[0] + " svelte-r4i5a9")) {
        attr(span, "class", span_class_value);
      }
    },
    i(local) {
      if (current)
        return;
      transition_in(prefix_slot, local);
      current = true;
    },
    o(local) {
      transition_out(prefix_slot, local);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(span);
      if (prefix_slot)
        prefix_slot.d(detaching);
    }
  };
}
function create_if_block_3$2(ctx) {
  let span;
  let t_value = ctx[26].name + "";
  let t;
  return {
    c() {
      span = element("span");
      t = text(t_value);
      attr(span, "class", "label svelte-r4i5a9");
    },
    m(target, anchor) {
      insert(target, span, anchor);
      append(span, t);
    },
    p(ctx2, dirty) {
      if (dirty & 32 && t_value !== (t_value = ctx2[26].name + ""))
        set_data(t, t_value);
    },
    d(detaching) {
      if (detaching)
        detach(span);
    }
  };
}
function create_if_block_2$4(ctx) {
  let span;
  let mounted;
  let dispose;
  function click_handler2() {
    return ctx[18](ctx[26]);
  }
  return {
    c() {
      span = element("span");
      attr(span, "class", "delete icon svelte-r4i5a9");
    },
    m(target, anchor) {
      insert(target, span, anchor);
      span.innerHTML = SX_ICON_ADD;
      if (!mounted) {
        dispose = listen(span, "click", click_handler2);
        mounted = true;
      }
    },
    p(new_ctx, dirty) {
      ctx = new_ctx;
    },
    d(detaching) {
      if (detaching)
        detach(span);
      mounted = false;
      dispose();
    }
  };
}
function create_each_block$5(ctx) {
  let span;
  let t0;
  let t1;
  let span_outro;
  let current;
  let if_block0 = !ctx[7] && create_if_block_3$2(ctx);
  let if_block1 = ctx[6] && create_if_block_2$4(ctx);
  return {
    c() {
      span = element("span");
      if (if_block0)
        if_block0.c();
      t0 = space();
      if (if_block1)
        if_block1.c();
      t1 = space();
      attr(span, "class", "tag svelte-r4i5a9");
      set_style(span, "background-color", ctx[26].color);
      toggle_class(span, "collapsed", ctx[7]);
    },
    m(target, anchor) {
      insert(target, span, anchor);
      if (if_block0)
        if_block0.m(span, null);
      append(span, t0);
      if (if_block1)
        if_block1.m(span, null);
      append(span, t1);
      current = true;
    },
    p(new_ctx, dirty) {
      ctx = new_ctx;
      if (!ctx[7])
        if_block0.p(ctx, dirty);
      if (ctx[6])
        if_block1.p(ctx, dirty);
      if (!current || dirty & 32) {
        set_style(span, "background-color", ctx[26].color);
      }
    },
    i(local) {
      if (current)
        return;
      if (span_outro)
        span_outro.end(1);
      current = true;
    },
    o(local) {
      span_outro = create_out_transition(span, ctx[10], {
        duration: ctx[6] ? 300 : 0
      });
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(span);
      if (if_block0)
        if_block0.d();
      if (if_block1)
        if_block1.d();
      if (detaching && span_outro)
        span_outro.end();
    }
  };
}
function create_key_block(ctx) {
  let each_1_anchor;
  let current;
  let each_value = ctx[5];
  let each_blocks = [];
  for (let i = 0; i < each_value.length; i += 1) {
    each_blocks[i] = create_each_block$5(get_each_context$5(ctx, each_value, i));
  }
  const out = (i) => transition_out(each_blocks[i], 1, 1, () => {
    each_blocks[i] = null;
  });
  return {
    c() {
      for (let i = 0; i < each_blocks.length; i += 1) {
        each_blocks[i].c();
      }
      each_1_anchor = empty();
    },
    m(target, anchor) {
      for (let i = 0; i < each_blocks.length; i += 1) {
        each_blocks[i].m(target, anchor);
      }
      insert(target, each_1_anchor, anchor);
      current = true;
    },
    p(ctx2, dirty) {
      if (dirty & 736) {
        each_value = ctx2[5];
        let i;
        for (i = 0; i < each_value.length; i += 1) {
          const child_ctx = get_each_context$5(ctx2, each_value, i);
          if (each_blocks[i]) {
            each_blocks[i].p(child_ctx, dirty);
            transition_in(each_blocks[i], 1);
          } else {
            each_blocks[i] = create_each_block$5(child_ctx);
            each_blocks[i].c();
            transition_in(each_blocks[i], 1);
            each_blocks[i].m(each_1_anchor.parentNode, each_1_anchor);
          }
        }
        group_outros();
        for (i = each_value.length; i < each_blocks.length; i += 1) {
          out(i);
        }
        check_outros();
      }
    },
    i(local) {
      if (current)
        return;
      for (let i = 0; i < each_value.length; i += 1) {
        transition_in(each_blocks[i]);
      }
      current = true;
    },
    o(local) {
      each_blocks = each_blocks.filter(Boolean);
      for (let i = 0; i < each_blocks.length; i += 1) {
        transition_out(each_blocks[i]);
      }
      current = false;
    },
    d(detaching) {
      destroy_each(each_blocks, detaching);
      if (detaching)
        detach(each_1_anchor);
    }
  };
}
function create_if_block_1$4(ctx) {
  let span1;
  let span0;
  let mounted;
  let dispose;
  return {
    c() {
      span1 = element("span");
      span0 = element("span");
      attr(span0, "class", "icon svelte-r4i5a9");
      attr(span1, "class", "edit svelte-r4i5a9");
    },
    m(target, anchor) {
      insert(target, span1, anchor);
      append(span1, span0);
      span0.innerHTML = SX_ICON_EDIT;
      if (!mounted) {
        dispose = listen(span1, "click", ctx[19]);
        mounted = true;
      }
    },
    p: noop$1,
    d(detaching) {
      if (detaching)
        detach(span1);
      mounted = false;
      dispose();
    }
  };
}
function create_if_block$7(ctx) {
  let span;
  let span_class_value;
  let current;
  const suffix_slot_template = ctx[17].suffix;
  const suffix_slot = create_slot(suffix_slot_template, ctx, ctx[16], get_suffix_slot_context);
  return {
    c() {
      span = element("span");
      if (suffix_slot)
        suffix_slot.c();
      attr(span, "class", span_class_value = "suffix " + ctx[1] + " svelte-r4i5a9");
    },
    m(target, anchor) {
      insert(target, span, anchor);
      if (suffix_slot) {
        suffix_slot.m(span, null);
      }
      current = true;
    },
    p(ctx2, dirty) {
      if (suffix_slot) {
        if (suffix_slot.p && (!current || dirty & 65536)) {
          update_slot_base(suffix_slot, suffix_slot_template, ctx2, ctx2[16], !current ? get_all_dirty_from_scope(ctx2[16]) : get_slot_changes(suffix_slot_template, ctx2[16], dirty, get_suffix_slot_changes), get_suffix_slot_context);
        }
      }
      if (!current || dirty & 2 && span_class_value !== (span_class_value = "suffix " + ctx2[1] + " svelte-r4i5a9")) {
        attr(span, "class", span_class_value);
      }
    },
    i(local) {
      if (current)
        return;
      transition_in(suffix_slot, local);
      current = true;
    },
    o(local) {
      transition_out(suffix_slot, local);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(span);
      if (suffix_slot)
        suffix_slot.d(detaching);
    }
  };
}
function create_fragment$c(ctx) {
  let span;
  let t0;
  let previous_key = ctx[3];
  let t1;
  let t2;
  let current;
  let if_block0 = ctx[11].prefix && create_if_block_4$2(ctx);
  let key_block = create_key_block(ctx);
  let if_block1 = ctx[6] && create_if_block_1$4(ctx);
  let if_block2 = ctx[11].suffix && create_if_block$7(ctx);
  return {
    c() {
      span = element("span");
      if (if_block0)
        if_block0.c();
      t0 = space();
      key_block.c();
      t1 = space();
      if (if_block1)
        if_block1.c();
      t2 = space();
      if (if_block2)
        if_block2.c();
      attr(span, "class", "cluster svelte-r4i5a9");
      attr(span, "style", ctx[2]);
      toggle_class(span, "editable", ctx[6]);
      toggle_class(span, "collapsed", ctx[7]);
    },
    m(target, anchor) {
      insert(target, span, anchor);
      if (if_block0)
        if_block0.m(span, null);
      append(span, t0);
      key_block.m(span, null);
      append(span, t1);
      if (if_block1)
        if_block1.m(span, null);
      append(span, t2);
      if (if_block2)
        if_block2.m(span, null);
      ctx[20](span);
      current = true;
    },
    p(ctx2, [dirty]) {
      if (ctx2[11].prefix) {
        if (if_block0) {
          if_block0.p(ctx2, dirty);
          if (dirty & 2048) {
            transition_in(if_block0, 1);
          }
        } else {
          if_block0 = create_if_block_4$2(ctx2);
          if_block0.c();
          transition_in(if_block0, 1);
          if_block0.m(span, t0);
        }
      } else if (if_block0) {
        group_outros();
        transition_out(if_block0, 1, 1, () => {
          if_block0 = null;
        });
        check_outros();
      }
      if (dirty & 8 && safe_not_equal(previous_key, previous_key = ctx2[3])) {
        group_outros();
        transition_out(key_block, 1, 1, noop$1);
        check_outros();
        key_block = create_key_block(ctx2);
        key_block.c();
        transition_in(key_block, 1);
        key_block.m(span, t1);
      } else {
        key_block.p(ctx2, dirty);
      }
      if (ctx2[6])
        if_block1.p(ctx2, dirty);
      if (ctx2[11].suffix) {
        if (if_block2) {
          if_block2.p(ctx2, dirty);
          if (dirty & 2048) {
            transition_in(if_block2, 1);
          }
        } else {
          if_block2 = create_if_block$7(ctx2);
          if_block2.c();
          transition_in(if_block2, 1);
          if_block2.m(span, null);
        }
      } else if (if_block2) {
        group_outros();
        transition_out(if_block2, 1, 1, () => {
          if_block2 = null;
        });
        check_outros();
      }
      if (!current || dirty & 4) {
        attr(span, "style", ctx2[2]);
      }
    },
    i(local) {
      if (current)
        return;
      transition_in(if_block0);
      transition_in(key_block);
      transition_in(if_block2);
      current = true;
    },
    o(local) {
      transition_out(if_block0);
      transition_out(key_block);
      transition_out(if_block2);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(span);
      if (if_block0)
        if_block0.d();
      key_block.d(detaching);
      if (if_block1)
        if_block1.d();
      if (if_block2)
        if_block2.d();
      ctx[20](null);
    }
  };
}
function instance$b($$self, $$props, $$invalidate) {
  let a_tags2;
  let $yw_popup;
  let $yw_context_popup;
  let $yw_store_tags;
  component_subscribe($$self, yw_popup, ($$value) => $$invalidate(21, $yw_popup = $$value));
  component_subscribe($$self, yw_context_popup, ($$value) => $$invalidate(22, $yw_context_popup = $$value));
  component_subscribe($$self, yw_store_tags, ($$value) => $$invalidate(15, $yw_store_tags = $$value));
  let { $$slots: slots = {}, $$scope } = $$props;
  const $$slots = compute_slots(slots);
  let { resourcePath } = $$props;
  const p_resource = resourcePath;
  let { editable = false } = $$props;
  const b_editable = editable;
  let { collapsed = false } = $$props;
  const b_collapsed = collapsed;
  let { prefixClass = "" } = $$props;
  let { suffixClass = "" } = $$props;
  let { rootStyle = "" } = $$props;
  let c_reload_tags = 0;
  const f_unsubscribe = yw_store_tags.subscribe(() => $$invalidate(3, c_reload_tags++, c_reload_tags));
  onDestroy(() => {
    f_unsubscribe();
  });
  let ks_tags;
  if (b_editable) {
    yw_context_popup.subscribe((g_ctx) => {
      if (g_ctx?.tags) {
        $$invalidate(5, a_tags2 = g_ctx.tags);
      }
    });
    onDestroy(() => {
      set_store_value(yw_context_popup, $yw_context_popup = null, $yw_context_popup);
    });
  }
  function show_tag_selector() {
    set_store_value(yw_context_popup, $yw_context_popup = { resource: p_resource }, $yw_context_popup);
    set_store_value(yw_popup, $yw_popup = PopupTagsSelect, $yw_popup);
  }
  let dm_cluster;
  async function remove_tag(g_tag) {
    const i_tag = a_tags2.findIndex((g) => g.index === g_tag.index);
    a_tags2.splice(i_tag, 1);
    await ks_tags.save();
  }
  function sslide(dm_node, { delay: xt_delay = 0, duration: xt_duration = 400, easing: f_easing = cubicOut } = {}) {
    const d_style = getComputedStyle(dm_node);
    const x_opacity = +d_style.opacity;
    const x_width = parseFloat(d_style.width);
    const x_padding_left = parseFloat(d_style.paddingLeft);
    const x_padding_right = parseFloat(d_style.paddingRight);
    const x_margin_left = parseFloat(d_style.marginLeft);
    const x_margin_right = parseFloat(d_style.marginRight);
    const x_border_left_width = parseFloat(d_style.borderLeftWidth);
    const x_border_right_width = parseFloat(d_style.borderRightWidth);
    return {
      delay: xt_delay,
      duration: xt_duration,
      easing: f_easing,
      css: (xt) => `--delete-display: none;overflow: hidden;opacity: ${Math.min(xt * 20, 1) * x_opacity};width: ${xt * x_width}px;padding-left: ${xt * x_padding_left}px;padding-right: ${xt * x_padding_right}px;margin-left: ${xt * x_margin_left}px;margin-right: ${xt * x_margin_right}px;border-left-width: ${xt * x_border_left_width}px;border-right-width: ${xt * x_border_right_width}px;`
    };
  }
  const click_handler2 = (g_tag) => remove_tag(g_tag);
  const click_handler_1 = () => show_tag_selector();
  function span_binding($$value) {
    binding_callbacks[$$value ? "unshift" : "push"](() => {
      dm_cluster = $$value;
      $$invalidate(4, dm_cluster);
    });
  }
  $$self.$$set = ($$props2) => {
    if ("resourcePath" in $$props2)
      $$invalidate(12, resourcePath = $$props2.resourcePath);
    if ("editable" in $$props2)
      $$invalidate(13, editable = $$props2.editable);
    if ("collapsed" in $$props2)
      $$invalidate(14, collapsed = $$props2.collapsed);
    if ("prefixClass" in $$props2)
      $$invalidate(0, prefixClass = $$props2.prefixClass);
    if ("suffixClass" in $$props2)
      $$invalidate(1, suffixClass = $$props2.suffixClass);
    if ("rootStyle" in $$props2)
      $$invalidate(2, rootStyle = $$props2.rootStyle);
    if ("$$scope" in $$props2)
      $$invalidate(16, $$scope = $$props2.$$scope);
  };
  $$self.$$.update = () => {
    if ($$self.$$.dirty & 32768) {
      $$invalidate(5, a_tags2 = $yw_store_tags.getTagsFor(p_resource));
    }
  };
  return [
    prefixClass,
    suffixClass,
    rootStyle,
    c_reload_tags,
    dm_cluster,
    a_tags2,
    b_editable,
    b_collapsed,
    show_tag_selector,
    remove_tag,
    sslide,
    $$slots,
    resourcePath,
    editable,
    collapsed,
    $yw_store_tags,
    $$scope,
    slots,
    click_handler2,
    click_handler_1,
    span_binding
  ];
}
class InlineTags extends SvelteComponent {
  constructor(options) {
    super();
    init(this, options, instance$b, create_fragment$c, safe_not_equal, {
      resourcePath: 12,
      editable: 13,
      collapsed: 14,
      prefixClass: 0,
      suffixClass: 1,
      rootStyle: 2
    });
  }
}
var Portrait_svelte_svelte_type_style_lang = /* @__PURE__ */ (() => ".font-family_mono.svelte-1ilena7.svelte-1ilena7.svelte-1ilena7.svelte-1ilena7{font-family:'PT Mono';white-space:pre}.hide-scrollbar.svelte-1ilena7.svelte-1ilena7.svelte-1ilena7.svelte-1ilena7{scrollbar-width:none}.hide-scrollbar.svelte-1ilena7.svelte-1ilena7.svelte-1ilena7.svelte-1ilena7::-webkit-scrollbar{display:none}.hide-scrollbar.svelte-1ilena7.svelte-1ilena7.svelte-1ilena7.svelte-1ilena7::-webkit-scrollbar-track{display:none}.hide-scrollbar.svelte-1ilena7.svelte-1ilena7.svelte-1ilena7.svelte-1ilena7::-webkit-scrollbar-thumb{background-color:rgba(0, 0, 0, 0.2)}.portrait.svelte-1ilena7.svelte-1ilena7.svelte-1ilena7.svelte-1ilena7{display:flex;flex-direction:column;padding-top:1em}.portrait.svelte-1ilena7>.pfp.svelte-1ilena7.svelte-1ilena7.svelte-1ilena7{width:100%;text-align:center;margin-bottom:10px}.portrait.svelte-1ilena7>.pfp.svelte-1ilena7>.icon.svelte-1ilena7.svelte-1ilena7{--icon-diameter:64px}.portrait > .pfp > .icon .group{transform:scale(1.5)}.portrait > .pfp > .icon img{border-radius:20%}.portrait.svelte-1ilena7>.title.svelte-1ilena7.svelte-1ilena7.svelte-1ilena7{font-family:Poppins;font-weight:400;font-size:23px;display:flex;justify-content:center;gap:4px;white-space:nowrap;overflow:scroll;scrollbar-width:none}.portrait.svelte-1ilena7>.title.svelte-1ilena7.svelte-1ilena7.svelte-1ilena7::-webkit-scrollbar{display:none}.portrait.svelte-1ilena7>.title.svelte-1ilena7.svelte-1ilena7.svelte-1ilena7::-webkit-scrollbar-track{display:none}.portrait.svelte-1ilena7>.title.svelte-1ilena7.svelte-1ilena7.svelte-1ilena7::-webkit-scrollbar-thumb{background-color:rgba(0, 0, 0, 0.2)}.portrait.svelte-1ilena7>.title.svelte-1ilena7>.info.svelte-1ilena7.svelte-1ilena7{fill:var(--theme-color-primary);vertical-align:baseline}.portrait > .title > .info > svg{margin-top:-4px;vertical-align:middle;width:20px;height:20px}.portrait.svelte-1ilena7>.subtitle.svelte-1ilena7.svelte-1ilena7.svelte-1ilena7{font-family:Poppins;font-weight:400;font-size:14px;text-align:center;color:var(--theme-color-text-med);margin-top:4px}.portrait.svelte-1ilena7>.actions.svelte-1ilena7.svelte-1ilena7.svelte-1ilena7{display:flex;justify-content:center;margin-top:1rem;margin-bottom:1rem}.portrait.svelte-1ilena7>.actions.svelte-1ilena7>.action.svelte-1ilena7.svelte-1ilena7{font-family:Poppins;font-weight:400;font-size:11px;cursor:pointer;flex:0;display:flex;flex-direction:column;align-items:center;gap:5px;color:var(--theme-color-text-med);min-width:calc(48px + 3.5ex)}.portrait.svelte-1ilena7>.actions.svelte-1ilena7>.action.svelte-1ilena7>.icon.svelte-1ilena7{--button-diameter:48px;--icon-diameter:20px;background-color:var(--theme-color-border);display:inline-flex;justify-content:center;align-items:center}.portrait.svelte-1ilena7>.actions.svelte-1ilena7>.action.svelte-1ilena7:hover>.icon.svelte-1ilena7{--icon-color:black;background-color:var(--theme-color-primary)}")();
function get_each_context$4(ctx, list, i) {
  const child_ctx = ctx.slice();
  child_ctx[18] = list[i][0];
  child_ctx[19] = list[i][1];
  return child_ctx;
}
const get_subtitle_slot_changes = (dirty) => ({});
const get_subtitle_slot_context = (ctx) => ({});
const get_pfp_slot_changes = (dirty) => ({});
const get_pfp_slot_context = (ctx) => ({});
function create_if_block_4$1(ctx) {
  let span;
  let current;
  const pfp_slot_template = ctx[15].pfp;
  const pfp_slot = create_slot(pfp_slot_template, ctx, ctx[14], get_pfp_slot_context);
  const pfp_slot_or_fallback = pfp_slot || fallback_block_1();
  return {
    c() {
      span = element("span");
      if (pfp_slot_or_fallback)
        pfp_slot_or_fallback.c();
      attr(span, "class", "icon svelte-1ilena7");
    },
    m(target, anchor) {
      insert(target, span, anchor);
      if (pfp_slot_or_fallback) {
        pfp_slot_or_fallback.m(span, null);
      }
      current = true;
    },
    p(ctx2, dirty) {
      if (pfp_slot) {
        if (pfp_slot.p && (!current || dirty & 16384)) {
          update_slot_base(pfp_slot, pfp_slot_template, ctx2, ctx2[14], !current ? get_all_dirty_from_scope(ctx2[14]) : get_slot_changes(pfp_slot_template, ctx2[14], dirty, get_pfp_slot_changes), get_pfp_slot_context);
        }
      }
    },
    i(local) {
      if (current)
        return;
      transition_in(pfp_slot_or_fallback, local);
      current = true;
    },
    o(local) {
      transition_out(pfp_slot_or_fallback, local);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(span);
      if (pfp_slot_or_fallback)
        pfp_slot_or_fallback.d(detaching);
    }
  };
}
function create_if_block_3$1(ctx) {
  let pfpdisplay;
  let current;
  pfpdisplay = new PfpDisplay({
    props: {
      ref: ctx[1],
      resource: ctx[0],
      dim: 64,
      circular: true
    }
  });
  return {
    c() {
      create_component(pfpdisplay.$$.fragment);
    },
    m(target, anchor) {
      mount_component(pfpdisplay, target, anchor);
      current = true;
    },
    p(ctx2, dirty) {
      const pfpdisplay_changes = {};
      if (dirty & 2)
        pfpdisplay_changes.ref = ctx2[1];
      if (dirty & 1)
        pfpdisplay_changes.resource = ctx2[0];
      pfpdisplay.$set(pfpdisplay_changes);
    },
    i(local) {
      if (current)
        return;
      transition_in(pfpdisplay.$$.fragment, local);
      current = true;
    },
    o(local) {
      transition_out(pfpdisplay.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      destroy_component(pfpdisplay, detaching);
    }
  };
}
function fallback_block_1(ctx) {
  let t;
  return {
    c() {
      t = text("Empty pfp slot");
    },
    m(target, anchor) {
      insert(target, t, anchor);
    },
    d(detaching) {
      if (detaching)
        detach(t);
    }
  };
}
function create_catch_block$1(ctx) {
  return { c: noop$1, m: noop$1, p: noop$1, d: noop$1 };
}
function create_then_block$1(ctx) {
  let t_value = ctx[22] + "";
  let t;
  return {
    c() {
      t = text(t_value);
    },
    m(target, anchor) {
      insert(target, t, anchor);
    },
    p(ctx2, dirty) {
      if (dirty & 4 && t_value !== (t_value = ctx2[22] + ""))
        set_data(t, t_value);
    },
    d(detaching) {
      if (detaching)
        detach(t);
    }
  };
}
function create_pending_block$1(ctx) {
  let t;
  return {
    c() {
      t = text("...");
    },
    m(target, anchor) {
      insert(target, t, anchor);
    },
    p: noop$1,
    d(detaching) {
      if (detaching)
        detach(t);
    }
  };
}
function create_if_block_2$3(ctx) {
  let span;
  return {
    c() {
      span = element("span");
      attr(span, "class", "info svelte-1ilena7");
    },
    m(target, anchor) {
      insert(target, span, anchor);
      span.innerHTML = SX_ICON_INFO;
    },
    p: noop$1,
    d(detaching) {
      if (detaching)
        detach(span);
    }
  };
}
function create_if_block_1$3(ctx) {
  let div;
  let span;
  let current;
  const subtitle_slot_template = ctx[15].subtitle;
  const subtitle_slot = create_slot(subtitle_slot_template, ctx, ctx[14], get_subtitle_slot_context);
  const subtitle_slot_or_fallback = subtitle_slot || fallback_block$1(ctx);
  return {
    c() {
      div = element("div");
      span = element("span");
      if (subtitle_slot_or_fallback)
        subtitle_slot_or_fallback.c();
      attr(span, "class", "text");
      attr(div, "class", "subtitle svelte-1ilena7");
    },
    m(target, anchor) {
      insert(target, div, anchor);
      append(div, span);
      if (subtitle_slot_or_fallback) {
        subtitle_slot_or_fallback.m(span, null);
      }
      current = true;
    },
    p(ctx2, dirty) {
      if (subtitle_slot) {
        if (subtitle_slot.p && (!current || dirty & 16384)) {
          update_slot_base(subtitle_slot, subtitle_slot_template, ctx2, ctx2[14], !current ? get_all_dirty_from_scope(ctx2[14]) : get_slot_changes(subtitle_slot_template, ctx2[14], dirty, get_subtitle_slot_changes), get_subtitle_slot_context);
        }
      } else {
        if (subtitle_slot_or_fallback && subtitle_slot_or_fallback.p && (!current || dirty & 8)) {
          subtitle_slot_or_fallback.p(ctx2, !current ? -1 : dirty);
        }
      }
    },
    i(local) {
      if (current)
        return;
      transition_in(subtitle_slot_or_fallback, local);
      current = true;
    },
    o(local) {
      transition_out(subtitle_slot_or_fallback, local);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(div);
      if (subtitle_slot_or_fallback)
        subtitle_slot_or_fallback.d(detaching);
    }
  };
}
function fallback_block$1(ctx) {
  let t;
  return {
    c() {
      t = text(ctx[3]);
    },
    m(target, anchor) {
      insert(target, t, anchor);
    },
    p(ctx2, dirty) {
      if (dirty & 8)
        set_data(t, ctx2[3]);
    },
    d(detaching) {
      if (detaching)
        detach(t);
    }
  };
}
function create_if_block$6(ctx) {
  let div;
  let each_value = ode(ctx[8]);
  let each_blocks = [];
  for (let i = 0; i < each_value.length; i += 1) {
    each_blocks[i] = create_each_block$4(get_each_context$4(ctx, each_value, i));
  }
  return {
    c() {
      div = element("div");
      for (let i = 0; i < each_blocks.length; i += 1) {
        each_blocks[i].c();
      }
      attr(div, "class", "actions svelte-1ilena7");
    },
    m(target, anchor) {
      insert(target, div, anchor);
      for (let i = 0; i < each_blocks.length; i += 1) {
        each_blocks[i].m(div, null);
      }
    },
    p(ctx2, dirty) {
      if (dirty & 288) {
        each_value = ode(ctx2[8]);
        let i;
        for (i = 0; i < each_value.length; i += 1) {
          const child_ctx = get_each_context$4(ctx2, each_value, i);
          if (each_blocks[i]) {
            each_blocks[i].p(child_ctx, dirty);
          } else {
            each_blocks[i] = create_each_block$4(child_ctx);
            each_blocks[i].c();
            each_blocks[i].m(div, null);
          }
        }
        for (; i < each_blocks.length; i += 1) {
          each_blocks[i].d(1);
        }
        each_blocks.length = each_value.length;
      }
    },
    d(detaching) {
      if (detaching)
        detach(div);
      destroy_each(each_blocks, detaching);
    }
  };
}
function create_each_block$4(ctx) {
  let span2;
  let span0;
  let raw_value = ctx[5][ctx[18]] + "";
  let t0;
  let span1;
  let t1_value = ctx[19].label + "";
  let t1;
  let t2;
  let span2_class_value;
  let mounted;
  let dispose;
  function click_handler2() {
    return ctx[16](ctx[19]);
  }
  return {
    c() {
      span2 = element("span");
      span0 = element("span");
      t0 = space();
      span1 = element("span");
      t1 = text(t1_value);
      t2 = space();
      attr(span0, "class", "icon svelte-1ilena7");
      attr(span1, "class", "label");
      attr(span2, "class", span2_class_value = "action action-" + ctx[18] + " svelte-1ilena7");
    },
    m(target, anchor) {
      insert(target, span2, anchor);
      append(span2, span0);
      span0.innerHTML = raw_value;
      append(span2, t0);
      append(span2, span1);
      append(span1, t1);
      append(span2, t2);
      if (!mounted) {
        dispose = listen(span2, "click", click_handler2);
        mounted = true;
      }
    },
    p(new_ctx, dirty) {
      ctx = new_ctx;
    },
    d(detaching) {
      if (detaching)
        detach(span2);
      mounted = false;
      dispose();
    }
  };
}
function create_fragment$b(ctx) {
  let div2;
  let div0;
  let current_block_type_index;
  let if_block0;
  let t0;
  let div1;
  let span;
  let promise2;
  let t1;
  let t2;
  let t3;
  let inlinetags;
  let t4;
  let current;
  const if_block_creators = [create_if_block_3$1, create_if_block_4$1];
  const if_blocks = [];
  function select_block_type(ctx2, dirty) {
    if (ctx2[1])
      return 0;
    if (ctx2[9].pfp)
      return 1;
    return -1;
  }
  if (~(current_block_type_index = select_block_type(ctx))) {
    if_block0 = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);
  }
  let info_1 = {
    ctx,
    current: null,
    token: null,
    hasCatch: false,
    pending: create_pending_block$1,
    then: create_then_block$1,
    catch: create_catch_block$1,
    value: 22
  };
  handle_promise(promise2 = ctx[2], info_1);
  let if_block1 = ctx[4] && create_if_block_2$3();
  let if_block2 = (ctx[3] || ctx[9].subtitle) && create_if_block_1$3(ctx);
  inlinetags = new InlineTags({
    props: {
      resourcePath: ctx[6],
      rootStyle: "margin: var(--ui-padding) 0 0 0;"
    }
  });
  let if_block3 = ctx[8] && create_if_block$6(ctx);
  return {
    c() {
      div2 = element("div");
      div0 = element("div");
      if (if_block0)
        if_block0.c();
      t0 = space();
      div1 = element("div");
      span = element("span");
      info_1.block.c();
      t1 = space();
      if (if_block1)
        if_block1.c();
      t2 = space();
      if (if_block2)
        if_block2.c();
      t3 = space();
      create_component(inlinetags.$$.fragment);
      t4 = space();
      if (if_block3)
        if_block3.c();
      attr(div0, "class", "pfp svelte-1ilena7");
      attr(span, "class", "text");
      attr(div1, "class", "title svelte-1ilena7");
      attr(div2, "class", "portrait " + ctx[7] + " svelte-1ilena7");
    },
    m(target, anchor) {
      insert(target, div2, anchor);
      append(div2, div0);
      if (~current_block_type_index) {
        if_blocks[current_block_type_index].m(div0, null);
      }
      append(div2, t0);
      append(div2, div1);
      append(div1, span);
      info_1.block.m(span, info_1.anchor = null);
      info_1.mount = () => span;
      info_1.anchor = null;
      append(div1, t1);
      if (if_block1)
        if_block1.m(div1, null);
      append(div2, t2);
      if (if_block2)
        if_block2.m(div2, null);
      append(div2, t3);
      mount_component(inlinetags, div2, null);
      append(div2, t4);
      if (if_block3)
        if_block3.m(div2, null);
      current = true;
    },
    p(new_ctx, [dirty]) {
      ctx = new_ctx;
      let previous_block_index = current_block_type_index;
      current_block_type_index = select_block_type(ctx);
      if (current_block_type_index === previous_block_index) {
        if (~current_block_type_index) {
          if_blocks[current_block_type_index].p(ctx, dirty);
        }
      } else {
        if (if_block0) {
          group_outros();
          transition_out(if_blocks[previous_block_index], 1, 1, () => {
            if_blocks[previous_block_index] = null;
          });
          check_outros();
        }
        if (~current_block_type_index) {
          if_block0 = if_blocks[current_block_type_index];
          if (!if_block0) {
            if_block0 = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);
            if_block0.c();
          } else {
            if_block0.p(ctx, dirty);
          }
          transition_in(if_block0, 1);
          if_block0.m(div0, null);
        } else {
          if_block0 = null;
        }
      }
      info_1.ctx = ctx;
      if (dirty & 4 && promise2 !== (promise2 = ctx[2]) && handle_promise(promise2, info_1))
        ;
      else {
        update_await_block_branch(info_1, ctx, dirty);
      }
      if (ctx[4]) {
        if (if_block1) {
          if_block1.p(ctx, dirty);
        } else {
          if_block1 = create_if_block_2$3();
          if_block1.c();
          if_block1.m(div1, null);
        }
      } else if (if_block1) {
        if_block1.d(1);
        if_block1 = null;
      }
      if (ctx[3] || ctx[9].subtitle) {
        if (if_block2) {
          if_block2.p(ctx, dirty);
          if (dirty & 520) {
            transition_in(if_block2, 1);
          }
        } else {
          if_block2 = create_if_block_1$3(ctx);
          if_block2.c();
          transition_in(if_block2, 1);
          if_block2.m(div2, t3);
        }
      } else if (if_block2) {
        group_outros();
        transition_out(if_block2, 1, 1, () => {
          if_block2 = null;
        });
        check_outros();
      }
      if (ctx[8])
        if_block3.p(ctx, dirty);
    },
    i(local) {
      if (current)
        return;
      transition_in(if_block0);
      transition_in(if_block2);
      transition_in(inlinetags.$$.fragment, local);
      current = true;
    },
    o(local) {
      transition_out(if_block0);
      transition_out(if_block2);
      transition_out(inlinetags.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(div2);
      if (~current_block_type_index) {
        if_blocks[current_block_type_index].d();
      }
      info_1.block.d();
      info_1.token = null;
      info_1 = null;
      if (if_block1)
        if_block1.d();
      if (if_block2)
        if_block2.d();
      destroy_component(inlinetags);
      if (if_block3)
        if_block3.d();
    }
  };
}
var ActionId;
(function(ActionId2) {
  ActionId2["SEND"] = "send";
  ActionId2["RECV"] = "recv";
  ActionId2["ADD"] = "add";
  ActionId2["EDIT"] = "edit";
  ActionId2["WRAP"] = "wrap";
  ActionId2["UNWRAP"] = "unwrap";
})(ActionId || (ActionId = {}));
function instance$a($$self, $$props, $$invalidate) {
  let $yw_store_tags;
  component_subscribe($$self, yw_store_tags, ($$value) => $$invalidate(13, $yw_store_tags = $$value));
  let { $$slots: slots = {}, $$scope } = $$props;
  const $$slots = compute_slots(slots);
  const H_ACTION_ICONS = {
    send: SX_ICON_SEND,
    recv: SX_ICON_RECV,
    add: SX_ICON_ADD,
    edit: SX_ICON_EDIT$1,
    wrap: SX_ICON_WRAP,
    unwrap: SX_ICON_UNWRAP,
    delete: SX_ICON_DELETE
  };
  let { resource = null } = $$props;
  let { pfp = resource?.pfp || "" } = $$props;
  let { resourcePath } = $$props;
  const p_resource = resourcePath;
  let { rootClasses = "" } = $$props;
  const s_classes = rootClasses;
  let { title = resource?.name || "" } = $$props;
  let { subtitle = "" } = $$props;
  let { actions = null } = $$props;
  const h_actions = actions;
  let { info = false } = $$props;
  const click_handler2 = (gc_action) => gc_action.trigger();
  $$self.$$set = ($$props2) => {
    if ("resource" in $$props2)
      $$invalidate(0, resource = $$props2.resource);
    if ("pfp" in $$props2)
      $$invalidate(1, pfp = $$props2.pfp);
    if ("resourcePath" in $$props2)
      $$invalidate(10, resourcePath = $$props2.resourcePath);
    if ("rootClasses" in $$props2)
      $$invalidate(11, rootClasses = $$props2.rootClasses);
    if ("title" in $$props2)
      $$invalidate(2, title = $$props2.title);
    if ("subtitle" in $$props2)
      $$invalidate(3, subtitle = $$props2.subtitle);
    if ("actions" in $$props2)
      $$invalidate(12, actions = $$props2.actions);
    if ("info" in $$props2)
      $$invalidate(4, info = $$props2.info);
    if ("$$scope" in $$props2)
      $$invalidate(14, $$scope = $$props2.$$scope);
  };
  $$self.$$.update = () => {
    if ($$self.$$.dirty & 8192) {
      $yw_store_tags.getTagsFor(p_resource);
    }
  };
  return [
    resource,
    pfp,
    title,
    subtitle,
    info,
    H_ACTION_ICONS,
    p_resource,
    s_classes,
    h_actions,
    $$slots,
    resourcePath,
    rootClasses,
    actions,
    $yw_store_tags,
    $$scope,
    slots,
    click_handler2
  ];
}
class Portrait extends SvelteComponent {
  constructor(options) {
    super();
    init(this, options, instance$a, create_fragment$b, safe_not_equal, {
      resource: 0,
      pfp: 1,
      resourcePath: 10,
      rootClasses: 11,
      title: 2,
      subtitle: 3,
      actions: 12,
      info: 4
    });
  }
}
var SX_ICON_DROPDOWN = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n	<style type="text/css">\n		.s2r-drop-down-fg {\n			fill: var(--svg-color-fg, currentColor);\n		}\n	</style>\n	<path class="s2r-drop-down-fg" d="M8.70956 11.71L11.2996 14.3C11.6896 14.69 12.3196 14.69 12.7096 14.3L15.2996 11.71C15.9296 11.08 15.4796 10 14.5896 10H9.40956C8.51956 10 8.07956 11.08 8.70956 11.71Z" />\n</svg>\n';
function isOutOfViewport(parent, container) {
  const parentBounding = parent.getBoundingClientRect();
  const boundingContainer = container.getBoundingClientRect();
  const out = {};
  out.top = parentBounding.top < 0;
  out.left = parentBounding.left < 0;
  out.bottom = parentBounding.bottom + boundingContainer.height > (window.innerHeight || document.documentElement.clientHeight);
  out.right = parentBounding.right > (window.innerWidth || document.documentElement.clientWidth);
  out.any = out.top || out.left || out.bottom || out.right;
  return out;
}
var Item_svelte_svelte_type_style_lang = /* @__PURE__ */ (() => ".item.svelte-3e0qet{cursor:default;height:var(--height, 42px);line-height:var(--height, 42px);padding:var(--itemPadding, 0 20px);color:var(--itemColor, inherit);text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.groupHeader.svelte-3e0qet{text-transform:var(--groupTitleTextTransform, uppercase)}.groupItem.svelte-3e0qet{padding-left:var(--groupItemPaddingLeft, 40px)}.item.svelte-3e0qet:active{background:var(--itemActiveBackground, #b9daff)}.item.active.svelte-3e0qet{background:var(--itemIsActiveBG, #007aff);color:var(--itemIsActiveColor, #fff)}.item.notSelectable.svelte-3e0qet{color:var(--itemIsNotSelectableColor, #999)}.item.first.svelte-3e0qet{border-radius:var(--itemFirstBorderRadius, 4px 4px 0 0)}.item.hover.svelte-3e0qet:not(.active){background:var(--itemHoverBG, #e7f2ff);color:var(--itemHoverColor, inherit)}")();
function create_fragment$a(ctx) {
  let div;
  let raw_value = ctx[0](ctx[1], ctx[2]) + "";
  let div_class_value;
  return {
    c() {
      div = element("div");
      attr(div, "class", div_class_value = "item " + ctx[3] + " svelte-3e0qet");
    },
    m(target, anchor) {
      insert(target, div, anchor);
      div.innerHTML = raw_value;
    },
    p(ctx2, [dirty]) {
      if (dirty & 7 && raw_value !== (raw_value = ctx2[0](ctx2[1], ctx2[2]) + ""))
        div.innerHTML = raw_value;
      if (dirty & 8 && div_class_value !== (div_class_value = "item " + ctx2[3] + " svelte-3e0qet")) {
        attr(div, "class", div_class_value);
      }
    },
    i: noop$1,
    o: noop$1,
    d(detaching) {
      if (detaching)
        detach(div);
    }
  };
}
function instance$9($$self, $$props, $$invalidate) {
  let { isActive = false } = $$props;
  let { isFirst = false } = $$props;
  let { isHover = false } = $$props;
  let { isSelectable = false } = $$props;
  let { getOptionLabel = void 0 } = $$props;
  let { item = void 0 } = $$props;
  let { filterText = "" } = $$props;
  let itemClasses = "";
  $$self.$$set = ($$props2) => {
    if ("isActive" in $$props2)
      $$invalidate(4, isActive = $$props2.isActive);
    if ("isFirst" in $$props2)
      $$invalidate(5, isFirst = $$props2.isFirst);
    if ("isHover" in $$props2)
      $$invalidate(6, isHover = $$props2.isHover);
    if ("isSelectable" in $$props2)
      $$invalidate(7, isSelectable = $$props2.isSelectable);
    if ("getOptionLabel" in $$props2)
      $$invalidate(0, getOptionLabel = $$props2.getOptionLabel);
    if ("item" in $$props2)
      $$invalidate(1, item = $$props2.item);
    if ("filterText" in $$props2)
      $$invalidate(2, filterText = $$props2.filterText);
  };
  $$self.$$.update = () => {
    if ($$self.$$.dirty & 242) {
      {
        const classes = [];
        if (isActive) {
          classes.push("active");
        }
        if (isFirst) {
          classes.push("first");
        }
        if (isHover) {
          classes.push("hover");
        }
        if (item.isGroupHeader) {
          classes.push("groupHeader");
        }
        if (item.isGroupItem) {
          classes.push("groupItem");
        }
        if (!isSelectable) {
          classes.push("notSelectable");
        }
        $$invalidate(3, itemClasses = classes.join(" "));
      }
    }
  };
  return [
    getOptionLabel,
    item,
    filterText,
    itemClasses,
    isActive,
    isFirst,
    isHover,
    isSelectable
  ];
}
class Item extends SvelteComponent {
  constructor(options) {
    super();
    init(this, options, instance$9, create_fragment$a, safe_not_equal, {
      isActive: 4,
      isFirst: 5,
      isHover: 6,
      isSelectable: 7,
      getOptionLabel: 0,
      item: 1,
      filterText: 2
    });
  }
}
var List_svelte_svelte_type_style_lang = /* @__PURE__ */ (() => ".listContainer.svelte-1uyqfml{box-shadow:var(--listShadow, 0 2px 3px 0 rgba(44, 62, 80, 0.24));border-radius:var(--listBorderRadius, 4px);max-height:var(--listMaxHeight, 250px);overflow-y:auto;background:var(--listBackground, #fff);border:var(--listBorder, none);position:var(--listPosition, absolute);z-index:var(--listZIndex, 2);width:100%;left:var(--listLeft, 0);right:var(--listRight, 0)}.virtualList.svelte-1uyqfml{height:var(--virtualListHeight, 200px)}.listGroupTitle.svelte-1uyqfml{color:var(--groupTitleColor, #8f8f8f);cursor:default;font-size:var(--groupTitleFontSize, 12px);font-weight:var(--groupTitleFontWeight, 600);height:var(--height, 42px);line-height:var(--height, 42px);padding:var(--groupTitlePadding, 0 20px);text-overflow:ellipsis;overflow-x:hidden;white-space:nowrap;text-transform:var(--groupTitleTextTransform, uppercase)}.empty.svelte-1uyqfml{text-align:var(--listEmptyTextAlign, center);padding:var(--listEmptyPadding, 20px 0);color:var(--listEmptyColor, #78848f)}")();
function get_each_context$3(ctx, list, i) {
  const child_ctx = ctx.slice();
  child_ctx[41] = list[i];
  child_ctx[42] = i;
  return child_ctx;
}
function create_else_block$2(ctx) {
  let each_1_anchor;
  let current;
  let each_value = ctx[1];
  let each_blocks = [];
  for (let i = 0; i < each_value.length; i += 1) {
    each_blocks[i] = create_each_block$3(get_each_context$3(ctx, each_value, i));
  }
  const out = (i) => transition_out(each_blocks[i], 1, 1, () => {
    each_blocks[i] = null;
  });
  let each_1_else = null;
  if (!each_value.length) {
    each_1_else = create_else_block_2(ctx);
  }
  return {
    c() {
      for (let i = 0; i < each_blocks.length; i += 1) {
        each_blocks[i].c();
      }
      each_1_anchor = empty();
      if (each_1_else) {
        each_1_else.c();
      }
    },
    m(target, anchor) {
      for (let i = 0; i < each_blocks.length; i += 1) {
        each_blocks[i].m(target, anchor);
      }
      insert(target, each_1_anchor, anchor);
      if (each_1_else) {
        each_1_else.m(target, anchor);
      }
      current = true;
    },
    p(ctx2, dirty) {
      if (dirty[0] & 114390) {
        each_value = ctx2[1];
        let i;
        for (i = 0; i < each_value.length; i += 1) {
          const child_ctx = get_each_context$3(ctx2, each_value, i);
          if (each_blocks[i]) {
            each_blocks[i].p(child_ctx, dirty);
            transition_in(each_blocks[i], 1);
          } else {
            each_blocks[i] = create_each_block$3(child_ctx);
            each_blocks[i].c();
            transition_in(each_blocks[i], 1);
            each_blocks[i].m(each_1_anchor.parentNode, each_1_anchor);
          }
        }
        group_outros();
        for (i = each_value.length; i < each_blocks.length; i += 1) {
          out(i);
        }
        check_outros();
        if (!each_value.length && each_1_else) {
          each_1_else.p(ctx2, dirty);
        } else if (!each_value.length) {
          each_1_else = create_else_block_2(ctx2);
          each_1_else.c();
          each_1_else.m(each_1_anchor.parentNode, each_1_anchor);
        } else if (each_1_else) {
          each_1_else.d(1);
          each_1_else = null;
        }
      }
    },
    i(local) {
      if (current)
        return;
      for (let i = 0; i < each_value.length; i += 1) {
        transition_in(each_blocks[i]);
      }
      current = true;
    },
    o(local) {
      each_blocks = each_blocks.filter(Boolean);
      for (let i = 0; i < each_blocks.length; i += 1) {
        transition_out(each_blocks[i]);
      }
      current = false;
    },
    d(detaching) {
      destroy_each(each_blocks, detaching);
      if (detaching)
        detach(each_1_anchor);
      if (each_1_else)
        each_1_else.d(detaching);
    }
  };
}
function create_if_block$5(ctx) {
  let switch_instance;
  let switch_instance_anchor;
  let current;
  var switch_value = ctx[3];
  function switch_props(ctx2) {
    return {
      props: {
        items: ctx2[1],
        itemHeight: ctx2[8],
        $$slots: {
          default: [
            create_default_slot$1,
            ({ item, i }) => ({ 41: item, 42: i }),
            ({ item, i }) => [0, (item ? 1024 : 0) | (i ? 2048 : 0)]
          ]
        },
        $$scope: { ctx: ctx2 }
      }
    };
  }
  if (switch_value) {
    switch_instance = new switch_value(switch_props(ctx));
  }
  return {
    c() {
      if (switch_instance)
        create_component(switch_instance.$$.fragment);
      switch_instance_anchor = empty();
    },
    m(target, anchor) {
      if (switch_instance) {
        mount_component(switch_instance, target, anchor);
      }
      insert(target, switch_instance_anchor, anchor);
      current = true;
    },
    p(ctx2, dirty) {
      const switch_instance_changes = {};
      if (dirty[0] & 2)
        switch_instance_changes.items = ctx2[1];
      if (dirty[0] & 256)
        switch_instance_changes.itemHeight = ctx2[8];
      if (dirty[0] & 9814 | dirty[1] & 11264) {
        switch_instance_changes.$$scope = { dirty, ctx: ctx2 };
      }
      if (switch_value !== (switch_value = ctx2[3])) {
        if (switch_instance) {
          group_outros();
          const old_component = switch_instance;
          transition_out(old_component.$$.fragment, 1, 0, () => {
            destroy_component(old_component, 1);
          });
          check_outros();
        }
        if (switch_value) {
          switch_instance = new switch_value(switch_props(ctx2));
          create_component(switch_instance.$$.fragment);
          transition_in(switch_instance.$$.fragment, 1);
          mount_component(switch_instance, switch_instance_anchor.parentNode, switch_instance_anchor);
        } else {
          switch_instance = null;
        }
      } else if (switch_value) {
        switch_instance.$set(switch_instance_changes);
      }
    },
    i(local) {
      if (current)
        return;
      if (switch_instance)
        transition_in(switch_instance.$$.fragment, local);
      current = true;
    },
    o(local) {
      if (switch_instance)
        transition_out(switch_instance.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(switch_instance_anchor);
      if (switch_instance)
        destroy_component(switch_instance, detaching);
    }
  };
}
function create_else_block_2(ctx) {
  let if_block_anchor;
  let if_block = !ctx[11] && create_if_block_2$2(ctx);
  return {
    c() {
      if (if_block)
        if_block.c();
      if_block_anchor = empty();
    },
    m(target, anchor) {
      if (if_block)
        if_block.m(target, anchor);
      insert(target, if_block_anchor, anchor);
    },
    p(ctx2, dirty) {
      if (!ctx2[11]) {
        if (if_block) {
          if_block.p(ctx2, dirty);
        } else {
          if_block = create_if_block_2$2(ctx2);
          if_block.c();
          if_block.m(if_block_anchor.parentNode, if_block_anchor);
        }
      } else if (if_block) {
        if_block.d(1);
        if_block = null;
      }
    },
    d(detaching) {
      if (if_block)
        if_block.d(detaching);
      if (detaching)
        detach(if_block_anchor);
    }
  };
}
function create_if_block_2$2(ctx) {
  let div;
  let t;
  return {
    c() {
      div = element("div");
      t = text(ctx[12]);
      attr(div, "class", "empty svelte-1uyqfml");
    },
    m(target, anchor) {
      insert(target, div, anchor);
      append(div, t);
    },
    p(ctx2, dirty) {
      if (dirty[0] & 4096)
        set_data(t, ctx2[12]);
    },
    d(detaching) {
      if (detaching)
        detach(div);
    }
  };
}
function create_else_block_1(ctx) {
  let div;
  let switch_instance;
  let t;
  let current;
  let mounted;
  let dispose;
  var switch_value = ctx[4];
  function switch_props(ctx2) {
    return {
      props: {
        item: ctx2[41],
        filterText: ctx2[13],
        getOptionLabel: ctx2[6],
        isFirst: isItemFirst(ctx2[42]),
        isActive: isItemActive(ctx2[41], ctx2[9], ctx2[10]),
        isHover: isItemHover(ctx2[2], ctx2[41], ctx2[42], ctx2[1]),
        isSelectable: isItemSelectable(ctx2[41])
      }
    };
  }
  if (switch_value) {
    switch_instance = new switch_value(switch_props(ctx));
  }
  function mouseover_handler_1() {
    return ctx[29](ctx[42]);
  }
  function focus_handler_1() {
    return ctx[30](ctx[42]);
  }
  function click_handler_1(...args) {
    return ctx[31](ctx[41], ctx[42], ...args);
  }
  return {
    c() {
      div = element("div");
      if (switch_instance)
        create_component(switch_instance.$$.fragment);
      t = space();
      attr(div, "class", "listItem");
      attr(div, "tabindex", "-1");
    },
    m(target, anchor) {
      insert(target, div, anchor);
      if (switch_instance) {
        mount_component(switch_instance, div, null);
      }
      append(div, t);
      current = true;
      if (!mounted) {
        dispose = [
          listen(div, "mouseover", mouseover_handler_1),
          listen(div, "focus", focus_handler_1),
          listen(div, "click", click_handler_1)
        ];
        mounted = true;
      }
    },
    p(new_ctx, dirty) {
      ctx = new_ctx;
      const switch_instance_changes = {};
      if (dirty[0] & 2)
        switch_instance_changes.item = ctx[41];
      if (dirty[0] & 8192)
        switch_instance_changes.filterText = ctx[13];
      if (dirty[0] & 64)
        switch_instance_changes.getOptionLabel = ctx[6];
      if (dirty[0] & 1538)
        switch_instance_changes.isActive = isItemActive(ctx[41], ctx[9], ctx[10]);
      if (dirty[0] & 6)
        switch_instance_changes.isHover = isItemHover(ctx[2], ctx[41], ctx[42], ctx[1]);
      if (dirty[0] & 2)
        switch_instance_changes.isSelectable = isItemSelectable(ctx[41]);
      if (switch_value !== (switch_value = ctx[4])) {
        if (switch_instance) {
          group_outros();
          const old_component = switch_instance;
          transition_out(old_component.$$.fragment, 1, 0, () => {
            destroy_component(old_component, 1);
          });
          check_outros();
        }
        if (switch_value) {
          switch_instance = new switch_value(switch_props(ctx));
          create_component(switch_instance.$$.fragment);
          transition_in(switch_instance.$$.fragment, 1);
          mount_component(switch_instance, div, t);
        } else {
          switch_instance = null;
        }
      } else if (switch_value) {
        switch_instance.$set(switch_instance_changes);
      }
    },
    i(local) {
      if (current)
        return;
      if (switch_instance)
        transition_in(switch_instance.$$.fragment, local);
      current = true;
    },
    o(local) {
      if (switch_instance)
        transition_out(switch_instance.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(div);
      if (switch_instance)
        destroy_component(switch_instance);
      mounted = false;
      run_all(dispose);
    }
  };
}
function create_if_block_1$2(ctx) {
  let div;
  let t_value = ctx[7](ctx[41]) + "";
  let t;
  return {
    c() {
      div = element("div");
      t = text(t_value);
      attr(div, "class", "listGroupTitle svelte-1uyqfml");
    },
    m(target, anchor) {
      insert(target, div, anchor);
      append(div, t);
    },
    p(ctx2, dirty) {
      if (dirty[0] & 130 && t_value !== (t_value = ctx2[7](ctx2[41]) + ""))
        set_data(t, t_value);
    },
    i: noop$1,
    o: noop$1,
    d(detaching) {
      if (detaching)
        detach(div);
    }
  };
}
function create_each_block$3(ctx) {
  let current_block_type_index;
  let if_block;
  let if_block_anchor;
  let current;
  const if_block_creators = [create_if_block_1$2, create_else_block_1];
  const if_blocks = [];
  function select_block_type_1(ctx2, dirty) {
    if (ctx2[41].isGroupHeader && !ctx2[41].isSelectable)
      return 0;
    return 1;
  }
  current_block_type_index = select_block_type_1(ctx);
  if_block = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);
  return {
    c() {
      if_block.c();
      if_block_anchor = empty();
    },
    m(target, anchor) {
      if_blocks[current_block_type_index].m(target, anchor);
      insert(target, if_block_anchor, anchor);
      current = true;
    },
    p(ctx2, dirty) {
      let previous_block_index = current_block_type_index;
      current_block_type_index = select_block_type_1(ctx2);
      if (current_block_type_index === previous_block_index) {
        if_blocks[current_block_type_index].p(ctx2, dirty);
      } else {
        group_outros();
        transition_out(if_blocks[previous_block_index], 1, 1, () => {
          if_blocks[previous_block_index] = null;
        });
        check_outros();
        if_block = if_blocks[current_block_type_index];
        if (!if_block) {
          if_block = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx2);
          if_block.c();
        } else {
          if_block.p(ctx2, dirty);
        }
        transition_in(if_block, 1);
        if_block.m(if_block_anchor.parentNode, if_block_anchor);
      }
    },
    i(local) {
      if (current)
        return;
      transition_in(if_block);
      current = true;
    },
    o(local) {
      transition_out(if_block);
      current = false;
    },
    d(detaching) {
      if_blocks[current_block_type_index].d(detaching);
      if (detaching)
        detach(if_block_anchor);
    }
  };
}
function create_default_slot$1(ctx) {
  let div;
  let switch_instance;
  let current;
  let mounted;
  let dispose;
  var switch_value = ctx[4];
  function switch_props(ctx2) {
    return {
      props: {
        item: ctx2[41],
        filterText: ctx2[13],
        getOptionLabel: ctx2[6],
        isFirst: isItemFirst(ctx2[42]),
        isActive: isItemActive(ctx2[41], ctx2[9], ctx2[10]),
        isHover: isItemHover(ctx2[2], ctx2[41], ctx2[42], ctx2[1]),
        isSelectable: isItemSelectable(ctx2[41])
      }
    };
  }
  if (switch_value) {
    switch_instance = new switch_value(switch_props(ctx));
  }
  function mouseover_handler() {
    return ctx[26](ctx[42]);
  }
  function focus_handler() {
    return ctx[27](ctx[42]);
  }
  function click_handler2(...args) {
    return ctx[28](ctx[41], ctx[42], ...args);
  }
  return {
    c() {
      div = element("div");
      if (switch_instance)
        create_component(switch_instance.$$.fragment);
      attr(div, "class", "listItem");
    },
    m(target, anchor) {
      insert(target, div, anchor);
      if (switch_instance) {
        mount_component(switch_instance, div, null);
      }
      current = true;
      if (!mounted) {
        dispose = [
          listen(div, "mouseover", mouseover_handler),
          listen(div, "focus", focus_handler),
          listen(div, "click", click_handler2)
        ];
        mounted = true;
      }
    },
    p(new_ctx, dirty) {
      ctx = new_ctx;
      const switch_instance_changes = {};
      if (dirty[1] & 1024)
        switch_instance_changes.item = ctx[41];
      if (dirty[0] & 8192)
        switch_instance_changes.filterText = ctx[13];
      if (dirty[0] & 64)
        switch_instance_changes.getOptionLabel = ctx[6];
      if (dirty[1] & 2048)
        switch_instance_changes.isFirst = isItemFirst(ctx[42]);
      if (dirty[0] & 1536 | dirty[1] & 1024)
        switch_instance_changes.isActive = isItemActive(ctx[41], ctx[9], ctx[10]);
      if (dirty[0] & 6 | dirty[1] & 3072)
        switch_instance_changes.isHover = isItemHover(ctx[2], ctx[41], ctx[42], ctx[1]);
      if (dirty[1] & 1024)
        switch_instance_changes.isSelectable = isItemSelectable(ctx[41]);
      if (switch_value !== (switch_value = ctx[4])) {
        if (switch_instance) {
          group_outros();
          const old_component = switch_instance;
          transition_out(old_component.$$.fragment, 1, 0, () => {
            destroy_component(old_component, 1);
          });
          check_outros();
        }
        if (switch_value) {
          switch_instance = new switch_value(switch_props(ctx));
          create_component(switch_instance.$$.fragment);
          transition_in(switch_instance.$$.fragment, 1);
          mount_component(switch_instance, div, null);
        } else {
          switch_instance = null;
        }
      } else if (switch_value) {
        switch_instance.$set(switch_instance_changes);
      }
    },
    i(local) {
      if (current)
        return;
      if (switch_instance)
        transition_in(switch_instance.$$.fragment, local);
      current = true;
    },
    o(local) {
      if (switch_instance)
        transition_out(switch_instance.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(div);
      if (switch_instance)
        destroy_component(switch_instance);
      mounted = false;
      run_all(dispose);
    }
  };
}
function create_fragment$9(ctx) {
  let div;
  let current_block_type_index;
  let if_block;
  let current;
  let mounted;
  let dispose;
  const if_block_creators = [create_if_block$5, create_else_block$2];
  const if_blocks = [];
  function select_block_type(ctx2, dirty) {
    if (ctx2[5])
      return 0;
    return 1;
  }
  current_block_type_index = select_block_type(ctx);
  if_block = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);
  return {
    c() {
      div = element("div");
      if_block.c();
      attr(div, "class", "listContainer svelte-1uyqfml");
      attr(div, "style", ctx[14]);
      toggle_class(div, "virtualList", ctx[5]);
    },
    m(target, anchor) {
      insert(target, div, anchor);
      if_blocks[current_block_type_index].m(div, null);
      ctx[32](div);
      current = true;
      if (!mounted) {
        dispose = [
          listen(window, "keydown", ctx[17]),
          listen(window, "resize", ctx[18])
        ];
        mounted = true;
      }
    },
    p(ctx2, dirty) {
      let previous_block_index = current_block_type_index;
      current_block_type_index = select_block_type(ctx2);
      if (current_block_type_index === previous_block_index) {
        if_blocks[current_block_type_index].p(ctx2, dirty);
      } else {
        group_outros();
        transition_out(if_blocks[previous_block_index], 1, 1, () => {
          if_blocks[previous_block_index] = null;
        });
        check_outros();
        if_block = if_blocks[current_block_type_index];
        if (!if_block) {
          if_block = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx2);
          if_block.c();
        } else {
          if_block.p(ctx2, dirty);
        }
        transition_in(if_block, 1);
        if_block.m(div, null);
      }
      if (!current || dirty[0] & 16384) {
        attr(div, "style", ctx2[14]);
      }
      if (dirty[0] & 32) {
        toggle_class(div, "virtualList", ctx2[5]);
      }
    },
    i(local) {
      if (current)
        return;
      transition_in(if_block);
      current = true;
    },
    o(local) {
      transition_out(if_block);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(div);
      if_blocks[current_block_type_index].d();
      ctx[32](null);
      mounted = false;
      run_all(dispose);
    }
  };
}
function isItemActive(item, value, optionIdentifier) {
  return value && value[optionIdentifier] === item[optionIdentifier];
}
function isItemFirst(itemIndex) {
  return itemIndex === 0;
}
function isItemHover(hoverItemIndex, item, itemIndex, items) {
  return isItemSelectable(item) && (hoverItemIndex === itemIndex || items.length === 1);
}
function isItemSelectable(item) {
  return item.isGroupHeader && item.isSelectable || item.selectable || !item.hasOwnProperty("selectable");
}
function instance$8($$self, $$props, $$invalidate) {
  const dispatch2 = createEventDispatcher();
  let { container = void 0 } = $$props;
  let { VirtualList: VirtualList2 = null } = $$props;
  let { Item: Item$1 = Item } = $$props;
  let { isVirtualList = false } = $$props;
  let { items = [] } = $$props;
  let { labelIdentifier = "label" } = $$props;
  let { getOptionLabel = (option, filterText2) => {
    if (option)
      return option.isCreator ? `Create "${filterText2}"` : option[labelIdentifier];
  } } = $$props;
  let { getGroupHeaderLabel = null } = $$props;
  let { itemHeight = 40 } = $$props;
  let { hoverItemIndex = 0 } = $$props;
  let { value = void 0 } = $$props;
  let { optionIdentifier = "value" } = $$props;
  let { hideEmptyState = false } = $$props;
  let { noOptionsMessage = "No options" } = $$props;
  let { isMulti = false } = $$props;
  let { activeItemIndex = 0 } = $$props;
  let { filterText = "" } = $$props;
  let { parent = null } = $$props;
  let { listPlacement = null } = $$props;
  let { listAutoWidth = null } = $$props;
  let { listOffset = 5 } = $$props;
  let isScrollingTimer = 0;
  let isScrolling = false;
  let prev_items;
  onMount(() => {
    if (items.length > 0 && !isMulti && value) {
      const _hoverItemIndex = items.findIndex((item) => item[optionIdentifier] === value[optionIdentifier]);
      if (_hoverItemIndex) {
        $$invalidate(2, hoverItemIndex = _hoverItemIndex);
      }
    }
    scrollToActiveItem("active");
    container.addEventListener("scroll", () => {
      clearTimeout(isScrollingTimer);
      isScrollingTimer = setTimeout(() => {
        isScrolling = false;
      }, 100);
    }, false);
  });
  beforeUpdate(() => {
    if (!items)
      $$invalidate(1, items = []);
    if (items !== prev_items && items.length > 0) {
      $$invalidate(2, hoverItemIndex = 0);
    }
    prev_items = items;
  });
  function handleSelect(item) {
    if (item.isCreator)
      return;
    dispatch2("itemSelected", item);
  }
  function handleHover(i) {
    if (isScrolling)
      return;
    $$invalidate(2, hoverItemIndex = i);
  }
  function handleClick(args) {
    const { item, i, event } = args;
    event.stopPropagation();
    if (value && !isMulti && value[optionIdentifier] === item[optionIdentifier])
      return closeList();
    if (item.isCreator) {
      dispatch2("itemCreated", filterText);
    } else if (isItemSelectable(item)) {
      $$invalidate(19, activeItemIndex = i);
      $$invalidate(2, hoverItemIndex = i);
      handleSelect(item);
    }
  }
  function closeList() {
    dispatch2("closeList");
  }
  async function updateHoverItem(increment) {
    if (isVirtualList)
      return;
    let isNonSelectableItem = true;
    while (isNonSelectableItem) {
      if (increment > 0 && hoverItemIndex === items.length - 1) {
        $$invalidate(2, hoverItemIndex = 0);
      } else if (increment < 0 && hoverItemIndex === 0) {
        $$invalidate(2, hoverItemIndex = items.length - 1);
      } else {
        $$invalidate(2, hoverItemIndex = hoverItemIndex + increment);
      }
      isNonSelectableItem = !isItemSelectable(items[hoverItemIndex]);
    }
    await tick();
    scrollToActiveItem("hover");
  }
  function handleKeyDown(e) {
    switch (e.key) {
      case "Escape":
        e.preventDefault();
        closeList();
        break;
      case "ArrowDown":
        e.preventDefault();
        items.length && updateHoverItem(1);
        break;
      case "ArrowUp":
        e.preventDefault();
        items.length && updateHoverItem(-1);
        break;
      case "Enter":
        e.preventDefault();
        if (items.length === 0)
          break;
        const hoverItem = items[hoverItemIndex];
        if (value && !isMulti && value[optionIdentifier] === hoverItem[optionIdentifier]) {
          closeList();
          break;
        }
        if (hoverItem.isCreator) {
          dispatch2("itemCreated", filterText);
        } else {
          $$invalidate(19, activeItemIndex = hoverItemIndex);
          handleSelect(items[hoverItemIndex]);
        }
        break;
      case "Tab":
        e.preventDefault();
        if (items.length === 0) {
          return closeList();
        }
        if (value && value[optionIdentifier] === items[hoverItemIndex][optionIdentifier])
          return closeList();
        $$invalidate(19, activeItemIndex = hoverItemIndex);
        handleSelect(items[hoverItemIndex]);
        break;
    }
  }
  function scrollToActiveItem(className) {
    if (isVirtualList || !container)
      return;
    let offsetBounding;
    const focusedElemBounding = container.querySelector(`.listItem .${className}`);
    if (focusedElemBounding) {
      offsetBounding = container.getBoundingClientRect().bottom - focusedElemBounding.getBoundingClientRect().bottom;
    }
    $$invalidate(0, container.scrollTop -= offsetBounding, container);
  }
  let listStyle;
  function computePlacement() {
    const { height, width } = parent.getBoundingClientRect();
    $$invalidate(14, listStyle = "");
    $$invalidate(14, listStyle += `min-width:${width}px;width:${listAutoWidth ? "auto" : "100%"};`);
    if (listPlacement === "top" || listPlacement === "auto" && isOutOfViewport(parent, container).bottom) {
      $$invalidate(14, listStyle += `bottom:${height + listOffset}px;`);
    } else {
      $$invalidate(14, listStyle += `top:${height + listOffset}px;`);
    }
  }
  const mouseover_handler = (i) => handleHover(i);
  const focus_handler = (i) => handleHover(i);
  const click_handler2 = (item, i, event) => handleClick({ item, i, event });
  const mouseover_handler_1 = (i) => handleHover(i);
  const focus_handler_1 = (i) => handleHover(i);
  const click_handler_1 = (item, i, event) => handleClick({ item, i, event });
  function div_binding($$value) {
    binding_callbacks[$$value ? "unshift" : "push"](() => {
      container = $$value;
      $$invalidate(0, container);
    });
  }
  $$self.$$set = ($$props2) => {
    if ("container" in $$props2)
      $$invalidate(0, container = $$props2.container);
    if ("VirtualList" in $$props2)
      $$invalidate(3, VirtualList2 = $$props2.VirtualList);
    if ("Item" in $$props2)
      $$invalidate(4, Item$1 = $$props2.Item);
    if ("isVirtualList" in $$props2)
      $$invalidate(5, isVirtualList = $$props2.isVirtualList);
    if ("items" in $$props2)
      $$invalidate(1, items = $$props2.items);
    if ("labelIdentifier" in $$props2)
      $$invalidate(20, labelIdentifier = $$props2.labelIdentifier);
    if ("getOptionLabel" in $$props2)
      $$invalidate(6, getOptionLabel = $$props2.getOptionLabel);
    if ("getGroupHeaderLabel" in $$props2)
      $$invalidate(7, getGroupHeaderLabel = $$props2.getGroupHeaderLabel);
    if ("itemHeight" in $$props2)
      $$invalidate(8, itemHeight = $$props2.itemHeight);
    if ("hoverItemIndex" in $$props2)
      $$invalidate(2, hoverItemIndex = $$props2.hoverItemIndex);
    if ("value" in $$props2)
      $$invalidate(9, value = $$props2.value);
    if ("optionIdentifier" in $$props2)
      $$invalidate(10, optionIdentifier = $$props2.optionIdentifier);
    if ("hideEmptyState" in $$props2)
      $$invalidate(11, hideEmptyState = $$props2.hideEmptyState);
    if ("noOptionsMessage" in $$props2)
      $$invalidate(12, noOptionsMessage = $$props2.noOptionsMessage);
    if ("isMulti" in $$props2)
      $$invalidate(21, isMulti = $$props2.isMulti);
    if ("activeItemIndex" in $$props2)
      $$invalidate(19, activeItemIndex = $$props2.activeItemIndex);
    if ("filterText" in $$props2)
      $$invalidate(13, filterText = $$props2.filterText);
    if ("parent" in $$props2)
      $$invalidate(22, parent = $$props2.parent);
    if ("listPlacement" in $$props2)
      $$invalidate(23, listPlacement = $$props2.listPlacement);
    if ("listAutoWidth" in $$props2)
      $$invalidate(24, listAutoWidth = $$props2.listAutoWidth);
    if ("listOffset" in $$props2)
      $$invalidate(25, listOffset = $$props2.listOffset);
  };
  $$self.$$.update = () => {
    if ($$self.$$.dirty[0] & 4194305) {
      {
        if (parent && container)
          computePlacement();
      }
    }
  };
  return [
    container,
    items,
    hoverItemIndex,
    VirtualList2,
    Item$1,
    isVirtualList,
    getOptionLabel,
    getGroupHeaderLabel,
    itemHeight,
    value,
    optionIdentifier,
    hideEmptyState,
    noOptionsMessage,
    filterText,
    listStyle,
    handleHover,
    handleClick,
    handleKeyDown,
    computePlacement,
    activeItemIndex,
    labelIdentifier,
    isMulti,
    parent,
    listPlacement,
    listAutoWidth,
    listOffset,
    mouseover_handler,
    focus_handler,
    click_handler2,
    mouseover_handler_1,
    focus_handler_1,
    click_handler_1,
    div_binding
  ];
}
class List extends SvelteComponent {
  constructor(options) {
    super();
    init(this, options, instance$8, create_fragment$9, safe_not_equal, {
      container: 0,
      VirtualList: 3,
      Item: 4,
      isVirtualList: 5,
      items: 1,
      labelIdentifier: 20,
      getOptionLabel: 6,
      getGroupHeaderLabel: 7,
      itemHeight: 8,
      hoverItemIndex: 2,
      value: 9,
      optionIdentifier: 10,
      hideEmptyState: 11,
      noOptionsMessage: 12,
      isMulti: 21,
      activeItemIndex: 19,
      filterText: 13,
      parent: 22,
      listPlacement: 23,
      listAutoWidth: 24,
      listOffset: 25
    }, null, [-1, -1]);
  }
}
var Selection_svelte_svelte_type_style_lang = /* @__PURE__ */ (() => ".selection.svelte-pu1q1n{text-overflow:ellipsis;overflow-x:hidden;white-space:nowrap}")();
function create_fragment$8(ctx) {
  let div;
  let raw_value = ctx[0](ctx[1]) + "";
  return {
    c() {
      div = element("div");
      attr(div, "class", "selection svelte-pu1q1n");
    },
    m(target, anchor) {
      insert(target, div, anchor);
      div.innerHTML = raw_value;
    },
    p(ctx2, [dirty]) {
      if (dirty & 3 && raw_value !== (raw_value = ctx2[0](ctx2[1]) + ""))
        div.innerHTML = raw_value;
    },
    i: noop$1,
    o: noop$1,
    d(detaching) {
      if (detaching)
        detach(div);
    }
  };
}
function instance$7($$self, $$props, $$invalidate) {
  let { getSelectionLabel = void 0 } = $$props;
  let { item = void 0 } = $$props;
  $$self.$$set = ($$props2) => {
    if ("getSelectionLabel" in $$props2)
      $$invalidate(0, getSelectionLabel = $$props2.getSelectionLabel);
    if ("item" in $$props2)
      $$invalidate(1, item = $$props2.item);
  };
  return [getSelectionLabel, item];
}
class Selection extends SvelteComponent {
  constructor(options) {
    super();
    init(this, options, instance$7, create_fragment$8, safe_not_equal, { getSelectionLabel: 0, item: 1 });
  }
}
var MultiSelection_svelte_svelte_type_style_lang = /* @__PURE__ */ (() => ".multiSelectItem.svelte-liu9pa.svelte-liu9pa{background:var(--multiItemBG, #ebedef);margin:var(--multiItemMargin, 5px 5px 0 0);border-radius:var(--multiItemBorderRadius, 16px);height:var(--multiItemHeight, 32px);line-height:var(--multiItemHeight, 32px);display:flex;cursor:default;padding:var(--multiItemPadding, 0 10px 0 15px);max-width:100%}.multiSelectItem_label.svelte-liu9pa.svelte-liu9pa{margin:var(--multiLabelMargin, 0 5px 0 0);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.multiSelectItem.svelte-liu9pa.svelte-liu9pa:hover,.multiSelectItem.active.svelte-liu9pa.svelte-liu9pa{background-color:var(--multiItemActiveBG, #006fff);color:var(--multiItemActiveColor, #fff)}.multiSelectItem.disabled.svelte-liu9pa.svelte-liu9pa:hover{background:var(--multiItemDisabledHoverBg, #ebedef);color:var(--multiItemDisabledHoverColor, #c1c6cc)}.multiSelectItem_clear.svelte-liu9pa.svelte-liu9pa{border-radius:var(--multiClearRadius, 50%);background:var(--multiClearBG, #52616f);min-width:var(--multiClearWidth, 16px);max-width:var(--multiClearWidth, 16px);height:var(--multiClearHeight, 16px);position:relative;top:var(--multiClearTop, 8px);text-align:var(--multiClearTextAlign, center);padding:var(--multiClearPadding, 1px)}.multiSelectItem_clear.svelte-liu9pa.svelte-liu9pa:hover,.active.svelte-liu9pa .multiSelectItem_clear.svelte-liu9pa{background:var(--multiClearHoverBG, #fff)}.multiSelectItem_clear.svelte-liu9pa:hover svg.svelte-liu9pa,.active.svelte-liu9pa .multiSelectItem_clear svg.svelte-liu9pa{fill:var(--multiClearHoverFill, #006fff)}.multiSelectItem_clear.svelte-liu9pa svg.svelte-liu9pa{fill:var(--multiClearFill, #ebedef);vertical-align:top}")();
function get_each_context$2(ctx, list, i) {
  const child_ctx = ctx.slice();
  child_ctx[9] = list[i];
  child_ctx[11] = i;
  return child_ctx;
}
function create_if_block$4(ctx) {
  let div;
  let mounted;
  let dispose;
  function click_handler2(...args) {
    return ctx[6](ctx[11], ...args);
  }
  return {
    c() {
      div = element("div");
      div.innerHTML = `<svg width="100%" height="100%" viewBox="-2 -2 50 50" focusable="false" aria-hidden="true" role="presentation" class="svelte-liu9pa"><path d="M34.923,37.251L24,26.328L13.077,37.251L9.436,33.61l10.923-10.923L9.436,11.765l3.641-3.641L24,19.047L34.923,8.124 l3.641,3.641L27.641,22.688L38.564,33.61L34.923,37.251z"></path></svg>`;
      attr(div, "class", "multiSelectItem_clear svelte-liu9pa");
    },
    m(target, anchor) {
      insert(target, div, anchor);
      if (!mounted) {
        dispose = listen(div, "click", click_handler2);
        mounted = true;
      }
    },
    p(new_ctx, dirty) {
      ctx = new_ctx;
    },
    d(detaching) {
      if (detaching)
        detach(div);
      mounted = false;
      dispose();
    }
  };
}
function create_each_block$2(ctx) {
  let div1;
  let div0;
  let raw_value = ctx[4](ctx[9]) + "";
  let t0;
  let t1;
  let div1_class_value;
  let mounted;
  let dispose;
  let if_block = !ctx[2] && !ctx[3] && create_if_block$4(ctx);
  function click_handler_1(...args) {
    return ctx[7](ctx[11], ...args);
  }
  return {
    c() {
      div1 = element("div");
      div0 = element("div");
      t0 = space();
      if (if_block)
        if_block.c();
      t1 = space();
      attr(div0, "class", "multiSelectItem_label svelte-liu9pa");
      attr(div1, "class", div1_class_value = "multiSelectItem " + (ctx[1] === ctx[11] ? "active" : "") + " " + (ctx[2] ? "disabled" : "") + " svelte-liu9pa");
    },
    m(target, anchor) {
      insert(target, div1, anchor);
      append(div1, div0);
      div0.innerHTML = raw_value;
      append(div1, t0);
      if (if_block)
        if_block.m(div1, null);
      append(div1, t1);
      if (!mounted) {
        dispose = listen(div1, "click", click_handler_1);
        mounted = true;
      }
    },
    p(new_ctx, dirty) {
      ctx = new_ctx;
      if (dirty & 17 && raw_value !== (raw_value = ctx[4](ctx[9]) + ""))
        div0.innerHTML = raw_value;
      if (!ctx[2] && !ctx[3]) {
        if (if_block) {
          if_block.p(ctx, dirty);
        } else {
          if_block = create_if_block$4(ctx);
          if_block.c();
          if_block.m(div1, t1);
        }
      } else if (if_block) {
        if_block.d(1);
        if_block = null;
      }
      if (dirty & 6 && div1_class_value !== (div1_class_value = "multiSelectItem " + (ctx[1] === ctx[11] ? "active" : "") + " " + (ctx[2] ? "disabled" : "") + " svelte-liu9pa")) {
        attr(div1, "class", div1_class_value);
      }
    },
    d(detaching) {
      if (detaching)
        detach(div1);
      if (if_block)
        if_block.d();
      mounted = false;
      dispose();
    }
  };
}
function create_fragment$7(ctx) {
  let each_1_anchor;
  let each_value = ctx[0];
  let each_blocks = [];
  for (let i = 0; i < each_value.length; i += 1) {
    each_blocks[i] = create_each_block$2(get_each_context$2(ctx, each_value, i));
  }
  return {
    c() {
      for (let i = 0; i < each_blocks.length; i += 1) {
        each_blocks[i].c();
      }
      each_1_anchor = empty();
    },
    m(target, anchor) {
      for (let i = 0; i < each_blocks.length; i += 1) {
        each_blocks[i].m(target, anchor);
      }
      insert(target, each_1_anchor, anchor);
    },
    p(ctx2, [dirty]) {
      if (dirty & 63) {
        each_value = ctx2[0];
        let i;
        for (i = 0; i < each_value.length; i += 1) {
          const child_ctx = get_each_context$2(ctx2, each_value, i);
          if (each_blocks[i]) {
            each_blocks[i].p(child_ctx, dirty);
          } else {
            each_blocks[i] = create_each_block$2(child_ctx);
            each_blocks[i].c();
            each_blocks[i].m(each_1_anchor.parentNode, each_1_anchor);
          }
        }
        for (; i < each_blocks.length; i += 1) {
          each_blocks[i].d(1);
        }
        each_blocks.length = each_value.length;
      }
    },
    i: noop$1,
    o: noop$1,
    d(detaching) {
      destroy_each(each_blocks, detaching);
      if (detaching)
        detach(each_1_anchor);
    }
  };
}
function instance$6($$self, $$props, $$invalidate) {
  const dispatch2 = createEventDispatcher();
  let { value = [] } = $$props;
  let { activeValue = void 0 } = $$props;
  let { isDisabled = false } = $$props;
  let { multiFullItemClearable = false } = $$props;
  let { getSelectionLabel = void 0 } = $$props;
  function handleClear(i, event) {
    event.stopPropagation();
    dispatch2("multiItemClear", { i });
  }
  const click_handler2 = (i, event) => handleClear(i, event);
  const click_handler_1 = (i, event) => multiFullItemClearable ? handleClear(i, event) : {};
  $$self.$$set = ($$props2) => {
    if ("value" in $$props2)
      $$invalidate(0, value = $$props2.value);
    if ("activeValue" in $$props2)
      $$invalidate(1, activeValue = $$props2.activeValue);
    if ("isDisabled" in $$props2)
      $$invalidate(2, isDisabled = $$props2.isDisabled);
    if ("multiFullItemClearable" in $$props2)
      $$invalidate(3, multiFullItemClearable = $$props2.multiFullItemClearable);
    if ("getSelectionLabel" in $$props2)
      $$invalidate(4, getSelectionLabel = $$props2.getSelectionLabel);
  };
  return [
    value,
    activeValue,
    isDisabled,
    multiFullItemClearable,
    getSelectionLabel,
    handleClear,
    click_handler2,
    click_handler_1
  ];
}
class MultiSelection extends SvelteComponent {
  constructor(options) {
    super();
    init(this, options, instance$6, create_fragment$7, safe_not_equal, {
      value: 0,
      activeValue: 1,
      isDisabled: 2,
      multiFullItemClearable: 3,
      getSelectionLabel: 4
    });
  }
}
var VirtualList_svelte_svelte_type_style_lang = /* @__PURE__ */ (() => "svelte-virtual-list-viewport.svelte-g2cagw{position:relative;overflow-y:auto;-webkit-overflow-scrolling:touch;display:block}svelte-virtual-list-contents.svelte-g2cagw,svelte-virtual-list-row.svelte-g2cagw{display:block}svelte-virtual-list-row.svelte-g2cagw{overflow:hidden}")();
function get_each_context$1(ctx, list, i) {
  const child_ctx = ctx.slice();
  child_ctx[23] = list[i];
  return child_ctx;
}
const get_default_slot_changes = (dirty) => ({
  item: dirty & 32,
  i: dirty & 32,
  hoverItemIndex: dirty & 2
});
const get_default_slot_context = (ctx) => ({
  item: ctx[23].data,
  i: ctx[23].index,
  hoverItemIndex: ctx[1]
});
function fallback_block(ctx) {
  let t;
  return {
    c() {
      t = text("Missing template");
    },
    m(target, anchor) {
      insert(target, t, anchor);
    },
    d(detaching) {
      if (detaching)
        detach(t);
    }
  };
}
function create_each_block$1(key_1, ctx) {
  let svelte_virtual_list_row;
  let t;
  let current;
  const default_slot_template = ctx[15].default;
  const default_slot = create_slot(default_slot_template, ctx, ctx[14], get_default_slot_context);
  const default_slot_or_fallback = default_slot || fallback_block();
  return {
    key: key_1,
    first: null,
    c() {
      svelte_virtual_list_row = element("svelte-virtual-list-row");
      if (default_slot_or_fallback)
        default_slot_or_fallback.c();
      t = space();
      set_custom_element_data(svelte_virtual_list_row, "class", "svelte-g2cagw");
      this.first = svelte_virtual_list_row;
    },
    m(target, anchor) {
      insert(target, svelte_virtual_list_row, anchor);
      if (default_slot_or_fallback) {
        default_slot_or_fallback.m(svelte_virtual_list_row, null);
      }
      append(svelte_virtual_list_row, t);
      current = true;
    },
    p(new_ctx, dirty) {
      ctx = new_ctx;
      if (default_slot) {
        if (default_slot.p && (!current || dirty & 16418)) {
          update_slot_base(default_slot, default_slot_template, ctx, ctx[14], !current ? get_all_dirty_from_scope(ctx[14]) : get_slot_changes(default_slot_template, ctx[14], dirty, get_default_slot_changes), get_default_slot_context);
        }
      }
    },
    i(local) {
      if (current)
        return;
      transition_in(default_slot_or_fallback, local);
      current = true;
    },
    o(local) {
      transition_out(default_slot_or_fallback, local);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(svelte_virtual_list_row);
      if (default_slot_or_fallback)
        default_slot_or_fallback.d(detaching);
    }
  };
}
function create_fragment$6(ctx) {
  let svelte_virtual_list_viewport;
  let svelte_virtual_list_contents;
  let each_blocks = [];
  let each_1_lookup = /* @__PURE__ */ new Map();
  let svelte_virtual_list_viewport_resize_listener;
  let current;
  let mounted;
  let dispose;
  let each_value = ctx[5];
  const get_key = (ctx2) => ctx2[23].index;
  for (let i = 0; i < each_value.length; i += 1) {
    let child_ctx = get_each_context$1(ctx, each_value, i);
    let key = get_key(child_ctx);
    each_1_lookup.set(key, each_blocks[i] = create_each_block$1(key, child_ctx));
  }
  return {
    c() {
      svelte_virtual_list_viewport = element("svelte-virtual-list-viewport");
      svelte_virtual_list_contents = element("svelte-virtual-list-contents");
      for (let i = 0; i < each_blocks.length; i += 1) {
        each_blocks[i].c();
      }
      set_style(svelte_virtual_list_contents, "padding-top", ctx[6] + "px");
      set_style(svelte_virtual_list_contents, "padding-bottom", ctx[7] + "px");
      set_custom_element_data(svelte_virtual_list_contents, "class", "svelte-g2cagw");
      set_style(svelte_virtual_list_viewport, "height", ctx[0]);
      set_custom_element_data(svelte_virtual_list_viewport, "class", "svelte-g2cagw");
      add_render_callback(() => ctx[18].call(svelte_virtual_list_viewport));
    },
    m(target, anchor) {
      insert(target, svelte_virtual_list_viewport, anchor);
      append(svelte_virtual_list_viewport, svelte_virtual_list_contents);
      for (let i = 0; i < each_blocks.length; i += 1) {
        each_blocks[i].m(svelte_virtual_list_contents, null);
      }
      ctx[16](svelte_virtual_list_contents);
      ctx[17](svelte_virtual_list_viewport);
      svelte_virtual_list_viewport_resize_listener = add_resize_listener(svelte_virtual_list_viewport, ctx[18].bind(svelte_virtual_list_viewport));
      current = true;
      if (!mounted) {
        dispose = listen(svelte_virtual_list_viewport, "scroll", ctx[8]);
        mounted = true;
      }
    },
    p(ctx2, [dirty]) {
      if (dirty & 16418) {
        each_value = ctx2[5];
        group_outros();
        each_blocks = update_keyed_each(each_blocks, dirty, get_key, 1, ctx2, each_value, each_1_lookup, svelte_virtual_list_contents, outro_and_destroy_block, create_each_block$1, null, get_each_context$1);
        check_outros();
      }
      if (!current || dirty & 64) {
        set_style(svelte_virtual_list_contents, "padding-top", ctx2[6] + "px");
      }
      if (!current || dirty & 128) {
        set_style(svelte_virtual_list_contents, "padding-bottom", ctx2[7] + "px");
      }
      if (!current || dirty & 1) {
        set_style(svelte_virtual_list_viewport, "height", ctx2[0]);
      }
    },
    i(local) {
      if (current)
        return;
      for (let i = 0; i < each_value.length; i += 1) {
        transition_in(each_blocks[i]);
      }
      current = true;
    },
    o(local) {
      for (let i = 0; i < each_blocks.length; i += 1) {
        transition_out(each_blocks[i]);
      }
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(svelte_virtual_list_viewport);
      for (let i = 0; i < each_blocks.length; i += 1) {
        each_blocks[i].d();
      }
      ctx[16](null);
      ctx[17](null);
      svelte_virtual_list_viewport_resize_listener();
      mounted = false;
      dispose();
    }
  };
}
function instance$5($$self, $$props, $$invalidate) {
  let { $$slots: slots = {}, $$scope } = $$props;
  let { items = void 0 } = $$props;
  let { height = "100%" } = $$props;
  let { itemHeight = 40 } = $$props;
  let { hoverItemIndex = 0 } = $$props;
  let { start = 0 } = $$props;
  let { end: end2 = 0 } = $$props;
  let height_map = [];
  let rows;
  let viewport;
  let contents;
  let viewport_height = 0;
  let visible;
  let mounted;
  let top = 0;
  let bottom = 0;
  let average_height;
  async function refresh(items2, viewport_height2, itemHeight2) {
    const { scrollTop } = viewport;
    await tick();
    let content_height = top - scrollTop;
    let i = start;
    while (content_height < viewport_height2 && i < items2.length) {
      let row = rows[i - start];
      if (!row) {
        $$invalidate(10, end2 = i + 1);
        await tick();
        row = rows[i - start];
      }
      const row_height = height_map[i] = itemHeight2 || row.offsetHeight;
      content_height += row_height;
      i += 1;
    }
    $$invalidate(10, end2 = i);
    const remaining = items2.length - end2;
    average_height = (top + content_height) / end2;
    $$invalidate(7, bottom = remaining * average_height);
    height_map.length = items2.length;
    if (viewport)
      $$invalidate(3, viewport.scrollTop = 0, viewport);
  }
  async function handle_scroll() {
    const { scrollTop } = viewport;
    const old_start = start;
    for (let v = 0; v < rows.length; v += 1) {
      height_map[start + v] = itemHeight || rows[v].offsetHeight;
    }
    let i = 0;
    let y = 0;
    while (i < items.length) {
      const row_height = height_map[i] || average_height;
      if (y + row_height > scrollTop) {
        $$invalidate(9, start = i);
        $$invalidate(6, top = y);
        break;
      }
      y += row_height;
      i += 1;
    }
    while (i < items.length) {
      y += height_map[i] || average_height;
      i += 1;
      if (y > scrollTop + viewport_height)
        break;
    }
    $$invalidate(10, end2 = i);
    const remaining = items.length - end2;
    average_height = y / end2;
    while (i < items.length)
      height_map[i++] = average_height;
    $$invalidate(7, bottom = remaining * average_height);
    if (start < old_start) {
      await tick();
      let expected_height = 0;
      let actual_height = 0;
      for (let i2 = start; i2 < old_start; i2 += 1) {
        if (rows[i2 - start]) {
          expected_height += height_map[i2];
          actual_height += itemHeight || rows[i2 - start].offsetHeight;
        }
      }
      const d = actual_height - expected_height;
      viewport.scrollTo(0, scrollTop + d);
    }
  }
  onMount(() => {
    rows = contents.getElementsByTagName("svelte-virtual-list-row");
    $$invalidate(13, mounted = true);
  });
  function svelte_virtual_list_contents_binding($$value) {
    binding_callbacks[$$value ? "unshift" : "push"](() => {
      contents = $$value;
      $$invalidate(4, contents);
    });
  }
  function svelte_virtual_list_viewport_binding($$value) {
    binding_callbacks[$$value ? "unshift" : "push"](() => {
      viewport = $$value;
      $$invalidate(3, viewport);
    });
  }
  function svelte_virtual_list_viewport_elementresize_handler() {
    viewport_height = this.offsetHeight;
    $$invalidate(2, viewport_height);
  }
  $$self.$$set = ($$props2) => {
    if ("items" in $$props2)
      $$invalidate(11, items = $$props2.items);
    if ("height" in $$props2)
      $$invalidate(0, height = $$props2.height);
    if ("itemHeight" in $$props2)
      $$invalidate(12, itemHeight = $$props2.itemHeight);
    if ("hoverItemIndex" in $$props2)
      $$invalidate(1, hoverItemIndex = $$props2.hoverItemIndex);
    if ("start" in $$props2)
      $$invalidate(9, start = $$props2.start);
    if ("end" in $$props2)
      $$invalidate(10, end2 = $$props2.end);
    if ("$$scope" in $$props2)
      $$invalidate(14, $$scope = $$props2.$$scope);
  };
  $$self.$$.update = () => {
    if ($$self.$$.dirty & 3584) {
      $$invalidate(5, visible = items.slice(start, end2).map((data, i) => {
        return { index: i + start, data };
      }));
    }
    if ($$self.$$.dirty & 14340) {
      if (mounted)
        refresh(items, viewport_height, itemHeight);
    }
  };
  return [
    height,
    hoverItemIndex,
    viewport_height,
    viewport,
    contents,
    visible,
    top,
    bottom,
    handle_scroll,
    start,
    end2,
    items,
    itemHeight,
    mounted,
    $$scope,
    slots,
    svelte_virtual_list_contents_binding,
    svelte_virtual_list_viewport_binding,
    svelte_virtual_list_viewport_elementresize_handler
  ];
}
class VirtualList extends SvelteComponent {
  constructor(options) {
    super();
    init(this, options, instance$5, create_fragment$6, safe_not_equal, {
      items: 11,
      height: 0,
      itemHeight: 12,
      hoverItemIndex: 1,
      start: 9,
      end: 10
    });
  }
}
function create_fragment$5(ctx) {
  let svg;
  let path;
  return {
    c() {
      svg = svg_element("svg");
      path = svg_element("path");
      attr(path, "fill", "currentColor");
      attr(path, "d", "M34.923,37.251L24,26.328L13.077,37.251L9.436,33.61l10.923-10.923L9.436,11.765l3.641-3.641L24,19.047L34.923,8.124\n    l3.641,3.641L27.641,22.688L38.564,33.61L34.923,37.251z");
      attr(svg, "width", "100%");
      attr(svg, "height", "100%");
      attr(svg, "viewBox", "-2 -2 50 50");
      attr(svg, "focusable", "false");
      attr(svg, "aria-hidden", "true");
      attr(svg, "role", "presentation");
    },
    m(target, anchor) {
      insert(target, svg, anchor);
      append(svg, path);
    },
    p: noop$1,
    i: noop$1,
    o: noop$1,
    d(detaching) {
      if (detaching)
        detach(svg);
    }
  };
}
class ClearIcon extends SvelteComponent {
  constructor(options) {
    super();
    init(this, options, null, create_fragment$5, safe_not_equal, {});
  }
}
function debounce(func, wait2, immediate) {
  let timeout2;
  return function executedFunction() {
    let context = this;
    let args = arguments;
    let later = function() {
      timeout2 = null;
      if (!immediate)
        func.apply(context, args);
    };
    let callNow = immediate && !timeout2;
    clearTimeout(timeout2);
    timeout2 = setTimeout(later, wait2);
    if (callNow)
      func.apply(context, args);
  };
}
var Select_svelte_svelte_type_style_lang = /* @__PURE__ */ (() => ".selectContainer.svelte-17l1npl.svelte-17l1npl{--internalPadding:0 16px;border:var(--border, 1px solid #d8dbdf);border-radius:var(--borderRadius, 3px);box-sizing:border-box;height:var(--height, 42px);position:relative;display:flex;align-items:center;padding:var(--padding, var(--internalPadding));background:var(--background, #fff);margin:var(--margin, 0)}.selectContainer.svelte-17l1npl input.svelte-17l1npl{cursor:default;border:none;color:var(--inputColor, #3f4f5f);height:var(--height, 42px);line-height:var(--height, 42px);padding:var(--inputPadding, var(--padding, var(--internalPadding)));width:100%;background:transparent;font-size:var(--inputFontSize, 14px);letter-spacing:var(--inputLetterSpacing, -0.08px);position:absolute;left:var(--inputLeft, 0);margin:var(--inputMargin, 0)}.selectContainer.svelte-17l1npl input.svelte-17l1npl::placeholder{color:var(--placeholderColor, #78848f);opacity:var(--placeholderOpacity, 1)}.selectContainer.svelte-17l1npl input.svelte-17l1npl:focus{outline:none}.selectContainer.svelte-17l1npl.svelte-17l1npl:hover{border-color:var(--borderHoverColor, #b2b8bf)}.selectContainer.focused.svelte-17l1npl.svelte-17l1npl{border-color:var(--borderFocusColor, #006fe8)}.selectContainer.disabled.svelte-17l1npl.svelte-17l1npl{background:var(--disabledBackground, #ebedef);border-color:var(--disabledBorderColor, #ebedef);color:var(--disabledColor, #c1c6cc)}.selectContainer.disabled.svelte-17l1npl input.svelte-17l1npl::placeholder{color:var(--disabledPlaceholderColor, #c1c6cc);opacity:var(--disabledPlaceholderOpacity, 1)}.selectedItem.svelte-17l1npl.svelte-17l1npl{line-height:var(--height, 42px);height:var(--height, 42px);overflow-x:hidden;padding:var(--selectedItemPadding, 0 20px 0 0)}.selectedItem.svelte-17l1npl.svelte-17l1npl:focus{outline:none}.clearSelect.svelte-17l1npl.svelte-17l1npl{position:absolute;right:var(--clearSelectRight, 10px);top:var(--clearSelectTop, 11px);bottom:var(--clearSelectBottom, 11px);width:var(--clearSelectWidth, 20px);color:var(--clearSelectColor, #c5cacf);flex:none !important}.clearSelect.svelte-17l1npl.svelte-17l1npl:hover{color:var(--clearSelectHoverColor, #2c3e50)}.selectContainer.focused.svelte-17l1npl .clearSelect.svelte-17l1npl{color:var(--clearSelectFocusColor, #3f4f5f)}.indicator.svelte-17l1npl.svelte-17l1npl{position:absolute;right:var(--indicatorRight, 10px);top:var(--indicatorTop, 11px);width:var(--indicatorWidth, 20px);height:var(--indicatorHeight, 20px);color:var(--indicatorColor, #c5cacf)}.indicator.svelte-17l1npl svg.svelte-17l1npl{display:inline-block;fill:var(--indicatorFill, currentcolor);line-height:1;stroke:var(--indicatorStroke, currentcolor);stroke-width:0}.spinner.svelte-17l1npl.svelte-17l1npl{position:absolute;right:var(--spinnerRight, 10px);top:var(--spinnerLeft, 11px);width:var(--spinnerWidth, 20px);height:var(--spinnerHeight, 20px);color:var(--spinnerColor, #51ce6c);animation:svelte-17l1npl-rotate 0.75s linear infinite}.spinner_icon.svelte-17l1npl.svelte-17l1npl{display:block;height:100%;transform-origin:center center;width:100%;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto;-webkit-transform:none}.spinner_path.svelte-17l1npl.svelte-17l1npl{stroke-dasharray:90;stroke-linecap:round}.multiSelect.svelte-17l1npl.svelte-17l1npl{display:flex;padding:var(--multiSelectPadding, 0 35px 0 16px);height:auto;flex-wrap:wrap;align-items:stretch}.multiSelect.svelte-17l1npl>.svelte-17l1npl{flex:1 1 50px}.selectContainer.multiSelect.svelte-17l1npl input.svelte-17l1npl{padding:var(--multiSelectInputPadding, 0);position:relative;margin:var(--multiSelectInputMargin, 0)}.hasError.svelte-17l1npl.svelte-17l1npl{border:var(--errorBorder, 1px solid #ff2d55);background:var(--errorBackground, #fff)}.a11yText.svelte-17l1npl.svelte-17l1npl{z-index:9999;border:0px;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0px;white-space:nowrap}@keyframes svelte-17l1npl-rotate{100%{transform:rotate(360deg)}}")();
function get_each_context(ctx, list, i) {
  const child_ctx = ctx.slice();
  child_ctx[103] = list[i];
  return child_ctx;
}
function create_if_block_10(ctx) {
  let span0;
  let t0;
  let t1;
  let span1;
  let t2;
  return {
    c() {
      span0 = element("span");
      t0 = text(ctx[33]);
      t1 = space();
      span1 = element("span");
      t2 = text(ctx[32]);
      attr(span0, "id", "aria-selection");
      attr(span1, "id", "aria-context");
    },
    m(target, anchor) {
      insert(target, span0, anchor);
      append(span0, t0);
      insert(target, t1, anchor);
      insert(target, span1, anchor);
      append(span1, t2);
    },
    p(ctx2, dirty) {
      if (dirty[1] & 4)
        set_data(t0, ctx2[33]);
      if (dirty[1] & 2)
        set_data(t2, ctx2[32]);
    },
    d(detaching) {
      if (detaching)
        detach(span0);
      if (detaching)
        detach(t1);
      if (detaching)
        detach(span1);
    }
  };
}
function create_if_block_9(ctx) {
  let switch_instance;
  let switch_instance_anchor;
  let current;
  const switch_instance_spread_levels = [ctx[18]];
  var switch_value = ctx[17];
  function switch_props(ctx2) {
    let switch_instance_props = {};
    for (let i = 0; i < switch_instance_spread_levels.length; i += 1) {
      switch_instance_props = assign(switch_instance_props, switch_instance_spread_levels[i]);
    }
    return { props: switch_instance_props };
  }
  if (switch_value) {
    switch_instance = new switch_value(switch_props());
  }
  return {
    c() {
      if (switch_instance)
        create_component(switch_instance.$$.fragment);
      switch_instance_anchor = empty();
    },
    m(target, anchor) {
      if (switch_instance) {
        mount_component(switch_instance, target, anchor);
      }
      insert(target, switch_instance_anchor, anchor);
      current = true;
    },
    p(ctx2, dirty) {
      const switch_instance_changes = dirty[0] & 262144 ? get_spread_update(switch_instance_spread_levels, [get_spread_object(ctx2[18])]) : {};
      if (switch_value !== (switch_value = ctx2[17])) {
        if (switch_instance) {
          group_outros();
          const old_component = switch_instance;
          transition_out(old_component.$$.fragment, 1, 0, () => {
            destroy_component(old_component, 1);
          });
          check_outros();
        }
        if (switch_value) {
          switch_instance = new switch_value(switch_props());
          create_component(switch_instance.$$.fragment);
          transition_in(switch_instance.$$.fragment, 1);
          mount_component(switch_instance, switch_instance_anchor.parentNode, switch_instance_anchor);
        } else {
          switch_instance = null;
        }
      } else if (switch_value) {
        switch_instance.$set(switch_instance_changes);
      }
    },
    i(local) {
      if (current)
        return;
      if (switch_instance)
        transition_in(switch_instance.$$.fragment, local);
      current = true;
    },
    o(local) {
      if (switch_instance)
        transition_out(switch_instance.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(switch_instance_anchor);
      if (switch_instance)
        destroy_component(switch_instance, detaching);
    }
  };
}
function create_if_block_8(ctx) {
  let switch_instance;
  let switch_instance_anchor;
  let current;
  var switch_value = ctx[26];
  function switch_props(ctx2) {
    return {
      props: {
        value: ctx2[2],
        getSelectionLabel: ctx2[12],
        activeValue: ctx2[30],
        isDisabled: ctx2[9],
        multiFullItemClearable: ctx2[8]
      }
    };
  }
  if (switch_value) {
    switch_instance = new switch_value(switch_props(ctx));
    switch_instance.$on("multiItemClear", ctx[38]);
    switch_instance.$on("focus", ctx[40]);
  }
  return {
    c() {
      if (switch_instance)
        create_component(switch_instance.$$.fragment);
      switch_instance_anchor = empty();
    },
    m(target, anchor) {
      if (switch_instance) {
        mount_component(switch_instance, target, anchor);
      }
      insert(target, switch_instance_anchor, anchor);
      current = true;
    },
    p(ctx2, dirty) {
      const switch_instance_changes = {};
      if (dirty[0] & 4)
        switch_instance_changes.value = ctx2[2];
      if (dirty[0] & 4096)
        switch_instance_changes.getSelectionLabel = ctx2[12];
      if (dirty[0] & 1073741824)
        switch_instance_changes.activeValue = ctx2[30];
      if (dirty[0] & 512)
        switch_instance_changes.isDisabled = ctx2[9];
      if (dirty[0] & 256)
        switch_instance_changes.multiFullItemClearable = ctx2[8];
      if (switch_value !== (switch_value = ctx2[26])) {
        if (switch_instance) {
          group_outros();
          const old_component = switch_instance;
          transition_out(old_component.$$.fragment, 1, 0, () => {
            destroy_component(old_component, 1);
          });
          check_outros();
        }
        if (switch_value) {
          switch_instance = new switch_value(switch_props(ctx2));
          switch_instance.$on("multiItemClear", ctx2[38]);
          switch_instance.$on("focus", ctx2[40]);
          create_component(switch_instance.$$.fragment);
          transition_in(switch_instance.$$.fragment, 1);
          mount_component(switch_instance, switch_instance_anchor.parentNode, switch_instance_anchor);
        } else {
          switch_instance = null;
        }
      } else if (switch_value) {
        switch_instance.$set(switch_instance_changes);
      }
    },
    i(local) {
      if (current)
        return;
      if (switch_instance)
        transition_in(switch_instance.$$.fragment, local);
      current = true;
    },
    o(local) {
      if (switch_instance)
        transition_out(switch_instance.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(switch_instance_anchor);
      if (switch_instance)
        destroy_component(switch_instance, detaching);
    }
  };
}
function create_if_block_7(ctx) {
  let div;
  let switch_instance;
  let current;
  let mounted;
  let dispose;
  var switch_value = ctx[25];
  function switch_props(ctx2) {
    return {
      props: {
        item: ctx2[2],
        getSelectionLabel: ctx2[12]
      }
    };
  }
  if (switch_value) {
    switch_instance = new switch_value(switch_props(ctx));
  }
  return {
    c() {
      div = element("div");
      if (switch_instance)
        create_component(switch_instance.$$.fragment);
      attr(div, "class", "selectedItem svelte-17l1npl");
    },
    m(target, anchor) {
      insert(target, div, anchor);
      if (switch_instance) {
        mount_component(switch_instance, div, null);
      }
      current = true;
      if (!mounted) {
        dispose = listen(div, "focus", ctx[40]);
        mounted = true;
      }
    },
    p(ctx2, dirty) {
      const switch_instance_changes = {};
      if (dirty[0] & 4)
        switch_instance_changes.item = ctx2[2];
      if (dirty[0] & 4096)
        switch_instance_changes.getSelectionLabel = ctx2[12];
      if (switch_value !== (switch_value = ctx2[25])) {
        if (switch_instance) {
          group_outros();
          const old_component = switch_instance;
          transition_out(old_component.$$.fragment, 1, 0, () => {
            destroy_component(old_component, 1);
          });
          check_outros();
        }
        if (switch_value) {
          switch_instance = new switch_value(switch_props(ctx2));
          create_component(switch_instance.$$.fragment);
          transition_in(switch_instance.$$.fragment, 1);
          mount_component(switch_instance, div, null);
        } else {
          switch_instance = null;
        }
      } else if (switch_value) {
        switch_instance.$set(switch_instance_changes);
      }
    },
    i(local) {
      if (current)
        return;
      if (switch_instance)
        transition_in(switch_instance.$$.fragment, local);
      current = true;
    },
    o(local) {
      if (switch_instance)
        transition_out(switch_instance.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(div);
      if (switch_instance)
        destroy_component(switch_instance);
      mounted = false;
      dispose();
    }
  };
}
function create_if_block_6(ctx) {
  let div;
  let switch_instance;
  let current;
  let mounted;
  let dispose;
  var switch_value = ctx[23];
  function switch_props(ctx2) {
    return {};
  }
  if (switch_value) {
    switch_instance = new switch_value(switch_props());
  }
  return {
    c() {
      div = element("div");
      if (switch_instance)
        create_component(switch_instance.$$.fragment);
      attr(div, "class", "clearSelect svelte-17l1npl");
      attr(div, "aria-hidden", "true");
    },
    m(target, anchor) {
      insert(target, div, anchor);
      if (switch_instance) {
        mount_component(switch_instance, div, null);
      }
      current = true;
      if (!mounted) {
        dispose = listen(div, "click", prevent_default(ctx[27]));
        mounted = true;
      }
    },
    p(ctx2, dirty) {
      if (switch_value !== (switch_value = ctx2[23])) {
        if (switch_instance) {
          group_outros();
          const old_component = switch_instance;
          transition_out(old_component.$$.fragment, 1, 0, () => {
            destroy_component(old_component, 1);
          });
          check_outros();
        }
        if (switch_value) {
          switch_instance = new switch_value(switch_props());
          create_component(switch_instance.$$.fragment);
          transition_in(switch_instance.$$.fragment, 1);
          mount_component(switch_instance, div, null);
        } else {
          switch_instance = null;
        }
      }
    },
    i(local) {
      if (current)
        return;
      if (switch_instance)
        transition_in(switch_instance.$$.fragment, local);
      current = true;
    },
    o(local) {
      if (switch_instance)
        transition_out(switch_instance.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(div);
      if (switch_instance)
        destroy_component(switch_instance);
      mounted = false;
      dispose();
    }
  };
}
function create_if_block_4(ctx) {
  let div;
  function select_block_type(ctx2, dirty) {
    if (ctx2[22])
      return create_if_block_5;
    return create_else_block$1;
  }
  let current_block_type = select_block_type(ctx);
  let if_block = current_block_type(ctx);
  return {
    c() {
      div = element("div");
      if_block.c();
      attr(div, "class", "indicator svelte-17l1npl");
      attr(div, "aria-hidden", "true");
    },
    m(target, anchor) {
      insert(target, div, anchor);
      if_block.m(div, null);
    },
    p(ctx2, dirty) {
      if (current_block_type === (current_block_type = select_block_type(ctx2)) && if_block) {
        if_block.p(ctx2, dirty);
      } else {
        if_block.d(1);
        if_block = current_block_type(ctx2);
        if (if_block) {
          if_block.c();
          if_block.m(div, null);
        }
      }
    },
    d(detaching) {
      if (detaching)
        detach(div);
      if_block.d();
    }
  };
}
function create_else_block$1(ctx) {
  let svg;
  let path;
  return {
    c() {
      svg = svg_element("svg");
      path = svg_element("path");
      attr(path, "d", "M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747\n          3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0\n          1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502\n          0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0\n          0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z");
      attr(svg, "width", "100%");
      attr(svg, "height", "100%");
      attr(svg, "viewBox", "0 0 20 20");
      attr(svg, "focusable", "false");
      attr(svg, "aria-hidden", "true");
      attr(svg, "class", "svelte-17l1npl");
    },
    m(target, anchor) {
      insert(target, svg, anchor);
      append(svg, path);
    },
    p: noop$1,
    d(detaching) {
      if (detaching)
        detach(svg);
    }
  };
}
function create_if_block_5(ctx) {
  let html_tag;
  let html_anchor;
  return {
    c() {
      html_tag = new HtmlTag(false);
      html_anchor = empty();
      html_tag.a = html_anchor;
    },
    m(target, anchor) {
      html_tag.m(ctx[22], target, anchor);
      insert(target, html_anchor, anchor);
    },
    p(ctx2, dirty) {
      if (dirty[0] & 4194304)
        html_tag.p(ctx2[22]);
    },
    d(detaching) {
      if (detaching)
        detach(html_anchor);
      if (detaching)
        html_tag.d();
    }
  };
}
function create_if_block_3(ctx) {
  let div;
  return {
    c() {
      div = element("div");
      div.innerHTML = `<svg class="spinner_icon svelte-17l1npl" viewBox="25 25 50 50"><circle class="spinner_path svelte-17l1npl" cx="50" cy="50" r="20" fill="none" stroke="currentColor" stroke-width="5" stroke-miterlimit="10"></circle></svg>`;
      attr(div, "class", "spinner svelte-17l1npl");
    },
    m(target, anchor) {
      insert(target, div, anchor);
    },
    d(detaching) {
      if (detaching)
        detach(div);
    }
  };
}
function create_if_block_2$1(ctx) {
  let switch_instance;
  let updating_hoverItemIndex;
  let switch_instance_anchor;
  let current;
  const switch_instance_spread_levels = [ctx[34]];
  function switch_instance_hoverItemIndex_binding(value) {
    ctx[84](value);
  }
  var switch_value = ctx[24];
  function switch_props(ctx2) {
    let switch_instance_props = {};
    for (let i = 0; i < switch_instance_spread_levels.length; i += 1) {
      switch_instance_props = assign(switch_instance_props, switch_instance_spread_levels[i]);
    }
    if (ctx2[28] !== void 0) {
      switch_instance_props.hoverItemIndex = ctx2[28];
    }
    return { props: switch_instance_props };
  }
  if (switch_value) {
    switch_instance = new switch_value(switch_props(ctx));
    binding_callbacks.push(() => bind(switch_instance, "hoverItemIndex", switch_instance_hoverItemIndex_binding));
    switch_instance.$on("itemSelected", ctx[43]);
    switch_instance.$on("itemCreated", ctx[44]);
    switch_instance.$on("closeList", ctx[45]);
  }
  return {
    c() {
      if (switch_instance)
        create_component(switch_instance.$$.fragment);
      switch_instance_anchor = empty();
    },
    m(target, anchor) {
      if (switch_instance) {
        mount_component(switch_instance, target, anchor);
      }
      insert(target, switch_instance_anchor, anchor);
      current = true;
    },
    p(ctx2, dirty) {
      const switch_instance_changes = dirty[1] & 8 ? get_spread_update(switch_instance_spread_levels, [get_spread_object(ctx2[34])]) : {};
      if (!updating_hoverItemIndex && dirty[0] & 268435456) {
        updating_hoverItemIndex = true;
        switch_instance_changes.hoverItemIndex = ctx2[28];
        add_flush_callback(() => updating_hoverItemIndex = false);
      }
      if (switch_value !== (switch_value = ctx2[24])) {
        if (switch_instance) {
          group_outros();
          const old_component = switch_instance;
          transition_out(old_component.$$.fragment, 1, 0, () => {
            destroy_component(old_component, 1);
          });
          check_outros();
        }
        if (switch_value) {
          switch_instance = new switch_value(switch_props(ctx2));
          binding_callbacks.push(() => bind(switch_instance, "hoverItemIndex", switch_instance_hoverItemIndex_binding));
          switch_instance.$on("itemSelected", ctx2[43]);
          switch_instance.$on("itemCreated", ctx2[44]);
          switch_instance.$on("closeList", ctx2[45]);
          create_component(switch_instance.$$.fragment);
          transition_in(switch_instance.$$.fragment, 1);
          mount_component(switch_instance, switch_instance_anchor.parentNode, switch_instance_anchor);
        } else {
          switch_instance = null;
        }
      } else if (switch_value) {
        switch_instance.$set(switch_instance_changes);
      }
    },
    i(local) {
      if (current)
        return;
      if (switch_instance)
        transition_in(switch_instance.$$.fragment, local);
      current = true;
    },
    o(local) {
      if (switch_instance)
        transition_out(switch_instance.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(switch_instance_anchor);
      if (switch_instance)
        destroy_component(switch_instance, detaching);
    }
  };
}
function create_if_block_1$1(ctx) {
  let input_1;
  let input_1_name_value;
  let input_1_value_value;
  return {
    c() {
      input_1 = element("input");
      attr(input_1, "name", input_1_name_value = ctx[16].name);
      attr(input_1, "type", "hidden");
      input_1.value = input_1_value_value = ctx[2] ? ctx[12](ctx[2]) : null;
      attr(input_1, "class", "svelte-17l1npl");
    },
    m(target, anchor) {
      insert(target, input_1, anchor);
    },
    p(ctx2, dirty) {
      if (dirty[0] & 65536 && input_1_name_value !== (input_1_name_value = ctx2[16].name)) {
        attr(input_1, "name", input_1_name_value);
      }
      if (dirty[0] & 4100 && input_1_value_value !== (input_1_value_value = ctx2[2] ? ctx2[12](ctx2[2]) : null)) {
        input_1.value = input_1_value_value;
      }
    },
    d(detaching) {
      if (detaching)
        detach(input_1);
    }
  };
}
function create_if_block$3(ctx) {
  let each_1_anchor;
  let each_value = ctx[2];
  let each_blocks = [];
  for (let i = 0; i < each_value.length; i += 1) {
    each_blocks[i] = create_each_block(get_each_context(ctx, each_value, i));
  }
  return {
    c() {
      for (let i = 0; i < each_blocks.length; i += 1) {
        each_blocks[i].c();
      }
      each_1_anchor = empty();
    },
    m(target, anchor) {
      for (let i = 0; i < each_blocks.length; i += 1) {
        each_blocks[i].m(target, anchor);
      }
      insert(target, each_1_anchor, anchor);
    },
    p(ctx2, dirty) {
      if (dirty[0] & 69636) {
        each_value = ctx2[2];
        let i;
        for (i = 0; i < each_value.length; i += 1) {
          const child_ctx = get_each_context(ctx2, each_value, i);
          if (each_blocks[i]) {
            each_blocks[i].p(child_ctx, dirty);
          } else {
            each_blocks[i] = create_each_block(child_ctx);
            each_blocks[i].c();
            each_blocks[i].m(each_1_anchor.parentNode, each_1_anchor);
          }
        }
        for (; i < each_blocks.length; i += 1) {
          each_blocks[i].d(1);
        }
        each_blocks.length = each_value.length;
      }
    },
    d(detaching) {
      destroy_each(each_blocks, detaching);
      if (detaching)
        detach(each_1_anchor);
    }
  };
}
function create_each_block(ctx) {
  let input_1;
  let input_1_name_value;
  let input_1_value_value;
  return {
    c() {
      input_1 = element("input");
      attr(input_1, "name", input_1_name_value = ctx[16].name);
      attr(input_1, "type", "hidden");
      input_1.value = input_1_value_value = ctx[103] ? ctx[12](ctx[103]) : null;
      attr(input_1, "class", "svelte-17l1npl");
    },
    m(target, anchor) {
      insert(target, input_1, anchor);
    },
    p(ctx2, dirty) {
      if (dirty[0] & 65536 && input_1_name_value !== (input_1_name_value = ctx2[16].name)) {
        attr(input_1, "name", input_1_name_value);
      }
      if (dirty[0] & 4100 && input_1_value_value !== (input_1_value_value = ctx2[103] ? ctx2[12](ctx2[103]) : null)) {
        input_1.value = input_1_value_value;
      }
    },
    d(detaching) {
      if (detaching)
        detach(input_1);
    }
  };
}
function create_fragment$4(ctx) {
  let div;
  let span;
  let t0;
  let t1;
  let t2;
  let input_1;
  let input_1_readonly_value;
  let t3;
  let t4;
  let t5;
  let t6;
  let t7;
  let t8;
  let t9;
  let div_class_value;
  let current;
  let mounted;
  let dispose;
  let if_block0 = ctx[1] && create_if_block_10(ctx);
  let if_block1 = ctx[17] && create_if_block_9(ctx);
  let if_block2 = ctx[35] && create_if_block_8(ctx);
  let input_1_levels = [
    {
      readOnly: input_1_readonly_value = !ctx[13]
    },
    ctx[31],
    { placeholder: ctx[36] },
    { style: ctx[14] },
    { disabled: ctx[9] }
  ];
  let input_1_data = {};
  for (let i = 0; i < input_1_levels.length; i += 1) {
    input_1_data = assign(input_1_data, input_1_levels[i]);
  }
  let if_block3 = !ctx[7] && ctx[29] && create_if_block_7(ctx);
  let if_block4 = ctx[37] && create_if_block_6(ctx);
  let if_block5 = !ctx[37] && (ctx[20] || ctx[19] && !ctx[2] || !ctx[13] && !ctx[9] && !ctx[4] && (ctx[29] && !ctx[15] || !ctx[29])) && create_if_block_4(ctx);
  let if_block6 = ctx[4] && create_if_block_3();
  let if_block7 = ctx[5] && create_if_block_2$1(ctx);
  let if_block8 = (!ctx[7] || ctx[7] && !ctx[35]) && create_if_block_1$1(ctx);
  let if_block9 = ctx[7] && ctx[35] && create_if_block$3(ctx);
  return {
    c() {
      div = element("div");
      span = element("span");
      if (if_block0)
        if_block0.c();
      t0 = space();
      if (if_block1)
        if_block1.c();
      t1 = space();
      if (if_block2)
        if_block2.c();
      t2 = space();
      input_1 = element("input");
      t3 = space();
      if (if_block3)
        if_block3.c();
      t4 = space();
      if (if_block4)
        if_block4.c();
      t5 = space();
      if (if_block5)
        if_block5.c();
      t6 = space();
      if (if_block6)
        if_block6.c();
      t7 = space();
      if (if_block7)
        if_block7.c();
      t8 = space();
      if (if_block8)
        if_block8.c();
      t9 = space();
      if (if_block9)
        if_block9.c();
      attr(span, "aria-live", "polite");
      attr(span, "aria-atomic", "false");
      attr(span, "aria-relevant", "additions text");
      attr(span, "class", "a11yText svelte-17l1npl");
      set_attributes(input_1, input_1_data);
      toggle_class(input_1, "svelte-17l1npl", true);
      attr(div, "class", div_class_value = "selectContainer " + ctx[21] + " svelte-17l1npl");
      attr(div, "style", ctx[11]);
      toggle_class(div, "hasError", ctx[10]);
      toggle_class(div, "multiSelect", ctx[7]);
      toggle_class(div, "disabled", ctx[9]);
      toggle_class(div, "focused", ctx[1]);
    },
    m(target, anchor) {
      insert(target, div, anchor);
      append(div, span);
      if (if_block0)
        if_block0.m(span, null);
      append(div, t0);
      if (if_block1)
        if_block1.m(div, null);
      append(div, t1);
      if (if_block2)
        if_block2.m(div, null);
      append(div, t2);
      append(div, input_1);
      if (input_1.autofocus)
        input_1.focus();
      ctx[82](input_1);
      set_input_value(input_1, ctx[3]);
      append(div, t3);
      if (if_block3)
        if_block3.m(div, null);
      append(div, t4);
      if (if_block4)
        if_block4.m(div, null);
      append(div, t5);
      if (if_block5)
        if_block5.m(div, null);
      append(div, t6);
      if (if_block6)
        if_block6.m(div, null);
      append(div, t7);
      if (if_block7)
        if_block7.m(div, null);
      append(div, t8);
      if (if_block8)
        if_block8.m(div, null);
      append(div, t9);
      if (if_block9)
        if_block9.m(div, null);
      ctx[85](div);
      current = true;
      if (!mounted) {
        dispose = [
          listen(window, "click", ctx[41]),
          listen(window, "focusin", ctx[41]),
          listen(window, "keydown", ctx[39]),
          listen(input_1, "focus", ctx[40]),
          listen(input_1, "input", ctx[83]),
          listen(div, "click", ctx[42])
        ];
        mounted = true;
      }
    },
    p(ctx2, dirty) {
      if (ctx2[1]) {
        if (if_block0) {
          if_block0.p(ctx2, dirty);
        } else {
          if_block0 = create_if_block_10(ctx2);
          if_block0.c();
          if_block0.m(span, null);
        }
      } else if (if_block0) {
        if_block0.d(1);
        if_block0 = null;
      }
      if (ctx2[17]) {
        if (if_block1) {
          if_block1.p(ctx2, dirty);
          if (dirty[0] & 131072) {
            transition_in(if_block1, 1);
          }
        } else {
          if_block1 = create_if_block_9(ctx2);
          if_block1.c();
          transition_in(if_block1, 1);
          if_block1.m(div, t1);
        }
      } else if (if_block1) {
        group_outros();
        transition_out(if_block1, 1, 1, () => {
          if_block1 = null;
        });
        check_outros();
      }
      if (ctx2[35]) {
        if (if_block2) {
          if_block2.p(ctx2, dirty);
          if (dirty[1] & 16) {
            transition_in(if_block2, 1);
          }
        } else {
          if_block2 = create_if_block_8(ctx2);
          if_block2.c();
          transition_in(if_block2, 1);
          if_block2.m(div, t2);
        }
      } else if (if_block2) {
        group_outros();
        transition_out(if_block2, 1, 1, () => {
          if_block2 = null;
        });
        check_outros();
      }
      set_attributes(input_1, input_1_data = get_spread_update(input_1_levels, [
        (!current || dirty[0] & 8192 && input_1_readonly_value !== (input_1_readonly_value = !ctx2[13])) && { readOnly: input_1_readonly_value },
        dirty[1] & 1 && ctx2[31],
        (!current || dirty[1] & 32) && { placeholder: ctx2[36] },
        (!current || dirty[0] & 16384) && { style: ctx2[14] },
        (!current || dirty[0] & 512) && { disabled: ctx2[9] }
      ]));
      if (dirty[0] & 8 && input_1.value !== ctx2[3]) {
        set_input_value(input_1, ctx2[3]);
      }
      toggle_class(input_1, "svelte-17l1npl", true);
      if (!ctx2[7] && ctx2[29]) {
        if (if_block3) {
          if_block3.p(ctx2, dirty);
          if (dirty[0] & 536871040) {
            transition_in(if_block3, 1);
          }
        } else {
          if_block3 = create_if_block_7(ctx2);
          if_block3.c();
          transition_in(if_block3, 1);
          if_block3.m(div, t4);
        }
      } else if (if_block3) {
        group_outros();
        transition_out(if_block3, 1, 1, () => {
          if_block3 = null;
        });
        check_outros();
      }
      if (ctx2[37]) {
        if (if_block4) {
          if_block4.p(ctx2, dirty);
          if (dirty[1] & 64) {
            transition_in(if_block4, 1);
          }
        } else {
          if_block4 = create_if_block_6(ctx2);
          if_block4.c();
          transition_in(if_block4, 1);
          if_block4.m(div, t5);
        }
      } else if (if_block4) {
        group_outros();
        transition_out(if_block4, 1, 1, () => {
          if_block4 = null;
        });
        check_outros();
      }
      if (!ctx2[37] && (ctx2[20] || ctx2[19] && !ctx2[2] || !ctx2[13] && !ctx2[9] && !ctx2[4] && (ctx2[29] && !ctx2[15] || !ctx2[29]))) {
        if (if_block5) {
          if_block5.p(ctx2, dirty);
        } else {
          if_block5 = create_if_block_4(ctx2);
          if_block5.c();
          if_block5.m(div, t6);
        }
      } else if (if_block5) {
        if_block5.d(1);
        if_block5 = null;
      }
      if (ctx2[4]) {
        if (if_block6)
          ;
        else {
          if_block6 = create_if_block_3();
          if_block6.c();
          if_block6.m(div, t7);
        }
      } else if (if_block6) {
        if_block6.d(1);
        if_block6 = null;
      }
      if (ctx2[5]) {
        if (if_block7) {
          if_block7.p(ctx2, dirty);
          if (dirty[0] & 32) {
            transition_in(if_block7, 1);
          }
        } else {
          if_block7 = create_if_block_2$1(ctx2);
          if_block7.c();
          transition_in(if_block7, 1);
          if_block7.m(div, t8);
        }
      } else if (if_block7) {
        group_outros();
        transition_out(if_block7, 1, 1, () => {
          if_block7 = null;
        });
        check_outros();
      }
      if (!ctx2[7] || ctx2[7] && !ctx2[35]) {
        if (if_block8) {
          if_block8.p(ctx2, dirty);
        } else {
          if_block8 = create_if_block_1$1(ctx2);
          if_block8.c();
          if_block8.m(div, t9);
        }
      } else if (if_block8) {
        if_block8.d(1);
        if_block8 = null;
      }
      if (ctx2[7] && ctx2[35]) {
        if (if_block9) {
          if_block9.p(ctx2, dirty);
        } else {
          if_block9 = create_if_block$3(ctx2);
          if_block9.c();
          if_block9.m(div, null);
        }
      } else if (if_block9) {
        if_block9.d(1);
        if_block9 = null;
      }
      if (!current || dirty[0] & 2097152 && div_class_value !== (div_class_value = "selectContainer " + ctx2[21] + " svelte-17l1npl")) {
        attr(div, "class", div_class_value);
      }
      if (!current || dirty[0] & 2048) {
        attr(div, "style", ctx2[11]);
      }
      if (dirty[0] & 2098176) {
        toggle_class(div, "hasError", ctx2[10]);
      }
      if (dirty[0] & 2097280) {
        toggle_class(div, "multiSelect", ctx2[7]);
      }
      if (dirty[0] & 2097664) {
        toggle_class(div, "disabled", ctx2[9]);
      }
      if (dirty[0] & 2097154) {
        toggle_class(div, "focused", ctx2[1]);
      }
    },
    i(local) {
      if (current)
        return;
      transition_in(if_block1);
      transition_in(if_block2);
      transition_in(if_block3);
      transition_in(if_block4);
      transition_in(if_block7);
      current = true;
    },
    o(local) {
      transition_out(if_block1);
      transition_out(if_block2);
      transition_out(if_block3);
      transition_out(if_block4);
      transition_out(if_block7);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(div);
      if (if_block0)
        if_block0.d();
      if (if_block1)
        if_block1.d();
      if (if_block2)
        if_block2.d();
      ctx[82](null);
      if (if_block3)
        if_block3.d();
      if (if_block4)
        if_block4.d();
      if (if_block5)
        if_block5.d();
      if (if_block6)
        if_block6.d();
      if (if_block7)
        if_block7.d();
      if (if_block8)
        if_block8.d();
      if (if_block9)
        if_block9.d();
      ctx[85](null);
      mounted = false;
      run_all(dispose);
    }
  };
}
function convertStringItemsToObjects(_items) {
  return _items.map((item, index) => {
    return { index, value: item, label: `${item}` };
  });
}
function instance$4($$self, $$props, $$invalidate) {
  let filteredItems;
  let showSelectedItem;
  let showClearIcon;
  let placeholderText;
  let showMultiSelect;
  let listProps;
  let ariaSelection;
  let ariaContext;
  const dispatch2 = createEventDispatcher();
  let { id = null } = $$props;
  let { container = void 0 } = $$props;
  let { input = void 0 } = $$props;
  let { isMulti = false } = $$props;
  let { multiFullItemClearable = false } = $$props;
  let { isDisabled = false } = $$props;
  let { isCreatable = false } = $$props;
  let { isFocused = false } = $$props;
  let { value = null } = $$props;
  let { filterText = "" } = $$props;
  let { placeholder = "Select..." } = $$props;
  let { placeholderAlwaysShow = false } = $$props;
  let { items = null } = $$props;
  let { itemFilter = (label, filterText2, option) => `${label}`.toLowerCase().includes(filterText2.toLowerCase()) } = $$props;
  let { groupBy = void 0 } = $$props;
  let { groupFilter = (groups) => groups } = $$props;
  let { isGroupHeaderSelectable = false } = $$props;
  let { getGroupHeaderLabel = (option) => {
    return option[labelIdentifier] || option.id;
  } } = $$props;
  let { labelIdentifier = "label" } = $$props;
  let { getOptionLabel = (option, filterText2) => {
    return option.isCreator ? `Create "${filterText2}"` : option[labelIdentifier];
  } } = $$props;
  let { optionIdentifier = "value" } = $$props;
  let { loadOptions = void 0 } = $$props;
  let { hasError = false } = $$props;
  let { containerStyles = "" } = $$props;
  let { getSelectionLabel = (option) => {
    if (option)
      return option[labelIdentifier];
    else
      return null;
  } } = $$props;
  let { createGroupHeaderItem = (groupValue) => {
    return { value: groupValue, label: groupValue };
  } } = $$props;
  let { createItem = (filterText2) => {
    return { value: filterText2, label: filterText2 };
  } } = $$props;
  const getFilteredItems = () => {
    return filteredItems;
  };
  let { isSearchable = true } = $$props;
  let { inputStyles = "" } = $$props;
  let { isClearable = true } = $$props;
  let { isWaiting = false } = $$props;
  let { listPlacement = "auto" } = $$props;
  let { listOpen = false } = $$props;
  let { isVirtualList = false } = $$props;
  let { loadOptionsInterval = 300 } = $$props;
  let { noOptionsMessage = "No options" } = $$props;
  let { hideEmptyState = false } = $$props;
  let { inputAttributes = {} } = $$props;
  let { listAutoWidth = true } = $$props;
  let { itemHeight = 40 } = $$props;
  let { Icon = void 0 } = $$props;
  let { iconProps = {} } = $$props;
  let { showChevron = false } = $$props;
  let { showIndicator = false } = $$props;
  let { containerClasses = "" } = $$props;
  let { indicatorSvg = void 0 } = $$props;
  let { listOffset = 5 } = $$props;
  let { ClearIcon: ClearIcon$1 = ClearIcon } = $$props;
  let { Item: Item$1 = Item } = $$props;
  let { List: List$1 = List } = $$props;
  let { Selection: Selection$1 = Selection } = $$props;
  let { MultiSelection: MultiSelection$1 = MultiSelection } = $$props;
  let { VirtualList: VirtualList$1 = VirtualList } = $$props;
  function filterMethod(args) {
    if (args.loadOptions && args.filterText.length > 0)
      return;
    if (!args.items)
      return [];
    if (args.items && args.items.length > 0 && typeof args.items[0] !== "object") {
      args.items = convertStringItemsToObjects(args.items);
    }
    let filterResults = args.items.filter((item) => {
      let matchesFilter = itemFilter(getOptionLabel(item, args.filterText), args.filterText, item);
      if (matchesFilter && args.isMulti && args.value && Array.isArray(args.value)) {
        matchesFilter = !args.value.some((x) => {
          return x[args.optionIdentifier] === item[args.optionIdentifier];
        });
      }
      return matchesFilter;
    });
    if (args.groupBy) {
      filterResults = filterGroupedItems(filterResults);
    }
    if (args.isCreatable) {
      filterResults = addCreatableItem(filterResults, args.filterText);
    }
    return filterResults;
  }
  function addCreatableItem(_items, _filterText) {
    if (_filterText.length === 0)
      return _items;
    const itemToCreate = createItem(_filterText);
    if (_items[0] && _filterText === _items[0][labelIdentifier])
      return _items;
    itemToCreate.isCreator = true;
    return [..._items, itemToCreate];
  }
  let { selectedValue = null } = $$props;
  let activeValue;
  let prev_value;
  let prev_filterText;
  let prev_isFocused;
  let prev_isMulti;
  let hoverItemIndex;
  const getItems = debounce(async () => {
    $$invalidate(4, isWaiting = true);
    let res = await loadOptions(filterText).catch((err) => {
      console.warn("svelte-select loadOptions error :>> ", err);
      dispatch2("error", { type: "loadOptions", details: err });
    });
    if (res && !res.cancelled) {
      if (res) {
        if (res && res.length > 0 && typeof res[0] !== "object") {
          res = convertStringItemsToObjects(res);
        }
        $$invalidate(81, filteredItems = [...res]);
        dispatch2("loaded", { items: filteredItems });
      } else {
        $$invalidate(81, filteredItems = []);
      }
      if (isCreatable) {
        $$invalidate(81, filteredItems = addCreatableItem(filteredItems, filterText));
      }
      $$invalidate(4, isWaiting = false);
      $$invalidate(1, isFocused = true);
      $$invalidate(5, listOpen = true);
    }
  }, loadOptionsInterval);
  function setValue() {
    if (typeof value === "string") {
      $$invalidate(2, value = { [optionIdentifier]: value, label: value });
    } else if (isMulti && Array.isArray(value) && value.length > 0) {
      $$invalidate(2, value = value.map((item) => typeof item === "string" ? { value: item, label: item } : item));
    }
  }
  let _inputAttributes;
  function assignInputAttributes() {
    $$invalidate(31, _inputAttributes = Object.assign({
      autocapitalize: "none",
      autocomplete: "off",
      autocorrect: "off",
      spellcheck: false,
      tabindex: 0,
      type: "text",
      "aria-autocomplete": "list"
    }, inputAttributes));
    if (id) {
      $$invalidate(31, _inputAttributes.id = id, _inputAttributes);
    }
    if (!isSearchable) {
      $$invalidate(31, _inputAttributes.readonly = true, _inputAttributes);
    }
  }
  function filterGroupedItems(_items) {
    const groupValues = [];
    const groups = {};
    _items.forEach((item) => {
      const groupValue = groupBy(item);
      if (!groupValues.includes(groupValue)) {
        groupValues.push(groupValue);
        groups[groupValue] = [];
        if (groupValue) {
          groups[groupValue].push(Object.assign(createGroupHeaderItem(groupValue, item), {
            id: groupValue,
            isGroupHeader: true,
            isSelectable: isGroupHeaderSelectable
          }));
        }
      }
      groups[groupValue].push(Object.assign({ isGroupItem: !!groupValue }, item));
    });
    const sortedGroupedItems = [];
    groupFilter(groupValues).forEach((groupValue) => {
      sortedGroupedItems.push(...groups[groupValue]);
    });
    return sortedGroupedItems;
  }
  function dispatchSelectedItem() {
    if (isMulti) {
      if (JSON.stringify(value) !== JSON.stringify(prev_value)) {
        if (checkValueForDuplicates()) {
          dispatch2("select", value);
        }
      }
      return;
    }
    if (!prev_value || JSON.stringify(value[optionIdentifier]) !== JSON.stringify(prev_value[optionIdentifier])) {
      dispatch2("select", value);
    }
  }
  function setupFocus() {
    if (isFocused || listOpen) {
      handleFocus();
    } else {
      if (input)
        input.blur();
    }
  }
  function setupMulti() {
    if (value) {
      if (Array.isArray(value)) {
        $$invalidate(2, value = [...value]);
      } else {
        $$invalidate(2, value = [value]);
      }
    }
  }
  function setupSingle() {
    if (value)
      $$invalidate(2, value = null);
  }
  function setupFilterText() {
    if (filterText.length === 0)
      return;
    $$invalidate(1, isFocused = true);
    $$invalidate(5, listOpen = true);
    if (loadOptions) {
      getItems();
    } else {
      $$invalidate(5, listOpen = true);
      if (isMulti) {
        $$invalidate(30, activeValue = void 0);
      }
    }
  }
  beforeUpdate(async () => {
    $$invalidate(77, prev_value = value);
    $$invalidate(78, prev_filterText = filterText);
    $$invalidate(79, prev_isFocused = isFocused);
    $$invalidate(80, prev_isMulti = isMulti);
  });
  function checkValueForDuplicates() {
    let noDuplicates = true;
    if (value) {
      const ids = [];
      const uniqueValues = [];
      value.forEach((val) => {
        if (!ids.includes(val[optionIdentifier])) {
          ids.push(val[optionIdentifier]);
          uniqueValues.push(val);
        } else {
          noDuplicates = false;
        }
      });
      if (!noDuplicates)
        $$invalidate(2, value = uniqueValues);
    }
    return noDuplicates;
  }
  function findItem(selection) {
    let matchTo = selection ? selection[optionIdentifier] : value[optionIdentifier];
    return items.find((item) => item[optionIdentifier] === matchTo);
  }
  function updateValueDisplay(items2) {
    if (!items2 || items2.length === 0 || items2.some((item) => typeof item !== "object"))
      return;
    if (!value || (isMulti ? value.some((selection) => !selection || !selection[optionIdentifier]) : !value[optionIdentifier]))
      return;
    if (Array.isArray(value)) {
      $$invalidate(2, value = value.map((selection) => findItem(selection) || selection));
    } else {
      $$invalidate(2, value = findItem() || value);
    }
  }
  function handleMultiItemClear(event) {
    const { detail } = event;
    const itemToRemove = value[detail ? detail.i : value.length - 1];
    if (value.length === 1) {
      $$invalidate(2, value = void 0);
    } else {
      $$invalidate(2, value = value.filter((item) => {
        return item !== itemToRemove;
      }));
    }
    dispatch2("clear", itemToRemove);
  }
  function handleKeyDown(e) {
    if (!isFocused)
      return;
    switch (e.key) {
      case "ArrowDown":
        e.preventDefault();
        $$invalidate(5, listOpen = true);
        $$invalidate(30, activeValue = void 0);
        break;
      case "ArrowUp":
        e.preventDefault();
        $$invalidate(5, listOpen = true);
        $$invalidate(30, activeValue = void 0);
        break;
      case "Tab":
        if (!listOpen)
          $$invalidate(1, isFocused = false);
        break;
      case "Backspace":
        if (!isMulti || filterText.length > 0)
          return;
        if (isMulti && value && value.length > 0) {
          handleMultiItemClear(activeValue !== void 0 ? activeValue : value.length - 1);
          if (activeValue === 0 || activeValue === void 0)
            break;
          $$invalidate(30, activeValue = value.length > activeValue ? activeValue - 1 : void 0);
        }
        break;
      case "ArrowLeft":
        if (!isMulti || filterText.length > 0)
          return;
        if (activeValue === void 0) {
          $$invalidate(30, activeValue = value.length - 1);
        } else if (value.length > activeValue && activeValue !== 0) {
          $$invalidate(30, activeValue -= 1);
        }
        break;
      case "ArrowRight":
        if (!isMulti || filterText.length > 0 || activeValue === void 0)
          return;
        if (activeValue === value.length - 1) {
          $$invalidate(30, activeValue = void 0);
        } else if (activeValue < value.length - 1) {
          $$invalidate(30, activeValue += 1);
        }
        break;
    }
  }
  function handleFocus() {
    $$invalidate(1, isFocused = true);
    if (input)
      input.focus();
  }
  function handleWindowEvent(event) {
    if (!container)
      return;
    const eventTarget = event.path && event.path.length > 0 ? event.path[0] : event.target;
    if (container.contains(eventTarget) || container.contains(event.relatedTarget)) {
      return;
    }
    $$invalidate(1, isFocused = false);
    $$invalidate(5, listOpen = false);
    $$invalidate(30, activeValue = void 0);
    if (input)
      input.blur();
  }
  function handleClick() {
    if (isDisabled)
      return;
    $$invalidate(1, isFocused = true);
    $$invalidate(5, listOpen = !listOpen);
  }
  function handleClear() {
    $$invalidate(2, value = void 0);
    $$invalidate(5, listOpen = false);
    dispatch2("clear", value);
    handleFocus();
  }
  onMount(() => {
    if (isFocused && input)
      input.focus();
  });
  function itemSelected(event) {
    const { detail } = event;
    if (detail) {
      $$invalidate(3, filterText = "");
      const item = Object.assign({}, detail);
      if (!item.isGroupHeader || item.isSelectable) {
        if (isMulti) {
          $$invalidate(2, value = value ? value.concat([item]) : [item]);
        } else {
          $$invalidate(2, value = item);
        }
        $$invalidate(2, value);
        setTimeout(() => {
          $$invalidate(5, listOpen = false);
          $$invalidate(30, activeValue = void 0);
        });
      }
    }
  }
  function itemCreated(event) {
    const { detail } = event;
    if (isMulti) {
      $$invalidate(2, value = value || []);
      $$invalidate(2, value = [...value, createItem(detail)]);
    } else {
      $$invalidate(2, value = createItem(detail));
    }
    dispatch2("itemCreated", detail);
    $$invalidate(3, filterText = "");
    $$invalidate(5, listOpen = false);
    $$invalidate(30, activeValue = void 0);
  }
  function closeList() {
    $$invalidate(3, filterText = "");
    $$invalidate(5, listOpen = false);
  }
  let { ariaValues = (values) => {
    return `Option ${values}, selected.`;
  } } = $$props;
  let { ariaListOpen = (label, count) => {
    return `You are currently focused on option ${label}. There are ${count} results available.`;
  } } = $$props;
  let { ariaFocused = () => {
    return `Select is focused, type to refine list, press down to open the menu.`;
  } } = $$props;
  function handleAriaSelection() {
    let selected = void 0;
    if (isMulti && value.length > 0) {
      selected = value.map((v) => getSelectionLabel(v)).join(", ");
    } else {
      selected = getSelectionLabel(value);
    }
    return ariaValues(selected);
  }
  function handleAriaContent() {
    if (!isFocused || !filteredItems || filteredItems.length === 0)
      return "";
    let _item = filteredItems[hoverItemIndex];
    if (listOpen && _item) {
      let label = getSelectionLabel(_item);
      let count = filteredItems ? filteredItems.length : 0;
      return ariaListOpen(label, count);
    } else {
      return ariaFocused();
    }
  }
  function input_1_binding($$value) {
    binding_callbacks[$$value ? "unshift" : "push"](() => {
      input = $$value;
      $$invalidate(6, input);
    });
  }
  function input_1_input_handler() {
    filterText = this.value;
    $$invalidate(3, filterText);
  }
  function switch_instance_hoverItemIndex_binding(value2) {
    hoverItemIndex = value2;
    $$invalidate(28, hoverItemIndex);
  }
  function div_binding($$value) {
    binding_callbacks[$$value ? "unshift" : "push"](() => {
      container = $$value;
      $$invalidate(0, container);
    });
  }
  $$self.$$set = ($$props2) => {
    if ("id" in $$props2)
      $$invalidate(46, id = $$props2.id);
    if ("container" in $$props2)
      $$invalidate(0, container = $$props2.container);
    if ("input" in $$props2)
      $$invalidate(6, input = $$props2.input);
    if ("isMulti" in $$props2)
      $$invalidate(7, isMulti = $$props2.isMulti);
    if ("multiFullItemClearable" in $$props2)
      $$invalidate(8, multiFullItemClearable = $$props2.multiFullItemClearable);
    if ("isDisabled" in $$props2)
      $$invalidate(9, isDisabled = $$props2.isDisabled);
    if ("isCreatable" in $$props2)
      $$invalidate(47, isCreatable = $$props2.isCreatable);
    if ("isFocused" in $$props2)
      $$invalidate(1, isFocused = $$props2.isFocused);
    if ("value" in $$props2)
      $$invalidate(2, value = $$props2.value);
    if ("filterText" in $$props2)
      $$invalidate(3, filterText = $$props2.filterText);
    if ("placeholder" in $$props2)
      $$invalidate(48, placeholder = $$props2.placeholder);
    if ("placeholderAlwaysShow" in $$props2)
      $$invalidate(49, placeholderAlwaysShow = $$props2.placeholderAlwaysShow);
    if ("items" in $$props2)
      $$invalidate(50, items = $$props2.items);
    if ("itemFilter" in $$props2)
      $$invalidate(51, itemFilter = $$props2.itemFilter);
    if ("groupBy" in $$props2)
      $$invalidate(52, groupBy = $$props2.groupBy);
    if ("groupFilter" in $$props2)
      $$invalidate(53, groupFilter = $$props2.groupFilter);
    if ("isGroupHeaderSelectable" in $$props2)
      $$invalidate(54, isGroupHeaderSelectable = $$props2.isGroupHeaderSelectable);
    if ("getGroupHeaderLabel" in $$props2)
      $$invalidate(55, getGroupHeaderLabel = $$props2.getGroupHeaderLabel);
    if ("labelIdentifier" in $$props2)
      $$invalidate(56, labelIdentifier = $$props2.labelIdentifier);
    if ("getOptionLabel" in $$props2)
      $$invalidate(57, getOptionLabel = $$props2.getOptionLabel);
    if ("optionIdentifier" in $$props2)
      $$invalidate(58, optionIdentifier = $$props2.optionIdentifier);
    if ("loadOptions" in $$props2)
      $$invalidate(59, loadOptions = $$props2.loadOptions);
    if ("hasError" in $$props2)
      $$invalidate(10, hasError = $$props2.hasError);
    if ("containerStyles" in $$props2)
      $$invalidate(11, containerStyles = $$props2.containerStyles);
    if ("getSelectionLabel" in $$props2)
      $$invalidate(12, getSelectionLabel = $$props2.getSelectionLabel);
    if ("createGroupHeaderItem" in $$props2)
      $$invalidate(60, createGroupHeaderItem = $$props2.createGroupHeaderItem);
    if ("createItem" in $$props2)
      $$invalidate(61, createItem = $$props2.createItem);
    if ("isSearchable" in $$props2)
      $$invalidate(13, isSearchable = $$props2.isSearchable);
    if ("inputStyles" in $$props2)
      $$invalidate(14, inputStyles = $$props2.inputStyles);
    if ("isClearable" in $$props2)
      $$invalidate(15, isClearable = $$props2.isClearable);
    if ("isWaiting" in $$props2)
      $$invalidate(4, isWaiting = $$props2.isWaiting);
    if ("listPlacement" in $$props2)
      $$invalidate(63, listPlacement = $$props2.listPlacement);
    if ("listOpen" in $$props2)
      $$invalidate(5, listOpen = $$props2.listOpen);
    if ("isVirtualList" in $$props2)
      $$invalidate(64, isVirtualList = $$props2.isVirtualList);
    if ("loadOptionsInterval" in $$props2)
      $$invalidate(65, loadOptionsInterval = $$props2.loadOptionsInterval);
    if ("noOptionsMessage" in $$props2)
      $$invalidate(66, noOptionsMessage = $$props2.noOptionsMessage);
    if ("hideEmptyState" in $$props2)
      $$invalidate(67, hideEmptyState = $$props2.hideEmptyState);
    if ("inputAttributes" in $$props2)
      $$invalidate(16, inputAttributes = $$props2.inputAttributes);
    if ("listAutoWidth" in $$props2)
      $$invalidate(68, listAutoWidth = $$props2.listAutoWidth);
    if ("itemHeight" in $$props2)
      $$invalidate(69, itemHeight = $$props2.itemHeight);
    if ("Icon" in $$props2)
      $$invalidate(17, Icon = $$props2.Icon);
    if ("iconProps" in $$props2)
      $$invalidate(18, iconProps = $$props2.iconProps);
    if ("showChevron" in $$props2)
      $$invalidate(19, showChevron = $$props2.showChevron);
    if ("showIndicator" in $$props2)
      $$invalidate(20, showIndicator = $$props2.showIndicator);
    if ("containerClasses" in $$props2)
      $$invalidate(21, containerClasses = $$props2.containerClasses);
    if ("indicatorSvg" in $$props2)
      $$invalidate(22, indicatorSvg = $$props2.indicatorSvg);
    if ("listOffset" in $$props2)
      $$invalidate(70, listOffset = $$props2.listOffset);
    if ("ClearIcon" in $$props2)
      $$invalidate(23, ClearIcon$1 = $$props2.ClearIcon);
    if ("Item" in $$props2)
      $$invalidate(71, Item$1 = $$props2.Item);
    if ("List" in $$props2)
      $$invalidate(24, List$1 = $$props2.List);
    if ("Selection" in $$props2)
      $$invalidate(25, Selection$1 = $$props2.Selection);
    if ("MultiSelection" in $$props2)
      $$invalidate(26, MultiSelection$1 = $$props2.MultiSelection);
    if ("VirtualList" in $$props2)
      $$invalidate(72, VirtualList$1 = $$props2.VirtualList);
    if ("selectedValue" in $$props2)
      $$invalidate(73, selectedValue = $$props2.selectedValue);
    if ("ariaValues" in $$props2)
      $$invalidate(74, ariaValues = $$props2.ariaValues);
    if ("ariaListOpen" in $$props2)
      $$invalidate(75, ariaListOpen = $$props2.ariaListOpen);
    if ("ariaFocused" in $$props2)
      $$invalidate(76, ariaFocused = $$props2.ariaFocused);
  };
  $$self.$$.update = () => {
    if ($$self.$$.dirty[0] & 140 | $$self.$$.dirty[1] & 405340160) {
      $$invalidate(81, filteredItems = filterMethod({
        loadOptions,
        filterText,
        items,
        value,
        isMulti,
        optionIdentifier,
        groupBy,
        isCreatable
      }));
    }
    if ($$self.$$.dirty[2] & 2048) {
      {
        if (selectedValue)
          console.warn("selectedValue is no longer used. Please use value instead.");
      }
    }
    if ($$self.$$.dirty[1] & 524288) {
      updateValueDisplay(items);
    }
    if ($$self.$$.dirty[0] & 4) {
      {
        if (value)
          setValue();
      }
    }
    if ($$self.$$.dirty[0] & 73728) {
      {
        if (inputAttributes || !isSearchable)
          assignInputAttributes();
      }
    }
    if ($$self.$$.dirty[0] & 128 | $$self.$$.dirty[2] & 262144) {
      {
        if (isMulti) {
          setupMulti();
        }
        if (prev_isMulti && !isMulti) {
          setupSingle();
        }
      }
    }
    if ($$self.$$.dirty[0] & 132) {
      {
        if (isMulti && value && value.length > 1) {
          checkValueForDuplicates();
        }
      }
    }
    if ($$self.$$.dirty[0] & 4) {
      {
        if (value)
          dispatchSelectedItem();
      }
    }
    if ($$self.$$.dirty[0] & 132 | $$self.$$.dirty[2] & 32768) {
      {
        if (!value && isMulti && prev_value) {
          dispatch2("select", value);
        }
      }
    }
    if ($$self.$$.dirty[0] & 2 | $$self.$$.dirty[2] & 131072) {
      {
        if (isFocused !== prev_isFocused) {
          setupFocus();
        }
      }
    }
    if ($$self.$$.dirty[0] & 8 | $$self.$$.dirty[2] & 65536) {
      {
        if (filterText !== prev_filterText) {
          setupFilterText();
        }
      }
    }
    if ($$self.$$.dirty[0] & 12) {
      $$invalidate(29, showSelectedItem = value && filterText.length === 0);
    }
    if ($$self.$$.dirty[0] & 536904208) {
      $$invalidate(37, showClearIcon = showSelectedItem && isClearable && !isDisabled && !isWaiting);
    }
    if ($$self.$$.dirty[0] & 132 | $$self.$$.dirty[1] & 393216) {
      $$invalidate(36, placeholderText = placeholderAlwaysShow && isMulti ? placeholder : value ? "" : placeholder);
    }
    if ($$self.$$.dirty[0] & 132) {
      $$invalidate(35, showMultiSelect = isMulti && value && value.length > 0);
    }
    if ($$self.$$.dirty[0] & 141 | $$self.$$.dirty[1] & 218103808 | $$self.$$.dirty[2] & 526326) {
      $$invalidate(34, listProps = {
        Item: Item$1,
        filterText,
        optionIdentifier,
        noOptionsMessage,
        hideEmptyState,
        isVirtualList,
        VirtualList: VirtualList$1,
        value,
        isMulti,
        getGroupHeaderLabel,
        items: filteredItems,
        itemHeight,
        getOptionLabel,
        listPlacement,
        parent: container,
        listAutoWidth,
        listOffset
      });
    }
    if ($$self.$$.dirty[0] & 132) {
      $$invalidate(33, ariaSelection = value ? handleAriaSelection() : "");
    }
    if ($$self.$$.dirty[0] & 268435490 | $$self.$$.dirty[2] & 524288) {
      $$invalidate(32, ariaContext = handleAriaContent());
    }
  };
  return [
    container,
    isFocused,
    value,
    filterText,
    isWaiting,
    listOpen,
    input,
    isMulti,
    multiFullItemClearable,
    isDisabled,
    hasError,
    containerStyles,
    getSelectionLabel,
    isSearchable,
    inputStyles,
    isClearable,
    inputAttributes,
    Icon,
    iconProps,
    showChevron,
    showIndicator,
    containerClasses,
    indicatorSvg,
    ClearIcon$1,
    List$1,
    Selection$1,
    MultiSelection$1,
    handleClear,
    hoverItemIndex,
    showSelectedItem,
    activeValue,
    _inputAttributes,
    ariaContext,
    ariaSelection,
    listProps,
    showMultiSelect,
    placeholderText,
    showClearIcon,
    handleMultiItemClear,
    handleKeyDown,
    handleFocus,
    handleWindowEvent,
    handleClick,
    itemSelected,
    itemCreated,
    closeList,
    id,
    isCreatable,
    placeholder,
    placeholderAlwaysShow,
    items,
    itemFilter,
    groupBy,
    groupFilter,
    isGroupHeaderSelectable,
    getGroupHeaderLabel,
    labelIdentifier,
    getOptionLabel,
    optionIdentifier,
    loadOptions,
    createGroupHeaderItem,
    createItem,
    getFilteredItems,
    listPlacement,
    isVirtualList,
    loadOptionsInterval,
    noOptionsMessage,
    hideEmptyState,
    listAutoWidth,
    itemHeight,
    listOffset,
    Item$1,
    VirtualList$1,
    selectedValue,
    ariaValues,
    ariaListOpen,
    ariaFocused,
    prev_value,
    prev_filterText,
    prev_isFocused,
    prev_isMulti,
    filteredItems,
    input_1_binding,
    input_1_input_handler,
    switch_instance_hoverItemIndex_binding,
    div_binding
  ];
}
class Select extends SvelteComponent {
  constructor(options) {
    super();
    init(this, options, instance$4, create_fragment$4, safe_not_equal, {
      id: 46,
      container: 0,
      input: 6,
      isMulti: 7,
      multiFullItemClearable: 8,
      isDisabled: 9,
      isCreatable: 47,
      isFocused: 1,
      value: 2,
      filterText: 3,
      placeholder: 48,
      placeholderAlwaysShow: 49,
      items: 50,
      itemFilter: 51,
      groupBy: 52,
      groupFilter: 53,
      isGroupHeaderSelectable: 54,
      getGroupHeaderLabel: 55,
      labelIdentifier: 56,
      getOptionLabel: 57,
      optionIdentifier: 58,
      loadOptions: 59,
      hasError: 10,
      containerStyles: 11,
      getSelectionLabel: 12,
      createGroupHeaderItem: 60,
      createItem: 61,
      getFilteredItems: 62,
      isSearchable: 13,
      inputStyles: 14,
      isClearable: 15,
      isWaiting: 4,
      listPlacement: 63,
      listOpen: 5,
      isVirtualList: 64,
      loadOptionsInterval: 65,
      noOptionsMessage: 66,
      hideEmptyState: 67,
      inputAttributes: 16,
      listAutoWidth: 68,
      itemHeight: 69,
      Icon: 17,
      iconProps: 18,
      showChevron: 19,
      showIndicator: 20,
      containerClasses: 21,
      indicatorSvg: 22,
      listOffset: 70,
      ClearIcon: 23,
      Item: 71,
      List: 24,
      Selection: 25,
      MultiSelection: 26,
      VirtualList: 72,
      selectedValue: 73,
      handleClear: 27,
      ariaValues: 74,
      ariaListOpen: 75,
      ariaFocused: 76
    }, null, [-1, -1, -1, -1]);
  }
  get getFilteredItems() {
    return this.$$.ctx[62];
  }
  get handleClear() {
    return this.$$.ctx[27];
  }
}
var StarSelect_svelte_svelte_type_style_lang = /* @__PURE__ */ (() => ".font-family_mono.svelte-dvjau7{font-family:'PT Mono';white-space:pre}.hide-scrollbar.svelte-dvjau7{scrollbar-width:none}.hide-scrollbar.svelte-dvjau7::-webkit-scrollbar{display:none}.hide-scrollbar.svelte-dvjau7::-webkit-scrollbar-track{display:none}.hide-scrollbar.svelte-dvjau7::-webkit-scrollbar-thumb{background-color:rgba(0, 0, 0, 0.2)}.global_select-item > .global_pfp{padding-right:0.75ch;margin-top:-0.25em}.star-select.svelte-dvjau7{position:relative;--height:var(--ui-row-height);--background:var(--theme-color-border);--border:1px solid transparent;--borderRadius:8px;--inputColor:var(--theme-color-text-light);--placeholderColor:var(--theme-color-graysoft);--inputFontSize:13px;--borderFocusColor:var(--theme-color-primary);--indicatorColor:var(--theme-color-primary);--listShadow:-1px 3px 7px 0 rgba(0, 0, 0, 0.8);--listMaxHeight:500px;--listBackground:rgba(53, 56, 61, 0.97);--listBorderRadius:var(--ui-border-radius);--itemHoverBG:black;--itemIsActiveBG:var(--theme-color-primary);--itemIsActiveColor:black;--clearSelectColor:var(--theme-color-graymed);--clearSelectFocusColor:var(--theme-color-graymed);--clearSelectHoverColor:var(--theme-color-graymed);font-family:Poppins;font-weight:400;font-size:14px}.star-select .secondary{color:var(--theme-color-text-med)}.star-select .secondary::before{content:' - ';color:var(--theme-color-text-med)}.star-select .item.active{display:none}.star-select .item.active .secondary{color:rgba(0, 0, 0, 0.5)}.star-select .item.active .secondary::before{color:rgba(0, 0, 0, 0.5)}")();
function create_fragment$3(ctx) {
  let div;
  let select;
  let div_1;
  let updating_value;
  let div_class_value;
  let current;
  function select_value_binding(value) {
    ctx[14](value);
  }
  let select_props = {
    id: "sender-select",
    placeholder: ctx[1],
    listOffset: ctx[2],
    isClearable: ctx[3],
    showIndicator: ctx[4],
    indicatorSvg: SX_ICON_DROPDOWN,
    listPlacement: "bottom",
    items: ctx[5],
    getOptionLabel: ctx[9],
    getSelectionLabel: ctx[9]
  };
  if (ctx[0] !== void 0) {
    select_props.value = ctx[0];
  }
  select = new Select({ props: select_props });
  binding_callbacks.push(() => bind(select, "value", select_value_binding));
  return {
    c() {
      div = element("div");
      div_1 = element("div");
      create_component(select.$$.fragment);
      set_style(div_1, "display", "contents");
      set_style(div_1, "--listMaxHeight", ctx[8]);
      attr(div, "class", div_class_value = "star-select " + ctx[6] + " svelte-dvjau7");
    },
    m(target, anchor) {
      insert(target, div, anchor);
      append(div, div_1);
      mount_component(select, div_1, null);
      ctx[15](div);
      current = true;
    },
    p(ctx2, [dirty]) {
      if (dirty & 256) {
        set_style(div_1, "--listMaxHeight", ctx2[8]);
      }
      const select_changes = {};
      if (dirty & 2)
        select_changes.placeholder = ctx2[1];
      if (dirty & 4)
        select_changes.listOffset = ctx2[2];
      if (dirty & 8)
        select_changes.isClearable = ctx2[3];
      if (dirty & 16)
        select_changes.showIndicator = ctx2[4];
      if (dirty & 32)
        select_changes.items = ctx2[5];
      if (!updating_value && dirty & 1) {
        updating_value = true;
        select_changes.value = ctx2[0];
        add_flush_callback(() => updating_value = false);
      }
      select.$set(select_changes);
      if (!current || dirty & 64 && div_class_value !== (div_class_value = "star-select " + ctx2[6] + " svelte-dvjau7")) {
        attr(div, "class", div_class_value);
      }
    },
    i(local) {
      if (current)
        return;
      transition_in(select.$$.fragment, local);
      current = true;
    },
    o(local) {
      transition_out(select.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(div);
      destroy_component(select);
      ctx[15](null);
    }
  };
}
function instance$3($$self, $$props, $$invalidate) {
  let { id = "" } = $$props;
  let { placeholder = "" } = $$props;
  let { listOffset = 1 } = $$props;
  let { isClearable = false } = $$props;
  let { showIndicator = true } = $$props;
  let { items } = $$props;
  let { value = void 0 } = $$props;
  let { pfpMap = null } = $$props;
  const h_pfps = pfpMap;
  let { primaryClass = "" } = $$props;
  let { secondaryClass = "" } = $$props;
  let { containerClasses = "" } = $$props;
  function create_label(g_item) {
    if (g_item.primary) {
      return dd("span", { class: "global_select-item" }, [
        h_pfps ? h_pfps[g_item.object.pfp] || "" : "",
        dd("span", { class: "name " + primaryClass }, [g_item.primary]),
        dd("span", { class: "secondary " + secondaryClass }, [g_item.secondary || ""])
      ]).outerHTML;
    }
    return g_item.value;
  }
  let dm_star_select;
  let sx_max_height = "500px";
  onMount(() => {
    setTimeout(() => {
      try {
        const x_bottom = dm_star_select.getBoundingClientRect().bottom;
        $$invalidate(8, sx_max_height = Math.min(window.innerHeight - x_bottom - 20, 500) + "px");
      } catch (e_bounds) {
      }
    }, 1e3);
  });
  function select_value_binding(value$1) {
    value = value$1;
    $$invalidate(0, value);
  }
  function div_binding($$value) {
    binding_callbacks[$$value ? "unshift" : "push"](() => {
      dm_star_select = $$value;
      $$invalidate(7, dm_star_select);
    });
  }
  $$self.$$set = ($$props2) => {
    if ("id" in $$props2)
      $$invalidate(10, id = $$props2.id);
    if ("placeholder" in $$props2)
      $$invalidate(1, placeholder = $$props2.placeholder);
    if ("listOffset" in $$props2)
      $$invalidate(2, listOffset = $$props2.listOffset);
    if ("isClearable" in $$props2)
      $$invalidate(3, isClearable = $$props2.isClearable);
    if ("showIndicator" in $$props2)
      $$invalidate(4, showIndicator = $$props2.showIndicator);
    if ("items" in $$props2)
      $$invalidate(5, items = $$props2.items);
    if ("value" in $$props2)
      $$invalidate(0, value = $$props2.value);
    if ("pfpMap" in $$props2)
      $$invalidate(11, pfpMap = $$props2.pfpMap);
    if ("primaryClass" in $$props2)
      $$invalidate(12, primaryClass = $$props2.primaryClass);
    if ("secondaryClass" in $$props2)
      $$invalidate(13, secondaryClass = $$props2.secondaryClass);
    if ("containerClasses" in $$props2)
      $$invalidate(6, containerClasses = $$props2.containerClasses);
  };
  return [
    value,
    placeholder,
    listOffset,
    isClearable,
    showIndicator,
    items,
    containerClasses,
    dm_star_select,
    sx_max_height,
    create_label,
    id,
    pfpMap,
    primaryClass,
    secondaryClass,
    select_value_binding,
    div_binding
  ];
}
class StarSelect extends SvelteComponent {
  constructor(options) {
    super();
    init(this, options, instance$3, create_fragment$3, safe_not_equal, {
      id: 10,
      placeholder: 1,
      listOffset: 2,
      isClearable: 3,
      showIndicator: 4,
      items: 5,
      value: 0,
      pfpMap: 11,
      primaryClass: 12,
      secondaryClass: 13,
      containerClasses: 6
    });
  }
}
function once_store_updates(yw_store, b_truthy = false) {
  return new Promise((fk_resolve) => {
    let b_initialized = false;
    const f_unsubscribe = yw_store.subscribe((w_value) => {
      if (!b_initialized) {
        b_initialized = true;
        return;
      }
      if (!b_truthy || w_value) {
        f_unsubscribe();
        fk_resolve(w_value);
      }
    });
  });
}
async function load_pfps(h_resources, h_props) {
  return ofe(await Promise.all(ode(h_resources).map(([_, g_resource]) => new Promise((fk_resolve) => {
    const dm_dummy = dd("span");
    const yc_pfp = new PfpDisplay({
      target: dm_dummy,
      props: {
        ...h_props,
        resource: g_resource,
        settle() {
          const dm_pfp = dm_dummy.firstChild?.cloneNode(true);
          yc_pfp.$destroy();
          fk_resolve([g_resource.pfp, dm_pfp]);
        }
      }
    });
  }))));
}
var isNumeric = /^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i, mathceil = Math.ceil, mathfloor = Math.floor, bignumberError = "[BigNumber Error] ", tooManyDigits = bignumberError + "Number primitive has more than 15 significant digits: ", BASE = 1e14, LOG_BASE = 14, MAX_SAFE_INTEGER = 9007199254740991, POWS_TEN = [1, 10, 100, 1e3, 1e4, 1e5, 1e6, 1e7, 1e8, 1e9, 1e10, 1e11, 1e12, 1e13], SQRT_BASE = 1e7, MAX = 1e9;
function clone(configObject) {
  var div, convertBase, parseNumeric, P = BigNumber2.prototype = { constructor: BigNumber2, toString: null, valueOf: null }, ONE2 = new BigNumber2(1), DECIMAL_PLACES = 20, ROUNDING_MODE = 4, TO_EXP_NEG = -7, TO_EXP_POS = 21, MIN_EXP = -1e7, MAX_EXP = 1e7, CRYPTO = false, MODULO_MODE = 1, POW_PRECISION = 0, FORMAT = {
    prefix: "",
    groupSize: 3,
    secondaryGroupSize: 0,
    groupSeparator: ",",
    decimalSeparator: ".",
    fractionGroupSize: 0,
    fractionGroupSeparator: "\xA0",
    suffix: ""
  }, ALPHABET2 = "0123456789abcdefghijklmnopqrstuvwxyz", alphabetHasNormalDecimalDigits = true;
  function BigNumber2(v, b) {
    var alphabet, c, caseChanged, e, i, isNum, len, str, x = this;
    if (!(x instanceof BigNumber2))
      return new BigNumber2(v, b);
    if (b == null) {
      if (v && v._isBigNumber === true) {
        x.s = v.s;
        if (!v.c || v.e > MAX_EXP) {
          x.c = x.e = null;
        } else if (v.e < MIN_EXP) {
          x.c = [x.e = 0];
        } else {
          x.e = v.e;
          x.c = v.c.slice();
        }
        return;
      }
      if ((isNum = typeof v == "number") && v * 0 == 0) {
        x.s = 1 / v < 0 ? (v = -v, -1) : 1;
        if (v === ~~v) {
          for (e = 0, i = v; i >= 10; i /= 10, e++)
            ;
          if (e > MAX_EXP) {
            x.c = x.e = null;
          } else {
            x.e = e;
            x.c = [v];
          }
          return;
        }
        str = String(v);
      } else {
        if (!isNumeric.test(str = String(v)))
          return parseNumeric(x, str, isNum);
        x.s = str.charCodeAt(0) == 45 ? (str = str.slice(1), -1) : 1;
      }
      if ((e = str.indexOf(".")) > -1)
        str = str.replace(".", "");
      if ((i = str.search(/e/i)) > 0) {
        if (e < 0)
          e = i;
        e += +str.slice(i + 1);
        str = str.substring(0, i);
      } else if (e < 0) {
        e = str.length;
      }
    } else {
      intCheck(b, 2, ALPHABET2.length, "Base");
      if (b == 10 && alphabetHasNormalDecimalDigits) {
        x = new BigNumber2(v);
        return round(x, DECIMAL_PLACES + x.e + 1, ROUNDING_MODE);
      }
      str = String(v);
      if (isNum = typeof v == "number") {
        if (v * 0 != 0)
          return parseNumeric(x, str, isNum, b);
        x.s = 1 / v < 0 ? (str = str.slice(1), -1) : 1;
        if (BigNumber2.DEBUG && str.replace(/^0\.0*|\./, "").length > 15) {
          throw Error(tooManyDigits + v);
        }
      } else {
        x.s = str.charCodeAt(0) === 45 ? (str = str.slice(1), -1) : 1;
      }
      alphabet = ALPHABET2.slice(0, b);
      e = i = 0;
      for (len = str.length; i < len; i++) {
        if (alphabet.indexOf(c = str.charAt(i)) < 0) {
          if (c == ".") {
            if (i > e) {
              e = len;
              continue;
            }
          } else if (!caseChanged) {
            if (str == str.toUpperCase() && (str = str.toLowerCase()) || str == str.toLowerCase() && (str = str.toUpperCase())) {
              caseChanged = true;
              i = -1;
              e = 0;
              continue;
            }
          }
          return parseNumeric(x, String(v), isNum, b);
        }
      }
      isNum = false;
      str = convertBase(str, b, 10, x.s);
      if ((e = str.indexOf(".")) > -1)
        str = str.replace(".", "");
      else
        e = str.length;
    }
    for (i = 0; str.charCodeAt(i) === 48; i++)
      ;
    for (len = str.length; str.charCodeAt(--len) === 48; )
      ;
    if (str = str.slice(i, ++len)) {
      len -= i;
      if (isNum && BigNumber2.DEBUG && len > 15 && (v > MAX_SAFE_INTEGER || v !== mathfloor(v))) {
        throw Error(tooManyDigits + x.s * v);
      }
      if ((e = e - i - 1) > MAX_EXP) {
        x.c = x.e = null;
      } else if (e < MIN_EXP) {
        x.c = [x.e = 0];
      } else {
        x.e = e;
        x.c = [];
        i = (e + 1) % LOG_BASE;
        if (e < 0)
          i += LOG_BASE;
        if (i < len) {
          if (i)
            x.c.push(+str.slice(0, i));
          for (len -= LOG_BASE; i < len; ) {
            x.c.push(+str.slice(i, i += LOG_BASE));
          }
          i = LOG_BASE - (str = str.slice(i)).length;
        } else {
          i -= len;
        }
        for (; i--; str += "0")
          ;
        x.c.push(+str);
      }
    } else {
      x.c = [x.e = 0];
    }
  }
  BigNumber2.clone = clone;
  BigNumber2.ROUND_UP = 0;
  BigNumber2.ROUND_DOWN = 1;
  BigNumber2.ROUND_CEIL = 2;
  BigNumber2.ROUND_FLOOR = 3;
  BigNumber2.ROUND_HALF_UP = 4;
  BigNumber2.ROUND_HALF_DOWN = 5;
  BigNumber2.ROUND_HALF_EVEN = 6;
  BigNumber2.ROUND_HALF_CEIL = 7;
  BigNumber2.ROUND_HALF_FLOOR = 8;
  BigNumber2.EUCLID = 9;
  BigNumber2.config = BigNumber2.set = function(obj) {
    var p2, v;
    if (obj != null) {
      if (typeof obj == "object") {
        if (obj.hasOwnProperty(p2 = "DECIMAL_PLACES")) {
          v = obj[p2];
          intCheck(v, 0, MAX, p2);
          DECIMAL_PLACES = v;
        }
        if (obj.hasOwnProperty(p2 = "ROUNDING_MODE")) {
          v = obj[p2];
          intCheck(v, 0, 8, p2);
          ROUNDING_MODE = v;
        }
        if (obj.hasOwnProperty(p2 = "EXPONENTIAL_AT")) {
          v = obj[p2];
          if (v && v.pop) {
            intCheck(v[0], -MAX, 0, p2);
            intCheck(v[1], 0, MAX, p2);
            TO_EXP_NEG = v[0];
            TO_EXP_POS = v[1];
          } else {
            intCheck(v, -MAX, MAX, p2);
            TO_EXP_NEG = -(TO_EXP_POS = v < 0 ? -v : v);
          }
        }
        if (obj.hasOwnProperty(p2 = "RANGE")) {
          v = obj[p2];
          if (v && v.pop) {
            intCheck(v[0], -MAX, -1, p2);
            intCheck(v[1], 1, MAX, p2);
            MIN_EXP = v[0];
            MAX_EXP = v[1];
          } else {
            intCheck(v, -MAX, MAX, p2);
            if (v) {
              MIN_EXP = -(MAX_EXP = v < 0 ? -v : v);
            } else {
              throw Error(bignumberError + p2 + " cannot be zero: " + v);
            }
          }
        }
        if (obj.hasOwnProperty(p2 = "CRYPTO")) {
          v = obj[p2];
          if (v === !!v) {
            if (v) {
              if (typeof crypto != "undefined" && crypto && (crypto.getRandomValues || crypto.randomBytes)) {
                CRYPTO = v;
              } else {
                CRYPTO = !v;
                throw Error(bignumberError + "crypto unavailable");
              }
            } else {
              CRYPTO = v;
            }
          } else {
            throw Error(bignumberError + p2 + " not true or false: " + v);
          }
        }
        if (obj.hasOwnProperty(p2 = "MODULO_MODE")) {
          v = obj[p2];
          intCheck(v, 0, 9, p2);
          MODULO_MODE = v;
        }
        if (obj.hasOwnProperty(p2 = "POW_PRECISION")) {
          v = obj[p2];
          intCheck(v, 0, MAX, p2);
          POW_PRECISION = v;
        }
        if (obj.hasOwnProperty(p2 = "FORMAT")) {
          v = obj[p2];
          if (typeof v == "object")
            FORMAT = v;
          else
            throw Error(bignumberError + p2 + " not an object: " + v);
        }
        if (obj.hasOwnProperty(p2 = "ALPHABET")) {
          v = obj[p2];
          if (typeof v == "string" && !/^.?$|[+\-.\s]|(.).*\1/.test(v)) {
            alphabetHasNormalDecimalDigits = v.slice(0, 10) == "0123456789";
            ALPHABET2 = v;
          } else {
            throw Error(bignumberError + p2 + " invalid: " + v);
          }
        }
      } else {
        throw Error(bignumberError + "Object expected: " + obj);
      }
    }
    return {
      DECIMAL_PLACES,
      ROUNDING_MODE,
      EXPONENTIAL_AT: [TO_EXP_NEG, TO_EXP_POS],
      RANGE: [MIN_EXP, MAX_EXP],
      CRYPTO,
      MODULO_MODE,
      POW_PRECISION,
      FORMAT,
      ALPHABET: ALPHABET2
    };
  };
  BigNumber2.isBigNumber = function(v) {
    if (!v || v._isBigNumber !== true)
      return false;
    if (!BigNumber2.DEBUG)
      return true;
    var i, n, c = v.c, e = v.e, s = v.s;
    out:
      if ({}.toString.call(c) == "[object Array]") {
        if ((s === 1 || s === -1) && e >= -MAX && e <= MAX && e === mathfloor(e)) {
          if (c[0] === 0) {
            if (e === 0 && c.length === 1)
              return true;
            break out;
          }
          i = (e + 1) % LOG_BASE;
          if (i < 1)
            i += LOG_BASE;
          if (String(c[0]).length == i) {
            for (i = 0; i < c.length; i++) {
              n = c[i];
              if (n < 0 || n >= BASE || n !== mathfloor(n))
                break out;
            }
            if (n !== 0)
              return true;
          }
        }
      } else if (c === null && e === null && (s === null || s === 1 || s === -1)) {
        return true;
      }
    throw Error(bignumberError + "Invalid BigNumber: " + v);
  };
  BigNumber2.maximum = BigNumber2.max = function() {
    return maxOrMin(arguments, P.lt);
  };
  BigNumber2.minimum = BigNumber2.min = function() {
    return maxOrMin(arguments, P.gt);
  };
  BigNumber2.random = function() {
    var pow2_53 = 9007199254740992;
    var random53bitInt = Math.random() * pow2_53 & 2097151 ? function() {
      return mathfloor(Math.random() * pow2_53);
    } : function() {
      return (Math.random() * 1073741824 | 0) * 8388608 + (Math.random() * 8388608 | 0);
    };
    return function(dp) {
      var a, b, e, k, v, i = 0, c = [], rand = new BigNumber2(ONE2);
      if (dp == null)
        dp = DECIMAL_PLACES;
      else
        intCheck(dp, 0, MAX);
      k = mathceil(dp / LOG_BASE);
      if (CRYPTO) {
        if (crypto.getRandomValues) {
          a = crypto.getRandomValues(new Uint32Array(k *= 2));
          for (; i < k; ) {
            v = a[i] * 131072 + (a[i + 1] >>> 11);
            if (v >= 9e15) {
              b = crypto.getRandomValues(new Uint32Array(2));
              a[i] = b[0];
              a[i + 1] = b[1];
            } else {
              c.push(v % 1e14);
              i += 2;
            }
          }
          i = k / 2;
        } else if (crypto.randomBytes) {
          a = crypto.randomBytes(k *= 7);
          for (; i < k; ) {
            v = (a[i] & 31) * 281474976710656 + a[i + 1] * 1099511627776 + a[i + 2] * 4294967296 + a[i + 3] * 16777216 + (a[i + 4] << 16) + (a[i + 5] << 8) + a[i + 6];
            if (v >= 9e15) {
              crypto.randomBytes(7).copy(a, i);
            } else {
              c.push(v % 1e14);
              i += 7;
            }
          }
          i = k / 7;
        } else {
          CRYPTO = false;
          throw Error(bignumberError + "crypto unavailable");
        }
      }
      if (!CRYPTO) {
        for (; i < k; ) {
          v = random53bitInt();
          if (v < 9e15)
            c[i++] = v % 1e14;
        }
      }
      k = c[--i];
      dp %= LOG_BASE;
      if (k && dp) {
        v = POWS_TEN[LOG_BASE - dp];
        c[i] = mathfloor(k / v) * v;
      }
      for (; c[i] === 0; c.pop(), i--)
        ;
      if (i < 0) {
        c = [e = 0];
      } else {
        for (e = -1; c[0] === 0; c.splice(0, 1), e -= LOG_BASE)
          ;
        for (i = 1, v = c[0]; v >= 10; v /= 10, i++)
          ;
        if (i < LOG_BASE)
          e -= LOG_BASE - i;
      }
      rand.e = e;
      rand.c = c;
      return rand;
    };
  }();
  BigNumber2.sum = function() {
    var i = 1, args = arguments, sum = new BigNumber2(args[0]);
    for (; i < args.length; )
      sum = sum.plus(args[i++]);
    return sum;
  };
  convertBase = function() {
    var decimal = "0123456789";
    function toBaseOut(str, baseIn, baseOut, alphabet) {
      var j, arr = [0], arrL, i = 0, len = str.length;
      for (; i < len; ) {
        for (arrL = arr.length; arrL--; arr[arrL] *= baseIn)
          ;
        arr[0] += alphabet.indexOf(str.charAt(i++));
        for (j = 0; j < arr.length; j++) {
          if (arr[j] > baseOut - 1) {
            if (arr[j + 1] == null)
              arr[j + 1] = 0;
            arr[j + 1] += arr[j] / baseOut | 0;
            arr[j] %= baseOut;
          }
        }
      }
      return arr.reverse();
    }
    return function(str, baseIn, baseOut, sign, callerIsToString) {
      var alphabet, d, e, k, r, x, xc, y, i = str.indexOf("."), dp = DECIMAL_PLACES, rm = ROUNDING_MODE;
      if (i >= 0) {
        k = POW_PRECISION;
        POW_PRECISION = 0;
        str = str.replace(".", "");
        y = new BigNumber2(baseIn);
        x = y.pow(str.length - i);
        POW_PRECISION = k;
        y.c = toBaseOut(toFixedPoint(coeffToString(x.c), x.e, "0"), 10, baseOut, decimal);
        y.e = y.c.length;
      }
      xc = toBaseOut(str, baseIn, baseOut, callerIsToString ? (alphabet = ALPHABET2, decimal) : (alphabet = decimal, ALPHABET2));
      e = k = xc.length;
      for (; xc[--k] == 0; xc.pop())
        ;
      if (!xc[0])
        return alphabet.charAt(0);
      if (i < 0) {
        --e;
      } else {
        x.c = xc;
        x.e = e;
        x.s = sign;
        x = div(x, y, dp, rm, baseOut);
        xc = x.c;
        r = x.r;
        e = x.e;
      }
      d = e + dp + 1;
      i = xc[d];
      k = baseOut / 2;
      r = r || d < 0 || xc[d + 1] != null;
      r = rm < 4 ? (i != null || r) && (rm == 0 || rm == (x.s < 0 ? 3 : 2)) : i > k || i == k && (rm == 4 || r || rm == 6 && xc[d - 1] & 1 || rm == (x.s < 0 ? 8 : 7));
      if (d < 1 || !xc[0]) {
        str = r ? toFixedPoint(alphabet.charAt(1), -dp, alphabet.charAt(0)) : alphabet.charAt(0);
      } else {
        xc.length = d;
        if (r) {
          for (--baseOut; ++xc[--d] > baseOut; ) {
            xc[d] = 0;
            if (!d) {
              ++e;
              xc = [1].concat(xc);
            }
          }
        }
        for (k = xc.length; !xc[--k]; )
          ;
        for (i = 0, str = ""; i <= k; str += alphabet.charAt(xc[i++]))
          ;
        str = toFixedPoint(str, e, alphabet.charAt(0));
      }
      return str;
    };
  }();
  div = function() {
    function multiply2(x, k, base) {
      var m, temp, xlo, xhi, carry = 0, i = x.length, klo = k % SQRT_BASE, khi = k / SQRT_BASE | 0;
      for (x = x.slice(); i--; ) {
        xlo = x[i] % SQRT_BASE;
        xhi = x[i] / SQRT_BASE | 0;
        m = khi * xlo + xhi * klo;
        temp = klo * xlo + m % SQRT_BASE * SQRT_BASE + carry;
        carry = (temp / base | 0) + (m / SQRT_BASE | 0) + khi * xhi;
        x[i] = temp % base;
      }
      if (carry)
        x = [carry].concat(x);
      return x;
    }
    function compare3(a, b, aL, bL) {
      var i, cmp;
      if (aL != bL) {
        cmp = aL > bL ? 1 : -1;
      } else {
        for (i = cmp = 0; i < aL; i++) {
          if (a[i] != b[i]) {
            cmp = a[i] > b[i] ? 1 : -1;
            break;
          }
        }
      }
      return cmp;
    }
    function subtract2(a, b, aL, base) {
      var i = 0;
      for (; aL--; ) {
        a[aL] -= i;
        i = a[aL] < b[aL] ? 1 : 0;
        a[aL] = i * base + a[aL] - b[aL];
      }
      for (; !a[0] && a.length > 1; a.splice(0, 1))
        ;
    }
    return function(x, y, dp, rm, base) {
      var cmp, e, i, more, n, prod, prodL, q, qc, rem, remL, rem0, xi, xL, yc0, yL, yz, s = x.s == y.s ? 1 : -1, xc = x.c, yc = y.c;
      if (!xc || !xc[0] || !yc || !yc[0]) {
        return new BigNumber2(!x.s || !y.s || (xc ? yc && xc[0] == yc[0] : !yc) ? NaN : xc && xc[0] == 0 || !yc ? s * 0 : s / 0);
      }
      q = new BigNumber2(s);
      qc = q.c = [];
      e = x.e - y.e;
      s = dp + e + 1;
      if (!base) {
        base = BASE;
        e = bitFloor(x.e / LOG_BASE) - bitFloor(y.e / LOG_BASE);
        s = s / LOG_BASE | 0;
      }
      for (i = 0; yc[i] == (xc[i] || 0); i++)
        ;
      if (yc[i] > (xc[i] || 0))
        e--;
      if (s < 0) {
        qc.push(1);
        more = true;
      } else {
        xL = xc.length;
        yL = yc.length;
        i = 0;
        s += 2;
        n = mathfloor(base / (yc[0] + 1));
        if (n > 1) {
          yc = multiply2(yc, n, base);
          xc = multiply2(xc, n, base);
          yL = yc.length;
          xL = xc.length;
        }
        xi = yL;
        rem = xc.slice(0, yL);
        remL = rem.length;
        for (; remL < yL; rem[remL++] = 0)
          ;
        yz = yc.slice();
        yz = [0].concat(yz);
        yc0 = yc[0];
        if (yc[1] >= base / 2)
          yc0++;
        do {
          n = 0;
          cmp = compare3(yc, rem, yL, remL);
          if (cmp < 0) {
            rem0 = rem[0];
            if (yL != remL)
              rem0 = rem0 * base + (rem[1] || 0);
            n = mathfloor(rem0 / yc0);
            if (n > 1) {
              if (n >= base)
                n = base - 1;
              prod = multiply2(yc, n, base);
              prodL = prod.length;
              remL = rem.length;
              while (compare3(prod, rem, prodL, remL) == 1) {
                n--;
                subtract2(prod, yL < prodL ? yz : yc, prodL, base);
                prodL = prod.length;
                cmp = 1;
              }
            } else {
              if (n == 0) {
                cmp = n = 1;
              }
              prod = yc.slice();
              prodL = prod.length;
            }
            if (prodL < remL)
              prod = [0].concat(prod);
            subtract2(rem, prod, remL, base);
            remL = rem.length;
            if (cmp == -1) {
              while (compare3(yc, rem, yL, remL) < 1) {
                n++;
                subtract2(rem, yL < remL ? yz : yc, remL, base);
                remL = rem.length;
              }
            }
          } else if (cmp === 0) {
            n++;
            rem = [0];
          }
          qc[i++] = n;
          if (rem[0]) {
            rem[remL++] = xc[xi] || 0;
          } else {
            rem = [xc[xi]];
            remL = 1;
          }
        } while ((xi++ < xL || rem[0] != null) && s--);
        more = rem[0] != null;
        if (!qc[0])
          qc.splice(0, 1);
      }
      if (base == BASE) {
        for (i = 1, s = qc[0]; s >= 10; s /= 10, i++)
          ;
        round(q, dp + (q.e = i + e * LOG_BASE - 1) + 1, rm, more);
      } else {
        q.e = e;
        q.r = +more;
      }
      return q;
    };
  }();
  function format(n, i, rm, id) {
    var c0, e, ne, len, str;
    if (rm == null)
      rm = ROUNDING_MODE;
    else
      intCheck(rm, 0, 8);
    if (!n.c)
      return n.toString();
    c0 = n.c[0];
    ne = n.e;
    if (i == null) {
      str = coeffToString(n.c);
      str = id == 1 || id == 2 && (ne <= TO_EXP_NEG || ne >= TO_EXP_POS) ? toExponential(str, ne) : toFixedPoint(str, ne, "0");
    } else {
      n = round(new BigNumber2(n), i, rm);
      e = n.e;
      str = coeffToString(n.c);
      len = str.length;
      if (id == 1 || id == 2 && (i <= e || e <= TO_EXP_NEG)) {
        for (; len < i; str += "0", len++)
          ;
        str = toExponential(str, e);
      } else {
        i -= ne;
        str = toFixedPoint(str, e, "0");
        if (e + 1 > len) {
          if (--i > 0)
            for (str += "."; i--; str += "0")
              ;
        } else {
          i += e - len;
          if (i > 0) {
            if (e + 1 == len)
              str += ".";
            for (; i--; str += "0")
              ;
          }
        }
      }
    }
    return n.s < 0 && c0 ? "-" + str : str;
  }
  function maxOrMin(args, method) {
    var n, i = 1, m = new BigNumber2(args[0]);
    for (; i < args.length; i++) {
      n = new BigNumber2(args[i]);
      if (!n.s) {
        m = n;
        break;
      } else if (method.call(m, n)) {
        m = n;
      }
    }
    return m;
  }
  function normalise(n, c, e) {
    var i = 1, j = c.length;
    for (; !c[--j]; c.pop())
      ;
    for (j = c[0]; j >= 10; j /= 10, i++)
      ;
    if ((e = i + e * LOG_BASE - 1) > MAX_EXP) {
      n.c = n.e = null;
    } else if (e < MIN_EXP) {
      n.c = [n.e = 0];
    } else {
      n.e = e;
      n.c = c;
    }
    return n;
  }
  parseNumeric = function() {
    var basePrefix = /^(-?)0([xbo])(?=\w[\w.]*$)/i, dotAfter = /^([^.]+)\.$/, dotBefore = /^\.([^.]+)$/, isInfinityOrNaN = /^-?(Infinity|NaN)$/, whitespaceOrPlus = /^\s*\+(?=[\w.])|^\s+|\s+$/g;
    return function(x, str, isNum, b) {
      var base, s = isNum ? str : str.replace(whitespaceOrPlus, "");
      if (isInfinityOrNaN.test(s)) {
        x.s = isNaN(s) ? null : s < 0 ? -1 : 1;
      } else {
        if (!isNum) {
          s = s.replace(basePrefix, function(m, p1, p2) {
            base = (p2 = p2.toLowerCase()) == "x" ? 16 : p2 == "b" ? 2 : 8;
            return !b || b == base ? p1 : m;
          });
          if (b) {
            base = b;
            s = s.replace(dotAfter, "$1").replace(dotBefore, "0.$1");
          }
          if (str != s)
            return new BigNumber2(s, base);
        }
        if (BigNumber2.DEBUG) {
          throw Error(bignumberError + "Not a" + (b ? " base " + b : "") + " number: " + str);
        }
        x.s = null;
      }
      x.c = x.e = null;
    };
  }();
  function round(x, sd, rm, r) {
    var d, i, j, k, n, ni, rd, xc = x.c, pows10 = POWS_TEN;
    if (xc) {
      out: {
        for (d = 1, k = xc[0]; k >= 10; k /= 10, d++)
          ;
        i = sd - d;
        if (i < 0) {
          i += LOG_BASE;
          j = sd;
          n = xc[ni = 0];
          rd = n / pows10[d - j - 1] % 10 | 0;
        } else {
          ni = mathceil((i + 1) / LOG_BASE);
          if (ni >= xc.length) {
            if (r) {
              for (; xc.length <= ni; xc.push(0))
                ;
              n = rd = 0;
              d = 1;
              i %= LOG_BASE;
              j = i - LOG_BASE + 1;
            } else {
              break out;
            }
          } else {
            n = k = xc[ni];
            for (d = 1; k >= 10; k /= 10, d++)
              ;
            i %= LOG_BASE;
            j = i - LOG_BASE + d;
            rd = j < 0 ? 0 : n / pows10[d - j - 1] % 10 | 0;
          }
        }
        r = r || sd < 0 || xc[ni + 1] != null || (j < 0 ? n : n % pows10[d - j - 1]);
        r = rm < 4 ? (rd || r) && (rm == 0 || rm == (x.s < 0 ? 3 : 2)) : rd > 5 || rd == 5 && (rm == 4 || r || rm == 6 && (i > 0 ? j > 0 ? n / pows10[d - j] : 0 : xc[ni - 1]) % 10 & 1 || rm == (x.s < 0 ? 8 : 7));
        if (sd < 1 || !xc[0]) {
          xc.length = 0;
          if (r) {
            sd -= x.e + 1;
            xc[0] = pows10[(LOG_BASE - sd % LOG_BASE) % LOG_BASE];
            x.e = -sd || 0;
          } else {
            xc[0] = x.e = 0;
          }
          return x;
        }
        if (i == 0) {
          xc.length = ni;
          k = 1;
          ni--;
        } else {
          xc.length = ni + 1;
          k = pows10[LOG_BASE - i];
          xc[ni] = j > 0 ? mathfloor(n / pows10[d - j] % pows10[j]) * k : 0;
        }
        if (r) {
          for (; ; ) {
            if (ni == 0) {
              for (i = 1, j = xc[0]; j >= 10; j /= 10, i++)
                ;
              j = xc[0] += k;
              for (k = 1; j >= 10; j /= 10, k++)
                ;
              if (i != k) {
                x.e++;
                if (xc[0] == BASE)
                  xc[0] = 1;
              }
              break;
            } else {
              xc[ni] += k;
              if (xc[ni] != BASE)
                break;
              xc[ni--] = 0;
              k = 1;
            }
          }
        }
        for (i = xc.length; xc[--i] === 0; xc.pop())
          ;
      }
      if (x.e > MAX_EXP) {
        x.c = x.e = null;
      } else if (x.e < MIN_EXP) {
        x.c = [x.e = 0];
      }
    }
    return x;
  }
  function valueOf(n) {
    var str, e = n.e;
    if (e === null)
      return n.toString();
    str = coeffToString(n.c);
    str = e <= TO_EXP_NEG || e >= TO_EXP_POS ? toExponential(str, e) : toFixedPoint(str, e, "0");
    return n.s < 0 ? "-" + str : str;
  }
  P.absoluteValue = P.abs = function() {
    var x = new BigNumber2(this);
    if (x.s < 0)
      x.s = 1;
    return x;
  };
  P.comparedTo = function(y, b) {
    return compare(this, new BigNumber2(y, b));
  };
  P.decimalPlaces = P.dp = function(dp, rm) {
    var c, n, v, x = this;
    if (dp != null) {
      intCheck(dp, 0, MAX);
      if (rm == null)
        rm = ROUNDING_MODE;
      else
        intCheck(rm, 0, 8);
      return round(new BigNumber2(x), dp + x.e + 1, rm);
    }
    if (!(c = x.c))
      return null;
    n = ((v = c.length - 1) - bitFloor(this.e / LOG_BASE)) * LOG_BASE;
    if (v = c[v])
      for (; v % 10 == 0; v /= 10, n--)
        ;
    if (n < 0)
      n = 0;
    return n;
  };
  P.dividedBy = P.div = function(y, b) {
    return div(this, new BigNumber2(y, b), DECIMAL_PLACES, ROUNDING_MODE);
  };
  P.dividedToIntegerBy = P.idiv = function(y, b) {
    return div(this, new BigNumber2(y, b), 0, 1);
  };
  P.exponentiatedBy = P.pow = function(n, m) {
    var half, isModExp, i, k, more, nIsBig, nIsNeg, nIsOdd, y, x = this;
    n = new BigNumber2(n);
    if (n.c && !n.isInteger()) {
      throw Error(bignumberError + "Exponent not an integer: " + valueOf(n));
    }
    if (m != null)
      m = new BigNumber2(m);
    nIsBig = n.e > 14;
    if (!x.c || !x.c[0] || x.c[0] == 1 && !x.e && x.c.length == 1 || !n.c || !n.c[0]) {
      y = new BigNumber2(Math.pow(+valueOf(x), nIsBig ? 2 - isOdd(n) : +valueOf(n)));
      return m ? y.mod(m) : y;
    }
    nIsNeg = n.s < 0;
    if (m) {
      if (m.c ? !m.c[0] : !m.s)
        return new BigNumber2(NaN);
      isModExp = !nIsNeg && x.isInteger() && m.isInteger();
      if (isModExp)
        x = x.mod(m);
    } else if (n.e > 9 && (x.e > 0 || x.e < -1 || (x.e == 0 ? x.c[0] > 1 || nIsBig && x.c[1] >= 24e7 : x.c[0] < 8e13 || nIsBig && x.c[0] <= 9999975e7))) {
      k = x.s < 0 && isOdd(n) ? -0 : 0;
      if (x.e > -1)
        k = 1 / k;
      return new BigNumber2(nIsNeg ? 1 / k : k);
    } else if (POW_PRECISION) {
      k = mathceil(POW_PRECISION / LOG_BASE + 2);
    }
    if (nIsBig) {
      half = new BigNumber2(0.5);
      if (nIsNeg)
        n.s = 1;
      nIsOdd = isOdd(n);
    } else {
      i = Math.abs(+valueOf(n));
      nIsOdd = i % 2;
    }
    y = new BigNumber2(ONE2);
    for (; ; ) {
      if (nIsOdd) {
        y = y.times(x);
        if (!y.c)
          break;
        if (k) {
          if (y.c.length > k)
            y.c.length = k;
        } else if (isModExp) {
          y = y.mod(m);
        }
      }
      if (i) {
        i = mathfloor(i / 2);
        if (i === 0)
          break;
        nIsOdd = i % 2;
      } else {
        n = n.times(half);
        round(n, n.e + 1, 1);
        if (n.e > 14) {
          nIsOdd = isOdd(n);
        } else {
          i = +valueOf(n);
          if (i === 0)
            break;
          nIsOdd = i % 2;
        }
      }
      x = x.times(x);
      if (k) {
        if (x.c && x.c.length > k)
          x.c.length = k;
      } else if (isModExp) {
        x = x.mod(m);
      }
    }
    if (isModExp)
      return y;
    if (nIsNeg)
      y = ONE2.div(y);
    return m ? y.mod(m) : k ? round(y, POW_PRECISION, ROUNDING_MODE, more) : y;
  };
  P.integerValue = function(rm) {
    var n = new BigNumber2(this);
    if (rm == null)
      rm = ROUNDING_MODE;
    else
      intCheck(rm, 0, 8);
    return round(n, n.e + 1, rm);
  };
  P.isEqualTo = P.eq = function(y, b) {
    return compare(this, new BigNumber2(y, b)) === 0;
  };
  P.isFinite = function() {
    return !!this.c;
  };
  P.isGreaterThan = P.gt = function(y, b) {
    return compare(this, new BigNumber2(y, b)) > 0;
  };
  P.isGreaterThanOrEqualTo = P.gte = function(y, b) {
    return (b = compare(this, new BigNumber2(y, b))) === 1 || b === 0;
  };
  P.isInteger = function() {
    return !!this.c && bitFloor(this.e / LOG_BASE) > this.c.length - 2;
  };
  P.isLessThan = P.lt = function(y, b) {
    return compare(this, new BigNumber2(y, b)) < 0;
  };
  P.isLessThanOrEqualTo = P.lte = function(y, b) {
    return (b = compare(this, new BigNumber2(y, b))) === -1 || b === 0;
  };
  P.isNaN = function() {
    return !this.s;
  };
  P.isNegative = function() {
    return this.s < 0;
  };
  P.isPositive = function() {
    return this.s > 0;
  };
  P.isZero = function() {
    return !!this.c && this.c[0] == 0;
  };
  P.minus = function(y, b) {
    var i, j, t, xLTy, x = this, a = x.s;
    y = new BigNumber2(y, b);
    b = y.s;
    if (!a || !b)
      return new BigNumber2(NaN);
    if (a != b) {
      y.s = -b;
      return x.plus(y);
    }
    var xe = x.e / LOG_BASE, ye = y.e / LOG_BASE, xc = x.c, yc = y.c;
    if (!xe || !ye) {
      if (!xc || !yc)
        return xc ? (y.s = -b, y) : new BigNumber2(yc ? x : NaN);
      if (!xc[0] || !yc[0]) {
        return yc[0] ? (y.s = -b, y) : new BigNumber2(xc[0] ? x : ROUNDING_MODE == 3 ? -0 : 0);
      }
    }
    xe = bitFloor(xe);
    ye = bitFloor(ye);
    xc = xc.slice();
    if (a = xe - ye) {
      if (xLTy = a < 0) {
        a = -a;
        t = xc;
      } else {
        ye = xe;
        t = yc;
      }
      t.reverse();
      for (b = a; b--; t.push(0))
        ;
      t.reverse();
    } else {
      j = (xLTy = (a = xc.length) < (b = yc.length)) ? a : b;
      for (a = b = 0; b < j; b++) {
        if (xc[b] != yc[b]) {
          xLTy = xc[b] < yc[b];
          break;
        }
      }
    }
    if (xLTy)
      t = xc, xc = yc, yc = t, y.s = -y.s;
    b = (j = yc.length) - (i = xc.length);
    if (b > 0)
      for (; b--; xc[i++] = 0)
        ;
    b = BASE - 1;
    for (; j > a; ) {
      if (xc[--j] < yc[j]) {
        for (i = j; i && !xc[--i]; xc[i] = b)
          ;
        --xc[i];
        xc[j] += BASE;
      }
      xc[j] -= yc[j];
    }
    for (; xc[0] == 0; xc.splice(0, 1), --ye)
      ;
    if (!xc[0]) {
      y.s = ROUNDING_MODE == 3 ? -1 : 1;
      y.c = [y.e = 0];
      return y;
    }
    return normalise(y, xc, ye);
  };
  P.modulo = P.mod = function(y, b) {
    var q, s, x = this;
    y = new BigNumber2(y, b);
    if (!x.c || !y.s || y.c && !y.c[0]) {
      return new BigNumber2(NaN);
    } else if (!y.c || x.c && !x.c[0]) {
      return new BigNumber2(x);
    }
    if (MODULO_MODE == 9) {
      s = y.s;
      y.s = 1;
      q = div(x, y, 0, 3);
      y.s = s;
      q.s *= s;
    } else {
      q = div(x, y, 0, MODULO_MODE);
    }
    y = x.minus(q.times(y));
    if (!y.c[0] && MODULO_MODE == 1)
      y.s = x.s;
    return y;
  };
  P.multipliedBy = P.times = function(y, b) {
    var c, e, i, j, k, m, xcL, xlo, xhi, ycL, ylo, yhi, zc, base, sqrtBase, x = this, xc = x.c, yc = (y = new BigNumber2(y, b)).c;
    if (!xc || !yc || !xc[0] || !yc[0]) {
      if (!x.s || !y.s || xc && !xc[0] && !yc || yc && !yc[0] && !xc) {
        y.c = y.e = y.s = null;
      } else {
        y.s *= x.s;
        if (!xc || !yc) {
          y.c = y.e = null;
        } else {
          y.c = [0];
          y.e = 0;
        }
      }
      return y;
    }
    e = bitFloor(x.e / LOG_BASE) + bitFloor(y.e / LOG_BASE);
    y.s *= x.s;
    xcL = xc.length;
    ycL = yc.length;
    if (xcL < ycL)
      zc = xc, xc = yc, yc = zc, i = xcL, xcL = ycL, ycL = i;
    for (i = xcL + ycL, zc = []; i--; zc.push(0))
      ;
    base = BASE;
    sqrtBase = SQRT_BASE;
    for (i = ycL; --i >= 0; ) {
      c = 0;
      ylo = yc[i] % sqrtBase;
      yhi = yc[i] / sqrtBase | 0;
      for (k = xcL, j = i + k; j > i; ) {
        xlo = xc[--k] % sqrtBase;
        xhi = xc[k] / sqrtBase | 0;
        m = yhi * xlo + xhi * ylo;
        xlo = ylo * xlo + m % sqrtBase * sqrtBase + zc[j] + c;
        c = (xlo / base | 0) + (m / sqrtBase | 0) + yhi * xhi;
        zc[j--] = xlo % base;
      }
      zc[j] = c;
    }
    if (c) {
      ++e;
    } else {
      zc.splice(0, 1);
    }
    return normalise(y, zc, e);
  };
  P.negated = function() {
    var x = new BigNumber2(this);
    x.s = -x.s || null;
    return x;
  };
  P.plus = function(y, b) {
    var t, x = this, a = x.s;
    y = new BigNumber2(y, b);
    b = y.s;
    if (!a || !b)
      return new BigNumber2(NaN);
    if (a != b) {
      y.s = -b;
      return x.minus(y);
    }
    var xe = x.e / LOG_BASE, ye = y.e / LOG_BASE, xc = x.c, yc = y.c;
    if (!xe || !ye) {
      if (!xc || !yc)
        return new BigNumber2(a / 0);
      if (!xc[0] || !yc[0])
        return yc[0] ? y : new BigNumber2(xc[0] ? x : a * 0);
    }
    xe = bitFloor(xe);
    ye = bitFloor(ye);
    xc = xc.slice();
    if (a = xe - ye) {
      if (a > 0) {
        ye = xe;
        t = yc;
      } else {
        a = -a;
        t = xc;
      }
      t.reverse();
      for (; a--; t.push(0))
        ;
      t.reverse();
    }
    a = xc.length;
    b = yc.length;
    if (a - b < 0)
      t = yc, yc = xc, xc = t, b = a;
    for (a = 0; b; ) {
      a = (xc[--b] = xc[b] + yc[b] + a) / BASE | 0;
      xc[b] = BASE === xc[b] ? 0 : xc[b] % BASE;
    }
    if (a) {
      xc = [a].concat(xc);
      ++ye;
    }
    return normalise(y, xc, ye);
  };
  P.precision = P.sd = function(sd, rm) {
    var c, n, v, x = this;
    if (sd != null && sd !== !!sd) {
      intCheck(sd, 1, MAX);
      if (rm == null)
        rm = ROUNDING_MODE;
      else
        intCheck(rm, 0, 8);
      return round(new BigNumber2(x), sd, rm);
    }
    if (!(c = x.c))
      return null;
    v = c.length - 1;
    n = v * LOG_BASE + 1;
    if (v = c[v]) {
      for (; v % 10 == 0; v /= 10, n--)
        ;
      for (v = c[0]; v >= 10; v /= 10, n++)
        ;
    }
    if (sd && x.e + 1 > n)
      n = x.e + 1;
    return n;
  };
  P.shiftedBy = function(k) {
    intCheck(k, -MAX_SAFE_INTEGER, MAX_SAFE_INTEGER);
    return this.times("1e" + k);
  };
  P.squareRoot = P.sqrt = function() {
    var m, n, r, rep, t, x = this, c = x.c, s = x.s, e = x.e, dp = DECIMAL_PLACES + 4, half = new BigNumber2("0.5");
    if (s !== 1 || !c || !c[0]) {
      return new BigNumber2(!s || s < 0 && (!c || c[0]) ? NaN : c ? x : 1 / 0);
    }
    s = Math.sqrt(+valueOf(x));
    if (s == 0 || s == 1 / 0) {
      n = coeffToString(c);
      if ((n.length + e) % 2 == 0)
        n += "0";
      s = Math.sqrt(+n);
      e = bitFloor((e + 1) / 2) - (e < 0 || e % 2);
      if (s == 1 / 0) {
        n = "5e" + e;
      } else {
        n = s.toExponential();
        n = n.slice(0, n.indexOf("e") + 1) + e;
      }
      r = new BigNumber2(n);
    } else {
      r = new BigNumber2(s + "");
    }
    if (r.c[0]) {
      e = r.e;
      s = e + dp;
      if (s < 3)
        s = 0;
      for (; ; ) {
        t = r;
        r = half.times(t.plus(div(x, t, dp, 1)));
        if (coeffToString(t.c).slice(0, s) === (n = coeffToString(r.c)).slice(0, s)) {
          if (r.e < e)
            --s;
          n = n.slice(s - 3, s + 1);
          if (n == "9999" || !rep && n == "4999") {
            if (!rep) {
              round(t, t.e + DECIMAL_PLACES + 2, 0);
              if (t.times(t).eq(x)) {
                r = t;
                break;
              }
            }
            dp += 4;
            s += 4;
            rep = 1;
          } else {
            if (!+n || !+n.slice(1) && n.charAt(0) == "5") {
              round(r, r.e + DECIMAL_PLACES + 2, 1);
              m = !r.times(r).eq(x);
            }
            break;
          }
        }
      }
    }
    return round(r, r.e + DECIMAL_PLACES + 1, ROUNDING_MODE, m);
  };
  P.toExponential = function(dp, rm) {
    if (dp != null) {
      intCheck(dp, 0, MAX);
      dp++;
    }
    return format(this, dp, rm, 1);
  };
  P.toFixed = function(dp, rm) {
    if (dp != null) {
      intCheck(dp, 0, MAX);
      dp = dp + this.e + 1;
    }
    return format(this, dp, rm);
  };
  P.toFormat = function(dp, rm, format2) {
    var str, x = this;
    if (format2 == null) {
      if (dp != null && rm && typeof rm == "object") {
        format2 = rm;
        rm = null;
      } else if (dp && typeof dp == "object") {
        format2 = dp;
        dp = rm = null;
      } else {
        format2 = FORMAT;
      }
    } else if (typeof format2 != "object") {
      throw Error(bignumberError + "Argument not an object: " + format2);
    }
    str = x.toFixed(dp, rm);
    if (x.c) {
      var i, arr = str.split("."), g1 = +format2.groupSize, g2 = +format2.secondaryGroupSize, groupSeparator = format2.groupSeparator || "", intPart = arr[0], fractionPart = arr[1], isNeg = x.s < 0, intDigits = isNeg ? intPart.slice(1) : intPart, len = intDigits.length;
      if (g2)
        i = g1, g1 = g2, g2 = i, len -= i;
      if (g1 > 0 && len > 0) {
        i = len % g1 || g1;
        intPart = intDigits.substr(0, i);
        for (; i < len; i += g1)
          intPart += groupSeparator + intDigits.substr(i, g1);
        if (g2 > 0)
          intPart += groupSeparator + intDigits.slice(i);
        if (isNeg)
          intPart = "-" + intPart;
      }
      str = fractionPart ? intPart + (format2.decimalSeparator || "") + ((g2 = +format2.fractionGroupSize) ? fractionPart.replace(new RegExp("\\d{" + g2 + "}\\B", "g"), "$&" + (format2.fractionGroupSeparator || "")) : fractionPart) : intPart;
    }
    return (format2.prefix || "") + str + (format2.suffix || "");
  };
  P.toFraction = function(md) {
    var d, d0, d1, d2, e, exp, n, n0, n1, q, r, s, x = this, xc = x.c;
    if (md != null) {
      n = new BigNumber2(md);
      if (!n.isInteger() && (n.c || n.s !== 1) || n.lt(ONE2)) {
        throw Error(bignumberError + "Argument " + (n.isInteger() ? "out of range: " : "not an integer: ") + valueOf(n));
      }
    }
    if (!xc)
      return new BigNumber2(x);
    d = new BigNumber2(ONE2);
    n1 = d0 = new BigNumber2(ONE2);
    d1 = n0 = new BigNumber2(ONE2);
    s = coeffToString(xc);
    e = d.e = s.length - x.e - 1;
    d.c[0] = POWS_TEN[(exp = e % LOG_BASE) < 0 ? LOG_BASE + exp : exp];
    md = !md || n.comparedTo(d) > 0 ? e > 0 ? d : n1 : n;
    exp = MAX_EXP;
    MAX_EXP = 1 / 0;
    n = new BigNumber2(s);
    n0.c[0] = 0;
    for (; ; ) {
      q = div(n, d, 0, 1);
      d2 = d0.plus(q.times(d1));
      if (d2.comparedTo(md) == 1)
        break;
      d0 = d1;
      d1 = d2;
      n1 = n0.plus(q.times(d2 = n1));
      n0 = d2;
      d = n.minus(q.times(d2 = d));
      n = d2;
    }
    d2 = div(md.minus(d0), d1, 0, 1);
    n0 = n0.plus(d2.times(n1));
    d0 = d0.plus(d2.times(d1));
    n0.s = n1.s = x.s;
    e = e * 2;
    r = div(n1, d1, e, ROUNDING_MODE).minus(x).abs().comparedTo(div(n0, d0, e, ROUNDING_MODE).minus(x).abs()) < 1 ? [n1, d1] : [n0, d0];
    MAX_EXP = exp;
    return r;
  };
  P.toNumber = function() {
    return +valueOf(this);
  };
  P.toPrecision = function(sd, rm) {
    if (sd != null)
      intCheck(sd, 1, MAX);
    return format(this, sd, rm, 2);
  };
  P.toString = function(b) {
    var str, n = this, s = n.s, e = n.e;
    if (e === null) {
      if (s) {
        str = "Infinity";
        if (s < 0)
          str = "-" + str;
      } else {
        str = "NaN";
      }
    } else {
      if (b == null) {
        str = e <= TO_EXP_NEG || e >= TO_EXP_POS ? toExponential(coeffToString(n.c), e) : toFixedPoint(coeffToString(n.c), e, "0");
      } else if (b === 10 && alphabetHasNormalDecimalDigits) {
        n = round(new BigNumber2(n), DECIMAL_PLACES + e + 1, ROUNDING_MODE);
        str = toFixedPoint(coeffToString(n.c), n.e, "0");
      } else {
        intCheck(b, 2, ALPHABET2.length, "Base");
        str = convertBase(toFixedPoint(coeffToString(n.c), e, "0"), 10, b, s, true);
      }
      if (s < 0 && n.c[0])
        str = "-" + str;
    }
    return str;
  };
  P.valueOf = P.toJSON = function() {
    return valueOf(this);
  };
  P._isBigNumber = true;
  P[Symbol.toStringTag] = "BigNumber";
  P[Symbol.for("nodejs.util.inspect.custom")] = P.valueOf;
  if (configObject != null)
    BigNumber2.set(configObject);
  return BigNumber2;
}
function bitFloor(n) {
  var i = n | 0;
  return n > 0 || n === i ? i : i - 1;
}
function coeffToString(a) {
  var s, z, i = 1, j = a.length, r = a[0] + "";
  for (; i < j; ) {
    s = a[i++] + "";
    z = LOG_BASE - s.length;
    for (; z--; s = "0" + s)
      ;
    r += s;
  }
  for (j = r.length; r.charCodeAt(--j) === 48; )
    ;
  return r.slice(0, j + 1 || 1);
}
function compare(x, y) {
  var a, b, xc = x.c, yc = y.c, i = x.s, j = y.s, k = x.e, l = y.e;
  if (!i || !j)
    return null;
  a = xc && !xc[0];
  b = yc && !yc[0];
  if (a || b)
    return a ? b ? 0 : -j : i;
  if (i != j)
    return i;
  a = i < 0;
  b = k == l;
  if (!xc || !yc)
    return b ? 0 : !xc ^ a ? 1 : -1;
  if (!b)
    return k > l ^ a ? 1 : -1;
  j = (k = xc.length) < (l = yc.length) ? k : l;
  for (i = 0; i < j; i++)
    if (xc[i] != yc[i])
      return xc[i] > yc[i] ^ a ? 1 : -1;
  return k == l ? 0 : k > l ^ a ? 1 : -1;
}
function intCheck(n, min, max, name) {
  if (n < min || n > max || n !== mathfloor(n)) {
    throw Error(bignumberError + (name || "Argument") + (typeof n == "number" ? n < min || n > max ? " out of range: " : " not an integer: " : " not a primitive number: ") + String(n));
  }
}
function isOdd(n) {
  var k = n.c.length - 1;
  return bitFloor(n.e / LOG_BASE) == k && n.c[k] % 2 != 0;
}
function toExponential(str, e) {
  return (str.length > 1 ? str.charAt(0) + "." + str.slice(1) : str) + (e < 0 ? "e" : "e+") + e;
}
function toFixedPoint(str, e, z) {
  var len, zs;
  if (e < 0) {
    for (zs = z + "."; ++e; zs += z)
      ;
    str = zs + str;
  } else {
    len = str.length;
    if (++e > len) {
      for (zs = z, e -= len; --e; zs += z)
        ;
      str += zs;
    } else if (e < len) {
      str = str.slice(0, e) + "." + str.slice(e);
    }
  }
  return str;
}
var BigNumber = clone();
const D_INTL_USD = new Intl.NumberFormat("en-US", {
  style: "currency",
  currency: "USD",
  currencyDisplay: "symbol"
});
const D_INTL_USD_LT1 = new Intl.NumberFormat("en-US", {
  style: "currency",
  currency: "USD",
  currencyDisplay: "symbol",
  minimumFractionDigits: 2,
  maximumFractionDigits: 5
});
const A_NUMERIC_GT1 = [
  {
    order: 1e21,
    suffix: "sept",
    metric: "yotta",
    m: "Y"
  },
  {
    order: 1e21,
    suffix: "sext",
    metric: "zetta",
    m: "Z"
  },
  {
    order: 1e18,
    suffix: "quint",
    metric: "exa",
    m: "E"
  },
  {
    order: 1e15,
    suffix: "quad",
    metric: "peta",
    m: "P"
  },
  {
    order: 1e12,
    suffix: "tril",
    metric: "terra",
    m: "T"
  },
  {
    order: 1e9,
    suffix: "bil",
    metric: "giga",
    m: "G"
  },
  {
    order: 1e6,
    suffix: "mil",
    metric: "mega",
    m: "M"
  }
];
const A_NUMERIC_LT1 = [
  {
    order: 1e-24,
    suffix: "septh",
    metric: "yocto",
    m: "y"
  },
  {
    order: 1e-21,
    suffix: "sexth",
    metric: "zepto",
    m: "z"
  },
  {
    order: 1e-18,
    suffix: "quinth",
    metric: "atto",
    m: "a"
  },
  {
    order: 1e-15,
    suffix: "quadth",
    metric: "femto",
    m: "f"
  },
  {
    order: 1e-12,
    suffix: "trilth",
    metric: "pico",
    m: "p"
  },
  {
    order: 1e-9,
    suffix: "bilth",
    metric: "nano",
    m: "n"
  },
  {
    order: 1e-6,
    suffix: "milth",
    metric: "mirco",
    m: "\u03BC"
  },
  {
    order: 1e-3,
    suffix: "thsth",
    metric: "milli",
    m: "m"
  }
];
const D_INTL_AMOUNT_LT1 = new Intl.NumberFormat("en-US", {
  notation: "standard",
  maximumSignificantDigits: 6
});
const D_INTL_AMOUNT_GT1 = new Intl.NumberFormat("en-US", {
  notation: "standard",
  maximumFractionDigits: 3
});
const D_INTL_AMOUNT_GT1E3 = new Intl.NumberFormat("en-US", {
  notation: "standard",
  maximumSignificantDigits: 6
});
const D_INTL_AMOUNT_I1E3 = new Intl.NumberFormat("en-US", {
  notation: "standard",
  maximumSignificantDigits: 4
});
function format_amount(x_amount, b_shorter = false) {
  if (x_amount === 0)
    return "0";
  if (x_amount >= 1e6) {
    for (const gc_abbr of A_NUMERIC_GT1) {
      if (x_amount >= gc_abbr.order) {
        return (x_amount / gc_abbr.order).toPrecision(3) + " " + gc_abbr.suffix;
      }
    }
  } else if (x_amount < 1) {
    for (const gc_abbr of A_NUMERIC_LT1) {
      if (x_amount <= gc_abbr.order) {
        return (x_amount * gc_abbr.order).toPrecision(3) + " " + gc_abbr.metric;
      }
    }
    return D_INTL_AMOUNT_LT1.format(x_amount);
  }
  if (x_amount >= 1e3) {
    if (b_shorter) {
      return D_INTL_AMOUNT_I1E3.format(x_amount / 1e3) + " k";
    }
    return D_INTL_AMOUNT_GT1E3.format(x_amount);
  }
  return D_INTL_AMOUNT_GT1.format(x_amount);
}
function format_fiat(x_amount, si_fiat, b_omit_sign = false, n_decimals) {
  const s_formatted = x_amount < 1 ? D_INTL_USD_LT1.format(x_amount) : D_INTL_USD.format(x_amount);
  return b_omit_sign ? s_formatted.replace(/^[$]/, "") : s_formatted;
}
const coingecko_url = (a_coins, si_versus) => "https://api.coingecko.com/api/v3/simple/price?" + new URLSearchParams(ode({
  ids: a_coins.join(","),
  vs_currencies: si_versus,
  include_last_updated_at: "true"
}));
const CoinGecko = {
  async coinsVersus(a_coins, si_versus = "usd", xt_max_age = 5 * XT_MINUTES) {
    const a_apis = a_coins.map((si) => WebApis.pathFor("GET", coingecko_url([si], si_versus)));
    return await WebApis.open(async (ks_apis) => {
      const h_out = {};
      if (xt_max_age > 0) {
        const xt_cutoff = Date.now() - xt_max_age;
        let b_cache_valid = true;
        for (let i_coin = 0; i_coin < a_coins.length; i_coin++) {
          const g_api = ks_apis.at(a_apis[i_coin]);
          if (g_api && g_api.time > xt_cutoff) {
            const si_coin = a_coins[i_coin];
            h_out[si_coin] = g_api.response.cache[si_coin][si_versus];
          } else {
            b_cache_valid = false;
            break;
          }
        }
        if (b_cache_valid) {
          return h_out;
        }
      }
      const d_res = await fetch(coingecko_url(a_coins, si_versus));
      const h_response = await d_res.json();
      const h_cache = ks_apis.raw;
      const xt_now = Date.now();
      for (const [si_coin, g_coin] of ode(h_response)) {
        const g_cache = h_cache[si_coin] = h_cache[si_coin] || {};
        g_cache.response = g_coin;
        g_cache.time = xt_now;
        h_out[si_coin] = g_coin[si_versus];
      }
      return h_out;
    });
  }
};
const WebApis = create_store_class({
  store: SI_STORE_WEB_APIS,
  extension: "map",
  class: class WebApisI extends WritableStoreMap {
    static pathFor(si_method, p_api) {
      const s_hash = buffer_to_base64(sha256_sync$1(text_to_buffer(si_method + " " + p_api)));
      return `/cache.web-api/sha256.${s_hash}`;
    }
    static pathFrom(g_api) {
      return WebApisI.pathFor(g_api.method, g_api.path);
    }
  }
});
var AmountInput_svelte_svelte_type_style_lang = /* @__PURE__ */ (() => 'input[type="number"].svelte-1h2yrt5.svelte-1h2yrt5{appearance:textfield}input[type="number"].svelte-1h2yrt5.svelte-1h2yrt5::-webkit-inner-spin-button,input[type="number"].svelte-1h2yrt5.svelte-1h2yrt5::-webkit-outer-spin-button{-webkit-appearance:none}.amount-input.svelte-1h2yrt5.svelte-1h2yrt5{position:relative}.occupy.svelte-1h2yrt5.svelte-1h2yrt5{position:absolute;right:0;top:0;height:var(--ui-row-height);display:flex;align-items:center}.occupy.svelte-1h2yrt5 .adjust.svelte-1h2yrt5{display:flex;flex-direction:column;justify-content:center;gap:4px;margin-right:8px}.occupy.svelte-1h2yrt5 .adjust .icon.svelte-1h2yrt5{cursor:pointer;padding:0px 8px;--icon-diameter:16px;--icon-color:var(--theme-color-primary)}.occupy.svelte-1h2yrt5 .adjust .icon .increment.svelte-1h2yrt5{padding-top:4px}.occupy.svelte-1h2yrt5 .adjust .icon .decrement.svelte-1h2yrt5{padding-bottom:4px}.occupy.svelte-1h2yrt5 .equivalent.svelte-1h2yrt5{font-family:Poppins;font-weight:300;font-size:13px}.occupy.svelte-1h2yrt5 .equivalent .amount.svelte-1h2yrt5{color:var(--theme-color-text-med)}.occupy.svelte-1h2yrt5 .equivalent .fiat.svelte-1h2yrt5{color:var(--theme-color-primary)}')();
const Agents = create_store_class({
  store: SI_STORE_AGENTS,
  extension: "map",
  class: class AgentsI extends WritableStoreMap {
    static pathForAgent(sa_addr, si_family = yw_family.get()) {
      return `/family.${si_family}/agent.${sa_addr.replace(/^\w+1/, "")}`;
    }
    static pathForContact(sa_addr, si_family = yw_family.get()) {
      return `${AgentsI.pathForAgent(sa_addr, si_family)}/as.contact`;
    }
    static pathFromContact(g_contact) {
      return AgentsI.pathForContact(g_contact.address, g_contact.family);
    }
    static async getContact(p_contact) {
      const ks_agents = await Agents.read();
      return ks_agents.at(p_contact);
    }
    *contacts(si_family = yw_family.get()) {
      const h_cache = this._w_cache;
      const s_agent_prefix = `/family.${si_family}/agent.`;
      for (const p_agent in h_cache) {
        if (!p_agent.startsWith(s_agent_prefix))
          continue;
        if (!p_agent.endsWith("/as.contact"))
          continue;
        yield [p_agent, h_cache[p_agent]];
      }
    }
    async putContact(g_res) {
      const p_res = AgentsI.pathFromContact(g_res);
      this._w_cache[p_res] = g_res;
      await this.save();
      return p_res;
    }
  }
});
var SX_ICON_COPY = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n	<path style="fill: var(--svg-color-fg, currentColor);" d="M3 13H5V11H3V13ZM3 17H5V15H3V17ZM5 21V19H3C3 20.1 3.89 21 5 21ZM3 9H5V7H3V9ZM15 21H17V19H15V21ZM19 3H9C7.89 3 7 3.9 7 5V15C7 16.1 7.89 17 9 17H19C20.1 17 21 16.1 21 15V5C21 3.9 20.1 3 19 3ZM19 15H9V5H19V15ZM11 21H13V19H11V21ZM7 21H9V19H7V21Z" />\n</svg>\n';
var Address_svelte_svelte_type_style_lang = /* @__PURE__ */ (() => ".address.svelte-1f41ddv.svelte-1f41ddv{width:calc(100% - 2.5ch);align-items:baseline;color:var(--theme-color-text-med);display:inline-flex;position:relative}.address.copyable.svelte-1f41ddv.svelte-1f41ddv{align-items:center;width:calc(100% - 3.5ch);cursor:copy}.address.svelte-1f41ddv>.prefix.svelte-1f41ddv{font-family:Poppins;font-weight:400;font-size:11px;flex-shrink:0;margin-right:0.25em}.address.svelte-1f41ddv>.head.svelte-1f41ddv{font-family:'PT Mono';font-weight:400;font-size:11px;flex:auto;min-width:10ch;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.address.svelte-1f41ddv>.tail.svelte-1f41ddv{font-family:'PT Mono';font-weight:400;font-size:11px;flex:0;min-width:7ch;overflow:hidden;display:flex;justify-content:flex-end;white-space:nowrap}.address.svelte-1f41ddv>.copy.svelte-1f41ddv{color:var(--theme-color-primary)}.address.svelte-1f41ddv>.copy.icon.svelte-1f41ddv{--icon-diameter:22px;--icon-color:var(--theme-color-primary);padding-left:6px}.address.svelte-1f41ddv>.copied.svelte-1f41ddv{opacity:0;position:absolute;left:calc(50% - 40px);top:-6px;color:var(--theme-color-black);border-radius:6px;padding:8px 20px;background-color:var(--theme-color-text-light);box-shadow:-2px 3px 6px;pointer-events:none}.address.svelte-1f41ddv>.copied.svelte-1f41ddv:not(.confirm){transition:opacity 800ms linear}.address.svelte-1f41ddv>.copied.confirm.svelte-1f41ddv{opacity:1}")();
function create_if_block_2(ctx) {
  let span;
  return {
    c() {
      span = element("span");
      span.textContent = `${ctx[4]}`;
      attr(span, "class", "prefix svelte-1f41ddv");
    },
    m(target, anchor) {
      insert(target, span, anchor);
    },
    p: noop$1,
    d(detaching) {
      if (detaching)
        detach(span);
    }
  };
}
function create_if_block$2(ctx) {
  let t0;
  let span;
  function select_block_type(ctx2, dirty) {
    if (ctx2[7] === "icon")
      return create_if_block_1;
    return create_else_block;
  }
  let current_block_type = select_block_type(ctx);
  let if_block = current_block_type(ctx);
  return {
    c() {
      if_block.c();
      t0 = space();
      span = element("span");
      span.textContent = "Copied!";
      attr(span, "class", "copied svelte-1f41ddv");
      toggle_class(span, "confirm", ctx[1]);
    },
    m(target, anchor) {
      if_block.m(target, anchor);
      insert(target, t0, anchor);
      insert(target, span, anchor);
      ctx[13](span);
    },
    p(ctx2, dirty) {
      if_block.p(ctx2, dirty);
      if (dirty & 2) {
        toggle_class(span, "confirm", ctx2[1]);
      }
    },
    d(detaching) {
      if_block.d(detaching);
      if (detaching)
        detach(t0);
      if (detaching)
        detach(span);
      ctx[13](null);
    }
  };
}
function create_else_block(ctx) {
  let span;
  return {
    c() {
      span = element("span");
      span.textContent = "Copy";
      attr(span, "class", "copy svelte-1f41ddv");
    },
    m(target, anchor) {
      insert(target, span, anchor);
    },
    p: noop$1,
    d(detaching) {
      if (detaching)
        detach(span);
    }
  };
}
function create_if_block_1(ctx) {
  let span;
  return {
    c() {
      span = element("span");
      attr(span, "class", "copy icon svelte-1f41ddv");
    },
    m(target, anchor) {
      insert(target, span, anchor);
      span.innerHTML = SX_ICON_COPY;
    },
    p: noop$1,
    d(detaching) {
      if (detaching)
        detach(span);
    }
  };
}
function create_fragment$2(ctx) {
  let span2;
  let t0;
  let span0;
  let t2;
  let span1;
  let t4;
  let mounted;
  let dispose;
  let if_block0 = ctx[4] && create_if_block_2(ctx);
  let if_block1 = ctx[6] && create_if_block$2(ctx);
  return {
    c() {
      span2 = element("span");
      if (if_block0)
        if_block0.c();
      t0 = space();
      span0 = element("span");
      span0.textContent = `${ctx[5]}`;
      t2 = space();
      span1 = element("span");
      span1.textContent = `${ctx[5]}`;
      t4 = space();
      if (if_block1)
        if_block1.c();
      attr(span0, "class", "head svelte-1f41ddv");
      attr(span1, "class", "tail svelte-1f41ddv");
      toggle_class(span1, "display_none", !ctx[3]);
      attr(span2, "class", "address svelte-1f41ddv");
      toggle_class(span2, "copyable", ctx[6]);
    },
    m(target, anchor) {
      insert(target, span2, anchor);
      if (if_block0)
        if_block0.m(span2, null);
      append(span2, t0);
      append(span2, span0);
      ctx[12](span0);
      append(span2, t2);
      append(span2, span1);
      append(span2, t4);
      if (if_block1)
        if_block1.m(span2, null);
      if (!mounted) {
        dispose = listen(span2, "click", ctx[6] ? ctx[14] : void 0);
        mounted = true;
      }
    },
    p(ctx2, [dirty]) {
      if (ctx2[4])
        if_block0.p(ctx2, dirty);
      if (dirty & 8) {
        toggle_class(span1, "display_none", !ctx2[3]);
      }
      if (ctx2[6])
        if_block1.p(ctx2, dirty);
    },
    i: noop$1,
    o: noop$1,
    d(detaching) {
      if (detaching)
        detach(span2);
      if (if_block0)
        if_block0.d();
      ctx[12](null);
      if (if_block1)
        if_block1.d();
      mounted = false;
      dispose();
    }
  };
}
function instance$2($$self, $$props, $$invalidate) {
  let { prefix = "" } = $$props;
  const s_prefix = prefix;
  let { address } = $$props;
  const s_address = address;
  let { copyable = false } = $$props;
  const b_copyable = !!copyable;
  const s_copy_style = copyable === true ? "icon" : copyable || "";
  let dm_copied;
  let b_copy_confirm = false;
  async function copy() {
    try {
      await navigator.clipboard.writeText(s_address);
    } catch (e_write) {
      syserr({
        text: "Failed to write to the navigator clipboard",
        error: e_write
      });
      return;
    }
    $$invalidate(1, b_copy_confirm = true);
    setTimeout(() => {
      $$invalidate(1, b_copy_confirm = false);
    }, 800);
  }
  let dm_head;
  let b_head_overflows = false;
  onMount(() => {
    $$invalidate(3, b_head_overflows = dm_head.scrollWidth > dm_head.offsetWidth);
  });
  function span0_binding($$value) {
    binding_callbacks[$$value ? "unshift" : "push"](() => {
      dm_head = $$value;
      $$invalidate(2, dm_head);
    });
  }
  function span_binding($$value) {
    binding_callbacks[$$value ? "unshift" : "push"](() => {
      dm_copied = $$value;
      $$invalidate(0, dm_copied);
    });
  }
  const click_handler2 = () => copy();
  $$self.$$set = ($$props2) => {
    if ("prefix" in $$props2)
      $$invalidate(9, prefix = $$props2.prefix);
    if ("address" in $$props2)
      $$invalidate(10, address = $$props2.address);
    if ("copyable" in $$props2)
      $$invalidate(11, copyable = $$props2.copyable);
  };
  return [
    dm_copied,
    b_copy_confirm,
    dm_head,
    b_head_overflows,
    s_prefix,
    s_address,
    b_copyable,
    s_copy_style,
    copy,
    prefix,
    address,
    copyable,
    span0_binding,
    span_binding,
    click_handler2
  ];
}
class Address extends SvelteComponent {
  constructor(options) {
    super();
    init(this, options, instance$2, create_fragment$2, safe_not_equal, { prefix: 9, address: 10, copyable: 11 });
  }
}
var InlineContactSelection_svelte_svelte_type_style_lang = /* @__PURE__ */ (() => ".contact.svelte-1ontxbe.svelte-1ontxbe.svelte-1ontxbe{display:flex;flex-direction:row;align-items:center;height:100%;box-sizing:border-box}.contact.svelte-1ontxbe>.contact-pfp.svelte-1ontxbe.svelte-1ontxbe{display:inline-flex;--proxy-icon-diameter:26px;line-height:26px;margin-right:6px}.contact > .contact-pfp > .icon{border-radius:20%;display:inline-flex;align-items:center}.contact > .contact-pfp > .icon .icon-dom{height:unset;font-size:14px}.contact.svelte-1ontxbe>.info.svelte-1ontxbe.svelte-1ontxbe{display:flex;flex-direction:column;overflow:hidden;max-width:172px}.contact.svelte-1ontxbe>.info.svelte-1ontxbe>.name.svelte-1ontxbe{line-height:1.2em}.contact > .info > .address{line-height:1.2em;color:var(--theme-color-text-med)}")();
var RecipientSelectItem_svelte_svelte_type_style_lang = /* @__PURE__ */ (() => ".item.svelte-pgx3pp{cursor:default;height:var(--height, 42px);line-height:var(--height, 42px);padding:var(--itemPadding, 0 20px);color:var(--itemColor, inherit);text-overflow:ellipsis;overflow:hidden;white-space:nowrap;padding-left:8px}.groupHeader.svelte-pgx3pp{text-transform:var(--groupTitleTextTransform, uppercase)}.groupItem.svelte-pgx3pp{padding-left:var(--groupItemPaddingLeft, 40px)}.item.svelte-pgx3pp:active{background:var(--itemActiveBackground, #b9daff)}.item.active.svelte-pgx3pp{background:var(--itemIsActiveBG, #007aff);color:var(--itemIsActiveColor, #fff)}.item.notSelectable.svelte-pgx3pp{color:var(--itemIsNotSelectableColor, #999)}.item.first.svelte-pgx3pp{border-radius:var(--itemFirstBorderRadius, 4px 4px 0 0)}.item.hover.svelte-pgx3pp:not(.active){background:var(--itemHoverBG, #e7f2ff);color:var(--itemHoverColor, inherit)}")();
var RecipientSelectSelection_svelte_svelte_type_style_lang = /* @__PURE__ */ (() => ".selection.svelte-aitqlq{text-overflow:ellipsis;overflow-x:hidden;white-space:nowrap;height:100%;padding-left:8px}.selection .manual > .address{width:calc(100% - 3.5ch)}")();
var RecipientSelect_svelte_svelte_type_style_lang = /* @__PURE__ */ (() => '.sender.svelte-1rmr362{position:relative;--height:var(--ui-row-height);--background:var(--theme-color-border);--border:1px solid transparent;--borderRadius:8px;--inputColor:var(--theme-color-text-light);--placeholderColor:var(--theme-color-graysoft);--inputFontSize:13px;--borderFocusColor:var(--theme-color-primary);--indicatorColor:var(--theme-color-primary);--listShadow:-1px 3px 7px 0 rgba(0, 0, 0, 0.8);--listMaxHeight:500px;--listBackground:rgba(53, 56, 61, 0.97);--listBorderRadius:var(--ui-border-radius);--itemHoverBG:black;--itemIsActiveBG:var(--theme-color-primary);--itemIsActiveColor:black;--clearSelectColor:var(--theme-color-graymed);--clearSelectFocusColor:var(--theme-color-graymed);--clearSelectHoverColor:var(--theme-color-graymed);font-family:Poppins;font-weight:400;font-size:13px;--inputPadding:16px;--padding:0 4px;--itemPadding:0;--selectedItemPadding:0}.sender .listContainer .empty{white-space:pre-wrap}.sender.hide-cursor .selectContainer input[type="text"]{caret-color:transparent}')();
var DeadEnd_svelte_svelte_type_style_lang = /* @__PURE__ */ (() => ".icon.svelte-o7n71o{padding-top:25%}")();
var Send_svelte_svelte_type_style_lang = /* @__PURE__ */ (() => ".font-family_mono.svelte-1iq9fv7.svelte-1iq9fv7.svelte-1iq9fv7{font-family:'PT Mono';white-space:pre}.hide-scrollbar.svelte-1iq9fv7.svelte-1iq9fv7.svelte-1iq9fv7{scrollbar-width:none}.hide-scrollbar.svelte-1iq9fv7.svelte-1iq9fv7.svelte-1iq9fv7::-webkit-scrollbar{display:none}.hide-scrollbar.svelte-1iq9fv7.svelte-1iq9fv7.svelte-1iq9fv7::-webkit-scrollbar-track{display:none}.hide-scrollbar.svelte-1iq9fv7.svelte-1iq9fv7.svelte-1iq9fv7::-webkit-scrollbar-thumb{background-color:rgba(0, 0, 0, 0.2)}@keyframes svelte-1iq9fv7-spin{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}#field-recipient-status{margin-top:-12px;padding-left:6px}#field-recipient-status .status.unknown > .icon{animation:svelte-1iq9fv7-spin 1s linear infinite}#field-recipient-status .status.contract > .icon{transform:rotate(90deg)}#field-recipient-status .status.contract > .icon{transform:rotate(90deg)}.status.svelte-1iq9fv7.svelte-1iq9fv7.svelte-1iq9fv7{color:var(--theme-color-graymed)}.status.svelte-1iq9fv7>.svelte-1iq9fv7.svelte-1iq9fv7{vertical-align:middle}.status.svelte-1iq9fv7>.icon.svelte-1iq9fv7.svelte-1iq9fv7{--proxy-icon-diameter:20px;--icon-color:var(--theme-color-graymed)}.status.svelte-1iq9fv7>.icon.svelte-1iq9fv7 svg{width:var(--icon-diameter);height:var(--icon-diameter)}.status.svelte-1iq9fv7>.text.svelte-1iq9fv7.svelte-1iq9fv7{font-family:Poppins;font-weight:400;font-size:11px}#field-balance{margin-top:-12px}.balance-line.svelte-1iq9fv7.svelte-1iq9fv7.svelte-1iq9fv7{font-family:Poppins;font-weight:300;font-size:12px;display:flex;justify-content:space-between}.balance-line.svelte-1iq9fv7>.balance.svelte-1iq9fv7>.label.svelte-1iq9fv7{color:var(--theme-color-text-med)}.balance-line.svelte-1iq9fv7>.balance.svelte-1iq9fv7>.amount.svelte-1iq9fv7{color:var(--theme-color-text-light)}.fee-fiat.svelte-1iq9fv7.svelte-1iq9fv7.svelte-1iq9fv7{font-family:Poppins;font-weight:400;font-size:11px;color:var(--theme-color-text-med)}#field-fee .field-value{flex:1}#field-fee .manual-fee{flex:2}#field-manual-fee{margin-top:-12px}.manual-fee.svelte-1iq9fv7.svelte-1iq9fv7.svelte-1iq9fv7{display:flex;align-items:center;gap:0.5em}.manual-fee.svelte-1iq9fv7>.icon.info.svelte-1iq9fv7.svelte-1iq9fv7{--icon-diameter:18px;padding:2px}.memo.svelte-1iq9fv7.svelte-1iq9fv7.svelte-1iq9fv7{display:flex;flex-direction:column;gap:0.75em}.memo.svelte-1iq9fv7 .title.svelte-1iq9fv7.svelte-1iq9fv7{display:flex;gap:4px;position:relative}.memo.svelte-1iq9fv7 .title .icon.svelte-1iq9fv7.svelte-1iq9fv7{--icon-diameter:22px;--icon-color:var(--theme-color-primary)}.memo.svelte-1iq9fv7 .title.svelte-1iq9fv7>.disclaimer.svelte-1iq9fv7{font-family:Poppins;font-weight:400;font-size:11px;color:var(--theme-color-caution);right:0;position:absolute;bottom:0.5ex}.memo.svelte-1iq9fv7 .dropdown.icon.svelte-1iq9fv7.svelte-1iq9fv7{transform:rotate(0deg);transition:transform 300ms var(--ease-out-quad)}.memo.expanded.svelte-1iq9fv7 .dropdown.icon.svelte-1iq9fv7.svelte-1iq9fv7{transform:rotate(-180deg)}.new-address.svelte-1iq9fv7.svelte-1iq9fv7.svelte-1iq9fv7{margin-top:12px}.disabled.link.svelte-1iq9fv7.svelte-1iq9fv7.svelte-1iq9fv7{color:var(--theme-color-text-med);font-style:italic;text-decoration:line-through}")();
var qrcode = { exports: {} };
(function(module) {
  function QR8bitByte(data) {
    this.mode = QRMode.MODE_8BIT_BYTE;
    this.data = data;
    this.parsedData = [];
    for (var i2 = 0, l = this.data.length; i2 < l; i2++) {
      var byteArray = [];
      var code = this.data.charCodeAt(i2);
      if (code > 65536) {
        byteArray[0] = 240 | (code & 1835008) >>> 18;
        byteArray[1] = 128 | (code & 258048) >>> 12;
        byteArray[2] = 128 | (code & 4032) >>> 6;
        byteArray[3] = 128 | code & 63;
      } else if (code > 2048) {
        byteArray[0] = 224 | (code & 61440) >>> 12;
        byteArray[1] = 128 | (code & 4032) >>> 6;
        byteArray[2] = 128 | code & 63;
      } else if (code > 128) {
        byteArray[0] = 192 | (code & 1984) >>> 6;
        byteArray[1] = 128 | code & 63;
      } else {
        byteArray[0] = code;
      }
      this.parsedData.push(byteArray);
    }
    this.parsedData = Array.prototype.concat.apply([], this.parsedData);
    if (this.parsedData.length != this.data.length) {
      this.parsedData.unshift(191);
      this.parsedData.unshift(187);
      this.parsedData.unshift(239);
    }
  }
  QR8bitByte.prototype = {
    getLength: function(buffer) {
      return this.parsedData.length;
    },
    write: function(buffer) {
      for (var i2 = 0, l = this.parsedData.length; i2 < l; i2++) {
        buffer.put(this.parsedData[i2], 8);
      }
    }
  };
  function QRCodeModel(typeNumber, errorCorrectLevel) {
    this.typeNumber = typeNumber;
    this.errorCorrectLevel = errorCorrectLevel;
    this.modules = null;
    this.moduleCount = 0;
    this.dataCache = null;
    this.dataList = [];
  }
  QRCodeModel.prototype = { addData: function(data) {
    var newData = new QR8bitByte(data);
    this.dataList.push(newData);
    this.dataCache = null;
  }, isDark: function(row, col) {
    if (row < 0 || this.moduleCount <= row || col < 0 || this.moduleCount <= col) {
      throw new Error(row + "," + col);
    }
    return this.modules[row][col];
  }, getModuleCount: function() {
    return this.moduleCount;
  }, make: function() {
    this.makeImpl(false, this.getBestMaskPattern());
  }, makeImpl: function(test, maskPattern) {
    this.moduleCount = this.typeNumber * 4 + 17;
    this.modules = new Array(this.moduleCount);
    for (var row = 0; row < this.moduleCount; row++) {
      this.modules[row] = new Array(this.moduleCount);
      for (var col = 0; col < this.moduleCount; col++) {
        this.modules[row][col] = null;
      }
    }
    this.setupPositionProbePattern(0, 0);
    this.setupPositionProbePattern(this.moduleCount - 7, 0);
    this.setupPositionProbePattern(0, this.moduleCount - 7);
    this.setupPositionAdjustPattern();
    this.setupTimingPattern();
    this.setupTypeInfo(test, maskPattern);
    if (this.typeNumber >= 7) {
      this.setupTypeNumber(test);
    }
    if (this.dataCache == null) {
      this.dataCache = QRCodeModel.createData(this.typeNumber, this.errorCorrectLevel, this.dataList);
    }
    this.mapData(this.dataCache, maskPattern);
  }, setupPositionProbePattern: function(row, col) {
    for (var r = -1; r <= 7; r++) {
      if (row + r <= -1 || this.moduleCount <= row + r)
        continue;
      for (var c = -1; c <= 7; c++) {
        if (col + c <= -1 || this.moduleCount <= col + c)
          continue;
        if (0 <= r && r <= 6 && (c == 0 || c == 6) || 0 <= c && c <= 6 && (r == 0 || r == 6) || 2 <= r && r <= 4 && 2 <= c && c <= 4) {
          this.modules[row + r][col + c] = true;
        } else {
          this.modules[row + r][col + c] = false;
        }
      }
    }
  }, getBestMaskPattern: function() {
    var minLostPoint = 0;
    var pattern = 0;
    for (var i2 = 0; i2 < 8; i2++) {
      this.makeImpl(true, i2);
      var lostPoint = QRUtil.getLostPoint(this);
      if (i2 == 0 || minLostPoint > lostPoint) {
        minLostPoint = lostPoint;
        pattern = i2;
      }
    }
    return pattern;
  }, createMovieClip: function(target_mc, instance_name, depth) {
    var qr_mc = target_mc.createEmptyMovieClip(instance_name, depth);
    var cs = 1;
    this.make();
    for (var row = 0; row < this.modules.length; row++) {
      var y = row * cs;
      for (var col = 0; col < this.modules[row].length; col++) {
        var x = col * cs;
        var dark = this.modules[row][col];
        if (dark) {
          qr_mc.beginFill(0, 100);
          qr_mc.moveTo(x, y);
          qr_mc.lineTo(x + cs, y);
          qr_mc.lineTo(x + cs, y + cs);
          qr_mc.lineTo(x, y + cs);
          qr_mc.endFill();
        }
      }
    }
    return qr_mc;
  }, setupTimingPattern: function() {
    for (var r = 8; r < this.moduleCount - 8; r++) {
      if (this.modules[r][6] != null) {
        continue;
      }
      this.modules[r][6] = r % 2 == 0;
    }
    for (var c = 8; c < this.moduleCount - 8; c++) {
      if (this.modules[6][c] != null) {
        continue;
      }
      this.modules[6][c] = c % 2 == 0;
    }
  }, setupPositionAdjustPattern: function() {
    var pos = QRUtil.getPatternPosition(this.typeNumber);
    for (var i2 = 0; i2 < pos.length; i2++) {
      for (var j = 0; j < pos.length; j++) {
        var row = pos[i2];
        var col = pos[j];
        if (this.modules[row][col] != null) {
          continue;
        }
        for (var r = -2; r <= 2; r++) {
          for (var c = -2; c <= 2; c++) {
            if (r == -2 || r == 2 || c == -2 || c == 2 || r == 0 && c == 0) {
              this.modules[row + r][col + c] = true;
            } else {
              this.modules[row + r][col + c] = false;
            }
          }
        }
      }
    }
  }, setupTypeNumber: function(test) {
    var bits = QRUtil.getBCHTypeNumber(this.typeNumber);
    for (var i2 = 0; i2 < 18; i2++) {
      var mod2 = !test && (bits >> i2 & 1) == 1;
      this.modules[Math.floor(i2 / 3)][i2 % 3 + this.moduleCount - 8 - 3] = mod2;
    }
    for (var i2 = 0; i2 < 18; i2++) {
      var mod2 = !test && (bits >> i2 & 1) == 1;
      this.modules[i2 % 3 + this.moduleCount - 8 - 3][Math.floor(i2 / 3)] = mod2;
    }
  }, setupTypeInfo: function(test, maskPattern) {
    var data = this.errorCorrectLevel << 3 | maskPattern;
    var bits = QRUtil.getBCHTypeInfo(data);
    for (var i2 = 0; i2 < 15; i2++) {
      var mod2 = !test && (bits >> i2 & 1) == 1;
      if (i2 < 6) {
        this.modules[i2][8] = mod2;
      } else if (i2 < 8) {
        this.modules[i2 + 1][8] = mod2;
      } else {
        this.modules[this.moduleCount - 15 + i2][8] = mod2;
      }
    }
    for (var i2 = 0; i2 < 15; i2++) {
      var mod2 = !test && (bits >> i2 & 1) == 1;
      if (i2 < 8) {
        this.modules[8][this.moduleCount - i2 - 1] = mod2;
      } else if (i2 < 9) {
        this.modules[8][15 - i2 - 1 + 1] = mod2;
      } else {
        this.modules[8][15 - i2 - 1] = mod2;
      }
    }
    this.modules[this.moduleCount - 8][8] = !test;
  }, mapData: function(data, maskPattern) {
    var inc = -1;
    var row = this.moduleCount - 1;
    var bitIndex = 7;
    var byteIndex = 0;
    for (var col = this.moduleCount - 1; col > 0; col -= 2) {
      if (col == 6)
        col--;
      while (true) {
        for (var c = 0; c < 2; c++) {
          if (this.modules[row][col - c] == null) {
            var dark = false;
            if (byteIndex < data.length) {
              dark = (data[byteIndex] >>> bitIndex & 1) == 1;
            }
            var mask = QRUtil.getMask(maskPattern, row, col - c);
            if (mask) {
              dark = !dark;
            }
            this.modules[row][col - c] = dark;
            bitIndex--;
            if (bitIndex == -1) {
              byteIndex++;
              bitIndex = 7;
            }
          }
        }
        row += inc;
        if (row < 0 || this.moduleCount <= row) {
          row -= inc;
          inc = -inc;
          break;
        }
      }
    }
  } };
  QRCodeModel.PAD0 = 236;
  QRCodeModel.PAD1 = 17;
  QRCodeModel.createData = function(typeNumber, errorCorrectLevel, dataList) {
    var rsBlocks = QRRSBlock.getRSBlocks(typeNumber, errorCorrectLevel);
    var buffer = new QRBitBuffer();
    for (var i2 = 0; i2 < dataList.length; i2++) {
      var data = dataList[i2];
      buffer.put(data.mode, 4);
      buffer.put(data.getLength(), QRUtil.getLengthInBits(data.mode, typeNumber));
      data.write(buffer);
    }
    var totalDataCount = 0;
    for (var i2 = 0; i2 < rsBlocks.length; i2++) {
      totalDataCount += rsBlocks[i2].dataCount;
    }
    if (buffer.getLengthInBits() > totalDataCount * 8) {
      throw new Error("code length overflow. (" + buffer.getLengthInBits() + ">" + totalDataCount * 8 + ")");
    }
    if (buffer.getLengthInBits() + 4 <= totalDataCount * 8) {
      buffer.put(0, 4);
    }
    while (buffer.getLengthInBits() % 8 != 0) {
      buffer.putBit(false);
    }
    while (true) {
      if (buffer.getLengthInBits() >= totalDataCount * 8) {
        break;
      }
      buffer.put(QRCodeModel.PAD0, 8);
      if (buffer.getLengthInBits() >= totalDataCount * 8) {
        break;
      }
      buffer.put(QRCodeModel.PAD1, 8);
    }
    return QRCodeModel.createBytes(buffer, rsBlocks);
  };
  QRCodeModel.createBytes = function(buffer, rsBlocks) {
    var offset = 0;
    var maxDcCount = 0;
    var maxEcCount = 0;
    var dcdata = new Array(rsBlocks.length);
    var ecdata = new Array(rsBlocks.length);
    for (var r = 0; r < rsBlocks.length; r++) {
      var dcCount = rsBlocks[r].dataCount;
      var ecCount = rsBlocks[r].totalCount - dcCount;
      maxDcCount = Math.max(maxDcCount, dcCount);
      maxEcCount = Math.max(maxEcCount, ecCount);
      dcdata[r] = new Array(dcCount);
      for (var i2 = 0; i2 < dcdata[r].length; i2++) {
        dcdata[r][i2] = 255 & buffer.buffer[i2 + offset];
      }
      offset += dcCount;
      var rsPoly = QRUtil.getErrorCorrectPolynomial(ecCount);
      var rawPoly = new QRPolynomial(dcdata[r], rsPoly.getLength() - 1);
      var modPoly = rawPoly.mod(rsPoly);
      ecdata[r] = new Array(rsPoly.getLength() - 1);
      for (var i2 = 0; i2 < ecdata[r].length; i2++) {
        var modIndex = i2 + modPoly.getLength() - ecdata[r].length;
        ecdata[r][i2] = modIndex >= 0 ? modPoly.get(modIndex) : 0;
      }
    }
    var totalCodeCount = 0;
    for (var i2 = 0; i2 < rsBlocks.length; i2++) {
      totalCodeCount += rsBlocks[i2].totalCount;
    }
    var data = new Array(totalCodeCount);
    var index = 0;
    for (var i2 = 0; i2 < maxDcCount; i2++) {
      for (var r = 0; r < rsBlocks.length; r++) {
        if (i2 < dcdata[r].length) {
          data[index++] = dcdata[r][i2];
        }
      }
    }
    for (var i2 = 0; i2 < maxEcCount; i2++) {
      for (var r = 0; r < rsBlocks.length; r++) {
        if (i2 < ecdata[r].length) {
          data[index++] = ecdata[r][i2];
        }
      }
    }
    return data;
  };
  var QRMode = { MODE_NUMBER: 1 << 0, MODE_ALPHA_NUM: 1 << 1, MODE_8BIT_BYTE: 1 << 2, MODE_KANJI: 1 << 3 };
  var QRErrorCorrectLevel = { L: 1, M: 0, Q: 3, H: 2 };
  var QRMaskPattern = { PATTERN000: 0, PATTERN001: 1, PATTERN010: 2, PATTERN011: 3, PATTERN100: 4, PATTERN101: 5, PATTERN110: 6, PATTERN111: 7 };
  var QRUtil = { PATTERN_POSITION_TABLE: [[], [6, 18], [6, 22], [6, 26], [6, 30], [6, 34], [6, 22, 38], [6, 24, 42], [6, 26, 46], [6, 28, 50], [6, 30, 54], [6, 32, 58], [6, 34, 62], [6, 26, 46, 66], [6, 26, 48, 70], [6, 26, 50, 74], [6, 30, 54, 78], [6, 30, 56, 82], [6, 30, 58, 86], [6, 34, 62, 90], [6, 28, 50, 72, 94], [6, 26, 50, 74, 98], [6, 30, 54, 78, 102], [6, 28, 54, 80, 106], [6, 32, 58, 84, 110], [6, 30, 58, 86, 114], [6, 34, 62, 90, 118], [6, 26, 50, 74, 98, 122], [6, 30, 54, 78, 102, 126], [6, 26, 52, 78, 104, 130], [6, 30, 56, 82, 108, 134], [6, 34, 60, 86, 112, 138], [6, 30, 58, 86, 114, 142], [6, 34, 62, 90, 118, 146], [6, 30, 54, 78, 102, 126, 150], [6, 24, 50, 76, 102, 128, 154], [6, 28, 54, 80, 106, 132, 158], [6, 32, 58, 84, 110, 136, 162], [6, 26, 54, 82, 110, 138, 166], [6, 30, 58, 86, 114, 142, 170]], G15: 1 << 10 | 1 << 8 | 1 << 5 | 1 << 4 | 1 << 2 | 1 << 1 | 1 << 0, G18: 1 << 12 | 1 << 11 | 1 << 10 | 1 << 9 | 1 << 8 | 1 << 5 | 1 << 2 | 1 << 0, G15_MASK: 1 << 14 | 1 << 12 | 1 << 10 | 1 << 4 | 1 << 1, getBCHTypeInfo: function(data) {
    var d = data << 10;
    while (QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G15) >= 0) {
      d ^= QRUtil.G15 << QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G15);
    }
    return (data << 10 | d) ^ QRUtil.G15_MASK;
  }, getBCHTypeNumber: function(data) {
    var d = data << 12;
    while (QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G18) >= 0) {
      d ^= QRUtil.G18 << QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G18);
    }
    return data << 12 | d;
  }, getBCHDigit: function(data) {
    var digit = 0;
    while (data != 0) {
      digit++;
      data >>>= 1;
    }
    return digit;
  }, getPatternPosition: function(typeNumber) {
    return QRUtil.PATTERN_POSITION_TABLE[typeNumber - 1];
  }, getMask: function(maskPattern, i2, j) {
    switch (maskPattern) {
      case QRMaskPattern.PATTERN000:
        return (i2 + j) % 2 == 0;
      case QRMaskPattern.PATTERN001:
        return i2 % 2 == 0;
      case QRMaskPattern.PATTERN010:
        return j % 3 == 0;
      case QRMaskPattern.PATTERN011:
        return (i2 + j) % 3 == 0;
      case QRMaskPattern.PATTERN100:
        return (Math.floor(i2 / 2) + Math.floor(j / 3)) % 2 == 0;
      case QRMaskPattern.PATTERN101:
        return i2 * j % 2 + i2 * j % 3 == 0;
      case QRMaskPattern.PATTERN110:
        return (i2 * j % 2 + i2 * j % 3) % 2 == 0;
      case QRMaskPattern.PATTERN111:
        return (i2 * j % 3 + (i2 + j) % 2) % 2 == 0;
      default:
        throw new Error("bad maskPattern:" + maskPattern);
    }
  }, getErrorCorrectPolynomial: function(errorCorrectLength) {
    var a = new QRPolynomial([1], 0);
    for (var i2 = 0; i2 < errorCorrectLength; i2++) {
      a = a.multiply(new QRPolynomial([1, QRMath.gexp(i2)], 0));
    }
    return a;
  }, getLengthInBits: function(mode, type) {
    if (1 <= type && type < 10) {
      switch (mode) {
        case QRMode.MODE_NUMBER:
          return 10;
        case QRMode.MODE_ALPHA_NUM:
          return 9;
        case QRMode.MODE_8BIT_BYTE:
          return 8;
        case QRMode.MODE_KANJI:
          return 8;
        default:
          throw new Error("mode:" + mode);
      }
    } else if (type < 27) {
      switch (mode) {
        case QRMode.MODE_NUMBER:
          return 12;
        case QRMode.MODE_ALPHA_NUM:
          return 11;
        case QRMode.MODE_8BIT_BYTE:
          return 16;
        case QRMode.MODE_KANJI:
          return 10;
        default:
          throw new Error("mode:" + mode);
      }
    } else if (type < 41) {
      switch (mode) {
        case QRMode.MODE_NUMBER:
          return 14;
        case QRMode.MODE_ALPHA_NUM:
          return 13;
        case QRMode.MODE_8BIT_BYTE:
          return 16;
        case QRMode.MODE_KANJI:
          return 12;
        default:
          throw new Error("mode:" + mode);
      }
    } else {
      throw new Error("type:" + type);
    }
  }, getLostPoint: function(qrCode) {
    var moduleCount = qrCode.getModuleCount();
    var lostPoint = 0;
    for (var row = 0; row < moduleCount; row++) {
      for (var col = 0; col < moduleCount; col++) {
        var sameCount = 0;
        var dark = qrCode.isDark(row, col);
        for (var r = -1; r <= 1; r++) {
          if (row + r < 0 || moduleCount <= row + r) {
            continue;
          }
          for (var c = -1; c <= 1; c++) {
            if (col + c < 0 || moduleCount <= col + c) {
              continue;
            }
            if (r == 0 && c == 0) {
              continue;
            }
            if (dark == qrCode.isDark(row + r, col + c)) {
              sameCount++;
            }
          }
        }
        if (sameCount > 5) {
          lostPoint += 3 + sameCount - 5;
        }
      }
    }
    for (var row = 0; row < moduleCount - 1; row++) {
      for (var col = 0; col < moduleCount - 1; col++) {
        var count = 0;
        if (qrCode.isDark(row, col))
          count++;
        if (qrCode.isDark(row + 1, col))
          count++;
        if (qrCode.isDark(row, col + 1))
          count++;
        if (qrCode.isDark(row + 1, col + 1))
          count++;
        if (count == 0 || count == 4) {
          lostPoint += 3;
        }
      }
    }
    for (var row = 0; row < moduleCount; row++) {
      for (var col = 0; col < moduleCount - 6; col++) {
        if (qrCode.isDark(row, col) && !qrCode.isDark(row, col + 1) && qrCode.isDark(row, col + 2) && qrCode.isDark(row, col + 3) && qrCode.isDark(row, col + 4) && !qrCode.isDark(row, col + 5) && qrCode.isDark(row, col + 6)) {
          lostPoint += 40;
        }
      }
    }
    for (var col = 0; col < moduleCount; col++) {
      for (var row = 0; row < moduleCount - 6; row++) {
        if (qrCode.isDark(row, col) && !qrCode.isDark(row + 1, col) && qrCode.isDark(row + 2, col) && qrCode.isDark(row + 3, col) && qrCode.isDark(row + 4, col) && !qrCode.isDark(row + 5, col) && qrCode.isDark(row + 6, col)) {
          lostPoint += 40;
        }
      }
    }
    var darkCount = 0;
    for (var col = 0; col < moduleCount; col++) {
      for (var row = 0; row < moduleCount; row++) {
        if (qrCode.isDark(row, col)) {
          darkCount++;
        }
      }
    }
    var ratio = Math.abs(100 * darkCount / moduleCount / moduleCount - 50) / 5;
    lostPoint += ratio * 10;
    return lostPoint;
  } };
  var QRMath = { glog: function(n) {
    if (n < 1) {
      throw new Error("glog(" + n + ")");
    }
    return QRMath.LOG_TABLE[n];
  }, gexp: function(n) {
    while (n < 0) {
      n += 255;
    }
    while (n >= 256) {
      n -= 255;
    }
    return QRMath.EXP_TABLE[n];
  }, EXP_TABLE: new Array(256), LOG_TABLE: new Array(256) };
  for (var i = 0; i < 8; i++) {
    QRMath.EXP_TABLE[i] = 1 << i;
  }
  for (var i = 8; i < 256; i++) {
    QRMath.EXP_TABLE[i] = QRMath.EXP_TABLE[i - 4] ^ QRMath.EXP_TABLE[i - 5] ^ QRMath.EXP_TABLE[i - 6] ^ QRMath.EXP_TABLE[i - 8];
  }
  for (var i = 0; i < 255; i++) {
    QRMath.LOG_TABLE[QRMath.EXP_TABLE[i]] = i;
  }
  function QRPolynomial(num, shift) {
    if (num.length == void 0) {
      throw new Error(num.length + "/" + shift);
    }
    var offset = 0;
    while (offset < num.length && num[offset] == 0) {
      offset++;
    }
    this.num = new Array(num.length - offset + shift);
    for (var i2 = 0; i2 < num.length - offset; i2++) {
      this.num[i2] = num[i2 + offset];
    }
  }
  QRPolynomial.prototype = { get: function(index) {
    return this.num[index];
  }, getLength: function() {
    return this.num.length;
  }, multiply: function(e) {
    var num = new Array(this.getLength() + e.getLength() - 1);
    for (var i2 = 0; i2 < this.getLength(); i2++) {
      for (var j = 0; j < e.getLength(); j++) {
        num[i2 + j] ^= QRMath.gexp(QRMath.glog(this.get(i2)) + QRMath.glog(e.get(j)));
      }
    }
    return new QRPolynomial(num, 0);
  }, mod: function(e) {
    if (this.getLength() - e.getLength() < 0) {
      return this;
    }
    var ratio = QRMath.glog(this.get(0)) - QRMath.glog(e.get(0));
    var num = new Array(this.getLength());
    for (var i2 = 0; i2 < this.getLength(); i2++) {
      num[i2] = this.get(i2);
    }
    for (var i2 = 0; i2 < e.getLength(); i2++) {
      num[i2] ^= QRMath.gexp(QRMath.glog(e.get(i2)) + ratio);
    }
    return new QRPolynomial(num, 0).mod(e);
  } };
  function QRRSBlock(totalCount, dataCount) {
    this.totalCount = totalCount;
    this.dataCount = dataCount;
  }
  QRRSBlock.RS_BLOCK_TABLE = [[1, 26, 19], [1, 26, 16], [1, 26, 13], [1, 26, 9], [1, 44, 34], [1, 44, 28], [1, 44, 22], [1, 44, 16], [1, 70, 55], [1, 70, 44], [2, 35, 17], [2, 35, 13], [1, 100, 80], [2, 50, 32], [2, 50, 24], [4, 25, 9], [1, 134, 108], [2, 67, 43], [2, 33, 15, 2, 34, 16], [2, 33, 11, 2, 34, 12], [2, 86, 68], [4, 43, 27], [4, 43, 19], [4, 43, 15], [2, 98, 78], [4, 49, 31], [2, 32, 14, 4, 33, 15], [4, 39, 13, 1, 40, 14], [2, 121, 97], [2, 60, 38, 2, 61, 39], [4, 40, 18, 2, 41, 19], [4, 40, 14, 2, 41, 15], [2, 146, 116], [3, 58, 36, 2, 59, 37], [4, 36, 16, 4, 37, 17], [4, 36, 12, 4, 37, 13], [2, 86, 68, 2, 87, 69], [4, 69, 43, 1, 70, 44], [6, 43, 19, 2, 44, 20], [6, 43, 15, 2, 44, 16], [4, 101, 81], [1, 80, 50, 4, 81, 51], [4, 50, 22, 4, 51, 23], [3, 36, 12, 8, 37, 13], [2, 116, 92, 2, 117, 93], [6, 58, 36, 2, 59, 37], [4, 46, 20, 6, 47, 21], [7, 42, 14, 4, 43, 15], [4, 133, 107], [8, 59, 37, 1, 60, 38], [8, 44, 20, 4, 45, 21], [12, 33, 11, 4, 34, 12], [3, 145, 115, 1, 146, 116], [4, 64, 40, 5, 65, 41], [11, 36, 16, 5, 37, 17], [11, 36, 12, 5, 37, 13], [5, 109, 87, 1, 110, 88], [5, 65, 41, 5, 66, 42], [5, 54, 24, 7, 55, 25], [11, 36, 12], [5, 122, 98, 1, 123, 99], [7, 73, 45, 3, 74, 46], [15, 43, 19, 2, 44, 20], [3, 45, 15, 13, 46, 16], [1, 135, 107, 5, 136, 108], [10, 74, 46, 1, 75, 47], [1, 50, 22, 15, 51, 23], [2, 42, 14, 17, 43, 15], [5, 150, 120, 1, 151, 121], [9, 69, 43, 4, 70, 44], [17, 50, 22, 1, 51, 23], [2, 42, 14, 19, 43, 15], [3, 141, 113, 4, 142, 114], [3, 70, 44, 11, 71, 45], [17, 47, 21, 4, 48, 22], [9, 39, 13, 16, 40, 14], [3, 135, 107, 5, 136, 108], [3, 67, 41, 13, 68, 42], [15, 54, 24, 5, 55, 25], [15, 43, 15, 10, 44, 16], [4, 144, 116, 4, 145, 117], [17, 68, 42], [17, 50, 22, 6, 51, 23], [19, 46, 16, 6, 47, 17], [2, 139, 111, 7, 140, 112], [17, 74, 46], [7, 54, 24, 16, 55, 25], [34, 37, 13], [4, 151, 121, 5, 152, 122], [4, 75, 47, 14, 76, 48], [11, 54, 24, 14, 55, 25], [16, 45, 15, 14, 46, 16], [6, 147, 117, 4, 148, 118], [6, 73, 45, 14, 74, 46], [11, 54, 24, 16, 55, 25], [30, 46, 16, 2, 47, 17], [8, 132, 106, 4, 133, 107], [8, 75, 47, 13, 76, 48], [7, 54, 24, 22, 55, 25], [22, 45, 15, 13, 46, 16], [10, 142, 114, 2, 143, 115], [19, 74, 46, 4, 75, 47], [28, 50, 22, 6, 51, 23], [33, 46, 16, 4, 47, 17], [8, 152, 122, 4, 153, 123], [22, 73, 45, 3, 74, 46], [8, 53, 23, 26, 54, 24], [12, 45, 15, 28, 46, 16], [3, 147, 117, 10, 148, 118], [3, 73, 45, 23, 74, 46], [4, 54, 24, 31, 55, 25], [11, 45, 15, 31, 46, 16], [7, 146, 116, 7, 147, 117], [21, 73, 45, 7, 74, 46], [1, 53, 23, 37, 54, 24], [19, 45, 15, 26, 46, 16], [5, 145, 115, 10, 146, 116], [19, 75, 47, 10, 76, 48], [15, 54, 24, 25, 55, 25], [23, 45, 15, 25, 46, 16], [13, 145, 115, 3, 146, 116], [2, 74, 46, 29, 75, 47], [42, 54, 24, 1, 55, 25], [23, 45, 15, 28, 46, 16], [17, 145, 115], [10, 74, 46, 23, 75, 47], [10, 54, 24, 35, 55, 25], [19, 45, 15, 35, 46, 16], [17, 145, 115, 1, 146, 116], [14, 74, 46, 21, 75, 47], [29, 54, 24, 19, 55, 25], [11, 45, 15, 46, 46, 16], [13, 145, 115, 6, 146, 116], [14, 74, 46, 23, 75, 47], [44, 54, 24, 7, 55, 25], [59, 46, 16, 1, 47, 17], [12, 151, 121, 7, 152, 122], [12, 75, 47, 26, 76, 48], [39, 54, 24, 14, 55, 25], [22, 45, 15, 41, 46, 16], [6, 151, 121, 14, 152, 122], [6, 75, 47, 34, 76, 48], [46, 54, 24, 10, 55, 25], [2, 45, 15, 64, 46, 16], [17, 152, 122, 4, 153, 123], [29, 74, 46, 14, 75, 47], [49, 54, 24, 10, 55, 25], [24, 45, 15, 46, 46, 16], [4, 152, 122, 18, 153, 123], [13, 74, 46, 32, 75, 47], [48, 54, 24, 14, 55, 25], [42, 45, 15, 32, 46, 16], [20, 147, 117, 4, 148, 118], [40, 75, 47, 7, 76, 48], [43, 54, 24, 22, 55, 25], [10, 45, 15, 67, 46, 16], [19, 148, 118, 6, 149, 119], [18, 75, 47, 31, 76, 48], [34, 54, 24, 34, 55, 25], [20, 45, 15, 61, 46, 16]];
  QRRSBlock.getRSBlocks = function(typeNumber, errorCorrectLevel) {
    var rsBlock = QRRSBlock.getRsBlockTable(typeNumber, errorCorrectLevel);
    if (rsBlock == void 0) {
      throw new Error("bad rs block @ typeNumber:" + typeNumber + "/errorCorrectLevel:" + errorCorrectLevel);
    }
    var length2 = rsBlock.length / 3;
    var list = [];
    for (var i2 = 0; i2 < length2; i2++) {
      var count = rsBlock[i2 * 3 + 0];
      var totalCount = rsBlock[i2 * 3 + 1];
      var dataCount = rsBlock[i2 * 3 + 2];
      for (var j = 0; j < count; j++) {
        list.push(new QRRSBlock(totalCount, dataCount));
      }
    }
    return list;
  };
  QRRSBlock.getRsBlockTable = function(typeNumber, errorCorrectLevel) {
    switch (errorCorrectLevel) {
      case QRErrorCorrectLevel.L:
        return QRRSBlock.RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 0];
      case QRErrorCorrectLevel.M:
        return QRRSBlock.RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 1];
      case QRErrorCorrectLevel.Q:
        return QRRSBlock.RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 2];
      case QRErrorCorrectLevel.H:
        return QRRSBlock.RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 3];
      default:
        return void 0;
    }
  };
  function QRBitBuffer() {
    this.buffer = [];
    this.length = 0;
  }
  QRBitBuffer.prototype = { get: function(index) {
    var bufIndex = Math.floor(index / 8);
    return (this.buffer[bufIndex] >>> 7 - index % 8 & 1) == 1;
  }, put: function(num, length2) {
    for (var i2 = 0; i2 < length2; i2++) {
      this.putBit((num >>> length2 - i2 - 1 & 1) == 1);
    }
  }, getLengthInBits: function() {
    return this.length;
  }, putBit: function(bit) {
    var bufIndex = Math.floor(this.length / 8);
    if (this.buffer.length <= bufIndex) {
      this.buffer.push(0);
    }
    if (bit) {
      this.buffer[bufIndex] |= 128 >>> this.length % 8;
    }
    this.length++;
  } };
  var QRCodeLimitLength = [[17, 14, 11, 7], [32, 26, 20, 14], [53, 42, 32, 24], [78, 62, 46, 34], [106, 84, 60, 44], [134, 106, 74, 58], [154, 122, 86, 64], [192, 152, 108, 84], [230, 180, 130, 98], [271, 213, 151, 119], [321, 251, 177, 137], [367, 287, 203, 155], [425, 331, 241, 177], [458, 362, 258, 194], [520, 412, 292, 220], [586, 450, 322, 250], [644, 504, 364, 280], [718, 560, 394, 310], [792, 624, 442, 338], [858, 666, 482, 382], [929, 711, 509, 403], [1003, 779, 565, 439], [1091, 857, 611, 461], [1171, 911, 661, 511], [1273, 997, 715, 535], [1367, 1059, 751, 593], [1465, 1125, 805, 625], [1528, 1190, 868, 658], [1628, 1264, 908, 698], [1732, 1370, 982, 742], [1840, 1452, 1030, 790], [1952, 1538, 1112, 842], [2068, 1628, 1168, 898], [2188, 1722, 1228, 958], [2303, 1809, 1283, 983], [2431, 1911, 1351, 1051], [2563, 1989, 1423, 1093], [2699, 2099, 1499, 1139], [2809, 2213, 1579, 1219], [2953, 2331, 1663, 1273]];
  function QRCode2(options) {
    this.options = {
      padding: 4,
      width: 256,
      height: 256,
      typeNumber: 4,
      color: "#000000",
      background: "#ffffff",
      ecl: "M"
    };
    if (typeof options === "string") {
      options = {
        content: options
      };
    }
    if (options) {
      for (var i2 in options) {
        this.options[i2] = options[i2];
      }
    }
    if (typeof this.options.content !== "string") {
      throw new Error("Expected 'content' as string!");
    }
    if (this.options.content.length === 0) {
      throw new Error("Expected 'content' to be non-empty!");
    }
    if (!(this.options.padding >= 0)) {
      throw new Error("Expected 'padding' value to be non-negative!");
    }
    if (!(this.options.width > 0) || !(this.options.height > 0)) {
      throw new Error("Expected 'width' or 'height' value to be higher than zero!");
    }
    function _getErrorCorrectLevel(ecl2) {
      switch (ecl2) {
        case "L":
          return QRErrorCorrectLevel.L;
        case "M":
          return QRErrorCorrectLevel.M;
        case "Q":
          return QRErrorCorrectLevel.Q;
        case "H":
          return QRErrorCorrectLevel.H;
        default:
          throw new Error("Unknwon error correction level: " + ecl2);
      }
    }
    function _getTypeNumber(content2, ecl2) {
      var length2 = _getUTF8Length(content2);
      var type2 = 1;
      var limit = 0;
      for (var i3 = 0, len = QRCodeLimitLength.length; i3 <= len; i3++) {
        var table = QRCodeLimitLength[i3];
        if (!table) {
          throw new Error("Content too long: expected " + limit + " but got " + length2);
        }
        switch (ecl2) {
          case "L":
            limit = table[0];
            break;
          case "M":
            limit = table[1];
            break;
          case "Q":
            limit = table[2];
            break;
          case "H":
            limit = table[3];
            break;
          default:
            throw new Error("Unknwon error correction level: " + ecl2);
        }
        if (length2 <= limit) {
          break;
        }
        type2++;
      }
      if (type2 > QRCodeLimitLength.length) {
        throw new Error("Content too long");
      }
      return type2;
    }
    function _getUTF8Length(content2) {
      var result = encodeURI(content2).toString().replace(/\%[0-9a-fA-F]{2}/g, "a");
      return result.length + (result.length != content2 ? 3 : 0);
    }
    var content = this.options.content;
    var type = _getTypeNumber(content, this.options.ecl);
    var ecl = _getErrorCorrectLevel(this.options.ecl);
    this.qrcode = new QRCodeModel(type, ecl);
    this.qrcode.addData(content);
    this.qrcode.make();
  }
  QRCode2.prototype.svg = function(opt) {
    var options = this.options || {};
    var modules = this.qrcode.modules;
    if (typeof opt == "undefined") {
      opt = { container: options.container || "svg" };
    }
    var pretty = typeof options.pretty != "undefined" ? !!options.pretty : true;
    var indent = pretty ? "  " : "";
    var EOL = pretty ? "\r\n" : "";
    var width = options.width;
    var height = options.height;
    var length2 = modules.length;
    var xsize = width / (length2 + 2 * options.padding);
    var ysize = height / (length2 + 2 * options.padding);
    var join = typeof options.join != "undefined" ? !!options.join : false;
    var swap = typeof options.swap != "undefined" ? !!options.swap : false;
    var xmlDeclaration = typeof options.xmlDeclaration != "undefined" ? !!options.xmlDeclaration : true;
    var predefined = typeof options.predefined != "undefined" ? !!options.predefined : false;
    var defs = predefined ? indent + '<defs><path id="qrmodule" d="M0 0 h' + ysize + " v" + xsize + ' H0 z" style="fill:' + options.color + ';shape-rendering:crispEdges;" /></defs>' + EOL : "";
    var bgrect = indent + '<rect x="0" y="0" width="' + width + '" height="' + height + '" style="fill:' + options.background + ';shape-rendering:crispEdges;"/>' + EOL;
    var modrect = "";
    var pathdata = "";
    for (var y = 0; y < length2; y++) {
      for (var x = 0; x < length2; x++) {
        var module2 = modules[x][y];
        if (module2) {
          var px = x * xsize + options.padding * xsize;
          var py = y * ysize + options.padding * ysize;
          if (swap) {
            var t = px;
            px = py;
            py = t;
          }
          if (join) {
            var w = xsize + px;
            var h = ysize + py;
            px = Number.isInteger(px) ? Number(px) : px.toFixed(2);
            py = Number.isInteger(py) ? Number(py) : py.toFixed(2);
            w = Number.isInteger(w) ? Number(w) : w.toFixed(2);
            h = Number.isInteger(h) ? Number(h) : h.toFixed(2);
            pathdata += "M" + px + "," + py + " V" + h + " H" + w + " V" + py + " H" + px + " Z ";
          } else if (predefined) {
            modrect += indent + '<use x="' + px.toString() + '" y="' + py.toString() + '" href="#qrmodule" />' + EOL;
          } else {
            modrect += indent + '<rect x="' + px.toString() + '" y="' + py.toString() + '" width="' + xsize + '" height="' + ysize + '" style="fill:' + options.color + ';shape-rendering:crispEdges;"/>' + EOL;
          }
        }
      }
    }
    if (join) {
      modrect = indent + '<path x="0" y="0" style="fill:' + options.color + ';shape-rendering:crispEdges;" d="' + pathdata + '" />';
    }
    var svg = "";
    switch (opt.container) {
      case "svg":
        if (xmlDeclaration) {
          svg += '<?xml version="1.0" standalone="yes"?>' + EOL;
        }
        svg += '<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="' + width + '" height="' + height + '">' + EOL;
        svg += defs + bgrect + modrect;
        svg += "</svg>";
        break;
      case "svg-viewbox":
        if (xmlDeclaration) {
          svg += '<?xml version="1.0" standalone="yes"?>' + EOL;
        }
        svg += '<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 ' + width + " " + height + '">' + EOL;
        svg += defs + bgrect + modrect;
        svg += "</svg>";
        break;
      case "g":
        svg += '<g width="' + width + '" height="' + height + '">' + EOL;
        svg += defs + bgrect + modrect;
        svg += "</g>";
        break;
      default:
        svg += (defs + bgrect + modrect).replace(/^\s+/, "");
        break;
    }
    return svg;
  };
  QRCode2.prototype.save = function(file, callback) {
    var data = this.svg();
    if (typeof callback != "function") {
      callback = function(error, result) {
      };
    }
    try {
      var fs = require("fs");
      fs.writeFile(file, data, callback);
    } catch (e) {
      callback(e);
    }
  };
  {
    module.exports = QRCode2;
  }
})(qrcode);
var QRCode = qrcode.exports;
var Info_svelte_svelte_type_style_lang = /* @__PURE__ */ (() => ".info.svelte-1ytw09y.svelte-1ytw09y{--icon-diameter:24px;white-space:nowrap;height:var(--ui-row-height);box-sizing:border-box;padding:var(--ui-padding) 12px;border:1px dashed var(--theme-color-border);border-radius:var(--ui-border-radius);display:flex;align-items:center}.info.copyable.svelte-1ytw09y.svelte-1ytw09y{cursor:copy}.info.svelte-1ytw09y>.svelte-1ytw09y{flex:var(--flex, 0)}.info.svelte-1ytw09y .info-value.svelte-1ytw09y{width:100%;display:flex}.info .info-value > .address{width:calc(100% - 1ch) !important;color:var(--theme-color-text-light) !important}.info.svelte-1ytw09y .icon.svelte-1ytw09y{--icon-diameter:var(--icon-diameter);--icon-color:var(--theme-color-primary);display:inline-flex}")();
function create_if_block$1(ctx) {
  let span;
  return {
    c() {
      span = element("span");
      attr(span, "class", "icon svelte-1ytw09y");
    },
    m(target, anchor) {
      insert(target, span, anchor);
      span.innerHTML = SX_ICON_COPY;
    },
    p: noop$1,
    d(detaching) {
      if (detaching)
        detach(span);
    }
  };
}
function create_fragment$1(ctx) {
  let div;
  let span;
  let t;
  let current;
  const default_slot_template = ctx[8].default;
  const default_slot = create_slot(default_slot_template, ctx, ctx[7], null);
  let if_block = ctx[2] && create_if_block$1();
  return {
    c() {
      div = element("div");
      span = element("span");
      if (default_slot)
        default_slot.c();
      t = space();
      if (if_block)
        if_block.c();
      attr(span, "id", ctx[0]);
      attr(span, "class", "info-value svelte-1ytw09y");
      attr(div, "class", "info svelte-1ytw09y");
      toggle_class(div, "copyable", ctx[2]);
      toggle_class(div, "center", ctx[1]);
    },
    m(target, anchor) {
      insert(target, div, anchor);
      append(div, span);
      if (default_slot) {
        default_slot.m(span, null);
      }
      append(div, t);
      if (if_block)
        if_block.m(div, null);
      current = true;
    },
    p(ctx2, [dirty]) {
      if (default_slot) {
        if (default_slot.p && (!current || dirty & 128)) {
          update_slot_base(default_slot, default_slot_template, ctx2, ctx2[7], !current ? get_all_dirty_from_scope(ctx2[7]) : get_slot_changes(default_slot_template, ctx2[7], dirty, null), null);
        }
      }
      if (ctx2[2])
        if_block.p(ctx2, dirty);
    },
    i(local) {
      if (current)
        return;
      transition_in(default_slot, local);
      current = true;
    },
    o(local) {
      transition_out(default_slot, local);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(div);
      if (default_slot)
        default_slot.d(detaching);
      if (if_block)
        if_block.d();
    }
  };
}
function instance$1($$self, $$props, $$invalidate) {
  let { $$slots: slots = {}, $$scope } = $$props;
  let { key } = $$props;
  const si_key = key;
  let { address = false } = $$props;
  const b_address = address;
  let { center = b_address } = $$props;
  const b_center = center;
  let { copyable = false } = $$props;
  const b_copyable = copyable;
  $$self.$$set = ($$props2) => {
    if ("key" in $$props2)
      $$invalidate(3, key = $$props2.key);
    if ("address" in $$props2)
      $$invalidate(4, address = $$props2.address);
    if ("center" in $$props2)
      $$invalidate(5, center = $$props2.center);
    if ("copyable" in $$props2)
      $$invalidate(6, copyable = $$props2.copyable);
    if ("$$scope" in $$props2)
      $$invalidate(7, $$scope = $$props2.$$scope);
  };
  return [si_key, b_center, b_copyable, key, address, center, copyable, $$scope, slots];
}
class Info extends SvelteComponent {
  constructor(options) {
    super();
    init(this, options, instance$1, create_fragment$1, safe_not_equal, {
      key: 3,
      address: 4,
      center: 5,
      copyable: 6
    });
  }
}
var PopupReceive_svelte_svelte_type_style_lang = /* @__PURE__ */ (() => ".qr-code.svelte-rmdw72{flex-shrink:0;width:240px;height:240px;border-radius:8px;overflow:hidden;text-align:center;margin-left:auto;margin-right:auto}.info.svelte-rmdw72{font-family:Poppins;font-weight:400;font-size:14px;text-align:center}")();
function create_catch_block_1(ctx) {
  return {
    c: noop$1,
    m: noop$1,
    p: noop$1,
    i: noop$1,
    o: noop$1,
    d: noop$1
  };
}
function create_then_block_1(ctx) {
  let starselect;
  let updating_value;
  let current;
  function starselect_value_binding(value) {
    ctx[13](value);
  }
  let starselect_props = {
    id: "chain-select",
    pfpMap: ctx[6],
    placeholder: "Select chain",
    items: ctx[23]
  };
  if (ctx[2] !== void 0) {
    starselect_props.value = ctx[2];
  }
  starselect = new StarSelect({ props: starselect_props });
  binding_callbacks.push(() => bind(starselect, "value", starselect_value_binding));
  return {
    c() {
      create_component(starselect.$$.fragment);
    },
    m(target, anchor) {
      mount_component(starselect, target, anchor);
      current = true;
    },
    p(ctx2, dirty) {
      const starselect_changes = {};
      if (dirty & 64)
        starselect_changes.pfpMap = ctx2[6];
      if (!updating_value && dirty & 4) {
        updating_value = true;
        starselect_changes.value = ctx2[2];
        add_flush_callback(() => updating_value = false);
      }
      starselect.$set(starselect_changes);
    },
    i(local) {
      if (current)
        return;
      transition_in(starselect.$$.fragment, local);
      current = true;
    },
    o(local) {
      transition_out(starselect.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      destroy_component(starselect, detaching);
    }
  };
}
function create_pending_block_1(ctx) {
  let t;
  return {
    c() {
      t = text("Loading chains...");
    },
    m(target, anchor) {
      insert(target, t, anchor);
    },
    p: noop$1,
    i: noop$1,
    o: noop$1,
    d(detaching) {
      if (detaching)
        detach(t);
    }
  };
}
function create_default_slot_2(ctx) {
  let await_block_anchor;
  let current;
  let info = {
    ctx,
    current: null,
    token: null,
    hasCatch: false,
    pending: create_pending_block_1,
    then: create_then_block_1,
    catch: create_catch_block_1,
    value: 23,
    blocks: [, , ,]
  };
  handle_promise(ctx[9](), info);
  return {
    c() {
      await_block_anchor = empty();
      info.block.c();
    },
    m(target, anchor) {
      insert(target, await_block_anchor, anchor);
      info.block.m(target, info.anchor = anchor);
      info.mount = () => await_block_anchor.parentNode;
      info.anchor = await_block_anchor;
      current = true;
    },
    p(new_ctx, dirty) {
      ctx = new_ctx;
      update_await_block_branch(info, ctx, dirty);
    },
    i(local) {
      if (current)
        return;
      transition_in(info.block);
      current = true;
    },
    o(local) {
      for (let i = 0; i < 3; i += 1) {
        const block = info.blocks[i];
        transition_out(block);
      }
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(await_block_anchor);
      info.block.d(detaching);
      info.token = null;
      info = null;
    }
  };
}
function create_catch_block(ctx) {
  return {
    c: noop$1,
    m: noop$1,
    p: noop$1,
    i: noop$1,
    o: noop$1,
    d: noop$1
  };
}
function create_then_block(ctx) {
  let starselect;
  let updating_value;
  let current;
  function starselect_value_binding_1(value) {
    ctx[14](value);
  }
  let starselect_props = {
    id: "account-select",
    pfpMap: ctx[5],
    placeholder: "Select account",
    secondaryClass: "balance",
    items: ctx[22]
  };
  if (ctx[0] !== void 0) {
    starselect_props.value = ctx[0];
  }
  starselect = new StarSelect({ props: starselect_props });
  binding_callbacks.push(() => bind(starselect, "value", starselect_value_binding_1));
  return {
    c() {
      create_component(starselect.$$.fragment);
    },
    m(target, anchor) {
      mount_component(starselect, target, anchor);
      current = true;
    },
    p(ctx2, dirty) {
      const starselect_changes = {};
      if (dirty & 32)
        starselect_changes.pfpMap = ctx2[5];
      if (!updating_value && dirty & 1) {
        updating_value = true;
        starselect_changes.value = ctx2[0];
        add_flush_callback(() => updating_value = false);
      }
      starselect.$set(starselect_changes);
    },
    i(local) {
      if (current)
        return;
      transition_in(starselect.$$.fragment, local);
      current = true;
    },
    o(local) {
      transition_out(starselect.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      destroy_component(starselect, detaching);
    }
  };
}
function create_pending_block(ctx) {
  let t;
  return {
    c() {
      t = text("Loading Accounts...");
    },
    m(target, anchor) {
      insert(target, t, anchor);
    },
    p: noop$1,
    i: noop$1,
    o: noop$1,
    d(detaching) {
      if (detaching)
        detach(t);
    }
  };
}
function create_default_slot_1(ctx) {
  let await_block_anchor;
  let current;
  let info = {
    ctx,
    current: null,
    token: null,
    hasCatch: false,
    pending: create_pending_block,
    then: create_then_block,
    catch: create_catch_block,
    value: 22,
    blocks: [, , ,]
  };
  handle_promise(ctx[8](), info);
  return {
    c() {
      await_block_anchor = empty();
      info.block.c();
    },
    m(target, anchor) {
      insert(target, await_block_anchor, anchor);
      info.block.m(target, info.anchor = anchor);
      info.mount = () => await_block_anchor.parentNode;
      info.anchor = await_block_anchor;
      current = true;
    },
    p(new_ctx, dirty) {
      ctx = new_ctx;
      update_await_block_branch(info, ctx, dirty);
    },
    i(local) {
      if (current)
        return;
      transition_in(info.block);
      current = true;
    },
    o(local) {
      for (let i = 0; i < 3; i += 1) {
        const block = info.blocks[i];
        transition_out(block);
      }
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(await_block_anchor);
      info.block.d(detaching);
      info.token = null;
      info = null;
    }
  };
}
function create_if_block(ctx) {
  let address;
  let current;
  address = new Address({
    props: {
      copyable: true,
      address: Chains.addressFor(ctx[1]?.pubkey, ctx[3]) || ""
    }
  });
  return {
    c() {
      create_component(address.$$.fragment);
    },
    m(target, anchor) {
      mount_component(address, target, anchor);
      current = true;
    },
    p(ctx2, dirty) {
      const address_changes = {};
      if (dirty & 10)
        address_changes.address = Chains.addressFor(ctx2[1]?.pubkey, ctx2[3]) || "";
      address.$set(address_changes);
    },
    i(local) {
      if (current)
        return;
      transition_in(address.$$.fragment, local);
      current = true;
    },
    o(local) {
      transition_out(address.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      destroy_component(address, detaching);
    }
  };
}
function create_default_slot(ctx) {
  let if_block_anchor;
  let current;
  let if_block = ctx[1] && ctx[3] && create_if_block(ctx);
  return {
    c() {
      if (if_block)
        if_block.c();
      if_block_anchor = empty();
    },
    m(target, anchor) {
      if (if_block)
        if_block.m(target, anchor);
      insert(target, if_block_anchor, anchor);
      current = true;
    },
    p(ctx2, dirty) {
      if (ctx2[1] && ctx2[3]) {
        if (if_block) {
          if_block.p(ctx2, dirty);
          if (dirty & 10) {
            transition_in(if_block, 1);
          }
        } else {
          if_block = create_if_block(ctx2);
          if_block.c();
          transition_in(if_block, 1);
          if_block.m(if_block_anchor.parentNode, if_block_anchor);
        }
      } else if (if_block) {
        group_outros();
        transition_out(if_block, 1, 1, () => {
          if_block = null;
        });
        check_outros();
      }
    },
    i(local) {
      if (current)
        return;
      transition_in(if_block);
      current = true;
    },
    o(local) {
      transition_out(if_block);
      current = false;
    },
    d(detaching) {
      if (if_block)
        if_block.d(detaching);
      if (detaching)
        detach(if_block_anchor);
    }
  };
}
function create_fragment(ctx) {
  let h3;
  let t1;
  let close;
  let div;
  let t2;
  let field0;
  let t3;
  let field1;
  let t4;
  let info;
  let t5;
  let div0;
  let t6;
  let div1;
  let current;
  close = new Close({ props: { absolute: true } });
  close.$on("click", ctx[12]);
  field0 = new Field({
    props: {
      short: true,
      key: "chain-select",
      name: "Chain",
      $$slots: { default: [create_default_slot_2] },
      $$scope: { ctx }
    }
  });
  field1 = new Field({
    props: {
      short: true,
      key: "account-select",
      name: "Account",
      $$slots: { default: [create_default_slot_1] },
      $$scope: { ctx }
    }
  });
  info = new Info({
    props: {
      address: true,
      key: "receive-address",
      $$slots: { default: [create_default_slot] },
      $$scope: { ctx }
    }
  });
  return {
    c() {
      h3 = element("h3");
      h3.textContent = "Receive";
      t1 = space();
      div = element("div");
      create_component(close.$$.fragment);
      t2 = space();
      create_component(field0.$$.fragment);
      t3 = space();
      create_component(field1.$$.fragment);
      t4 = space();
      create_component(info.$$.fragment);
      t5 = space();
      div0 = element("div");
      t6 = space();
      div1 = element("div");
      div1.textContent = "Scan QR code to receive to this address";
      set_style(div, "display", "contents");
      set_style(div, "--margin", "5px");
      attr(div0, "class", "qr-code svelte-rmdw72");
      attr(div1, "class", "info svelte-rmdw72");
    },
    m(target, anchor) {
      insert(target, h3, anchor);
      insert(target, t1, anchor);
      insert(target, div, anchor);
      mount_component(close, div, null);
      insert(target, t2, anchor);
      mount_component(field0, target, anchor);
      insert(target, t3, anchor);
      mount_component(field1, target, anchor);
      insert(target, t4, anchor);
      mount_component(info, target, anchor);
      insert(target, t5, anchor);
      insert(target, div0, anchor);
      ctx[15](div0);
      insert(target, t6, anchor);
      insert(target, div1, anchor);
      current = true;
    },
    p(ctx2, [dirty]) {
      const field0_changes = {};
      if (dirty & 16777284) {
        field0_changes.$$scope = { dirty, ctx: ctx2 };
      }
      field0.$set(field0_changes);
      const field1_changes = {};
      if (dirty & 16777249) {
        field1_changes.$$scope = { dirty, ctx: ctx2 };
      }
      field1.$set(field1_changes);
      const info_changes = {};
      if (dirty & 16777226) {
        info_changes.$$scope = { dirty, ctx: ctx2 };
      }
      info.$set(info_changes);
    },
    i(local) {
      if (current)
        return;
      transition_in(close.$$.fragment, local);
      transition_in(field0.$$.fragment, local);
      transition_in(field1.$$.fragment, local);
      transition_in(info.$$.fragment, local);
      current = true;
    },
    o(local) {
      transition_out(close.$$.fragment, local);
      transition_out(field0.$$.fragment, local);
      transition_out(field1.$$.fragment, local);
      transition_out(info.$$.fragment, local);
      current = false;
    },
    d(detaching) {
      if (detaching)
        detach(h3);
      if (detaching)
        detach(t1);
      if (detaching)
        detach(div);
      destroy_component(close, detaching);
      if (detaching)
        detach(t2);
      destroy_component(field0, detaching);
      if (detaching)
        detach(t3);
      destroy_component(field1, detaching);
      if (detaching)
        detach(t4);
      destroy_component(info, detaching);
      if (detaching)
        detach(t5);
      if (detaching)
        detach(div0);
      ctx[15](null);
      if (detaching)
        detach(t6);
      if (detaching)
        detach(div1);
    }
  };
}
function instance($$self, $$props, $$invalidate) {
  let p_account_selected;
  let p_chain_selected;
  let $yw_account_ref;
  let $yw_context_popup;
  let $yw_chain_ref;
  let $yw_popup;
  component_subscribe($$self, yw_account_ref, ($$value) => $$invalidate(16, $yw_account_ref = $$value));
  component_subscribe($$self, yw_context_popup, ($$value) => $$invalidate(17, $yw_context_popup = $$value));
  component_subscribe($$self, yw_chain_ref, ($$value) => $$invalidate(18, $yw_chain_ref = $$value));
  component_subscribe($$self, yw_popup, ($$value) => $$invalidate(7, $yw_popup = $$value));
  let g_option_selected_account = { value: $yw_account_ref };
  let g_account_selected;
  const account_to_option = (p_account, g_account) => ({
    object: g_account,
    value: p_account,
    primary: g_account.name,
    secondary: "FIAT AMOUNT HERE"
  });
  let h_pfps_account = {};
  async function load_account_options() {
    const ks_accounts = await Accounts.read();
    $$invalidate(5, h_pfps_account = ofe(await Promise.all(ode(ks_accounts.raw).map(([_, g_account]) => new Promise((fk_resolve) => {
      const dm_dummy = dd("span");
      const yc_pfp = new PfpDisplay({
        target: dm_dummy,
        props: {
          dim: 28,
          genStyle: "font-size: 18px;",
          resource: g_account,
          settle() {
            const dm_pfp = dm_dummy.firstChild?.cloneNode(true);
            yc_pfp.$destroy();
            fk_resolve([g_account.pfp, dm_pfp]);
          }
        }
      });
    })))));
    return oderac(ks_accounts.raw, account_to_option);
  }
  let g_option_selected_chain = { value: $yw_chain_ref };
  let g_chain_selected;
  const chain_to_option = (p_chain, g_chain) => ({
    object: g_chain,
    value: p_chain,
    primary: g_chain.name,
    secondary: g_chain.id,
    pfp: g_chain.pfp
  });
  let h_pfps_chain = {};
  async function load_chain_options() {
    const ks_chains = await Chains.read();
    $$invalidate(6, h_pfps_chain = await load_pfps2(ks_chains.raw));
    return oderac(ks_chains.raw, chain_to_option);
  }
  if (!$yw_context_popup?.account) {
    set_store_value(yw_context_popup, $yw_context_popup = { account: $yw_account_ref }, $yw_context_popup);
  }
  let dm_qr;
  async function load_pfps2(h_resources) {
    return ofe(await Promise.all(ode(h_resources).map(([_, g_resource]) => new Promise((fk_resolve) => {
      const dm_dummy = dd("span");
      const yc_pfp = new PfpDisplay({
        target: dm_dummy,
        props: {
          dim: 28,
          genStyle: "font-size: 18px;",
          resource: g_resource,
          settle() {
            const dm_pfp = dm_dummy.firstChild?.cloneNode(true);
            yc_pfp.$destroy();
            fk_resolve([g_resource.pfp, dm_pfp]);
          }
        }
      });
    }))));
  }
  const click_handler2 = () => set_store_value(yw_popup, $yw_popup = null, $yw_popup);
  function starselect_value_binding(value) {
    g_option_selected_chain = value;
    $$invalidate(2, g_option_selected_chain);
  }
  function starselect_value_binding_1(value) {
    g_option_selected_account = value;
    $$invalidate(0, g_option_selected_account);
  }
  function div0_binding($$value) {
    binding_callbacks[$$value ? "unshift" : "push"](() => {
      dm_qr = $$value;
      $$invalidate(4, dm_qr), $$invalidate(1, g_account_selected), $$invalidate(3, g_chain_selected), $$invalidate(11, p_account_selected), $$invalidate(10, p_chain_selected), $$invalidate(0, g_option_selected_account), $$invalidate(2, g_option_selected_chain);
    });
  }
  $$self.$$.update = () => {
    if ($$self.$$.dirty & 1) {
      $$invalidate(11, p_account_selected = g_option_selected_account.value);
    }
    if ($$self.$$.dirty & 2048) {
      {
        if (p_account_selected) {
          void Accounts.read().then((ks_accounts) => {
            $$invalidate(1, g_account_selected = ks_accounts.at(p_account_selected));
          });
        }
      }
    }
    if ($$self.$$.dirty & 4) {
      $$invalidate(10, p_chain_selected = g_option_selected_chain.value);
    }
    if ($$self.$$.dirty & 1024) {
      {
        if (p_chain_selected) {
          void Chains.read().then((ks_chains) => {
            $$invalidate(3, g_chain_selected = ks_chains.at(p_chain_selected));
          });
        }
      }
    }
    if ($$self.$$.dirty & 26) {
      {
        if (dm_qr && g_account_selected && g_chain_selected) {
          const y_qrcode = new QRCode({
            content: `starshell:${Chains.addressFor(g_account_selected.pubkey, g_chain_selected) || ""}`,
            width: 240,
            height: 240,
            padding: 3,
            ecl: "H",
            join: true
          }).svg();
          $$invalidate(4, dm_qr.innerHTML = y_qrcode, dm_qr);
        }
      }
    }
  };
  return [
    g_option_selected_account,
    g_account_selected,
    g_option_selected_chain,
    g_chain_selected,
    dm_qr,
    h_pfps_account,
    h_pfps_chain,
    $yw_popup,
    load_account_options,
    load_chain_options,
    p_chain_selected,
    p_account_selected,
    click_handler2,
    starselect_value_binding,
    starselect_value_binding_1,
    div0_binding
  ];
}
class PopupReceive extends SvelteComponent {
  constructor(options) {
    super();
    init(this, options, instance, create_fragment, safe_not_equal, {});
  }
}
var Gap_svelte_svelte_type_style_lang = /* @__PURE__ */ (() => ".gap.svelte-1rn5flx{height:8px;background-color:black;margin-bottom:calc(0px - var(--ui-padding))}")();
var InlinePills_svelte_svelte_type_style_lang = /* @__PURE__ */ (() => ".font-family_mono.svelte-12kzkkx.svelte-12kzkkx.svelte-12kzkkx{font-family:'PT Mono';white-space:pre}.hide-scrollbar.svelte-12kzkkx.svelte-12kzkkx.svelte-12kzkkx{scrollbar-width:none}.hide-scrollbar.svelte-12kzkkx.svelte-12kzkkx.svelte-12kzkkx::-webkit-scrollbar{display:none}.hide-scrollbar.svelte-12kzkkx.svelte-12kzkkx.svelte-12kzkkx::-webkit-scrollbar-track{display:none}.hide-scrollbar.svelte-12kzkkx.svelte-12kzkkx.svelte-12kzkkx::-webkit-scrollbar-thumb{background-color:rgba(0, 0, 0, 0.2)}.cluster.svelte-12kzkkx.svelte-12kzkkx.svelte-12kzkkx{display:inline-flex;vertical-align:middle;justify-content:center;align-items:center;gap:4px;flex-flow:row wrap}.cluster.collapsed.svelte-12kzkkx.svelte-12kzkkx.svelte-12kzkkx{margin:var(--tag-cluster-margin, 0);margin-top:5px;justify-content:flex-start;display:flex}.cluster.editable.svelte-12kzkkx.svelte-12kzkkx.svelte-12kzkkx{justify-content:flex-start;margin-top:-10px;margin-bottom:5px}.cluster.editable.svelte-12kzkkx>.item.svelte-12kzkkx.svelte-12kzkkx{padding-right:2px}.cluster.svelte-12kzkkx>.item.svelte-12kzkkx.svelte-12kzkkx{--item-width:auto;--item-height:22px;display:inline-flex;width:var(--tag-width);height:var(--tag-height);border-radius:1em;padding:0 1ch;font-size:13px}.cluster.svelte-12kzkkx>.item.svelte-12kzkkx>.label.svelte-12kzkkx{margin-top:1px;text-shadow:-1px 1px 1.3px rgba(0, 0, 0, 0.4)}.cluster.svelte-12kzkkx>.item.collapsed.svelte-12kzkkx.svelte-12kzkkx{--item-width:var(--app-tag-diameter);--item-height:var(--app-tag-diameter);padding:0}.cluster.svelte-12kzkkx>.item .delete.icon.svelte-12kzkkx.svelte-12kzkkx{--icon-diameter:22px;transform:rotate(45deg);transition:transform 200ms ease-out, filter 200ms ease-out;cursor:pointer;filter:drop-shadow(0px 0px 0px black);display:var(--delete-display, initial)}.cluster.svelte-12kzkkx>.item .delete.icon.svelte-12kzkkx.svelte-12kzkkx:hover{transform:rotate(45deg) scale(1.075);filter:drop-shadow(-1px 3px 2px rgba(0, 0, 0, 0.4))}.cluster.svelte-12kzkkx>.edit.svelte-12kzkkx.svelte-12kzkkx{cursor:pointer}.cluster.svelte-12kzkkx .prefix.svelte-12kzkkx.svelte-12kzkkx,.cluster.svelte-12kzkkx .suffix.svelte-12kzkkx.svelte-12kzkkx{font-family:Poppins;font-weight:400;font-size:11px;color:var(--theme-color-text-light);display:inline-flex;text-align:center}")();
var TokensAdd_svelte_svelte_type_style_lang = /* @__PURE__ */ (() => ".staged.svelte-18quu74{height:100px}")();
var HoldingView_svelte_svelte_type_style_lang = /* @__PURE__ */ (() => ".txns .row .icon{color:var(--theme-color-text-light);border-radius:32px}")();
var HoldingsHome_svelte_svelte_type_style_lang = /* @__PURE__ */ (() => ".testnet-reminder.svelte-8v4b7t.svelte-8v4b7t{font-family:Poppins;font-weight:400;font-size:11px;text-align:center;color:var(--theme-color-text-med);transform:scaleX(1.25);margin-bottom:calc(0px - var(--ui-padding) - var(--inline-padding))}.subinfo.svelte-8v4b7t.svelte-8v4b7t{border-top:1px solid var(--theme-color-border);padding-top:var(--ui-padding)}.no-gas.svelte-8v4b7t.svelte-8v4b7t{display:flex;flex-direction:column;gap:var(--inline-padding)}.no-gas.svelte-8v4b7t .message.svelte-8v4b7t{font-family:Poppins;font-weight:400;font-size:11px}")();
var AccountCreate_svelte_svelte_type_style_lang = /* @__PURE__ */ (() => ".hd-path{font-family:Poppins;font-weight:400;font-size:11px;color:var(--theme-color-text-med)}")();
var AccountsHome_svelte_svelte_type_style_lang = /* @__PURE__ */ (() => ".hd-path{font-family:Poppins;font-weight:400;font-size:11px;color:var(--theme-color-text-med)}")();
var Tab_svelte_svelte_type_style_lang = /* @__PURE__ */ (() => ".svelte-tabs__tab.svelte-1fbofsd{border:none;border-bottom:2px solid transparent;color:#000000;cursor:pointer;list-style:none;display:inline-block;padding:0.5em 0.75em}.svelte-tabs__tab.svelte-1fbofsd:focus{outline:thin dotted}.svelte-tabs__selected.svelte-1fbofsd{border-bottom:2px solid #4F81E5;color:#4F81E5}")();
var TabList_svelte_svelte_type_style_lang = /* @__PURE__ */ (() => ".svelte-tabs__tab-list.svelte-12yby2a{border-bottom:1px solid #CCCCCC;margin:0;padding:0}")();
var TabPanel_svelte_svelte_type_style_lang = /* @__PURE__ */ (() => ".svelte-tabs__tab-panel.svelte-epfyet{margin-top:0.5em}")();
var IconEditor_svelte_svelte_type_style_lang = /* @__PURE__ */ (() => ".area.svelte-1i7pjsy.svelte-1i7pjsy.svelte-1i7pjsy.svelte-1i7pjsy.svelte-1i7pjsy{border:1px dashed var(--theme-color-border);border-radius:4px}.area.svelte-1i7pjsy>.row.svelte-1i7pjsy.svelte-1i7pjsy.svelte-1i7pjsy.svelte-1i7pjsy{display:flex;justify-content:space-between;margin:var(--ui-padding)}.area.svelte-1i7pjsy>.row.svelte-1i7pjsy>.svelte-1i7pjsy.svelte-1i7pjsy.svelte-1i7pjsy{flex:auto}.area.svelte-1i7pjsy>.row.svelte-1i7pjsy>.left.svelte-1i7pjsy.svelte-1i7pjsy.svelte-1i7pjsy{flex:1}.area > .row > .left > .icon.pfp{--button-diameter:64px;--icon-diameter:64px}.area.svelte-1i7pjsy>.row.svelte-1i7pjsy>.right.svelte-1i7pjsy.svelte-1i7pjsy.svelte-1i7pjsy{flex:3;padding:0 calc(var(--ui-padding) / 2);margin-top:-4px}.area.svelte-1i7pjsy>.row.svelte-1i7pjsy>.right.svelte-1i7pjsy>.disclaimer.svelte-1i7pjsy.svelte-1i7pjsy{font-family:Poppins;font-weight:400;font-size:11px}.area.svelte-1i7pjsy>.row.svelte-1i7pjsy>.right.svelte-1i7pjsy>.disclaimer.svelte-1i7pjsy>.warning.svelte-1i7pjsy{color:var(--theme-color-caution)}.area.svelte-1i7pjsy>.row .actions.svelte-1i7pjsy.svelte-1i7pjsy.svelte-1i7pjsy.svelte-1i7pjsy{color:var(--theme-color-primary);margin-top:4px}.area.svelte-1i7pjsy>.row .actions.svelte-1i7pjsy>.svelte-1i7pjsy.svelte-1i7pjsy.svelte-1i7pjsy{cursor:pointer}.area.svelte-1i7pjsy>.row .actions.svelte-1i7pjsy>.svelte-1i7pjsy:hover>.text.svelte-1i7pjsy.svelte-1i7pjsy{text-decoration:underline}.area.svelte-1i7pjsy>.row .actions.svelte-1i7pjsy>.svelte-1i7pjsy>.svelte-1i7pjsy.svelte-1i7pjsy{vertical-align:middle}.area.svelte-1i7pjsy>.row .actions.svelte-1i7pjsy>.svelte-1i7pjsy>.icon.svelte-1i7pjsy.svelte-1i7pjsy{--icon-color:var(--theme-color-primary);--icon-diameter:20px}")();
var ContactEdit_svelte_svelte_type_style_lang = /* @__PURE__ */ (() => "#chain-family{flex:1;align-items:baseline;font-family:Poppins;font-weight:400;font-size:11px;color:var(--theme-color-text-med);overflow:hidden;text-overflow:ellipsis}")();
var ContactList_svelte_svelte_type_style_lang = /* @__PURE__ */ (() => ".rows.svelte-1l93agm{margin-left:calc(0px - var(--ui-padding));margin-right:calc(0px - var(--ui-padding))}.rows .row .status{position:relative}.rows .row .status .icon.more-menu{padding-top:50%;padding-bottom:50%;--icon-diameter:24px;--icon-color:var(--theme-color-primary);outline:1px solid transparent;transition:350ms outline-color var(--ease-out-cubic)}.rows .row .status .icon.more-menu:hover{outline-color:var(--theme-color-border)}.rows .row .status .icon.more-menu:active,.rows .row .status .icon.more-menu.active{outline-color:var(--theme-color-primary)}.rows .row .status .overlay{position:absolute;padding:10px 14px;background-color:rgba(0, 0, 0, 0.8);border-radius:8px;right:26px;top:-18px;min-width:120px;z-index:100}.rows .row .status .overlay > .action{display:flex;padding:10px 8px}.rows .row .status .overlay > .action > .text{padding-left:10px}.rows .row .status .overlay .icon{--icon-diameter:24px;--icon-color:var(--theme-color-primary)}.icon.contact-type.svelte-1l93agm{--icon-diameter:16px;--icon-color:var(--theme-color-text-med)}")();
var ContactsHome_svelte_svelte_type_style_lang = /* @__PURE__ */ (() => ".screen.contacts div.svelte-tabs > div.svelte-tabs__tab-panel{margin-top:-1px}")();
const Apps = create_store_class({
  store: SI_STORE_APPS,
  class: class AppsI extends WritableStoreMap {
    static pathFor(s_host, s_scheme) {
      return `/scheme.${s_scheme}/host.${s_host.replace(/:/g, "+")}`;
    }
    static pathFrom(g_app) {
      return AppsI.pathFor(g_app.host, g_app.scheme);
    }
    static get(s_host, s_scheme) {
      return Apps.open((ks_apps) => ks_apps.get(s_host, s_scheme));
    }
    get(s_host, s_scheme) {
      const p_app = AppsI.pathFor(s_host, s_scheme);
      return this._w_cache[p_app] ?? null;
    }
    async put(g_app) {
      const p_app = AppsI.pathFor(g_app.host, g_app.scheme);
      this._w_cache[p_app] = g_app;
      await this.save();
    }
  }
});
function writableSync(w_value) {
  const yw_original = writable(w_value);
  return Object.assign(Object.create(yw_original), {
    set(w_set) {
      w_value = w_set;
      return yw_original.set(w_set);
    },
    get() {
      return w_value;
    }
  });
}
function derivedSync(z_src, f_transform) {
  if (Array.isArray(z_src)) {
    return Object.assign(Object.create(derived(z_src, f_transform)), {
      get() {
        return f_transform(...z_src);
      }
    });
  } else {
    let w_cache;
    const yw_original = derived(z_src, (w_input, fk_set) => {
      f_transform(w_input, (w_output) => {
        w_cache = w_output;
        fk_set(w_output);
      });
    });
    return Object.assign(Object.create(yw_original), {
      get() {
        return w_cache;
      }
    });
  }
}
const yw_navigator = writableSync(null);
const yw_chain_ref = writableSync("");
const yw_chain = derivedSync(yw_chain_ref, (p_chain, fk_set) => {
  void Chains.read().then((ks) => fk_set(ks.at(p_chain)));
  void Networks.read().then((ks) => ks.entries().some(([p_network, g_network]) => {
    if (p_chain === g_network.chain) {
      yw_network_ref.set(p_network);
      return true;
    }
    return false;
  }));
});
const yw_network_ref = writableSync("");
const yw_network = writableSync(null);
const yw_network_active = derivedSync(yw_network_ref, (p_network, fk_set) => {
  if (!p_network) {
    yw_network.set(null);
    fk_set(null);
  } else {
    (async () => {
      const ks_networks = await Networks.read();
      const g_network = ks_networks.at(p_network);
      yw_network.set(g_network);
      if (g_network.chain !== yw_chain_ref.get()) {
        yw_chain_ref.set(g_network.chain);
      }
      const ks_chains = await Chains.read();
      const g_chain = ks_chains.at(g_network.chain);
      fk_set(Networks.activate(g_network, g_chain));
    })();
  }
});
const yw_family = writableSync("");
yw_chain.subscribe((g_chain) => yw_family.set(g_chain?.family || ""));
const yw_account_ref = writableSync("");
const yw_account = derivedSync(yw_account_ref, (p_account, fk_set) => {
  void Accounts.read().then((ks) => fk_set(ks.at(p_account)));
});
const yw_owner = derived([yw_account, yw_chain], ([g_account, g_chain], fk_set) => {
  fk_set(Chains.addressFor(g_account.pubkey, g_chain));
});
const yw_menu_vendor = writableSync(false);
const yw_overlay_account = writableSync(false);
const yw_overlay_network = writableSync(false);
const store_cache = (si_store) => writableSync(null);
async function reload(si_store) {
  switch (si_store) {
    case SI_STORE_MEDIA: {
      const ks_medias = await Medias.read();
      yw_store_medias.update(() => ks_medias);
      break;
    }
    case SI_STORE_TAGS: {
      const ks_tags = await Tags.read();
      yw_store_tags.update(() => ks_tags);
    }
  }
}
const yw_store_medias = store_cache();
const yw_store_tags = store_cache();
global_receive({
  "updateStore"({ key: si_store }) {
    void reload(si_store);
  }
});
async function initialize_caches() {
  await Promise.all([
    reload(SI_STORE_MEDIA),
    reload(SI_STORE_TAGS)
  ]);
}
const yw_page = writableSync(null);
const yw_thread = writableSync(null);
const yw_path = writableSync("");
derivedSync(yw_path, ($yw) => `s2r://root/${$yw}`);
writableSync("");
const yw_notifications = writableSync([]);
const yw_nav_collapsed = writable(false);
const yw_nav_visible = writableSync(false);
const yw_progress = writableSync([0, 0]);
const yw_search = writable("");
const yw_cancel_search = writableSync(F_NOOP);
writableSync(null);
writableSync(0);
writableSync([]);
const yw_header_props = writableSync({});
writableSync(null);
const yw_menu_expanded = writableSync(false);
const yw_overscroll_pct = writableSync(0);
const yw_context_popup = writableSync(null);
const yw_popup = writableSync(null);
function popup_receive(p_account) {
  yw_context_popup.set({
    account: p_account
  });
  yw_popup.set(PopupReceive);
}
const yw_blur = writableSync(false);
void once_store_updates(yw_navigator).then(() => {
  const d_style_root = document.documentElement.style;
  window.addEventListener("resize", () => {
    d_style_root.setProperty("--app-window-width", `${window.innerWidth}px`);
    d_style_root.setProperty("--app-window-height", `${window.innerHeight}px`);
  });
  window.dispatchEvent(new Event("resize"));
  window.addEventListener("keydown", (d_event) => {
    if (d_event.key === "Escape") {
      if (yw_popup.get()) {
        yw_popup.set(null);
      }
    }
  });
});
export { run_all as $, ActionsLine as A, Accounts as B, CheckboxField as C, text as D, attr as E, noop$1 as F, global_receive as G, initialize_caches as H, yw_navigator as I, ode as J, register as K, login as L, qs as M, set_style as N, create_slot as O, update_slot_base as P, get_all_dirty_from_scope as Q, get_slot_changes as R, SI_STORE_SECRETS as S, toggle_class as T, append as U, Vault as V, WritableStoreDict as W, XT_SECONDS as X, listen as Y, group_outros as Z, check_outros as _, SensitiveBytes as a, SX_ICON_ADD as a$, yw_nav_visible as a0, yw_blur as a1, compute_slots as a2, getContext as a3, createEventDispatcher as a4, onMount as a5, bubble as a6, src_url_equal as a7, SX_ICON_ADD$1 as a8, set_data as a9, ATU8_DUMMY_PHRASE as aA, ATU8_DUMMY_VECTOR as aB, AlreadyRegisteredError as aC, InvalidPassphraseError as aD, add_render_callback as aE, create_bidirectional_transition as aF, slide as aG, yw_owner as aH, load_pfps as aI, Entities as aJ, StarSelect as aK, yw_network_active as aL, BigNumber as aM, XT_MINUTES as aN, CoinGecko as aO, format_amount as aP, oderac as aQ, yw_family as aR, subscribe_store as aS, onDestroy as aT, Agents as aU, Address as aV, Select as aW, format_fiat as aX, SX_ICON_DROPDOWN as aY, fold as aZ, SX_ICON_INFO as a_, create_out_transition as aa, empty as ab, get_spread_update as ac, get_spread_object as ad, set_input_value as ae, yw_search as af, yw_cancel_search as ag, yw_thread as ah, yw_menu_vendor as ai, yw_overlay_network as aj, yw_chain as ak, yw_chain_ref as al, yw_overlay_account as am, yw_account as an, assign as ao, PfpDisplay as ap, Close as aq, handle_promise as ar, Chains as as, update_await_block_branch as at, destroy_each as au, Row as av, acceptable as aw, Field as ax, NL_PASSPHRASE_MINIMUM as ay, NL_PASSPHRASE_MAXIMUM as az, base64ToBin as b, cubicOut as b0, Portrait as b1, SI_STORE_CHAINS as b2, oderom as b3, syserr as b4, popup_receive as b5, open_external_link as b6, forever as b7, Info as b8, InlineTags as b9, SX_ICON_CLOSE as bA, yw_network as bB, dd as bC, objects_might_differ as bD, getAllContexts as bE, yw_network_ref as bF, once_store_updates as bG, timeout as bH, UnregisteredError as bI, RecoverableVaultError as bJ, CorruptedVaultError as bK, P_PUBLIC_SUFFIX_LIST as bL, P_STARSHELL_DECREES as bM, R_DOMAIN_LOCALHOST as bN, R_DOMAIN_IP as bO, session_storage_remove as bP, SI_STORE_APP_POLICIES as bQ, WritableStore as bR, SI_STORE_SETTINGS as bS, session_storage_get as bT, global_broadcast as bU, fold_attrs as bV, R_TRANSFER_AMOUNT as bW, syswarn as bX, sha256_sync$1 as bY, text_to_buffer as bZ, SubHeader as ba, setContext as bb, afterUpdate as bc, writable as bd, tick as be, Pfps as bf, F_NOOP as bg, ofe as bh, ContactAgentType as bi, R_BECH32 as bj, proper as bk, SX_ICON_EDIT$1 as bl, SX_ICON_DELETE as bm, quintOut as bn, Apps as bo, Networks as bp, svg_element as bq, yw_overscroll_pct as br, yw_popup as bs, HtmlTag as bt, yw_page as bu, yw_menu_expanded as bv, yw_notifications as bw, yw_nav_collapsed as bx, yw_header_props as by, yw_progress as bz, create_store_class as c, SvelteComponent as d, safe_not_equal as e, create_component as f, transition_out as g, hex_to_buffer as h, init as i, destroy_component as j, component_subscribe as k, binding_callbacks as l, mount_component as m, bind as n, space as o, element as p, insert as q, add_flush_callback as r, sha256$1 as s, transition_in as t, detach as u, buffer_to_string8 as v, buffer_to_base64 as w, set_store_value as x, yw_account_ref as y, zero_out as z };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWVtLjZlNTc4ODJkLmpzIiwic291cmNlcyI6WyIuLi8uLi8uLi92aXRlL21vZHVsZXByZWxvYWQtcG9seWZpbGwiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvc3ZlbHRlL2ludGVybmFsL2luZGV4Lm1qcyIsIi4uLy4uLy4uL3NyYy91dGlsL2JlbHQudHMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvYmVjaDMyL2Rpc3QvaW5kZXguanMiLCIuLi8uLi8uLi9zcmMvZGV2LnRzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0Bzb2xhci1yZXB1YmxpYy93YXNtLXNlY3AyNTZrMS9idWlsZC9tb2R1bGUvbGliL2Zvcm1hdC9iYXNlNjQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQHNvbGFyLXJlcHVibGljL3dhc20tc2VjcDI1NmsxL2J1aWxkL21vZHVsZS9saWIvYmluL2hhc2hlcy5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9Ac29sYXItcmVwdWJsaWMvd2FzbS1zZWNwMjU2azEvYnVpbGQvbW9kdWxlL2xpYi9iaW4vcmlwZW1kMTYwL3JpcGVtZDE2MC5iYXNlNjQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQHNvbGFyLXJlcHVibGljL3dhc20tc2VjcDI1NmsxL2J1aWxkL21vZHVsZS9saWIvYmluL3NoYTI1Ni9zaGEyNTYuYmFzZTY0LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0Bzb2xhci1yZXB1YmxpYy93YXNtLXNlY3AyNTZrMS9idWlsZC9tb2R1bGUvbGliL2NyeXB0by9yaXBlbWQxNjAuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQHNvbGFyLXJlcHVibGljL3dhc20tc2VjcDI1NmsxL2J1aWxkL21vZHVsZS9saWIvY3J5cHRvL3NoYTI1Ni5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9zaGEyNTYtdWludDhhcnJheS9saWIvc2hhMjU2LXVpbnQ4YXJyYXkuanMiLCIuLi8uLi8uLi9zcmMvdXRpbC9kYXRhLnRzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2NyeXB0by1qcy9jb3JlLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2NyeXB0by1qcy9zaGEyNTYuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3J5cHRvLWpzL3g2NC1jb3JlLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2NyeXB0by1qcy9zaGE1MTIuanMiLCIuLi8uLi8uLi9zcmMvY3J5cHRvL3NlbnNpdGl2ZS1ieXRlcy50cyIsIi4uLy4uLy4uL3NyYy9zY3JpcHQvbXNnLWdsb2JhbC50cyIsIi4uLy4uLy4uL3NyYy9zaGFyZS9hdXRoLnRzIiwiLi4vLi4vLi4vc3JjL2FwcC9jb21tb24udHMiLCIuLi8uLi8uLi9zcmMvbWV0YS9jb250YWN0LnRzIiwiLi4vLi4vLi4vc3JjL3NoYXJlL2NvbnN0YW50cy50cyIsIi4uLy4uLy4uL3NyYy9zdG9yZS9faW5pdC50cyIsIi4uLy4uLy4uL3NyYy9jcnlwdG8vdmF1bHQudHMiLCIuLi8uLi8uLi9zcmMvc3RvcmUvX2Jhc2UudHMiLCIuLi8uLi8uLi9zcmMvc3RvcmUvY2hhaW5zLnRzIiwiLi4vLi4vLi4vc3JjL3NjaGVtYS90b2tlbi1yZWdpc3RyeS50cyIsIi4uLy4uLy4uL3NyYy9zdG9yZS9lbnRpdGllcy50cyIsIi4uLy4uLy4uL3NyYy9zdG9yZS9xdWVyeS1jYWNoZS50cyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW1wcm9iYWJsZS1lbmcvZ3JwYy13ZWIvZGlzdC9ncnBjLXdlYi1jbGllbnQudW1kLmpzIiwiLi4vLi4vLi4vLi4vY29zbW9zLWdycGMvbm9kZV9tb2R1bGVzL0BpbXByb2JhYmxlLWVuZy9ncnBjLXdlYi9kaXN0L2dycGMtd2ViLWNsaWVudC51bWQuanMiLCIuLi8uLi8uLi8uLi9jb3Ntb3MtZ3JwYy9ub2RlX21vZHVsZXMvQHByb3RvYnVmanMvYXNwcm9taXNlL2luZGV4LmpzIiwiLi4vLi4vLi4vLi4vY29zbW9zLWdycGMvbm9kZV9tb2R1bGVzL0Bwcm90b2J1ZmpzL2Jhc2U2NC9pbmRleC5qcyIsIi4uLy4uLy4uLy4uL2Nvc21vcy1ncnBjL25vZGVfbW9kdWxlcy9AcHJvdG9idWZqcy9ldmVudGVtaXR0ZXIvaW5kZXguanMiLCIuLi8uLi8uLi8uLi9jb3Ntb3MtZ3JwYy9ub2RlX21vZHVsZXMvQHByb3RvYnVmanMvZmxvYXQvaW5kZXguanMiLCIuLi8uLi8uLi8uLi9jb3Ntb3MtZ3JwYy9ub2RlX21vZHVsZXMvQHByb3RvYnVmanMvaW5xdWlyZS9pbmRleC5qcyIsIi4uLy4uLy4uLy4uL2Nvc21vcy1ncnBjL25vZGVfbW9kdWxlcy9AcHJvdG9idWZqcy91dGY4L2luZGV4LmpzIiwiLi4vLi4vLi4vLi4vY29zbW9zLWdycGMvbm9kZV9tb2R1bGVzL0Bwcm90b2J1ZmpzL3Bvb2wvaW5kZXguanMiLCIuLi8uLi8uLi8uLi9jb3Ntb3MtZ3JwYy9ub2RlX21vZHVsZXMvcHJvdG9idWZqcy9zcmMvdXRpbC9sb25nYml0cy5qcyIsIi4uLy4uLy4uLy4uL2Nvc21vcy1ncnBjL25vZGVfbW9kdWxlcy9wcm90b2J1ZmpzL3NyYy91dGlsL21pbmltYWwuanMiLCIuLi8uLi8uLi8uLi9jb3Ntb3MtZ3JwYy9ub2RlX21vZHVsZXMvcHJvdG9idWZqcy9zcmMvd3JpdGVyLmpzIiwiLi4vLi4vLi4vLi4vY29zbW9zLWdycGMvbm9kZV9tb2R1bGVzL3Byb3RvYnVmanMvc3JjL3dyaXRlcl9idWZmZXIuanMiLCIuLi8uLi8uLi8uLi9jb3Ntb3MtZ3JwYy9ub2RlX21vZHVsZXMvcHJvdG9idWZqcy9zcmMvcmVhZGVyLmpzIiwiLi4vLi4vLi4vLi4vY29zbW9zLWdycGMvbm9kZV9tb2R1bGVzL3Byb3RvYnVmanMvc3JjL3JlYWRlcl9idWZmZXIuanMiLCIuLi8uLi8uLi8uLi9jb3Ntb3MtZ3JwYy9ub2RlX21vZHVsZXMvcHJvdG9idWZqcy9zcmMvcnBjL3NlcnZpY2UuanMiLCIuLi8uLi8uLi8uLi9jb3Ntb3MtZ3JwYy9ub2RlX21vZHVsZXMvcHJvdG9idWZqcy9zcmMvcnBjLmpzIiwiLi4vLi4vLi4vLi4vY29zbW9zLWdycGMvbm9kZV9tb2R1bGVzL3Byb3RvYnVmanMvc3JjL3Jvb3RzLmpzIiwiLi4vLi4vLi4vLi4vY29zbW9zLWdycGMvbm9kZV9tb2R1bGVzL3Byb3RvYnVmanMvc3JjL2luZGV4LW1pbmltYWwuanMiLCIuLi8uLi8uLi8uLi9jb3Ntb3MtZ3JwYy9ub2RlX21vZHVsZXMvcHJvdG9idWZqcy9taW5pbWFsLmpzIiwiLi4vLi4vLi4vLi4vY29zbW9zLWdycGMvZGlzdC9jb3Ntb3MvYmFzZS92MWJldGExL2NvaW4uanMiLCIuLi8uLi8uLi8uLi9jb3Ntb3MtZ3JwYy9ub2RlX21vZHVsZXMvbG9uZy9zcmMvbG9uZy5qcyIsIi4uLy4uLy4uLy4uL2Nvc21vcy1ncnBjL2Rpc3QvY29zbW9zL2Jhc2UvcXVlcnkvdjFiZXRhMS9wYWdpbmF0aW9uLmpzIiwiLi4vLi4vLi4vLi4vY29zbW9zLWdycGMvZGlzdC9jb3Ntb3MvYmFuay92MWJldGExL2JhbmsuanMiLCIuLi8uLi8uLi8uLi9jb3Ntb3MtZ3JwYy9ub2RlX21vZHVsZXMvYnJvd3Nlci1oZWFkZXJzL2Rpc3QvYnJvd3Nlci1oZWFkZXJzLnVtZC5qcyIsIi4uLy4uLy4uLy4uL2Nvc21vcy1ncnBjL2Rpc3QvY29zbW9zL2JhbmsvdjFiZXRhMS9xdWVyeS5qcyIsIi4uLy4uLy4uLy4uL2Nvc21vcy1ncnBjL2Rpc3QvZ29vZ2xlL3Byb3RvYnVmL2FueS5qcyIsIi4uLy4uLy4uLy4uL2Nvc21vcy1ncnBjL2Rpc3QvZ29vZ2xlL3Byb3RvYnVmL3RpbWVzdGFtcC5qcyIsIi4uLy4uLy4uLy4uL2Nvc21vcy1ncnBjL2Rpc3QvdGVuZGVybWludC9jcnlwdG8vcHJvb2YuanMiLCIuLi8uLi8uLi8uLi9jb3Ntb3MtZ3JwYy9kaXN0L3RlbmRlcm1pbnQvdmVyc2lvbi90eXBlcy5qcyIsIi4uLy4uLy4uLy4uL2Nvc21vcy1ncnBjL2Rpc3QvdGVuZGVybWludC9jcnlwdG8va2V5cy5qcyIsIi4uLy4uLy4uLy4uL2Nvc21vcy1ncnBjL2Rpc3QvdGVuZGVybWludC90eXBlcy92YWxpZGF0b3IuanMiLCIuLi8uLi8uLi8uLi9jb3Ntb3MtZ3JwYy9kaXN0L3RlbmRlcm1pbnQvdHlwZXMvdHlwZXMuanMiLCIuLi8uLi8uLi8uLi9jb3Ntb3MtZ3JwYy9kaXN0L2dvb2dsZS9wcm90b2J1Zi9kdXJhdGlvbi5qcyIsIi4uLy4uLy4uLy4uL2Nvc21vcy1ncnBjL2Rpc3QvdGVuZGVybWludC90eXBlcy9wYXJhbXMuanMiLCIuLi8uLi8uLi8uLi9jb3Ntb3MtZ3JwYy9kaXN0L3RlbmRlcm1pbnQvYWJjaS90eXBlcy5qcyIsIi4uLy4uLy4uLy4uL2Nvc21vcy1ncnBjL2Rpc3QvY29zbW9zL2Jhc2UvYWJjaS92MWJldGExL2FiY2kuanMiLCIuLi8uLi8uLi8uLi9jb3Ntb3MtZ3JwYy9kaXN0L2Nvc21vcy9jcnlwdG8vbXVsdGlzaWcvdjFiZXRhMS9tdWx0aXNpZy5qcyIsIi4uLy4uLy4uLy4uL2Nvc21vcy1ncnBjL2Rpc3QvY29zbW9zL3R4L3NpZ25pbmcvdjFiZXRhMS9zaWduaW5nLmpzIiwiLi4vLi4vLi4vLi4vY29zbW9zLWdycGMvZGlzdC9jb3Ntb3MvdHgvdjFiZXRhMS90eC5qcyIsIi4uLy4uLy4uLy4uL2Nvc21vcy1ncnBjL2Rpc3QvY29zbW9zL3R4L3YxYmV0YTEvc2VydmljZS5qcyIsIi4uLy4uLy4uL3NyYy9jaGFpbi9tYWluLnRzIiwiLi4vLi4vLi4vc3JjL3N0b3JlL2FjY291bnRzLnRzIiwiLi4vLi4vLi4vc3JjL3N0b3JlL21lZGlhcy50cyIsIi4uLy4uLy4uL3NyYy9zdG9yZS9uZXR3b3Jrcy50cyIsIi4uLy4uLy4uL3NyYy9zdG9yZS90YWdzLnRzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N2ZWx0ZS9zdG9yZS9pbmRleC5tanMiLCIuLi8uLi8uLi9zcmMvaWNvbi9hZGQtc21hbGwuc3ZnP3JhdyIsIi4uLy4uLy4uL3NyYy9hcHAvdWkvUHV0LnN2ZWx0ZSIsIi4uLy4uLy4uL3NyYy91dGlsL2RvbS50cyIsIi4uLy4uLy4uL3NyYy9zdG9yZS9wZnBzLnRzIiwiLi4vLi4vLi4vc3JjL2FwcC91aS9QZnBEaXNwbGF5LnN2ZWx0ZSIsIi4uLy4uLy4uL3NyYy9pY29uL2Nsb3NlLnN2Zz9yYXciLCIuLi8uLi8uLi9zcmMvYXBwL3VpL0Nsb3NlLnN2ZWx0ZSIsIi4uLy4uLy4uL3NyYy9hcHAvdWkvUm93LnN2ZWx0ZSIsIi4uLy4uLy4uL3NyYy9hcHAvdWkvU3ViSGVhZGVyLnN2ZWx0ZSIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdmVsdGUvZWFzaW5nL2luZGV4Lm1qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdmVsdGUvdHJhbnNpdGlvbi9pbmRleC5tanMiLCIuLi8uLi8uLi9zcmMvYXBwL3VpL0ZpZWxkLnN2ZWx0ZSIsIi4uLy4uLy4uL3NyYy9hcHAvdWkvQWN0aW9uc0xpbmUuc3ZlbHRlIiwiLi4vLi4vLi4vc3JjL2ljb24vc2VuZC5zdmc/cmF3IiwiLi4vLi4vLi4vc3JjL2ljb24vcmVjdi5zdmc/cmF3IiwiLi4vLi4vLi4vc3JjL2ljb24vYWRkLnN2Zz9yYXciLCIuLi8uLi8uLi9zcmMvaWNvbi9pbmZvLnN2Zz9yYXciLCIuLi8uLi8uLi9zcmMvaWNvbi9lZGl0LnN2Zz9yYXciLCIuLi8uLi8uLi9zcmMvaWNvbi9kZWxldGUuc3ZnP3JhdyIsIi4uLy4uLy4uL3NyYy9pY29uL3dyYXAuc3ZnP3JhdyIsIi4uLy4uLy4uL3NyYy9pY29uL3Vud3JhcC5zdmc/cmF3IiwiLi4vLi4vLi4vc3JjL2ljb24vZWRpdC1zbWFsbC5zdmc/cmF3IiwiLi4vLi4vLi4vc3JjL2ljb24vY2hlY2tlZC5zdmc/cmF3IiwiLi4vLi4vLi4vc3JjL2ljb24vdW5jaGVja2VkLnN2Zz9yYXciLCIuLi8uLi8uLi9zcmMvYXBwL3VpL0NoZWNrYm94RmllbGQuc3ZlbHRlIiwiLi4vLi4vLi4vc3JjL2FwcC91aS9Qb3B1cFRhZ3NTZWxlY3Quc3ZlbHRlIiwiLi4vLi4vLi4vc3JjL2FwcC91aS9JbmxpbmVUYWdzLnN2ZWx0ZSIsIi4uLy4uLy4uL3NyYy9hcHAvdWkvUG9ydHJhaXQuc3ZlbHRlIiwiLi4vLi4vLi4vc3JjL2ljb24vZHJvcC1kb3duLnN2Zz9yYXciLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvc3ZlbHRlLXNlbGVjdC9zcmMvdXRpbHMvaXNPdXRPZlZpZXdwb3J0LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N2ZWx0ZS1zZWxlY3Qvc3JjL0l0ZW0uc3ZlbHRlIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N2ZWx0ZS1zZWxlY3Qvc3JjL0xpc3Quc3ZlbHRlIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N2ZWx0ZS1zZWxlY3Qvc3JjL1NlbGVjdGlvbi5zdmVsdGUiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvc3ZlbHRlLXNlbGVjdC9zcmMvTXVsdGlTZWxlY3Rpb24uc3ZlbHRlIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N2ZWx0ZS1zZWxlY3Qvc3JjL1ZpcnR1YWxMaXN0LnN2ZWx0ZSIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdmVsdGUtc2VsZWN0L3NyYy9DbGVhckljb24uc3ZlbHRlIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N2ZWx0ZS1zZWxlY3Qvc3JjL3V0aWxzL2RlYm91bmNlLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N2ZWx0ZS1zZWxlY3Qvc3JjL1NlbGVjdC5zdmVsdGUiLCIuLi8uLi8uLi9zcmMvYXBwL3VpL1N0YXJTZWxlY3Quc3ZlbHRlIiwiLi4vLi4vLi4vc3JjL2FwcC9zdmVsdGUudHMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvYmlnbnVtYmVyLmpzL2JpZ251bWJlci5tanMiLCIuLi8uLi8uLi9zcmMvdXRpbC9mb3JtYXQudHMiLCIuLi8uLi8uLi9zcmMvc3RvcmUvd2ViLWFwaXMudHMiLCIuLi8uLi8uLi9zcmMvc3RvcmUvYWdlbnRzLnRzIiwiLi4vLi4vLi4vc3JjL2ljb24vY29weS5zdmc/cmF3IiwiLi4vLi4vLi4vc3JjL2FwcC91aS9BZGRyZXNzLnN2ZWx0ZSIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9xcmNvZGUtc3ZnL2xpYi9xcmNvZGUuanMiLCIuLi8uLi8uLi9zcmMvYXBwL3VpL0luZm8uc3ZlbHRlIiwiLi4vLi4vLi4vc3JjL2FwcC91aS9Qb3B1cFJlY2VpdmUuc3ZlbHRlIiwiLi4vLi4vLi4vc3JjL3N0b3JlL2FwcHMudHMiLCIuLi8uLi8uLi9zcmMvYXBwL21lbS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBwID0gZnVuY3Rpb24gcG9seWZpbGwoKSB7XG4gICAgY29uc3QgcmVsTGlzdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpbmsnKS5yZWxMaXN0O1xuICAgIGlmIChyZWxMaXN0ICYmIHJlbExpc3Quc3VwcG9ydHMgJiYgcmVsTGlzdC5zdXBwb3J0cygnbW9kdWxlcHJlbG9hZCcpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZm9yIChjb25zdCBsaW5rIG9mIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2xpbmtbcmVsPVwibW9kdWxlcHJlbG9hZFwiXScpKSB7XG4gICAgICAgIHByb2Nlc3NQcmVsb2FkKGxpbmspO1xuICAgIH1cbiAgICBuZXcgTXV0YXRpb25PYnNlcnZlcigobXV0YXRpb25zKSA9PiB7XG4gICAgICAgIGZvciAoY29uc3QgbXV0YXRpb24gb2YgbXV0YXRpb25zKSB7XG4gICAgICAgICAgICBpZiAobXV0YXRpb24udHlwZSAhPT0gJ2NoaWxkTGlzdCcpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoY29uc3Qgbm9kZSBvZiBtdXRhdGlvbi5hZGRlZE5vZGVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKG5vZGUudGFnTmFtZSA9PT0gJ0xJTksnICYmIG5vZGUucmVsID09PSAnbW9kdWxlcHJlbG9hZCcpXG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3NQcmVsb2FkKG5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSkub2JzZXJ2ZShkb2N1bWVudCwgeyBjaGlsZExpc3Q6IHRydWUsIHN1YnRyZWU6IHRydWUgfSk7XG4gICAgZnVuY3Rpb24gZ2V0RmV0Y2hPcHRzKHNjcmlwdCkge1xuICAgICAgICBjb25zdCBmZXRjaE9wdHMgPSB7fTtcbiAgICAgICAgaWYgKHNjcmlwdC5pbnRlZ3JpdHkpXG4gICAgICAgICAgICBmZXRjaE9wdHMuaW50ZWdyaXR5ID0gc2NyaXB0LmludGVncml0eTtcbiAgICAgICAgaWYgKHNjcmlwdC5yZWZlcnJlcnBvbGljeSlcbiAgICAgICAgICAgIGZldGNoT3B0cy5yZWZlcnJlclBvbGljeSA9IHNjcmlwdC5yZWZlcnJlcnBvbGljeTtcbiAgICAgICAgaWYgKHNjcmlwdC5jcm9zc29yaWdpbiA9PT0gJ3VzZS1jcmVkZW50aWFscycpXG4gICAgICAgICAgICBmZXRjaE9wdHMuY3JlZGVudGlhbHMgPSAnaW5jbHVkZSc7XG4gICAgICAgIGVsc2UgaWYgKHNjcmlwdC5jcm9zc29yaWdpbiA9PT0gJ2Fub255bW91cycpXG4gICAgICAgICAgICBmZXRjaE9wdHMuY3JlZGVudGlhbHMgPSAnb21pdCc7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIGZldGNoT3B0cy5jcmVkZW50aWFscyA9ICdzYW1lLW9yaWdpbic7XG4gICAgICAgIHJldHVybiBmZXRjaE9wdHM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHByb2Nlc3NQcmVsb2FkKGxpbmspIHtcbiAgICAgICAgaWYgKGxpbmsuZXApXG4gICAgICAgICAgICAvLyBlcCBtYXJrZXIgPSBwcm9jZXNzZWRcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgbGluay5lcCA9IHRydWU7XG4gICAgICAgIC8vIHByZXBvcHVsYXRlIHRoZSBsb2FkIHJlY29yZFxuICAgICAgICBjb25zdCBmZXRjaE9wdHMgPSBnZXRGZXRjaE9wdHMobGluayk7XG4gICAgICAgIGZldGNoKGxpbmsuaHJlZiwgZmV0Y2hPcHRzKTtcbiAgICB9XG59O19fVklURV9JU19NT0RFUk5fXyYmcCgpOyIsImZ1bmN0aW9uIG5vb3AoKSB7IH1cbmNvbnN0IGlkZW50aXR5ID0geCA9PiB4O1xuZnVuY3Rpb24gYXNzaWduKHRhciwgc3JjKSB7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGZvciAoY29uc3QgayBpbiBzcmMpXG4gICAgICAgIHRhcltrXSA9IHNyY1trXTtcbiAgICByZXR1cm4gdGFyO1xufVxuZnVuY3Rpb24gaXNfcHJvbWlzZSh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHR5cGVvZiB2YWx1ZS50aGVuID09PSAnZnVuY3Rpb24nO1xufVxuZnVuY3Rpb24gYWRkX2xvY2F0aW9uKGVsZW1lbnQsIGZpbGUsIGxpbmUsIGNvbHVtbiwgY2hhcikge1xuICAgIGVsZW1lbnQuX19zdmVsdGVfbWV0YSA9IHtcbiAgICAgICAgbG9jOiB7IGZpbGUsIGxpbmUsIGNvbHVtbiwgY2hhciB9XG4gICAgfTtcbn1cbmZ1bmN0aW9uIHJ1bihmbikge1xuICAgIHJldHVybiBmbigpO1xufVxuZnVuY3Rpb24gYmxhbmtfb2JqZWN0KCkge1xuICAgIHJldHVybiBPYmplY3QuY3JlYXRlKG51bGwpO1xufVxuZnVuY3Rpb24gcnVuX2FsbChmbnMpIHtcbiAgICBmbnMuZm9yRWFjaChydW4pO1xufVxuZnVuY3Rpb24gaXNfZnVuY3Rpb24odGhpbmcpIHtcbiAgICByZXR1cm4gdHlwZW9mIHRoaW5nID09PSAnZnVuY3Rpb24nO1xufVxuZnVuY3Rpb24gc2FmZV9ub3RfZXF1YWwoYSwgYikge1xuICAgIHJldHVybiBhICE9IGEgPyBiID09IGIgOiBhICE9PSBiIHx8ICgoYSAmJiB0eXBlb2YgYSA9PT0gJ29iamVjdCcpIHx8IHR5cGVvZiBhID09PSAnZnVuY3Rpb24nKTtcbn1cbmxldCBzcmNfdXJsX2VxdWFsX2FuY2hvcjtcbmZ1bmN0aW9uIHNyY191cmxfZXF1YWwoZWxlbWVudF9zcmMsIHVybCkge1xuICAgIGlmICghc3JjX3VybF9lcXVhbF9hbmNob3IpIHtcbiAgICAgICAgc3JjX3VybF9lcXVhbF9hbmNob3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgfVxuICAgIHNyY191cmxfZXF1YWxfYW5jaG9yLmhyZWYgPSB1cmw7XG4gICAgcmV0dXJuIGVsZW1lbnRfc3JjID09PSBzcmNfdXJsX2VxdWFsX2FuY2hvci5ocmVmO1xufVxuZnVuY3Rpb24gbm90X2VxdWFsKGEsIGIpIHtcbiAgICByZXR1cm4gYSAhPSBhID8gYiA9PSBiIDogYSAhPT0gYjtcbn1cbmZ1bmN0aW9uIGlzX2VtcHR5KG9iaikge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhvYmopLmxlbmd0aCA9PT0gMDtcbn1cbmZ1bmN0aW9uIHZhbGlkYXRlX3N0b3JlKHN0b3JlLCBuYW1lKSB7XG4gICAgaWYgKHN0b3JlICE9IG51bGwgJiYgdHlwZW9mIHN0b3JlLnN1YnNjcmliZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYCcke25hbWV9JyBpcyBub3QgYSBzdG9yZSB3aXRoIGEgJ3N1YnNjcmliZScgbWV0aG9kYCk7XG4gICAgfVxufVxuZnVuY3Rpb24gc3Vic2NyaWJlKHN0b3JlLCAuLi5jYWxsYmFja3MpIHtcbiAgICBpZiAoc3RvcmUgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gbm9vcDtcbiAgICB9XG4gICAgY29uc3QgdW5zdWIgPSBzdG9yZS5zdWJzY3JpYmUoLi4uY2FsbGJhY2tzKTtcbiAgICByZXR1cm4gdW5zdWIudW5zdWJzY3JpYmUgPyAoKSA9PiB1bnN1Yi51bnN1YnNjcmliZSgpIDogdW5zdWI7XG59XG5mdW5jdGlvbiBnZXRfc3RvcmVfdmFsdWUoc3RvcmUpIHtcbiAgICBsZXQgdmFsdWU7XG4gICAgc3Vic2NyaWJlKHN0b3JlLCBfID0+IHZhbHVlID0gXykoKTtcbiAgICByZXR1cm4gdmFsdWU7XG59XG5mdW5jdGlvbiBjb21wb25lbnRfc3Vic2NyaWJlKGNvbXBvbmVudCwgc3RvcmUsIGNhbGxiYWNrKSB7XG4gICAgY29tcG9uZW50LiQkLm9uX2Rlc3Ryb3kucHVzaChzdWJzY3JpYmUoc3RvcmUsIGNhbGxiYWNrKSk7XG59XG5mdW5jdGlvbiBjcmVhdGVfc2xvdChkZWZpbml0aW9uLCBjdHgsICQkc2NvcGUsIGZuKSB7XG4gICAgaWYgKGRlZmluaXRpb24pIHtcbiAgICAgICAgY29uc3Qgc2xvdF9jdHggPSBnZXRfc2xvdF9jb250ZXh0KGRlZmluaXRpb24sIGN0eCwgJCRzY29wZSwgZm4pO1xuICAgICAgICByZXR1cm4gZGVmaW5pdGlvblswXShzbG90X2N0eCk7XG4gICAgfVxufVxuZnVuY3Rpb24gZ2V0X3Nsb3RfY29udGV4dChkZWZpbml0aW9uLCBjdHgsICQkc2NvcGUsIGZuKSB7XG4gICAgcmV0dXJuIGRlZmluaXRpb25bMV0gJiYgZm5cbiAgICAgICAgPyBhc3NpZ24oJCRzY29wZS5jdHguc2xpY2UoKSwgZGVmaW5pdGlvblsxXShmbihjdHgpKSlcbiAgICAgICAgOiAkJHNjb3BlLmN0eDtcbn1cbmZ1bmN0aW9uIGdldF9zbG90X2NoYW5nZXMoZGVmaW5pdGlvbiwgJCRzY29wZSwgZGlydHksIGZuKSB7XG4gICAgaWYgKGRlZmluaXRpb25bMl0gJiYgZm4pIHtcbiAgICAgICAgY29uc3QgbGV0cyA9IGRlZmluaXRpb25bMl0oZm4oZGlydHkpKTtcbiAgICAgICAgaWYgKCQkc2NvcGUuZGlydHkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIGxldHM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBsZXRzID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgY29uc3QgbWVyZ2VkID0gW107XG4gICAgICAgICAgICBjb25zdCBsZW4gPSBNYXRoLm1heCgkJHNjb3BlLmRpcnR5Lmxlbmd0aCwgbGV0cy5sZW5ndGgpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgIG1lcmdlZFtpXSA9ICQkc2NvcGUuZGlydHlbaV0gfCBsZXRzW2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG1lcmdlZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJCRzY29wZS5kaXJ0eSB8IGxldHM7XG4gICAgfVxuICAgIHJldHVybiAkJHNjb3BlLmRpcnR5O1xufVxuZnVuY3Rpb24gdXBkYXRlX3Nsb3RfYmFzZShzbG90LCBzbG90X2RlZmluaXRpb24sIGN0eCwgJCRzY29wZSwgc2xvdF9jaGFuZ2VzLCBnZXRfc2xvdF9jb250ZXh0X2ZuKSB7XG4gICAgaWYgKHNsb3RfY2hhbmdlcykge1xuICAgICAgICBjb25zdCBzbG90X2NvbnRleHQgPSBnZXRfc2xvdF9jb250ZXh0KHNsb3RfZGVmaW5pdGlvbiwgY3R4LCAkJHNjb3BlLCBnZXRfc2xvdF9jb250ZXh0X2ZuKTtcbiAgICAgICAgc2xvdC5wKHNsb3RfY29udGV4dCwgc2xvdF9jaGFuZ2VzKTtcbiAgICB9XG59XG5mdW5jdGlvbiB1cGRhdGVfc2xvdChzbG90LCBzbG90X2RlZmluaXRpb24sIGN0eCwgJCRzY29wZSwgZGlydHksIGdldF9zbG90X2NoYW5nZXNfZm4sIGdldF9zbG90X2NvbnRleHRfZm4pIHtcbiAgICBjb25zdCBzbG90X2NoYW5nZXMgPSBnZXRfc2xvdF9jaGFuZ2VzKHNsb3RfZGVmaW5pdGlvbiwgJCRzY29wZSwgZGlydHksIGdldF9zbG90X2NoYW5nZXNfZm4pO1xuICAgIHVwZGF0ZV9zbG90X2Jhc2Uoc2xvdCwgc2xvdF9kZWZpbml0aW9uLCBjdHgsICQkc2NvcGUsIHNsb3RfY2hhbmdlcywgZ2V0X3Nsb3RfY29udGV4dF9mbik7XG59XG5mdW5jdGlvbiBnZXRfYWxsX2RpcnR5X2Zyb21fc2NvcGUoJCRzY29wZSkge1xuICAgIGlmICgkJHNjb3BlLmN0eC5sZW5ndGggPiAzMikge1xuICAgICAgICBjb25zdCBkaXJ0eSA9IFtdO1xuICAgICAgICBjb25zdCBsZW5ndGggPSAkJHNjb3BlLmN0eC5sZW5ndGggLyAzMjtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZGlydHlbaV0gPSAtMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGlydHk7XG4gICAgfVxuICAgIHJldHVybiAtMTtcbn1cbmZ1bmN0aW9uIGV4Y2x1ZGVfaW50ZXJuYWxfcHJvcHMocHJvcHMpIHtcbiAgICBjb25zdCByZXN1bHQgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGsgaW4gcHJvcHMpXG4gICAgICAgIGlmIChrWzBdICE9PSAnJCcpXG4gICAgICAgICAgICByZXN1bHRba10gPSBwcm9wc1trXTtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gY29tcHV0ZV9yZXN0X3Byb3BzKHByb3BzLCBrZXlzKSB7XG4gICAgY29uc3QgcmVzdCA9IHt9O1xuICAgIGtleXMgPSBuZXcgU2V0KGtleXMpO1xuICAgIGZvciAoY29uc3QgayBpbiBwcm9wcylcbiAgICAgICAgaWYgKCFrZXlzLmhhcyhrKSAmJiBrWzBdICE9PSAnJCcpXG4gICAgICAgICAgICByZXN0W2tdID0gcHJvcHNba107XG4gICAgcmV0dXJuIHJlc3Q7XG59XG5mdW5jdGlvbiBjb21wdXRlX3Nsb3RzKHNsb3RzKSB7XG4gICAgY29uc3QgcmVzdWx0ID0ge307XG4gICAgZm9yIChjb25zdCBrZXkgaW4gc2xvdHMpIHtcbiAgICAgICAgcmVzdWx0W2tleV0gPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gb25jZShmbikge1xuICAgIGxldCByYW4gPSBmYWxzZTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICAgICAgaWYgKHJhbilcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgcmFuID0gdHJ1ZTtcbiAgICAgICAgZm4uY2FsbCh0aGlzLCAuLi5hcmdzKTtcbiAgICB9O1xufVxuZnVuY3Rpb24gbnVsbF90b19lbXB0eSh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSA9PSBudWxsID8gJycgOiB2YWx1ZTtcbn1cbmZ1bmN0aW9uIHNldF9zdG9yZV92YWx1ZShzdG9yZSwgcmV0LCB2YWx1ZSkge1xuICAgIHN0b3JlLnNldCh2YWx1ZSk7XG4gICAgcmV0dXJuIHJldDtcbn1cbmNvbnN0IGhhc19wcm9wID0gKG9iaiwgcHJvcCkgPT4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCk7XG5mdW5jdGlvbiBhY3Rpb25fZGVzdHJveWVyKGFjdGlvbl9yZXN1bHQpIHtcbiAgICByZXR1cm4gYWN0aW9uX3Jlc3VsdCAmJiBpc19mdW5jdGlvbihhY3Rpb25fcmVzdWx0LmRlc3Ryb3kpID8gYWN0aW9uX3Jlc3VsdC5kZXN0cm95IDogbm9vcDtcbn1cblxuY29uc3QgaXNfY2xpZW50ID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCc7XG5sZXQgbm93ID0gaXNfY2xpZW50XG4gICAgPyAoKSA9PiB3aW5kb3cucGVyZm9ybWFuY2Uubm93KClcbiAgICA6ICgpID0+IERhdGUubm93KCk7XG5sZXQgcmFmID0gaXNfY2xpZW50ID8gY2IgPT4gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGNiKSA6IG5vb3A7XG4vLyB1c2VkIGludGVybmFsbHkgZm9yIHRlc3RpbmdcbmZ1bmN0aW9uIHNldF9ub3coZm4pIHtcbiAgICBub3cgPSBmbjtcbn1cbmZ1bmN0aW9uIHNldF9yYWYoZm4pIHtcbiAgICByYWYgPSBmbjtcbn1cblxuY29uc3QgdGFza3MgPSBuZXcgU2V0KCk7XG5mdW5jdGlvbiBydW5fdGFza3Mobm93KSB7XG4gICAgdGFza3MuZm9yRWFjaCh0YXNrID0+IHtcbiAgICAgICAgaWYgKCF0YXNrLmMobm93KSkge1xuICAgICAgICAgICAgdGFza3MuZGVsZXRlKHRhc2spO1xuICAgICAgICAgICAgdGFzay5mKCk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAodGFza3Muc2l6ZSAhPT0gMClcbiAgICAgICAgcmFmKHJ1bl90YXNrcyk7XG59XG4vKipcbiAqIEZvciB0ZXN0aW5nIHB1cnBvc2VzIG9ubHkhXG4gKi9cbmZ1bmN0aW9uIGNsZWFyX2xvb3BzKCkge1xuICAgIHRhc2tzLmNsZWFyKCk7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgdGFzayB0aGF0IHJ1bnMgb24gZWFjaCByYWYgZnJhbWVcbiAqIHVudGlsIGl0IHJldHVybnMgYSBmYWxzeSB2YWx1ZSBvciBpcyBhYm9ydGVkXG4gKi9cbmZ1bmN0aW9uIGxvb3AoY2FsbGJhY2spIHtcbiAgICBsZXQgdGFzaztcbiAgICBpZiAodGFza3Muc2l6ZSA9PT0gMClcbiAgICAgICAgcmFmKHJ1bl90YXNrcyk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcHJvbWlzZTogbmV3IFByb21pc2UoZnVsZmlsbCA9PiB7XG4gICAgICAgICAgICB0YXNrcy5hZGQodGFzayA9IHsgYzogY2FsbGJhY2ssIGY6IGZ1bGZpbGwgfSk7XG4gICAgICAgIH0pLFxuICAgICAgICBhYm9ydCgpIHtcbiAgICAgICAgICAgIHRhc2tzLmRlbGV0ZSh0YXNrKTtcbiAgICAgICAgfVxuICAgIH07XG59XG5cbi8vIFRyYWNrIHdoaWNoIG5vZGVzIGFyZSBjbGFpbWVkIGR1cmluZyBoeWRyYXRpb24uIFVuY2xhaW1lZCBub2RlcyBjYW4gdGhlbiBiZSByZW1vdmVkIGZyb20gdGhlIERPTVxuLy8gYXQgdGhlIGVuZCBvZiBoeWRyYXRpb24gd2l0aG91dCB0b3VjaGluZyB0aGUgcmVtYWluaW5nIG5vZGVzLlxubGV0IGlzX2h5ZHJhdGluZyA9IGZhbHNlO1xuZnVuY3Rpb24gc3RhcnRfaHlkcmF0aW5nKCkge1xuICAgIGlzX2h5ZHJhdGluZyA9IHRydWU7XG59XG5mdW5jdGlvbiBlbmRfaHlkcmF0aW5nKCkge1xuICAgIGlzX2h5ZHJhdGluZyA9IGZhbHNlO1xufVxuZnVuY3Rpb24gdXBwZXJfYm91bmQobG93LCBoaWdoLCBrZXksIHZhbHVlKSB7XG4gICAgLy8gUmV0dXJuIGZpcnN0IGluZGV4IG9mIHZhbHVlIGxhcmdlciB0aGFuIGlucHV0IHZhbHVlIGluIHRoZSByYW5nZSBbbG93LCBoaWdoKVxuICAgIHdoaWxlIChsb3cgPCBoaWdoKSB7XG4gICAgICAgIGNvbnN0IG1pZCA9IGxvdyArICgoaGlnaCAtIGxvdykgPj4gMSk7XG4gICAgICAgIGlmIChrZXkobWlkKSA8PSB2YWx1ZSkge1xuICAgICAgICAgICAgbG93ID0gbWlkICsgMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGhpZ2ggPSBtaWQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGxvdztcbn1cbmZ1bmN0aW9uIGluaXRfaHlkcmF0ZSh0YXJnZXQpIHtcbiAgICBpZiAodGFyZ2V0Lmh5ZHJhdGVfaW5pdClcbiAgICAgICAgcmV0dXJuO1xuICAgIHRhcmdldC5oeWRyYXRlX2luaXQgPSB0cnVlO1xuICAgIC8vIFdlIGtub3cgdGhhdCBhbGwgY2hpbGRyZW4gaGF2ZSBjbGFpbV9vcmRlciB2YWx1ZXMgc2luY2UgdGhlIHVuY2xhaW1lZCBoYXZlIGJlZW4gZGV0YWNoZWQgaWYgdGFyZ2V0IGlzIG5vdCA8aGVhZD5cbiAgICBsZXQgY2hpbGRyZW4gPSB0YXJnZXQuY2hpbGROb2RlcztcbiAgICAvLyBJZiB0YXJnZXQgaXMgPGhlYWQ+LCB0aGVyZSBtYXkgYmUgY2hpbGRyZW4gd2l0aG91dCBjbGFpbV9vcmRlclxuICAgIGlmICh0YXJnZXQubm9kZU5hbWUgPT09ICdIRUFEJykge1xuICAgICAgICBjb25zdCBteUNoaWxkcmVuID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IG5vZGUgPSBjaGlsZHJlbltpXTtcbiAgICAgICAgICAgIGlmIChub2RlLmNsYWltX29yZGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBteUNoaWxkcmVuLnB1c2gobm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2hpbGRyZW4gPSBteUNoaWxkcmVuO1xuICAgIH1cbiAgICAvKlxuICAgICogUmVvcmRlciBjbGFpbWVkIGNoaWxkcmVuIG9wdGltYWxseS5cbiAgICAqIFdlIGNhbiByZW9yZGVyIGNsYWltZWQgY2hpbGRyZW4gb3B0aW1hbGx5IGJ5IGZpbmRpbmcgdGhlIGxvbmdlc3Qgc3Vic2VxdWVuY2Ugb2ZcbiAgICAqIG5vZGVzIHRoYXQgYXJlIGFscmVhZHkgY2xhaW1lZCBpbiBvcmRlciBhbmQgb25seSBtb3ZpbmcgdGhlIHJlc3QuIFRoZSBsb25nZXN0XG4gICAgKiBzdWJzZXF1ZW5jZSBzdWJzZXF1ZW5jZSBvZiBub2RlcyB0aGF0IGFyZSBjbGFpbWVkIGluIG9yZGVyIGNhbiBiZSBmb3VuZCBieVxuICAgICogY29tcHV0aW5nIHRoZSBsb25nZXN0IGluY3JlYXNpbmcgc3Vic2VxdWVuY2Ugb2YgLmNsYWltX29yZGVyIHZhbHVlcy5cbiAgICAqXG4gICAgKiBUaGlzIGFsZ29yaXRobSBpcyBvcHRpbWFsIGluIGdlbmVyYXRpbmcgdGhlIGxlYXN0IGFtb3VudCBvZiByZW9yZGVyIG9wZXJhdGlvbnNcbiAgICAqIHBvc3NpYmxlLlxuICAgICpcbiAgICAqIFByb29mOlxuICAgICogV2Uga25vdyB0aGF0LCBnaXZlbiBhIHNldCBvZiByZW9yZGVyaW5nIG9wZXJhdGlvbnMsIHRoZSBub2RlcyB0aGF0IGRvIG5vdCBtb3ZlXG4gICAgKiBhbHdheXMgZm9ybSBhbiBpbmNyZWFzaW5nIHN1YnNlcXVlbmNlLCBzaW5jZSB0aGV5IGRvIG5vdCBtb3ZlIGFtb25nIGVhY2ggb3RoZXJcbiAgICAqIG1lYW5pbmcgdGhhdCB0aGV5IG11c3QgYmUgYWxyZWFkeSBvcmRlcmVkIGFtb25nIGVhY2ggb3RoZXIuIFRodXMsIHRoZSBtYXhpbWFsXG4gICAgKiBzZXQgb2Ygbm9kZXMgdGhhdCBkbyBub3QgbW92ZSBmb3JtIGEgbG9uZ2VzdCBpbmNyZWFzaW5nIHN1YnNlcXVlbmNlLlxuICAgICovXG4gICAgLy8gQ29tcHV0ZSBsb25nZXN0IGluY3JlYXNpbmcgc3Vic2VxdWVuY2VcbiAgICAvLyBtOiBzdWJzZXF1ZW5jZSBsZW5ndGggaiA9PiBpbmRleCBrIG9mIHNtYWxsZXN0IHZhbHVlIHRoYXQgZW5kcyBhbiBpbmNyZWFzaW5nIHN1YnNlcXVlbmNlIG9mIGxlbmd0aCBqXG4gICAgY29uc3QgbSA9IG5ldyBJbnQzMkFycmF5KGNoaWxkcmVuLmxlbmd0aCArIDEpO1xuICAgIC8vIFByZWRlY2Vzc29yIGluZGljZXMgKyAxXG4gICAgY29uc3QgcCA9IG5ldyBJbnQzMkFycmF5KGNoaWxkcmVuLmxlbmd0aCk7XG4gICAgbVswXSA9IC0xO1xuICAgIGxldCBsb25nZXN0ID0gMDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnQgPSBjaGlsZHJlbltpXS5jbGFpbV9vcmRlcjtcbiAgICAgICAgLy8gRmluZCB0aGUgbGFyZ2VzdCBzdWJzZXF1ZW5jZSBsZW5ndGggc3VjaCB0aGF0IGl0IGVuZHMgaW4gYSB2YWx1ZSBsZXNzIHRoYW4gb3VyIGN1cnJlbnQgdmFsdWVcbiAgICAgICAgLy8gdXBwZXJfYm91bmQgcmV0dXJucyBmaXJzdCBncmVhdGVyIHZhbHVlLCBzbyB3ZSBzdWJ0cmFjdCBvbmVcbiAgICAgICAgLy8gd2l0aCBmYXN0IHBhdGggZm9yIHdoZW4gd2UgYXJlIG9uIHRoZSBjdXJyZW50IGxvbmdlc3Qgc3Vic2VxdWVuY2VcbiAgICAgICAgY29uc3Qgc2VxTGVuID0gKChsb25nZXN0ID4gMCAmJiBjaGlsZHJlblttW2xvbmdlc3RdXS5jbGFpbV9vcmRlciA8PSBjdXJyZW50KSA/IGxvbmdlc3QgKyAxIDogdXBwZXJfYm91bmQoMSwgbG9uZ2VzdCwgaWR4ID0+IGNoaWxkcmVuW21baWR4XV0uY2xhaW1fb3JkZXIsIGN1cnJlbnQpKSAtIDE7XG4gICAgICAgIHBbaV0gPSBtW3NlcUxlbl0gKyAxO1xuICAgICAgICBjb25zdCBuZXdMZW4gPSBzZXFMZW4gKyAxO1xuICAgICAgICAvLyBXZSBjYW4gZ3VhcmFudGVlIHRoYXQgY3VycmVudCBpcyB0aGUgc21hbGxlc3QgdmFsdWUuIE90aGVyd2lzZSwgd2Ugd291bGQgaGF2ZSBnZW5lcmF0ZWQgYSBsb25nZXIgc2VxdWVuY2UuXG4gICAgICAgIG1bbmV3TGVuXSA9IGk7XG4gICAgICAgIGxvbmdlc3QgPSBNYXRoLm1heChuZXdMZW4sIGxvbmdlc3QpO1xuICAgIH1cbiAgICAvLyBUaGUgbG9uZ2VzdCBpbmNyZWFzaW5nIHN1YnNlcXVlbmNlIG9mIG5vZGVzIChpbml0aWFsbHkgcmV2ZXJzZWQpXG4gICAgY29uc3QgbGlzID0gW107XG4gICAgLy8gVGhlIHJlc3Qgb2YgdGhlIG5vZGVzLCBub2RlcyB0aGF0IHdpbGwgYmUgbW92ZWRcbiAgICBjb25zdCB0b01vdmUgPSBbXTtcbiAgICBsZXQgbGFzdCA9IGNoaWxkcmVuLmxlbmd0aCAtIDE7XG4gICAgZm9yIChsZXQgY3VyID0gbVtsb25nZXN0XSArIDE7IGN1ciAhPSAwOyBjdXIgPSBwW2N1ciAtIDFdKSB7XG4gICAgICAgIGxpcy5wdXNoKGNoaWxkcmVuW2N1ciAtIDFdKTtcbiAgICAgICAgZm9yICg7IGxhc3QgPj0gY3VyOyBsYXN0LS0pIHtcbiAgICAgICAgICAgIHRvTW92ZS5wdXNoKGNoaWxkcmVuW2xhc3RdKTtcbiAgICAgICAgfVxuICAgICAgICBsYXN0LS07XG4gICAgfVxuICAgIGZvciAoOyBsYXN0ID49IDA7IGxhc3QtLSkge1xuICAgICAgICB0b01vdmUucHVzaChjaGlsZHJlbltsYXN0XSk7XG4gICAgfVxuICAgIGxpcy5yZXZlcnNlKCk7XG4gICAgLy8gV2Ugc29ydCB0aGUgbm9kZXMgYmVpbmcgbW92ZWQgdG8gZ3VhcmFudGVlIHRoYXQgdGhlaXIgaW5zZXJ0aW9uIG9yZGVyIG1hdGNoZXMgdGhlIGNsYWltIG9yZGVyXG4gICAgdG9Nb3ZlLnNvcnQoKGEsIGIpID0+IGEuY2xhaW1fb3JkZXIgLSBiLmNsYWltX29yZGVyKTtcbiAgICAvLyBGaW5hbGx5LCB3ZSBtb3ZlIHRoZSBub2Rlc1xuICAgIGZvciAobGV0IGkgPSAwLCBqID0gMDsgaSA8IHRvTW92ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICB3aGlsZSAoaiA8IGxpcy5sZW5ndGggJiYgdG9Nb3ZlW2ldLmNsYWltX29yZGVyID49IGxpc1tqXS5jbGFpbV9vcmRlcikge1xuICAgICAgICAgICAgaisrO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGFuY2hvciA9IGogPCBsaXMubGVuZ3RoID8gbGlzW2pdIDogbnVsbDtcbiAgICAgICAgdGFyZ2V0Lmluc2VydEJlZm9yZSh0b01vdmVbaV0sIGFuY2hvcik7XG4gICAgfVxufVxuZnVuY3Rpb24gYXBwZW5kKHRhcmdldCwgbm9kZSkge1xuICAgIHRhcmdldC5hcHBlbmRDaGlsZChub2RlKTtcbn1cbmZ1bmN0aW9uIGFwcGVuZF9zdHlsZXModGFyZ2V0LCBzdHlsZV9zaGVldF9pZCwgc3R5bGVzKSB7XG4gICAgY29uc3QgYXBwZW5kX3N0eWxlc190byA9IGdldF9yb290X2Zvcl9zdHlsZSh0YXJnZXQpO1xuICAgIGlmICghYXBwZW5kX3N0eWxlc190by5nZXRFbGVtZW50QnlJZChzdHlsZV9zaGVldF9pZCkpIHtcbiAgICAgICAgY29uc3Qgc3R5bGUgPSBlbGVtZW50KCdzdHlsZScpO1xuICAgICAgICBzdHlsZS5pZCA9IHN0eWxlX3NoZWV0X2lkO1xuICAgICAgICBzdHlsZS50ZXh0Q29udGVudCA9IHN0eWxlcztcbiAgICAgICAgYXBwZW5kX3N0eWxlc2hlZXQoYXBwZW5kX3N0eWxlc190bywgc3R5bGUpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGdldF9yb290X2Zvcl9zdHlsZShub2RlKSB7XG4gICAgaWYgKCFub2RlKVxuICAgICAgICByZXR1cm4gZG9jdW1lbnQ7XG4gICAgY29uc3Qgcm9vdCA9IG5vZGUuZ2V0Um9vdE5vZGUgPyBub2RlLmdldFJvb3ROb2RlKCkgOiBub2RlLm93bmVyRG9jdW1lbnQ7XG4gICAgaWYgKHJvb3QgJiYgcm9vdC5ob3N0KSB7XG4gICAgICAgIHJldHVybiByb290O1xuICAgIH1cbiAgICByZXR1cm4gbm9kZS5vd25lckRvY3VtZW50O1xufVxuZnVuY3Rpb24gYXBwZW5kX2VtcHR5X3N0eWxlc2hlZXQobm9kZSkge1xuICAgIGNvbnN0IHN0eWxlX2VsZW1lbnQgPSBlbGVtZW50KCdzdHlsZScpO1xuICAgIGFwcGVuZF9zdHlsZXNoZWV0KGdldF9yb290X2Zvcl9zdHlsZShub2RlKSwgc3R5bGVfZWxlbWVudCk7XG4gICAgcmV0dXJuIHN0eWxlX2VsZW1lbnQuc2hlZXQ7XG59XG5mdW5jdGlvbiBhcHBlbmRfc3R5bGVzaGVldChub2RlLCBzdHlsZSkge1xuICAgIGFwcGVuZChub2RlLmhlYWQgfHwgbm9kZSwgc3R5bGUpO1xufVxuZnVuY3Rpb24gYXBwZW5kX2h5ZHJhdGlvbih0YXJnZXQsIG5vZGUpIHtcbiAgICBpZiAoaXNfaHlkcmF0aW5nKSB7XG4gICAgICAgIGluaXRfaHlkcmF0ZSh0YXJnZXQpO1xuICAgICAgICBpZiAoKHRhcmdldC5hY3R1YWxfZW5kX2NoaWxkID09PSB1bmRlZmluZWQpIHx8ICgodGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQgIT09IG51bGwpICYmICh0YXJnZXQuYWN0dWFsX2VuZF9jaGlsZC5wYXJlbnRFbGVtZW50ICE9PSB0YXJnZXQpKSkge1xuICAgICAgICAgICAgdGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQgPSB0YXJnZXQuZmlyc3RDaGlsZDtcbiAgICAgICAgfVxuICAgICAgICAvLyBTa2lwIG5vZGVzIG9mIHVuZGVmaW5lZCBvcmRlcmluZ1xuICAgICAgICB3aGlsZSAoKHRhcmdldC5hY3R1YWxfZW5kX2NoaWxkICE9PSBudWxsKSAmJiAodGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQuY2xhaW1fb3JkZXIgPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgICAgIHRhcmdldC5hY3R1YWxfZW5kX2NoaWxkID0gdGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQubmV4dFNpYmxpbmc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5vZGUgIT09IHRhcmdldC5hY3R1YWxfZW5kX2NoaWxkKSB7XG4gICAgICAgICAgICAvLyBXZSBvbmx5IGluc2VydCBpZiB0aGUgb3JkZXJpbmcgb2YgdGhpcyBub2RlIHNob3VsZCBiZSBtb2RpZmllZCBvciB0aGUgcGFyZW50IG5vZGUgaXMgbm90IHRhcmdldFxuICAgICAgICAgICAgaWYgKG5vZGUuY2xhaW1fb3JkZXIgIT09IHVuZGVmaW5lZCB8fCBub2RlLnBhcmVudE5vZGUgIT09IHRhcmdldCkge1xuICAgICAgICAgICAgICAgIHRhcmdldC5pbnNlcnRCZWZvcmUobm9kZSwgdGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQgPSBub2RlLm5leHRTaWJsaW5nO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKG5vZGUucGFyZW50Tm9kZSAhPT0gdGFyZ2V0IHx8IG5vZGUubmV4dFNpYmxpbmcgIT09IG51bGwpIHtcbiAgICAgICAgdGFyZ2V0LmFwcGVuZENoaWxkKG5vZGUpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGluc2VydCh0YXJnZXQsIG5vZGUsIGFuY2hvcikge1xuICAgIHRhcmdldC5pbnNlcnRCZWZvcmUobm9kZSwgYW5jaG9yIHx8IG51bGwpO1xufVxuZnVuY3Rpb24gaW5zZXJ0X2h5ZHJhdGlvbih0YXJnZXQsIG5vZGUsIGFuY2hvcikge1xuICAgIGlmIChpc19oeWRyYXRpbmcgJiYgIWFuY2hvcikge1xuICAgICAgICBhcHBlbmRfaHlkcmF0aW9uKHRhcmdldCwgbm9kZSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKG5vZGUucGFyZW50Tm9kZSAhPT0gdGFyZ2V0IHx8IG5vZGUubmV4dFNpYmxpbmcgIT0gYW5jaG9yKSB7XG4gICAgICAgIHRhcmdldC5pbnNlcnRCZWZvcmUobm9kZSwgYW5jaG9yIHx8IG51bGwpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGRldGFjaChub2RlKSB7XG4gICAgbm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG5vZGUpO1xufVxuZnVuY3Rpb24gZGVzdHJveV9lYWNoKGl0ZXJhdGlvbnMsIGRldGFjaGluZykge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaXRlcmF0aW9ucy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBpZiAoaXRlcmF0aW9uc1tpXSlcbiAgICAgICAgICAgIGl0ZXJhdGlvbnNbaV0uZChkZXRhY2hpbmcpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGVsZW1lbnQobmFtZSkge1xuICAgIHJldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KG5hbWUpO1xufVxuZnVuY3Rpb24gZWxlbWVudF9pcyhuYW1lLCBpcykge1xuICAgIHJldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KG5hbWUsIHsgaXMgfSk7XG59XG5mdW5jdGlvbiBvYmplY3Rfd2l0aG91dF9wcm9wZXJ0aWVzKG9iaiwgZXhjbHVkZSkge1xuICAgIGNvbnN0IHRhcmdldCA9IHt9O1xuICAgIGZvciAoY29uc3QgayBpbiBvYmopIHtcbiAgICAgICAgaWYgKGhhc19wcm9wKG9iaiwgaylcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgICYmIGV4Y2x1ZGUuaW5kZXhPZihrKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIHRhcmdldFtrXSA9IG9ialtrXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGFyZ2V0O1xufVxuZnVuY3Rpb24gc3ZnX2VsZW1lbnQobmFtZSkge1xuICAgIHJldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgbmFtZSk7XG59XG5mdW5jdGlvbiB0ZXh0KGRhdGEpIHtcbiAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoZGF0YSk7XG59XG5mdW5jdGlvbiBzcGFjZSgpIHtcbiAgICByZXR1cm4gdGV4dCgnICcpO1xufVxuZnVuY3Rpb24gZW1wdHkoKSB7XG4gICAgcmV0dXJuIHRleHQoJycpO1xufVxuZnVuY3Rpb24gbGlzdGVuKG5vZGUsIGV2ZW50LCBoYW5kbGVyLCBvcHRpb25zKSB7XG4gICAgbm9kZS5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBoYW5kbGVyLCBvcHRpb25zKTtcbiAgICByZXR1cm4gKCkgPT4gbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCBoYW5kbGVyLCBvcHRpb25zKTtcbn1cbmZ1bmN0aW9uIHByZXZlbnRfZGVmYXVsdChmbikge1xuICAgIHJldHVybiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICByZXR1cm4gZm4uY2FsbCh0aGlzLCBldmVudCk7XG4gICAgfTtcbn1cbmZ1bmN0aW9uIHN0b3BfcHJvcGFnYXRpb24oZm4pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIHJldHVybiBmbi5jYWxsKHRoaXMsIGV2ZW50KTtcbiAgICB9O1xufVxuZnVuY3Rpb24gc2VsZihmbikge1xuICAgIHJldHVybiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBpZiAoZXZlbnQudGFyZ2V0ID09PSB0aGlzKVxuICAgICAgICAgICAgZm4uY2FsbCh0aGlzLCBldmVudCk7XG4gICAgfTtcbn1cbmZ1bmN0aW9uIHRydXN0ZWQoZm4pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgaWYgKGV2ZW50LmlzVHJ1c3RlZClcbiAgICAgICAgICAgIGZuLmNhbGwodGhpcywgZXZlbnQpO1xuICAgIH07XG59XG5mdW5jdGlvbiBhdHRyKG5vZGUsIGF0dHJpYnV0ZSwgdmFsdWUpIHtcbiAgICBpZiAodmFsdWUgPT0gbnVsbClcbiAgICAgICAgbm9kZS5yZW1vdmVBdHRyaWJ1dGUoYXR0cmlidXRlKTtcbiAgICBlbHNlIGlmIChub2RlLmdldEF0dHJpYnV0ZShhdHRyaWJ1dGUpICE9PSB2YWx1ZSlcbiAgICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUoYXR0cmlidXRlLCB2YWx1ZSk7XG59XG5mdW5jdGlvbiBzZXRfYXR0cmlidXRlcyhub2RlLCBhdHRyaWJ1dGVzKSB7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGNvbnN0IGRlc2NyaXB0b3JzID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobm9kZS5fX3Byb3RvX18pO1xuICAgIGZvciAoY29uc3Qga2V5IGluIGF0dHJpYnV0ZXMpIHtcbiAgICAgICAgaWYgKGF0dHJpYnV0ZXNba2V5XSA9PSBudWxsKSB7XG4gICAgICAgICAgICBub2RlLnJlbW92ZUF0dHJpYnV0ZShrZXkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGtleSA9PT0gJ3N0eWxlJykge1xuICAgICAgICAgICAgbm9kZS5zdHlsZS5jc3NUZXh0ID0gYXR0cmlidXRlc1trZXldO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGtleSA9PT0gJ19fdmFsdWUnKSB7XG4gICAgICAgICAgICBub2RlLnZhbHVlID0gbm9kZVtrZXldID0gYXR0cmlidXRlc1trZXldO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRlc2NyaXB0b3JzW2tleV0gJiYgZGVzY3JpcHRvcnNba2V5XS5zZXQpIHtcbiAgICAgICAgICAgIG5vZGVba2V5XSA9IGF0dHJpYnV0ZXNba2V5XTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGF0dHIobm9kZSwga2V5LCBhdHRyaWJ1dGVzW2tleV0pO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gc2V0X3N2Z19hdHRyaWJ1dGVzKG5vZGUsIGF0dHJpYnV0ZXMpIHtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBhdHRyaWJ1dGVzKSB7XG4gICAgICAgIGF0dHIobm9kZSwga2V5LCBhdHRyaWJ1dGVzW2tleV0pO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHNldF9jdXN0b21fZWxlbWVudF9kYXRhKG5vZGUsIHByb3AsIHZhbHVlKSB7XG4gICAgaWYgKHByb3AgaW4gbm9kZSkge1xuICAgICAgICBub2RlW3Byb3BdID0gdHlwZW9mIG5vZGVbcHJvcF0gPT09ICdib29sZWFuJyAmJiB2YWx1ZSA9PT0gJycgPyB0cnVlIDogdmFsdWU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBhdHRyKG5vZGUsIHByb3AsIHZhbHVlKTtcbiAgICB9XG59XG5mdW5jdGlvbiB4bGlua19hdHRyKG5vZGUsIGF0dHJpYnV0ZSwgdmFsdWUpIHtcbiAgICBub2RlLnNldEF0dHJpYnV0ZU5TKCdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJywgYXR0cmlidXRlLCB2YWx1ZSk7XG59XG5mdW5jdGlvbiBnZXRfYmluZGluZ19ncm91cF92YWx1ZShncm91cCwgX192YWx1ZSwgY2hlY2tlZCkge1xuICAgIGNvbnN0IHZhbHVlID0gbmV3IFNldCgpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZ3JvdXAubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgaWYgKGdyb3VwW2ldLmNoZWNrZWQpXG4gICAgICAgICAgICB2YWx1ZS5hZGQoZ3JvdXBbaV0uX192YWx1ZSk7XG4gICAgfVxuICAgIGlmICghY2hlY2tlZCkge1xuICAgICAgICB2YWx1ZS5kZWxldGUoX192YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiBBcnJheS5mcm9tKHZhbHVlKTtcbn1cbmZ1bmN0aW9uIHRvX251bWJlcih2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gJycgPyBudWxsIDogK3ZhbHVlO1xufVxuZnVuY3Rpb24gdGltZV9yYW5nZXNfdG9fYXJyYXkocmFuZ2VzKSB7XG4gICAgY29uc3QgYXJyYXkgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJhbmdlcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBhcnJheS5wdXNoKHsgc3RhcnQ6IHJhbmdlcy5zdGFydChpKSwgZW5kOiByYW5nZXMuZW5kKGkpIH0pO1xuICAgIH1cbiAgICByZXR1cm4gYXJyYXk7XG59XG5mdW5jdGlvbiBjaGlsZHJlbihlbGVtZW50KSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20oZWxlbWVudC5jaGlsZE5vZGVzKTtcbn1cbmZ1bmN0aW9uIGluaXRfY2xhaW1faW5mbyhub2Rlcykge1xuICAgIGlmIChub2Rlcy5jbGFpbV9pbmZvID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbm9kZXMuY2xhaW1faW5mbyA9IHsgbGFzdF9pbmRleDogMCwgdG90YWxfY2xhaW1lZDogMCB9O1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNsYWltX25vZGUobm9kZXMsIHByZWRpY2F0ZSwgcHJvY2Vzc05vZGUsIGNyZWF0ZU5vZGUsIGRvbnRVcGRhdGVMYXN0SW5kZXggPSBmYWxzZSkge1xuICAgIC8vIFRyeSB0byBmaW5kIG5vZGVzIGluIGFuIG9yZGVyIHN1Y2ggdGhhdCB3ZSBsZW5ndGhlbiB0aGUgbG9uZ2VzdCBpbmNyZWFzaW5nIHN1YnNlcXVlbmNlXG4gICAgaW5pdF9jbGFpbV9pbmZvKG5vZGVzKTtcbiAgICBjb25zdCByZXN1bHROb2RlID0gKCgpID0+IHtcbiAgICAgICAgLy8gV2UgZmlyc3QgdHJ5IHRvIGZpbmQgYW4gZWxlbWVudCBhZnRlciB0aGUgcHJldmlvdXMgb25lXG4gICAgICAgIGZvciAobGV0IGkgPSBub2Rlcy5jbGFpbV9pbmZvLmxhc3RfaW5kZXg7IGkgPCBub2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3Qgbm9kZSA9IG5vZGVzW2ldO1xuICAgICAgICAgICAgaWYgKHByZWRpY2F0ZShub2RlKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlcGxhY2VtZW50ID0gcHJvY2Vzc05vZGUobm9kZSk7XG4gICAgICAgICAgICAgICAgaWYgKHJlcGxhY2VtZW50ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZXMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZXNbaV0gPSByZXBsYWNlbWVudDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFkb250VXBkYXRlTGFzdEluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIG5vZGVzLmNsYWltX2luZm8ubGFzdF9pbmRleCA9IGk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIE90aGVyd2lzZSwgd2UgdHJ5IHRvIGZpbmQgb25lIGJlZm9yZVxuICAgICAgICAvLyBXZSBpdGVyYXRlIGluIHJldmVyc2Ugc28gdGhhdCB3ZSBkb24ndCBnbyB0b28gZmFyIGJhY2tcbiAgICAgICAgZm9yIChsZXQgaSA9IG5vZGVzLmNsYWltX2luZm8ubGFzdF9pbmRleCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICBjb25zdCBub2RlID0gbm9kZXNbaV07XG4gICAgICAgICAgICBpZiAocHJlZGljYXRlKG5vZGUpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVwbGFjZW1lbnQgPSBwcm9jZXNzTm9kZShub2RlKTtcbiAgICAgICAgICAgICAgICBpZiAocmVwbGFjZW1lbnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBub2Rlcy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBub2Rlc1tpXSA9IHJlcGxhY2VtZW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIWRvbnRVcGRhdGVMYXN0SW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZXMuY2xhaW1faW5mby5sYXN0X2luZGV4ID0gaTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAocmVwbGFjZW1lbnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBTaW5jZSB3ZSBzcGxpY2VkIGJlZm9yZSB0aGUgbGFzdF9pbmRleCwgd2UgZGVjcmVhc2UgaXRcbiAgICAgICAgICAgICAgICAgICAgbm9kZXMuY2xhaW1faW5mby5sYXN0X2luZGV4LS07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIElmIHdlIGNhbid0IGZpbmQgYW55IG1hdGNoaW5nIG5vZGUsIHdlIGNyZWF0ZSBhIG5ldyBvbmVcbiAgICAgICAgcmV0dXJuIGNyZWF0ZU5vZGUoKTtcbiAgICB9KSgpO1xuICAgIHJlc3VsdE5vZGUuY2xhaW1fb3JkZXIgPSBub2Rlcy5jbGFpbV9pbmZvLnRvdGFsX2NsYWltZWQ7XG4gICAgbm9kZXMuY2xhaW1faW5mby50b3RhbF9jbGFpbWVkICs9IDE7XG4gICAgcmV0dXJuIHJlc3VsdE5vZGU7XG59XG5mdW5jdGlvbiBjbGFpbV9lbGVtZW50X2Jhc2Uobm9kZXMsIG5hbWUsIGF0dHJpYnV0ZXMsIGNyZWF0ZV9lbGVtZW50KSB7XG4gICAgcmV0dXJuIGNsYWltX25vZGUobm9kZXMsIChub2RlKSA9PiBub2RlLm5vZGVOYW1lID09PSBuYW1lLCAobm9kZSkgPT4ge1xuICAgICAgICBjb25zdCByZW1vdmUgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBub2RlLmF0dHJpYnV0ZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGF0dHJpYnV0ZSA9IG5vZGUuYXR0cmlidXRlc1tqXTtcbiAgICAgICAgICAgIGlmICghYXR0cmlidXRlc1thdHRyaWJ1dGUubmFtZV0pIHtcbiAgICAgICAgICAgICAgICByZW1vdmUucHVzaChhdHRyaWJ1dGUubmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmVtb3ZlLmZvckVhY2godiA9PiBub2RlLnJlbW92ZUF0dHJpYnV0ZSh2KSk7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfSwgKCkgPT4gY3JlYXRlX2VsZW1lbnQobmFtZSkpO1xufVxuZnVuY3Rpb24gY2xhaW1fZWxlbWVudChub2RlcywgbmFtZSwgYXR0cmlidXRlcykge1xuICAgIHJldHVybiBjbGFpbV9lbGVtZW50X2Jhc2Uobm9kZXMsIG5hbWUsIGF0dHJpYnV0ZXMsIGVsZW1lbnQpO1xufVxuZnVuY3Rpb24gY2xhaW1fc3ZnX2VsZW1lbnQobm9kZXMsIG5hbWUsIGF0dHJpYnV0ZXMpIHtcbiAgICByZXR1cm4gY2xhaW1fZWxlbWVudF9iYXNlKG5vZGVzLCBuYW1lLCBhdHRyaWJ1dGVzLCBzdmdfZWxlbWVudCk7XG59XG5mdW5jdGlvbiBjbGFpbV90ZXh0KG5vZGVzLCBkYXRhKSB7XG4gICAgcmV0dXJuIGNsYWltX25vZGUobm9kZXMsIChub2RlKSA9PiBub2RlLm5vZGVUeXBlID09PSAzLCAobm9kZSkgPT4ge1xuICAgICAgICBjb25zdCBkYXRhU3RyID0gJycgKyBkYXRhO1xuICAgICAgICBpZiAobm9kZS5kYXRhLnN0YXJ0c1dpdGgoZGF0YVN0cikpIHtcbiAgICAgICAgICAgIGlmIChub2RlLmRhdGEubGVuZ3RoICE9PSBkYXRhU3RyLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBub2RlLnNwbGl0VGV4dChkYXRhU3RyLmxlbmd0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBub2RlLmRhdGEgPSBkYXRhU3RyO1xuICAgICAgICB9XG4gICAgfSwgKCkgPT4gdGV4dChkYXRhKSwgdHJ1ZSAvLyBUZXh0IG5vZGVzIHNob3VsZCBub3QgdXBkYXRlIGxhc3QgaW5kZXggc2luY2UgaXQgaXMgbGlrZWx5IG5vdCB3b3J0aCBpdCB0byBlbGltaW5hdGUgYW4gaW5jcmVhc2luZyBzdWJzZXF1ZW5jZSBvZiBhY3R1YWwgZWxlbWVudHNcbiAgICApO1xufVxuZnVuY3Rpb24gY2xhaW1fc3BhY2Uobm9kZXMpIHtcbiAgICByZXR1cm4gY2xhaW1fdGV4dChub2RlcywgJyAnKTtcbn1cbmZ1bmN0aW9uIGZpbmRfY29tbWVudChub2RlcywgdGV4dCwgc3RhcnQpIHtcbiAgICBmb3IgKGxldCBpID0gc3RhcnQ7IGkgPCBub2Rlcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBjb25zdCBub2RlID0gbm9kZXNbaV07XG4gICAgICAgIGlmIChub2RlLm5vZGVUeXBlID09PSA4IC8qIGNvbW1lbnQgbm9kZSAqLyAmJiBub2RlLnRleHRDb250ZW50LnRyaW0oKSA9PT0gdGV4dCkge1xuICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5vZGVzLmxlbmd0aDtcbn1cbmZ1bmN0aW9uIGNsYWltX2h0bWxfdGFnKG5vZGVzLCBpc19zdmcpIHtcbiAgICAvLyBmaW5kIGh0bWwgb3BlbmluZyB0YWdcbiAgICBjb25zdCBzdGFydF9pbmRleCA9IGZpbmRfY29tbWVudChub2RlcywgJ0hUTUxfVEFHX1NUQVJUJywgMCk7XG4gICAgY29uc3QgZW5kX2luZGV4ID0gZmluZF9jb21tZW50KG5vZGVzLCAnSFRNTF9UQUdfRU5EJywgc3RhcnRfaW5kZXgpO1xuICAgIGlmIChzdGFydF9pbmRleCA9PT0gZW5kX2luZGV4KSB7XG4gICAgICAgIHJldHVybiBuZXcgSHRtbFRhZ0h5ZHJhdGlvbih1bmRlZmluZWQsIGlzX3N2Zyk7XG4gICAgfVxuICAgIGluaXRfY2xhaW1faW5mbyhub2Rlcyk7XG4gICAgY29uc3QgaHRtbF90YWdfbm9kZXMgPSBub2Rlcy5zcGxpY2Uoc3RhcnRfaW5kZXgsIGVuZF9pbmRleCAtIHN0YXJ0X2luZGV4ICsgMSk7XG4gICAgZGV0YWNoKGh0bWxfdGFnX25vZGVzWzBdKTtcbiAgICBkZXRhY2goaHRtbF90YWdfbm9kZXNbaHRtbF90YWdfbm9kZXMubGVuZ3RoIC0gMV0pO1xuICAgIGNvbnN0IGNsYWltZWRfbm9kZXMgPSBodG1sX3RhZ19ub2Rlcy5zbGljZSgxLCBodG1sX3RhZ19ub2Rlcy5sZW5ndGggLSAxKTtcbiAgICBmb3IgKGNvbnN0IG4gb2YgY2xhaW1lZF9ub2Rlcykge1xuICAgICAgICBuLmNsYWltX29yZGVyID0gbm9kZXMuY2xhaW1faW5mby50b3RhbF9jbGFpbWVkO1xuICAgICAgICBub2Rlcy5jbGFpbV9pbmZvLnRvdGFsX2NsYWltZWQgKz0gMTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBIdG1sVGFnSHlkcmF0aW9uKGNsYWltZWRfbm9kZXMsIGlzX3N2Zyk7XG59XG5mdW5jdGlvbiBzZXRfZGF0YSh0ZXh0LCBkYXRhKSB7XG4gICAgZGF0YSA9ICcnICsgZGF0YTtcbiAgICBpZiAodGV4dC53aG9sZVRleHQgIT09IGRhdGEpXG4gICAgICAgIHRleHQuZGF0YSA9IGRhdGE7XG59XG5mdW5jdGlvbiBzZXRfaW5wdXRfdmFsdWUoaW5wdXQsIHZhbHVlKSB7XG4gICAgaW5wdXQudmFsdWUgPSB2YWx1ZSA9PSBudWxsID8gJycgOiB2YWx1ZTtcbn1cbmZ1bmN0aW9uIHNldF9pbnB1dF90eXBlKGlucHV0LCB0eXBlKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaW5wdXQudHlwZSA9IHR5cGU7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIC8vIGRvIG5vdGhpbmdcbiAgICB9XG59XG5mdW5jdGlvbiBzZXRfc3R5bGUobm9kZSwga2V5LCB2YWx1ZSwgaW1wb3J0YW50KSB7XG4gICAgaWYgKHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgIG5vZGUuc3R5bGUucmVtb3ZlUHJvcGVydHkoa2V5KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIG5vZGUuc3R5bGUuc2V0UHJvcGVydHkoa2V5LCB2YWx1ZSwgaW1wb3J0YW50ID8gJ2ltcG9ydGFudCcgOiAnJyk7XG4gICAgfVxufVxuZnVuY3Rpb24gc2VsZWN0X29wdGlvbihzZWxlY3QsIHZhbHVlKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWxlY3Qub3B0aW9ucy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBjb25zdCBvcHRpb24gPSBzZWxlY3Qub3B0aW9uc1tpXTtcbiAgICAgICAgaWYgKG9wdGlvbi5fX3ZhbHVlID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgb3B0aW9uLnNlbGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzZWxlY3Quc2VsZWN0ZWRJbmRleCA9IC0xOyAvLyBubyBvcHRpb24gc2hvdWxkIGJlIHNlbGVjdGVkXG59XG5mdW5jdGlvbiBzZWxlY3Rfb3B0aW9ucyhzZWxlY3QsIHZhbHVlKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWxlY3Qub3B0aW9ucy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBjb25zdCBvcHRpb24gPSBzZWxlY3Qub3B0aW9uc1tpXTtcbiAgICAgICAgb3B0aW9uLnNlbGVjdGVkID0gfnZhbHVlLmluZGV4T2Yob3B0aW9uLl9fdmFsdWUpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHNlbGVjdF92YWx1ZShzZWxlY3QpIHtcbiAgICBjb25zdCBzZWxlY3RlZF9vcHRpb24gPSBzZWxlY3QucXVlcnlTZWxlY3RvcignOmNoZWNrZWQnKSB8fCBzZWxlY3Qub3B0aW9uc1swXTtcbiAgICByZXR1cm4gc2VsZWN0ZWRfb3B0aW9uICYmIHNlbGVjdGVkX29wdGlvbi5fX3ZhbHVlO1xufVxuZnVuY3Rpb24gc2VsZWN0X211bHRpcGxlX3ZhbHVlKHNlbGVjdCkge1xuICAgIHJldHVybiBbXS5tYXAuY2FsbChzZWxlY3QucXVlcnlTZWxlY3RvckFsbCgnOmNoZWNrZWQnKSwgb3B0aW9uID0+IG9wdGlvbi5fX3ZhbHVlKTtcbn1cbi8vIHVuZm9ydHVuYXRlbHkgdGhpcyBjYW4ndCBiZSBhIGNvbnN0YW50IGFzIHRoYXQgd291bGRuJ3QgYmUgdHJlZS1zaGFrZWFibGVcbi8vIHNvIHdlIGNhY2hlIHRoZSByZXN1bHQgaW5zdGVhZFxubGV0IGNyb3Nzb3JpZ2luO1xuZnVuY3Rpb24gaXNfY3Jvc3NvcmlnaW4oKSB7XG4gICAgaWYgKGNyb3Nzb3JpZ2luID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY3Jvc3NvcmlnaW4gPSBmYWxzZTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cucGFyZW50KSB7XG4gICAgICAgICAgICAgICAgdm9pZCB3aW5kb3cucGFyZW50LmRvY3VtZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY3Jvc3NvcmlnaW4gPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjcm9zc29yaWdpbjtcbn1cbmZ1bmN0aW9uIGFkZF9yZXNpemVfbGlzdGVuZXIobm9kZSwgZm4pIHtcbiAgICBjb25zdCBjb21wdXRlZF9zdHlsZSA9IGdldENvbXB1dGVkU3R5bGUobm9kZSk7XG4gICAgaWYgKGNvbXB1dGVkX3N0eWxlLnBvc2l0aW9uID09PSAnc3RhdGljJykge1xuICAgICAgICBub2RlLnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcbiAgICB9XG4gICAgY29uc3QgaWZyYW1lID0gZWxlbWVudCgnaWZyYW1lJyk7XG4gICAgaWZyYW1lLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAnZGlzcGxheTogYmxvY2s7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgdG9wOiAwOyBsZWZ0OiAwOyB3aWR0aDogMTAwJTsgaGVpZ2h0OiAxMDAlOyAnICtcbiAgICAgICAgJ292ZXJmbG93OiBoaWRkZW47IGJvcmRlcjogMDsgb3BhY2l0eTogMDsgcG9pbnRlci1ldmVudHM6IG5vbmU7IHotaW5kZXg6IC0xOycpO1xuICAgIGlmcmFtZS5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTtcbiAgICBpZnJhbWUudGFiSW5kZXggPSAtMTtcbiAgICBjb25zdCBjcm9zc29yaWdpbiA9IGlzX2Nyb3Nzb3JpZ2luKCk7XG4gICAgbGV0IHVuc3Vic2NyaWJlO1xuICAgIGlmIChjcm9zc29yaWdpbikge1xuICAgICAgICBpZnJhbWUuc3JjID0gXCJkYXRhOnRleHQvaHRtbCw8c2NyaXB0Pm9ucmVzaXplPWZ1bmN0aW9uKCl7cGFyZW50LnBvc3RNZXNzYWdlKDAsJyonKX08L3NjcmlwdD5cIjtcbiAgICAgICAgdW5zdWJzY3JpYmUgPSBsaXN0ZW4od2luZG93LCAnbWVzc2FnZScsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKGV2ZW50LnNvdXJjZSA9PT0gaWZyYW1lLmNvbnRlbnRXaW5kb3cpXG4gICAgICAgICAgICAgICAgZm4oKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpZnJhbWUuc3JjID0gJ2Fib3V0OmJsYW5rJztcbiAgICAgICAgaWZyYW1lLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgICAgIHVuc3Vic2NyaWJlID0gbGlzdGVuKGlmcmFtZS5jb250ZW50V2luZG93LCAncmVzaXplJywgZm4pO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBhcHBlbmQobm9kZSwgaWZyYW1lKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBpZiAoY3Jvc3NvcmlnaW4pIHtcbiAgICAgICAgICAgIHVuc3Vic2NyaWJlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodW5zdWJzY3JpYmUgJiYgaWZyYW1lLmNvbnRlbnRXaW5kb3cpIHtcbiAgICAgICAgICAgIHVuc3Vic2NyaWJlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZGV0YWNoKGlmcmFtZSk7XG4gICAgfTtcbn1cbmZ1bmN0aW9uIHRvZ2dsZV9jbGFzcyhlbGVtZW50LCBuYW1lLCB0b2dnbGUpIHtcbiAgICBlbGVtZW50LmNsYXNzTGlzdFt0b2dnbGUgPyAnYWRkJyA6ICdyZW1vdmUnXShuYW1lKTtcbn1cbmZ1bmN0aW9uIGN1c3RvbV9ldmVudCh0eXBlLCBkZXRhaWwsIHsgYnViYmxlcyA9IGZhbHNlLCBjYW5jZWxhYmxlID0gZmFsc2UgfSA9IHt9KSB7XG4gICAgY29uc3QgZSA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdDdXN0b21FdmVudCcpO1xuICAgIGUuaW5pdEN1c3RvbUV2ZW50KHR5cGUsIGJ1YmJsZXMsIGNhbmNlbGFibGUsIGRldGFpbCk7XG4gICAgcmV0dXJuIGU7XG59XG5mdW5jdGlvbiBxdWVyeV9zZWxlY3Rvcl9hbGwoc2VsZWN0b3IsIHBhcmVudCA9IGRvY3VtZW50LmJvZHkpIHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbShwYXJlbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcikpO1xufVxuY2xhc3MgSHRtbFRhZyB7XG4gICAgY29uc3RydWN0b3IoaXNfc3ZnID0gZmFsc2UpIHtcbiAgICAgICAgdGhpcy5pc19zdmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5pc19zdmcgPSBpc19zdmc7XG4gICAgICAgIHRoaXMuZSA9IHRoaXMubiA9IG51bGw7XG4gICAgfVxuICAgIGMoaHRtbCkge1xuICAgICAgICB0aGlzLmgoaHRtbCk7XG4gICAgfVxuICAgIG0oaHRtbCwgdGFyZ2V0LCBhbmNob3IgPSBudWxsKSB7XG4gICAgICAgIGlmICghdGhpcy5lKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5pc19zdmcpXG4gICAgICAgICAgICAgICAgdGhpcy5lID0gc3ZnX2VsZW1lbnQodGFyZ2V0Lm5vZGVOYW1lKTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB0aGlzLmUgPSBlbGVtZW50KHRhcmdldC5ub2RlTmFtZSk7XG4gICAgICAgICAgICB0aGlzLnQgPSB0YXJnZXQ7XG4gICAgICAgICAgICB0aGlzLmMoaHRtbCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pKGFuY2hvcik7XG4gICAgfVxuICAgIGgoaHRtbCkge1xuICAgICAgICB0aGlzLmUuaW5uZXJIVE1MID0gaHRtbDtcbiAgICAgICAgdGhpcy5uID0gQXJyYXkuZnJvbSh0aGlzLmUuY2hpbGROb2Rlcyk7XG4gICAgfVxuICAgIGkoYW5jaG9yKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5uLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICBpbnNlcnQodGhpcy50LCB0aGlzLm5baV0sIGFuY2hvcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcChodG1sKSB7XG4gICAgICAgIHRoaXMuZCgpO1xuICAgICAgICB0aGlzLmgoaHRtbCk7XG4gICAgICAgIHRoaXMuaSh0aGlzLmEpO1xuICAgIH1cbiAgICBkKCkge1xuICAgICAgICB0aGlzLm4uZm9yRWFjaChkZXRhY2gpO1xuICAgIH1cbn1cbmNsYXNzIEh0bWxUYWdIeWRyYXRpb24gZXh0ZW5kcyBIdG1sVGFnIHtcbiAgICBjb25zdHJ1Y3RvcihjbGFpbWVkX25vZGVzLCBpc19zdmcgPSBmYWxzZSkge1xuICAgICAgICBzdXBlcihpc19zdmcpO1xuICAgICAgICB0aGlzLmUgPSB0aGlzLm4gPSBudWxsO1xuICAgICAgICB0aGlzLmwgPSBjbGFpbWVkX25vZGVzO1xuICAgIH1cbiAgICBjKGh0bWwpIHtcbiAgICAgICAgaWYgKHRoaXMubCkge1xuICAgICAgICAgICAgdGhpcy5uID0gdGhpcy5sO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc3VwZXIuYyhodG1sKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpKGFuY2hvcikge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubi5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgaW5zZXJ0X2h5ZHJhdGlvbih0aGlzLnQsIHRoaXMubltpXSwgYW5jaG9yKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGF0dHJpYnV0ZV90b19vYmplY3QoYXR0cmlidXRlcykge1xuICAgIGNvbnN0IHJlc3VsdCA9IHt9O1xuICAgIGZvciAoY29uc3QgYXR0cmlidXRlIG9mIGF0dHJpYnV0ZXMpIHtcbiAgICAgICAgcmVzdWx0W2F0dHJpYnV0ZS5uYW1lXSA9IGF0dHJpYnV0ZS52YWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIGdldF9jdXN0b21fZWxlbWVudHNfc2xvdHMoZWxlbWVudCkge1xuICAgIGNvbnN0IHJlc3VsdCA9IHt9O1xuICAgIGVsZW1lbnQuY2hpbGROb2Rlcy5mb3JFYWNoKChub2RlKSA9PiB7XG4gICAgICAgIHJlc3VsdFtub2RlLnNsb3QgfHwgJ2RlZmF1bHQnXSA9IHRydWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLy8gd2UgbmVlZCB0byBzdG9yZSB0aGUgaW5mb3JtYXRpb24gZm9yIG11bHRpcGxlIGRvY3VtZW50cyBiZWNhdXNlIGEgU3ZlbHRlIGFwcGxpY2F0aW9uIGNvdWxkIGFsc28gY29udGFpbiBpZnJhbWVzXG4vLyBodHRwczovL2dpdGh1Yi5jb20vc3ZlbHRlanMvc3ZlbHRlL2lzc3Vlcy8zNjI0XG5jb25zdCBtYW5hZ2VkX3N0eWxlcyA9IG5ldyBNYXAoKTtcbmxldCBhY3RpdmUgPSAwO1xuLy8gaHR0cHM6Ly9naXRodWIuY29tL2Rhcmtza3lhcHAvc3RyaW5nLWhhc2gvYmxvYi9tYXN0ZXIvaW5kZXguanNcbmZ1bmN0aW9uIGhhc2goc3RyKSB7XG4gICAgbGV0IGhhc2ggPSA1MzgxO1xuICAgIGxldCBpID0gc3RyLmxlbmd0aDtcbiAgICB3aGlsZSAoaS0tKVxuICAgICAgICBoYXNoID0gKChoYXNoIDw8IDUpIC0gaGFzaCkgXiBzdHIuY2hhckNvZGVBdChpKTtcbiAgICByZXR1cm4gaGFzaCA+Pj4gMDtcbn1cbmZ1bmN0aW9uIGNyZWF0ZV9zdHlsZV9pbmZvcm1hdGlvbihkb2MsIG5vZGUpIHtcbiAgICBjb25zdCBpbmZvID0geyBzdHlsZXNoZWV0OiBhcHBlbmRfZW1wdHlfc3R5bGVzaGVldChub2RlKSwgcnVsZXM6IHt9IH07XG4gICAgbWFuYWdlZF9zdHlsZXMuc2V0KGRvYywgaW5mbyk7XG4gICAgcmV0dXJuIGluZm87XG59XG5mdW5jdGlvbiBjcmVhdGVfcnVsZShub2RlLCBhLCBiLCBkdXJhdGlvbiwgZGVsYXksIGVhc2UsIGZuLCB1aWQgPSAwKSB7XG4gICAgY29uc3Qgc3RlcCA9IDE2LjY2NiAvIGR1cmF0aW9uO1xuICAgIGxldCBrZXlmcmFtZXMgPSAne1xcbic7XG4gICAgZm9yIChsZXQgcCA9IDA7IHAgPD0gMTsgcCArPSBzdGVwKSB7XG4gICAgICAgIGNvbnN0IHQgPSBhICsgKGIgLSBhKSAqIGVhc2UocCk7XG4gICAgICAgIGtleWZyYW1lcyArPSBwICogMTAwICsgYCV7JHtmbih0LCAxIC0gdCl9fVxcbmA7XG4gICAgfVxuICAgIGNvbnN0IHJ1bGUgPSBrZXlmcmFtZXMgKyBgMTAwJSB7JHtmbihiLCAxIC0gYil9fVxcbn1gO1xuICAgIGNvbnN0IG5hbWUgPSBgX19zdmVsdGVfJHtoYXNoKHJ1bGUpfV8ke3VpZH1gO1xuICAgIGNvbnN0IGRvYyA9IGdldF9yb290X2Zvcl9zdHlsZShub2RlKTtcbiAgICBjb25zdCB7IHN0eWxlc2hlZXQsIHJ1bGVzIH0gPSBtYW5hZ2VkX3N0eWxlcy5nZXQoZG9jKSB8fCBjcmVhdGVfc3R5bGVfaW5mb3JtYXRpb24oZG9jLCBub2RlKTtcbiAgICBpZiAoIXJ1bGVzW25hbWVdKSB7XG4gICAgICAgIHJ1bGVzW25hbWVdID0gdHJ1ZTtcbiAgICAgICAgc3R5bGVzaGVldC5pbnNlcnRSdWxlKGBAa2V5ZnJhbWVzICR7bmFtZX0gJHtydWxlfWAsIHN0eWxlc2hlZXQuY3NzUnVsZXMubGVuZ3RoKTtcbiAgICB9XG4gICAgY29uc3QgYW5pbWF0aW9uID0gbm9kZS5zdHlsZS5hbmltYXRpb24gfHwgJyc7XG4gICAgbm9kZS5zdHlsZS5hbmltYXRpb24gPSBgJHthbmltYXRpb24gPyBgJHthbmltYXRpb259LCBgIDogJyd9JHtuYW1lfSAke2R1cmF0aW9ufW1zIGxpbmVhciAke2RlbGF5fW1zIDEgYm90aGA7XG4gICAgYWN0aXZlICs9IDE7XG4gICAgcmV0dXJuIG5hbWU7XG59XG5mdW5jdGlvbiBkZWxldGVfcnVsZShub2RlLCBuYW1lKSB7XG4gICAgY29uc3QgcHJldmlvdXMgPSAobm9kZS5zdHlsZS5hbmltYXRpb24gfHwgJycpLnNwbGl0KCcsICcpO1xuICAgIGNvbnN0IG5leHQgPSBwcmV2aW91cy5maWx0ZXIobmFtZVxuICAgICAgICA/IGFuaW0gPT4gYW5pbS5pbmRleE9mKG5hbWUpIDwgMCAvLyByZW1vdmUgc3BlY2lmaWMgYW5pbWF0aW9uXG4gICAgICAgIDogYW5pbSA9PiBhbmltLmluZGV4T2YoJ19fc3ZlbHRlJykgPT09IC0xIC8vIHJlbW92ZSBhbGwgU3ZlbHRlIGFuaW1hdGlvbnNcbiAgICApO1xuICAgIGNvbnN0IGRlbGV0ZWQgPSBwcmV2aW91cy5sZW5ndGggLSBuZXh0Lmxlbmd0aDtcbiAgICBpZiAoZGVsZXRlZCkge1xuICAgICAgICBub2RlLnN0eWxlLmFuaW1hdGlvbiA9IG5leHQuam9pbignLCAnKTtcbiAgICAgICAgYWN0aXZlIC09IGRlbGV0ZWQ7XG4gICAgICAgIGlmICghYWN0aXZlKVxuICAgICAgICAgICAgY2xlYXJfcnVsZXMoKTtcbiAgICB9XG59XG5mdW5jdGlvbiBjbGVhcl9ydWxlcygpIHtcbiAgICByYWYoKCkgPT4ge1xuICAgICAgICBpZiAoYWN0aXZlKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBtYW5hZ2VkX3N0eWxlcy5mb3JFYWNoKGluZm8gPT4ge1xuICAgICAgICAgICAgY29uc3QgeyBzdHlsZXNoZWV0IH0gPSBpbmZvO1xuICAgICAgICAgICAgbGV0IGkgPSBzdHlsZXNoZWV0LmNzc1J1bGVzLmxlbmd0aDtcbiAgICAgICAgICAgIHdoaWxlIChpLS0pXG4gICAgICAgICAgICAgICAgc3R5bGVzaGVldC5kZWxldGVSdWxlKGkpO1xuICAgICAgICAgICAgaW5mby5ydWxlcyA9IHt9O1xuICAgICAgICB9KTtcbiAgICAgICAgbWFuYWdlZF9zdHlsZXMuY2xlYXIoKTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlX2FuaW1hdGlvbihub2RlLCBmcm9tLCBmbiwgcGFyYW1zKSB7XG4gICAgaWYgKCFmcm9tKVxuICAgICAgICByZXR1cm4gbm9vcDtcbiAgICBjb25zdCB0byA9IG5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgaWYgKGZyb20ubGVmdCA9PT0gdG8ubGVmdCAmJiBmcm9tLnJpZ2h0ID09PSB0by5yaWdodCAmJiBmcm9tLnRvcCA9PT0gdG8udG9wICYmIGZyb20uYm90dG9tID09PSB0by5ib3R0b20pXG4gICAgICAgIHJldHVybiBub29wO1xuICAgIGNvbnN0IHsgZGVsYXkgPSAwLCBkdXJhdGlvbiA9IDMwMCwgZWFzaW5nID0gaWRlbnRpdHksIFxuICAgIC8vIEB0cy1pZ25vcmUgdG9kbzogc2hvdWxkIHRoaXMgYmUgc2VwYXJhdGVkIGZyb20gZGVzdHJ1Y3R1cmluZz8gT3Igc3RhcnQvZW5kIGFkZGVkIHRvIHB1YmxpYyBhcGkgYW5kIGRvY3VtZW50YXRpb24/XG4gICAgc3RhcnQ6IHN0YXJ0X3RpbWUgPSBub3coKSArIGRlbGF5LCBcbiAgICAvLyBAdHMtaWdub3JlIHRvZG86XG4gICAgZW5kID0gc3RhcnRfdGltZSArIGR1cmF0aW9uLCB0aWNrID0gbm9vcCwgY3NzIH0gPSBmbihub2RlLCB7IGZyb20sIHRvIH0sIHBhcmFtcyk7XG4gICAgbGV0IHJ1bm5pbmcgPSB0cnVlO1xuICAgIGxldCBzdGFydGVkID0gZmFsc2U7XG4gICAgbGV0IG5hbWU7XG4gICAgZnVuY3Rpb24gc3RhcnQoKSB7XG4gICAgICAgIGlmIChjc3MpIHtcbiAgICAgICAgICAgIG5hbWUgPSBjcmVhdGVfcnVsZShub2RlLCAwLCAxLCBkdXJhdGlvbiwgZGVsYXksIGVhc2luZywgY3NzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWRlbGF5KSB7XG4gICAgICAgICAgICBzdGFydGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBzdG9wKCkge1xuICAgICAgICBpZiAoY3NzKVxuICAgICAgICAgICAgZGVsZXRlX3J1bGUobm9kZSwgbmFtZSk7XG4gICAgICAgIHJ1bm5pbmcgPSBmYWxzZTtcbiAgICB9XG4gICAgbG9vcChub3cgPT4ge1xuICAgICAgICBpZiAoIXN0YXJ0ZWQgJiYgbm93ID49IHN0YXJ0X3RpbWUpIHtcbiAgICAgICAgICAgIHN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGFydGVkICYmIG5vdyA+PSBlbmQpIHtcbiAgICAgICAgICAgIHRpY2soMSwgMCk7XG4gICAgICAgICAgICBzdG9wKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFydW5uaW5nKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXJ0ZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IHAgPSBub3cgLSBzdGFydF90aW1lO1xuICAgICAgICAgICAgY29uc3QgdCA9IDAgKyAxICogZWFzaW5nKHAgLyBkdXJhdGlvbik7XG4gICAgICAgICAgICB0aWNrKHQsIDEgLSB0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9KTtcbiAgICBzdGFydCgpO1xuICAgIHRpY2soMCwgMSk7XG4gICAgcmV0dXJuIHN0b3A7XG59XG5mdW5jdGlvbiBmaXhfcG9zaXRpb24obm9kZSkge1xuICAgIGNvbnN0IHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShub2RlKTtcbiAgICBpZiAoc3R5bGUucG9zaXRpb24gIT09ICdhYnNvbHV0ZScgJiYgc3R5bGUucG9zaXRpb24gIT09ICdmaXhlZCcpIHtcbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSBzdHlsZTtcbiAgICAgICAgY29uc3QgYSA9IG5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIG5vZGUuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgICAgICBub2RlLnN0eWxlLndpZHRoID0gd2lkdGg7XG4gICAgICAgIG5vZGUuc3R5bGUuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICBhZGRfdHJhbnNmb3JtKG5vZGUsIGEpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGFkZF90cmFuc2Zvcm0obm9kZSwgYSkge1xuICAgIGNvbnN0IGIgPSBub2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGlmIChhLmxlZnQgIT09IGIubGVmdCB8fCBhLnRvcCAhPT0gYi50b3ApIHtcbiAgICAgICAgY29uc3Qgc3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKG5vZGUpO1xuICAgICAgICBjb25zdCB0cmFuc2Zvcm0gPSBzdHlsZS50cmFuc2Zvcm0gPT09ICdub25lJyA/ICcnIDogc3R5bGUudHJhbnNmb3JtO1xuICAgICAgICBub2RlLnN0eWxlLnRyYW5zZm9ybSA9IGAke3RyYW5zZm9ybX0gdHJhbnNsYXRlKCR7YS5sZWZ0IC0gYi5sZWZ0fXB4LCAke2EudG9wIC0gYi50b3B9cHgpYDtcbiAgICB9XG59XG5cbmxldCBjdXJyZW50X2NvbXBvbmVudDtcbmZ1bmN0aW9uIHNldF9jdXJyZW50X2NvbXBvbmVudChjb21wb25lbnQpIHtcbiAgICBjdXJyZW50X2NvbXBvbmVudCA9IGNvbXBvbmVudDtcbn1cbmZ1bmN0aW9uIGdldF9jdXJyZW50X2NvbXBvbmVudCgpIHtcbiAgICBpZiAoIWN1cnJlbnRfY29tcG9uZW50KVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Z1bmN0aW9uIGNhbGxlZCBvdXRzaWRlIGNvbXBvbmVudCBpbml0aWFsaXphdGlvbicpO1xuICAgIHJldHVybiBjdXJyZW50X2NvbXBvbmVudDtcbn1cbmZ1bmN0aW9uIGJlZm9yZVVwZGF0ZShmbikge1xuICAgIGdldF9jdXJyZW50X2NvbXBvbmVudCgpLiQkLmJlZm9yZV91cGRhdGUucHVzaChmbik7XG59XG5mdW5jdGlvbiBvbk1vdW50KGZuKSB7XG4gICAgZ2V0X2N1cnJlbnRfY29tcG9uZW50KCkuJCQub25fbW91bnQucHVzaChmbik7XG59XG5mdW5jdGlvbiBhZnRlclVwZGF0ZShmbikge1xuICAgIGdldF9jdXJyZW50X2NvbXBvbmVudCgpLiQkLmFmdGVyX3VwZGF0ZS5wdXNoKGZuKTtcbn1cbmZ1bmN0aW9uIG9uRGVzdHJveShmbikge1xuICAgIGdldF9jdXJyZW50X2NvbXBvbmVudCgpLiQkLm9uX2Rlc3Ryb3kucHVzaChmbik7XG59XG5mdW5jdGlvbiBjcmVhdGVFdmVudERpc3BhdGNoZXIoKSB7XG4gICAgY29uc3QgY29tcG9uZW50ID0gZ2V0X2N1cnJlbnRfY29tcG9uZW50KCk7XG4gICAgcmV0dXJuICh0eXBlLCBkZXRhaWwsIHsgY2FuY2VsYWJsZSA9IGZhbHNlIH0gPSB7fSkgPT4ge1xuICAgICAgICBjb25zdCBjYWxsYmFja3MgPSBjb21wb25lbnQuJCQuY2FsbGJhY2tzW3R5cGVdO1xuICAgICAgICBpZiAoY2FsbGJhY2tzKSB7XG4gICAgICAgICAgICAvLyBUT0RPIGFyZSB0aGVyZSBzaXR1YXRpb25zIHdoZXJlIGV2ZW50cyBjb3VsZCBiZSBkaXNwYXRjaGVkXG4gICAgICAgICAgICAvLyBpbiBhIHNlcnZlciAobm9uLURPTSkgZW52aXJvbm1lbnQ/XG4gICAgICAgICAgICBjb25zdCBldmVudCA9IGN1c3RvbV9ldmVudCh0eXBlLCBkZXRhaWwsIHsgY2FuY2VsYWJsZSB9KTtcbiAgICAgICAgICAgIGNhbGxiYWNrcy5zbGljZSgpLmZvckVhY2goZm4gPT4ge1xuICAgICAgICAgICAgICAgIGZuLmNhbGwoY29tcG9uZW50LCBldmVudCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiAhZXZlbnQuZGVmYXVsdFByZXZlbnRlZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xufVxuZnVuY3Rpb24gc2V0Q29udGV4dChrZXksIGNvbnRleHQpIHtcbiAgICBnZXRfY3VycmVudF9jb21wb25lbnQoKS4kJC5jb250ZXh0LnNldChrZXksIGNvbnRleHQpO1xuICAgIHJldHVybiBjb250ZXh0O1xufVxuZnVuY3Rpb24gZ2V0Q29udGV4dChrZXkpIHtcbiAgICByZXR1cm4gZ2V0X2N1cnJlbnRfY29tcG9uZW50KCkuJCQuY29udGV4dC5nZXQoa2V5KTtcbn1cbmZ1bmN0aW9uIGdldEFsbENvbnRleHRzKCkge1xuICAgIHJldHVybiBnZXRfY3VycmVudF9jb21wb25lbnQoKS4kJC5jb250ZXh0O1xufVxuZnVuY3Rpb24gaGFzQ29udGV4dChrZXkpIHtcbiAgICByZXR1cm4gZ2V0X2N1cnJlbnRfY29tcG9uZW50KCkuJCQuY29udGV4dC5oYXMoa2V5KTtcbn1cbi8vIFRPRE8gZmlndXJlIG91dCBpZiB3ZSBzdGlsbCB3YW50IHRvIHN1cHBvcnRcbi8vIHNob3J0aGFuZCBldmVudHMsIG9yIGlmIHdlIHdhbnQgdG8gaW1wbGVtZW50XG4vLyBhIHJlYWwgYnViYmxpbmcgbWVjaGFuaXNtXG5mdW5jdGlvbiBidWJibGUoY29tcG9uZW50LCBldmVudCkge1xuICAgIGNvbnN0IGNhbGxiYWNrcyA9IGNvbXBvbmVudC4kJC5jYWxsYmFja3NbZXZlbnQudHlwZV07XG4gICAgaWYgKGNhbGxiYWNrcykge1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGNhbGxiYWNrcy5zbGljZSgpLmZvckVhY2goZm4gPT4gZm4uY2FsbCh0aGlzLCBldmVudCkpO1xuICAgIH1cbn1cblxuY29uc3QgZGlydHlfY29tcG9uZW50cyA9IFtdO1xuY29uc3QgaW50cm9zID0geyBlbmFibGVkOiBmYWxzZSB9O1xuY29uc3QgYmluZGluZ19jYWxsYmFja3MgPSBbXTtcbmNvbnN0IHJlbmRlcl9jYWxsYmFja3MgPSBbXTtcbmNvbnN0IGZsdXNoX2NhbGxiYWNrcyA9IFtdO1xuY29uc3QgcmVzb2x2ZWRfcHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZSgpO1xubGV0IHVwZGF0ZV9zY2hlZHVsZWQgPSBmYWxzZTtcbmZ1bmN0aW9uIHNjaGVkdWxlX3VwZGF0ZSgpIHtcbiAgICBpZiAoIXVwZGF0ZV9zY2hlZHVsZWQpIHtcbiAgICAgICAgdXBkYXRlX3NjaGVkdWxlZCA9IHRydWU7XG4gICAgICAgIHJlc29sdmVkX3Byb21pc2UudGhlbihmbHVzaCk7XG4gICAgfVxufVxuZnVuY3Rpb24gdGljaygpIHtcbiAgICBzY2hlZHVsZV91cGRhdGUoKTtcbiAgICByZXR1cm4gcmVzb2x2ZWRfcHJvbWlzZTtcbn1cbmZ1bmN0aW9uIGFkZF9yZW5kZXJfY2FsbGJhY2soZm4pIHtcbiAgICByZW5kZXJfY2FsbGJhY2tzLnB1c2goZm4pO1xufVxuZnVuY3Rpb24gYWRkX2ZsdXNoX2NhbGxiYWNrKGZuKSB7XG4gICAgZmx1c2hfY2FsbGJhY2tzLnB1c2goZm4pO1xufVxuLy8gZmx1c2goKSBjYWxscyBjYWxsYmFja3MgaW4gdGhpcyBvcmRlcjpcbi8vIDEuIEFsbCBiZWZvcmVVcGRhdGUgY2FsbGJhY2tzLCBpbiBvcmRlcjogcGFyZW50cyBiZWZvcmUgY2hpbGRyZW5cbi8vIDIuIEFsbCBiaW5kOnRoaXMgY2FsbGJhY2tzLCBpbiByZXZlcnNlIG9yZGVyOiBjaGlsZHJlbiBiZWZvcmUgcGFyZW50cy5cbi8vIDMuIEFsbCBhZnRlclVwZGF0ZSBjYWxsYmFja3MsIGluIG9yZGVyOiBwYXJlbnRzIGJlZm9yZSBjaGlsZHJlbi4gRVhDRVBUXG4vLyAgICBmb3IgYWZ0ZXJVcGRhdGVzIGNhbGxlZCBkdXJpbmcgdGhlIGluaXRpYWwgb25Nb3VudCwgd2hpY2ggYXJlIGNhbGxlZCBpblxuLy8gICAgcmV2ZXJzZSBvcmRlcjogY2hpbGRyZW4gYmVmb3JlIHBhcmVudHMuXG4vLyBTaW5jZSBjYWxsYmFja3MgbWlnaHQgdXBkYXRlIGNvbXBvbmVudCB2YWx1ZXMsIHdoaWNoIGNvdWxkIHRyaWdnZXIgYW5vdGhlclxuLy8gY2FsbCB0byBmbHVzaCgpLCB0aGUgZm9sbG93aW5nIHN0ZXBzIGd1YXJkIGFnYWluc3QgdGhpczpcbi8vIDEuIER1cmluZyBiZWZvcmVVcGRhdGUsIGFueSB1cGRhdGVkIGNvbXBvbmVudHMgd2lsbCBiZSBhZGRlZCB0byB0aGVcbi8vICAgIGRpcnR5X2NvbXBvbmVudHMgYXJyYXkgYW5kIHdpbGwgY2F1c2UgYSByZWVudHJhbnQgY2FsbCB0byBmbHVzaCgpLiBCZWNhdXNlXG4vLyAgICB0aGUgZmx1c2ggaW5kZXggaXMga2VwdCBvdXRzaWRlIHRoZSBmdW5jdGlvbiwgdGhlIHJlZW50cmFudCBjYWxsIHdpbGwgcGlja1xuLy8gICAgdXAgd2hlcmUgdGhlIGVhcmxpZXIgY2FsbCBsZWZ0IG9mZiBhbmQgZ28gdGhyb3VnaCBhbGwgZGlydHkgY29tcG9uZW50cy4gVGhlXG4vLyAgICBjdXJyZW50X2NvbXBvbmVudCB2YWx1ZSBpcyBzYXZlZCBhbmQgcmVzdG9yZWQgc28gdGhhdCB0aGUgcmVlbnRyYW50IGNhbGwgd2lsbFxuLy8gICAgbm90IGludGVyZmVyZSB3aXRoIHRoZSBcInBhcmVudFwiIGZsdXNoKCkgY2FsbC5cbi8vIDIuIGJpbmQ6dGhpcyBjYWxsYmFja3MgY2Fubm90IHRyaWdnZXIgbmV3IGZsdXNoKCkgY2FsbHMuXG4vLyAzLiBEdXJpbmcgYWZ0ZXJVcGRhdGUsIGFueSB1cGRhdGVkIGNvbXBvbmVudHMgd2lsbCBOT1QgaGF2ZSB0aGVpciBhZnRlclVwZGF0ZVxuLy8gICAgY2FsbGJhY2sgY2FsbGVkIGEgc2Vjb25kIHRpbWU7IHRoZSBzZWVuX2NhbGxiYWNrcyBzZXQsIG91dHNpZGUgdGhlIGZsdXNoKClcbi8vICAgIGZ1bmN0aW9uLCBndWFyYW50ZWVzIHRoaXMgYmVoYXZpb3IuXG5jb25zdCBzZWVuX2NhbGxiYWNrcyA9IG5ldyBTZXQoKTtcbmxldCBmbHVzaGlkeCA9IDA7IC8vIERvICpub3QqIG1vdmUgdGhpcyBpbnNpZGUgdGhlIGZsdXNoKCkgZnVuY3Rpb25cbmZ1bmN0aW9uIGZsdXNoKCkge1xuICAgIGNvbnN0IHNhdmVkX2NvbXBvbmVudCA9IGN1cnJlbnRfY29tcG9uZW50O1xuICAgIGRvIHtcbiAgICAgICAgLy8gZmlyc3QsIGNhbGwgYmVmb3JlVXBkYXRlIGZ1bmN0aW9uc1xuICAgICAgICAvLyBhbmQgdXBkYXRlIGNvbXBvbmVudHNcbiAgICAgICAgd2hpbGUgKGZsdXNoaWR4IDwgZGlydHlfY29tcG9uZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbXBvbmVudCA9IGRpcnR5X2NvbXBvbmVudHNbZmx1c2hpZHhdO1xuICAgICAgICAgICAgZmx1c2hpZHgrKztcbiAgICAgICAgICAgIHNldF9jdXJyZW50X2NvbXBvbmVudChjb21wb25lbnQpO1xuICAgICAgICAgICAgdXBkYXRlKGNvbXBvbmVudC4kJCk7XG4gICAgICAgIH1cbiAgICAgICAgc2V0X2N1cnJlbnRfY29tcG9uZW50KG51bGwpO1xuICAgICAgICBkaXJ0eV9jb21wb25lbnRzLmxlbmd0aCA9IDA7XG4gICAgICAgIGZsdXNoaWR4ID0gMDtcbiAgICAgICAgd2hpbGUgKGJpbmRpbmdfY2FsbGJhY2tzLmxlbmd0aClcbiAgICAgICAgICAgIGJpbmRpbmdfY2FsbGJhY2tzLnBvcCgpKCk7XG4gICAgICAgIC8vIHRoZW4sIG9uY2UgY29tcG9uZW50cyBhcmUgdXBkYXRlZCwgY2FsbFxuICAgICAgICAvLyBhZnRlclVwZGF0ZSBmdW5jdGlvbnMuIFRoaXMgbWF5IGNhdXNlXG4gICAgICAgIC8vIHN1YnNlcXVlbnQgdXBkYXRlcy4uLlxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlbmRlcl9jYWxsYmFja3MubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIGNvbnN0IGNhbGxiYWNrID0gcmVuZGVyX2NhbGxiYWNrc1tpXTtcbiAgICAgICAgICAgIGlmICghc2Vlbl9jYWxsYmFja3MuaGFzKGNhbGxiYWNrKSkge1xuICAgICAgICAgICAgICAgIC8vIC4uLnNvIGd1YXJkIGFnYWluc3QgaW5maW5pdGUgbG9vcHNcbiAgICAgICAgICAgICAgICBzZWVuX2NhbGxiYWNrcy5hZGQoY2FsbGJhY2spO1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmVuZGVyX2NhbGxiYWNrcy5sZW5ndGggPSAwO1xuICAgIH0gd2hpbGUgKGRpcnR5X2NvbXBvbmVudHMubGVuZ3RoKTtcbiAgICB3aGlsZSAoZmx1c2hfY2FsbGJhY2tzLmxlbmd0aCkge1xuICAgICAgICBmbHVzaF9jYWxsYmFja3MucG9wKCkoKTtcbiAgICB9XG4gICAgdXBkYXRlX3NjaGVkdWxlZCA9IGZhbHNlO1xuICAgIHNlZW5fY2FsbGJhY2tzLmNsZWFyKCk7XG4gICAgc2V0X2N1cnJlbnRfY29tcG9uZW50KHNhdmVkX2NvbXBvbmVudCk7XG59XG5mdW5jdGlvbiB1cGRhdGUoJCQpIHtcbiAgICBpZiAoJCQuZnJhZ21lbnQgIT09IG51bGwpIHtcbiAgICAgICAgJCQudXBkYXRlKCk7XG4gICAgICAgIHJ1bl9hbGwoJCQuYmVmb3JlX3VwZGF0ZSk7XG4gICAgICAgIGNvbnN0IGRpcnR5ID0gJCQuZGlydHk7XG4gICAgICAgICQkLmRpcnR5ID0gWy0xXTtcbiAgICAgICAgJCQuZnJhZ21lbnQgJiYgJCQuZnJhZ21lbnQucCgkJC5jdHgsIGRpcnR5KTtcbiAgICAgICAgJCQuYWZ0ZXJfdXBkYXRlLmZvckVhY2goYWRkX3JlbmRlcl9jYWxsYmFjayk7XG4gICAgfVxufVxuXG5sZXQgcHJvbWlzZTtcbmZ1bmN0aW9uIHdhaXQoKSB7XG4gICAgaWYgKCFwcm9taXNlKSB7XG4gICAgICAgIHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgcHJvbWlzZS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHByb21pc2UgPSBudWxsO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHByb21pc2U7XG59XG5mdW5jdGlvbiBkaXNwYXRjaChub2RlLCBkaXJlY3Rpb24sIGtpbmQpIHtcbiAgICBub2RlLmRpc3BhdGNoRXZlbnQoY3VzdG9tX2V2ZW50KGAke2RpcmVjdGlvbiA/ICdpbnRybycgOiAnb3V0cm8nfSR7a2luZH1gKSk7XG59XG5jb25zdCBvdXRyb2luZyA9IG5ldyBTZXQoKTtcbmxldCBvdXRyb3M7XG5mdW5jdGlvbiBncm91cF9vdXRyb3MoKSB7XG4gICAgb3V0cm9zID0ge1xuICAgICAgICByOiAwLFxuICAgICAgICBjOiBbXSxcbiAgICAgICAgcDogb3V0cm9zIC8vIHBhcmVudCBncm91cFxuICAgIH07XG59XG5mdW5jdGlvbiBjaGVja19vdXRyb3MoKSB7XG4gICAgaWYgKCFvdXRyb3Mucikge1xuICAgICAgICBydW5fYWxsKG91dHJvcy5jKTtcbiAgICB9XG4gICAgb3V0cm9zID0gb3V0cm9zLnA7XG59XG5mdW5jdGlvbiB0cmFuc2l0aW9uX2luKGJsb2NrLCBsb2NhbCkge1xuICAgIGlmIChibG9jayAmJiBibG9jay5pKSB7XG4gICAgICAgIG91dHJvaW5nLmRlbGV0ZShibG9jayk7XG4gICAgICAgIGJsb2NrLmkobG9jYWwpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHRyYW5zaXRpb25fb3V0KGJsb2NrLCBsb2NhbCwgZGV0YWNoLCBjYWxsYmFjaykge1xuICAgIGlmIChibG9jayAmJiBibG9jay5vKSB7XG4gICAgICAgIGlmIChvdXRyb2luZy5oYXMoYmxvY2spKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBvdXRyb2luZy5hZGQoYmxvY2spO1xuICAgICAgICBvdXRyb3MuYy5wdXNoKCgpID0+IHtcbiAgICAgICAgICAgIG91dHJvaW5nLmRlbGV0ZShibG9jayk7XG4gICAgICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICBpZiAoZGV0YWNoKVxuICAgICAgICAgICAgICAgICAgICBibG9jay5kKDEpO1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBibG9jay5vKGxvY2FsKTtcbiAgICB9XG59XG5jb25zdCBudWxsX3RyYW5zaXRpb24gPSB7IGR1cmF0aW9uOiAwIH07XG5mdW5jdGlvbiBjcmVhdGVfaW5fdHJhbnNpdGlvbihub2RlLCBmbiwgcGFyYW1zKSB7XG4gICAgbGV0IGNvbmZpZyA9IGZuKG5vZGUsIHBhcmFtcyk7XG4gICAgbGV0IHJ1bm5pbmcgPSBmYWxzZTtcbiAgICBsZXQgYW5pbWF0aW9uX25hbWU7XG4gICAgbGV0IHRhc2s7XG4gICAgbGV0IHVpZCA9IDA7XG4gICAgZnVuY3Rpb24gY2xlYW51cCgpIHtcbiAgICAgICAgaWYgKGFuaW1hdGlvbl9uYW1lKVxuICAgICAgICAgICAgZGVsZXRlX3J1bGUobm9kZSwgYW5pbWF0aW9uX25hbWUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnbygpIHtcbiAgICAgICAgY29uc3QgeyBkZWxheSA9IDAsIGR1cmF0aW9uID0gMzAwLCBlYXNpbmcgPSBpZGVudGl0eSwgdGljayA9IG5vb3AsIGNzcyB9ID0gY29uZmlnIHx8IG51bGxfdHJhbnNpdGlvbjtcbiAgICAgICAgaWYgKGNzcylcbiAgICAgICAgICAgIGFuaW1hdGlvbl9uYW1lID0gY3JlYXRlX3J1bGUobm9kZSwgMCwgMSwgZHVyYXRpb24sIGRlbGF5LCBlYXNpbmcsIGNzcywgdWlkKyspO1xuICAgICAgICB0aWNrKDAsIDEpO1xuICAgICAgICBjb25zdCBzdGFydF90aW1lID0gbm93KCkgKyBkZWxheTtcbiAgICAgICAgY29uc3QgZW5kX3RpbWUgPSBzdGFydF90aW1lICsgZHVyYXRpb247XG4gICAgICAgIGlmICh0YXNrKVxuICAgICAgICAgICAgdGFzay5hYm9ydCgpO1xuICAgICAgICBydW5uaW5nID0gdHJ1ZTtcbiAgICAgICAgYWRkX3JlbmRlcl9jYWxsYmFjaygoKSA9PiBkaXNwYXRjaChub2RlLCB0cnVlLCAnc3RhcnQnKSk7XG4gICAgICAgIHRhc2sgPSBsb29wKG5vdyA9PiB7XG4gICAgICAgICAgICBpZiAocnVubmluZykge1xuICAgICAgICAgICAgICAgIGlmIChub3cgPj0gZW5kX3RpbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGljaygxLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2gobm9kZSwgdHJ1ZSwgJ2VuZCcpO1xuICAgICAgICAgICAgICAgICAgICBjbGVhbnVwKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBydW5uaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChub3cgPj0gc3RhcnRfdGltZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0ID0gZWFzaW5nKChub3cgLSBzdGFydF90aW1lKSAvIGR1cmF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgdGljayh0LCAxIC0gdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJ1bm5pbmc7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBsZXQgc3RhcnRlZCA9IGZhbHNlO1xuICAgIHJldHVybiB7XG4gICAgICAgIHN0YXJ0KCkge1xuICAgICAgICAgICAgaWYgKHN0YXJ0ZWQpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgc3RhcnRlZCA9IHRydWU7XG4gICAgICAgICAgICBkZWxldGVfcnVsZShub2RlKTtcbiAgICAgICAgICAgIGlmIChpc19mdW5jdGlvbihjb25maWcpKSB7XG4gICAgICAgICAgICAgICAgY29uZmlnID0gY29uZmlnKCk7XG4gICAgICAgICAgICAgICAgd2FpdCgpLnRoZW4oZ28pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZ28oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgaW52YWxpZGF0ZSgpIHtcbiAgICAgICAgICAgIHN0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW5kKCkge1xuICAgICAgICAgICAgaWYgKHJ1bm5pbmcpIHtcbiAgICAgICAgICAgICAgICBjbGVhbnVwKCk7XG4gICAgICAgICAgICAgICAgcnVubmluZyA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZV9vdXRfdHJhbnNpdGlvbihub2RlLCBmbiwgcGFyYW1zKSB7XG4gICAgbGV0IGNvbmZpZyA9IGZuKG5vZGUsIHBhcmFtcyk7XG4gICAgbGV0IHJ1bm5pbmcgPSB0cnVlO1xuICAgIGxldCBhbmltYXRpb25fbmFtZTtcbiAgICBjb25zdCBncm91cCA9IG91dHJvcztcbiAgICBncm91cC5yICs9IDE7XG4gICAgZnVuY3Rpb24gZ28oKSB7XG4gICAgICAgIGNvbnN0IHsgZGVsYXkgPSAwLCBkdXJhdGlvbiA9IDMwMCwgZWFzaW5nID0gaWRlbnRpdHksIHRpY2sgPSBub29wLCBjc3MgfSA9IGNvbmZpZyB8fCBudWxsX3RyYW5zaXRpb247XG4gICAgICAgIGlmIChjc3MpXG4gICAgICAgICAgICBhbmltYXRpb25fbmFtZSA9IGNyZWF0ZV9ydWxlKG5vZGUsIDEsIDAsIGR1cmF0aW9uLCBkZWxheSwgZWFzaW5nLCBjc3MpO1xuICAgICAgICBjb25zdCBzdGFydF90aW1lID0gbm93KCkgKyBkZWxheTtcbiAgICAgICAgY29uc3QgZW5kX3RpbWUgPSBzdGFydF90aW1lICsgZHVyYXRpb247XG4gICAgICAgIGFkZF9yZW5kZXJfY2FsbGJhY2soKCkgPT4gZGlzcGF0Y2gobm9kZSwgZmFsc2UsICdzdGFydCcpKTtcbiAgICAgICAgbG9vcChub3cgPT4ge1xuICAgICAgICAgICAgaWYgKHJ1bm5pbmcpIHtcbiAgICAgICAgICAgICAgICBpZiAobm93ID49IGVuZF90aW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHRpY2soMCwgMSk7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKG5vZGUsIGZhbHNlLCAnZW5kJyk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghLS1ncm91cC5yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIHdpbGwgcmVzdWx0IGluIGBlbmQoKWAgYmVpbmcgY2FsbGVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc28gd2UgZG9uJ3QgbmVlZCB0byBjbGVhbiB1cCBoZXJlXG4gICAgICAgICAgICAgICAgICAgICAgICBydW5fYWxsKGdyb3VwLmMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG5vdyA+PSBzdGFydF90aW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHQgPSBlYXNpbmcoKG5vdyAtIHN0YXJ0X3RpbWUpIC8gZHVyYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICB0aWNrKDEgLSB0LCB0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcnVubmluZztcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpc19mdW5jdGlvbihjb25maWcpKSB7XG4gICAgICAgIHdhaXQoKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIGNvbmZpZyA9IGNvbmZpZygpO1xuICAgICAgICAgICAgZ28oKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBnbygpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBlbmQocmVzZXQpIHtcbiAgICAgICAgICAgIGlmIChyZXNldCAmJiBjb25maWcudGljaykge1xuICAgICAgICAgICAgICAgIGNvbmZpZy50aWNrKDEsIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJ1bm5pbmcpIHtcbiAgICAgICAgICAgICAgICBpZiAoYW5pbWF0aW9uX25hbWUpXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZV9ydWxlKG5vZGUsIGFuaW1hdGlvbl9uYW1lKTtcbiAgICAgICAgICAgICAgICBydW5uaW5nID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xufVxuZnVuY3Rpb24gY3JlYXRlX2JpZGlyZWN0aW9uYWxfdHJhbnNpdGlvbihub2RlLCBmbiwgcGFyYW1zLCBpbnRybykge1xuICAgIGxldCBjb25maWcgPSBmbihub2RlLCBwYXJhbXMpO1xuICAgIGxldCB0ID0gaW50cm8gPyAwIDogMTtcbiAgICBsZXQgcnVubmluZ19wcm9ncmFtID0gbnVsbDtcbiAgICBsZXQgcGVuZGluZ19wcm9ncmFtID0gbnVsbDtcbiAgICBsZXQgYW5pbWF0aW9uX25hbWUgPSBudWxsO1xuICAgIGZ1bmN0aW9uIGNsZWFyX2FuaW1hdGlvbigpIHtcbiAgICAgICAgaWYgKGFuaW1hdGlvbl9uYW1lKVxuICAgICAgICAgICAgZGVsZXRlX3J1bGUobm9kZSwgYW5pbWF0aW9uX25hbWUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpbml0KHByb2dyYW0sIGR1cmF0aW9uKSB7XG4gICAgICAgIGNvbnN0IGQgPSAocHJvZ3JhbS5iIC0gdCk7XG4gICAgICAgIGR1cmF0aW9uICo9IE1hdGguYWJzKGQpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYTogdCxcbiAgICAgICAgICAgIGI6IHByb2dyYW0uYixcbiAgICAgICAgICAgIGQsXG4gICAgICAgICAgICBkdXJhdGlvbixcbiAgICAgICAgICAgIHN0YXJ0OiBwcm9ncmFtLnN0YXJ0LFxuICAgICAgICAgICAgZW5kOiBwcm9ncmFtLnN0YXJ0ICsgZHVyYXRpb24sXG4gICAgICAgICAgICBncm91cDogcHJvZ3JhbS5ncm91cFxuICAgICAgICB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBnbyhiKSB7XG4gICAgICAgIGNvbnN0IHsgZGVsYXkgPSAwLCBkdXJhdGlvbiA9IDMwMCwgZWFzaW5nID0gaWRlbnRpdHksIHRpY2sgPSBub29wLCBjc3MgfSA9IGNvbmZpZyB8fCBudWxsX3RyYW5zaXRpb247XG4gICAgICAgIGNvbnN0IHByb2dyYW0gPSB7XG4gICAgICAgICAgICBzdGFydDogbm93KCkgKyBkZWxheSxcbiAgICAgICAgICAgIGJcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKCFiKSB7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlIHRvZG86IGltcHJvdmUgdHlwaW5nc1xuICAgICAgICAgICAgcHJvZ3JhbS5ncm91cCA9IG91dHJvcztcbiAgICAgICAgICAgIG91dHJvcy5yICs9IDE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJ1bm5pbmdfcHJvZ3JhbSB8fCBwZW5kaW5nX3Byb2dyYW0pIHtcbiAgICAgICAgICAgIHBlbmRpbmdfcHJvZ3JhbSA9IHByb2dyYW07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBpZiB0aGlzIGlzIGFuIGludHJvLCBhbmQgdGhlcmUncyBhIGRlbGF5LCB3ZSBuZWVkIHRvIGRvXG4gICAgICAgICAgICAvLyBhbiBpbml0aWFsIHRpY2sgYW5kL29yIGFwcGx5IENTUyBhbmltYXRpb24gaW1tZWRpYXRlbHlcbiAgICAgICAgICAgIGlmIChjc3MpIHtcbiAgICAgICAgICAgICAgICBjbGVhcl9hbmltYXRpb24oKTtcbiAgICAgICAgICAgICAgICBhbmltYXRpb25fbmFtZSA9IGNyZWF0ZV9ydWxlKG5vZGUsIHQsIGIsIGR1cmF0aW9uLCBkZWxheSwgZWFzaW5nLCBjc3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGIpXG4gICAgICAgICAgICAgICAgdGljaygwLCAxKTtcbiAgICAgICAgICAgIHJ1bm5pbmdfcHJvZ3JhbSA9IGluaXQocHJvZ3JhbSwgZHVyYXRpb24pO1xuICAgICAgICAgICAgYWRkX3JlbmRlcl9jYWxsYmFjaygoKSA9PiBkaXNwYXRjaChub2RlLCBiLCAnc3RhcnQnKSk7XG4gICAgICAgICAgICBsb29wKG5vdyA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHBlbmRpbmdfcHJvZ3JhbSAmJiBub3cgPiBwZW5kaW5nX3Byb2dyYW0uc3RhcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcnVubmluZ19wcm9ncmFtID0gaW5pdChwZW5kaW5nX3Byb2dyYW0sIGR1cmF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgcGVuZGluZ19wcm9ncmFtID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2gobm9kZSwgcnVubmluZ19wcm9ncmFtLmIsICdzdGFydCcpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY3NzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhcl9hbmltYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbl9uYW1lID0gY3JlYXRlX3J1bGUobm9kZSwgdCwgcnVubmluZ19wcm9ncmFtLmIsIHJ1bm5pbmdfcHJvZ3JhbS5kdXJhdGlvbiwgMCwgZWFzaW5nLCBjb25maWcuY3NzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocnVubmluZ19wcm9ncmFtKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChub3cgPj0gcnVubmluZ19wcm9ncmFtLmVuZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGljayh0ID0gcnVubmluZ19wcm9ncmFtLmIsIDEgLSB0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKG5vZGUsIHJ1bm5pbmdfcHJvZ3JhbS5iLCAnZW5kJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXBlbmRpbmdfcHJvZ3JhbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdlJ3JlIGRvbmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocnVubmluZ19wcm9ncmFtLmIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaW50cm8g4oCUIHdlIGNhbiB0aWR5IHVwIGltbWVkaWF0ZWx5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyX2FuaW1hdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gb3V0cm8g4oCUIG5lZWRzIHRvIGJlIGNvb3JkaW5hdGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghLS1ydW5uaW5nX3Byb2dyYW0uZ3JvdXAucilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bl9hbGwocnVubmluZ19wcm9ncmFtLmdyb3VwLmMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJ1bm5pbmdfcHJvZ3JhbSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAobm93ID49IHJ1bm5pbmdfcHJvZ3JhbS5zdGFydCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcCA9IG5vdyAtIHJ1bm5pbmdfcHJvZ3JhbS5zdGFydDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHQgPSBydW5uaW5nX3Byb2dyYW0uYSArIHJ1bm5pbmdfcHJvZ3JhbS5kICogZWFzaW5nKHAgLyBydW5uaW5nX3Byb2dyYW0uZHVyYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGljayh0LCAxIC0gdCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuICEhKHJ1bm5pbmdfcHJvZ3JhbSB8fCBwZW5kaW5nX3Byb2dyYW0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcnVuKGIpIHtcbiAgICAgICAgICAgIGlmIChpc19mdW5jdGlvbihjb25maWcpKSB7XG4gICAgICAgICAgICAgICAgd2FpdCgpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZyA9IGNvbmZpZygpO1xuICAgICAgICAgICAgICAgICAgICBnbyhiKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGdvKGIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbmQoKSB7XG4gICAgICAgICAgICBjbGVhcl9hbmltYXRpb24oKTtcbiAgICAgICAgICAgIHJ1bm5pbmdfcHJvZ3JhbSA9IHBlbmRpbmdfcHJvZ3JhbSA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xufVxuXG5mdW5jdGlvbiBoYW5kbGVfcHJvbWlzZShwcm9taXNlLCBpbmZvKSB7XG4gICAgY29uc3QgdG9rZW4gPSBpbmZvLnRva2VuID0ge307XG4gICAgZnVuY3Rpb24gdXBkYXRlKHR5cGUsIGluZGV4LCBrZXksIHZhbHVlKSB7XG4gICAgICAgIGlmIChpbmZvLnRva2VuICE9PSB0b2tlbilcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaW5mby5yZXNvbHZlZCA9IHZhbHVlO1xuICAgICAgICBsZXQgY2hpbGRfY3R4ID0gaW5mby5jdHg7XG4gICAgICAgIGlmIChrZXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY2hpbGRfY3R4ID0gY2hpbGRfY3R4LnNsaWNlKCk7XG4gICAgICAgICAgICBjaGlsZF9jdHhba2V5XSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGJsb2NrID0gdHlwZSAmJiAoaW5mby5jdXJyZW50ID0gdHlwZSkoY2hpbGRfY3R4KTtcbiAgICAgICAgbGV0IG5lZWRzX2ZsdXNoID0gZmFsc2U7XG4gICAgICAgIGlmIChpbmZvLmJsb2NrKSB7XG4gICAgICAgICAgICBpZiAoaW5mby5ibG9ja3MpIHtcbiAgICAgICAgICAgICAgICBpbmZvLmJsb2Nrcy5mb3JFYWNoKChibG9jaywgaSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaSAhPT0gaW5kZXggJiYgYmxvY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwX291dHJvcygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbl9vdXQoYmxvY2ssIDEsIDEsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5mby5ibG9ja3NbaV0gPT09IGJsb2NrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZm8uYmxvY2tzW2ldID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrX291dHJvcygpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpbmZvLmJsb2NrLmQoMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBibG9jay5jKCk7XG4gICAgICAgICAgICB0cmFuc2l0aW9uX2luKGJsb2NrLCAxKTtcbiAgICAgICAgICAgIGJsb2NrLm0oaW5mby5tb3VudCgpLCBpbmZvLmFuY2hvcik7XG4gICAgICAgICAgICBuZWVkc19mbHVzaCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaW5mby5ibG9jayA9IGJsb2NrO1xuICAgICAgICBpZiAoaW5mby5ibG9ja3MpXG4gICAgICAgICAgICBpbmZvLmJsb2Nrc1tpbmRleF0gPSBibG9jaztcbiAgICAgICAgaWYgKG5lZWRzX2ZsdXNoKSB7XG4gICAgICAgICAgICBmbHVzaCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChpc19wcm9taXNlKHByb21pc2UpKSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRfY29tcG9uZW50ID0gZ2V0X2N1cnJlbnRfY29tcG9uZW50KCk7XG4gICAgICAgIHByb21pc2UudGhlbih2YWx1ZSA9PiB7XG4gICAgICAgICAgICBzZXRfY3VycmVudF9jb21wb25lbnQoY3VycmVudF9jb21wb25lbnQpO1xuICAgICAgICAgICAgdXBkYXRlKGluZm8udGhlbiwgMSwgaW5mby52YWx1ZSwgdmFsdWUpO1xuICAgICAgICAgICAgc2V0X2N1cnJlbnRfY29tcG9uZW50KG51bGwpO1xuICAgICAgICB9LCBlcnJvciA9PiB7XG4gICAgICAgICAgICBzZXRfY3VycmVudF9jb21wb25lbnQoY3VycmVudF9jb21wb25lbnQpO1xuICAgICAgICAgICAgdXBkYXRlKGluZm8uY2F0Y2gsIDIsIGluZm8uZXJyb3IsIGVycm9yKTtcbiAgICAgICAgICAgIHNldF9jdXJyZW50X2NvbXBvbmVudChudWxsKTtcbiAgICAgICAgICAgIGlmICghaW5mby5oYXNDYXRjaCkge1xuICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gaWYgd2UgcHJldmlvdXNseSBoYWQgYSB0aGVuL2NhdGNoIGJsb2NrLCBkZXN0cm95IGl0XG4gICAgICAgIGlmIChpbmZvLmN1cnJlbnQgIT09IGluZm8ucGVuZGluZykge1xuICAgICAgICAgICAgdXBkYXRlKGluZm8ucGVuZGluZywgMCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKGluZm8uY3VycmVudCAhPT0gaW5mby50aGVuKSB7XG4gICAgICAgICAgICB1cGRhdGUoaW5mby50aGVuLCAxLCBpbmZvLnZhbHVlLCBwcm9taXNlKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGluZm8ucmVzb2x2ZWQgPSBwcm9taXNlO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHVwZGF0ZV9hd2FpdF9ibG9ja19icmFuY2goaW5mbywgY3R4LCBkaXJ0eSkge1xuICAgIGNvbnN0IGNoaWxkX2N0eCA9IGN0eC5zbGljZSgpO1xuICAgIGNvbnN0IHsgcmVzb2x2ZWQgfSA9IGluZm87XG4gICAgaWYgKGluZm8uY3VycmVudCA9PT0gaW5mby50aGVuKSB7XG4gICAgICAgIGNoaWxkX2N0eFtpbmZvLnZhbHVlXSA9IHJlc29sdmVkO1xuICAgIH1cbiAgICBpZiAoaW5mby5jdXJyZW50ID09PSBpbmZvLmNhdGNoKSB7XG4gICAgICAgIGNoaWxkX2N0eFtpbmZvLmVycm9yXSA9IHJlc29sdmVkO1xuICAgIH1cbiAgICBpbmZvLmJsb2NrLnAoY2hpbGRfY3R4LCBkaXJ0eSk7XG59XG5cbmNvbnN0IGdsb2JhbHMgPSAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCdcbiAgICA/IHdpbmRvd1xuICAgIDogdHlwZW9mIGdsb2JhbFRoaXMgIT09ICd1bmRlZmluZWQnXG4gICAgICAgID8gZ2xvYmFsVGhpc1xuICAgICAgICA6IGdsb2JhbCk7XG5cbmZ1bmN0aW9uIGRlc3Ryb3lfYmxvY2soYmxvY2ssIGxvb2t1cCkge1xuICAgIGJsb2NrLmQoMSk7XG4gICAgbG9va3VwLmRlbGV0ZShibG9jay5rZXkpO1xufVxuZnVuY3Rpb24gb3V0cm9fYW5kX2Rlc3Ryb3lfYmxvY2soYmxvY2ssIGxvb2t1cCkge1xuICAgIHRyYW5zaXRpb25fb3V0KGJsb2NrLCAxLCAxLCAoKSA9PiB7XG4gICAgICAgIGxvb2t1cC5kZWxldGUoYmxvY2sua2V5KTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGZpeF9hbmRfZGVzdHJveV9ibG9jayhibG9jaywgbG9va3VwKSB7XG4gICAgYmxvY2suZigpO1xuICAgIGRlc3Ryb3lfYmxvY2soYmxvY2ssIGxvb2t1cCk7XG59XG5mdW5jdGlvbiBmaXhfYW5kX291dHJvX2FuZF9kZXN0cm95X2Jsb2NrKGJsb2NrLCBsb29rdXApIHtcbiAgICBibG9jay5mKCk7XG4gICAgb3V0cm9fYW5kX2Rlc3Ryb3lfYmxvY2soYmxvY2ssIGxvb2t1cCk7XG59XG5mdW5jdGlvbiB1cGRhdGVfa2V5ZWRfZWFjaChvbGRfYmxvY2tzLCBkaXJ0eSwgZ2V0X2tleSwgZHluYW1pYywgY3R4LCBsaXN0LCBsb29rdXAsIG5vZGUsIGRlc3Ryb3ksIGNyZWF0ZV9lYWNoX2Jsb2NrLCBuZXh0LCBnZXRfY29udGV4dCkge1xuICAgIGxldCBvID0gb2xkX2Jsb2Nrcy5sZW5ndGg7XG4gICAgbGV0IG4gPSBsaXN0Lmxlbmd0aDtcbiAgICBsZXQgaSA9IG87XG4gICAgY29uc3Qgb2xkX2luZGV4ZXMgPSB7fTtcbiAgICB3aGlsZSAoaS0tKVxuICAgICAgICBvbGRfaW5kZXhlc1tvbGRfYmxvY2tzW2ldLmtleV0gPSBpO1xuICAgIGNvbnN0IG5ld19ibG9ja3MgPSBbXTtcbiAgICBjb25zdCBuZXdfbG9va3VwID0gbmV3IE1hcCgpO1xuICAgIGNvbnN0IGRlbHRhcyA9IG5ldyBNYXAoKTtcbiAgICBpID0gbjtcbiAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgIGNvbnN0IGNoaWxkX2N0eCA9IGdldF9jb250ZXh0KGN0eCwgbGlzdCwgaSk7XG4gICAgICAgIGNvbnN0IGtleSA9IGdldF9rZXkoY2hpbGRfY3R4KTtcbiAgICAgICAgbGV0IGJsb2NrID0gbG9va3VwLmdldChrZXkpO1xuICAgICAgICBpZiAoIWJsb2NrKSB7XG4gICAgICAgICAgICBibG9jayA9IGNyZWF0ZV9lYWNoX2Jsb2NrKGtleSwgY2hpbGRfY3R4KTtcbiAgICAgICAgICAgIGJsb2NrLmMoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkeW5hbWljKSB7XG4gICAgICAgICAgICBibG9jay5wKGNoaWxkX2N0eCwgZGlydHkpO1xuICAgICAgICB9XG4gICAgICAgIG5ld19sb29rdXAuc2V0KGtleSwgbmV3X2Jsb2Nrc1tpXSA9IGJsb2NrKTtcbiAgICAgICAgaWYgKGtleSBpbiBvbGRfaW5kZXhlcylcbiAgICAgICAgICAgIGRlbHRhcy5zZXQoa2V5LCBNYXRoLmFicyhpIC0gb2xkX2luZGV4ZXNba2V5XSkpO1xuICAgIH1cbiAgICBjb25zdCB3aWxsX21vdmUgPSBuZXcgU2V0KCk7XG4gICAgY29uc3QgZGlkX21vdmUgPSBuZXcgU2V0KCk7XG4gICAgZnVuY3Rpb24gaW5zZXJ0KGJsb2NrKSB7XG4gICAgICAgIHRyYW5zaXRpb25faW4oYmxvY2ssIDEpO1xuICAgICAgICBibG9jay5tKG5vZGUsIG5leHQpO1xuICAgICAgICBsb29rdXAuc2V0KGJsb2NrLmtleSwgYmxvY2spO1xuICAgICAgICBuZXh0ID0gYmxvY2suZmlyc3Q7XG4gICAgICAgIG4tLTtcbiAgICB9XG4gICAgd2hpbGUgKG8gJiYgbikge1xuICAgICAgICBjb25zdCBuZXdfYmxvY2sgPSBuZXdfYmxvY2tzW24gLSAxXTtcbiAgICAgICAgY29uc3Qgb2xkX2Jsb2NrID0gb2xkX2Jsb2Nrc1tvIC0gMV07XG4gICAgICAgIGNvbnN0IG5ld19rZXkgPSBuZXdfYmxvY2sua2V5O1xuICAgICAgICBjb25zdCBvbGRfa2V5ID0gb2xkX2Jsb2NrLmtleTtcbiAgICAgICAgaWYgKG5ld19ibG9jayA9PT0gb2xkX2Jsb2NrKSB7XG4gICAgICAgICAgICAvLyBkbyBub3RoaW5nXG4gICAgICAgICAgICBuZXh0ID0gbmV3X2Jsb2NrLmZpcnN0O1xuICAgICAgICAgICAgby0tO1xuICAgICAgICAgICAgbi0tO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFuZXdfbG9va3VwLmhhcyhvbGRfa2V5KSkge1xuICAgICAgICAgICAgLy8gcmVtb3ZlIG9sZCBibG9ja1xuICAgICAgICAgICAgZGVzdHJveShvbGRfYmxvY2ssIGxvb2t1cCk7XG4gICAgICAgICAgICBvLS07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIWxvb2t1cC5oYXMobmV3X2tleSkgfHwgd2lsbF9tb3ZlLmhhcyhuZXdfa2V5KSkge1xuICAgICAgICAgICAgaW5zZXJ0KG5ld19ibG9jayk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZGlkX21vdmUuaGFzKG9sZF9rZXkpKSB7XG4gICAgICAgICAgICBvLS07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZGVsdGFzLmdldChuZXdfa2V5KSA+IGRlbHRhcy5nZXQob2xkX2tleSkpIHtcbiAgICAgICAgICAgIGRpZF9tb3ZlLmFkZChuZXdfa2V5KTtcbiAgICAgICAgICAgIGluc2VydChuZXdfYmxvY2spO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgd2lsbF9tb3ZlLmFkZChvbGRfa2V5KTtcbiAgICAgICAgICAgIG8tLTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB3aGlsZSAoby0tKSB7XG4gICAgICAgIGNvbnN0IG9sZF9ibG9jayA9IG9sZF9ibG9ja3Nbb107XG4gICAgICAgIGlmICghbmV3X2xvb2t1cC5oYXMob2xkX2Jsb2NrLmtleSkpXG4gICAgICAgICAgICBkZXN0cm95KG9sZF9ibG9jaywgbG9va3VwKTtcbiAgICB9XG4gICAgd2hpbGUgKG4pXG4gICAgICAgIGluc2VydChuZXdfYmxvY2tzW24gLSAxXSk7XG4gICAgcmV0dXJuIG5ld19ibG9ja3M7XG59XG5mdW5jdGlvbiB2YWxpZGF0ZV9lYWNoX2tleXMoY3R4LCBsaXN0LCBnZXRfY29udGV4dCwgZ2V0X2tleSkge1xuICAgIGNvbnN0IGtleXMgPSBuZXcgU2V0KCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGtleSA9IGdldF9rZXkoZ2V0X2NvbnRleHQoY3R4LCBsaXN0LCBpKSk7XG4gICAgICAgIGlmIChrZXlzLmhhcyhrZXkpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBoYXZlIGR1cGxpY2F0ZSBrZXlzIGluIGEga2V5ZWQgZWFjaCcpO1xuICAgICAgICB9XG4gICAgICAgIGtleXMuYWRkKGtleSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBnZXRfc3ByZWFkX3VwZGF0ZShsZXZlbHMsIHVwZGF0ZXMpIHtcbiAgICBjb25zdCB1cGRhdGUgPSB7fTtcbiAgICBjb25zdCB0b19udWxsX291dCA9IHt9O1xuICAgIGNvbnN0IGFjY291bnRlZF9mb3IgPSB7ICQkc2NvcGU6IDEgfTtcbiAgICBsZXQgaSA9IGxldmVscy5sZW5ndGg7XG4gICAgd2hpbGUgKGktLSkge1xuICAgICAgICBjb25zdCBvID0gbGV2ZWxzW2ldO1xuICAgICAgICBjb25zdCBuID0gdXBkYXRlc1tpXTtcbiAgICAgICAgaWYgKG4pIHtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIG8pIHtcbiAgICAgICAgICAgICAgICBpZiAoIShrZXkgaW4gbikpXG4gICAgICAgICAgICAgICAgICAgIHRvX251bGxfb3V0W2tleV0gPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gbikge1xuICAgICAgICAgICAgICAgIGlmICghYWNjb3VudGVkX2ZvcltrZXldKSB7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZVtrZXldID0gbltrZXldO1xuICAgICAgICAgICAgICAgICAgICBhY2NvdW50ZWRfZm9yW2tleV0gPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldmVsc1tpXSA9IG47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBvKSB7XG4gICAgICAgICAgICAgICAgYWNjb3VudGVkX2ZvcltrZXldID0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGNvbnN0IGtleSBpbiB0b19udWxsX291dCkge1xuICAgICAgICBpZiAoIShrZXkgaW4gdXBkYXRlKSlcbiAgICAgICAgICAgIHVwZGF0ZVtrZXldID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICByZXR1cm4gdXBkYXRlO1xufVxuZnVuY3Rpb24gZ2V0X3NwcmVhZF9vYmplY3Qoc3ByZWFkX3Byb3BzKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBzcHJlYWRfcHJvcHMgPT09ICdvYmplY3QnICYmIHNwcmVhZF9wcm9wcyAhPT0gbnVsbCA/IHNwcmVhZF9wcm9wcyA6IHt9O1xufVxuXG4vLyBzb3VyY2U6IGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL2luZGljZXMuaHRtbFxuY29uc3QgYm9vbGVhbl9hdHRyaWJ1dGVzID0gbmV3IFNldChbXG4gICAgJ2FsbG93ZnVsbHNjcmVlbicsXG4gICAgJ2FsbG93cGF5bWVudHJlcXVlc3QnLFxuICAgICdhc3luYycsXG4gICAgJ2F1dG9mb2N1cycsXG4gICAgJ2F1dG9wbGF5JyxcbiAgICAnY2hlY2tlZCcsXG4gICAgJ2NvbnRyb2xzJyxcbiAgICAnZGVmYXVsdCcsXG4gICAgJ2RlZmVyJyxcbiAgICAnZGlzYWJsZWQnLFxuICAgICdmb3Jtbm92YWxpZGF0ZScsXG4gICAgJ2hpZGRlbicsXG4gICAgJ2lzbWFwJyxcbiAgICAnbG9vcCcsXG4gICAgJ211bHRpcGxlJyxcbiAgICAnbXV0ZWQnLFxuICAgICdub21vZHVsZScsXG4gICAgJ25vdmFsaWRhdGUnLFxuICAgICdvcGVuJyxcbiAgICAncGxheXNpbmxpbmUnLFxuICAgICdyZWFkb25seScsXG4gICAgJ3JlcXVpcmVkJyxcbiAgICAncmV2ZXJzZWQnLFxuICAgICdzZWxlY3RlZCdcbl0pO1xuXG5jb25zdCB2b2lkX2VsZW1lbnRfbmFtZXMgPSAvXig/OmFyZWF8YmFzZXxicnxjb2x8Y29tbWFuZHxlbWJlZHxocnxpbWd8aW5wdXR8a2V5Z2VufGxpbmt8bWV0YXxwYXJhbXxzb3VyY2V8dHJhY2t8d2JyKSQvO1xuZnVuY3Rpb24gaXNfdm9pZChuYW1lKSB7XG4gICAgcmV0dXJuIHZvaWRfZWxlbWVudF9uYW1lcy50ZXN0KG5hbWUpIHx8IG5hbWUudG9Mb3dlckNhc2UoKSA9PT0gJyFkb2N0eXBlJztcbn1cblxuY29uc3QgaW52YWxpZF9hdHRyaWJ1dGVfbmFtZV9jaGFyYWN0ZXIgPSAvW1xccydcIj4vPVxcdXtGREQwfS1cXHV7RkRFRn1cXHV7RkZGRX1cXHV7RkZGRn1cXHV7MUZGRkV9XFx1ezFGRkZGfVxcdXsyRkZGRX1cXHV7MkZGRkZ9XFx1ezNGRkZFfVxcdXszRkZGRn1cXHV7NEZGRkV9XFx1ezRGRkZGfVxcdXs1RkZGRX1cXHV7NUZGRkZ9XFx1ezZGRkZFfVxcdXs2RkZGRn1cXHV7N0ZGRkV9XFx1ezdGRkZGfVxcdXs4RkZGRX1cXHV7OEZGRkZ9XFx1ezlGRkZFfVxcdXs5RkZGRn1cXHV7QUZGRkV9XFx1e0FGRkZGfVxcdXtCRkZGRX1cXHV7QkZGRkZ9XFx1e0NGRkZFfVxcdXtDRkZGRn1cXHV7REZGRkV9XFx1e0RGRkZGfVxcdXtFRkZGRX1cXHV7RUZGRkZ9XFx1e0ZGRkZFfVxcdXtGRkZGRn1cXHV7MTBGRkZFfVxcdXsxMEZGRkZ9XS91O1xuLy8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2Uvc3ludGF4Lmh0bWwjYXR0cmlidXRlcy0yXG4vLyBodHRwczovL2luZnJhLnNwZWMud2hhdHdnLm9yZy8jbm9uY2hhcmFjdGVyXG5mdW5jdGlvbiBzcHJlYWQoYXJncywgYXR0cnNfdG9fYWRkKSB7XG4gICAgY29uc3QgYXR0cmlidXRlcyA9IE9iamVjdC5hc3NpZ24oe30sIC4uLmFyZ3MpO1xuICAgIGlmIChhdHRyc190b19hZGQpIHtcbiAgICAgICAgY29uc3QgY2xhc3Nlc190b19hZGQgPSBhdHRyc190b19hZGQuY2xhc3NlcztcbiAgICAgICAgY29uc3Qgc3R5bGVzX3RvX2FkZCA9IGF0dHJzX3RvX2FkZC5zdHlsZXM7XG4gICAgICAgIGlmIChjbGFzc2VzX3RvX2FkZCkge1xuICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZXMuY2xhc3MgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXMuY2xhc3MgPSBjbGFzc2VzX3RvX2FkZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXMuY2xhc3MgKz0gJyAnICsgY2xhc3Nlc190b19hZGQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0eWxlc190b19hZGQpIHtcbiAgICAgICAgICAgIGlmIChhdHRyaWJ1dGVzLnN0eWxlID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzLnN0eWxlID0gc3R5bGVfb2JqZWN0X3RvX3N0cmluZyhzdHlsZXNfdG9fYWRkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXMuc3R5bGUgPSBzdHlsZV9vYmplY3RfdG9fc3RyaW5nKG1lcmdlX3Nzcl9zdHlsZXMoYXR0cmlidXRlcy5zdHlsZSwgc3R5bGVzX3RvX2FkZCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGxldCBzdHIgPSAnJztcbiAgICBPYmplY3Qua2V5cyhhdHRyaWJ1dGVzKS5mb3JFYWNoKG5hbWUgPT4ge1xuICAgICAgICBpZiAoaW52YWxpZF9hdHRyaWJ1dGVfbmFtZV9jaGFyYWN0ZXIudGVzdChuYW1lKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBhdHRyaWJ1dGVzW25hbWVdO1xuICAgICAgICBpZiAodmFsdWUgPT09IHRydWUpXG4gICAgICAgICAgICBzdHIgKz0gJyAnICsgbmFtZTtcbiAgICAgICAgZWxzZSBpZiAoYm9vbGVhbl9hdHRyaWJ1dGVzLmhhcyhuYW1lLnRvTG93ZXJDYXNlKCkpKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUpXG4gICAgICAgICAgICAgICAgc3RyICs9ICcgJyArIG5hbWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgc3RyICs9IGAgJHtuYW1lfT1cIiR7dmFsdWV9XCJgO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHN0cjtcbn1cbmZ1bmN0aW9uIG1lcmdlX3Nzcl9zdHlsZXMoc3R5bGVfYXR0cmlidXRlLCBzdHlsZV9kaXJlY3RpdmUpIHtcbiAgICBjb25zdCBzdHlsZV9vYmplY3QgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGluZGl2aWR1YWxfc3R5bGUgb2Ygc3R5bGVfYXR0cmlidXRlLnNwbGl0KCc7JykpIHtcbiAgICAgICAgY29uc3QgY29sb25faW5kZXggPSBpbmRpdmlkdWFsX3N0eWxlLmluZGV4T2YoJzonKTtcbiAgICAgICAgY29uc3QgbmFtZSA9IGluZGl2aWR1YWxfc3R5bGUuc2xpY2UoMCwgY29sb25faW5kZXgpLnRyaW0oKTtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBpbmRpdmlkdWFsX3N0eWxlLnNsaWNlKGNvbG9uX2luZGV4ICsgMSkudHJpbSgpO1xuICAgICAgICBpZiAoIW5hbWUpXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgc3R5bGVfb2JqZWN0W25hbWVdID0gdmFsdWU7XG4gICAgfVxuICAgIGZvciAoY29uc3QgbmFtZSBpbiBzdHlsZV9kaXJlY3RpdmUpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBzdHlsZV9kaXJlY3RpdmVbbmFtZV07XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgc3R5bGVfb2JqZWN0W25hbWVdID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBkZWxldGUgc3R5bGVfb2JqZWN0W25hbWVdO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzdHlsZV9vYmplY3Q7XG59XG5jb25zdCBlc2NhcGVkID0ge1xuICAgICdcIic6ICcmcXVvdDsnLFxuICAgIFwiJ1wiOiAnJiMzOTsnLFxuICAgICcmJzogJyZhbXA7JyxcbiAgICAnPCc6ICcmbHQ7JyxcbiAgICAnPic6ICcmZ3Q7J1xufTtcbmZ1bmN0aW9uIGVzY2FwZShodG1sKSB7XG4gICAgcmV0dXJuIFN0cmluZyhodG1sKS5yZXBsYWNlKC9bXCInJjw+XS9nLCBtYXRjaCA9PiBlc2NhcGVkW21hdGNoXSk7XG59XG5mdW5jdGlvbiBlc2NhcGVfYXR0cmlidXRlX3ZhbHVlKHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgPyBlc2NhcGUodmFsdWUpIDogdmFsdWU7XG59XG5mdW5jdGlvbiBlc2NhcGVfb2JqZWN0KG9iaikge1xuICAgIGNvbnN0IHJlc3VsdCA9IHt9O1xuICAgIGZvciAoY29uc3Qga2V5IGluIG9iaikge1xuICAgICAgICByZXN1bHRba2V5XSA9IGVzY2FwZV9hdHRyaWJ1dGVfdmFsdWUob2JqW2tleV0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gZWFjaChpdGVtcywgZm4pIHtcbiAgICBsZXQgc3RyID0gJyc7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpdGVtcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBzdHIgKz0gZm4oaXRlbXNbaV0sIGkpO1xuICAgIH1cbiAgICByZXR1cm4gc3RyO1xufVxuY29uc3QgbWlzc2luZ19jb21wb25lbnQgPSB7XG4gICAgJCRyZW5kZXI6ICgpID0+ICcnXG59O1xuZnVuY3Rpb24gdmFsaWRhdGVfY29tcG9uZW50KGNvbXBvbmVudCwgbmFtZSkge1xuICAgIGlmICghY29tcG9uZW50IHx8ICFjb21wb25lbnQuJCRyZW5kZXIpIHtcbiAgICAgICAgaWYgKG5hbWUgPT09ICdzdmVsdGU6Y29tcG9uZW50JylcbiAgICAgICAgICAgIG5hbWUgKz0gJyB0aGlzPXsuLi59JztcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGA8JHtuYW1lfT4gaXMgbm90IGEgdmFsaWQgU1NSIGNvbXBvbmVudC4gWW91IG1heSBuZWVkIHRvIHJldmlldyB5b3VyIGJ1aWxkIGNvbmZpZyB0byBlbnN1cmUgdGhhdCBkZXBlbmRlbmNpZXMgYXJlIGNvbXBpbGVkLCByYXRoZXIgdGhhbiBpbXBvcnRlZCBhcyBwcmUtY29tcGlsZWQgbW9kdWxlc2ApO1xuICAgIH1cbiAgICByZXR1cm4gY29tcG9uZW50O1xufVxuZnVuY3Rpb24gZGVidWcoZmlsZSwgbGluZSwgY29sdW1uLCB2YWx1ZXMpIHtcbiAgICBjb25zb2xlLmxvZyhge0BkZWJ1Z30gJHtmaWxlID8gZmlsZSArICcgJyA6ICcnfSgke2xpbmV9OiR7Y29sdW1ufSlgKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlXG4gICAgY29uc29sZS5sb2codmFsdWVzKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlXG4gICAgcmV0dXJuICcnO1xufVxubGV0IG9uX2Rlc3Ryb3k7XG5mdW5jdGlvbiBjcmVhdGVfc3NyX2NvbXBvbmVudChmbikge1xuICAgIGZ1bmN0aW9uICQkcmVuZGVyKHJlc3VsdCwgcHJvcHMsIGJpbmRpbmdzLCBzbG90cywgY29udGV4dCkge1xuICAgICAgICBjb25zdCBwYXJlbnRfY29tcG9uZW50ID0gY3VycmVudF9jb21wb25lbnQ7XG4gICAgICAgIGNvbnN0ICQkID0ge1xuICAgICAgICAgICAgb25fZGVzdHJveSxcbiAgICAgICAgICAgIGNvbnRleHQ6IG5ldyBNYXAoY29udGV4dCB8fCAocGFyZW50X2NvbXBvbmVudCA/IHBhcmVudF9jb21wb25lbnQuJCQuY29udGV4dCA6IFtdKSksXG4gICAgICAgICAgICAvLyB0aGVzZSB3aWxsIGJlIGltbWVkaWF0ZWx5IGRpc2NhcmRlZFxuICAgICAgICAgICAgb25fbW91bnQ6IFtdLFxuICAgICAgICAgICAgYmVmb3JlX3VwZGF0ZTogW10sXG4gICAgICAgICAgICBhZnRlcl91cGRhdGU6IFtdLFxuICAgICAgICAgICAgY2FsbGJhY2tzOiBibGFua19vYmplY3QoKVxuICAgICAgICB9O1xuICAgICAgICBzZXRfY3VycmVudF9jb21wb25lbnQoeyAkJCB9KTtcbiAgICAgICAgY29uc3QgaHRtbCA9IGZuKHJlc3VsdCwgcHJvcHMsIGJpbmRpbmdzLCBzbG90cyk7XG4gICAgICAgIHNldF9jdXJyZW50X2NvbXBvbmVudChwYXJlbnRfY29tcG9uZW50KTtcbiAgICAgICAgcmV0dXJuIGh0bWw7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHJlbmRlcjogKHByb3BzID0ge30sIHsgJCRzbG90cyA9IHt9LCBjb250ZXh0ID0gbmV3IE1hcCgpIH0gPSB7fSkgPT4ge1xuICAgICAgICAgICAgb25fZGVzdHJveSA9IFtdO1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0geyB0aXRsZTogJycsIGhlYWQ6ICcnLCBjc3M6IG5ldyBTZXQoKSB9O1xuICAgICAgICAgICAgY29uc3QgaHRtbCA9ICQkcmVuZGVyKHJlc3VsdCwgcHJvcHMsIHt9LCAkJHNsb3RzLCBjb250ZXh0KTtcbiAgICAgICAgICAgIHJ1bl9hbGwob25fZGVzdHJveSk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGh0bWwsXG4gICAgICAgICAgICAgICAgY3NzOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IEFycmF5LmZyb20ocmVzdWx0LmNzcykubWFwKGNzcyA9PiBjc3MuY29kZSkuam9pbignXFxuJyksXG4gICAgICAgICAgICAgICAgICAgIG1hcDogbnVsbCAvLyBUT0RPXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBoZWFkOiByZXN1bHQudGl0bGUgKyByZXN1bHQuaGVhZFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICAgJCRyZW5kZXJcbiAgICB9O1xufVxuZnVuY3Rpb24gYWRkX2F0dHJpYnV0ZShuYW1lLCB2YWx1ZSwgYm9vbGVhbikge1xuICAgIGlmICh2YWx1ZSA9PSBudWxsIHx8IChib29sZWFuICYmICF2YWx1ZSkpXG4gICAgICAgIHJldHVybiAnJztcbiAgICBjb25zdCBhc3NpZ25tZW50ID0gKGJvb2xlYW4gJiYgdmFsdWUgPT09IHRydWUpID8gJycgOiBgPVwiJHtlc2NhcGVfYXR0cmlidXRlX3ZhbHVlKHZhbHVlLnRvU3RyaW5nKCkpfVwiYDtcbiAgICByZXR1cm4gYCAke25hbWV9JHthc3NpZ25tZW50fWA7XG59XG5mdW5jdGlvbiBhZGRfY2xhc3NlcyhjbGFzc2VzKSB7XG4gICAgcmV0dXJuIGNsYXNzZXMgPyBgIGNsYXNzPVwiJHtjbGFzc2VzfVwiYCA6ICcnO1xufVxuZnVuY3Rpb24gc3R5bGVfb2JqZWN0X3RvX3N0cmluZyhzdHlsZV9vYmplY3QpIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXMoc3R5bGVfb2JqZWN0KVxuICAgICAgICAuZmlsdGVyKGtleSA9PiBzdHlsZV9vYmplY3Rba2V5XSlcbiAgICAgICAgLm1hcChrZXkgPT4gYCR7a2V5fTogJHtzdHlsZV9vYmplY3Rba2V5XX07YClcbiAgICAgICAgLmpvaW4oJyAnKTtcbn1cbmZ1bmN0aW9uIGFkZF9zdHlsZXMoc3R5bGVfb2JqZWN0KSB7XG4gICAgY29uc3Qgc3R5bGVzID0gc3R5bGVfb2JqZWN0X3RvX3N0cmluZyhzdHlsZV9vYmplY3QpO1xuICAgIHJldHVybiBzdHlsZXMgPyBgIHN0eWxlPVwiJHtzdHlsZXN9XCJgIDogJyc7XG59XG5cbmZ1bmN0aW9uIGJpbmQoY29tcG9uZW50LCBuYW1lLCBjYWxsYmFjaykge1xuICAgIGNvbnN0IGluZGV4ID0gY29tcG9uZW50LiQkLnByb3BzW25hbWVdO1xuICAgIGlmIChpbmRleCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbXBvbmVudC4kJC5ib3VuZFtpbmRleF0gPSBjYWxsYmFjaztcbiAgICAgICAgY2FsbGJhY2soY29tcG9uZW50LiQkLmN0eFtpbmRleF0pO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNyZWF0ZV9jb21wb25lbnQoYmxvY2spIHtcbiAgICBibG9jayAmJiBibG9jay5jKCk7XG59XG5mdW5jdGlvbiBjbGFpbV9jb21wb25lbnQoYmxvY2ssIHBhcmVudF9ub2Rlcykge1xuICAgIGJsb2NrICYmIGJsb2NrLmwocGFyZW50X25vZGVzKTtcbn1cbmZ1bmN0aW9uIG1vdW50X2NvbXBvbmVudChjb21wb25lbnQsIHRhcmdldCwgYW5jaG9yLCBjdXN0b21FbGVtZW50KSB7XG4gICAgY29uc3QgeyBmcmFnbWVudCwgb25fbW91bnQsIG9uX2Rlc3Ryb3ksIGFmdGVyX3VwZGF0ZSB9ID0gY29tcG9uZW50LiQkO1xuICAgIGZyYWdtZW50ICYmIGZyYWdtZW50Lm0odGFyZ2V0LCBhbmNob3IpO1xuICAgIGlmICghY3VzdG9tRWxlbWVudCkge1xuICAgICAgICAvLyBvbk1vdW50IGhhcHBlbnMgYmVmb3JlIHRoZSBpbml0aWFsIGFmdGVyVXBkYXRlXG4gICAgICAgIGFkZF9yZW5kZXJfY2FsbGJhY2soKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbmV3X29uX2Rlc3Ryb3kgPSBvbl9tb3VudC5tYXAocnVuKS5maWx0ZXIoaXNfZnVuY3Rpb24pO1xuICAgICAgICAgICAgaWYgKG9uX2Rlc3Ryb3kpIHtcbiAgICAgICAgICAgICAgICBvbl9kZXN0cm95LnB1c2goLi4ubmV3X29uX2Rlc3Ryb3kpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gRWRnZSBjYXNlIC0gY29tcG9uZW50IHdhcyBkZXN0cm95ZWQgaW1tZWRpYXRlbHksXG4gICAgICAgICAgICAgICAgLy8gbW9zdCBsaWtlbHkgYXMgYSByZXN1bHQgb2YgYSBiaW5kaW5nIGluaXRpYWxpc2luZ1xuICAgICAgICAgICAgICAgIHJ1bl9hbGwobmV3X29uX2Rlc3Ryb3kpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29tcG9uZW50LiQkLm9uX21vdW50ID0gW107XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBhZnRlcl91cGRhdGUuZm9yRWFjaChhZGRfcmVuZGVyX2NhbGxiYWNrKTtcbn1cbmZ1bmN0aW9uIGRlc3Ryb3lfY29tcG9uZW50KGNvbXBvbmVudCwgZGV0YWNoaW5nKSB7XG4gICAgY29uc3QgJCQgPSBjb21wb25lbnQuJCQ7XG4gICAgaWYgKCQkLmZyYWdtZW50ICE9PSBudWxsKSB7XG4gICAgICAgIHJ1bl9hbGwoJCQub25fZGVzdHJveSk7XG4gICAgICAgICQkLmZyYWdtZW50ICYmICQkLmZyYWdtZW50LmQoZGV0YWNoaW5nKTtcbiAgICAgICAgLy8gVE9ETyBudWxsIG91dCBvdGhlciByZWZzLCBpbmNsdWRpbmcgY29tcG9uZW50LiQkIChidXQgbmVlZCB0b1xuICAgICAgICAvLyBwcmVzZXJ2ZSBmaW5hbCBzdGF0ZT8pXG4gICAgICAgICQkLm9uX2Rlc3Ryb3kgPSAkJC5mcmFnbWVudCA9IG51bGw7XG4gICAgICAgICQkLmN0eCA9IFtdO1xuICAgIH1cbn1cbmZ1bmN0aW9uIG1ha2VfZGlydHkoY29tcG9uZW50LCBpKSB7XG4gICAgaWYgKGNvbXBvbmVudC4kJC5kaXJ0eVswXSA9PT0gLTEpIHtcbiAgICAgICAgZGlydHlfY29tcG9uZW50cy5wdXNoKGNvbXBvbmVudCk7XG4gICAgICAgIHNjaGVkdWxlX3VwZGF0ZSgpO1xuICAgICAgICBjb21wb25lbnQuJCQuZGlydHkuZmlsbCgwKTtcbiAgICB9XG4gICAgY29tcG9uZW50LiQkLmRpcnR5WyhpIC8gMzEpIHwgMF0gfD0gKDEgPDwgKGkgJSAzMSkpO1xufVxuZnVuY3Rpb24gaW5pdChjb21wb25lbnQsIG9wdGlvbnMsIGluc3RhbmNlLCBjcmVhdGVfZnJhZ21lbnQsIG5vdF9lcXVhbCwgcHJvcHMsIGFwcGVuZF9zdHlsZXMsIGRpcnR5ID0gWy0xXSkge1xuICAgIGNvbnN0IHBhcmVudF9jb21wb25lbnQgPSBjdXJyZW50X2NvbXBvbmVudDtcbiAgICBzZXRfY3VycmVudF9jb21wb25lbnQoY29tcG9uZW50KTtcbiAgICBjb25zdCAkJCA9IGNvbXBvbmVudC4kJCA9IHtcbiAgICAgICAgZnJhZ21lbnQ6IG51bGwsXG4gICAgICAgIGN0eDogbnVsbCxcbiAgICAgICAgLy8gc3RhdGVcbiAgICAgICAgcHJvcHMsXG4gICAgICAgIHVwZGF0ZTogbm9vcCxcbiAgICAgICAgbm90X2VxdWFsLFxuICAgICAgICBib3VuZDogYmxhbmtfb2JqZWN0KCksXG4gICAgICAgIC8vIGxpZmVjeWNsZVxuICAgICAgICBvbl9tb3VudDogW10sXG4gICAgICAgIG9uX2Rlc3Ryb3k6IFtdLFxuICAgICAgICBvbl9kaXNjb25uZWN0OiBbXSxcbiAgICAgICAgYmVmb3JlX3VwZGF0ZTogW10sXG4gICAgICAgIGFmdGVyX3VwZGF0ZTogW10sXG4gICAgICAgIGNvbnRleHQ6IG5ldyBNYXAob3B0aW9ucy5jb250ZXh0IHx8IChwYXJlbnRfY29tcG9uZW50ID8gcGFyZW50X2NvbXBvbmVudC4kJC5jb250ZXh0IDogW10pKSxcbiAgICAgICAgLy8gZXZlcnl0aGluZyBlbHNlXG4gICAgICAgIGNhbGxiYWNrczogYmxhbmtfb2JqZWN0KCksXG4gICAgICAgIGRpcnR5LFxuICAgICAgICBza2lwX2JvdW5kOiBmYWxzZSxcbiAgICAgICAgcm9vdDogb3B0aW9ucy50YXJnZXQgfHwgcGFyZW50X2NvbXBvbmVudC4kJC5yb290XG4gICAgfTtcbiAgICBhcHBlbmRfc3R5bGVzICYmIGFwcGVuZF9zdHlsZXMoJCQucm9vdCk7XG4gICAgbGV0IHJlYWR5ID0gZmFsc2U7XG4gICAgJCQuY3R4ID0gaW5zdGFuY2VcbiAgICAgICAgPyBpbnN0YW5jZShjb21wb25lbnQsIG9wdGlvbnMucHJvcHMgfHwge30sIChpLCByZXQsIC4uLnJlc3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gcmVzdC5sZW5ndGggPyByZXN0WzBdIDogcmV0O1xuICAgICAgICAgICAgaWYgKCQkLmN0eCAmJiBub3RfZXF1YWwoJCQuY3R4W2ldLCAkJC5jdHhbaV0gPSB2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBpZiAoISQkLnNraXBfYm91bmQgJiYgJCQuYm91bmRbaV0pXG4gICAgICAgICAgICAgICAgICAgICQkLmJvdW5kW2ldKHZhbHVlKTtcbiAgICAgICAgICAgICAgICBpZiAocmVhZHkpXG4gICAgICAgICAgICAgICAgICAgIG1ha2VfZGlydHkoY29tcG9uZW50LCBpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgIH0pXG4gICAgICAgIDogW107XG4gICAgJCQudXBkYXRlKCk7XG4gICAgcmVhZHkgPSB0cnVlO1xuICAgIHJ1bl9hbGwoJCQuYmVmb3JlX3VwZGF0ZSk7XG4gICAgLy8gYGZhbHNlYCBhcyBhIHNwZWNpYWwgY2FzZSBvZiBubyBET00gY29tcG9uZW50XG4gICAgJCQuZnJhZ21lbnQgPSBjcmVhdGVfZnJhZ21lbnQgPyBjcmVhdGVfZnJhZ21lbnQoJCQuY3R4KSA6IGZhbHNlO1xuICAgIGlmIChvcHRpb25zLnRhcmdldCkge1xuICAgICAgICBpZiAob3B0aW9ucy5oeWRyYXRlKSB7XG4gICAgICAgICAgICBzdGFydF9oeWRyYXRpbmcoKTtcbiAgICAgICAgICAgIGNvbnN0IG5vZGVzID0gY2hpbGRyZW4ob3B0aW9ucy50YXJnZXQpO1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb25cbiAgICAgICAgICAgICQkLmZyYWdtZW50ICYmICQkLmZyYWdtZW50Lmwobm9kZXMpO1xuICAgICAgICAgICAgbm9kZXMuZm9yRWFjaChkZXRhY2gpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb25cbiAgICAgICAgICAgICQkLmZyYWdtZW50ICYmICQkLmZyYWdtZW50LmMoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucy5pbnRybylcbiAgICAgICAgICAgIHRyYW5zaXRpb25faW4oY29tcG9uZW50LiQkLmZyYWdtZW50KTtcbiAgICAgICAgbW91bnRfY29tcG9uZW50KGNvbXBvbmVudCwgb3B0aW9ucy50YXJnZXQsIG9wdGlvbnMuYW5jaG9yLCBvcHRpb25zLmN1c3RvbUVsZW1lbnQpO1xuICAgICAgICBlbmRfaHlkcmF0aW5nKCk7XG4gICAgICAgIGZsdXNoKCk7XG4gICAgfVxuICAgIHNldF9jdXJyZW50X2NvbXBvbmVudChwYXJlbnRfY29tcG9uZW50KTtcbn1cbmxldCBTdmVsdGVFbGVtZW50O1xuaWYgKHR5cGVvZiBIVE1MRWxlbWVudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIFN2ZWx0ZUVsZW1lbnQgPSBjbGFzcyBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgICAgICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgICAgICBzdXBlcigpO1xuICAgICAgICAgICAgdGhpcy5hdHRhY2hTaGFkb3coeyBtb2RlOiAnb3BlbicgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICAgICAgICBjb25zdCB7IG9uX21vdW50IH0gPSB0aGlzLiQkO1xuICAgICAgICAgICAgdGhpcy4kJC5vbl9kaXNjb25uZWN0ID0gb25fbW91bnQubWFwKHJ1bikuZmlsdGVyKGlzX2Z1bmN0aW9uKTtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmUgdG9kbzogaW1wcm92ZSB0eXBpbmdzXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiB0aGlzLiQkLnNsb3R0ZWQpIHtcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlIHRvZG86IGltcHJvdmUgdHlwaW5nc1xuICAgICAgICAgICAgICAgIHRoaXMuYXBwZW5kQ2hpbGQodGhpcy4kJC5zbG90dGVkW2tleV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayhhdHRyLCBfb2xkVmFsdWUsIG5ld1ZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzW2F0dHJdID0gbmV3VmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICAgICAgICBydW5fYWxsKHRoaXMuJCQub25fZGlzY29ubmVjdCk7XG4gICAgICAgIH1cbiAgICAgICAgJGRlc3Ryb3koKSB7XG4gICAgICAgICAgICBkZXN0cm95X2NvbXBvbmVudCh0aGlzLCAxKTtcbiAgICAgICAgICAgIHRoaXMuJGRlc3Ryb3kgPSBub29wO1xuICAgICAgICB9XG4gICAgICAgICRvbih0eXBlLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgLy8gVE9ETyBzaG91bGQgdGhpcyBkZWxlZ2F0ZSB0byBhZGRFdmVudExpc3RlbmVyP1xuICAgICAgICAgICAgY29uc3QgY2FsbGJhY2tzID0gKHRoaXMuJCQuY2FsbGJhY2tzW3R5cGVdIHx8ICh0aGlzLiQkLmNhbGxiYWNrc1t0eXBlXSA9IFtdKSk7XG4gICAgICAgICAgICBjYWxsYmFja3MucHVzaChjYWxsYmFjayk7XG4gICAgICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gY2FsbGJhY2tzLmluZGV4T2YoY2FsbGJhY2spO1xuICAgICAgICAgICAgICAgIGlmIChpbmRleCAhPT0gLTEpXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICAkc2V0KCQkcHJvcHMpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLiQkc2V0ICYmICFpc19lbXB0eSgkJHByb3BzKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuJCQuc2tpcF9ib3VuZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy4kJHNldCgkJHByb3BzKTtcbiAgICAgICAgICAgICAgICB0aGlzLiQkLnNraXBfYm91bmQgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG59XG4vKipcbiAqIEJhc2UgY2xhc3MgZm9yIFN2ZWx0ZSBjb21wb25lbnRzLiBVc2VkIHdoZW4gZGV2PWZhbHNlLlxuICovXG5jbGFzcyBTdmVsdGVDb21wb25lbnQge1xuICAgICRkZXN0cm95KCkge1xuICAgICAgICBkZXN0cm95X2NvbXBvbmVudCh0aGlzLCAxKTtcbiAgICAgICAgdGhpcy4kZGVzdHJveSA9IG5vb3A7XG4gICAgfVxuICAgICRvbih0eXBlLCBjYWxsYmFjaykge1xuICAgICAgICBjb25zdCBjYWxsYmFja3MgPSAodGhpcy4kJC5jYWxsYmFja3NbdHlwZV0gfHwgKHRoaXMuJCQuY2FsbGJhY2tzW3R5cGVdID0gW10pKTtcbiAgICAgICAgY2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSBjYWxsYmFja3MuaW5kZXhPZihjYWxsYmFjayk7XG4gICAgICAgICAgICBpZiAoaW5kZXggIT09IC0xKVxuICAgICAgICAgICAgICAgIGNhbGxiYWNrcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICAkc2V0KCQkcHJvcHMpIHtcbiAgICAgICAgaWYgKHRoaXMuJCRzZXQgJiYgIWlzX2VtcHR5KCQkcHJvcHMpKSB7XG4gICAgICAgICAgICB0aGlzLiQkLnNraXBfYm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy4kJHNldCgkJHByb3BzKTtcbiAgICAgICAgICAgIHRoaXMuJCQuc2tpcF9ib3VuZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkaXNwYXRjaF9kZXYodHlwZSwgZGV0YWlsKSB7XG4gICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChjdXN0b21fZXZlbnQodHlwZSwgT2JqZWN0LmFzc2lnbih7IHZlcnNpb246ICczLjQ4LjAnIH0sIGRldGFpbCksIHsgYnViYmxlczogdHJ1ZSB9KSk7XG59XG5mdW5jdGlvbiBhcHBlbmRfZGV2KHRhcmdldCwgbm9kZSkge1xuICAgIGRpc3BhdGNoX2RldignU3ZlbHRlRE9NSW5zZXJ0JywgeyB0YXJnZXQsIG5vZGUgfSk7XG4gICAgYXBwZW5kKHRhcmdldCwgbm9kZSk7XG59XG5mdW5jdGlvbiBhcHBlbmRfaHlkcmF0aW9uX2Rldih0YXJnZXQsIG5vZGUpIHtcbiAgICBkaXNwYXRjaF9kZXYoJ1N2ZWx0ZURPTUluc2VydCcsIHsgdGFyZ2V0LCBub2RlIH0pO1xuICAgIGFwcGVuZF9oeWRyYXRpb24odGFyZ2V0LCBub2RlKTtcbn1cbmZ1bmN0aW9uIGluc2VydF9kZXYodGFyZ2V0LCBub2RlLCBhbmNob3IpIHtcbiAgICBkaXNwYXRjaF9kZXYoJ1N2ZWx0ZURPTUluc2VydCcsIHsgdGFyZ2V0LCBub2RlLCBhbmNob3IgfSk7XG4gICAgaW5zZXJ0KHRhcmdldCwgbm9kZSwgYW5jaG9yKTtcbn1cbmZ1bmN0aW9uIGluc2VydF9oeWRyYXRpb25fZGV2KHRhcmdldCwgbm9kZSwgYW5jaG9yKSB7XG4gICAgZGlzcGF0Y2hfZGV2KCdTdmVsdGVET01JbnNlcnQnLCB7IHRhcmdldCwgbm9kZSwgYW5jaG9yIH0pO1xuICAgIGluc2VydF9oeWRyYXRpb24odGFyZ2V0LCBub2RlLCBhbmNob3IpO1xufVxuZnVuY3Rpb24gZGV0YWNoX2Rldihub2RlKSB7XG4gICAgZGlzcGF0Y2hfZGV2KCdTdmVsdGVET01SZW1vdmUnLCB7IG5vZGUgfSk7XG4gICAgZGV0YWNoKG5vZGUpO1xufVxuZnVuY3Rpb24gZGV0YWNoX2JldHdlZW5fZGV2KGJlZm9yZSwgYWZ0ZXIpIHtcbiAgICB3aGlsZSAoYmVmb3JlLm5leHRTaWJsaW5nICYmIGJlZm9yZS5uZXh0U2libGluZyAhPT0gYWZ0ZXIpIHtcbiAgICAgICAgZGV0YWNoX2RldihiZWZvcmUubmV4dFNpYmxpbmcpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGRldGFjaF9iZWZvcmVfZGV2KGFmdGVyKSB7XG4gICAgd2hpbGUgKGFmdGVyLnByZXZpb3VzU2libGluZykge1xuICAgICAgICBkZXRhY2hfZGV2KGFmdGVyLnByZXZpb3VzU2libGluZyk7XG4gICAgfVxufVxuZnVuY3Rpb24gZGV0YWNoX2FmdGVyX2RldihiZWZvcmUpIHtcbiAgICB3aGlsZSAoYmVmb3JlLm5leHRTaWJsaW5nKSB7XG4gICAgICAgIGRldGFjaF9kZXYoYmVmb3JlLm5leHRTaWJsaW5nKTtcbiAgICB9XG59XG5mdW5jdGlvbiBsaXN0ZW5fZGV2KG5vZGUsIGV2ZW50LCBoYW5kbGVyLCBvcHRpb25zLCBoYXNfcHJldmVudF9kZWZhdWx0LCBoYXNfc3RvcF9wcm9wYWdhdGlvbikge1xuICAgIGNvbnN0IG1vZGlmaWVycyA9IG9wdGlvbnMgPT09IHRydWUgPyBbJ2NhcHR1cmUnXSA6IG9wdGlvbnMgPyBBcnJheS5mcm9tKE9iamVjdC5rZXlzKG9wdGlvbnMpKSA6IFtdO1xuICAgIGlmIChoYXNfcHJldmVudF9kZWZhdWx0KVxuICAgICAgICBtb2RpZmllcnMucHVzaCgncHJldmVudERlZmF1bHQnKTtcbiAgICBpZiAoaGFzX3N0b3BfcHJvcGFnYXRpb24pXG4gICAgICAgIG1vZGlmaWVycy5wdXNoKCdzdG9wUHJvcGFnYXRpb24nKTtcbiAgICBkaXNwYXRjaF9kZXYoJ1N2ZWx0ZURPTUFkZEV2ZW50TGlzdGVuZXInLCB7IG5vZGUsIGV2ZW50LCBoYW5kbGVyLCBtb2RpZmllcnMgfSk7XG4gICAgY29uc3QgZGlzcG9zZSA9IGxpc3Rlbihub2RlLCBldmVudCwgaGFuZGxlciwgb3B0aW9ucyk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgZGlzcGF0Y2hfZGV2KCdTdmVsdGVET01SZW1vdmVFdmVudExpc3RlbmVyJywgeyBub2RlLCBldmVudCwgaGFuZGxlciwgbW9kaWZpZXJzIH0pO1xuICAgICAgICBkaXNwb3NlKCk7XG4gICAgfTtcbn1cbmZ1bmN0aW9uIGF0dHJfZGV2KG5vZGUsIGF0dHJpYnV0ZSwgdmFsdWUpIHtcbiAgICBhdHRyKG5vZGUsIGF0dHJpYnV0ZSwgdmFsdWUpO1xuICAgIGlmICh2YWx1ZSA9PSBudWxsKVxuICAgICAgICBkaXNwYXRjaF9kZXYoJ1N2ZWx0ZURPTVJlbW92ZUF0dHJpYnV0ZScsIHsgbm9kZSwgYXR0cmlidXRlIH0pO1xuICAgIGVsc2VcbiAgICAgICAgZGlzcGF0Y2hfZGV2KCdTdmVsdGVET01TZXRBdHRyaWJ1dGUnLCB7IG5vZGUsIGF0dHJpYnV0ZSwgdmFsdWUgfSk7XG59XG5mdW5jdGlvbiBwcm9wX2Rldihub2RlLCBwcm9wZXJ0eSwgdmFsdWUpIHtcbiAgICBub2RlW3Byb3BlcnR5XSA9IHZhbHVlO1xuICAgIGRpc3BhdGNoX2RldignU3ZlbHRlRE9NU2V0UHJvcGVydHknLCB7IG5vZGUsIHByb3BlcnR5LCB2YWx1ZSB9KTtcbn1cbmZ1bmN0aW9uIGRhdGFzZXRfZGV2KG5vZGUsIHByb3BlcnR5LCB2YWx1ZSkge1xuICAgIG5vZGUuZGF0YXNldFtwcm9wZXJ0eV0gPSB2YWx1ZTtcbiAgICBkaXNwYXRjaF9kZXYoJ1N2ZWx0ZURPTVNldERhdGFzZXQnLCB7IG5vZGUsIHByb3BlcnR5LCB2YWx1ZSB9KTtcbn1cbmZ1bmN0aW9uIHNldF9kYXRhX2Rldih0ZXh0LCBkYXRhKSB7XG4gICAgZGF0YSA9ICcnICsgZGF0YTtcbiAgICBpZiAodGV4dC53aG9sZVRleHQgPT09IGRhdGEpXG4gICAgICAgIHJldHVybjtcbiAgICBkaXNwYXRjaF9kZXYoJ1N2ZWx0ZURPTVNldERhdGEnLCB7IG5vZGU6IHRleHQsIGRhdGEgfSk7XG4gICAgdGV4dC5kYXRhID0gZGF0YTtcbn1cbmZ1bmN0aW9uIHZhbGlkYXRlX2VhY2hfYXJndW1lbnQoYXJnKSB7XG4gICAgaWYgKHR5cGVvZiBhcmcgIT09ICdzdHJpbmcnICYmICEoYXJnICYmIHR5cGVvZiBhcmcgPT09ICdvYmplY3QnICYmICdsZW5ndGgnIGluIGFyZykpIHtcbiAgICAgICAgbGV0IG1zZyA9ICd7I2VhY2h9IG9ubHkgaXRlcmF0ZXMgb3ZlciBhcnJheS1saWtlIG9iamVjdHMuJztcbiAgICAgICAgaWYgKHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgYXJnICYmIFN5bWJvbC5pdGVyYXRvciBpbiBhcmcpIHtcbiAgICAgICAgICAgIG1zZyArPSAnIFlvdSBjYW4gdXNlIGEgc3ByZWFkIHRvIGNvbnZlcnQgdGhpcyBpdGVyYWJsZSBpbnRvIGFuIGFycmF5Lic7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1zZyk7XG4gICAgfVxufVxuZnVuY3Rpb24gdmFsaWRhdGVfc2xvdHMobmFtZSwgc2xvdCwga2V5cykge1xuICAgIGZvciAoY29uc3Qgc2xvdF9rZXkgb2YgT2JqZWN0LmtleXMoc2xvdCkpIHtcbiAgICAgICAgaWYgKCF+a2V5cy5pbmRleE9mKHNsb3Rfa2V5KSkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKGA8JHtuYW1lfT4gcmVjZWl2ZWQgYW4gdW5leHBlY3RlZCBzbG90IFwiJHtzbG90X2tleX1cIi5gKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIHZhbGlkYXRlX2R5bmFtaWNfZWxlbWVudCh0YWcpIHtcbiAgICBjb25zdCBpc19zdHJpbmcgPSB0eXBlb2YgdGFnID09PSAnc3RyaW5nJztcbiAgICBpZiAodGFnICYmICFpc19zdHJpbmcpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCc8c3ZlbHRlOmVsZW1lbnQ+IGV4cGVjdHMgXCJ0aGlzXCIgYXR0cmlidXRlIHRvIGJlIGEgc3RyaW5nLicpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHZhbGlkYXRlX3ZvaWRfZHluYW1pY19lbGVtZW50KHRhZykge1xuICAgIGlmICh0YWcgJiYgaXNfdm9pZCh0YWcpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgPHN2ZWx0ZTplbGVtZW50IHRoaXM9XCIke3RhZ31cIj4gaXMgc2VsZi1jbG9zaW5nIGFuZCBjYW5ub3QgaGF2ZSBjb250ZW50LmApO1xuICAgIH1cbn1cbi8qKlxuICogQmFzZSBjbGFzcyBmb3IgU3ZlbHRlIGNvbXBvbmVudHMgd2l0aCBzb21lIG1pbm9yIGRldi1lbmhhbmNlbWVudHMuIFVzZWQgd2hlbiBkZXY9dHJ1ZS5cbiAqL1xuY2xhc3MgU3ZlbHRlQ29tcG9uZW50RGV2IGV4dGVuZHMgU3ZlbHRlQ29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIGlmICghb3B0aW9ucyB8fCAoIW9wdGlvbnMudGFyZ2V0ICYmICFvcHRpb25zLiQkaW5saW5lKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiJ3RhcmdldCcgaXMgYSByZXF1aXJlZCBvcHRpb25cIik7XG4gICAgICAgIH1cbiAgICAgICAgc3VwZXIoKTtcbiAgICB9XG4gICAgJGRlc3Ryb3koKSB7XG4gICAgICAgIHN1cGVyLiRkZXN0cm95KCk7XG4gICAgICAgIHRoaXMuJGRlc3Ryb3kgPSAoKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ0NvbXBvbmVudCB3YXMgYWxyZWFkeSBkZXN0cm95ZWQnKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlXG4gICAgICAgIH07XG4gICAgfVxuICAgICRjYXB0dXJlX3N0YXRlKCkgeyB9XG4gICAgJGluamVjdF9zdGF0ZSgpIHsgfVxufVxuLyoqXG4gKiBCYXNlIGNsYXNzIHRvIGNyZWF0ZSBzdHJvbmdseSB0eXBlZCBTdmVsdGUgY29tcG9uZW50cy5cbiAqIFRoaXMgb25seSBleGlzdHMgZm9yIHR5cGluZyBwdXJwb3NlcyBhbmQgc2hvdWxkIGJlIHVzZWQgaW4gYC5kLnRzYCBmaWxlcy5cbiAqXG4gKiAjIyMgRXhhbXBsZTpcbiAqXG4gKiBZb3UgaGF2ZSBjb21wb25lbnQgbGlicmFyeSBvbiBucG0gY2FsbGVkIGBjb21wb25lbnQtbGlicmFyeWAsIGZyb20gd2hpY2hcbiAqIHlvdSBleHBvcnQgYSBjb21wb25lbnQgY2FsbGVkIGBNeUNvbXBvbmVudGAuIEZvciBTdmVsdGUrVHlwZVNjcmlwdCB1c2VycyxcbiAqIHlvdSB3YW50IHRvIHByb3ZpZGUgdHlwaW5ncy4gVGhlcmVmb3JlIHlvdSBjcmVhdGUgYSBgaW5kZXguZC50c2A6XG4gKiBgYGB0c1xuICogaW1wb3J0IHsgU3ZlbHRlQ29tcG9uZW50VHlwZWQgfSBmcm9tIFwic3ZlbHRlXCI7XG4gKiBleHBvcnQgY2xhc3MgTXlDb21wb25lbnQgZXh0ZW5kcyBTdmVsdGVDb21wb25lbnRUeXBlZDx7Zm9vOiBzdHJpbmd9PiB7fVxuICogYGBgXG4gKiBUeXBpbmcgdGhpcyBtYWtlcyBpdCBwb3NzaWJsZSBmb3IgSURFcyBsaWtlIFZTIENvZGUgd2l0aCB0aGUgU3ZlbHRlIGV4dGVuc2lvblxuICogdG8gcHJvdmlkZSBpbnRlbGxpc2Vuc2UgYW5kIHRvIHVzZSB0aGUgY29tcG9uZW50IGxpa2UgdGhpcyBpbiBhIFN2ZWx0ZSBmaWxlXG4gKiB3aXRoIFR5cGVTY3JpcHQ6XG4gKiBgYGBzdmVsdGVcbiAqIDxzY3JpcHQgbGFuZz1cInRzXCI+XG4gKiBcdGltcG9ydCB7IE15Q29tcG9uZW50IH0gZnJvbSBcImNvbXBvbmVudC1saWJyYXJ5XCI7XG4gKiA8L3NjcmlwdD5cbiAqIDxNeUNvbXBvbmVudCBmb289eydiYXInfSAvPlxuICogYGBgXG4gKlxuICogIyMjIyBXaHkgbm90IG1ha2UgdGhpcyBwYXJ0IG9mIGBTdmVsdGVDb21wb25lbnQoRGV2KWA/XG4gKiBCZWNhdXNlXG4gKiBgYGB0c1xuICogY2xhc3MgQVN1YmNsYXNzT2ZTdmVsdGVDb21wb25lbnQgZXh0ZW5kcyBTdmVsdGVDb21wb25lbnQ8e2Zvbzogc3RyaW5nfT4ge31cbiAqIGNvbnN0IGNvbXBvbmVudDogdHlwZW9mIFN2ZWx0ZUNvbXBvbmVudCA9IEFTdWJjbGFzc09mU3ZlbHRlQ29tcG9uZW50O1xuICogYGBgXG4gKiB3aWxsIHRocm93IGEgdHlwZSBlcnJvciwgc28gd2UgbmVlZCB0byBzZXBhcmF0ZSB0aGUgbW9yZSBzdHJpY3RseSB0eXBlZCBjbGFzcy5cbiAqL1xuY2xhc3MgU3ZlbHRlQ29tcG9uZW50VHlwZWQgZXh0ZW5kcyBTdmVsdGVDb21wb25lbnREZXYge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIob3B0aW9ucyk7XG4gICAgfVxufVxuZnVuY3Rpb24gbG9vcF9ndWFyZCh0aW1lb3V0KSB7XG4gICAgY29uc3Qgc3RhcnQgPSBEYXRlLm5vdygpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGlmIChEYXRlLm5vdygpIC0gc3RhcnQgPiB0aW1lb3V0KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0luZmluaXRlIGxvb3AgZGV0ZWN0ZWQnKTtcbiAgICAgICAgfVxuICAgIH07XG59XG5cbmV4cG9ydCB7IEh0bWxUYWcsIEh0bWxUYWdIeWRyYXRpb24sIFN2ZWx0ZUNvbXBvbmVudCwgU3ZlbHRlQ29tcG9uZW50RGV2LCBTdmVsdGVDb21wb25lbnRUeXBlZCwgU3ZlbHRlRWxlbWVudCwgYWN0aW9uX2Rlc3Ryb3llciwgYWRkX2F0dHJpYnV0ZSwgYWRkX2NsYXNzZXMsIGFkZF9mbHVzaF9jYWxsYmFjaywgYWRkX2xvY2F0aW9uLCBhZGRfcmVuZGVyX2NhbGxiYWNrLCBhZGRfcmVzaXplX2xpc3RlbmVyLCBhZGRfc3R5bGVzLCBhZGRfdHJhbnNmb3JtLCBhZnRlclVwZGF0ZSwgYXBwZW5kLCBhcHBlbmRfZGV2LCBhcHBlbmRfZW1wdHlfc3R5bGVzaGVldCwgYXBwZW5kX2h5ZHJhdGlvbiwgYXBwZW5kX2h5ZHJhdGlvbl9kZXYsIGFwcGVuZF9zdHlsZXMsIGFzc2lnbiwgYXR0ciwgYXR0cl9kZXYsIGF0dHJpYnV0ZV90b19vYmplY3QsIGJlZm9yZVVwZGF0ZSwgYmluZCwgYmluZGluZ19jYWxsYmFja3MsIGJsYW5rX29iamVjdCwgYnViYmxlLCBjaGVja19vdXRyb3MsIGNoaWxkcmVuLCBjbGFpbV9jb21wb25lbnQsIGNsYWltX2VsZW1lbnQsIGNsYWltX2h0bWxfdGFnLCBjbGFpbV9zcGFjZSwgY2xhaW1fc3ZnX2VsZW1lbnQsIGNsYWltX3RleHQsIGNsZWFyX2xvb3BzLCBjb21wb25lbnRfc3Vic2NyaWJlLCBjb21wdXRlX3Jlc3RfcHJvcHMsIGNvbXB1dGVfc2xvdHMsIGNyZWF0ZUV2ZW50RGlzcGF0Y2hlciwgY3JlYXRlX2FuaW1hdGlvbiwgY3JlYXRlX2JpZGlyZWN0aW9uYWxfdHJhbnNpdGlvbiwgY3JlYXRlX2NvbXBvbmVudCwgY3JlYXRlX2luX3RyYW5zaXRpb24sIGNyZWF0ZV9vdXRfdHJhbnNpdGlvbiwgY3JlYXRlX3Nsb3QsIGNyZWF0ZV9zc3JfY29tcG9uZW50LCBjdXJyZW50X2NvbXBvbmVudCwgY3VzdG9tX2V2ZW50LCBkYXRhc2V0X2RldiwgZGVidWcsIGRlc3Ryb3lfYmxvY2ssIGRlc3Ryb3lfY29tcG9uZW50LCBkZXN0cm95X2VhY2gsIGRldGFjaCwgZGV0YWNoX2FmdGVyX2RldiwgZGV0YWNoX2JlZm9yZV9kZXYsIGRldGFjaF9iZXR3ZWVuX2RldiwgZGV0YWNoX2RldiwgZGlydHlfY29tcG9uZW50cywgZGlzcGF0Y2hfZGV2LCBlYWNoLCBlbGVtZW50LCBlbGVtZW50X2lzLCBlbXB0eSwgZW5kX2h5ZHJhdGluZywgZXNjYXBlLCBlc2NhcGVfYXR0cmlidXRlX3ZhbHVlLCBlc2NhcGVfb2JqZWN0LCBlc2NhcGVkLCBleGNsdWRlX2ludGVybmFsX3Byb3BzLCBmaXhfYW5kX2Rlc3Ryb3lfYmxvY2ssIGZpeF9hbmRfb3V0cm9fYW5kX2Rlc3Ryb3lfYmxvY2ssIGZpeF9wb3NpdGlvbiwgZmx1c2gsIGdldEFsbENvbnRleHRzLCBnZXRDb250ZXh0LCBnZXRfYWxsX2RpcnR5X2Zyb21fc2NvcGUsIGdldF9iaW5kaW5nX2dyb3VwX3ZhbHVlLCBnZXRfY3VycmVudF9jb21wb25lbnQsIGdldF9jdXN0b21fZWxlbWVudHNfc2xvdHMsIGdldF9yb290X2Zvcl9zdHlsZSwgZ2V0X3Nsb3RfY2hhbmdlcywgZ2V0X3NwcmVhZF9vYmplY3QsIGdldF9zcHJlYWRfdXBkYXRlLCBnZXRfc3RvcmVfdmFsdWUsIGdsb2JhbHMsIGdyb3VwX291dHJvcywgaGFuZGxlX3Byb21pc2UsIGhhc0NvbnRleHQsIGhhc19wcm9wLCBpZGVudGl0eSwgaW5pdCwgaW5zZXJ0LCBpbnNlcnRfZGV2LCBpbnNlcnRfaHlkcmF0aW9uLCBpbnNlcnRfaHlkcmF0aW9uX2RldiwgaW50cm9zLCBpbnZhbGlkX2F0dHJpYnV0ZV9uYW1lX2NoYXJhY3RlciwgaXNfY2xpZW50LCBpc19jcm9zc29yaWdpbiwgaXNfZW1wdHksIGlzX2Z1bmN0aW9uLCBpc19wcm9taXNlLCBpc192b2lkLCBsaXN0ZW4sIGxpc3Rlbl9kZXYsIGxvb3AsIGxvb3BfZ3VhcmQsIG1lcmdlX3Nzcl9zdHlsZXMsIG1pc3NpbmdfY29tcG9uZW50LCBtb3VudF9jb21wb25lbnQsIG5vb3AsIG5vdF9lcXVhbCwgbm93LCBudWxsX3RvX2VtcHR5LCBvYmplY3Rfd2l0aG91dF9wcm9wZXJ0aWVzLCBvbkRlc3Ryb3ksIG9uTW91bnQsIG9uY2UsIG91dHJvX2FuZF9kZXN0cm95X2Jsb2NrLCBwcmV2ZW50X2RlZmF1bHQsIHByb3BfZGV2LCBxdWVyeV9zZWxlY3Rvcl9hbGwsIHJhZiwgcnVuLCBydW5fYWxsLCBzYWZlX25vdF9lcXVhbCwgc2NoZWR1bGVfdXBkYXRlLCBzZWxlY3RfbXVsdGlwbGVfdmFsdWUsIHNlbGVjdF9vcHRpb24sIHNlbGVjdF9vcHRpb25zLCBzZWxlY3RfdmFsdWUsIHNlbGYsIHNldENvbnRleHQsIHNldF9hdHRyaWJ1dGVzLCBzZXRfY3VycmVudF9jb21wb25lbnQsIHNldF9jdXN0b21fZWxlbWVudF9kYXRhLCBzZXRfZGF0YSwgc2V0X2RhdGFfZGV2LCBzZXRfaW5wdXRfdHlwZSwgc2V0X2lucHV0X3ZhbHVlLCBzZXRfbm93LCBzZXRfcmFmLCBzZXRfc3RvcmVfdmFsdWUsIHNldF9zdHlsZSwgc2V0X3N2Z19hdHRyaWJ1dGVzLCBzcGFjZSwgc3ByZWFkLCBzcmNfdXJsX2VxdWFsLCBzdGFydF9oeWRyYXRpbmcsIHN0b3BfcHJvcGFnYXRpb24sIHN1YnNjcmliZSwgc3ZnX2VsZW1lbnQsIHRleHQsIHRpY2ssIHRpbWVfcmFuZ2VzX3RvX2FycmF5LCB0b19udW1iZXIsIHRvZ2dsZV9jbGFzcywgdHJhbnNpdGlvbl9pbiwgdHJhbnNpdGlvbl9vdXQsIHRydXN0ZWQsIHVwZGF0ZV9hd2FpdF9ibG9ja19icmFuY2gsIHVwZGF0ZV9rZXllZF9lYWNoLCB1cGRhdGVfc2xvdCwgdXBkYXRlX3Nsb3RfYmFzZSwgdmFsaWRhdGVfY29tcG9uZW50LCB2YWxpZGF0ZV9keW5hbWljX2VsZW1lbnQsIHZhbGlkYXRlX2VhY2hfYXJndW1lbnQsIHZhbGlkYXRlX2VhY2hfa2V5cywgdmFsaWRhdGVfc2xvdHMsIHZhbGlkYXRlX3N0b3JlLCB2YWxpZGF0ZV92b2lkX2R5bmFtaWNfZWxlbWVudCwgeGxpbmtfYXR0ciB9O1xuIiwiaW1wb3J0IHR5cGUgeyBQbGFpbk9iamVjdCB9IGZyb20gXCIjL21ldGEvYmVsdFwiO1xuXG4vKipcbiAqIFNob3J0Y3V0IGZvciBhIHZlcnkgY29tbW9uIHR5cGUgcGF0dGVyblxuICovXG5leHBvcnQgdHlwZSBEaWN0PHdfdmFsdWU9c3RyaW5nPiA9IFJlY29yZDxzdHJpbmcsIHdfdmFsdWU+O1xuXG5cbi8qKlxuICogU2hvcnRjdXQgZm9yIGFub3RoZXIgY29tbW9uIHR5cGUgcGF0dGVyblxuICovXG5leHBvcnQgdHlwZSBQcm9taXNhYmxlPHdfdmFsdWU+ID0gd192YWx1ZSB8IFByb21pc2U8d192YWx1ZT47XG5cblxuLyoqXG4gKiBSb290IHR5cGUgZm9yIGFsbCBvYmplY3RzIGNvbnNpZGVyZWQgdG8gYmUgcGFyc2VkIEpTT04gb2JqZWN0c1xuICovXG5leHBvcnQgaW50ZXJmYWNlIEpzb25PYmplY3QgeyAgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuXHRbazogc3RyaW5nXTogSnNvblZhbHVlIHwgdW5kZWZpbmVkO1xufVxuXG4vKipcbiAqIFVuaW9uIG9mIFwidmFsdWFibGVcIiwgcHJpbWl0aXZlIEpTT04gdmFsdWUgdHlwZXNcbiAqL1xuZXhwb3J0IHR5cGUgSnNvblByaW1pdGl2ZSA9XG5cdHwgYm9vbGVhblxuXHR8IG51bWJlclxuXHR8IHN0cmluZztcblxuLyoqXG4gKiBBbGwgcHJpbWl0aXZlIEpTT04gdmFsdWUgdHlwZXNcbiAqL1xuZXhwb3J0IHR5cGUgSnNvblByaW1pdGl2ZU51bGxhYmxlID1cblx0fCBKc29uUHJpbWl0aXZlXG5cdHwgbnVsbDtcblxuLyoqXG4gKiBBbGwgSlNPTiB2YWx1ZSB0eXBlc1xuICovXG5leHBvcnQgdHlwZSBKc29uVmFsdWUgPVxuXHR8IEpzb25QcmltaXRpdmVOdWxsYWJsZVxuXHR8IEpzb25WYWx1ZVtdXG5cdHwgSnNvbk9iamVjdFxuXHR8IHVuZGVmaW5lZDtcblxuXG4vKipcbiAqIFRoZSBmcmVxdWVudGx5LXVzZWQgXCJuby1vcGVyYXRpb25cIiBmdW5jdGlvblxuICovXG5leHBvcnQgY29uc3QgRl9OT09QID0gKCkgPT4ge307ICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG5cblxuLyoqXG4gKiBDcmVhdGVzIGEgcHJvcGVyLWNhc2Ugc3RyaW5nXG4gKi9cbmV4cG9ydCBjb25zdCBwcm9wZXIgPSAoc19pbnB1dDogc3RyaW5nKTogc3RyaW5nID0+IHNfaW5wdXQuc3BsaXQoL1xccysvZykubWFwKHMgPT4gc1swXS50b1VwcGVyQ2FzZSgpK3Muc2xpY2UoMSkpLmpvaW4oJyAnKTtcblxuXG4vKipcbiAqIENvbXBhcmVzIHR3byBvYmplY3RzIHVzaW5nIGtleXMgYW5kIHN0cmljdCBlcXVhbGl0eS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG9iamVjdHNfbWlnaHRfZGlmZmVyKGhfYTogUGxhaW5PYmplY3QsIGhfYjogUGxhaW5PYmplY3QpOiBib29sZWFuIHtcblx0Y29uc3QgYV9rZXlzX2EgPSBPYmplY3Qua2V5cyhoX2EpO1xuXHRjb25zdCBhX2tleXNfYiA9IE9iamVjdC5rZXlzKGhfYik7XG5cblx0Y29uc3Qgbmxfa2V5cyA9IGFfa2V5c19hLmxlbmd0aDtcblxuXHRpZihubF9rZXlzICE9PSBhX2tleXNfYi5sZW5ndGgpIHJldHVybiB0cnVlO1xuXG5cdGZvcihjb25zdCBzaV9rZXkgaW4gaF9hKSB7XG5cdFx0aWYoaF9iW3NpX2tleV0gIT09IGhfYVtzaV9rZXldKSByZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdHJldHVybiBmYWxzZTtcbn1cblxuXG4vKipcbiAqIEZvbGQgYXJyYXkgaW50byBhbiBvYmplY3RcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZvbGQ8d19vdXQsIHdfdmFsdWU+KGFfaW46IHdfdmFsdWVbXSwgZl9mb2xkOiAoel92YWx1ZTogd192YWx1ZSwgaV9lYWNoOiBudW1iZXIpID0+IERpY3Q8d19vdXQ+KTogRGljdDx3X291dD4ge1xuXHRjb25zdCBoX291dCA9IHt9O1xuXHRsZXQgaV9lYWNoID0gMDtcblx0Zm9yKGNvbnN0IHpfZWFjaCBvZiBhX2luKSB7XG5cdFx0T2JqZWN0LmFzc2lnbihoX291dCwgZl9mb2xkKHpfZWFjaCwgaV9lYWNoKyspKTtcblx0fVxuXG5cdHJldHVybiBoX291dDtcbn1cblxuXG5cbi8qKlxuICogRXNjYXBlIGFsbCBzcGVjaWFsIHJlZ2V4IGNoYXJhY3RlcnMgdG8gdHVybiBhIHN0cmluZyBpbnRvIGEgdmVyYmF0aW0gbWF0Y2ggcGF0dGVyblxuICogQHBhcmFtIHNfaW5wdXQgaW5wdXQgc3RyaW5nXG4gKiBAcmV0dXJucyBlc2NhcGVkIHN0cmluZyByZWFkeSBmb3IgUmVnRXhwIGNvbnN0cnVjdG9yXG4gKi9cbmV4cG9ydCBjb25zdCBlc2NhcGVfcmVnZXggPSAoc19pbnB1dDogc3RyaW5nKTogc3RyaW5nID0+IHNfaW5wdXQucmVwbGFjZSgvWy1bXFxde30oKSorPy4sXFxcXF4kfCNcXHNdL2csICdcXFxcJCYnKTtcblxuXG4vKipcbiAqIFR5cGVkIGFsaWFzIHRvIGBPYmplY3QuZW50cmllc2BcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG9kZTxcblx0aF9vYmplY3QgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCBhbnk+LFxuXHRhc19rZXlzIGV4dGVuZHMga2V5b2YgaF9vYmplY3Q9a2V5b2YgaF9vYmplY3QsXG4+KGhfb2JqZWN0OiBoX29iamVjdCk6IEFycmF5PFthc19rZXlzLCBoX29iamVjdFthc19rZXlzXV0+IHtcblx0cmV0dXJuIE9iamVjdC5lbnRyaWVzKGhfb2JqZWN0KSBhcyBBcnJheTxbYXNfa2V5cywgaF9vYmplY3RbYXNfa2V5c11dPjtcbn1cblxuXHQvLyAobzoge1xuXHQvLyBcdFtzaV9rZXkgaW4gYXNfa2V5c106IHdfdmFsdWU7XG5cdC8vIH0pOiB7XG5cdC8vIFx0W3NpX2tleSBpbiBhc19rZXlzXToge1xuXHQvLyBcdFx0a2V5OiBzaV9rZXk7XG5cdC8vIFx0XHR2YWx1ZTogd192YWx1ZTtcblx0Ly8gXHR9O1xuXHQvLyB9W2FzX2tleXNdIGV4dGVuZHMgaW5mZXIgYXNfcGFpcnNcblx0Ly8gXHQ/IGFzX3BhaXJzIGV4dGVuZHMge2tleTogYXNfa2V5czsgdmFsdWU6IHdfdmFsdWV9XG5cdC8vIFx0XHQ/IFVuaW9uLkxpc3RPZjxhc19wYWlycz5cblx0Ly8gXHRcdDogbmV2ZXJcblx0Ly8gXHQ6IG5ldmVyO1xuLy8gfTtcblxuLy8gY29uc3QgY2hlY2sgPSBvZGUoe2E6ICcxJywgYjogJzInfSBhcyBjb25zdCk7XG5cbi8qKlxuICogVHlwZWQgYWxpYXMgdG8gYE9iamVjdC5mcm9tRW50cmllc2BcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG9mZTxcblx0YXNfa2V5cyBleHRlbmRzIHN0cmluZz1zdHJpbmcsXG5cdHdfdmFsdWVzIGV4dGVuZHMgYW55PWFueSxcbj4oYV9lbnRyaWVzOiBBcnJheTxbYXNfa2V5cywgd192YWx1ZXNdPik6IFJlY29yZDxhc19rZXlzLCB3X3ZhbHVlcz4ge1xuXHRyZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKGFfZW50cmllcykgYXMgUmVjb3JkPGFzX2tleXMsIHdfdmFsdWVzPjtcbn1cblxuXG4vKipcbiAqIEhlbHBlciB0eXBlIGZvciBkZWZpbmluZyB0aGUgZXhwZWN0ZWQgdHlwZSBmb3IgYFtdLnJlZHVjZWAgYWxpYXNcbiAqL1xudHlwZSBSZWR1Y2VQYXJhbWV0ZXJzPFxuXHR3X3ZhbHVlIGV4dGVuZHMgYW55PWFueSxcbj4gPSBQYXJhbWV0ZXJzPEFycmF5PHdfdmFsdWU+WydyZWR1Y2UnXT47XG5cblxuLyoqXG4gKiBSZWR1Y2Ugb2JqZWN0IGVudHJpZXMgdG8gYW4gYXJiaXRyYXJ5IHR5cGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG9kZXI8XG5cdHdfb3V0IGV4dGVuZHMgYW55LFxuXHR3X3ZhbHVlIGV4dGVuZHMgYW55LFxuPihoX3RoaW5nOiBEaWN0PHdfdmFsdWU+LCBmX3JlZHVjZTogUmVkdWNlUGFyYW1ldGVyc1swXSwgd19pbml0OiB3X291dCk6IHdfb3V0IHtcblx0cmV0dXJuIG9kZShoX3RoaW5nKS5yZWR1Y2UoZl9yZWR1Y2UsIHdfaW5pdCkgYXMgd19vdXQ7XG59XG5cblxuLyoqXG4gKiBSZWR1Y2Ugb2JqZWN0IGVudHJpZXMgdG8gYW4gYXJyYXkgdmlhIGNvbmNhdGVuYXRpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG9kZXJhYzxcblx0d19vdXQgZXh0ZW5kcyBhbnksXG5cdHdfdmFsdWUgZXh0ZW5kcyBhbnksXG4+KGhfdGhpbmc6IERpY3Q8d192YWx1ZT4sIGZfY29uY2F0OiAoc2lfa2V5OiBzdHJpbmcsIHdfdmFsdWU6IHdfdmFsdWUsIGlfZW50cnk6IG51bWJlcikgPT4gd19vdXQsIGJfYWRkX3VuZGVmcz1mYWxzZSk6IHdfb3V0W10ge1xuXHRyZXR1cm4gb2RlKGhfdGhpbmcpLnJlZHVjZSgoYV9vdXQsIFtzaV9rZXksIHdfdmFsdWVdLCBpX2VudHJ5KSA9PiBbXG5cdFx0Li4uYV9vdXQsXG5cdFx0Zl9jb25jYXQoc2lfa2V5LCB3X3ZhbHVlLCBpX2VudHJ5KSxcblx0XSwgW10pO1xufVxuXG5cbi8qKlxuICogUmVkdWNlIG9iamVjdCBlbnRyaWVzIHRvIGFuIGFycmF5IHZpYSBmbGF0dGVuaW5nXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBvZGVyYWY8XG5cdHdfb3V0IGV4dGVuZHMgYW55LFxuXHR3X3ZhbHVlIGV4dGVuZHMgYW55LFxuPihoX3RoaW5nOiBEaWN0PHdfdmFsdWU+LCBmX2NvbmNhdDogKHNpX2tleTogc3RyaW5nLCB3X3ZhbHVlOiB3X3ZhbHVlLCBpX2VudHJ5OiBudW1iZXIpID0+IHdfb3V0W10pOiB3X291dFtdIHtcblx0cmV0dXJuIG9kZShoX3RoaW5nKS5yZWR1Y2UoKGFfb3V0LCBbc2lfa2V5LCB3X3ZhbHVlXSwgaV9lbnRyeSkgPT4gW1xuXHRcdC4uLmFfb3V0LFxuXHRcdC4uLmZfY29uY2F0KHNpX2tleSwgd192YWx1ZSwgaV9lbnRyeSksXG5cdF0sIFtdKTtcbn1cblxuXG4vKipcbiAqIFJlZHVjZSBvYmplY3QgZW50cmllcyB0byBhbiBvYmplY3QgdmlhIG1lcmdpbmdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG9kZXJvbTxcblx0d19vdXQgZXh0ZW5kcyBhbnksXG5cdGhfdGhpbmcgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nIHwgc3ltYm9sLCBhbnk+LFxuXHRhc19rZXlzX2luIGV4dGVuZHMga2V5b2YgaF90aGluZyxcblx0d192YWx1ZV9pbiBleHRlbmRzIGhfdGhpbmdbYXNfa2V5c19pbl0sXG5cdGFzX2tleXNfb3V0IGV4dGVuZHMgc3RyaW5nIHwgc3ltYm9sLFxuPihoX3RoaW5nOiBoX3RoaW5nLCBmX21lcmdlOiAoc2lfa2V5OiBhc19rZXlzX2luLCB3X3ZhbHVlOiB3X3ZhbHVlX2luKSA9PiBSZWNvcmQ8YXNfa2V5c19vdXQsIHdfb3V0Pik6IFJlY29yZDxhc19rZXlzX291dCwgd19vdXQ+IHtcblx0cmV0dXJuIG9kZShoX3RoaW5nKS5yZWR1Y2UoKGhfb3V0LCBbc2lfa2V5LCB3X3ZhbHVlXSkgPT4gKHtcblx0XHQuLi5oX291dCxcblx0XHQuLi5mX21lcmdlKHNpX2tleSBhcyBhc19rZXlzX2luLCB3X3ZhbHVlKSxcblx0fSksIHt9KSBhcyBSZWNvcmQ8YXNfa2V5c19vdXQsIHdfb3V0Pjtcbn1cblxuXG4vKipcbiAqIFJlZHVjZSBvYmplY3QgZW50cmllcyB0byBhbiBvYmplY3QgdmlhIHRyYW5zZm9ybWluZyB2YWx1ZSBmdW5jdGlvblxuICovXG5leHBvcnQgZnVuY3Rpb24gZm9kZW10djxcblx0d19vdXQgZXh0ZW5kcyBhbnksXG5cdHdfdmFsdWUgZXh0ZW5kcyBhbnksXG4+KGhfdGhpbmc6IERpY3Q8d192YWx1ZT4sIGZfdHJhbnNmb3JtOiAod192YWx1ZTogd192YWx1ZSwgc2lfa2V5Pzogc3RyaW5nKSA9PiB3X291dCk6IERpY3Q8d19vdXQ+IHtcblx0cmV0dXJuIE9iamVjdC5mcm9tRW50cmllcyhcblx0XHRvZGUoaF90aGluZykubWFwKChbc2lfa2V5LCB3X3ZhbHVlXSkgPT4gW3NpX2tleSwgZl90cmFuc2Zvcm0od192YWx1ZSwgc2lfa2V5KV0pXG5cdCk7XG59XG5cblxuLyoqXG4gKiBQcm9taXNlLWJhc2VkIHZlcnNpb24gb2YgYHNldFRpbWVvdXQoKWBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRpbWVvdXQoeHRfd2FpdDogbnVtYmVyKTogUHJvbWlzZTx2b2lkPiB7XG5cdHJldHVybiBuZXcgUHJvbWlzZSgoZmtfcmVzb2x2ZSkgPT4ge1xuXHRcdHNldFRpbWVvdXQoKCkgPT4ge1xuXHRcdFx0ZmtfcmVzb2x2ZSgpO1xuXHRcdH0sIHh0X3dhaXQpO1xuXHR9KTtcbn1cblxuXG4vKipcbiAqIEEgUHJvbWlzZSB0aGF0IG5ldmVyIGZ1bGZpbGxzIG5vciByZWplY3RzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmb3JldmVyPHdfdHlwZT12b2lkPih3X3R5cGU/OiB3X3R5cGUpOiBQcm9taXNlPHdfdHlwZT4ge1xuXHRyZXR1cm4gbmV3IFByb21pc2UoRl9OT09QKTtcbn1cblxuXG4vKipcbiAqIFByb21zZS1iYXNlZCB2ZXJzaW9uIG9mIGBxdWV1ZU1pY3JvdGFzaygpYFxuICovXG5leHBvcnQgZnVuY3Rpb24gbWljcm90YXNrKCk6IFByb21pc2U8dm9pZD4ge1xuXHRyZXR1cm4gbmV3IFByb21pc2UoKGZrX3Jlc29sdmUpID0+IHtcblx0XHRxdWV1ZU1pY3JvdGFzaygoKSA9PiB7XG5cdFx0XHRma19yZXNvbHZlKCk7XG5cdFx0fSk7XG5cdH0pO1xufVxuXG5cbi8qKlxuICogQ3J5cHRvZ3JhcGhpY2FsbHkgc3Ryb25nIHJhbmRvbSBudW1iZXJcbiAqL1xuZXhwb3J0IGNvbnN0IGNyeXB0b19yYW5kb20gPSAoKTogbnVtYmVyID0+IGNyeXB0by5nZXRSYW5kb21WYWx1ZXMobmV3IFVpbnQzMkFycmF5KDEpKVswXSAvICgyKiozMik7XG5cblxuLyoqXG4gKiBHZW5lcmF0ZSBhIHJhbmRvbSBpbnQgd2l0aGluIGEgZ2l2ZW4gcmFuZ2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJhbmRvbV9pbnQoeF9hOiBudW1iZXIsIHhfYj0wKTogbnVtYmVyIHtcblx0Y29uc3QgeF9taW4gPSBNYXRoLmNlaWwoTWF0aC5taW4oeF9hKSk7XG5cdGNvbnN0IHhfbWF4ID0gTWF0aC5mbG9vcihNYXRoLm1heCh4X2IpKTtcblxuXHQvLyBjb25maW5lIHRvIHJhbmdlXG5cdHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoeF9tYXggLSB4X21pbiArIDEpKSArIHhfbWluO1xufVxuXG5cbi8qKlxuICogR2VuZXJhdGUgYSBjcnlwdG9ncmFwaGljYWxseSBzdHJvbmcgcmFuZG9tIGludCB3aXRoaW4gYSBnaXZlbiByYW5nZVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3J5cHRvX3JhbmRvbV9pbnQoeF9hOiBudW1iZXIsIHhfYj0wKTogbnVtYmVyIHtcblx0Y29uc3QgeF9taW4gPSBNYXRoLmNlaWwoTWF0aC5taW4oeF9hKSk7XG5cdGNvbnN0IHhfbWF4ID0gTWF0aC5mbG9vcihNYXRoLm1heCh4X2IpKTtcblxuXHQvLyBjb25maW5lIHRvIHJhbmdlXG5cdHJldHVybiBNYXRoLmZsb29yKGNyeXB0b19yYW5kb20oKSAqICh4X21heCAtIHhfbWluICsgMSkpICsgeF9taW47XG59XG5cblxuLyoqXG4gKiBTaHVmZmxlcyBhbiBhcnJheVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2h1ZmZsZTx3X3ZhbHVlPihhX2l0ZW1zOiB3X3ZhbHVlW10sIGZfcmFuZG9tPXJhbmRvbV9pbnQpOiB3X3ZhbHVlW10ge1xuXHRsZXQgaV9pdGVtID0gYV9pdGVtcy5sZW5ndGg7XG5cblx0d2hpbGUoaV9pdGVtID4gMCkge1xuXHRcdGNvbnN0IGlfc3dhcCA9IGZfcmFuZG9tKC0taV9pdGVtKTtcblx0XHRjb25zdCB3X2l0ZW0gPSBhX2l0ZW1zW2lfaXRlbV07XG5cdFx0YV9pdGVtc1tpX2l0ZW1dID0gYV9pdGVtc1tpX3N3YXBdO1xuXHRcdGFfaXRlbXNbaV9zd2FwXSA9IHdfaXRlbTtcblx0fVxuXG5cdHJldHVybiBhX2l0ZW1zO1xufVxuXG4iLCIndXNlIHN0cmljdCc7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmJlY2gzMm0gPSBleHBvcnRzLmJlY2gzMiA9IHZvaWQgMDtcbmNvbnN0IEFMUEhBQkVUID0gJ3FwenJ5OXg4Z2YydHZkdzBzM2puNTRraGNlNm11YTdsJztcbmNvbnN0IEFMUEhBQkVUX01BUCA9IHt9O1xuZm9yIChsZXQgeiA9IDA7IHogPCBBTFBIQUJFVC5sZW5ndGg7IHorKykge1xuICAgIGNvbnN0IHggPSBBTFBIQUJFVC5jaGFyQXQoeik7XG4gICAgQUxQSEFCRVRfTUFQW3hdID0gejtcbn1cbmZ1bmN0aW9uIHBvbHltb2RTdGVwKHByZSkge1xuICAgIGNvbnN0IGIgPSBwcmUgPj4gMjU7XG4gICAgcmV0dXJuICgoKHByZSAmIDB4MWZmZmZmZikgPDwgNSkgXlxuICAgICAgICAoLSgoYiA+PiAwKSAmIDEpICYgMHgzYjZhNTdiMikgXlxuICAgICAgICAoLSgoYiA+PiAxKSAmIDEpICYgMHgyNjUwOGU2ZCkgXlxuICAgICAgICAoLSgoYiA+PiAyKSAmIDEpICYgMHgxZWExMTlmYSkgXlxuICAgICAgICAoLSgoYiA+PiAzKSAmIDEpICYgMHgzZDQyMzNkZCkgXlxuICAgICAgICAoLSgoYiA+PiA0KSAmIDEpICYgMHgyYTE0NjJiMykpO1xufVxuZnVuY3Rpb24gcHJlZml4Q2hrKHByZWZpeCkge1xuICAgIGxldCBjaGsgPSAxO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJlZml4Lmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGNvbnN0IGMgPSBwcmVmaXguY2hhckNvZGVBdChpKTtcbiAgICAgICAgaWYgKGMgPCAzMyB8fCBjID4gMTI2KVxuICAgICAgICAgICAgcmV0dXJuICdJbnZhbGlkIHByZWZpeCAoJyArIHByZWZpeCArICcpJztcbiAgICAgICAgY2hrID0gcG9seW1vZFN0ZXAoY2hrKSBeIChjID4+IDUpO1xuICAgIH1cbiAgICBjaGsgPSBwb2x5bW9kU3RlcChjaGspO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJlZml4Lmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGNvbnN0IHYgPSBwcmVmaXguY2hhckNvZGVBdChpKTtcbiAgICAgICAgY2hrID0gcG9seW1vZFN0ZXAoY2hrKSBeICh2ICYgMHgxZik7XG4gICAgfVxuICAgIHJldHVybiBjaGs7XG59XG5mdW5jdGlvbiBjb252ZXJ0KGRhdGEsIGluQml0cywgb3V0Qml0cywgcGFkKSB7XG4gICAgbGV0IHZhbHVlID0gMDtcbiAgICBsZXQgYml0cyA9IDA7XG4gICAgY29uc3QgbWF4ViA9ICgxIDw8IG91dEJpdHMpIC0gMTtcbiAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFsdWUgPSAodmFsdWUgPDwgaW5CaXRzKSB8IGRhdGFbaV07XG4gICAgICAgIGJpdHMgKz0gaW5CaXRzO1xuICAgICAgICB3aGlsZSAoYml0cyA+PSBvdXRCaXRzKSB7XG4gICAgICAgICAgICBiaXRzIC09IG91dEJpdHM7XG4gICAgICAgICAgICByZXN1bHQucHVzaCgodmFsdWUgPj4gYml0cykgJiBtYXhWKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAocGFkKSB7XG4gICAgICAgIGlmIChiaXRzID4gMCkge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2goKHZhbHVlIDw8IChvdXRCaXRzIC0gYml0cykpICYgbWF4Vik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlmIChiaXRzID49IGluQml0cylcbiAgICAgICAgICAgIHJldHVybiAnRXhjZXNzIHBhZGRpbmcnO1xuICAgICAgICBpZiAoKHZhbHVlIDw8IChvdXRCaXRzIC0gYml0cykpICYgbWF4VilcbiAgICAgICAgICAgIHJldHVybiAnTm9uLXplcm8gcGFkZGluZyc7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiB0b1dvcmRzKGJ5dGVzKSB7XG4gICAgcmV0dXJuIGNvbnZlcnQoYnl0ZXMsIDgsIDUsIHRydWUpO1xufVxuZnVuY3Rpb24gZnJvbVdvcmRzVW5zYWZlKHdvcmRzKSB7XG4gICAgY29uc3QgcmVzID0gY29udmVydCh3b3JkcywgNSwgOCwgZmFsc2UpO1xuICAgIGlmIChBcnJheS5pc0FycmF5KHJlcykpXG4gICAgICAgIHJldHVybiByZXM7XG59XG5mdW5jdGlvbiBmcm9tV29yZHMod29yZHMpIHtcbiAgICBjb25zdCByZXMgPSBjb252ZXJ0KHdvcmRzLCA1LCA4LCBmYWxzZSk7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkocmVzKSlcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB0aHJvdyBuZXcgRXJyb3IocmVzKTtcbn1cbmZ1bmN0aW9uIGdldExpYnJhcnlGcm9tRW5jb2RpbmcoZW5jb2RpbmcpIHtcbiAgICBsZXQgRU5DT0RJTkdfQ09OU1Q7XG4gICAgaWYgKGVuY29kaW5nID09PSAnYmVjaDMyJykge1xuICAgICAgICBFTkNPRElOR19DT05TVCA9IDE7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBFTkNPRElOR19DT05TVCA9IDB4MmJjODMwYTM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGVuY29kZShwcmVmaXgsIHdvcmRzLCBMSU1JVCkge1xuICAgICAgICBMSU1JVCA9IExJTUlUIHx8IDkwO1xuICAgICAgICBpZiAocHJlZml4Lmxlbmd0aCArIDcgKyB3b3Jkcy5sZW5ndGggPiBMSU1JVClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0V4Y2VlZHMgbGVuZ3RoIGxpbWl0Jyk7XG4gICAgICAgIHByZWZpeCA9IHByZWZpeC50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAvLyBkZXRlcm1pbmUgY2hrIG1vZFxuICAgICAgICBsZXQgY2hrID0gcHJlZml4Q2hrKHByZWZpeCk7XG4gICAgICAgIGlmICh0eXBlb2YgY2hrID09PSAnc3RyaW5nJylcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihjaGspO1xuICAgICAgICBsZXQgcmVzdWx0ID0gcHJlZml4ICsgJzEnO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHdvcmRzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBjb25zdCB4ID0gd29yZHNbaV07XG4gICAgICAgICAgICBpZiAoeCA+PiA1ICE9PSAwKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTm9uIDUtYml0IHdvcmQnKTtcbiAgICAgICAgICAgIGNoayA9IHBvbHltb2RTdGVwKGNoaykgXiB4O1xuICAgICAgICAgICAgcmVzdWx0ICs9IEFMUEhBQkVULmNoYXJBdCh4KTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDY7ICsraSkge1xuICAgICAgICAgICAgY2hrID0gcG9seW1vZFN0ZXAoY2hrKTtcbiAgICAgICAgfVxuICAgICAgICBjaGsgXj0gRU5DT0RJTkdfQ09OU1Q7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNjsgKytpKSB7XG4gICAgICAgICAgICBjb25zdCB2ID0gKGNoayA+PiAoKDUgLSBpKSAqIDUpKSAmIDB4MWY7XG4gICAgICAgICAgICByZXN1bHQgKz0gQUxQSEFCRVQuY2hhckF0KHYpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIF9fZGVjb2RlKHN0ciwgTElNSVQpIHtcbiAgICAgICAgTElNSVQgPSBMSU1JVCB8fCA5MDtcbiAgICAgICAgaWYgKHN0ci5sZW5ndGggPCA4KVxuICAgICAgICAgICAgcmV0dXJuIHN0ciArICcgdG9vIHNob3J0JztcbiAgICAgICAgaWYgKHN0ci5sZW5ndGggPiBMSU1JVClcbiAgICAgICAgICAgIHJldHVybiAnRXhjZWVkcyBsZW5ndGggbGltaXQnO1xuICAgICAgICAvLyBkb24ndCBhbGxvdyBtaXhlZCBjYXNlXG4gICAgICAgIGNvbnN0IGxvd2VyZWQgPSBzdHIudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgY29uc3QgdXBwZXJlZCA9IHN0ci50b1VwcGVyQ2FzZSgpO1xuICAgICAgICBpZiAoc3RyICE9PSBsb3dlcmVkICYmIHN0ciAhPT0gdXBwZXJlZClcbiAgICAgICAgICAgIHJldHVybiAnTWl4ZWQtY2FzZSBzdHJpbmcgJyArIHN0cjtcbiAgICAgICAgc3RyID0gbG93ZXJlZDtcbiAgICAgICAgY29uc3Qgc3BsaXQgPSBzdHIubGFzdEluZGV4T2YoJzEnKTtcbiAgICAgICAgaWYgKHNwbGl0ID09PSAtMSlcbiAgICAgICAgICAgIHJldHVybiAnTm8gc2VwYXJhdG9yIGNoYXJhY3RlciBmb3IgJyArIHN0cjtcbiAgICAgICAgaWYgKHNwbGl0ID09PSAwKVxuICAgICAgICAgICAgcmV0dXJuICdNaXNzaW5nIHByZWZpeCBmb3IgJyArIHN0cjtcbiAgICAgICAgY29uc3QgcHJlZml4ID0gc3RyLnNsaWNlKDAsIHNwbGl0KTtcbiAgICAgICAgY29uc3Qgd29yZENoYXJzID0gc3RyLnNsaWNlKHNwbGl0ICsgMSk7XG4gICAgICAgIGlmICh3b3JkQ2hhcnMubGVuZ3RoIDwgNilcbiAgICAgICAgICAgIHJldHVybiAnRGF0YSB0b28gc2hvcnQnO1xuICAgICAgICBsZXQgY2hrID0gcHJlZml4Q2hrKHByZWZpeCk7XG4gICAgICAgIGlmICh0eXBlb2YgY2hrID09PSAnc3RyaW5nJylcbiAgICAgICAgICAgIHJldHVybiBjaGs7XG4gICAgICAgIGNvbnN0IHdvcmRzID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgd29yZENoYXJzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBjb25zdCBjID0gd29yZENoYXJzLmNoYXJBdChpKTtcbiAgICAgICAgICAgIGNvbnN0IHYgPSBBTFBIQUJFVF9NQVBbY107XG4gICAgICAgICAgICBpZiAodiA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgIHJldHVybiAnVW5rbm93biBjaGFyYWN0ZXIgJyArIGM7XG4gICAgICAgICAgICBjaGsgPSBwb2x5bW9kU3RlcChjaGspIF4gdjtcbiAgICAgICAgICAgIC8vIG5vdCBpbiB0aGUgY2hlY2tzdW0/XG4gICAgICAgICAgICBpZiAoaSArIDYgPj0gd29yZENoYXJzLmxlbmd0aClcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIHdvcmRzLnB1c2godik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNoayAhPT0gRU5DT0RJTkdfQ09OU1QpXG4gICAgICAgICAgICByZXR1cm4gJ0ludmFsaWQgY2hlY2tzdW0gZm9yICcgKyBzdHI7XG4gICAgICAgIHJldHVybiB7IHByZWZpeCwgd29yZHMgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGVjb2RlVW5zYWZlKHN0ciwgTElNSVQpIHtcbiAgICAgICAgY29uc3QgcmVzID0gX19kZWNvZGUoc3RyLCBMSU1JVCk7XG4gICAgICAgIGlmICh0eXBlb2YgcmVzID09PSAnb2JqZWN0JylcbiAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRlY29kZShzdHIsIExJTUlUKSB7XG4gICAgICAgIGNvbnN0IHJlcyA9IF9fZGVjb2RlKHN0ciwgTElNSVQpO1xuICAgICAgICBpZiAodHlwZW9mIHJlcyA9PT0gJ29iamVjdCcpXG4gICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZGVjb2RlVW5zYWZlLFxuICAgICAgICBkZWNvZGUsXG4gICAgICAgIGVuY29kZSxcbiAgICAgICAgdG9Xb3JkcyxcbiAgICAgICAgZnJvbVdvcmRzVW5zYWZlLFxuICAgICAgICBmcm9tV29yZHMsXG4gICAgfTtcbn1cbmV4cG9ydHMuYmVjaDMyID0gZ2V0TGlicmFyeUZyb21FbmNvZGluZygnYmVjaDMyJyk7XG5leHBvcnRzLmJlY2gzMm0gPSBnZXRMaWJyYXJ5RnJvbUVuY29kaW5nKCdiZWNoMzJtJyk7XG4iLCJpbXBvcnQge1xuXHR0eXBlIERpY3QsXG5cdHR5cGUgSnNvblZhbHVlLFxuXHRvZGUsXG5cdGZvbGQsXG59IGZyb20gJy4vdXRpbC9iZWx0JztcblxuaWYoJ3VuZGVmaW5lZCcgIT09IHR5cGVvZiB3aW5kb3cgJiYgJ2xvY2FsaG9zdCcgPT09IHdpbmRvdz8ubG9jYXRpb24/Lmhvc3RuYW1lKSB7XG5cdGNvbnN0IGRfY2hyb21lID0gZ2xvYmFsVGhpc1snY2hyb21lJ107XG5cblx0Ly8gcG9seWZpbGwgc3RvcmFnZVxuXHRpZighZF9jaHJvbWVbJ3N0b3JhZ2UnXSkge1xuXHRcdGZ1bmN0aW9uIHBvbHlmaWxsX2Nocm9tZV9zdG9yYWdlKHNpX2FyZWE6IGNocm9tZS5zdG9yYWdlLkFyZWFOYW1lKTogY2hyb21lLnN0b3JhZ2UuU3RvcmFnZUFyZWEge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0LyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L3JlcXVpcmUtYXdhaXQgKi9cblx0XHRcdFx0YXN5bmMgZ2V0KHpfa2V5czogc3RyaW5nIHwgc3RyaW5nW10pOiBQcm9taXNlPERpY3Q8SnNvblZhbHVlIHwgdW5kZWZpbmVkPj4ge1xuXHRcdFx0XHRcdGNvbnN0IGFfa2V5cyA9IEFycmF5LmlzQXJyYXkoel9rZXlzKT8gel9rZXlzOiBbel9rZXlzXTtcblx0XHRcdFx0XHRyZXR1cm4gZm9sZChhX2tleXMsIChzaV9rZXkpID0+IHtcblx0XHRcdFx0XHRcdGNvbnN0IHpfdmFsdWUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShgY2hyb21lLiR7c2lfYXJlYX06JHtzaV9rZXl9YCk7XG5cdFx0XHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdFx0XHRbc2lfa2V5XTogJ3N0cmluZycgPT09IHR5cGVvZiB6X3ZhbHVlPyBKU09OLnBhcnNlKHpfdmFsdWUpIGFzIEpzb25WYWx1ZTogdm9pZCAwLFxuXHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fSxcblxuXHRcdFx0XHRhc3luYyBzZXQoaF9zZXQ6IERpY3Q8SnNvblZhbHVlIHwgdW5kZWZpbmVkPik6IFByb21pc2U8dm9pZD4ge1xuXHRcdFx0XHRcdGZvcihjb25zdCBbc2lfa2V5LCB3X3ZhbHVlXSBvZiBvZGUoaF9zZXQpKSB7XG5cdFx0XHRcdFx0XHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbShgY2hyb21lLiR7c2lfYXJlYX06JHtzaV9rZXl9YCwgSlNPTi5zdHJpbmdpZnkod192YWx1ZSkpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSxcblxuXHRcdFx0XHRhc3luYyBjbGVhcigpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHRcdFx0XHRjb25zdCBubF9pdGVtcyA9IGxvY2FsU3RvcmFnZS5sZW5ndGg7XG5cdFx0XHRcdFx0Zm9yKGxldCBpX2l0ZW09bmxfaXRlbXM7IGlfaXRlbT49MDsgaV9pdGVtLS0pIHtcblx0XHRcdFx0XHRcdGNvbnN0IHNpX2tleSA9IGxvY2FsU3RvcmFnZS5rZXkoaV9pdGVtKTtcblx0XHRcdFx0XHRcdGlmKCFzaV9rZXkpIGNvbnRpbnVlO1xuXHRcdFx0XHRcdFx0aWYoc2lfa2V5LnN0YXJ0c1dpdGgoYGNocm9tZS4ke3NpX2FyZWF9OmApKSB7XG5cdFx0XHRcdFx0XHRcdGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKHNpX2tleSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LFxuXG5cdFx0XHRcdGFzeW5jIHJlbW92ZSh6X2tleXM6IHN0cmluZyB8IHN0cmluZ1tdKTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0XHRcdFx0Y29uc3QgYV9rZXlzID0gQXJyYXkuaXNBcnJheSh6X2tleXMpPyB6X2tleXM6IFt6X2tleXNdO1xuXHRcdFx0XHRcdGZvcihjb25zdCBzaV9rZXkgb2YgYV9rZXlzKSB7XG5cdFx0XHRcdFx0XHRsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShgY2hyb21lLiR7c2lfYXJlYX06JHtzaV9rZXl9YCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LFxuXHRcdFx0XHQvKiBlc2xpbnQtZW5hYmxlIEB0eXBlc2NyaXB0LWVzbGludC9yZXF1aXJlLWF3YWl0ICovXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdGRfY2hyb21lLnN0b3JhZ2UgPSB7XG5cdFx0XHRsb2NhbDogcG9seWZpbGxfY2hyb21lX3N0b3JhZ2UoJ2xvY2FsJykgYXMgY2hyb21lLnN0b3JhZ2UuTG9jYWxTdG9yYWdlQXJlYSxcblx0XHRcdHN5bmM6IHBvbHlmaWxsX2Nocm9tZV9zdG9yYWdlKCdzeW5jJykgYXMgY2hyb21lLnN0b3JhZ2UuU3luY1N0b3JhZ2VBcmVhLFxuXHRcdFx0c2Vzc2lvbjogcG9seWZpbGxfY2hyb21lX3N0b3JhZ2UoJ3Nlc3Npb24nKSBhcyBjaHJvbWUuc3RvcmFnZS5TZXNzaW9uU3RvcmFnZUFyZWEsXG5cdFx0fSBhcyB0eXBlb2YgY2hyb21lLnN0b3JhZ2U7XG5cdH1cblxuXHQvLyBwb2x5ZmlsbCBydW50aW1lXG5cdGlmKCFkX2Nocm9tZVsncnVudGltZSddKSB7XG5cdFx0ZF9jaHJvbWUucnVudGltZSA9IHtcblx0XHRcdGdldFVSTChwX2Fzc2V0OiBzdHJpbmcpOiBzdHJpbmcge1xuXHRcdFx0XHRkZWJ1Z2dlcjtcblx0XHRcdH0sXG5cblx0XHRcdGdldE1hbmlmZXN0KCk6IGNocm9tZS5ydW50aW1lLk1hbmlmZXN0IHtcblx0XHRcdFx0ZGVidWdnZXI7XG5cdFx0XHR9LFxuXG5cdFx0XHRzZW5kTWVzc2FnZShnX21zZzogSnNvblZhbHVlKTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0XHRcdGRlYnVnZ2VyO1xuXHRcdFx0fSxcblxuXHRcdFx0b25NZXNzYWdlOiB7XG5cdFx0XHRcdGFkZExpc3RlbmVyKGZfbGlzdGVuZXIpIHtcblx0XHRcdFx0XHRkZWJ1Z2dlcjtcblx0XHRcdFx0fSxcblxuXHRcdFx0XHRyZW1vdmVMaXN0ZW5lcigpIHtcblx0XHRcdFx0XHRkZWJ1Z2dlcjtcblx0XHRcdFx0fSxcblx0XHRcdH0sXG5cblx0XHRcdG9uSW5zdGFsbGVkOiB7XG5cdFx0XHRcdGFkZExpc3RlbmVyKGZfbGlzdGVuZXIpIHtcblx0XHRcdFx0XHRkZWJ1Z2dlcjtcblx0XHRcdFx0fSxcblxuXHRcdFx0XHRyZW1vdmVMaXN0ZW5lcigpIHtcblx0XHRcdFx0XHRkZWJ1Z2dlcjtcblx0XHRcdFx0fSxcblx0XHRcdH0sXG5cdFx0fTtcblx0fVxuXG5cdC8vIHBvbHlmaWxsIHRhYnNcblx0aWYoIWRfY2hyb21lWyd0YWJzJ10pIHtcblx0XHRkX2Nocm9tZS50YWJzID0ge1xuXHRcdFx0Y3JlYXRlKGdjX2NyZWF0ZT86IGNocm9tZS50YWJzLkNyZWF0ZVByb3BlcnRpZXMpOiBQcm9taXNlPGNocm9tZS50YWJzLlRhYj4ge1xuXHRcdFx0XHR3aW5kb3cub3BlbihnY19jcmVhdGUhLnVybCBhcyBzdHJpbmcsICdfYmxhbmsnKTtcblx0XHRcdH0sXG5cblx0XHRcdGdldChpX3RhYjogbnVtYmVyKTogUHJvbWlzZTxjaHJvbWUudGFicy5UYWI+IHtcblx0XHRcdFx0ZGVidWdnZXI7XG5cdFx0XHR9LFxuXG5cdFx0XHRyZWxvYWQoaV90YWI6IG51bWJlcik6IFByb21pc2U8dm9pZD4ge1xuXHRcdFx0XHRkZWJ1Z2dlcjtcblx0XHRcdH0sXG5cblx0XHRcdG9uVXBkYXRlZDoge1xuXHRcdFx0XHRhZGRFdmVudExpc3RlbmVyKCkge1xuXHRcdFx0XHRcdGRlYnVnZ2VyO1xuXHRcdFx0XHR9LFxuXG5cdFx0XHRcdHJlbW92ZUxpc3RlbmVyKCkge1xuXHRcdFx0XHRcdGRlYnVnZ2VyO1xuXHRcdFx0XHR9LFxuXHRcdFx0fSxcblx0XHR9O1xuXHR9XG5cblx0Ly8gcG9seWZpbGwgd2luZG93c1xuXHRpZighZF9jaHJvbWVbJ3dpbmRvd3MnXSkge1xuXHRcdGRfY2hyb21lLndpbmRvd3MgPSB7XG5cdFx0XHRjcmVhdGUoZ2NfY3JlYXRlPzogY2hyb21lLndpbmRvd3MuQ3JlYXRlRGF0YSk6IFByb21pc2U8Y2hyb21lLndpbmRvd3MuV2luZG93PiB7XG5cdFx0XHRcdHdpbmRvdy5vcGVuKGdjX2NyZWF0ZSEudXJsIGFzIHN0cmluZywgJ19ibGFuaycpO1xuXHRcdFx0fSxcblxuXHRcdFx0Z2V0KGlfd2luZG93OiBudW1iZXIpOiBQcm9taXNlPGNocm9tZS53aW5kb3dzLldpbmRvdz4ge1xuXHRcdFx0XHRkZWJ1Z2dlcjtcblx0XHRcdH0sXG5cblx0XHRcdHJlbW92ZShpX3dpbmRvdzogbnVtYmVyKTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0XHRcdGRlYnVnZ2VyO1xuXHRcdFx0fSxcblxuXHRcdFx0b25SZW1vdmVkOiB7XG5cdFx0XHRcdGFkZEV2ZW50TGlzdGVuZXIoKSB7XG5cdFx0XHRcdFx0ZGVidWdnZXI7XG5cdFx0XHRcdH0sXG5cblx0XHRcdFx0cmVtb3ZlTGlzdGVuZXIoKSB7XG5cdFx0XHRcdFx0ZGVidWdnZXI7XG5cdFx0XHRcdH0sXG5cdFx0XHR9LFxuXHRcdH07XG5cdH1cblxuXHQvLyBwb2x5ZmlsbCBleHRlbnNpb25cblx0aWYoIWRfY2hyb21lWydleHRlbnNpb24nXSkge1xuXHRcdGRfY2hyb21lLmV4dGVuc2lvbiA9IHtcblx0XHRcdGdldEJhY2tncm91bmRQYWdlKCkge1xuXHRcdFx0XHRkZWJ1Z2dlcjtcblx0XHRcdH0sXG5cdFx0fTtcblx0fVxuXG5cdC8vIHBvbHlmaWxsIGV4dGVuc2lvblxuXHRpZighZF9jaHJvbWVbJ3NjcmlwdGluZyddKSB7XG5cdFx0ZF9jaHJvbWUuc2NyaXB0aW5nID0ge1xuXHRcdFx0ZXhlY3V0ZVNjcmlwdCgpOiBQcm9taXNlPGNocm9tZS5zY3JpcHRpbmcuSW5qZWN0aW9uUmVzdWx0PiB7XG5cdFx0XHRcdGRlYnVnZ2VyO1xuXHRcdFx0fSxcblx0XHR9O1xuXHR9XG59XG4iLCIvLyBiYXNlNjQgZW5jb2RlL2RlY29kZSBkZXJpdmVkIGZyb206IGh0dHBzOi8vZ2l0aHViLmNvbS9uaWtsYXN2aC9iYXNlNjQtYXJyYXlidWZmZXJcbmNvbnN0IGNoYXJzID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky8nO1xuY29uc3QgYmFzZTY0R3JvdXBMZW5ndGggPSA0O1xuY29uc3Qgbm9uQmFzZTY0Q2hhcnMgPSBuZXcgUmVnRXhwKGBbXiR7Y2hhcnN9PV1gLCAndScpO1xuLyoqXG4gKiBGb3IgdXNlIGJlZm9yZSBgYmFzZTY0VG9CaW5gLiBSZXR1cm5zIHRydWUgaWYgdGhlIHByb3ZpZGVkIHN0cmluZyBpcyB2YWxpZFxuICogYmFzZTY0IChsZW5ndGggaXMgZGl2aXNpYmxlIGJ5IDQsIG9ubHkgdXNlcyBiYXNlNjQgY2hhcmFjdGVycykuXG4gKiBAcGFyYW0gbWF5YmVIZXggLSBhIHN0cmluZyB0byB0ZXN0XG4gKi9cbmV4cG9ydCBjb25zdCBpc0Jhc2U2NCA9IChtYXliZUJhc2U2NCkgPT4gbWF5YmVCYXNlNjQubGVuZ3RoICUgYmFzZTY0R3JvdXBMZW5ndGggPT09IDAgJiZcbiAgICAhbm9uQmFzZTY0Q2hhcnMudGVzdChtYXliZUJhc2U2NCk7XG4vKiBlc2xpbnQtZGlzYWJsZSBmdW5jdGlvbmFsL25vLWV4cHJlc3Npb24tc3RhdGVtZW50LCBmdW5jdGlvbmFsL2ltbXV0YWJsZS1kYXRhLCBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbWFnaWMtbnVtYmVycywgbm8tYml0d2lzZSwgbm8tcGx1c3BsdXMgKi9cbi8qKlxuICogQ29udmVydCBhIGJhc2U2NC1lbmNvZGVkIHN0cmluZyB0byBhIFVpbnQ4QXJyYXkuXG4gKlxuICogTm90ZSwgdGhpcyBtZXRob2QgYWx3YXlzIGNvbXBsZXRlcy4gSWYgYHZhbGlkQmFzZTY0YCBpcyBub3QgdmFsaWQgYmFzZTY0LCBhblxuICogaW5jb3JyZWN0IHJlc3VsdCB3aWxsIGJlIHJldHVybmVkLiBJZiBgdmFsaWRCYXNlNjRgIGlzIHBvdGVudGlhbGx5IG1hbGZvcm1lZCxcbiAqIGNoZWNrIGl0IHdpdGggYGlzQmFzZTY0YCBiZWZvcmUgY2FsbGluZyB0aGlzIG1ldGhvZC5cbiAqXG4gKiBAcGFyYW0gdmFsaWRCYXNlNjQgLSBhIHZhbGlkIGJhc2U2NC1lbmNvZGVkIHN0cmluZyB0byBkZWNvZGVcbiAqL1xuZXhwb3J0IGNvbnN0IGJhc2U2NFRvQmluID0gKHZhbGlkQmFzZTY0KSA9PiB7XG4gICAgY29uc3QgbG9va3VwID0gbmV3IFVpbnQ4QXJyYXkoMTIzKTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuY3Rpb25hbC9uby1sZXQsIGZ1bmN0aW9uYWwvbm8tbG9vcC1zdGF0ZW1lbnRcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoYXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxvb2t1cFtjaGFycy5jaGFyQ29kZUF0KGkpXSA9IGk7XG4gICAgfVxuICAgIGNvbnN0IGJ1ZmZlckxlbmd0aEVzdGltYXRlID0gdmFsaWRCYXNlNjQubGVuZ3RoICogMC43NTtcbiAgICBjb25zdCBzdHJpbmdMZW5ndGggPSB2YWxpZEJhc2U2NC5sZW5ndGg7XG4gICAgY29uc3QgYnVmZmVyTGVuZ3RoID0gdmFsaWRCYXNlNjRbdmFsaWRCYXNlNjQubGVuZ3RoIC0gMV0gPT09ICc9JyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9wcmVmZXItc3RyaW5nLXN0YXJ0cy1lbmRzLXdpdGhcbiAgICAgICAgPyB2YWxpZEJhc2U2NFt2YWxpZEJhc2U2NC5sZW5ndGggLSAyXSA9PT0gJz0nXG4gICAgICAgICAgICA/IGJ1ZmZlckxlbmd0aEVzdGltYXRlIC0gMlxuICAgICAgICAgICAgOiBidWZmZXJMZW5ndGhFc3RpbWF0ZSAtIDFcbiAgICAgICAgOiBidWZmZXJMZW5ndGhFc3RpbWF0ZTtcbiAgICBjb25zdCBidWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIoYnVmZmVyTGVuZ3RoKTtcbiAgICBjb25zdCBieXRlcyA9IG5ldyBVaW50OEFycmF5KGJ1ZmZlcik7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmN0aW9uYWwvbm8tbGV0XG4gICAgbGV0IHAgPSAwO1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jdGlvbmFsL25vLWxldCwgZnVuY3Rpb25hbC9uby1sb29wLXN0YXRlbWVudFxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RyaW5nTGVuZ3RoOyBpICs9IDQpIHtcbiAgICAgICAgY29uc3QgZW5jb2RlZDEgPSBsb29rdXBbdmFsaWRCYXNlNjQuY2hhckNvZGVBdChpKV07XG4gICAgICAgIGNvbnN0IGVuY29kZWQyID0gbG9va3VwW3ZhbGlkQmFzZTY0LmNoYXJDb2RlQXQoaSArIDEpXTtcbiAgICAgICAgY29uc3QgZW5jb2RlZDMgPSBsb29rdXBbdmFsaWRCYXNlNjQuY2hhckNvZGVBdChpICsgMildO1xuICAgICAgICBjb25zdCBlbmNvZGVkNCA9IGxvb2t1cFt2YWxpZEJhc2U2NC5jaGFyQ29kZUF0KGkgKyAzKV07XG4gICAgICAgIGJ5dGVzW3ArK10gPSAoZW5jb2RlZDEgPDwgMikgfCAoZW5jb2RlZDIgPj4gNCk7XG4gICAgICAgIGJ5dGVzW3ArK10gPSAoKGVuY29kZWQyICYgMTUpIDw8IDQpIHwgKGVuY29kZWQzID4+IDIpO1xuICAgICAgICBieXRlc1twKytdID0gKChlbmNvZGVkMyAmIDMpIDw8IDYpIHwgKGVuY29kZWQ0ICYgNjMpO1xuICAgIH1cbiAgICByZXR1cm4gYnl0ZXM7XG59O1xuLyoqXG4gKiBDb252ZXJ0IGEgVWludDhBcnJheSB0byBhIGJhc2U2NC1lbmNvZGVkIHN0cmluZy5cbiAqIEBwYXJhbSBieXRlcyAtIHRoZSBVaW50OEFycmF5IHRvIGJhc2U2NCBlbmNvZGVcbiAqL1xuZXhwb3J0IGNvbnN0IGJpblRvQmFzZTY0ID0gKGJ5dGVzKSA9PiB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmN0aW9uYWwvbm8tbGV0XG4gICAgbGV0IHJlc3VsdCA9ICcnO1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jdGlvbmFsL25vLWxldCwgZnVuY3Rpb25hbC9uby1sb29wLXN0YXRlbWVudFxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYnl0ZXMubGVuZ3RoOyBpICs9IDMpIHtcbiAgICAgICAgcmVzdWx0ICs9IGNoYXJzW2J5dGVzW2ldID4+IDJdO1xuICAgICAgICByZXN1bHQgKz0gY2hhcnNbKChieXRlc1tpXSAmIDMpIDw8IDQpIHwgKGJ5dGVzW2kgKyAxXSA+PiA0KV07XG4gICAgICAgIHJlc3VsdCArPSBjaGFyc1soKGJ5dGVzW2kgKyAxXSAmIDE1KSA8PCAyKSB8IChieXRlc1tpICsgMl0gPj4gNildO1xuICAgICAgICByZXN1bHQgKz0gY2hhcnNbYnl0ZXNbaSArIDJdICYgNjNdO1xuICAgIH1cbiAgICBjb25zdCBwYWRkZWQgPSBieXRlcy5sZW5ndGggJSAzID09PSAyXG4gICAgICAgID8gYCR7cmVzdWx0LnN1YnN0cmluZygwLCByZXN1bHQubGVuZ3RoIC0gMSl9PWBcbiAgICAgICAgOiBieXRlcy5sZW5ndGggJSAzID09PSAxXG4gICAgICAgICAgICA/IGAke3Jlc3VsdC5zdWJzdHJpbmcoMCwgcmVzdWx0Lmxlbmd0aCAtIDIpfT09YFxuICAgICAgICAgICAgOiByZXN1bHQ7XG4gICAgcmV0dXJuIHBhZGRlZDtcbn07XG4vKiBlc2xpbnQtZW5hYmxlIGZ1bmN0aW9uYWwvbm8tZXhwcmVzc2lvbi1zdGF0ZW1lbnQsIGZ1bmN0aW9uYWwvaW1tdXRhYmxlLWRhdGEsIEB0eXBlc2NyaXB0LWVzbGludC9uby1tYWdpYy1udW1iZXJzLCBuby1iaXR3aXNlLCBuby1wbHVzcGx1cyAqL1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YmFzZTY0LmpzLm1hcCIsIi8qIGVzbGludC1kaXNhYmxlIGZ1bmN0aW9uYWwvbm8tY29uZGl0aW9uYWwtc3RhdGVtZW50LCBmdW5jdGlvbmFsL25vLWxldCwgZnVuY3Rpb25hbC9uby1leHByZXNzaW9uLXN0YXRlbWVudCwgbm8tdW5kZXJzY29yZS1kYW5nbGUsIGZ1bmN0aW9uYWwvbm8tdHJ5LXN0YXRlbWVudCwgQHR5cGVzY3JpcHQtZXNsaW50L25vLW1hZ2ljLW51bWJlcnMsIG1heC1wYXJhbXMsIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnNhZmUtY2FsbCwgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVuc2FmZS1tZW1iZXItYWNjZXNzLCBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLWFzc2lnbm1lbnQgKi9cbi8qKlxuICogTm90ZSwgbW9zdCBvZiB0aGlzIG1ldGhvZCBpcyB0cmFuc2xhdGVkIGFuZCBib2lsZWQtZG93biBmcm9tIHRoZSB3YXNtLXBhY2tcbiAqIHdvcmtmbG93LiBTaWduaWZpY2FudCBjaGFuZ2VzIHRvIHdhc20tYmluZGdlbiBvciB3YXNtLXBhY2sgYnVpbGQgd2lsbCBsaWtlbHlcbiAqIHJlcXVpcmUgbW9kaWZpY2F0aW9ucyB0byB0aGlzIG1ldGhvZC5cbiAqL1xuZXhwb3J0IGNvbnN0IGluc3RhbnRpYXRlUnVzdFdhc20gPSBhc3luYyAod2ViYXNzZW1ibHlCeXRlcywgZXhwZWN0ZWRJbXBvcnRNb2R1bGVOYW1lLCBoYXNoRXhwb3J0TmFtZSwgaW5pdEV4cG9ydE5hbWUsIHVwZGF0ZUV4cG9ydE5hbWUsIGZpbmFsRXhwb3J0TmFtZSkgPT4ge1xuICAgIGNvbnN0IHdhc20gPSAoYXdhaXQgV2ViQXNzZW1ibHkuaW5zdGFudGlhdGUod2ViYXNzZW1ibHlCeXRlcywge1xuICAgICAgICBbZXhwZWN0ZWRJbXBvcnRNb2R1bGVOYW1lXToge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBUaGlzIHdvdWxkIG9ubHkgYmUgY2FsbGVkIGluIGNhc2VzIHdoZXJlIGEgYF9fd2JpbmRnZW5fbWFsbG9jYCBmYWlsZWQuXG4gICAgICAgICAgICAgKiBTaW5jZSBgX193YmluZGdlbl9tYWxsb2NgIGlzbid0IGV4cG9zZWQgdG8gY29uc3VtZXJzLCB0aGlzIGVycm9yXG4gICAgICAgICAgICAgKiBjYW4gb25seSBiZSBlbmNvdW50ZXJlZCBpZiB0aGUgY29kZSBiZWxvdyBpcyBicm9rZW4uXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjYW1lbGNhc2UsIEB0eXBlc2NyaXB0LWVzbGludC9uYW1pbmctY29udmVudGlvblxuICAgICAgICAgICAgX193YmluZGdlbl90aHJvdzogLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8gKHB0ciwgbGVuKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmN0aW9uYWwvbm8tdGhyb3ctc3RhdGVtZW50XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgICAgICAgICAgICAgICBBcnJheS5mcm9tKGdldFVpbnQ4TWVtb3J5KCkuc3ViYXJyYXkocHRyLCBwdHIgKyBsZW4pKVxuICAgICAgICAgICAgICAgICAgICAubWFwKChudW0pID0+IFN0cmluZy5mcm9tQ2hhckNvZGUobnVtKSlcbiAgICAgICAgICAgICAgICAgICAgLmpvaW4oJycpKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfSkpLmluc3RhbmNlLmV4cG9ydHM7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGxldCBjYWNoZWRVaW50OE1lbW9yeTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvaW5pdC1kZWNsYXJhdGlvbnNcbiAgICBsZXQgY2FjaGVkVWludDMyTWVtb3J5OyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9pbml0LWRlY2xhcmF0aW9uc1xuICAgIGxldCBjYWNoZWRHbG9iYWxBcmd1bWVudFB0cjsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvaW5pdC1kZWNsYXJhdGlvbnNcbiAgICBjb25zdCBnbG9iYWxBcmd1bWVudFB0ciA9ICgpID0+IHtcbiAgICAgICAgaWYgKGNhY2hlZEdsb2JhbEFyZ3VtZW50UHRyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNhY2hlZEdsb2JhbEFyZ3VtZW50UHRyID0gd2FzbS5fX3diaW5kZ2VuX2dsb2JhbF9hcmd1bWVudF9wdHIoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2FjaGVkR2xvYmFsQXJndW1lbnRQdHI7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBNdXN0IGJlIGhvaXN0ZWQgZm9yIGBfX3diaW5kZ2VuX3Rocm93YC5cbiAgICAgKi9cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1zdHlsZVxuICAgIGZ1bmN0aW9uIGdldFVpbnQ4TWVtb3J5KCkge1xuICAgICAgICBpZiAoY2FjaGVkVWludDhNZW1vcnkgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgICAgY2FjaGVkVWludDhNZW1vcnkuYnVmZmVyICE9PSB3YXNtLm1lbW9yeS5idWZmZXIpIHtcbiAgICAgICAgICAgIGNhY2hlZFVpbnQ4TWVtb3J5ID0gbmV3IFVpbnQ4QXJyYXkod2FzbS5tZW1vcnkuYnVmZmVyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2FjaGVkVWludDhNZW1vcnk7XG4gICAgfVxuICAgIGNvbnN0IGdldFVpbnQzMk1lbW9yeSA9ICgpID0+IHtcbiAgICAgICAgaWYgKGNhY2hlZFVpbnQzMk1lbW9yeSA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgICBjYWNoZWRVaW50MzJNZW1vcnkuYnVmZmVyICE9PSB3YXNtLm1lbW9yeS5idWZmZXIpIHtcbiAgICAgICAgICAgIGNhY2hlZFVpbnQzMk1lbW9yeSA9IG5ldyBVaW50MzJBcnJheSh3YXNtLm1lbW9yeS5idWZmZXIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjYWNoZWRVaW50MzJNZW1vcnk7XG4gICAgfTtcbiAgICBjb25zdCBwYXNzQXJyYXk4VG9XYXNtID0gKGFycmF5KSA9PiB7XG4gICAgICAgIGNvbnN0IHB0ciA9IHdhc20uX193YmluZGdlbl9tYWxsb2MoYXJyYXkubGVuZ3RoKTtcbiAgICAgICAgZ2V0VWludDhNZW1vcnkoKS5zZXQoYXJyYXksIHB0cik7XG4gICAgICAgIHJldHVybiBbcHRyLCBhcnJheS5sZW5ndGhdO1xuICAgIH07XG4gICAgY29uc3QgZ2V0QXJyYXlVOEZyb21XYXNtID0gKHB0ciwgbGVuKSA9PiBnZXRVaW50OE1lbW9yeSgpLnN1YmFycmF5KHB0ciwgcHRyICsgbGVuKTtcbiAgICBjb25zdCBoYXNoID0gKGlucHV0KSA9PiB7XG4gICAgICAgIGNvbnN0IFtwdHIwLCBsZW4wXSA9IHBhc3NBcnJheThUb1dhc20oaW5wdXQpO1xuICAgICAgICBjb25zdCByZXRQdHIgPSBnbG9iYWxBcmd1bWVudFB0cigpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgd2FzbVtoYXNoRXhwb3J0TmFtZV0ocmV0UHRyLCBwdHIwLCBsZW4wKTtcbiAgICAgICAgICAgIGNvbnN0IG1lbSA9IGdldFVpbnQzMk1lbW9yeSgpO1xuICAgICAgICAgICAgY29uc3QgcHRyID0gbWVtW3JldFB0ciAvIDRdO1xuICAgICAgICAgICAgY29uc3QgbGVuID0gbWVtW3JldFB0ciAvIDQgKyAxXTtcbiAgICAgICAgICAgIGNvbnN0IHJlYWxSZXQgPSBnZXRBcnJheVU4RnJvbVdhc20ocHRyLCBsZW4pLnNsaWNlKCk7XG4gICAgICAgICAgICB3YXNtLl9fd2JpbmRnZW5fZnJlZShwdHIsIGxlbik7XG4gICAgICAgICAgICByZXR1cm4gcmVhbFJldDtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHdhc20uX193YmluZGdlbl9mcmVlKHB0cjAsIGxlbjApO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBpbml0ID0gKCkgPT4ge1xuICAgICAgICBjb25zdCByZXRQdHIgPSBnbG9iYWxBcmd1bWVudFB0cigpO1xuICAgICAgICB3YXNtW2luaXRFeHBvcnROYW1lXShyZXRQdHIpO1xuICAgICAgICBjb25zdCBtZW0gPSBnZXRVaW50MzJNZW1vcnkoKTtcbiAgICAgICAgY29uc3QgcHRyID0gbWVtW3JldFB0ciAvIDRdO1xuICAgICAgICBjb25zdCBsZW4gPSBtZW1bcmV0UHRyIC8gNCArIDFdO1xuICAgICAgICBjb25zdCByZWFsUmV0ID0gZ2V0QXJyYXlVOEZyb21XYXNtKHB0ciwgbGVuKS5zbGljZSgpO1xuICAgICAgICB3YXNtLl9fd2JpbmRnZW5fZnJlZShwdHIsIGxlbik7XG4gICAgICAgIHJldHVybiByZWFsUmV0O1xuICAgIH07XG4gICAgY29uc3QgdXBkYXRlID0gKHJhd1N0YXRlLCBpbnB1dCkgPT4ge1xuICAgICAgICBjb25zdCBbcHRyMCwgbGVuMF0gPSBwYXNzQXJyYXk4VG9XYXNtKHJhd1N0YXRlKTtcbiAgICAgICAgY29uc3QgW3B0cjEsIGxlbjFdID0gcGFzc0FycmF5OFRvV2FzbShpbnB1dCk7XG4gICAgICAgIGNvbnN0IHJldFB0ciA9IGdsb2JhbEFyZ3VtZW50UHRyKCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB3YXNtW3VwZGF0ZUV4cG9ydE5hbWVdKHJldFB0ciwgcHRyMCwgbGVuMCwgcHRyMSwgbGVuMSk7XG4gICAgICAgICAgICBjb25zdCBtZW0gPSBnZXRVaW50MzJNZW1vcnkoKTtcbiAgICAgICAgICAgIGNvbnN0IHB0ciA9IG1lbVtyZXRQdHIgLyA0XTtcbiAgICAgICAgICAgIGNvbnN0IGxlbiA9IG1lbVtyZXRQdHIgLyA0ICsgMV07XG4gICAgICAgICAgICBjb25zdCByZWFsUmV0ID0gZ2V0QXJyYXlVOEZyb21XYXNtKHB0ciwgbGVuKS5zbGljZSgpO1xuICAgICAgICAgICAgd2FzbS5fX3diaW5kZ2VuX2ZyZWUocHRyLCBsZW4pO1xuICAgICAgICAgICAgcmV0dXJuIHJlYWxSZXQ7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICByYXdTdGF0ZS5zZXQoZ2V0VWludDhNZW1vcnkoKS5zdWJhcnJheShwdHIwIC8gMSwgcHRyMCAvIDEgKyBsZW4wKSk7XG4gICAgICAgICAgICB3YXNtLl9fd2JpbmRnZW5fZnJlZShwdHIwLCBsZW4wKTtcbiAgICAgICAgICAgIHdhc20uX193YmluZGdlbl9mcmVlKHB0cjEsIGxlbjEpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBmaW5hbCA9IChyYXdTdGF0ZSkgPT4ge1xuICAgICAgICBjb25zdCBbcHRyMCwgbGVuMF0gPSBwYXNzQXJyYXk4VG9XYXNtKHJhd1N0YXRlKTtcbiAgICAgICAgY29uc3QgcmV0UHRyID0gZ2xvYmFsQXJndW1lbnRQdHIoKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHdhc21bZmluYWxFeHBvcnROYW1lXShyZXRQdHIsIHB0cjAsIGxlbjApO1xuICAgICAgICAgICAgY29uc3QgbWVtID0gZ2V0VWludDMyTWVtb3J5KCk7XG4gICAgICAgICAgICBjb25zdCBwdHIgPSBtZW1bcmV0UHRyIC8gNF07XG4gICAgICAgICAgICBjb25zdCBsZW4gPSBtZW1bcmV0UHRyIC8gNCArIDFdO1xuICAgICAgICAgICAgY29uc3QgcmVhbFJldCA9IGdldEFycmF5VThGcm9tV2FzbShwdHIsIGxlbikuc2xpY2UoKTtcbiAgICAgICAgICAgIHdhc20uX193YmluZGdlbl9mcmVlKHB0ciwgbGVuKTtcbiAgICAgICAgICAgIHJldHVybiByZWFsUmV0O1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgcmF3U3RhdGUuc2V0KGdldFVpbnQ4TWVtb3J5KCkuc3ViYXJyYXkocHRyMCAvIDEsIHB0cjAgLyAxICsgbGVuMCkpO1xuICAgICAgICAgICAgd2FzbS5fX3diaW5kZ2VuX2ZyZWUocHRyMCwgbGVuMCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiB7XG4gICAgICAgIGZpbmFsLFxuICAgICAgICBoYXNoLFxuICAgICAgICBpbml0LFxuICAgICAgICB1cGRhdGUsXG4gICAgfTtcbn07XG4vKiBlc2xpbnQtZW5hYmxlIGZ1bmN0aW9uYWwvbm8tY29uZGl0aW9uYWwtc3RhdGVtZW50LCBmdW5jdGlvbmFsL25vLWxldCwgZnVuY3Rpb25hbC9uby1leHByZXNzaW9uLXN0YXRlbWVudCwgbm8tdW5kZXJzY29yZS1kYW5nbGUsIGZ1bmN0aW9uYWwvbm8tdHJ5LXN0YXRlbWVudCwgQHR5cGVzY3JpcHQtZXNsaW50L25vLW1hZ2ljLW51bWJlcnMsIG1heC1wYXJhbXMsIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnNhZmUtY2FsbCwgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVuc2FmZS1tZW1iZXItYWNjZXNzLCBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLWFzc2lnbm1lbnQgKi9cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWhhc2hlcy5qcy5tYXAiLCIvKiBlc2xpbnQtZGlzYWJsZSB0c2RvYy9zeW50YXggKi9cbi8qKlxuICogQGhpZGRlblxuICovXG4vLyBwcmV0dGllci1pZ25vcmVcbmV4cG9ydCBjb25zdCByaXBlbWQxNjBCYXNlNjRCeXRlcyA9ICdBR0Z6YlFFQUFBQUJSZ3hnQW45L0FYOWdBbjkvQUdBRGYzOS9BR0FCZndGL1lBVi9mMzkvZndGL1lBTi9mMzhCZjJBQUFHQUJmd0JnQlg5L2YzOS9BR0FBQVg5Z0JIOS9mMzhBWUFGL0FYNENJQUVMTGk5eWFYQmxiV1F4TmpBUVgxOTNZbWx1WkdkbGJsOTBhSEp2ZHdBQkF5c3FBQUVDQXdRR0J3SUNBUUVIQ0FJREFRRUpBQWNCQ2dvQ0FRZ0NBUUlIQndjQkFRQUFBUWNMQlFVRkJBVUJjQUVFQkFVREFRQVJCZ2tCZndGQndKWEFBQXNIa3dFSUJtMWxiVzl5ZVFJQUNYSnBjR1Z0WkRFMk1BQUlEbkpwY0dWdFpERTJNRjlwYm1sMEFBd1FjbWx3Wlcxa01UWXdYM1Z3WkdGMFpRQU5EM0pwY0dWdFpERTJNRjltYVc1aGJBQU9FVjlmZDJKcGJtUm5aVzVmYldGc2JHOWpBQThQWDE5M1ltbHVaR2RsYmw5bWNtVmxBQkFlWDE5M1ltbHVaR2RsYmw5bmJHOWlZV3hmWVhKbmRXMWxiblJmY0hSeUFCSUpDUUVBUVFFTEF5UW1Kd3FIZnlvV0FDQUJRZDhBU3dSQUlBQVBDMEhnQUNBQkVBSUFDMzBCQVg4akFFRXdheUlDSkFBZ0FpQUJOZ0lFSUFJZ0FEWUNBQ0FDUVN4cVFRRTJBZ0FnQWtFVWFrRUNOZ0lBSUFKQkhHcEJBallDQUNBQ1FRRTJBaVFnQWtIY0ZEWUNDQ0FDUVFJMkFnd2dBa0c4RFRZQ0VDQUNJQUkyQWlBZ0FpQUNRUVJxTmdJb0lBSWdBa0VnYWpZQ0dDQUNRUWhxUWV3VUVDVUFDN0lCQVFOL0l3QkJFR3NpQXlRQUFrQUNRQUpBSUFKQmYwb0VRRUVCSVFRZ0FnUkFJQUlRQkNJRVJRMERDeUFESUFRMkFnQWdBeUFDTmdJRUlBTkJBRFlDQ0NBRFFRQWdBa0VCUVFFUUJVSC9BWEVpQkVFQ1J3MEJJQU5CQ0dvaUJDQUVLQUlBSWdVZ0FtbzJBZ0FnQlNBREtBSUFhaUFCSUFJUUtCb2dBRUVJYWlBRUtBSUFOZ0lBSUFBZ0F5a0RBRGNDQUNBRFFSQnFKQUFQQ3hBR0FBc2dCRUVCY1EwQkVBWUFDd0FMUVp3VkVBY0FDNnNaQWdoL0FYNENRQUpBQWtBQ1FBSkFBa0FDUUFKQUFrQUNRQUpBQW44Q1FBSkFBbjhDUUFKQUFrQUNRQUpBQWtBQ2Z3SkFBa0FDUUFKQUFrQUNRQUpBQWtBQ1FBSkFBa0FDUUFKQUFrQUNRQ0FBUWZRQlRRUkFRZXdQS0FJQUlnVkJFQ0FBUVF0cVFYaHhJQUJCQzBrYklnSkJBM1lpQVVFZmNTSURkaUlBUVFOeFJRMEJJQUJCZjNOQkFYRWdBV29pQWtFRGRDSURRZndQYWlnQ0FDSUFRUWhxSVFRZ0FDZ0NDQ0lCSUFOQjlBOXFJZ05HRFFJZ0FTQUROZ0lNSUFOQkNHb2dBVFlDQUF3REN5QUFRVUJQRFJ3Z0FFRUxhaUlBUVhoeElRSkI4QThvQWdBaUNFVU5DVUVBSUFKcklRRUNmMEVBSUFCQkNIWWlBRVVOQUJwQkh5SUdJQUpCLy8vL0Iwc05BQm9nQWtFbUlBQm5JZ0JyUVI5eGRrRUJjVUVmSUFCclFRRjBjZ3NpQmtFQ2RFSDhFV29vQWdBaUFFVU5CaUFDUVFCQkdTQUdRUUYyYTBFZmNTQUdRUjlHRzNRaEJRTkFBa0FnQUNnQ0JFRjRjU0lISUFKSkRRQWdCeUFDYXlJSElBRlBEUUFnQUNFRUlBY2lBVVVOQmdzZ0FFRVVhaWdDQUNJSElBTWdCeUFBSUFWQkhYWkJCSEZxUVJCcUtBSUFJZ0JIR3lBRElBY2JJUU1nQlVFQmRDRUZJQUFOQUFzZ0EwVU5CU0FESVFBTUJ3c2dBa0g4RWlnQ0FFME5DQ0FBUlEwQ0lBQWdBM1JCQWlBRGRDSUFRUUFnQUd0eWNTSUFRUUFnQUd0eGFDSUJRUU4wSWdSQi9BOXFLQUlBSWdBb0FnZ2lBeUFFUWZRUGFpSUVSZzBLSUFNZ0JEWUNEQ0FFUVFocUlBTTJBZ0FNQ3d0QjdBOGdCVUYrSUFKM2NUWUNBQXNnQUNBQ1FRTjBJZ0pCQTNJMkFnUWdBQ0FDYWlJQUlBQW9BZ1JCQVhJMkFnUWdCQThMUWZBUEtBSUFJZ0JGRFFVZ0FFRUFJQUJyY1doQkFuUkIvQkZxS0FJQUlnVW9BZ1JCZUhFZ0Ftc2hBU0FGSWdNb0FoQWlBRVVORkVFQURCVUxRUUFoQVF3Q0N5QUVEUUlMUVFBaEJFRUNJQVpCSDNGMElnQkJBQ0FBYTNJZ0NIRWlBRVVOQWlBQVFRQWdBR3R4YUVFQ2RFSDhFV29vQWdBaUFFVU5BZ3NEUUNBQUtBSUVRWGh4SWdNZ0FrOGdBeUFDYXlJSElBRkpjU0VGSUFBb0FoQWlBMFVFUUNBQVFSUnFLQUlBSVFNTElBQWdCQ0FGR3lFRUlBY2dBU0FGR3lFQklBTWlBQTBBQ3lBRVJRMEJDMEg4RWlnQ0FDSUFJQUpKRFFFZ0FTQUFJQUpyU1EwQkN3SkFBa0FDUUVIOEVpZ0NBQ0lCSUFKSkJFQkJnQk1vQWdBaUFDQUNUUTBCREI0TFFZUVRLQUlBSVFBZ0FTQUNheUlEUVJCUERRRkJoQk5CQURZQ0FFSDhFa0VBTmdJQUlBQWdBVUVEY2pZQ0JDQUFJQUZxSWdGQkJHb2hBaUFCS0FJRVFRRnlJUUVNQWd0QkFDRUJJQUpCcjRBRWFpSURRUkIyUUFBaUFFRi9SZzBVSUFCQkVIUWlCVVVORkVHTUUwR01FeWdDQUNBRFFZQ0FmSEVpQjJvaUFEWUNBRUdRRTBHUUV5Z0NBQ0lCSUFBZ0FDQUJTUnMyQWdCQmlCTW9BZ0FpQVVVTkNVR1VFeUVBQTBBZ0FDZ0NBQ0lESUFBb0FnUWlCR29nQlVZTkN5QUFLQUlJSWdBTkFBc01FZ3RCL0JJZ0F6WUNBRUdFRXlBQUlBSnFJZ1UyQWdBZ0JTQURRUUZ5TmdJRUlBQWdBV29nQXpZQ0FDQUNRUU55SVFFZ0FFRUVhaUVDQ3lBQ0lBRTJBZ0FnQUVFSWFnOExJQVFRSUNBQlFROUxEUUlnQkNBQklBSnFJZ0JCQTNJMkFnUWdCQ0FBYWlJQUlBQW9BZ1JCQVhJMkFnUU1EQXRCN0E4Z0JVRitJQUYzY1RZQ0FBc2dBRUVJYWlFRElBQWdBa0VEY2pZQ0JDQUFJQUpxSWdVZ0FVRURkQ0lCSUFKcklnSkJBWEkyQWdRZ0FDQUJhaUFDTmdJQVFmd1NLQUlBSWdCRkRRTWdBRUVEZGlJRVFRTjBRZlFQYWlFQlFZUVRLQUlBSVFCQjdBOG9BZ0FpQjBFQklBUkJIM0YwSWdSeFJRMEJJQUVvQWdnTUFnc2dCQ0FDUVFOeU5nSUVJQVFnQW1vaUFDQUJRUUZ5TmdJRUlBQWdBV29nQVRZQ0FDQUJRZjhCU3cwRklBRkJBM1lpQVVFRGRFSDBEMm9oQWtIc0R5Z0NBQ0lEUVFFZ0FVRWZjWFFpQVhGRkRRY2dBa0VJYWlFRElBSW9BZ2dNQ0F0QjdBOGdCeUFFY2pZQ0FDQUJDeUVFSUFGQkNHb2dBRFlDQUNBRUlBQTJBZ3dnQUNBQk5nSU1JQUFnQkRZQ0NBdEJoQk1nQlRZQ0FFSDhFaUFDTmdJQUlBTVBDd0pBUWFnVEtBSUFJZ0FFUUNBQUlBVk5EUUVMUWFnVElBVTJBZ0FMUVFBaEFFR1lFeUFITmdJQVFaUVRJQVUyQWdCQnJCTkIveDgyQWdCQm9CTkJBRFlDQUFOQUlBQkIvQTlxSUFCQjlBOXFJZ0UyQWdBZ0FFR0FFR29nQVRZQ0FDQUFRUWhxSWdCQmdBSkhEUUFMSUFVZ0IwRllhaUlBUVFGeU5nSUVRWWdUSUFVMkFnQkJwQk5CZ0lDQUFUWUNBRUdBRXlBQU5nSUFJQVVnQUdwQktEWUNCQXdKQ3lBQUtBSU1SUTBCREFjTElBQWdBUkFoREFNTElBVWdBVTBOQlNBRElBRkxEUVVnQUVFRWFpQUVJQWRxTmdJQVFZZ1RLQUlBSWdCQkQycEJlSEVpQVVGNGFpSURRWUFUS0FJQUlBZHFJZ1VnQVNBQVFRaHFhMnNpQVVFQmNqWUNCRUdrRTBHQWdJQUJOZ0lBUVlnVElBTTJBZ0JCZ0JNZ0FUWUNBQ0FBSUFWcVFTZzJBZ1FNQmd0QjdBOGdBeUFCY2pZQ0FDQUNRUWhxSVFNZ0Fnc2hBU0FESUFBMkFnQWdBU0FBTmdJTUlBQWdBallDRENBQUlBRTJBZ2dMSUFSQkNHb2hBUXdFQzBFQkN5RUdBMEFDUUFKQUFrQUNRQUpBQWtBQ1FBSkFBa0FDUUFKQUFrQUNRQUpBQWtBQ1FBSkFBa0FnQmc0S0FBRUNCQVVHQ0FrS0J3TUxJQUFvQWdSQmVIRWdBbXNpQlNBQklBVWdBVWtpQlJzaEFTQUFJQU1nQlJzaEF5QUFJZ1VvQWhBaUFBMEtRUUVoQmd3UkN5QUZRUlJxS0FJQUlnQU5Da0VDSVFZTUVBc2dBeEFnSUFGQkVFOE5Da0VLSVFZTUR3c2dBeUFCSUFKcUlnQkJBM0kyQWdRZ0F5QUFhaUlBSUFBb0FnUkJBWEkyQWdRTURRc2dBeUFDUVFOeU5nSUVJQU1nQW1vaUFpQUJRUUZ5TmdJRUlBSWdBV29nQVRZQ0FFSDhFaWdDQUNJQVJRMEpRUVFoQmd3TkN5QUFRUU4ySWdSQkEzUkI5QTlxSVFWQmhCTW9BZ0FoQUVIc0R5Z0NBQ0lIUVFFZ0JFRWZjWFFpQkhGRkRRbEJCU0VHREF3TElBVW9BZ2doQkF3SkMwSHNEeUFISUFSeU5nSUFJQVVoQkVFR0lRWU1DZ3NnQlVFSWFpQUFOZ0lBSUFRZ0FEWUNEQ0FBSUFVMkFnd2dBQ0FFTmdJSVFRY2hCZ3dKQzBHRUV5QUNOZ0lBUWZ3U0lBRTJBZ0JCQ0NFR0RBZ0xJQU5CQ0dvUEMwRUFJUVlNQmd0QkFDRUdEQVVMUVFNaEJnd0VDMEVISVFZTUF3dEJDU0VHREFJTFFRWWhCZ3dCQzBFSUlRWU1BQXNBQzBHb0UwR29FeWdDQUNJQUlBVWdBQ0FGU1JzMkFnQWdCU0FIYWlFRFFaUVRJUUFDZndKQUFrQUNRQUpBQTBBZ0FDZ0NBQ0FEUmcwQklBQW9BZ2dpQUEwQUN3d0JDeUFBS0FJTVJRMEJDMEdVRXlFQUFrQURRQ0FBS0FJQUlnTWdBVTBFUUNBRElBQW9BZ1JxSWdNZ0FVc05BZ3NnQUNnQ0NDRUFEQUFMQUFzZ0JTQUhRVmhxSWdCQkFYSTJBZ1FnQlNBQWFrRW9OZ0lFSUFFZ0EwRmdha0Y0Y1VGNGFpSUVJQVFnQVVFUWFra2JJZ1JCR3pZQ0JFR0lFeUFGTmdJQVFhUVRRWUNBZ0FFMkFnQkJnQk1nQURZQ0FFR1VFeWtDQUNFSklBUkJFR3BCbkJNcEFnQTNBZ0FnQkNBSk53SUlRWmdUSUFjMkFnQkJsQk1nQlRZQ0FFR2NFeUFFUVFocU5nSUFRYUFUUVFBMkFnQWdCRUVjYWlFQUEwQWdBRUVITmdJQUlBTWdBRUVFYWlJQVN3MEFDeUFFSUFGR0RRTWdCQ0FFS0FJRVFYNXhOZ0lFSUFFZ0JDQUJheUlBUVFGeU5nSUVJQVFnQURZQ0FDQUFRZjhCVFFSQUlBQkJBM1lpQTBFRGRFSDBEMm9oQUVIc0R5Z0NBQ0lGUVFFZ0EwRWZjWFFpQTNGRkRRSWdBQ2dDQ0F3REN5QUJJQUFRSVF3REN5QUFJQVUyQWdBZ0FDQUFLQUlFSUFkcU5nSUVJQVVnQWtFRGNqWUNCQ0FGSUFKcUlRQWdBeUFGYXlBQ2F5RUNRWWdUS0FJQUlBTkdEUVJCaEJNb0FnQWdBMFlOQlNBREtBSUVJZ0ZCQTNGQkFVY05DU0FCUVhoeElnUkIvd0ZMRFFZZ0F5Z0NEQ0lISUFNb0FnZ2lCa1lOQnlBR0lBYzJBZ3dnQnlBR05nSUlEQWdMUWV3UElBVWdBM0kyQWdBZ0FBc2hBeUFBUVFocUlBRTJBZ0FnQXlBQk5nSU1JQUVnQURZQ0RDQUJJQU0yQWdnTFFRQWhBVUdBRXlnQ0FDSUFJQUpORFFBTUNBc2dBUThMUVlnVElBQTJBZ0JCZ0JOQmdCTW9BZ0FnQW1vaUFqWUNBQ0FBSUFKQkFYSTJBZ1FNQlFzZ0FFSDhFaWdDQUNBQ2FpSUNRUUZ5TmdJRVFZUVRJQUEyQWdCQi9CSWdBallDQUNBQUlBSnFJQUkyQWdBTUJBc2dBeEFnREFFTFFld1BRZXdQS0FJQVFYNGdBVUVEZG5keE5nSUFDeUFFSUFKcUlRSWdBeUFFYWlFREN5QURJQU1vQWdSQmZuRTJBZ1FnQUNBQ1FRRnlOZ0lFSUFBZ0Ftb2dBallDQUFKL0FrQWdBa0gvQVUwRVFDQUNRUU4ySWdGQkEzUkI5QTlxSVFKQjdBOG9BZ0FpQTBFQklBRkJIM0YwSWdGeFJRMEJJQUpCQ0dvaEF5QUNLQUlJREFJTElBQWdBaEFoREFJTFFld1BJQU1nQVhJMkFnQWdBa0VJYWlFRElBSUxJUUVnQXlBQU5nSUFJQUVnQURZQ0RDQUFJQUkyQWd3Z0FDQUJOZ0lJQ3lBRlFRaHFEd3RCZ0JNZ0FDQUNheUlCTmdJQVFZZ1RRWWdUS0FJQUlnQWdBbW9pQXpZQ0FDQURJQUZCQVhJMkFnUWdBQ0FDUVFOeU5nSUVJQUJCQ0dvTHBRRUJBbjlCQWlFRkFrQUNRQUpBQWtBQ1FDQUFLQUlFSWdZZ0FXc2dBazhOQUNBQklBSnFJZ0lnQVVraEFRSkFJQVFFUUVFQUlRVWdBUTBDSUFaQkFYUWlBU0FDSUFJZ0FVa2JJUUlNQVF0QkFDRUZJQUVOQVFzZ0FrRUFTQTBBSUFaRkRRRWdBQ2dDQUNBQ0VCTWlBVVVOQWd3REN5QUZEd3NnQWhBRUlnRU5BUXNnQXcwQkN5QUJCRUFnQUNBQk5nSUFJQUJCQkdvZ0FqWUNBRUVDRHd0QkFROExBQXNJQUVHTUZCQUhBQXRtQWdGL0EzNGpBRUV3YXlJQkpBQWdBQ2tDRUNFQ0lBQXBBZ2doQXlBQUtRSUFJUVFnQVVFVWFrRUFOZ0lBSUFFZ0JEY0RHQ0FCUWdFM0FnUWdBVUgwRERZQ0VDQUJJQUZCR0dvMkFnQWdBU0FETndNZ0lBRWdBamNES0NBQklBRkJJR29RSlFBTHVBRUJBWDhqQUVIZ0FXc2lBeVFBSUFOQk9HcEJ6QWdvQWdBMkFnQWdBMEV3YWtIRUNDa0NBRGNEQUNBRFFnQTNBeUFnQTBHOENDa0NBRGNES0NBRFFUeHFRUUJCeEFBUUtob2dBMEVnYWlBQklBSVFDU0FEUVlBQmFpQURRU0JxUWVBQUVDZ2FJQU5CQ0dvZ0EwR0FBV29RQ2lBRFFTQnFJQU5CQ0dwQkZCQURJQU5CaUFGcUlBTkJLR29vQWdBMkFnQWdBeUFES1FNZ053T0FBU0FESUFOQmdBRnFFQXNnQUNBREtRTUFOd0lBSUFOQjRBRnFKQUFMbHdNQkJIOGpBRUZBYWlJREpBQWdBQ0FBS1FNQUlBS3RmRGNEQUNBRElBQkJDR28yQWlnZ0F5QURRU2hxTmdJc0FrQUNRQUpBQWtBQ1FBSkFJQUFvQWh3aUJRUkFRY0FBSUFWcklnUWdBazBOQVNBRFFSaHFJQVVnQlNBQ2FpSUVJQUJCSUdvUUZpQURLQUljSUFKSERRVWdBeWdDR0NBQklBSVFLQm9NQXdzZ0FpRUVEQUVMSUFOQk1Hb2dBU0FDSUFRUUZ5QURRVHhxS0FJQUlRUWdBeWdDT0NFQklBTW9BakFoQlNBREtBSTBJUUlnQTBFZ2FpQUFRU0JxSWdZZ0FDZ0NIQkFZSUFJZ0F5Z0NKRWNOQkNBREtBSWdJQVVnQWhBb0dpQUFRUnhxUVFBMkFnQWdBMEVzYWlBR0VCa0xJQU5CUEdvaEFpQURRVGhxSVFVQ1FBTkFJQVJCUDAwTkFTQURRVEJxSUFFZ0JFSEFBQkFYSUFJb0FnQWhCQ0FGS0FJQUlRRWdBMEVJYWtFQVFjQUFJQU1vQWpBZ0F5Z0NOQkFhSUFOQkxHb2dBeWdDQ0JBWkRBQUxBQXNnQTBFUWFpQUFRU0JxSUFRUUd5QURLQUlVSUFSSERRRWdBeWdDRUNBQklBUVFLQm9MSUFCQkhHb2dCRFlDQUNBRFFVQnJKQUFQQzBIMEV4QUhBQXRCOUJNUUJ3QUxRZlFURUFjQUMrTUNBZ1IvQVg0akFFRkFhaUlDSkFBZ0FpQUJRUWhxSWdVMkFpUWdBU2tEQUNFR0lBRW9BaHdoQXlBQ0lBSkJKR28yQWlnQ1FDQURRVDlOQkVBZ0FVRWdhaUlFSUFOcVFZQUJPZ0FBSUFFZ0FTZ0NIRUVCYWlJRE5nSWNJQUpCR0dvZ0JDQURFQmdnQWlnQ0dFRUFJQUlvQWh3UUtocEJ3QUFnQVNnQ0hHdEJCMDBFUUNBQ1FTaHFJQVFRR1NBQ1FSQnFJQVFnQVVFY2FpZ0NBQkFiSUFJb0FoQkJBQ0FDS0FJVUVDb2FDeUFDUVFocUlBUkJPQkFZSUFJb0FneEJDRWNOQVNBQ0tBSUlJQVpDQTRZM0FBQWdBa0VvYWlBRUVCa2dBVUVjYWtFQU5nSUFJQUpCQURZQ0tFRUVJUUVDUUFOQUlBRkJHRVlOQVNBQ1FTaHFJQUZxUVFBNkFBQWdBaUFDS0FJb1FRRnFOZ0lvSUFGQkFXb2hBUXdBQ3dBTElBQWdCU2tBQURjQUFDQUFRUkJxSUFWQkVHb29BQUEyQUFBZ0FFRUlhaUFGUVFocUtRQUFOd0FBSUFKQlFHc2tBQThMUWN3VElBTkJ3QUFRSFFBTFFkd1RFQWNBQzJNQkFuOGdBU2dDQUNFQ0FrQUNRQ0FCS0FJRUlnTWdBU2dDQ0NJQlJnUkFJQU1oQVF3QkN5QURJQUZKRFFFZ0FRUkFJQUlnQVJBVElnSU5BUUFMSUFJZ0F4QVJRUUVoQWtFQUlRRUxJQUFnQVRZQ0JDQUFJQUkyQWdBUEMwRzBFeEFIQUF1UUFRRUJmeU1BUVlBQmF5SUJKQUFnQVVFd2FrSEVDQ2tDQURjREFDQUJRVGhxUWN3SUtBSUFOZ0lBSUFGQ0FEY0RJQ0FCUWJ3SUtRSUFOd01vSUFGQlBHcEJBRUhFQUJBcUdpQUJRUkJxSUFGQklHcEI0QUFRQXlBQlFTaHFJQUZCR0dvb0FnQTJBZ0FnQVNBQktRTVFOd01nSUFGQkNHb2dBVUVnYWhBTElBQWdBU2tEQ0RjQ0FDQUJRWUFCYWlRQUM0WUJBUUYvSXdCQjRBRnJJZ1VrQUNBRlFTQnFJQUVnQWhBQlFlQUFFQ2thSUFWQklHb2dBeUFFRUFrZ0JVR0FBV29nQlVFZ2FrSGdBQkFvR2lBRlFSQnFJQVZCZ0FGcVFlQUFFQU1nQlVHSUFXb2dCVUVZYWlnQ0FEWUNBQ0FGSUFVcEF4QTNBNEFCSUFWQkNHb2dCVUdBQVdvUUN5QUFJQVVwQXdnM0FnQWdCVUhnQVdva0FBdHVBUUYvSXdCQmtBRnJJZ01rQUNBRFFUQnFJQUVnQWhBQlFlQUFFQ2dhSUFOQkdHb2dBMEV3YWhBS0lBTkJDR29nQTBFWWFrRVVFQU1nQTBFNGFpQURRUkJxS0FJQU5nSUFJQU1nQXlrRENEY0RNQ0FESUFOQk1Hb1FDeUFBSUFNcEF3QTNBZ0FnQTBHUUFXb2tBQXRLQVFGL0l3QkJFR3NpQVNRQUlBRkNBVGNEQUNBQlFRQTJBZ2dnQVVFQUlBQkJBRUVBRUFWQi93RnhRUUpHQkVBZ0FTZ0NBQ0VBSUFGQkVHb2tBQ0FBRHd0QmdBaEJGaEFBQUFzSUFDQUFJQUVRRVFzTEFDQUJCRUFnQUJBVUN3c0ZBRUdRRHd2SEJRRUlmd0pBQWtBQ1FBSkFBa0FDUUNBQlFiOS9TdzBBUVJBZ0FVRUxha0Y0Y1NBQlFRdEpHeUVDSUFCQmZHb2lCaWdDQUNJSFFYaHhJUU1DUUFKQUFrQUNRQ0FIUVFOeEJFQWdBRUY0YWlJSUlBTnFJUVVnQXlBQ1R3MEJRWWdUS0FJQUlBVkdEUUpCaEJNb0FnQWdCVVlOQXlBRktBSUVJZ2RCQW5FTkJDQUhRWGh4SWdrZ0Eyb2lBeUFDU1EwRUlBTWdBbXNoQVNBSlFmOEJTdzBISUFVb0Fnd2lCQ0FGS0FJSUlnVkdEUWdnQlNBRU5nSU1JQVFnQlRZQ0NBd0pDeUFDUVlBQ1NRMERJQU1nQWtFRWNra05BeUFESUFKclFZR0FDRThOQXd3SkN5QURJQUpySWdGQkVFa05DQ0FHSUFJZ0IwRUJjWEpCQW5JMkFnQWdDQ0FDYWlJRUlBRkJBM0kyQWdRZ0JTQUZLQUlFUVFGeU5nSUVJQVFnQVJBaURBZ0xRWUFUS0FJQUlBTnFJZ01nQWswTkFTQUdJQUlnQjBFQmNYSkJBbkkyQWdCQmlCTWdDQ0FDYWlJQk5nSUFRWUFUSUFNZ0Ftc2lCRFlDQUNBQklBUkJBWEkyQWdRTUJ3dEIvQklvQWdBZ0Eyb2lBeUFDVHcwQ0N5QUJFQVFpQWtVTkFDQUNJQUFnQVNBR0tBSUFJZ1JCZUhGQkJFRUlJQVJCQTNFYmF5SUVJQVFnQVVzYkVDZ2hBU0FBRUJRZ0FTRUVDeUFFRHdzQ1FDQURJQUpySWdGQkVFa0VRQ0FHSUFkQkFYRWdBM0pCQW5JMkFnQWdDQ0FEYWlJQklBRW9BZ1JCQVhJMkFnUkJBQ0VCREFFTElBWWdBaUFIUVFGeGNrRUNjallDQUNBSUlBSnFJZ1FnQVVFQmNqWUNCQ0FJSUFOcUlnSWdBVFlDQUNBQ0lBSW9BZ1JCZm5FMkFnUUxRWVFUSUFRMkFnQkIvQklnQVRZQ0FBd0RDeUFGRUNBTUFRdEI3QTlCN0E4b0FnQkJmaUFIUVFOMmQzRTJBZ0FMSUFGQkQwMEVRQ0FHSUFNZ0JpZ0NBRUVCY1hKQkFuSTJBZ0FnQ0NBRGFpSUJJQUVvQWdSQkFYSTJBZ1FNQVFzZ0JpQUNJQVlvQWdCQkFYRnlRUUp5TmdJQUlBZ2dBbW9pQkNBQlFRTnlOZ0lFSUFnZ0Eyb2lBaUFDS0FJRVFRRnlOZ0lFSUFRZ0FSQWlJQUFQQ3lBQUMrQUdBUVYvQWtBZ0FFRjRhaUlCSUFCQmZHb29BZ0FpQTBGNGNTSUFhaUVDQWtBQ1FDQURRUUZ4RFFBZ0EwRURjVVVOQVNBQktBSUFJZ01nQUdvaEFBSkFBa0JCaEJNb0FnQWdBU0FEYXlJQlJ3UkFJQU5CL3dGTERRRWdBU2dDRENJRUlBRW9BZ2dpQlVZTkFpQUZJQVEyQWd3Z0JDQUZOZ0lJREFNTElBSW9BZ1FpQTBFRGNVRURSdzBDUWZ3U0lBQTJBZ0FnQWtFRWFpQURRWDV4TmdJQURBUUxJQUVRSUF3QkMwSHNEMEhzRHlnQ0FFRitJQU5CQTNaM2NUWUNBQXNDUUFKL0FrQUNRQUpBQWtBQ1FBSkFJQUlvQWdRaUEwRUNjVVVFUUVHSUV5Z0NBQ0FDUmcwQlFZUVRLQUlBSUFKR0RRSWdBMEY0Y1NJRUlBQnFJUUFnQkVIL0FVc05BeUFDS0FJTUlnUWdBaWdDQ0NJQ1JnMEVJQUlnQkRZQ0RDQUVJQUkyQWdnTUJRc2dBa0VFYWlBRFFYNXhOZ0lBSUFFZ0FFRUJjallDQkNBQklBQnFJQUEyQWdBTUJ3dEJpQk1nQVRZQ0FFR0FFMEdBRXlnQ0FDQUFhaUlBTmdJQUlBRWdBRUVCY2pZQ0JDQUJRWVFUS0FJQVJnUkFRZndTUVFBMkFnQkJoQk5CQURZQ0FBdEJwQk1vQWdBZ0FFOE5Cd0pBSUFCQktVa05BRUdVRXlFQUEwQWdBQ2dDQUNJQ0lBRk5CRUFnQWlBQUtBSUVhaUFCU3cwQ0N5QUFLQUlJSWdBTkFBc0xRUUFoQVVHY0V5Z0NBQ0lBUlEwRUEwQWdBVUVCYWlFQklBQW9BZ2dpQUEwQUN5QUJRZjhmSUFGQi94OUxHd3dGQzBHRUV5QUJOZ0lBUWZ3U1Fmd1NLQUlBSUFCcUlnQTJBZ0FNQndzZ0FoQWdEQUVMUWV3UFFld1BLQUlBUVg0Z0EwRURkbmR4TmdJQUN5QUJJQUJCQVhJMkFnUWdBU0FBYWlBQU5nSUFJQUZCaEJNb0FnQkhEUUpCL0JJZ0FEWUNBQThMUWY4ZkN5RUJRYVFUUVg4MkFnQkJyQk1nQVRZQ0FBOExRYXdUQW44Q1FBSi9Ba0FnQUVIL0FVMEVRQ0FBUVFOMklnSkJBM1JCOUE5cUlRQkI3QThvQWdBaUEwRUJJQUpCSDNGMElnSnhSUTBCSUFCQkNHb2hBeUFBS0FJSURBSUxJQUVnQUJBaFFhd1RRYXdUS0FJQVFYOXFJZ0UyQWdBZ0FRMEVRWndUS0FJQUlnQkZEUUpCQUNFQkEwQWdBVUVCYWlFQklBQW9BZ2dpQUEwQUN5QUJRZjhmSUFGQi94OUxHd3dEQzBIc0R5QURJQUp5TmdJQUlBQkJDR29oQXlBQUN5RUNJQU1nQVRZQ0FDQUNJQUUyQWd3Z0FTQUFOZ0lNSUFFZ0FqWUNDQThMUWY4ZkN5SUJOZ0lBQ3c4TElBRWdBRUVCY2pZQ0JDQUJJQUJxSUFBMkFnQUwreXNCSVg4Z0FDQUJLQUFzSWhrZ0FTZ0FLQ0lQSUFFb0FCUWlFU0FSSUFFb0FEUWlHaUFQSUJFZ0FTZ0FIQ0lVSUFFb0FDUWlHeUFCS0FBZ0loSWdHeUFCS0FBWUloWWdGQ0FaSUJZZ0FTZ0FCQ0lUSUFBb0FoQWlIMm9nQUNnQ0NDSWdRUXAzSWdVZ0FDZ0NCQ0lkY3lBZ0lCMXpJQUFvQWd3aUJITWdBQ2dDQUNJaGFpQUJLQUFBSWhkcVFRdDNJQjlxSWhCemFrRU9keUFFYWlJT1FRcDNJZ0pxSUFFb0FCQWlGU0FkUVFwM0lnZHFJQUVvQUFnaUdDQUVhaUFRSUFkeklBNXpha0VQZHlBRmFpSURJQUp6SUFFb0FBd2lIQ0FGYWlBT0lCQkJDbmNpRUhNZ0EzTnFRUXgzSUFkcUlnNXpha0VGZHlBUWFpSUdJQTVCQ25jaUNITWdFQ0FSYWlBT0lBTkJDbmNpRUhNZ0JuTnFRUWgzSUFKcUlnNXpha0VIZHlBUWFpSUNRUXAzSWdOcUlCc2dCa0VLZHlJR2FpQVFJQlJxSUE0Z0JuTWdBbk5xUVFsM0lBaHFJaEFnQTNNZ0NDQVNhaUFDSUE1QkNuY2lEbk1nRUhOcVFRdDNJQVpxSWdKemFrRU5keUFPYWlJR0lBSkJDbmNpQ0hNZ0RpQVBhaUFDSUJCQkNuY2lDWE1nQm5OcVFRNTNJQU5xSWdKemFrRVBkeUFKYWlJRFFRcDNJZ3BxSUFKQkNuY2lDeUFCS0FBOEloQnFJQWdnR21vZ0F5QUxjeUFKSUFFb0FEQWlEbW9nQWlBR1FRcDNJZ1p6SUFOemFrRUdkeUFJYWlJQ2MycEJCM2NnQm1vaUF5QUNRUXAzSWdoeklBWWdBU2dBT0NJQmFpQUNJQXB6SUFOemFrRUpkeUFMYWlJR2MycEJDSGNnQ21vaUFpQUdjU0FEUVFwM0lna2dBa0YvYzNGeWFrR1o4NG5VQldwQkIzY2dDR29pQTBFS2R5SUthaUFQSUFKQkNuY2lDMm9nRXlBR1FRcDNJZ1pxSUJvZ0NXb2dGU0FJYWlBRElBSnhJQVlnQTBGL2MzRnlha0daODRuVUJXcEJCbmNnQ1dvaUFpQURjU0FMSUFKQmYzTnhjbXBCbWZPSjFBVnFRUWgzSUFacUlnTWdBbkVnQ2lBRFFYOXpjWEpxUVpuemlkUUZha0VOZHlBTGFpSUdJQU54SUFKQkNuY2lDQ0FHUVg5emNYSnFRWm56aWRRRmFrRUxkeUFLYWlJQ0lBWnhJQU5CQ25jaUNTQUNRWDl6Y1hKcVFabnppZFFGYWtFSmR5QUlhaUlEUVFwM0lncHFJQmNnQWtFS2R5SUxhaUFPSUFaQkNuY2lCbW9nSENBSmFpQVFJQWhxSUFNZ0FuRWdCaUFEUVg5emNYSnFRWm56aWRRRmFrRUhkeUFKYWlJQ0lBTnhJQXNnQWtGL2MzRnlha0daODRuVUJXcEJEM2NnQm1vaUF5QUNjU0FLSUFOQmYzTnhjbXBCbWZPSjFBVnFRUWQzSUF0cUlnWWdBM0VnQWtFS2R5SUlJQVpCZjNOeGNtcEJtZk9KMUFWcVFReDNJQXBxSWdJZ0JuRWdBMEVLZHlJSklBSkJmM054Y21wQm1mT0oxQVZxUVE5M0lBaHFJZ05CQ25jaUNtb2dHU0FDUVFwM0lndHFJQUVnQmtFS2R5SUdhaUFZSUFscUlCRWdDR29nQXlBQ2NTQUdJQU5CZjNOeGNtcEJtZk9KMUFWcVFRbDNJQWxxSWdJZ0EzRWdDeUFDUVg5emNYSnFRWm56aWRRRmFrRUxkeUFHYWlJRElBSnhJQW9nQTBGL2MzRnlha0daODRuVUJXcEJCM2NnQzJvaUJpQURjU0FDUVFwM0lnSWdCa0YvYzNGeWFrR1o4NG5VQldwQkRYY2dDbW9pQ0NBR2NTQURRUXAzSWdNZ0NFRi9jeUlMY1hKcVFabnppZFFGYWtFTWR5QUNhaUlKUVFwM0lncHFJQlVnQ0VFS2R5SUlhaUFCSUFaQkNuY2lCbW9nRHlBRGFpQWNJQUpxSUFrZ0MzSWdCbk5xUWFIWDUvWUdha0VMZHlBRGFpSUNJQWxCZjNOeUlBaHpha0doMStmMkJtcEJEWGNnQm1vaUF5QUNRWDl6Y2lBS2MycEJvZGZuOWdacVFRWjNJQWhxSWdZZ0EwRi9jM0lnQWtFS2R5SUNjMnBCb2RmbjlnWnFRUWQzSUFwcUlnZ2dCa0YvYzNJZ0EwRUtkeUlEYzJwQm9kZm45Z1pxUVE1M0lBSnFJZ2xCQ25jaUNtb2dHQ0FJUVFwM0lndHFJQk1nQmtFS2R5SUdhaUFTSUFOcUlCQWdBbW9nQ1NBSVFYOXpjaUFHYzJwQm9kZm45Z1pxUVFsM0lBTnFJZ0lnQ1VGL2MzSWdDM05xUWFIWDUvWUdha0VOZHlBR2FpSURJQUpCZjNOeUlBcHpha0doMStmMkJtcEJEM2NnQzJvaUJpQURRWDl6Y2lBQ1FRcDNJZ0p6YWtHaDErZjJCbXBCRG5jZ0Ntb2lDQ0FHUVg5emNpQURRUXAzSWdOemFrR2gxK2YyQm1wQkNIY2dBbW9pQ1VFS2R5SUthaUFaSUFoQkNuY2lDMm9nR2lBR1FRcDNJZ1pxSUJZZ0Eyb2dGeUFDYWlBSklBaEJmM055SUFaemFrR2gxK2YyQm1wQkRYY2dBMm9pQWlBSlFYOXpjaUFMYzJwQm9kZm45Z1pxUVFaM0lBWnFJZ01nQWtGL2MzSWdDbk5xUWFIWDUvWUdha0VGZHlBTGFpSUdJQU5CZjNOeUlBSkJDbmNpQ0hOcVFhSFg1L1lHYWtFTWR5QUthaUlKSUFaQmYzTnlJQU5CQ25jaUNuTnFRYUhYNS9ZR2FrRUhkeUFJYWlJTFFRcDNJZ0pxSUJrZ0NVRUtkeUlEYWlBYklBWkJDbmNpQm1vZ0V5QUthaUFPSUFocUlBc2dDVUYvYzNJZ0JuTnFRYUhYNS9ZR2FrRUZkeUFLYWlJSUlBTnhJQXNnQTBGL2MzRnlha0hjK2U3NGVHcEJDM2NnQm1vaUJpQUNjU0FJSUFKQmYzTnhjbXBCM1BudStIaHFRUXgzSUFOcUlna2dDRUVLZHlJRGNTQUdJQU5CZjNOeGNtcEIzUG51K0hocVFRNTNJQUpxSWdvZ0JrRUtkeUlDY1NBSklBSkJmM054Y21wQjNQbnUrSGhxUVE5M0lBTnFJZ3RCQ25jaUJtb2dGU0FLUVFwM0lnaHFJQTRnQ1VFS2R5SUphaUFTSUFKcUlCY2dBMm9nQ3lBSmNTQUtJQWxCZjNOeGNtcEIzUG51K0hocVFRNTNJQUpxSWdJZ0NIRWdDeUFJUVg5emNYSnFRZHo1N3ZoNGFrRVBkeUFKYWlJRElBWnhJQUlnQmtGL2MzRnlha0hjK2U3NGVHcEJDWGNnQ0dvaUNTQUNRUXAzSWdKeElBTWdBa0YvYzNGeWFrSGMrZTc0ZUdwQkNIY2dCbW9pQ2lBRFFRcDNJZ054SUFrZ0EwRi9jM0Z5YWtIYytlNzRlR3BCQ1hjZ0Ftb2lDMEVLZHlJR2FpQUJJQXBCQ25jaUNHb2dFQ0FKUVFwM0lnbHFJQlFnQTJvZ0hDQUNhaUFMSUFseElBb2dDVUYvYzNGeWFrSGMrZTc0ZUdwQkRuY2dBMm9pQWlBSWNTQUxJQWhCZjNOeGNtcEIzUG51K0hocVFRVjNJQWxxSWdNZ0JuRWdBaUFHUVg5emNYSnFRZHo1N3ZoNGFrRUdkeUFJYWlJSUlBSkJDbmNpQW5FZ0F5QUNRWDl6Y1hKcVFkejU3dmg0YWtFSWR5QUdhaUlKSUFOQkNuY2lBM0VnQ0NBRFFYOXpjWEpxUWR6NTd2aDRha0VHZHlBQ2FpSUtRUXAzSWd0cUlCY2dDVUVLZHlJR2FpQVZJQWhCQ25jaUNHb2dHQ0FEYWlBV0lBSnFJQW9nQ0hFZ0NTQUlRWDl6Y1hKcVFkejU3dmg0YWtFRmR5QURhaUlDSUFaeElBb2dCa0YvYzNGeWFrSGMrZTc0ZUdwQkRIY2dDR29pQXlBQ0lBdEJmM055YzJwQnp2clB5bnBxUVFsM0lBWnFJZ1lnQXlBQ1FRcDNJZ0pCZjNOeWMycEJ6dnJQeW5wcVFROTNJQXRxSWdnZ0JpQURRUXAzSWdOQmYzTnljMnBCenZyUHlucHFRUVYzSUFKcUlnbEJDbmNpQ21vZ0dDQUlRUXAzSWd0cUlBNGdCa0VLZHlJR2FpQVVJQU5xSUJzZ0Ftb2dDU0FJSUFaQmYzTnljMnBCenZyUHlucHFRUXQzSUFOcUlnSWdDU0FMUVg5emNuTnFRYzc2ejhwNmFrRUdkeUFHYWlJRElBSWdDa0YvYzNKemFrSE8rcy9LZW1wQkNIY2dDMm9pQmlBRElBSkJDbmNpQWtGL2MzSnpha0hPK3MvS2VtcEJEWGNnQ21vaUNDQUdJQU5CQ25jaUEwRi9jM0p6YWtITytzL0tlbXBCREhjZ0Ftb2lDVUVLZHlJS2FpQVNJQWhCQ25jaUMyb2dIQ0FHUVFwM0lnWnFJQk1nQTJvZ0FTQUNhaUFKSUFnZ0JrRi9jM0p6YWtITytzL0tlbXBCQlhjZ0Eyb2lBaUFKSUF0QmYzTnljMnBCenZyUHlucHFRUXgzSUFacUlnTWdBaUFLUVg5emNuTnFRYzc2ejhwNmFrRU5keUFMYWlJR0lBTWdBa0VLZHlJSVFYOXpjbk5xUWM3Nno4cDZha0VPZHlBS2FpSUpJQVlnQTBFS2R5SUtRWDl6Y25OcVFjNzZ6OHA2YWtFTGR5QUlhaUlMUVFwM0lpSWdCR29nR3lBWElCVWdGeUFaSUJ3Z0V5QVFJQmNnRGlBUUlCZ2dJU0FnSUFSQmYzTnlJQjF6YWlBUmFrSG1sNHFGQldwQkNIY2dIMm9pQWtFS2R5SURhaUFISUJ0cUlBVWdGMm9nQkNBVWFpQWZJQUlnSFNBRlFYOXpjbk5xSUFGcVFlYVhpb1VGYWtFSmR5QUVhaUlFSUFJZ0IwRi9jM0p6YWtIbWw0cUZCV3BCQ1hjZ0JXb2lCU0FFSUFOQmYzTnljMnBCNXBlS2hRVnFRUXQzSUFkcUlnY2dCU0FFUVFwM0lnUkJmM055YzJwQjVwZUtoUVZxUVExM0lBTnFJZ0lnQnlBRlFRcDNJZ1ZCZjNOeWMycEI1cGVLaFFWcVFROTNJQVJxSWdOQkNuY2lER29nRmlBQ1FRcDNJZzFxSUJvZ0IwRUtkeUlIYWlBVklBVnFJQmtnQkdvZ0F5QUNJQWRCZjNOeWMycEI1cGVLaFFWcVFROTNJQVZxSWdRZ0F5QU5RWDl6Y25OcVFlYVhpb1VGYWtFRmR5QUhhaUlGSUFRZ0RFRi9jM0p6YWtIbWw0cUZCV3BCQjNjZ0RXb2lCeUFGSUFSQkNuY2lCRUYvYzNKemFrSG1sNHFGQldwQkIzY2dER29pQWlBSElBVkJDbmNpQlVGL2MzSnpha0htbDRxRkJXcEJDSGNnQkdvaUEwRUtkeUlNYWlBY0lBSkJDbmNpRFdvZ0R5QUhRUXAzSWdkcUlCTWdCV29nRWlBRWFpQURJQUlnQjBGL2MzSnpha0htbDRxRkJXcEJDM2NnQldvaUJDQURJQTFCZjNOeWMycEI1cGVLaFFWcVFRNTNJQWRxSWdVZ0JDQU1RWDl6Y25OcVFlYVhpb1VGYWtFT2R5QU5haUlISUFVZ0JFRUtkeUlDUVg5emNuTnFRZWFYaW9VRmFrRU1keUFNYWlJRElBY2dCVUVLZHlJTVFYOXpjbk5xUWVhWGlvVUZha0VHZHlBQ2FpSU5RUXAzSWdScUlCUWdBMEVLZHlJRmFpQWNJQWRCQ25jaUIyb2dHU0FNYWlBV0lBSnFJQTBnQjNFZ0F5QUhRWDl6Y1hKcVFhU2l0K0lGYWtFSmR5QU1haUlDSUFWeElBMGdCVUYvYzNGeWFrR2tvcmZpQldwQkRYY2dCMm9pQnlBRWNTQUNJQVJCZjNOeGNtcEJwS0szNGdWcVFROTNJQVZxSWdNZ0FrRUtkeUlGY1NBSElBVkJmM054Y21wQnBLSzM0Z1ZxUVFkM0lBUnFJZ3dnQjBFS2R5SUVjU0FESUFSQmYzTnhjbXBCcEtLMzRnVnFRUXgzSUFWcUlnMUJDbmNpQjJvZ0FTQU1RUXAzSWdKcUlBOGdBMEVLZHlJRGFpQVJJQVJxSUJvZ0JXb2dEU0FEY1NBTUlBTkJmM054Y21wQnBLSzM0Z1ZxUVFoM0lBUnFJZ1FnQW5FZ0RTQUNRWDl6Y1hKcVFhU2l0K0lGYWtFSmR5QURhaUlGSUFkeElBUWdCMEYvYzNGeWFrR2tvcmZpQldwQkMzY2dBbW9pQXlBRVFRcDNJZ1J4SUFVZ0JFRi9jM0Z5YWtHa29yZmlCV3BCQjNjZ0Iyb2lEQ0FGUVFwM0lnVnhJQU1nQlVGL2MzRnlha0drb3JmaUJXcEJCM2NnQkdvaURVRUtkeUlIYWlBYklBeEJDbmNpQW1vZ0ZTQURRUXAzSWdOcUlBNGdCV29nRWlBRWFpQU5JQU54SUF3Z0EwRi9jM0Z5YWtHa29yZmlCV3BCREhjZ0JXb2lCQ0FDY1NBTklBSkJmM054Y21wQnBLSzM0Z1ZxUVFkM0lBTnFJZ1VnQjNFZ0JDQUhRWDl6Y1hKcVFhU2l0K0lGYWtFR2R5QUNhaUlDSUFSQkNuY2lCSEVnQlNBRVFYOXpjWEpxUWFTaXQrSUZha0VQZHlBSGFpSURJQVZCQ25jaUJYRWdBaUFGUVg5emNYSnFRYVNpdCtJRmFrRU5keUFFYWlJTVFRcDNJZzFxSUJNZ0EwRUtkeUllYWlBUklBSkJDbmNpQjJvZ0VDQUZhaUFZSUFScUlBd2dCM0VnQXlBSFFYOXpjWEpxUWFTaXQrSUZha0VMZHlBRmFpSUVJQXhCZjNOeUlCNXpha0h6L2NEckJtcEJDWGNnQjJvaUJTQUVRWDl6Y2lBTmMycEI4LzNBNndacVFRZDNJQjVxSWdjZ0JVRi9jM0lnQkVFS2R5SUVjMnBCOC8zQTZ3WnFRUTkzSUExcUlnSWdCMEYvYzNJZ0JVRUtkeUlGYzJwQjgvM0E2d1pxUVF0M0lBUnFJZ05CQ25jaURHb2dHeUFDUVFwM0lnMXFJQllnQjBFS2R5SUhhaUFCSUFWcUlCUWdCR29nQXlBQ1FYOXpjaUFIYzJwQjgvM0E2d1pxUVFoM0lBVnFJZ1FnQTBGL2MzSWdEWE5xUWZQOXdPc0dha0VHZHlBSGFpSUZJQVJCZjNOeUlBeHpha0h6L2NEckJtcEJCbmNnRFdvaUJ5QUZRWDl6Y2lBRVFRcDNJZ1J6YWtIei9jRHJCbXBCRG5jZ0RHb2lBaUFIUVg5emNpQUZRUXAzSWdWemFrSHovY0RyQm1wQkRIY2dCR29pQTBFS2R5SU1haUFQSUFKQkNuY2lEV29nR0NBSFFRcDNJZ2RxSUE0Z0JXb2dFaUFFYWlBRElBSkJmM055SUFkemFrSHovY0RyQm1wQkRYY2dCV29pQkNBRFFYOXpjaUFOYzJwQjgvM0E2d1pxUVFWM0lBZHFJZ1VnQkVGL2MzSWdESE5xUWZQOXdPc0dha0VPZHlBTmFpSUhJQVZCZjNOeUlBUkJDbmNpQkhOcVFmUDl3T3NHYWtFTmR5QU1haUlDSUFkQmYzTnlJQVZCQ25jaUJYTnFRZlA5d09zR2FrRU5keUFFYWlJRFFRcDNJZ3hxSUJZZ0FrRUtkeUlOYWlBU0lBZEJDbmNpQjJvZ0dpQUZhaUFWSUFScUlBTWdBa0YvYzNJZ0IzTnFRZlA5d09zR2FrRUhkeUFGYWlJQ0lBTkJmM055SUExemFrSHovY0RyQm1wQkJYY2dCMm9pQkNBQ2NTQU1JQVJCZjNOeGNtcEI2ZTIxMHdkcVFROTNJQTFxSWdVZ0JIRWdBa0VLZHlJQ0lBVkJmM054Y21wQjZlMjEwd2RxUVFWM0lBeHFJZ2NnQlhFZ0JFRUtkeUlESUFkQmYzTnhjbXBCNmUyMTB3ZHFRUWgzSUFKcUlnUkJDbmNpREdvZ0VDQUhRUXAzSWcxcUlCa2dCVUVLZHlJZWFpQWNJQU5xSUJNZ0Ftb2dCQ0FIY1NBZUlBUkJmM054Y21wQjZlMjEwd2RxUVF0M0lBTnFJZ1VnQkhFZ0RTQUZRWDl6Y1hKcVFlbnR0ZE1IYWtFT2R5QWVhaUlFSUFWeElBd2dCRUYvYzNGeWFrSHA3YlhUQjJwQkRuY2dEV29pQnlBRWNTQUZRUXAzSWdJZ0IwRi9jM0Z5YWtIcDdiWFRCMnBCQm5jZ0RHb2lCU0FIY1NBRVFRcDNJZ01nQlVGL2MzRnlha0hwN2JYVEIycEJEbmNnQW1vaUJFRUtkeUlNYWlBYUlBVkJDbmNpRFdvZ0dDQUhRUXAzSWdkcUlBNGdBMm9nRVNBQ2FpQUVJQVZ4SUFjZ0JFRi9jM0Z5YWtIcDdiWFRCMnBCQm5jZ0Eyb2lCU0FFY1NBTklBVkJmM054Y21wQjZlMjEwd2RxUVFsM0lBZHFJZ1FnQlhFZ0RDQUVRWDl6Y1hKcVFlbnR0ZE1IYWtFTWR5QU5haUlISUFSeElBVkJDbmNpQWlBSFFYOXpjWEpxUWVudHRkTUhha0VKZHlBTWFpSUZJQWR4SUFSQkNuY2lBeUFGUVg5emNYSnFRZW50dGRNSGFrRU1keUFDYWlJRVFRcDNJZ3dnRUdvZ0FTQUhRUXAzSWcxcUlBOGdBMm9nRkNBQ2FpQUVJQVZ4SUEwZ0JFRi9jM0Z5YWtIcDdiWFRCMnBCQlhjZ0Eyb2lCeUFFY1NBRlFRcDNJZ1VnQjBGL2MzRnlha0hwN2JYVEIycEJEM2NnRFdvaUJDQUhjU0FNSUFSQmYzTnhjbXBCNmUyMTB3ZHFRUWgzSUFWcUlnSWdCRUVLZHlJRGN5QUZJQTVxSUFRZ0IwRUtkeUlPY3lBQ2MycEJDSGNnREdvaUJITnFRUVYzSUE1cUlnVkJDbmNpQnlBU2FpQUNRUXAzSWhJZ0Uyb2dEaUFQYWlBRUlCSnpJQVZ6YWtFTWR5QURhaUlQSUFkeklBTWdGV29nQlNBRVFRcDNJaE56SUE5emFrRUpkeUFTYWlJU2MycEJESGNnRTJvaUZTQVNRUXAzSWc1eklCTWdFV29nRWlBUFFRcDNJZzl6SUJWemFrRUZkeUFIYWlJUmMycEJEbmNnRDJvaUVrRUtkeUlUSUFGcUlCVkJDbmNpQVNBWWFpQVBJQlJxSUJFZ0FYTWdFbk5xUVFaM0lBNXFJZzhnRTNNZ0RpQVdhaUFTSUJGQkNuY2lFWE1nRDNOcVFRaDNJQUZxSWdGemFrRU5keUFSYWlJVUlBRkJDbmNpRW5NZ0VTQWFhaUFCSUE5QkNuY2lEM01nRkhOcVFRWjNJQk5xSWdGemFrRUZkeUFQYWlJUlFRcDNJaE5xTmdJSUlBQWdJQ0FXSUFocUlBc2dDU0FHUVFwM0loWkJmM055YzJwQnp2clB5bnBxUVFoM0lBcHFJaFZCQ25kcUlBOGdGMm9nQVNBVVFRcDNJZzl6SUJGemFrRVBkeUFTYWlJVVFRcDNJaGhxTmdJRUlBQWdIU0FRSUFwcUlCVWdDeUFKUVFwM0loZEJmM055YzJwQnp2clB5bnBxUVFWM0lCWnFJaEJxSUJJZ0hHb2dFU0FCUVFwM0lnRnpJQlJ6YWtFTmR5QVBhaUlSUVFwM2FqWUNBQ0FBSUJjZ0lXb2dHaUFXYWlBUUlCVWdJa0YvYzNKemFrSE8rcy9LZW1wQkJuZHFJQThnRzJvZ0ZDQVRjeUFSYzJwQkMzY2dBV29pRDJvMkFoQWdBQ0FYSUI5cUlCTnFJQUVnR1dvZ0VTQVljeUFQYzJwQkMzZHFOZ0lNQ3prQUFrQWdBaUFCVHdSQUlBSkJ3UUJQRFFFZ0FDQUNJQUZyTmdJRUlBQWdBeUFCYWpZQ0FBOExJQUVnQWhBY0FBc2dBa0hBQUJBQ0FBdE5BZ0YvQW40akFFRVFheUlFSkFBZ0JFRUlha0VBSUFNZ0FTQUNFQm9nQkNrRENDRUZJQVFnQXlBQ0lBRWdBaEFhSUFRcEF3QWhCaUFBSUFVM0FnQWdBQ0FHTndJSUlBUkJFR29rQUFzc0FRRi9Jd0JCRUdzaUF5UUFJQU5CQ0dvZ0FrSEFBQ0FCRUJZZ0FDQURLUU1JTndJQUlBTkJFR29rQUFzT0FDQUFLQUlBS0FJQUlBRVFGUXMzQUFKQUlBSWdBVThFUUNBRUlBSkpEUUVnQUNBQ0lBRnJOZ0lFSUFBZ0F5QUJhallDQUE4TElBRWdBaEFjQUFzZ0FpQUVFQUlBQ3lzQkFYOGpBRUVRYXlJREpBQWdBMEVJYWtFQUlBSWdBUkFXSUFBZ0F5a0RDRGNDQUNBRFFSQnFKQUFMZlFFQmZ5TUFRVEJySWdJa0FDQUNJQUUyQWdRZ0FpQUFOZ0lBSUFKQkxHcEJBVFlDQUNBQ1FSUnFRUUkyQWdBZ0FrRWNha0VDTmdJQUlBSkJBVFlDSkNBQ1Fmd1VOZ0lJSUFKQkFqWUNEQ0FDUWJ3Tk5nSVFJQUlnQWpZQ0lDQUNJQUpCQkdvMkFpZ2dBaUFDUVNCcU5nSVlJQUpCQ0dwQmpCVVFKUUFMZkFFQmZ5TUFRVEJySWdNa0FDQURJQUkyQWdRZ0F5QUJOZ0lBSUFOQkxHcEJBVFlDQUNBRFFSUnFRUUkyQWdBZ0EwRWNha0VDTmdJQUlBTkJBVFlDSkNBRFFjd1VOZ0lJSUFOQkFqWUNEQ0FEUWJ3Tk5nSVFJQU1nQTBFRWFqWUNJQ0FESUFNMkFpZ2dBeUFEUVNCcU5nSVlJQU5CQ0dvZ0FCQWxBQXRRQUFKQUFrQkIyQThvQWdCQkFVWUVRRUhjRDBIY0R5Z0NBRUVCYWlJQU5nSUFJQUJCQTBrTkFRd0NDMEhZRDBLQmdJQ0FFRGNEQUF0QjVBOG9BZ0FpQUVGL1RBMEFRZVFQSUFBMkFnQUxBQXMvQVFKL0l3QkJFR3NpQVNRQUFuOGdBQ2dDQ0NJQ0lBSU5BQnBCcEJRUUJ3QUxHaUFCSUFBcEFndzNBd0FnQVNBQVFSUnFLUUlBTndNSUlBRVFIZ0FMc3dJQkJYOGdBQ2dDR0NFREFrQUNRQUpBSUFBb0Fnd2lBaUFBUndSQUlBQW9BZ2dpQVNBQ05nSU1JQUlnQVRZQ0NDQUREUUVNQWdzZ0FFRVVhaUlCSUFCQkVHb2dBU2dDQUJzaUJDZ0NBQ0lCQkVBQ1FBTkFJQVFoQlNBQklnSkJGR29pQkNnQ0FDSUJCRUFnQVEwQkRBSUxJQUpCRUdvaEJDQUNLQUlRSWdFTkFBc0xJQVZCQURZQ0FDQUREUUVNQWd0QkFDRUNJQU5GRFFFTEFrQWdBQ2dDSENJRVFRSjBRZndSYWlJQktBSUFJQUJIQkVBZ0EwRVFhaUFEUVJScUlBTW9BaEFnQUVZYklBSTJBZ0FnQWcwQkRBSUxJQUVnQWpZQ0FDQUNSUTBDQ3lBQ0lBTTJBaGdnQUNnQ0VDSUJCRUFnQWlBQk5nSVFJQUVnQWpZQ0dBc2dBRUVVYWlnQ0FDSUJSUTBBSUFKQkZHb2dBVFlDQUNBQklBSTJBaGdMRHd0QjhBOUI4QThvQWdCQmZpQUVkM0UyQWdBTHhRSUJCSDhnQUFKL1FRQWdBVUVJZGlJRFJRMEFHa0VmSWdJZ0FVSC8vLzhIU3cwQUdpQUJRU1lnQTJjaUFtdEJIM0YyUVFGeFFSOGdBbXRCQVhSeUN5SUNOZ0ljSUFCQ0FEY0NFQ0FDUVFKMFFmd1JhaUVEQWtBQ1FBSkFRZkFQS0FJQUlnUkJBU0FDUVI5eGRDSUZjUVJBSUFNb0FnQWlCQ2dDQkVGNGNTQUJSdzBCSUFRaEFnd0NDeUFESUFBMkFnQkI4QThnQkNBRmNqWUNBQ0FBSUFNMkFoZ2dBQ0FBTmdJSUlBQWdBRFlDREE4TElBRkJBRUVaSUFKQkFYWnJRUjl4SUFKQkgwWWJkQ0VEQTBBZ0JDQURRUjEyUVFSeGFrRVFhaUlGS0FJQUlnSkZEUUlnQTBFQmRDRURJQUloQkNBQ0tBSUVRWGh4SUFGSERRQUxDeUFDS0FJSUlnTWdBRFlDRENBQ0lBQTJBZ2dnQUNBQ05nSU1JQUFnQXpZQ0NDQUFRUUEyQWhnUEN5QUZJQUEyQWdBZ0FDQUVOZ0lZSUFBZ0FEWUNEQ0FBSUFBMkFnZ0w5UVFCQkg4Z0FDQUJhaUVDQWtBQ1FBSkFBa0FDUUFKQUFrQUNRQ0FBS0FJRUlnTkJBWEVOQUNBRFFRTnhSUTBCSUFBb0FnQWlBeUFCYWlFQkFrQUNRRUdFRXlnQ0FDQUFJQU5ySWdCSEJFQWdBMEgvQVVzTkFTQUFLQUlNSWdRZ0FDZ0NDQ0lGUmcwQ0lBVWdCRFlDRENBRUlBVTJBZ2dNQXdzZ0FpZ0NCQ0lEUVFOeFFRTkhEUUpCL0JJZ0FUWUNBQ0FDUVFScUlBTkJmbkUyQWdBZ0FDQUJRUUZ5TmdJRUlBSWdBVFlDQUE4TElBQVFJQXdCQzBIc0QwSHNEeWdDQUVGK0lBTkJBM1ozY1RZQ0FBc0NRQ0FDS0FJRUlnTkJBbkZGQkVCQmlCTW9BZ0FnQWtZTkFVR0VFeWdDQUNBQ1JnMERJQU5CZUhFaUJDQUJhaUVCSUFSQi93RkxEUVFnQWlnQ0RDSUVJQUlvQWdnaUFrWU5CaUFDSUFRMkFnd2dCQ0FDTmdJSURBY0xJQUpCQkdvZ0EwRitjVFlDQUNBQUlBRkJBWEkyQWdRZ0FDQUJhaUFCTmdJQURBY0xRWWdUSUFBMkFnQkJnQk5CZ0JNb0FnQWdBV29pQVRZQ0FDQUFJQUZCQVhJMkFnUWdBRUdFRXlnQ0FFWU5Bd3NQQzBHRUV5QUFOZ0lBUWZ3U1Fmd1NLQUlBSUFGcUlnRTJBZ0FnQUNBQlFRRnlOZ0lFSUFBZ0FXb2dBVFlDQUE4TElBSVFJQXdDQzBIOEVrRUFOZ0lBUVlRVFFRQTJBZ0FQQzBIc0QwSHNEeWdDQUVGK0lBTkJBM1ozY1RZQ0FBc2dBQ0FCUVFGeU5nSUVJQUFnQVdvZ0FUWUNBQ0FBUVlRVEtBSUFSdzBBUWZ3U0lBRTJBZ0FQQ3dKL0FrQWdBVUgvQVUwRVFDQUJRUU4ySWdKQkEzUkI5QTlxSVFGQjdBOG9BZ0FpQTBFQklBSkJIM0YwSWdKeFJRMEJJQUVvQWdnTUFnc2dBQ0FCRUNFUEMwSHNEeUFESUFKeU5nSUFJQUVMSVFJZ0FVRUlhaUFBTmdJQUlBSWdBRFlDRENBQUlBRTJBZ3dnQUNBQ05nSUlDOUlDQVFWL0l3QkJFR3NpQXlRQUFuOGdBQ2dDQUNnQ0FDSUNRWUNBeEFCSEJFQWdBVUVjYWlnQ0FDRUVJQUVvQWhnaEJTQURRUUEyQWd3Q2Z5QUNRZjhBVFFSQUlBTWdBam9BREVFQkRBRUxJQUpCL3c5TkJFQWdBeUFDUVQ5eFFZQUJjam9BRFNBRElBSkJCblpCSDNGQndBRnlPZ0FNUVFJTUFRc2dBa0gvL3dOTkJFQWdBeUFDUVQ5eFFZQUJjam9BRGlBRElBSkJCblpCUDNGQmdBRnlPZ0FOSUFNZ0FrRU1ka0VQY1VIZ0FYSTZBQXhCQXd3QkN5QURJQUpCRW5aQjhBRnlPZ0FNSUFNZ0FrRS9jVUdBQVhJNkFBOGdBeUFDUVF4MlFUOXhRWUFCY2pvQURTQURJQUpCQm5aQlAzRkJnQUZ5T2dBT1FRUUxJUVpCQVNJQ0lBVWdBMEVNYWlBR0lBUW9BZ3dSQlFBTkFSb0xJQUFvQWdRdEFBQUVRQ0FCS0FJWUlBQW9BZ2dpQUNnQ0FDQUFLQUlFSUFGQkhHb29BZ0FvQWd3UkJRQU1BUXRCQUFzaEFpQURRUkJxSkFBZ0FndXFDQUVKZnlNQVFkQUFheUlDSkFCQkp5RURBa0FnQUNnQ0FDSUFRWkRPQUU4RVFBTkFJQUpCQ1dvZ0Eyb2lCVUY4YWlBQUlBQkJrTTRBYmlJRVFmQ3hmMnhxSWdkQjVBQnVJZ1pCQVhSQnFndHFMd0FBT3dBQUlBVkJmbW9nQnlBR1FaeC9iR3BCQVhSQnFndHFMd0FBT3dBQUlBTkJmR29oQXlBQVFmL0IxeTlMSVFVZ0JDRUFJQVVOQUFzTUFRc2dBQ0VFQ3dKQUlBUkI1QUJPQkVBZ0FrRUphaUFEUVg1cUlnTnFJQVFnQkVIa0FHNGlBRUdjZjJ4cVFRRjBRYW9MYWk4QUFEc0FBQXdCQ3lBRUlRQUxBa0FnQUVFSlRBUkFJQUpCQ1dvZ0EwRi9haUlEYWlJSUlBQkJNR282QUFBTUFRc2dBa0VKYWlBRFFYNXFJZ05xSWdnZ0FFRUJkRUdxQzJvdkFBQTdBQUFMSUFKQkFEWUNOQ0FDUWZRTU5nSXdJQUpCZ0lERUFEWUNPRUVuSUFOcklnWWhBeUFCS0FJQUlnQkJBWEVFUUNBQ1FTczJBamdnQmtFQmFpRURDeUFDSUFCQkFuWkJBWEU2QUQ4Z0FTZ0NDQ0VFSUFJZ0FrRS9hallDUkNBQ0lBSkJPR28yQWtBZ0FpQUNRVEJxTmdKSUFuOENRQUpBQW44Q1FBSkFBa0FDUUFKQUFrQUNRQ0FFUVFGR0JFQWdBVUVNYWlnQ0FDSUVJQU5ORFFFZ0FFRUljUTBDSUFRZ0Eyc2hCVUVCSUFFdEFEQWlBQ0FBUVFOR0cwRURjU0lBUlEwRElBQkJBa1lOQkF3RkN5QUNRVUJySUFFUUl3MElJQUVvQWhnZ0NDQUdJQUZCSEdvb0FnQW9BZ3dSQlFBTUNnc2dBa0ZBYXlBQkVDTU5CeUFCS0FJWUlBZ2dCaUFCUVJ4cUtBSUFLQUlNRVFVQURBa0xJQUZCQVRvQU1DQUJRVEEyQWdRZ0FrRkFheUFCRUNNTkJpQUNRVEEyQWt3Z0JDQURheUVESUFFb0FoZ2hCRUYvSVFBZ0FVRWNhaWdDQUNJSFFReHFJUVVEUUNBQVFRRnFJZ0FnQTA4TkJDQUVJQUpCekFCcVFRRWdCU2dDQUJFRkFFVU5BQXNNQmdzZ0JTRUpRUUFoQlF3QkN5QUZRUUZxUVFGMklRa2dCVUVCZGlFRkN5QUNRUUEyQWt3Z0FTZ0NCQ0lBUWY4QVRRUkFJQUlnQURvQVRFRUJEQU1MSUFCQi93OUxEUUVnQWlBQVFUOXhRWUFCY2pvQVRTQUNJQUJCQm5aQkgzRkJ3QUZ5T2dCTVFRSU1BZ3NnQkNBSUlBWWdCMEVNYWlnQ0FCRUZBQTBDREFNTElBQkIvLzhEVFFSQUlBSWdBRUUvY1VHQUFYSTZBRTRnQWlBQVFRWjJRVDl4UVlBQmNqb0FUU0FDSUFCQkRIWkJEM0ZCNEFGeU9nQk1RUU1NQVFzZ0FpQUFRUkoyUWZBQmNqb0FUQ0FDSUFCQlAzRkJnQUZ5T2dCUElBSWdBRUVNZGtFL2NVR0FBWEk2QUUwZ0FpQUFRUVoyUVQ5eFFZQUJjam9BVGtFRUN5RUVJQUVvQWhnaEEwRi9JUUFnQVVFY2FpZ0NBQ0lLUVF4cUlRY0NRQU5BSUFCQkFXb2lBQ0FGVHcwQklBTWdBa0hNQUdvZ0JDQUhLQUlBRVFVQVJRMEFDd3dCQ3lBQ1FVQnJJQUVRSXcwQUlBTWdDQ0FHSUFwQkRHb29BZ0FpQlJFRkFBMEFRWDhoQUFOQUlBQkJBV29pQUNBSlR3MENJQU1nQWtITUFHb2dCQ0FGRVFVQVJRMEFDd3RCQVF3QkMwRUFDeUVBSUFKQjBBQnFKQUFnQUF0R0FnRi9BWDRqQUVFZ2F5SUNKQUFnQVNrQ0FDRURJQUpCRkdvZ0FTa0NDRGNDQUNBQ1Fid1VOZ0lFSUFKQjlBdzJBZ0FnQWlBQU5nSUlJQUlnQXpjQ0RDQUNFQjhBQ3dNQUFRc05BRUtJc3BTVG1JR1ZqUDhBQ3pNQkFYOGdBZ1JBSUFBaEF3TkFJQU1nQVMwQUFEb0FBQ0FCUVFGcUlRRWdBMEVCYWlFRElBSkJmMm9pQWcwQUN3c2dBQXRuQVFGL0FrQWdBU0FBU1FSQUlBSkZEUUVEUUNBQUlBSnFRWDlxSUFFZ0FtcEJmMm90QUFBNkFBQWdBa0YvYWlJQ0RRQUxEQUVMSUFKRkRRQWdBQ0VEQTBBZ0F5QUJMUUFBT2dBQUlBRkJBV29oQVNBRFFRRnFJUU1nQWtGL2FpSUNEUUFMQ3lBQUN5a0JBWDhnQWdSQUlBQWhBd05BSUFNZ0FUb0FBQ0FEUVFGcUlRTWdBa0YvYWlJQ0RRQUxDeUFBQ3d1V0NRSUFRWUFJQzRvSGFXNTJZV3hwWkNCdFlXeHNiMk1nY21WeGRXVnpkRlJ5YVdWa0lIUnZJSE5vY21sdWF5QjBieUJoSUd4aGNtZGxjaUJqWVhCaFkybDBlUUFBQVNORlo0bXJ6ZS8rM0xxWWRsUXlFUERoMHNOaGMzTmxjblJwYjI0Z1ptRnBiR1ZrT2lBNElEMDlJR1J6ZEM1c1pXNG9LUzl5YjI5MEx5NWpZWEpuYnk5eVpXZHBjM1J5ZVM5emNtTXZaMmwwYUhWaUxtTnZiUzB4WldOak5qSTVPV1JpT1dWak9ESXpMMko1ZEdVdGRHOXZiSE10TUM0eUxqQXZjM0pqTDNkeWFYUmxYM05wYm1kc1pTNXljd0FBQUFBQUFDOXliMjkwTHk1allYSm5ieTl5WldkcGMzUnllUzl6Y21NdloybDBhSFZpTG1OdmJTMHhaV05qTmpJNU9XUmlPV1ZqT0RJekwySnNiMk5yTFdKMVptWmxjaTB3TGpNdU15OXpjbU12YkdsaUxuSnpaR1Z6ZEdsdVlYUnBiMjRnWVc1a0lITnZkWEpqWlNCemJHbGpaWE1nYUdGMlpTQmthV1ptWlhKbGJuUWdiR1Z1WjNSb2N3QUFBQUFBQUdOaGNHRmphWFI1SUc5MlpYSm1iRzkzWTJGc2JHVmtJR0JQY0hScGIyNDZPblZ1ZDNKaGNDZ3BZQ0J2YmlCaElHQk9iMjVsWUNCMllXeDFaV3hwWW1OdmNtVXZiM0IwYVc5dUxuSnpNREF3TVRBeU1ETXdOREExTURZd056QTRNRGt4TURFeE1USXhNekUwTVRVeE5qRTNNVGd4T1RJd01qRXlNakl6TWpReU5USTJNamN5T0RJNU16QXpNVE15TXpNek5ETTFNell6TnpNNE16azBNRFF4TkRJME16UTBORFUwTmpRM05EZzBPVFV3TlRFMU1qVXpOVFExTlRVMk5UYzFPRFU1TmpBMk1UWXlOak0yTkRZMU5qWTJOelk0TmprM01EY3hOekkzTXpjME56VTNOamMzTnpnM09UZ3dPREU0TWpnek9EUTROVGcyT0RjNE9EZzVPVEE1TVRreU9UTTVORGsxT1RZNU56azRPVGtBQUFCcGJtUmxlQ0J2ZFhRZ2IyWWdZbTkxYm1Sek9pQjBhR1VnYkdWdUlHbHpJQ0JpZFhRZ2RHaGxJR2x1WkdWNElHbHpJR3hwWW1OdmNtVXZjMnhwWTJVdmJXOWtMbkp6QUFFQUFBQUFBQUFBSUFBQUFBQUFBQUFEQUFBQUFBQUFBQU1BQUFBQUFBQUFBd0FBQUFFQUFBQUJBQUFBSUFBQUFBQUFBQUFEQUFBQUFBQUFBQU1BQUFBQUFBQUFBd0FBQUdsdVpHVjRJQ0J2ZFhRZ2IyWWdjbUZ1WjJVZ1ptOXlJSE5zYVdObElHOW1JR3hsYm1kMGFDQnpiR2xqWlNCcGJtUmxlQ0J6ZEdGeWRITWdZWFFnSUdKMWRDQmxibVJ6SUdGMElHbHVkR1Z5Ym1Gc0lHVnljbTl5T2lCbGJuUmxjbVZrSUhWdWNtVmhZMmhoWW14bElHTnZaR1ZzYVdKaGJHeHZZeTl5WVhkZmRtVmpMbkp6QUVHMEV3djlBUllFQUFBa0FBQUFkd2NBQUJNQUFBQklBZ0FBQ1FBQUFOQUVBQUJUQUFBQVN3QUFBQkVBQUFCUUJBQUFJQUFBQUhBRUFBQmFBQUFBSHdBQUFBVUFBQUFqQlFBQU5BQUFBS2NHQUFBVUFBQUFiUVlBQUFrQUFBQmRCUUFBRVFBQUFIY0hBQUFUQUFBQThnSUFBQVVBQUFCdUJRQUFLd0FBQUprRkFBQVJBQUFBV1FFQUFCVUFBQUFDQUFBQUFBQUFBQUVBQUFBREFBQUFkUVlBQUNBQUFBQ1ZCZ0FBRWdBQUFBUUhBQUFHQUFBQUNnY0FBQ0lBQUFDbkJnQUFGQUFBQUswSEFBQUZBQUFBTEFjQUFCWUFBQUJDQndBQURRQUFBS2NHQUFBVUFBQUFzd2NBQUFVQUFBQlBCd0FBS0FBQUFIY0hBQUFUQUFBQTlRRUFBQjRBREFkc2FXNXJhVzVuQXdLMERRPT0nO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmlwZW1kMTYwLmJhc2U2NC5qcy5tYXAiLCIvKiBlc2xpbnQtZGlzYWJsZSB0c2RvYy9zeW50YXggKi9cbi8qKlxuICogQGhpZGRlblxuICovXG4vLyBwcmV0dGllci1pZ25vcmVcbmV4cG9ydCBjb25zdCBzaGEyNTZCYXNlNjRCeXRlcyA9ICdBR0Z6YlFFQUFBQUJSZ3hnQW45L0FYOWdBbjkvQUdBRGYzOS9BR0FCZndGL1lBVi9mMzkvZndGL1lBTi9mMzhCZjJBQUFHQUJmd0JnQlg5L2YzOS9BR0FBQVg5Z0JIOS9mMzhBWUFGL0FYNENIUUVJTGk5emFHRXlOVFlRWDE5M1ltbHVaR2RsYmw5MGFISnZkd0FCQXk0dEFBRUNBd1FHQndJQ0FRRUhDQUlEQVFFSkFBY0tDZ0lCQ0FJQkFRSUlBZ29IQndjQkFRQUFBUWNMQlFVRkJBVUJjQUVFQkFVREFRQVJCZ2tCZndGQjBKWEFBQXNIaHdFSUJtMWxiVzl5ZVFJQUJuTm9ZVEkxTmdBSUMzTm9ZVEkxTmw5cGJtbDBBQXdOYzJoaE1qVTJYM1Z3WkdGMFpRQU5ESE5vWVRJMU5sOW1hVzVoYkFBT0VWOWZkMkpwYm1SblpXNWZiV0ZzYkc5akFBOFBYMTkzWW1sdVpHZGxibDltY21WbEFCQWVYMTkzWW1sdVpHZGxibDluYkc5aVlXeGZZWEpuZFcxbGJuUmZjSFJ5QUJJSkNRRUFRUUVMQXljcEtncWhod0V0RmdBZ0FVSHZBRXNFUUNBQUR3dEI4QUFnQVJBQ0FBdDlBUUYvSXdCQk1Hc2lBaVFBSUFJZ0FUWUNCQ0FDSUFBMkFnQWdBa0VzYWtFQk5nSUFJQUpCRkdwQkFqWUNBQ0FDUVJ4cVFRSTJBZ0FnQWtFQk5nSWtJQUpCN0JRMkFnZ2dBa0VDTmdJTUlBSkJ6QTAyQWhBZ0FpQUNOZ0lnSUFJZ0FrRUVhallDS0NBQ0lBSkJJR28yQWhnZ0FrRUlha0g4RkJBb0FBdXlBUUVEZnlNQVFSQnJJZ01rQUFKQUFrQUNRQ0FDUVg5S0JFQkJBU0VFSUFJRVFDQUNFQVFpQkVVTkF3c2dBeUFFTmdJQUlBTWdBallDQkNBRFFRQTJBZ2dnQTBFQUlBSkJBVUVCRUFWQi93RnhJZ1JCQWtjTkFTQURRUWhxSWdRZ0JDZ0NBQ0lGSUFKcU5nSUFJQVVnQXlnQ0FHb2dBU0FDRUNzYUlBQkJDR29nQkNnQ0FEWUNBQ0FBSUFNcEF3QTNBZ0FnQTBFUWFpUUFEd3NRQmdBTElBUkJBWEVOQVJBR0FBc0FDMEdzRlJBSEFBdXJHUUlJZndGK0FrQUNRQUpBQWtBQ1FBSkFBa0FDUUFKQUFrQUNRQUovQWtBQ1FBSi9Ba0FDUUFKQUFrQUNRQUpBQW44Q1FBSkFBa0FDUUFKQUFrQUNRQUpBQWtBQ1FBSkFBa0FDUUFKQUFrQWdBRUgwQVUwRVFFSDhEeWdDQUNJRlFSQWdBRUVMYWtGNGNTQUFRUXRKR3lJQ1FRTjJJZ0ZCSDNFaUEzWWlBRUVEY1VVTkFTQUFRWDl6UVFGeElBRnFJZ0pCQTNRaUEwR01FR29vQWdBaUFFRUlhaUVFSUFBb0FnZ2lBU0FEUVlRUWFpSURSZzBDSUFFZ0F6WUNEQ0FEUVFocUlBRTJBZ0FNQXdzZ0FFRkFUdzBjSUFCQkMyb2lBRUY0Y1NFQ1FZQVFLQUlBSWdoRkRRbEJBQ0FDYXlFQkFuOUJBQ0FBUVFoMklnQkZEUUFhUVI4aUJpQUNRZi8vL3dkTERRQWFJQUpCSmlBQVp5SUFhMEVmY1haQkFYRkJIeUFBYTBFQmRISUxJZ1pCQW5SQmpCSnFLQUlBSWdCRkRRWWdBa0VBUVJrZ0JrRUJkbXRCSDNFZ0JrRWZSaHQwSVFVRFFBSkFJQUFvQWdSQmVIRWlCeUFDU1EwQUlBY2dBbXNpQnlBQlR3MEFJQUFoQkNBSElnRkZEUVlMSUFCQkZHb29BZ0FpQnlBRElBY2dBQ0FGUVIxMlFRUnhha0VRYWlnQ0FDSUFSeHNnQXlBSEd5RURJQVZCQVhRaEJTQUFEUUFMSUFORkRRVWdBeUVBREFjTElBSkJqQk1vQWdCTkRRZ2dBRVVOQWlBQUlBTjBRUUlnQTNRaUFFRUFJQUJyY25FaUFFRUFJQUJyY1dnaUFVRURkQ0lFUVl3UWFpZ0NBQ0lBS0FJSUlnTWdCRUdFRUdvaUJFWU5DaUFESUFRMkFnd2dCRUVJYWlBRE5nSUFEQXNMUWZ3UElBVkJmaUFDZDNFMkFnQUxJQUFnQWtFRGRDSUNRUU55TmdJRUlBQWdBbW9pQUNBQUtBSUVRUUZ5TmdJRUlBUVBDMEdBRUNnQ0FDSUFSUTBGSUFCQkFDQUFhM0ZvUVFKMFFZd1NhaWdDQUNJRktBSUVRWGh4SUFKcklRRWdCU0lES0FJUUlnQkZEUlJCQUF3VkMwRUFJUUVNQWdzZ0JBMENDMEVBSVFSQkFpQUdRUjl4ZENJQVFRQWdBR3R5SUFoeElnQkZEUUlnQUVFQUlBQnJjV2hCQW5SQmpCSnFLQUlBSWdCRkRRSUxBMEFnQUNnQ0JFRjRjU0lESUFKUElBTWdBbXNpQnlBQlNYRWhCU0FBS0FJUUlnTkZCRUFnQUVFVWFpZ0NBQ0VEQ3lBQUlBUWdCUnNoQkNBSElBRWdCUnNoQVNBRElnQU5BQXNnQkVVTkFRdEJqQk1vQWdBaUFDQUNTUTBCSUFFZ0FDQUNhMGtOQVFzQ1FBSkFBa0JCakJNb0FnQWlBU0FDU1FSQVFaQVRLQUlBSWdBZ0FrME5BUXdlQzBHVUV5Z0NBQ0VBSUFFZ0Ftc2lBMEVRVHcwQlFaUVRRUUEyQWdCQmpCTkJBRFlDQUNBQUlBRkJBM0kyQWdRZ0FDQUJhaUlCUVFScUlRSWdBU2dDQkVFQmNpRUJEQUlMUVFBaEFTQUNRYStBQkdvaUEwRVFka0FBSWdCQmYwWU5GQ0FBUVJCMElnVkZEUlJCbkJOQm5CTW9BZ0FnQTBHQWdIeHhJZ2RxSWdBMkFnQkJvQk5Cb0JNb0FnQWlBU0FBSUFBZ0FVa2JOZ0lBUVpnVEtBSUFJZ0ZGRFFsQnBCTWhBQU5BSUFBb0FnQWlBeUFBS0FJRUlnUnFJQVZHRFFzZ0FDZ0NDQ0lBRFFBTERCSUxRWXdUSUFNMkFnQkJsQk1nQUNBQ2FpSUZOZ0lBSUFVZ0EwRUJjallDQkNBQUlBRnFJQU0yQWdBZ0FrRURjaUVCSUFCQkJHb2hBZ3NnQWlBQk5nSUFJQUJCQ0dvUEN5QUVFQ01nQVVFUFN3MENJQVFnQVNBQ2FpSUFRUU55TmdJRUlBUWdBR29pQUNBQUtBSUVRUUZ5TmdJRURBd0xRZndQSUFWQmZpQUJkM0UyQWdBTElBQkJDR29oQXlBQUlBSkJBM0kyQWdRZ0FDQUNhaUlGSUFGQkEzUWlBU0FDYXlJQ1FRRnlOZ0lFSUFBZ0FXb2dBallDQUVHTUV5Z0NBQ0lBUlEwRElBQkJBM1lpQkVFRGRFR0VFR29oQVVHVUV5Z0NBQ0VBUWZ3UEtBSUFJZ2RCQVNBRVFSOXhkQ0lFY1VVTkFTQUJLQUlJREFJTElBUWdBa0VEY2pZQ0JDQUVJQUpxSWdBZ0FVRUJjallDQkNBQUlBRnFJQUUyQWdBZ0FVSC9BVXNOQlNBQlFRTjJJZ0ZCQTNSQmhCQnFJUUpCL0E4b0FnQWlBMEVCSUFGQkgzRjBJZ0Z4UlEwSElBSkJDR29oQXlBQ0tBSUlEQWdMUWZ3UElBY2dCSEkyQWdBZ0FRc2hCQ0FCUVFocUlBQTJBZ0FnQkNBQU5nSU1JQUFnQVRZQ0RDQUFJQVEyQWdnTFFaUVRJQVUyQWdCQmpCTWdBallDQUNBRER3c0NRRUc0RXlnQ0FDSUFCRUFnQUNBRlRRMEJDMEc0RXlBRk5nSUFDMEVBSVFCQnFCTWdCellDQUVHa0V5QUZOZ0lBUWJ3VFFmOGZOZ0lBUWJBVFFRQTJBZ0FEUUNBQVFZd1FhaUFBUVlRUWFpSUJOZ0lBSUFCQmtCQnFJQUUyQWdBZ0FFRUlhaUlBUVlBQ1J3MEFDeUFGSUFkQldHb2lBRUVCY2pZQ0JFR1lFeUFGTmdJQVFiUVRRWUNBZ0FFMkFnQkJrQk1nQURZQ0FDQUZJQUJxUVNnMkFnUU1DUXNnQUNnQ0RFVU5BUXdIQ3lBQUlBRVFKQXdEQ3lBRklBRk5EUVVnQXlBQlN3MEZJQUJCQkdvZ0JDQUhhallDQUVHWUV5Z0NBQ0lBUVE5cVFYaHhJZ0ZCZUdvaUEwR1FFeWdDQUNBSGFpSUZJQUVnQUVFSWFtdHJJZ0ZCQVhJMkFnUkJ0Qk5CZ0lDQUFUWUNBRUdZRXlBRE5nSUFRWkFUSUFFMkFnQWdBQ0FGYWtFb05nSUVEQVlMUWZ3UElBTWdBWEkyQWdBZ0FrRUlhaUVESUFJTElRRWdBeUFBTmdJQUlBRWdBRFlDRENBQUlBSTJBZ3dnQUNBQk5nSUlDeUFFUVFocUlRRU1CQXRCQVFzaEJnTkFBa0FDUUFKQUFrQUNRQUpBQWtBQ1FBSkFBa0FDUUFKQUFrQUNRQUpBQWtBQ1FBSkFJQVlPQ2dBQkFnUUZCZ2dKQ2djREN5QUFLQUlFUVhoeElBSnJJZ1VnQVNBRklBRkpJZ1ViSVFFZ0FDQURJQVViSVFNZ0FDSUZLQUlRSWdBTkNrRUJJUVlNRVFzZ0JVRVVhaWdDQUNJQURRcEJBaUVHREJBTElBTVFJeUFCUVJCUERRcEJDaUVHREE4TElBTWdBU0FDYWlJQVFRTnlOZ0lFSUFNZ0FHb2lBQ0FBS0FJRVFRRnlOZ0lFREEwTElBTWdBa0VEY2pZQ0JDQURJQUpxSWdJZ0FVRUJjallDQkNBQ0lBRnFJQUUyQWdCQmpCTW9BZ0FpQUVVTkNVRUVJUVlNRFFzZ0FFRURkaUlFUVFOMFFZUVFhaUVGUVpRVEtBSUFJUUJCL0E4b0FnQWlCMEVCSUFSQkgzRjBJZ1J4UlEwSlFRVWhCZ3dNQ3lBRktBSUlJUVFNQ1F0Qi9BOGdCeUFFY2pZQ0FDQUZJUVJCQmlFR0RBb0xJQVZCQ0dvZ0FEWUNBQ0FFSUFBMkFnd2dBQ0FGTmdJTUlBQWdCRFlDQ0VFSElRWU1DUXRCbEJNZ0FqWUNBRUdNRXlBQk5nSUFRUWdoQmd3SUN5QURRUWhxRHd0QkFDRUdEQVlMUVFBaEJnd0ZDMEVESVFZTUJBdEJCeUVHREFNTFFRa2hCZ3dDQzBFR0lRWU1BUXRCQ0NFR0RBQUxBQXRCdUJOQnVCTW9BZ0FpQUNBRklBQWdCVWtiTmdJQUlBVWdCMm9oQTBHa0V5RUFBbjhDUUFKQUFrQUNRQU5BSUFBb0FnQWdBMFlOQVNBQUtBSUlJZ0FOQUFzTUFRc2dBQ2dDREVVTkFRdEJwQk1oQUFKQUEwQWdBQ2dDQUNJRElBRk5CRUFnQXlBQUtBSUVhaUlESUFGTERRSUxJQUFvQWdnaEFBd0FDd0FMSUFVZ0IwRllhaUlBUVFGeU5nSUVJQVVnQUdwQktEWUNCQ0FCSUFOQllHcEJlSEZCZUdvaUJDQUVJQUZCRUdwSkd5SUVRUnMyQWdSQm1CTWdCVFlDQUVHMEUwR0FnSUFCTmdJQVFaQVRJQUEyQWdCQnBCTXBBZ0FoQ1NBRVFSQnFRYXdUS1FJQU53SUFJQVFnQ1RjQ0NFR29FeUFITmdJQVFhUVRJQVUyQWdCQnJCTWdCRUVJYWpZQ0FFR3dFMEVBTmdJQUlBUkJIR29oQUFOQUlBQkJCellDQUNBRElBQkJCR29pQUVzTkFBc2dCQ0FCUmcwRElBUWdCQ2dDQkVGK2NUWUNCQ0FCSUFRZ0FXc2lBRUVCY2pZQ0JDQUVJQUEyQWdBZ0FFSC9BVTBFUUNBQVFRTjJJZ05CQTNSQmhCQnFJUUJCL0E4b0FnQWlCVUVCSUFOQkgzRjBJZ054UlEwQ0lBQW9BZ2dNQXdzZ0FTQUFFQ1FNQXdzZ0FDQUZOZ0lBSUFBZ0FDZ0NCQ0FIYWpZQ0JDQUZJQUpCQTNJMkFnUWdCU0FDYWlFQUlBTWdCV3NnQW1zaEFrR1lFeWdDQUNBRFJnMEVRWlFUS0FJQUlBTkdEUVVnQXlnQ0JDSUJRUU54UVFGSERRa2dBVUY0Y1NJRVFmOEJTdzBHSUFNb0Fnd2lCeUFES0FJSUlnWkdEUWNnQmlBSE5nSU1JQWNnQmpZQ0NBd0lDMEg4RHlBRklBTnlOZ0lBSUFBTElRTWdBRUVJYWlBQk5nSUFJQU1nQVRZQ0RDQUJJQUEyQWd3Z0FTQUROZ0lJQzBFQUlRRkJrQk1vQWdBaUFDQUNUUTBBREFnTElBRVBDMEdZRXlBQU5nSUFRWkFUUVpBVEtBSUFJQUpxSWdJMkFnQWdBQ0FDUVFGeU5nSUVEQVVMSUFCQmpCTW9BZ0FnQW1vaUFrRUJjallDQkVHVUV5QUFOZ0lBUVl3VElBSTJBZ0FnQUNBQ2FpQUNOZ0lBREFRTElBTVFJd3dCQzBIOEQwSDhEeWdDQUVGK0lBRkJBM1ozY1RZQ0FBc2dCQ0FDYWlFQ0lBTWdCR29oQXdzZ0F5QURLQUlFUVg1eE5nSUVJQUFnQWtFQmNqWUNCQ0FBSUFKcUlBSTJBZ0FDZndKQUlBSkIvd0ZOQkVBZ0FrRURkaUlCUVFOMFFZUVFhaUVDUWZ3UEtBSUFJZ05CQVNBQlFSOXhkQ0lCY1VVTkFTQUNRUWhxSVFNZ0FpZ0NDQXdDQ3lBQUlBSVFKQXdDQzBIOER5QURJQUZ5TmdJQUlBSkJDR29oQXlBQ0N5RUJJQU1nQURZQ0FDQUJJQUEyQWd3Z0FDQUNOZ0lNSUFBZ0FUWUNDQXNnQlVFSWFnOExRWkFUSUFBZ0Ftc2lBVFlDQUVHWUUwR1lFeWdDQUNJQUlBSnFJZ00yQWdBZ0F5QUJRUUZ5TmdJRUlBQWdBa0VEY2pZQ0JDQUFRUWhxQzZVQkFRSi9RUUloQlFKQUFrQUNRQUpBQWtBZ0FDZ0NCQ0lHSUFGcklBSlBEUUFnQVNBQ2FpSUNJQUZKSVFFQ1FDQUVCRUJCQUNFRklBRU5BaUFHUVFGMElnRWdBaUFDSUFGSkd5RUNEQUVMUVFBaEJTQUJEUUVMSUFKQkFFZ05BQ0FHUlEwQklBQW9BZ0FnQWhBVElnRkZEUUlNQXdzZ0JROExJQUlRQkNJQkRRRUxJQU1OQVFzZ0FRUkFJQUFnQVRZQ0FDQUFRUVJxSUFJMkFnQkJBZzhMUVFFUEN3QUxDQUJCbkJRUUJ3QUxaZ0lCZndOK0l3QkJNR3NpQVNRQUlBQXBBaEFoQWlBQUtRSUlJUU1nQUNrQ0FDRUVJQUZCRkdwQkFEWUNBQ0FCSUFRM0F4Z2dBVUlCTndJRUlBRkJoQTAyQWhBZ0FTQUJRUmhxTmdJQUlBRWdBemNESUNBQklBSTNBeWdnQVNBQlFTQnFFQ2dBQzhVQkFRRi9Jd0JCa0FKcklnTWtBQ0FEUVRCcVFRQkJ6QUFRTFJvZ0EwR1VBV3BCNEFvcEFnQTNBZ0FnQTBHTUFXcEIyQW9wQWdBM0FnQWdBMEdFQVdwQjBBb3BBZ0EzQWdBZ0EwSElDaWtDQURjQ2ZDQURRVEJxSUFFZ0FoQUpJQU5Cb0FGcUlBTkJNR3BCOEFBUUt4b2dBMEVRYWlBRFFhQUJhaEFLSUFOQk1Hb2dBMEVRYWtFZ0VBTWdBMEdvQVdvZ0EwRTRhaWdDQURZQ0FDQURJQU1wQXpBM0E2QUJJQU5CQ0dvZ0EwR2dBV29RQ3lBQUlBTXBBd2czQWdBZ0EwR1FBbW9rQUF1YkF3RUVmeU1BUVVCcUlnTWtBQ0FBSUFBcEF3QWdBcTFDQTRaOE53TUFJQU1nQUVITUFHbzJBaWdnQXlBRFFTaHFOZ0lzQWtBQ1FBSkFBa0FDUUFKQUlBQW9BZ2dpQlFSQVFjQUFJQVZySWdRZ0FrME5BU0FEUVJocUlBVWdCU0FDYWlJRUlBQkJER29RRlNBREtBSWNJQUpIRFFVZ0F5Z0NHQ0FCSUFJUUt4b01Bd3NnQWlFRURBRUxJQU5CTUdvZ0FTQUNJQVFRRmlBRFFUeHFLQUlBSVFRZ0F5Z0NPQ0VCSUFNb0FqQWhCU0FES0FJMElRSWdBMEVnYWlBQVFReHFJZ1lnQUNnQ0NCQVhJQUlnQXlnQ0pFY05CQ0FES0FJZ0lBVWdBaEFyR2lBQVFRaHFRUUEyQWdBZ0EwRXNhaUFHRUJnTElBTkJQR29oQWlBRFFUaHFJUVVDUUFOQUlBUkJQMDBOQVNBRFFUQnFJQUVnQkVIQUFCQVdJQUlvQWdBaEJDQUZLQUlBSVFFZ0EwRUlha0VBUWNBQUlBTW9BakFnQXlnQ05CQVpJQU5CTEdvZ0F5Z0NDQkFZREFBTEFBc2dBMEVRYWlBQVFReHFJQVFRR2lBREtBSVVJQVJIRFFFZ0F5Z0NFQ0FCSUFRUUt4b0xJQUJCQ0dvZ0JEWUNBQ0FEUVVCckpBQVBDMEdFRkJBSEFBdEJoQlFRQndBTFFZUVVFQWNBQzk4RUFnTi9BWDRqQUVIUUFHc2lBaVFBSUFJZ0FVSE1BR28yQWlRZ0FTa0RBQ0VGSUFFb0FnZ2hCQ0FDSUFKQkpHbzJBaWdDUUNBRVFUOU5CRUFnQVVFTWFpSURJQVJxUVlBQk9nQUFJQUVnQVNnQ0NFRUJhaUlFTmdJSUlBSkJHR29nQXlBRUVCY2dBaWdDR0VFQUlBSW9BaHdRTFJwQndBQWdBU2dDQ0d0QkIwMEVRQ0FDUVNocUlBTVFHQ0FDUVJCcUlBTWdBVUVJYWlnQ0FCQWFJQUlvQWhCQkFDQUNLQUlVRUMwYUN5QUNRUWhxSUFOQk9CQVhJQUlvQWd4QkNFY05BU0FDS0FJSUlBVkNPSVlnQlVJb2hrS0FnSUNBZ0lEQS93Q0RoQ0FGUWhpR1FvQ0FnSUNBNEQrRElBVkNDSVpDZ0lDQWdQQWZnNFNFSUFWQ0NJaENnSUNBK0ErRElBVkNHSWhDZ0lEOEI0T0VJQVZDS0loQ2dQNERneUFGUWppSWhJU0VOd0FBSUFKQktHb2dBeEFZSUFGQkNHcEJBRFlDQUNBQ1FRQTJBaWdnQWtFb2FrRUVjaUVFUVFBaEF3SkFBMEFnQTBFZ1JnMEJJQVFnQTJwQkFEb0FBQ0FDSUFJb0FpaEJBV28yQWlnZ0EwRUJhaUVEREFBTEFBc2dBa0ZBYXlBQlFlUUFhaWtBQURjREFDQUNRVGhxSUFGQjNBQnFLUUFBTndNQUlBSkJNR29nQVVIVUFHb3BBQUEzQXdBZ0FpQUJLUUJNTndNb1FRQWhBd0pBQTBBZ0EwRWdSZzBCSUFKQktHb2dBMm9pQkNBRUtBSUFJZ1JCR0hRZ0JFRUlkRUdBZ1B3SGNYSWdCRUVJZGtHQS9nTnhJQVJCR0haeWNqWUNBQ0FEUVFScUlRTU1BQXNBQ3lBQUlBSXBBeWczQUFBZ0FFRVlhaUFDUVVCcktRTUFOd0FBSUFCQkVHb2dBa0U0YWlrREFEY0FBQ0FBUVFocUlBSkJNR29wQXdBM0FBQWdBa0hRQUdva0FBOExRZHdUSUFSQndBQVFIUUFMUWV3VEVBY0FDMk1CQW44Z0FTZ0NBQ0VDQWtBQ1FDQUJLQUlFSWdNZ0FTZ0NDQ0lCUmdSQUlBTWhBUXdCQ3lBRElBRkpEUUVnQVFSQUlBSWdBUkFUSWdJTkFRQUxJQUlnQXhBUlFRRWhBa0VBSVFFTElBQWdBVFlDQkNBQUlBSTJBZ0FQQzBIRUV4QUhBQXVhQVFFQmZ5TUFRWkFCYXlJQkpBQWdBVUVnYWtFQVFjd0FFQzBhSUFGQmhBRnFRZUFLS1FJQU53SUFJQUZCL0FCcVFkZ0tLUUlBTndJQUlBRkI5QUJxUWRBS0tRSUFOd0lBSUFGQnlBb3BBZ0EzQW13Z0FVRVFhaUFCUVNCcVFmQUFFQU1nQVVFb2FpQUJRUmhxS0FJQU5nSUFJQUVnQVNrREVEY0RJQ0FCUVFocUlBRkJJR29RQ3lBQUlBRXBBd2czQWdBZ0FVR1FBV29rQUF1R0FRRUJmeU1BUVlBQ2F5SUZKQUFnQlVFZ2FpQUJJQUlRQVVId0FCQXNHaUFGUVNCcUlBTWdCQkFKSUFWQmtBRnFJQVZCSUdwQjhBQVFLeG9nQlVFUWFpQUZRWkFCYWtId0FCQURJQVZCbUFGcUlBVkJHR29vQWdBMkFnQWdCU0FGS1FNUU53T1FBU0FGUVFocUlBVkJrQUZxRUFzZ0FDQUZLUU1JTndJQUlBVkJnQUpxSkFBTGNnRUJmeU1BUWJBQmF5SURKQUFnQTBGQWF5QUJJQUlRQVVId0FCQXNHaUFEUVNCcUlBTkJRR3NRQ2lBRFFSQnFJQU5CSUdwQklCQURJQU5CeUFCcUlBTkJHR29vQWdBMkFnQWdBeUFES1FNUU53TkFJQU5CQ0dvZ0EwRkFheEFMSUFBZ0F5a0RDRGNDQUNBRFFiQUJhaVFBQzBvQkFYOGpBRUVRYXlJQkpBQWdBVUlCTndNQUlBRkJBRFlDQ0NBQlFRQWdBRUVBUVFBUUJVSC9BWEZCQWtZRVFDQUJLQUlBSVFBZ0FVRVFhaVFBSUFBUEMwR0FDRUVXRUFBQUN3Z0FJQUFnQVJBUkN3c0FJQUVFUUNBQUVCUUxDd1VBUWFBUEM4Y0ZBUWgvQWtBQ1FBSkFBa0FDUUFKQUlBRkJ2MzlMRFFCQkVDQUJRUXRxUVhoeElBRkJDMGtiSVFJZ0FFRjhhaUlHS0FJQUlnZEJlSEVoQXdKQUFrQUNRQUpBSUFkQkEzRUVRQ0FBUVhocUlnZ2dBMm9oQlNBRElBSlBEUUZCbUJNb0FnQWdCVVlOQWtHVUV5Z0NBQ0FGUmcwRElBVW9BZ1FpQjBFQ2NRMEVJQWRCZUhFaUNTQURhaUlESUFKSkRRUWdBeUFDYXlFQklBbEIvd0ZMRFFjZ0JTZ0NEQ0lFSUFVb0FnZ2lCVVlOQ0NBRklBUTJBZ3dnQkNBRk5nSUlEQWtMSUFKQmdBSkpEUU1nQXlBQ1FRUnlTUTBESUFNZ0FtdEJnWUFJVHcwRERBa0xJQU1nQW1zaUFVRVFTUTBJSUFZZ0FpQUhRUUZ4Y2tFQ2NqWUNBQ0FJSUFKcUlnUWdBVUVEY2pZQ0JDQUZJQVVvQWdSQkFYSTJBZ1FnQkNBQkVDVU1DQXRCa0JNb0FnQWdBMm9pQXlBQ1RRMEJJQVlnQWlBSFFRRnhja0VDY2pZQ0FFR1lFeUFJSUFKcUlnRTJBZ0JCa0JNZ0F5QUNheUlFTmdJQUlBRWdCRUVCY2pZQ0JBd0hDMEdNRXlnQ0FDQURhaUlESUFKUERRSUxJQUVRQkNJQ1JRMEFJQUlnQUNBQklBWW9BZ0FpQkVGNGNVRUVRUWdnQkVFRGNSdHJJZ1FnQkNBQlN4c1FLeUVCSUFBUUZDQUJJUVFMSUFRUEN3SkFJQU1nQW1zaUFVRVFTUVJBSUFZZ0IwRUJjU0FEY2tFQ2NqWUNBQ0FJSUFOcUlnRWdBU2dDQkVFQmNqWUNCRUVBSVFFTUFRc2dCaUFDSUFkQkFYRnlRUUp5TmdJQUlBZ2dBbW9pQkNBQlFRRnlOZ0lFSUFnZ0Eyb2lBaUFCTmdJQUlBSWdBaWdDQkVGK2NUWUNCQXRCbEJNZ0JEWUNBRUdNRXlBQk5nSUFEQU1MSUFVUUl3d0JDMEg4RDBIOER5Z0NBRUYrSUFkQkEzWjNjVFlDQUFzZ0FVRVBUUVJBSUFZZ0F5QUdLQUlBUVFGeGNrRUNjallDQUNBSUlBTnFJZ0VnQVNnQ0JFRUJjallDQkF3QkN5QUdJQUlnQmlnQ0FFRUJjWEpCQW5JMkFnQWdDQ0FDYWlJRUlBRkJBM0kyQWdRZ0NDQURhaUlDSUFJb0FnUkJBWEkyQWdRZ0JDQUJFQ1VnQUE4TElBQUw0QVlCQlg4Q1FDQUFRWGhxSWdFZ0FFRjhhaWdDQUNJRFFYaHhJZ0JxSVFJQ1FBSkFJQU5CQVhFTkFDQURRUU54UlEwQklBRW9BZ0FpQXlBQWFpRUFBa0FDUUVHVUV5Z0NBQ0FCSUFOcklnRkhCRUFnQTBIL0FVc05BU0FCS0FJTUlnUWdBU2dDQ0NJRlJnMENJQVVnQkRZQ0RDQUVJQVUyQWdnTUF3c2dBaWdDQkNJRFFRTnhRUU5IRFFKQmpCTWdBRFlDQUNBQ1FRUnFJQU5CZm5FMkFnQU1CQXNnQVJBakRBRUxRZndQUWZ3UEtBSUFRWDRnQTBFRGRuZHhOZ0lBQ3dKQUFuOENRQUpBQWtBQ1FBSkFBa0FnQWlnQ0JDSURRUUp4UlFSQVFaZ1RLQUlBSUFKR0RRRkJsQk1vQWdBZ0FrWU5BaUFEUVhoeElnUWdBR29oQUNBRVFmOEJTdzBESUFJb0Fnd2lCQ0FDS0FJSUlnSkdEUVFnQWlBRU5nSU1JQVFnQWpZQ0NBd0ZDeUFDUVFScUlBTkJmbkUyQWdBZ0FTQUFRUUZ5TmdJRUlBRWdBR29nQURZQ0FBd0hDMEdZRXlBQk5nSUFRWkFUUVpBVEtBSUFJQUJxSWdBMkFnQWdBU0FBUVFGeU5nSUVJQUZCbEJNb0FnQkdCRUJCakJOQkFEWUNBRUdVRTBFQU5nSUFDMEcwRXlnQ0FDQUFUdzBIQWtBZ0FFRXBTUTBBUWFRVElRQURRQ0FBS0FJQUlnSWdBVTBFUUNBQ0lBQW9BZ1JxSUFGTERRSUxJQUFvQWdnaUFBMEFDd3RCQUNFQlFhd1RLQUlBSWdCRkRRUURRQ0FCUVFGcUlRRWdBQ2dDQ0NJQURRQUxJQUZCL3g4Z0FVSC9IMHNiREFVTFFaUVRJQUUyQWdCQmpCTkJqQk1vQWdBZ0FHb2lBRFlDQUF3SEN5QUNFQ01NQVF0Qi9BOUIvQThvQWdCQmZpQURRUU4yZDNFMkFnQUxJQUVnQUVFQmNqWUNCQ0FCSUFCcUlBQTJBZ0FnQVVHVUV5Z0NBRWNOQWtHTUV5QUFOZ0lBRHd0Qi94OExJUUZCdEJOQmZ6WUNBRUc4RXlBQk5nSUFEd3RCdkJNQ2Z3SkFBbjhDUUNBQVFmOEJUUVJBSUFCQkEzWWlBa0VEZEVHRUVHb2hBRUg4RHlnQ0FDSURRUUVnQWtFZmNYUWlBbkZGRFFFZ0FFRUlhaUVESUFBb0FnZ01BZ3NnQVNBQUVDUkJ2Qk5CdkJNb0FnQkJmMm9pQVRZQ0FDQUJEUVJCckJNb0FnQWlBRVVOQWtFQUlRRURRQ0FCUVFGcUlRRWdBQ2dDQ0NJQURRQUxJQUZCL3g4Z0FVSC9IMHNiREFNTFFmd1BJQU1nQW5JMkFnQWdBRUVJYWlFRElBQUxJUUlnQXlBQk5nSUFJQUlnQVRZQ0RDQUJJQUEyQWd3Z0FTQUNOZ0lJRHd0Qi94OExJZ0UyQWdBTER3c2dBU0FBUVFGeU5nSUVJQUVnQUdvZ0FEWUNBQXM1QUFKQUlBSWdBVThFUUNBQ1FjRUFUdzBCSUFBZ0FpQUJhellDQkNBQUlBTWdBV28yQWdBUEN5QUJJQUlRSEFBTElBSkJ3QUFRQWdBTFRRSUJmd0orSXdCQkVHc2lCQ1FBSUFSQkNHcEJBQ0FESUFFZ0FoQVpJQVFwQXdnaEJTQUVJQU1nQWlBQklBSVFHU0FFS1FNQUlRWWdBQ0FGTndJQUlBQWdCamNDQ0NBRVFSQnFKQUFMTEFFQmZ5TUFRUkJySWdNa0FDQURRUWhxSUFKQndBQWdBUkFWSUFBZ0F5a0RDRGNDQUNBRFFSQnFKQUFMRGdBZ0FDZ0NBQ2dDQUNBQkVCc0xOd0FDUUNBQ0lBRlBCRUFnQkNBQ1NRMEJJQUFnQWlBQmF6WUNCQ0FBSUFNZ0FXbzJBZ0FQQ3lBQklBSVFIQUFMSUFJZ0JCQUNBQXNyQVFGL0l3QkJFR3NpQXlRQUlBTkJDR3BCQUNBQ0lBRVFGU0FBSUFNcEF3ZzNBZ0FnQTBFUWFpUUFDN0l1QVNOL0l3QkJnQUZySWdja0FDQUhJQUZCd0FBUUt5RUJRUUFoQndKQUEwQWdCMEhBQUVZTkFTQUJJQWRxSWdnZ0NDZ0NBQ0lJUVJoMElBaEJDSFJCZ0lEOEIzRnlJQWhCQ0haQmdQNERjU0FJUVJoMmNuSTJBZ0FnQjBFRWFpRUhEQUFMQUFzZ0FDZ0NGQ0ViSUFBb0FoQWhIQ0FBS0FJQUlSMGdBQ2dDQkNFZUlBQW9BaHdoSHlBQUtBSVlJU0FnQUNnQ0NDRWhJQUVvQWd3aERTQUJLQUlJSVJnZ0FTZ0NCQ0VWSUFFb0FnQWhFaUFCSUFBb0Fnd2lJallDWkNBQklDRTJBbUFnQVNBZ05nSm9JQUVnSHpZQ2JDQUJJQjQyQW5RZ0FTQWROZ0p3SUFFZ0hEWUNlQ0FCSUJzMkFud2dBVUhRQUdvZ0FVSGdBR29nQVVId0FHb2dGVUdSaWQySkIyb2dFa0dZMzZpVUJHb1FIaUFCS0FKY0lRY2dBU2dDV0NFSUlBRW9BbEFoQ2lBQktBSlVJUk1nQVNBZU5nSmtJQUVnSFRZQ1lDQUJJQncyQW1nZ0FTQWJOZ0pzSUFFZ0V6WUNkQ0FCSUFvMkFuQWdBU0FJTmdKNElBRWdCellDZkNBQlFkQUFhaUFCUWVBQWFpQUJRZkFBYWlBTlFhVzMxODErYWlBWVFjLzNnNjU3YWhBZUlBRW9BbHdoR1NBQktBSllJUTRnQVNnQ1VDRVBJQUVvQWxRaEZpQUJLQUljSVF3Z0FTZ0NHQ0VRSUFFb0FoUWhGeUFCS0FJUUlSRWdBU0FUTmdKa0lBRWdDallDWUNBQklBZzJBbWdnQVNBSE5nSnNJQUVnRmpZQ2RDQUJJQTgyQW5BZ0FTQU9OZ0o0SUFFZ0dUWUNmQ0FCUWRBQWFpQUJRZUFBYWlBQlFmQUFhaUFYUWZHanhNOEZhaUFSUWR1RTI4b0RhaEFlSUFFb0Fsd2hCeUFCS0FKWUlRZ2dBU2dDVUNFS0lBRW9BbFFoQWlBQklCWTJBbVFnQVNBUE5nSmdJQUVnRGpZQ2FDQUJJQmsyQW13Z0FTQUNOZ0owSUFFZ0NqWUNjQ0FCSUFnMkFuZ2dBU0FITmdKOElBRkIwQUJxSUFGQjRBQnFJQUZCOEFCcUlBeEIxYjN4MkhwcUlCQkJwSVgra1hscUVCNGdBU2dDWENFV0lBRW9BbGdoQXlBQktBSlFJUVFnQVNnQ1ZDRUZJQUVvQWl3aEV5QUJLQUlvSVJrZ0FTZ0NKQ0VPSUFFb0FpQWhEeUFCSUFJMkFtUWdBU0FLTmdKZ0lBRWdDRFlDYUNBQklBYzJBbXdnQVNBRk5nSjBJQUVnQkRZQ2NDQUJJQU0yQW5nZ0FTQVdOZ0o4SUFGQjBBQnFJQUZCNEFCcUlBRkI4QUJxSUE1QmdiYU5sQUZxSUE5Qm1OV2V3SDFxRUI0Z0FTZ0NYQ0VDSUFFb0FsZ2hCaUFCS0FKUUlRa2dBU2dDVkNFTElBRWdCVFlDWkNBQklBUTJBbUFnQVNBRE5nSm9JQUVnRmpZQ2JDQUJJQXMyQW5RZ0FTQUpOZ0p3SUFFZ0JqWUNlQ0FCSUFJMkFud2dBVUhRQUdvZ0FVSGdBR29nQVVId0FHb2dFMEhEKzdHb0JXb2dHVUcraThhaEFtb1FIaUFCS0FKY0lRTWdBU2dDV0NFRUlBRW9BbEFoQlNBQktBSlVJUlFnQVNnQ1BDRUhJQUVvQWpnaENDQUJLQUkwSVJZZ0FTZ0NNQ0VLSUFFZ0N6WUNaQ0FCSUFrMkFtQWdBU0FHTmdKb0lBRWdBallDYkNBQklCUTJBblFnQVNBRk5nSndJQUVnQkRZQ2VDQUJJQU0yQW53Z0FVSFFBR29nQVVIZ0FHb2dBVUh3QUdvZ0ZrSCs0L3FHZUdvZ0NrSDB1dm1WQjJvUUhpQUJLQUpjSVFJZ0FTZ0NXQ0VHSUFFb0FsQWhDU0FCS0FKVUlRc2dBU0FVTmdKa0lBRWdCVFlDWUNBQklBUTJBbWdnQVNBRE5nSnNJQUVnQ3pZQ2RDQUJJQWsyQW5BZ0FTQUdOZ0o0SUFFZ0FqWUNmQ0FCUWRBQWFpQUJRZUFBYWlBQlFmQUFhaUFIUWZUaTc0eDhhaUFJUWFlTjhONTVhaEFlSUFFb0Fsd2hBeUFCS0FKWUlRUWdBU2dDVUNFRklBRW9BbFFoRkNBQklCZzJBblFnQVNBTk5nSndJQUVnRlRZQ2VDQUJJQkkyQW53Z0FVSGdBR29nQVVId0FHb2dFUkFmSUFFZ0NpQUJLQUpnYWpZQ2NDQUJJQk1nQVNnQ1pHbzJBblFnQVNBWklBRW9BbWhxTmdKNElBRWdEaUFCS0FKc2FqWUNmQ0FCUVVCcklBRkI4QUJxSUFjZ0NCQWdJQUVnQ3pZQ1pDQUJJQWsyQW1BZ0FTQUdOZ0pvSUFFZ0FqWUNiQ0FCSUJRMkFuUWdBU0FGTmdKd0lBRWdCRFlDZUNBQklBTTJBbndnQVNnQ1FDRVZJQUVvQWtRaEVpQUJRZEFBYWlBQlFlQUFhaUFCUWZBQWFpQUJLQUpJSWhwQmhvLzUvWDVxSUFFb0Frd2lEVUhCMCsya2Ztb1FIaUFCS0FKY0lRSWdBU2dDV0NFR0lBRW9BbEFoQ1NBQktBSlVJUXNnQVNBVU5nSmtJQUVnQlRZQ1lDQUJJQVEyQW1nZ0FTQUROZ0pzSUFFZ0N6WUNkQ0FCSUFrMkFuQWdBU0FHTmdKNElBRWdBallDZkNBQlFkQUFhaUFCUWVBQWFpQUJRZkFBYWlBVlFjekRzcUFDYWlBU1FjYTdodjRBYWhBZUlBRW9BbHdoQXlBQktBSllJUVFnQVNnQ1VDRUZJQUVvQWxRaEZDQUJJQkEyQW5RZ0FTQU1OZ0p3SUFFZ0Z6WUNlQ0FCSUJFMkFud2dBVUhnQUdvZ0FVSHdBR29nRHhBZklBRWdEU0FCS0FKZ2FqWUNjQ0FCSUFjZ0FTZ0NaR28yQW5RZ0FTQUlJQUVvQW1ocU5nSjRJQUVnRmlBQktBSnNhallDZkNBQlFlQUFhaUFCUWZBQWFpQVZJQklRSUNBQktBSmdJUkVnQVNnQ1pDRU5JQUVvQW1naERDQUJLQUpzSVJnZ0FTQUxOZ0prSUFFZ0NUWUNZQ0FCSUFZMkFtZ2dBU0FDTmdKc0lBRWdGRFlDZENBQklBVTJBbkFnQVNBRU5nSjRJQUVnQXpZQ2ZDQUJRZEFBYWlBQlFlQUFhaUFCUWZBQWFpQU1RYXFKMHRNRWFpQVlRZS9ZcE84Q2FoQWVJQUVvQWx3aEVDQUJLQUpZSVJjZ0FTZ0NVQ0VDSUFFb0FsUWhCaUFCSUJRMkFtUWdBU0FGTmdKZ0lBRWdCRFlDYUNBQklBTTJBbXdnQVNBR05nSjBJQUVnQWpZQ2NDQUJJQmMyQW5nZ0FTQVFOZ0o4SUFGQjBBQnFJQUZCNEFCcUlBRkI4QUJxSUJGQjJwSG10d2RxSUExQjNOUEM1UVZxRUI0Z0FTZ0NYQ0VESUFFb0FsZ2hCQ0FCS0FKUUlRVWdBU2dDVkNFSklBRWdHVFlDZENBQklCTTJBbkFnQVNBT05nSjRJQUVnRHpZQ2ZDQUJRZUFBYWlBQlFmQUFhaUFLRUI4Z0FTQVlJQUVvQW1CcU5nSndJQUVnRlNBQktBSmthallDZENBQklCSWdBU2dDYUdvMkFuZ2dBU0FhSUFFb0FteHFOZ0o4SUFGQjRBQnFJQUZCOEFCcUlCRWdEUkFnSUFFb0FtQWhFeUFCS0FKa0lSa2dBU2dDYUNFU0lBRW9BbXdoRGlBQklBWTJBbVFnQVNBQ05nSmdJQUVnRnpZQ2FDQUJJQkEyQW13Z0FTQUpOZ0owSUFFZ0JUWUNjQ0FCSUFRMkFuZ2dBU0FETmdKOElBRkIwQUJxSUFGQjRBQnFJQUZCOEFCcUlCSkI3WXpId1hwcUlBNUIwcUw1d1hscUVCNGdBU2dDWENFUElBRW9BbGdoRlNBQktBSlFJUmNnQVNnQ1ZDRUNJQUVnQ1RZQ1pDQUJJQVUyQW1BZ0FTQUVOZ0pvSUFFZ0F6WUNiQ0FCSUFJMkFuUWdBU0FYTmdKd0lBRWdGVFlDZUNBQklBODJBbndnQVVIUUFHb2dBVUhnQUdvZ0FVSHdBR29nRTBISC8rWDZlMm9nR1VISXo0eUFlMm9RSGlBQktBSmNJUU1nQVNnQ1dDRUVJQUVvQWxBaEJTQUJLQUpVSVFZZ0FTQUlOZ0owSUFFZ0J6WUNjQ0FCSUJZMkFuZ2dBU0FLTmdKOElBRkI0QUJxSUFGQjhBQnFJQUVvQWt3UUh5QUJJQTRnQVNnQ1lHbzJBbkFnQVNBUklBRW9BbVJxTmdKMElBRWdEU0FCS0FKb2FqWUNlQ0FCSUF3Z0FTZ0NiR28yQW53Z0FVSGdBR29nQVVId0FHb2dFeUFaRUNBZ0FTZ0NZQ0VISUFFb0FtUWhDQ0FCS0FKb0lSQWdBU2dDYkNFS0lBRWdBallDWkNBQklCYzJBbUFnQVNBVk5nSm9JQUVnRHpZQ2JDQUJJQVkyQW5RZ0FTQUZOZ0p3SUFFZ0JEWUNlQ0FCSUFNMkFud2dBVUhRQUdvZ0FVSGdBR29nQVVId0FHb2dFRUhIb3A2dGZXb2dDa0h6bDRDM2ZHb1FIaUFCS0FKY0lRSWdBU2dDV0NFSklBRW9BbEFoQ3lBQktBSlVJUlFnQVNBR05nSmtJQUVnQlRZQ1lDQUJJQVEyQW1nZ0FTQUROZ0pzSUFFZ0ZEWUNkQ0FCSUFzMkFuQWdBU0FKTmdKNElBRWdBallDZkNBQlFkQUFhaUFCUWVBQWFpQUJRZkFBYWlBSFFlZlNwS0VCYWlBSVFkSEdxVFpxRUI0Z0FTZ0NYQ0VESUFFb0FsZ2hCQ0FCS0FKUUlRVWdBU2dDVkNFR0lBRkIrQUJxSWlNZ0FTa0RTRGNEQUNBQklBRXBBMEEzQTNBZ0FVSGdBR29nQVVId0FHb2dHQkFmSUFFZ0NpQUJLQUpnYWpZQ2NDQUJJQk1nQVNnQ1pHbzJBblFnQVNBWklBRW9BbWhxTmdKNElBRWdFaUFCS0FKc2FqWUNmQ0FCUWVBQWFpQUJRZkFBYWlBSElBZ1FJQ0FCS0FKZ0lROGdBU2dDWkNFV0lBRW9BbWdoRnlBQktBSnNJUlVnQVNBVU5nSmtJQUVnQ3pZQ1lDQUJJQWsyQW1nZ0FTQUNOZ0pzSUFFZ0JqWUNkQ0FCSUFVMkFuQWdBU0FFTmdKNElBRWdBellDZkNBQlFkQUFhaUFCUWVBQWFpQUJRZkFBYWlBWFFiakM3UEFDYWlBVlFZV1YzTDBDYWhBZUlBRW9BbHdoQWlBQktBSllJUWtnQVNnQ1VDRUxJQUVvQWxRaEZDQUJJQVkyQW1RZ0FTQUZOZ0pnSUFFZ0JEWUNhQ0FCSUFNMkFtd2dBU0FVTmdKMElBRWdDellDY0NBQklBazJBbmdnQVNBQ05nSjhJQUZCMEFCcUlBRkI0QUJxSUFGQjhBQnFJQTlCazVyZ21RVnFJQlpCL051eDZRUnFFQjRnQVNnQ1hDRURJQUVvQWxnaEJDQUJLQUpRSVFVZ0FTZ0NWQ0VHSUFFZ0RUWUNkQ0FCSUJFMkFuQWdBU0FNTmdKNElBRWdHRFlDZkNBQlFlQUFhaUFCUWZBQWFpQU9FQjhnQVNBVklBRW9BbUJxTmdKd0lBRWdCeUFCS0FKa2FqWUNkQ0FCSUFnZ0FTZ0NhR28yQW5nZ0FTQVFJQUVvQW14cU5nSjhJQUZCUUdzZ0FVSHdBR29nRHlBV0VDQWdBU0FVTmdKa0lBRWdDellDWUNBQklBazJBbWdnQVNBQ05nSnNJQUVnQmpZQ2RDQUJJQVUyQW5BZ0FTQUVOZ0o0SUFFZ0F6WUNmQ0FCS0FKQUlRd2dBU2dDUkNFQ0lBRkIwQUJxSUFGQjRBQnFJQUZCOEFCcUlBRW9Ba2dpSkVHN2xhaXpCMm9nQVNnQ1RDSVJRZFRtcWFnR2FoQWVJQUVvQWx3aENTQUJLQUpZSVFzZ0FTZ0NVQ0VVSUFFb0FsUWhHaUFCSUFZMkFtUWdBU0FGTmdKZ0lBRWdCRFlDYUNBQklBTTJBbXdnQVNBYU5nSjBJQUVnRkRZQ2NDQUJJQXMyQW5nZ0FTQUpOZ0o4SUFGQjBBQnFJQUZCNEFCcUlBRkI4QUJxSUF4QmhkbklrM2xxSUFKQnJwS0xqbmhxRUI0Z0FTZ0NYQ0VESUFFb0FsZ2hCQ0FCS0FKUUlRVWdBU2dDVkNFR0lBRWdHVFlDZENBQklCTTJBbkFnQVNBU05nSjRJQUVnRGpZQ2ZDQUJRZUFBYWlBQlFmQUFhaUFLRUI4Z0FTQVJJQUVvQW1CcU5nSndJQUVnRHlBQktBSmthallDZENBQklCWWdBU2dDYUdvMkFuZ2dBU0FYSUFFb0FteHFOZ0o4SUFGQjRBQnFJQUZCOEFCcUlBd2dBaEFnSUFFb0FtQWhFU0FCS0FKa0lRMGdBU2dDYUNFVElBRW9BbXdoR0NBQklCbzJBbVFnQVNBVU5nSmdJQUVnQ3pZQ2FDQUJJQWsyQW13Z0FTQUdOZ0owSUFFZ0JUWUNjQ0FCSUFRMkFuZ2dBU0FETmdKOElBRkIwQUJxSUFGQjRBQnFJQUZCOEFCcUlCTkJ5OHpwd0hwcUlCaEJvZEgvbFhwcUVCNGdBU2dDWENFT0lBRW9BbGdoRWlBQktBSlFJUWtnQVNnQ1ZDRUxJQUVnQmpZQ1pDQUJJQVUyQW1BZ0FTQUVOZ0pvSUFFZ0F6WUNiQ0FCSUFzMkFuUWdBU0FKTmdKd0lBRWdFallDZUNBQklBNDJBbndnQVVIUUFHb2dBVUhnQUdvZ0FVSHdBR29nRVVHam83RzdmR29nRFVId2xxNlNmR29RSGlBQktBSmNJUU1nQVNnQ1dDRUVJQUVvQWxBaEJTQUJLQUpVSVFZZ0FTQUlOZ0owSUFFZ0J6WUNjQ0FCSUJBMkFuZ2dBU0FLTmdKOElBRkI0QUJxSUFGQjhBQnFJQlVRSHlBQklCZ2dBU2dDWUdvMkFuQWdBU0FNSUFFb0FtUnFOZ0owSUFFZ0FpQUJLQUpvYWpZQ2VDQUJJQ1FnQVNnQ2JHbzJBbndnQVVIZ0FHb2dBVUh3QUdvZ0VTQU5FQ0FnQVNnQ1lDRUhJQUVvQW1RaENDQUJLQUpvSVJrZ0FTZ0NiQ0VLSUFFZ0N6WUNaQ0FCSUFrMkFtQWdBU0FTTmdKb0lBRWdEallDYkNBQklBWTJBblFnQVNBRk5nSndJQUVnQkRZQ2VDQUJJQU0yQW53Z0FVSFFBR29nQVVIZ0FHb2dBVUh3QUdvZ0dVR2tqT1MwZldvZ0NrR1owTXVNZldvUUhpQUJLQUpjSVJJZ0FTZ0NXQ0VNSUFFb0FsQWhFQ0FCS0FKVUlRSWdBU0FHTmdKa0lBRWdCVFlDWUNBQklBUTJBbWdnQVNBRE5nSnNJQUVnQWpZQ2RDQUJJQkEyQW5BZ0FTQU1OZ0o0SUFFZ0VqWUNmQ0FCUWRBQWFpQUJRZUFBYWlBQlFmQUFhaUFIUWZEQXFvTUJhaUFJUVlYcnVLQi9haEFlSUFFb0Fsd2hBeUFCS0FKWUlRUWdBU2dDVUNFRklBRW9BbFFoQmlBQklCWTJBblFnQVNBUE5nSndJQUVnRnpZQ2VDQUJJQlUyQW53Z0FVSGdBR29nQVVId0FHb2dBU2dDVEJBZklBRWdDaUFCS0FKZ2FqWUNjQ0FCSUJFZ0FTZ0NaR28yQW5RZ0FTQU5JQUVvQW1ocU5nSjRJQUVnRXlBQktBSnNhallDZkNBQlFlQUFhaUFCUWZBQWFpQUhJQWdRSUNBQktBSmdJUTRnQVNnQ1pDRVBJQUVvQW1naEZ5QUJLQUpzSVJZZ0FTQUNOZ0prSUFFZ0VEWUNZQ0FCSUF3MkFtZ2dBU0FTTmdKc0lBRWdCallDZENBQklBVTJBbkFnQVNBRU5nSjRJQUVnQXpZQ2ZDQUJRZEFBYWlBQlFlQUFhaUFCUWZBQWFpQVhRWWpZM2ZFQmFpQVdRWmFDazgwQmFoQWVJQUVvQWx3aERDQUJLQUpZSVJBZ0FTZ0NVQ0VDSUFFb0FsUWhDU0FCSUFZMkFtUWdBU0FGTmdKZ0lBRWdCRFlDYUNBQklBTTJBbXdnQVNBSk5nSjBJQUVnQWpZQ2NDQUJJQkEyQW5nZ0FTQU1OZ0o4SUFGQjBBQnFJQUZCNEFCcUlBRkI4QUJxSUE1QnRmbkNwUU5xSUE5QnpPNmh1Z0pxRUI0Z0FTZ0NYQ0VESUFFb0FsZ2hCQ0FCS0FKUUlRVWdBU2dDVkNFR0lDTWdBU2tEU0RjREFDQUJJQUVwQTBBM0EzQWdBVUhnQUdvZ0FVSHdBR29nR0JBZklBRWdGaUFCS0FKZ2FqWUNjQ0FCSUFjZ0FTZ0NaR28yQW5RZ0FTQUlJQUVvQW1ocU5nSjRJQUVnR1NBQktBSnNhallDZkNBQlFlQUFhaUFCUWZBQWFpQU9JQThRSUNBQktBSmdJUlVnQVNnQ1pDRVNJQUVvQW1naEN5QUJLQUpzSVJRZ0FTQUpOZ0prSUFFZ0FqWUNZQ0FCSUJBMkFtZ2dBU0FNTmdKc0lBRWdCallDZENBQklBVTJBbkFnQVNBRU5nSjRJQUVnQXpZQ2ZDQUJRZEFBYWlBQlFlQUFhaUFCUWZBQWFpQUxRY3JVNHZZRWFpQVVRYk9aOE1nRGFoQWVJQUVvQWx3aERDQUJLQUpZSVJBZ0FTZ0NVQ0VDSUFFb0FsUWhDU0FCSUFZMkFtUWdBU0FGTmdKZ0lBRWdCRFlDYUNBQklBTTJBbXdnQVNBSk5nSjBJQUVnQWpZQ2NDQUJJQkEyQW5nZ0FTQU1OZ0o4SUFGQjBBQnFJQUZCNEFCcUlBRkI4QUJxSUJWQjg5KzV3UVpxSUJKQno1VHozQVZxRUI0Z0FTZ0NYQ0VESUFFb0FsZ2hCQ0FCS0FKUUlRVWdBU2dDVkNFR0lBRWdEVFlDZENBQklCRTJBbkFnQVNBVE5nSjRJQUVnR0RZQ2ZDQUJRZUFBYWlBQlFmQUFhaUFLRUI4Z0FTQVVJQUVvQW1CcU5nSndJQUVnRGlBQktBSmthallDZENBQklBOGdBU2dDYUdvMkFuZ2dBU0FYSUFFb0FteHFOZ0o4SUFGQlFHc2dBVUh3QUdvZ0ZTQVNFQ0FnQVNBSk5nSmtJQUVnQWpZQ1lDQUJJQkEyQW1nZ0FTQU1OZ0pzSUFFZ0JqWUNkQ0FCSUFVMkFuQWdBU0FFTmdKNElBRWdBellDZkNBQktBSkFJUkVnQVNnQ1JDRU5JQUZCMEFCcUlBRkI0QUJxSUFGQjhBQnFJQUVvQWtoQjc4YVZ4UWRxSUFFb0Frd2lDVUh1aGI2a0Iyb1FIaUFCS0FKY0lSZ2dBU2dDV0NFVElBRW9BbEFoRGlBQktBSlVJUThnQVNBR05nSmtJQUVnQlRZQ1lDQUJJQVEyQW1nZ0FTQUROZ0pzSUFFZ0R6WUNkQ0FCSUE0MkFuQWdBU0FUTmdKNElBRWdHRFlDZkNBQlFkQUFhaUFCUWVBQWFpQUJRZkFBYWlBUlFZaUVuT1o0YWlBTlFaVHdvYVo0YWhBZUlBRW9BbHdoRENBQktBSllJUkFnQVNnQ1VDRVhJQUVvQWxRaEFpQUJJQWcyQW5RZ0FTQUhOZ0p3SUFFZ0dUWUNlQ0FCSUFvMkFud2dBVUhnQUdvZ0FVSHdBR29nRmhBZklBRWdDU0FCS0FKZ2FqWUNjQ0FCSUJVZ0FTZ0NaR28yQW5RZ0FTQVNJQUVvQW1ocU5nSjRJQUVnQ3lBQktBSnNhallDZkNBQlFlQUFhaUFCUWZBQWFpQVJJQTBRSUNBQktBSmdJUTBnQVNnQ1pDRVpJQUVvQW1naEJ5QUJLQUpzSVFnZ0FTQVBOZ0prSUFFZ0RqWUNZQ0FCSUJNMkFtZ2dBU0FZTmdKc0lBRWdBallDZENBQklCYzJBbkFnQVNBUU5nSjRJQUVnRERZQ2ZDQUJRZEFBYWlBQlFlQUFhaUFCUWZBQWFpQUhRZXZad2FKNmFpQUlRZnIvKzRWNWFoQWVJQUVvQWx3aEJ5QUJLQUpZSVFnZ0FTZ0NVQ0VLSUFFb0FsUWhFU0FCSUFJMkFtUWdBU0FYTmdKZ0lBRWdFRFlDYUNBQklBdzJBbXdnQVNBUk5nSjBJQUVnQ2pZQ2NDQUJJQWcyQW5nZ0FTQUhOZ0o4SUFGQjBBQnFJQUZCNEFCcUlBRkI4QUJxSUExQjh2SEZzM3hxSUJsQjk4Zm05M3RxRUI0Z0FTZ0NYQ0VOSUFFb0FsZ2hHQ0FCS0FKUUlSTWdBQ0FlSUFFb0FsUnFOZ0lFSUFBZ0V5QWRhallDQUNBQUlBb2dJV28yQWdnZ0FDQVJJQ0pxTmdJTUlBQWdHQ0FjYWpZQ0VDQUFJQTBnRzJvMkFoUWdBQ0FJSUNCcU5nSVlJQUFnQnlBZmFqWUNIQ0FCUVlBQmFpUUFDMzBCQVg4akFFRXdheUlDSkFBZ0FpQUJOZ0lFSUFJZ0FEWUNBQ0FDUVN4cVFRRTJBZ0FnQWtFVWFrRUNOZ0lBSUFKQkhHcEJBallDQUNBQ1FRRTJBaVFnQWtHTUZUWUNDQ0FDUVFJMkFnd2dBa0hNRFRZQ0VDQUNJQUkyQWlBZ0FpQUNRUVJxTmdJb0lBSWdBa0VnYWpZQ0dDQUNRUWhxUVp3VkVDZ0FDM3dCQVg4akFFRXdheUlESkFBZ0F5QUNOZ0lFSUFNZ0FUWUNBQ0FEUVN4cVFRRTJBZ0FnQTBFVWFrRUNOZ0lBSUFOQkhHcEJBallDQUNBRFFRRTJBaVFnQTBIY0ZEWUNDQ0FEUVFJMkFnd2dBMEhNRFRZQ0VDQURJQU5CQkdvMkFpQWdBeUFETmdJb0lBTWdBMEVnYWpZQ0dDQURRUWhxSUFBUUtBQUwxZ0VCQm44Z0FDQUJLQUlBSWdnZ0FpZ0NCQ0lIY3lBQ0tBSUFJZ1Z4SUFnZ0IzRnpJQVZCSG5jZ0JVRVRkM01nQlVFS2QzTnFJQUlvQWdnaUJrRWFkeUFHUVJWM2N5QUdRUWQzY3lBRWFpQUJLQUlNYWlBQktBSUlJZ1FnQWlnQ0RDSUpjeUFHY1NBRWMyb2lDbW9pQWpZQ0JDQUFJQW9nQVNnQ0JHb2lBVFlDRENBQUlBSkJIbmNnQWtFVGQzTWdBa0VLZDNNZ0FpQUhJQVZ6Y1NBSElBVnhjMm9nQkNBRGFpQUpJQUVnQ1NBR2MzRnphaUFCUVJwM0lBRkJGWGR6SUFGQkIzZHphaUlGYWpZQ0FDQUFJQVVnQ0dvMkFnZ0xlQUFnQUNBQ1FSbDNJQUpCQTNaeklBSkJEbmR6SUFFb0FnQWlBbW8yQWdBZ0FDQUNRUmwzSUFKQkEzWnpJQUpCRG5keklBRW9BZ1FpQW1vMkFnUWdBQ0FDUVJsM0lBSkJBM1p6SUFKQkRuZHpJQUVvQWdnaUFtbzJBZ2dnQUNBQ1FSbDNJQUpCQTNaeklBSkJEbmR6SUFFb0FneHFOZ0lNQzNZQUlBQWdBa0VOZHlBQ1FRcDJjeUFDUVE5M2N5QUJLQUlJYWlJQ05nSUlJQUFnQTBFTmR5QURRUXAyY3lBRFFROTNjeUFCS0FJTWFpSUROZ0lNSUFBZ0FrRU5keUFDUVFwMmN5QUNRUTkzY3lBQktBSUFhallDQUNBQUlBTkJEWGNnQTBFS2RuTWdBMEVQZDNNZ0FTZ0NCR28yQWdRTFVBQUNRQUpBUWVnUEtBSUFRUUZHQkVCQjdBOUI3QThvQWdCQkFXb2lBRFlDQUNBQVFRTkpEUUVNQWd0QjZBOUNnWUNBZ0JBM0F3QUxRZlFQS0FJQUlnQkJmMHdOQUVIMER5QUFOZ0lBQ3dBTFB3RUNmeU1BUVJCcklnRWtBQUovSUFBb0FnZ2lBaUFDRFFBYVFiUVVFQWNBQ3hvZ0FTQUFLUUlNTndNQUlBRWdBRUVVYWlrQ0FEY0RDQ0FCRUNFQUM3TUNBUVYvSUFBb0FoZ2hBd0pBQWtBQ1FDQUFLQUlNSWdJZ0FFY0VRQ0FBS0FJSUlnRWdBallDRENBQ0lBRTJBZ2dnQXcwQkRBSUxJQUJCRkdvaUFTQUFRUkJxSUFFb0FnQWJJZ1FvQWdBaUFRUkFBa0FEUUNBRUlRVWdBU0lDUVJScUlnUW9BZ0FpQVFSQUlBRU5BUXdDQ3lBQ1FSQnFJUVFnQWlnQ0VDSUJEUUFMQ3lBRlFRQTJBZ0FnQXcwQkRBSUxRUUFoQWlBRFJRMEJDd0pBSUFBb0Fod2lCRUVDZEVHTUVtb2lBU2dDQUNBQVJ3UkFJQU5CRUdvZ0EwRVVhaUFES0FJUUlBQkdHeUFDTmdJQUlBSU5BUXdDQ3lBQklBSTJBZ0FnQWtVTkFnc2dBaUFETmdJWUlBQW9BaEFpQVFSQUlBSWdBVFlDRUNBQklBSTJBaGdMSUFCQkZHb29BZ0FpQVVVTkFDQUNRUlJxSUFFMkFnQWdBU0FDTmdJWUN3OExRWUFRUVlBUUtBSUFRWDRnQkhkeE5nSUFDOFVDQVFSL0lBQUNmMEVBSUFGQkNIWWlBMFVOQUJwQkh5SUNJQUZCLy8vL0Iwc05BQm9nQVVFbUlBTm5JZ0pyUVI5eGRrRUJjVUVmSUFKclFRRjBjZ3NpQWpZQ0hDQUFRZ0EzQWhBZ0FrRUNkRUdNRW1vaEF3SkFBa0FDUUVHQUVDZ0NBQ0lFUVFFZ0FrRWZjWFFpQlhFRVFDQURLQUlBSWdRb0FnUkJlSEVnQVVjTkFTQUVJUUlNQWdzZ0F5QUFOZ0lBUVlBUUlBUWdCWEkyQWdBZ0FDQUROZ0lZSUFBZ0FEWUNDQ0FBSUFBMkFnd1BDeUFCUVFCQkdTQUNRUUYyYTBFZmNTQUNRUjlHRzNRaEF3TkFJQVFnQTBFZGRrRUVjV3BCRUdvaUJTZ0NBQ0lDUlEwQ0lBTkJBWFFoQXlBQ0lRUWdBaWdDQkVGNGNTQUJSdzBBQ3dzZ0FpZ0NDQ0lESUFBMkFnd2dBaUFBTmdJSUlBQWdBallDRENBQUlBTTJBZ2dnQUVFQU5nSVlEd3NnQlNBQU5nSUFJQUFnQkRZQ0dDQUFJQUEyQWd3Z0FDQUFOZ0lJQy9VRUFRUi9JQUFnQVdvaEFnSkFBa0FDUUFKQUFrQUNRQUpBQWtBZ0FDZ0NCQ0lEUVFGeERRQWdBMEVEY1VVTkFTQUFLQUlBSWdNZ0FXb2hBUUpBQWtCQmxCTW9BZ0FnQUNBRGF5SUFSd1JBSUFOQi93RkxEUUVnQUNnQ0RDSUVJQUFvQWdnaUJVWU5BaUFGSUFRMkFnd2dCQ0FGTmdJSURBTUxJQUlvQWdRaUEwRURjVUVEUncwQ1FZd1RJQUUyQWdBZ0FrRUVhaUFEUVg1eE5nSUFJQUFnQVVFQmNqWUNCQ0FDSUFFMkFnQVBDeUFBRUNNTUFRdEIvQTlCL0E4b0FnQkJmaUFEUVFOMmQzRTJBZ0FMQWtBZ0FpZ0NCQ0lEUVFKeFJRUkFRWmdUS0FJQUlBSkdEUUZCbEJNb0FnQWdBa1lOQXlBRFFYaHhJZ1FnQVdvaEFTQUVRZjhCU3cwRUlBSW9BZ3dpQkNBQ0tBSUlJZ0pHRFFZZ0FpQUVOZ0lNSUFRZ0FqWUNDQXdIQ3lBQ1FRUnFJQU5CZm5FMkFnQWdBQ0FCUVFGeU5nSUVJQUFnQVdvZ0FUWUNBQXdIQzBHWUV5QUFOZ0lBUVpBVFFaQVRLQUlBSUFGcUlnRTJBZ0FnQUNBQlFRRnlOZ0lFSUFCQmxCTW9BZ0JHRFFNTER3dEJsQk1nQURZQ0FFR01FMEdNRXlnQ0FDQUJhaUlCTmdJQUlBQWdBVUVCY2pZQ0JDQUFJQUZxSUFFMkFnQVBDeUFDRUNNTUFndEJqQk5CQURZQ0FFR1VFMEVBTmdJQUR3dEIvQTlCL0E4b0FnQkJmaUFEUVFOMmQzRTJBZ0FMSUFBZ0FVRUJjallDQkNBQUlBRnFJQUUyQWdBZ0FFR1VFeWdDQUVjTkFFR01FeUFCTmdJQUR3c0Nmd0pBSUFGQi93Rk5CRUFnQVVFRGRpSUNRUU4wUVlRUWFpRUJRZndQS0FJQUlnTkJBU0FDUVI5eGRDSUNjVVVOQVNBQktBSUlEQUlMSUFBZ0FSQWtEd3RCL0E4Z0F5QUNjallDQUNBQkN5RUNJQUZCQ0dvZ0FEWUNBQ0FDSUFBMkFnd2dBQ0FCTmdJTUlBQWdBallDQ0F2U0FnRUZmeU1BUVJCcklnTWtBQUovSUFBb0FnQW9BZ0FpQWtHQWdNUUFSd1JBSUFGQkhHb29BZ0FoQkNBQktBSVlJUVVnQTBFQU5nSU1BbjhnQWtIL0FFMEVRQ0FESUFJNkFBeEJBUXdCQ3lBQ1FmOFBUUVJBSUFNZ0FrRS9jVUdBQVhJNkFBMGdBeUFDUVFaMlFSOXhRY0FCY2pvQURFRUNEQUVMSUFKQi8vOERUUVJBSUFNZ0FrRS9jVUdBQVhJNkFBNGdBeUFDUVFaMlFUOXhRWUFCY2pvQURTQURJQUpCREhaQkQzRkI0QUZ5T2dBTVFRTU1BUXNnQXlBQ1FSSjJRZkFCY2pvQURDQURJQUpCUDNGQmdBRnlPZ0FQSUFNZ0FrRU1ka0UvY1VHQUFYSTZBQTBnQXlBQ1FRWjJRVDl4UVlBQmNqb0FEa0VFQ3lFR1FRRWlBaUFGSUFOQkRHb2dCaUFFS0FJTUVRVUFEUUVhQ3lBQUtBSUVMUUFBQkVBZ0FTZ0NHQ0FBS0FJSUlnQW9BZ0FnQUNnQ0JDQUJRUnhxS0FJQUtBSU1FUVVBREFFTFFRQUxJUUlnQTBFUWFpUUFJQUlMcWdnQkNYOGpBRUhRQUdzaUFpUUFRU2NoQXdKQUlBQW9BZ0FpQUVHUXpnQlBCRUFEUUNBQ1FRbHFJQU5xSWdWQmZHb2dBQ0FBUVpET0FHNGlCRUh3c1g5c2FpSUhRZVFBYmlJR1FRRjBRYm9MYWk4QUFEc0FBQ0FGUVg1cUlBY2dCa0djZjJ4cVFRRjBRYm9MYWk4QUFEc0FBQ0FEUVh4cUlRTWdBRUgvd2RjdlN5RUZJQVFoQUNBRkRRQUxEQUVMSUFBaEJBc0NRQ0FFUWVRQVRnUkFJQUpCQ1dvZ0EwRithaUlEYWlBRUlBUkI1QUJ1SWdCQm5IOXNha0VCZEVHNkMyb3ZBQUE3QUFBTUFRc2dCQ0VBQ3dKQUlBQkJDVXdFUUNBQ1FRbHFJQU5CZjJvaUEyb2lDQ0FBUVRCcU9nQUFEQUVMSUFKQkNXb2dBMEYrYWlJRGFpSUlJQUJCQVhSQnVndHFMd0FBT3dBQUN5QUNRUUEyQWpRZ0FrR0VEVFlDTUNBQ1FZQ0F4QUEyQWpoQkp5QURheUlHSVFNZ0FTZ0NBQ0lBUVFGeEJFQWdBa0VyTmdJNElBWkJBV29oQXdzZ0FpQUFRUUoyUVFGeE9nQS9JQUVvQWdnaEJDQUNJQUpCUDJvMkFrUWdBaUFDUVRocU5nSkFJQUlnQWtFd2FqWUNTQUovQWtBQ1FBSi9Ba0FDUUFKQUFrQUNRQUpBQWtBZ0JFRUJSZ1JBSUFGQkRHb29BZ0FpQkNBRFRRMEJJQUJCQ0hFTkFpQUVJQU5ySVFWQkFTQUJMUUF3SWdBZ0FFRURSaHRCQTNFaUFFVU5BeUFBUVFKR0RRUU1CUXNnQWtGQWF5QUJFQ1lOQ0NBQktBSVlJQWdnQmlBQlFSeHFLQUlBS0FJTUVRVUFEQW9MSUFKQlFHc2dBUkFtRFFjZ0FTZ0NHQ0FJSUFZZ0FVRWNhaWdDQUNnQ0RCRUZBQXdKQ3lBQlFRRTZBREFnQVVFd05nSUVJQUpCUUdzZ0FSQW1EUVlnQWtFd05nSk1JQVFnQTJzaEF5QUJLQUlZSVFSQmZ5RUFJQUZCSEdvb0FnQWlCMEVNYWlFRkEwQWdBRUVCYWlJQUlBTlBEUVFnQkNBQ1Fjd0Fha0VCSUFVb0FnQVJCUUJGRFFBTERBWUxJQVVoQ1VFQUlRVU1BUXNnQlVFQmFrRUJkaUVKSUFWQkFYWWhCUXNnQWtFQU5nSk1JQUVvQWdRaUFFSC9BRTBFUUNBQ0lBQTZBRXhCQVF3REN5QUFRZjhQU3cwQklBSWdBRUUvY1VHQUFYSTZBRTBnQWlBQVFRWjJRUjl4UWNBQmNqb0FURUVDREFJTElBUWdDQ0FHSUFkQkRHb29BZ0FSQlFBTkFnd0RDeUFBUWYvL0EwMEVRQ0FDSUFCQlAzRkJnQUZ5T2dCT0lBSWdBRUVHZGtFL2NVR0FBWEk2QUUwZ0FpQUFRUXgyUVE5eFFlQUJjam9BVEVFRERBRUxJQUlnQUVFU2RrSHdBWEk2QUV3Z0FpQUFRVDl4UVlBQmNqb0FUeUFDSUFCQkRIWkJQM0ZCZ0FGeU9nQk5JQUlnQUVFR2RrRS9jVUdBQVhJNkFFNUJCQXNoQkNBQktBSVlJUU5CZnlFQUlBRkJIR29vQWdBaUNrRU1haUVIQWtBRFFDQUFRUUZxSWdBZ0JVOE5BU0FESUFKQnpBQnFJQVFnQnlnQ0FCRUZBRVVOQUFzTUFRc2dBa0ZBYXlBQkVDWU5BQ0FESUFnZ0JpQUtRUXhxS0FJQUlnVVJCUUFOQUVGL0lRQURRQ0FBUVFGcUlnQWdDVThOQWlBRElBSkJ6QUJxSUFRZ0JSRUZBRVVOQUFzTFFRRU1BUXRCQUFzaEFDQUNRZEFBYWlRQUlBQUxSZ0lCZndGK0l3QkJJR3NpQWlRQUlBRXBBZ0FoQXlBQ1FSUnFJQUVwQWdnM0FnQWdBa0hNRkRZQ0JDQUNRWVFOTmdJQUlBSWdBRFlDQ0NBQ0lBTTNBZ3dnQWhBaUFBc0RBQUVMRFFCQ2lMS1VrNWlCbFl6L0FBc3pBUUYvSUFJRVFDQUFJUU1EUUNBRElBRXRBQUE2QUFBZ0FVRUJhaUVCSUFOQkFXb2hBeUFDUVg5cUlnSU5BQXNMSUFBTFp3RUJmd0pBSUFFZ0FFa0VRQ0FDUlEwQkEwQWdBQ0FDYWtGL2FpQUJJQUpxUVg5cUxRQUFPZ0FBSUFKQmYyb2lBZzBBQ3d3QkN5QUNSUTBBSUFBaEF3TkFJQU1nQVMwQUFEb0FBQ0FCUVFGcUlRRWdBMEVCYWlFRElBSkJmMm9pQWcwQUN3c2dBQXNwQVFGL0lBSUVRQ0FBSVFNRFFDQURJQUU2QUFBZ0EwRUJhaUVESUFKQmYyb2lBZzBBQ3dzZ0FBc0xvUWtEQUVHQUNBdTBBV2x1ZG1Gc2FXUWdiV0ZzYkc5aklISmxjWFZsYzNSVWNtbGxaQ0IwYnlCemFISnBibXNnZEc4Z1lTQnNZWEpuWlhJZ1kyRndZV05wZEhsaGMzTmxjblJwYjI0Z1ptRnBiR1ZrT2lBNElEMDlJR1J6ZEM1c1pXNG9LUzl5YjI5MEx5NWpZWEpuYnk5eVpXZHBjM1J5ZVM5emNtTXZaMmwwYUhWaUxtTnZiUzB4WldOak5qSTVPV1JpT1dWak9ESXpMMko1ZEdVdGRHOXZiSE10TUM0eUxqQXZjM0pqTDNkeWFYUmxYM05wYm1kc1pTNXljd0JCd0FrTDJnVXZjbTl2ZEM4dVkyRnlaMjh2Y21WbmFYTjBjbmt2YzNKakwyZHBkR2gxWWk1amIyMHRNV1ZqWXpZeU9UbGtZamxsWXpneU15OWliRzlqYXkxaWRXWm1aWEl0TUM0ekxqTXZjM0pqTDJ4cFlpNXljMlJsYzNScGJtRjBhVzl1SUdGdVpDQnpiM1Z5WTJVZ2MyeHBZMlZ6SUdoaGRtVWdaR2xtWm1WeVpXNTBJR3hsYm1kMGFITUFaK1lKYW9XdVo3dHk4MjQ4T3ZWUHBYOVNEbEdNYUFXYnE5bURIeG5ONEZzQUFBQUFBR05oY0dGamFYUjVJRzkyWlhKbWJHOTNZMkZzYkdWa0lHQlBjSFJwYjI0Nk9uVnVkM0poY0NncFlDQnZiaUJoSUdCT2IyNWxZQ0IyWVd4MVpXeHBZbU52Y21VdmIzQjBhVzl1TG5Kek1EQXdNVEF5TURNd05EQTFNRFl3TnpBNE1Ea3hNREV4TVRJeE16RTBNVFV4TmpFM01UZ3hPVEl3TWpFeU1qSXpNalF5TlRJMk1qY3lPREk1TXpBek1UTXlNek16TkRNMU16WXpOek00TXprME1EUXhOREkwTXpRME5EVTBOalEzTkRnME9UVXdOVEUxTWpVek5UUTFOVFUyTlRjMU9EVTVOakEyTVRZeU5qTTJORFkxTmpZMk56WTROamszTURjeE56STNNemMwTnpVM05qYzNOemczT1Rnd09ERTRNamd6T0RRNE5UZzJPRGM0T0RnNU9UQTVNVGt5T1RNNU5EazFPVFk1TnprNE9Ua0FBQUJwYm1SbGVDQnZkWFFnYjJZZ1ltOTFibVJ6T2lCMGFHVWdiR1Z1SUdseklDQmlkWFFnZEdobElHbHVaR1Y0SUdseklHeHBZbU52Y21VdmMyeHBZMlV2Ylc5a0xuSnpBQUVBQUFBQUFBQUFJQUFBQUFBQUFBQURBQUFBQUFBQUFBTUFBQUFBQUFBQUF3QUFBQUVBQUFBQkFBQUFJQUFBQUFBQUFBQURBQUFBQUFBQUFBTUFBQUFBQUFBQUF3QUFBR2x1WkdWNElDQnZkWFFnYjJZZ2NtRnVaMlVnWm05eUlITnNhV05sSUc5bUlHeGxibWQwYUNCemJHbGpaU0JwYm1SbGVDQnpkR0Z5ZEhNZ1lYUWdJR0oxZENCbGJtUnpJR0YwSUdsdWRHVnlibUZzSUdWeWNtOXlPaUJsYm5SbGNtVmtJSFZ1Y21WaFkyaGhZbXhsSUdOdlpHVnNhV0poYkd4dll5OXlZWGRmZG1WakxuSnpBRUhFRXd2OUFSWUVBQUFrQUFBQWh3Y0FBQk1BQUFCSUFnQUFDUUFBQU1BRUFBQlRBQUFBU3dBQUFCRUFBQUE2QkFBQUlBQUFBRm9FQUFCYUFBQUFId0FBQUFVQUFBQVRCUUFBTkFBQUFMY0dBQUFVQUFBQWJRWUFBQWtBQUFCdEJRQUFFUUFBQUljSEFBQVRBQUFBOGdJQUFBVUFBQUIrQlFBQUt3QUFBS2tGQUFBUkFBQUFXUUVBQUJVQUFBQUNBQUFBQUFBQUFBRUFBQUFEQUFBQWhRWUFBQ0FBQUFDbEJnQUFFZ0FBQUJRSEFBQUdBQUFBR2djQUFDSUFBQUMzQmdBQUZBQUFBSzBIQUFBRkFBQUFQQWNBQUJZQUFBQlNCd0FBRFFBQUFMY0dBQUFVQUFBQXN3Y0FBQVVBQUFCZkJ3QUFLQUFBQUljSEFBQVRBQUFBOVFFQUFCNEFEQWRzYVc1cmFXNW5Bd0xFRFE9PSc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zaGEyNTYuYmFzZTY0LmpzLm1hcCIsImltcG9ydCB7IGluc3RhbnRpYXRlUnVzdFdhc20sIHJpcGVtZDE2MEJhc2U2NEJ5dGVzLCB9IGZyb20gJy4uL2Jpbi9iaW4nO1xuaW1wb3J0IHsgYmFzZTY0VG9CaW4gfSBmcm9tICcuLi9mb3JtYXQvZm9ybWF0Jztcbi8qKlxuICogVGhlIG1vc3QgcGVyZm9ybWFudCB3YXkgdG8gaW5zdGFudGlhdGUgcmlwZW1kMTYwIGZ1bmN0aW9uYWxpdHkuIFRvIGF2b2lkXG4gKiB1c2luZyBOb2RlLmpzIG9yIERPTS1zcGVjaWZpYyBBUElzLCB5b3UgY2FuIHVzZSBgaW5zdGFudGlhdGVSaXBlbWQxNjBgLlxuICpcbiAqIEBwYXJhbSB3ZWJhc3NlbWJseUJ5dGVzIC0gQSBidWZmZXIgY29udGFpbmluZyB0aGUgcmlwZW1kMTYwIGJpbmFyeS5cbiAqL1xuZXhwb3J0IGNvbnN0IGluc3RhbnRpYXRlUmlwZW1kMTYwQnl0ZXMgPSBhc3luYyAod2ViYXNzZW1ibHlCeXRlcykgPT4ge1xuICAgIGNvbnN0IHdhc20gPSBhd2FpdCBpbnN0YW50aWF0ZVJ1c3RXYXNtKHdlYmFzc2VtYmx5Qnl0ZXMsICcuL3JpcGVtZDE2MCcsICdyaXBlbWQxNjAnLCAncmlwZW1kMTYwX2luaXQnLCAncmlwZW1kMTYwX3VwZGF0ZScsICdyaXBlbWQxNjBfZmluYWwnKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBmaW5hbDogd2FzbS5maW5hbCxcbiAgICAgICAgaGFzaDogd2FzbS5oYXNoLFxuICAgICAgICBpbml0OiB3YXNtLmluaXQsXG4gICAgICAgIHVwZGF0ZTogd2FzbS51cGRhdGUsXG4gICAgfTtcbn07XG5leHBvcnQgY29uc3QgZ2V0RW1iZWRkZWRSaXBlbWQxNjBCaW5hcnkgPSAoKSA9PiBiYXNlNjRUb0JpbihyaXBlbWQxNjBCYXNlNjRCeXRlcykuYnVmZmVyO1xuY29uc3QgY2FjaGVkUmlwZW1kMTYwID0ge307XG4vKipcbiAqIEFuIHVsdGltYXRlbHktcG9ydGFibGUgKGJ1dCBzbG93ZXIpIHZlcnNpb24gb2YgYGluc3RhbnRpYXRlUmlwZW1kMTYwQnl0ZXNgXG4gKiB3aGljaCBkb2VzIG5vdCByZXF1aXJlIHRoZSBjb25zdW1lciB0byBwcm92aWRlIHRoZSByaXBlbWQxNjAgYmluYXJ5IGJ1ZmZlci5cbiAqL1xuZXhwb3J0IGNvbnN0IGluc3RhbnRpYXRlUmlwZW1kMTYwID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmIChjYWNoZWRSaXBlbWQxNjAuY2FjaGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gY2FjaGVkUmlwZW1kMTYwLmNhY2hlO1xuICAgIH1cbiAgICBjb25zdCByZXN1bHQgPSBpbnN0YW50aWF0ZVJpcGVtZDE2MEJ5dGVzKGdldEVtYmVkZGVkUmlwZW1kMTYwQmluYXJ5KCkpO1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jdGlvbmFsL2ltbXV0YWJsZS1kYXRhLCBmdW5jdGlvbmFsL25vLWV4cHJlc3Npb24tc3RhdGVtZW50XG4gICAgY2FjaGVkUmlwZW1kMTYwLmNhY2hlID0gcmVzdWx0O1xuICAgIHJldHVybiByZXN1bHQ7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmlwZW1kMTYwLmpzLm1hcCIsImltcG9ydCB7IGluc3RhbnRpYXRlUnVzdFdhc20sIHNoYTI1NkJhc2U2NEJ5dGVzLCB9IGZyb20gJy4uL2Jpbi9iaW4nO1xuaW1wb3J0IHsgYmFzZTY0VG9CaW4gfSBmcm9tICcuLi9mb3JtYXQvZm9ybWF0Jztcbi8qKlxuICogVGhlIG1vc3QgcGVyZm9ybWFudCB3YXkgdG8gaW5zdGFudGlhdGUgc2hhMjU2IGZ1bmN0aW9uYWxpdHkuIFRvIGF2b2lkXG4gKiB1c2luZyBOb2RlLmpzIG9yIERPTS1zcGVjaWZpYyBBUElzLCB5b3UgY2FuIHVzZSBgaW5zdGFudGlhdGVTaGEyNTZgLlxuICpcbiAqIEBwYXJhbSB3ZWJhc3NlbWJseUJ5dGVzIC0gQSBidWZmZXIgY29udGFpbmluZyB0aGUgc2hhMjU2IGJpbmFyeS5cbiAqL1xuZXhwb3J0IGNvbnN0IGluc3RhbnRpYXRlU2hhMjU2Qnl0ZXMgPSBhc3luYyAod2ViYXNzZW1ibHlCeXRlcykgPT4ge1xuICAgIGNvbnN0IHdhc20gPSBhd2FpdCBpbnN0YW50aWF0ZVJ1c3RXYXNtKHdlYmFzc2VtYmx5Qnl0ZXMsICcuL3NoYTI1NicsICdzaGEyNTYnLCAnc2hhMjU2X2luaXQnLCAnc2hhMjU2X3VwZGF0ZScsICdzaGEyNTZfZmluYWwnKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBmaW5hbDogd2FzbS5maW5hbCxcbiAgICAgICAgaGFzaDogd2FzbS5oYXNoLFxuICAgICAgICBpbml0OiB3YXNtLmluaXQsXG4gICAgICAgIHVwZGF0ZTogd2FzbS51cGRhdGUsXG4gICAgfTtcbn07XG5leHBvcnQgY29uc3QgZ2V0RW1iZWRkZWRTaGEyNTZCaW5hcnkgPSAoKSA9PiBiYXNlNjRUb0JpbihzaGEyNTZCYXNlNjRCeXRlcykuYnVmZmVyO1xuY29uc3QgY2FjaGVkU2hhMjU2ID0ge307XG4vKipcbiAqIEFuIHVsdGltYXRlbHktcG9ydGFibGUgKGJ1dCBwb3NzaWJseSBzbG93ZXIpIHZlcnNpb24gb2ZcbiAqIGBpbnN0YW50aWF0ZVNoYTI1NkJ5dGVzYCB3aGljaCBkb2VzIG5vdCByZXF1aXJlIHRoZSBjb25zdW1lciB0byBwcm92aWRlIHRoZVxuICogc2hhMjU2IGJpbmFyeSBidWZmZXIuXG4gKi9cbmV4cG9ydCBjb25zdCBpbnN0YW50aWF0ZVNoYTI1NiA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAoY2FjaGVkU2hhMjU2LmNhY2hlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGNhY2hlZFNoYTI1Ni5jYWNoZTtcbiAgICB9XG4gICAgY29uc3QgcmVzdWx0ID0gaW5zdGFudGlhdGVTaGEyNTZCeXRlcyhnZXRFbWJlZGRlZFNoYTI1NkJpbmFyeSgpKTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuY3Rpb25hbC9pbW11dGFibGUtZGF0YSwgZnVuY3Rpb25hbC9uby1leHByZXNzaW9uLXN0YXRlbWVudFxuICAgIGNhY2hlZFNoYTI1Ni5jYWNoZSA9IHJlc3VsdDtcbiAgICByZXR1cm4gcmVzdWx0O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNoYTI1Ni5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogc2hhMjU2LXVpbnQ4YXJyYXkudHNcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5IYXNoID0gZXhwb3J0cy5jcmVhdGVIYXNoID0gdm9pZCAwO1xuLy8gZmlyc3QgMzIgYml0cyBvZiB0aGUgZnJhY3Rpb25hbCBwYXJ0cyBvZiB0aGUgY3ViZSByb290cyBvZiB0aGUgZmlyc3QgNjQgcHJpbWVzIDIuLjMxMVxuY29uc3QgSyA9IFtcbiAgICAweDQyOGEyZjk4IHwgMCwgMHg3MTM3NDQ5MSB8IDAsIDB4YjVjMGZiY2YgfCAwLCAweGU5YjVkYmE1IHwgMCxcbiAgICAweDM5NTZjMjViIHwgMCwgMHg1OWYxMTFmMSB8IDAsIDB4OTIzZjgyYTQgfCAwLCAweGFiMWM1ZWQ1IHwgMCxcbiAgICAweGQ4MDdhYTk4IHwgMCwgMHgxMjgzNWIwMSB8IDAsIDB4MjQzMTg1YmUgfCAwLCAweDU1MGM3ZGMzIHwgMCxcbiAgICAweDcyYmU1ZDc0IHwgMCwgMHg4MGRlYjFmZSB8IDAsIDB4OWJkYzA2YTcgfCAwLCAweGMxOWJmMTc0IHwgMCxcbiAgICAweGU0OWI2OWMxIHwgMCwgMHhlZmJlNDc4NiB8IDAsIDB4MGZjMTlkYzYgfCAwLCAweDI0MGNhMWNjIHwgMCxcbiAgICAweDJkZTkyYzZmIHwgMCwgMHg0YTc0ODRhYSB8IDAsIDB4NWNiMGE5ZGMgfCAwLCAweDc2Zjk4OGRhIHwgMCxcbiAgICAweDk4M2U1MTUyIHwgMCwgMHhhODMxYzY2ZCB8IDAsIDB4YjAwMzI3YzggfCAwLCAweGJmNTk3ZmM3IHwgMCxcbiAgICAweGM2ZTAwYmYzIHwgMCwgMHhkNWE3OTE0NyB8IDAsIDB4MDZjYTYzNTEgfCAwLCAweDE0MjkyOTY3IHwgMCxcbiAgICAweDI3YjcwYTg1IHwgMCwgMHgyZTFiMjEzOCB8IDAsIDB4NGQyYzZkZmMgfCAwLCAweDUzMzgwZDEzIHwgMCxcbiAgICAweDY1MGE3MzU0IHwgMCwgMHg3NjZhMGFiYiB8IDAsIDB4ODFjMmM5MmUgfCAwLCAweDkyNzIyYzg1IHwgMCxcbiAgICAweGEyYmZlOGExIHwgMCwgMHhhODFhNjY0YiB8IDAsIDB4YzI0YjhiNzAgfCAwLCAweGM3NmM1MWEzIHwgMCxcbiAgICAweGQxOTJlODE5IHwgMCwgMHhkNjk5MDYyNCB8IDAsIDB4ZjQwZTM1ODUgfCAwLCAweDEwNmFhMDcwIHwgMCxcbiAgICAweDE5YTRjMTE2IHwgMCwgMHgxZTM3NmMwOCB8IDAsIDB4Mjc0ODc3NGMgfCAwLCAweDM0YjBiY2I1IHwgMCxcbiAgICAweDM5MWMwY2IzIHwgMCwgMHg0ZWQ4YWE0YSB8IDAsIDB4NWI5Y2NhNGYgfCAwLCAweDY4MmU2ZmYzIHwgMCxcbiAgICAweDc0OGY4MmVlIHwgMCwgMHg3OGE1NjM2ZiB8IDAsIDB4ODRjODc4MTQgfCAwLCAweDhjYzcwMjA4IHwgMCxcbiAgICAweDkwYmVmZmZhIHwgMCwgMHhhNDUwNmNlYiB8IDAsIDB4YmVmOWEzZjcgfCAwLCAweGM2NzE3OGYyIHwgMCxcbl07XG5jb25zdCBhbGdvcml0aG1zID0ge1xuICAgIHNoYTI1NjogMSxcbn07XG5mdW5jdGlvbiBjcmVhdGVIYXNoKGFsZ29yaXRobSkge1xuICAgIGlmIChhbGdvcml0aG0gJiYgIWFsZ29yaXRobXNbYWxnb3JpdGhtXSAmJiAhYWxnb3JpdGhtc1thbGdvcml0aG0udG9Mb3dlckNhc2UoKV0pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRGlnZXN0IG1ldGhvZCBub3Qgc3VwcG9ydGVkXCIpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IEhhc2goKTtcbn1cbmV4cG9ydHMuY3JlYXRlSGFzaCA9IGNyZWF0ZUhhc2g7XG5jbGFzcyBIYXNoIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgLy8gZmlyc3QgMzIgYml0cyBvZiB0aGUgZnJhY3Rpb25hbCBwYXJ0cyBvZiB0aGUgc3F1YXJlIHJvb3RzIG9mIHRoZSBmaXJzdCA4IHByaW1lcyAyLi4xOVxuICAgICAgICB0aGlzLkEgPSAweDZhMDllNjY3IHwgMDtcbiAgICAgICAgdGhpcy5CID0gMHhiYjY3YWU4NSB8IDA7XG4gICAgICAgIHRoaXMuQyA9IDB4M2M2ZWYzNzIgfCAwO1xuICAgICAgICB0aGlzLkQgPSAweGE1NGZmNTNhIHwgMDtcbiAgICAgICAgdGhpcy5FID0gMHg1MTBlNTI3ZiB8IDA7XG4gICAgICAgIHRoaXMuRiA9IDB4OWIwNTY4OGMgfCAwO1xuICAgICAgICB0aGlzLkcgPSAweDFmODNkOWFiIHwgMDtcbiAgICAgICAgdGhpcy5IID0gMHg1YmUwY2QxOSB8IDA7XG4gICAgICAgIHRoaXMuX3NpemUgPSAwO1xuICAgICAgICB0aGlzLl9zcCA9IDA7IC8vIHN1cnJvZ2F0ZSBwYWlyXG4gICAgICAgIGlmICghc2hhcmVkQnVmZmVyIHx8IHNoYXJlZE9mZnNldCA+PSA4MDAwIC8qIGFsbG9jVG90YWwgKi8pIHtcbiAgICAgICAgICAgIHNoYXJlZEJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcig4MDAwIC8qIGFsbG9jVG90YWwgKi8pO1xuICAgICAgICAgICAgc2hhcmVkT2Zmc2V0ID0gMDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9ieXRlID0gbmV3IFVpbnQ4QXJyYXkoc2hhcmVkQnVmZmVyLCBzaGFyZWRPZmZzZXQsIDgwIC8qIGFsbG9jQnl0ZXMgKi8pO1xuICAgICAgICB0aGlzLl93b3JkID0gbmV3IEludDMyQXJyYXkoc2hhcmVkQnVmZmVyLCBzaGFyZWRPZmZzZXQsIDIwIC8qIGFsbG9jV29yZHMgKi8pO1xuICAgICAgICBzaGFyZWRPZmZzZXQgKz0gODAgLyogYWxsb2NCeXRlcyAqLztcbiAgICB9XG4gICAgdXBkYXRlKGRhdGEpIHtcbiAgICAgICAgLy8gZGF0YTogc3RyaW5nXG4gICAgICAgIGlmIChcInN0cmluZ1wiID09PSB0eXBlb2YgZGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3V0ZjgoZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZGF0YTogdW5kZWZpbmVkXG4gICAgICAgIGlmIChkYXRhID09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIHR5cGU6IFwiICsgdHlwZW9mIGRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGJ5dGVPZmZzZXQgPSBkYXRhLmJ5dGVPZmZzZXQ7XG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IGRhdGEuYnl0ZUxlbmd0aDtcbiAgICAgICAgbGV0IGJsb2NrcyA9IChsZW5ndGggLyA2NCAvKiBpbnB1dEJ5dGVzICovKSB8IDA7XG4gICAgICAgIGxldCBvZmZzZXQgPSAwO1xuICAgICAgICAvLyBsb25nZXIgdGhhbiAxIGJsb2NrXG4gICAgICAgIGlmIChibG9ja3MgJiYgIShieXRlT2Zmc2V0ICYgMykgJiYgISh0aGlzLl9zaXplICUgNjQgLyogaW5wdXRCeXRlcyAqLykpIHtcbiAgICAgICAgICAgIGNvbnN0IGJsb2NrID0gbmV3IEludDMyQXJyYXkoZGF0YS5idWZmZXIsIGJ5dGVPZmZzZXQsIGJsb2NrcyAqIDE2IC8qIGlucHV0V29yZHMgKi8pO1xuICAgICAgICAgICAgd2hpbGUgKGJsb2Nrcy0tKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5faW50MzIoYmxvY2ssIG9mZnNldCA+PiAyKTtcbiAgICAgICAgICAgICAgICBvZmZzZXQgKz0gNjQgLyogaW5wdXRCeXRlcyAqLztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3NpemUgKz0gb2Zmc2V0O1xuICAgICAgICB9XG4gICAgICAgIC8vIGRhdGE6IFR5cGVkQXJyYXkgfCBEYXRhVmlld1xuICAgICAgICBjb25zdCBCWVRFU19QRVJfRUxFTUVOVCA9IGRhdGEuQllURVNfUEVSX0VMRU1FTlQ7XG4gICAgICAgIGlmIChCWVRFU19QRVJfRUxFTUVOVCAhPT0gMSAmJiBkYXRhLmJ1ZmZlcikge1xuICAgICAgICAgICAgY29uc3QgcmVzdCA9IG5ldyBVaW50OEFycmF5KGRhdGEuYnVmZmVyLCBieXRlT2Zmc2V0ICsgb2Zmc2V0LCBsZW5ndGggLSBvZmZzZXQpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3VpbnQ4KHJlc3QpO1xuICAgICAgICB9XG4gICAgICAgIC8vIG5vIG1vcmUgYnl0ZXNcbiAgICAgICAgaWYgKG9mZnNldCA9PT0gbGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIC8vIGRhdGE6IFVpbnQ4QXJyYXkgfCBJbnQ4QXJyYXlcbiAgICAgICAgcmV0dXJuIHRoaXMuX3VpbnQ4KGRhdGEsIG9mZnNldCk7XG4gICAgfVxuICAgIF91aW50OChkYXRhLCBvZmZzZXQpIHtcbiAgICAgICAgY29uc3QgeyBfYnl0ZSwgX3dvcmQgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IGRhdGEubGVuZ3RoO1xuICAgICAgICBvZmZzZXQgPSBvZmZzZXQgfCAwO1xuICAgICAgICB3aGlsZSAob2Zmc2V0IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgICBjb25zdCBzdGFydCA9IHRoaXMuX3NpemUgJSA2NCAvKiBpbnB1dEJ5dGVzICovO1xuICAgICAgICAgICAgbGV0IGluZGV4ID0gc3RhcnQ7XG4gICAgICAgICAgICB3aGlsZSAob2Zmc2V0IDwgbGVuZ3RoICYmIGluZGV4IDwgNjQgLyogaW5wdXRCeXRlcyAqLykge1xuICAgICAgICAgICAgICAgIF9ieXRlW2luZGV4KytdID0gZGF0YVtvZmZzZXQrK107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaW5kZXggPj0gNjQgLyogaW5wdXRCeXRlcyAqLykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ludDMyKF93b3JkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3NpemUgKz0gaW5kZXggLSBzdGFydDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgX3V0ZjgodGV4dCkge1xuICAgICAgICBjb25zdCB7IF9ieXRlLCBfd29yZCB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgbGVuZ3RoID0gdGV4dC5sZW5ndGg7XG4gICAgICAgIGxldCBzdXJyb2dhdGUgPSB0aGlzLl9zcDtcbiAgICAgICAgZm9yIChsZXQgb2Zmc2V0ID0gMDsgb2Zmc2V0IDwgbGVuZ3RoOykge1xuICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSB0aGlzLl9zaXplICUgNjQgLyogaW5wdXRCeXRlcyAqLztcbiAgICAgICAgICAgIGxldCBpbmRleCA9IHN0YXJ0O1xuICAgICAgICAgICAgd2hpbGUgKG9mZnNldCA8IGxlbmd0aCAmJiBpbmRleCA8IDY0IC8qIGlucHV0Qnl0ZXMgKi8pIHtcbiAgICAgICAgICAgICAgICBsZXQgY29kZSA9IHRleHQuY2hhckNvZGVBdChvZmZzZXQrKykgfCAwO1xuICAgICAgICAgICAgICAgIGlmIChjb2RlIDwgMHg4MCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBBU0NJSSBjaGFyYWN0ZXJzXG4gICAgICAgICAgICAgICAgICAgIF9ieXRlW2luZGV4KytdID0gY29kZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoY29kZSA8IDB4ODAwKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIDIgYnl0ZXNcbiAgICAgICAgICAgICAgICAgICAgX2J5dGVbaW5kZXgrK10gPSAweEMwIHwgKGNvZGUgPj4+IDYpO1xuICAgICAgICAgICAgICAgICAgICBfYnl0ZVtpbmRleCsrXSA9IDB4ODAgfCAoY29kZSAmIDB4M0YpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChjb2RlIDwgMHhEODAwIHx8IGNvZGUgPiAweERGRkYpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gMyBieXRlc1xuICAgICAgICAgICAgICAgICAgICBfYnl0ZVtpbmRleCsrXSA9IDB4RTAgfCAoY29kZSA+Pj4gMTIpO1xuICAgICAgICAgICAgICAgICAgICBfYnl0ZVtpbmRleCsrXSA9IDB4ODAgfCAoKGNvZGUgPj4+IDYpICYgMHgzRik7XG4gICAgICAgICAgICAgICAgICAgIF9ieXRlW2luZGV4KytdID0gMHg4MCB8IChjb2RlICYgMHgzRik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHN1cnJvZ2F0ZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyA0IGJ5dGVzIC0gc3Vycm9nYXRlIHBhaXJcbiAgICAgICAgICAgICAgICAgICAgY29kZSA9ICgoc3Vycm9nYXRlICYgMHgzRkYpIDw8IDEwKSArIChjb2RlICYgMHgzRkYpICsgMHgxMDAwMDtcbiAgICAgICAgICAgICAgICAgICAgX2J5dGVbaW5kZXgrK10gPSAweEYwIHwgKGNvZGUgPj4+IDE4KTtcbiAgICAgICAgICAgICAgICAgICAgX2J5dGVbaW5kZXgrK10gPSAweDgwIHwgKChjb2RlID4+PiAxMikgJiAweDNGKTtcbiAgICAgICAgICAgICAgICAgICAgX2J5dGVbaW5kZXgrK10gPSAweDgwIHwgKChjb2RlID4+PiA2KSAmIDB4M0YpO1xuICAgICAgICAgICAgICAgICAgICBfYnl0ZVtpbmRleCsrXSA9IDB4ODAgfCAoY29kZSAmIDB4M0YpO1xuICAgICAgICAgICAgICAgICAgICBzdXJyb2dhdGUgPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc3Vycm9nYXRlID0gY29kZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaW5kZXggPj0gNjQgLyogaW5wdXRCeXRlcyAqLykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ludDMyKF93b3JkKTtcbiAgICAgICAgICAgICAgICBfd29yZFswXSA9IF93b3JkWzE2IC8qIGlucHV0V29yZHMgKi9dO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fc2l6ZSArPSBpbmRleCAtIHN0YXJ0O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3NwID0gc3Vycm9nYXRlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgX2ludDMyKGRhdGEsIG9mZnNldCkge1xuICAgICAgICBsZXQgeyBBLCBCLCBDLCBELCBFLCBGLCBHLCBIIH0gPSB0aGlzO1xuICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgIG9mZnNldCA9IG9mZnNldCB8IDA7XG4gICAgICAgIHdoaWxlIChpIDwgMTYgLyogaW5wdXRXb3JkcyAqLykge1xuICAgICAgICAgICAgV1tpKytdID0gc3dhcDMyKGRhdGFbb2Zmc2V0KytdKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGkgPSAxNiAvKiBpbnB1dFdvcmRzICovOyBpIDwgNjQgLyogd29ya1dvcmRzICovOyBpKyspIHtcbiAgICAgICAgICAgIFdbaV0gPSAoZ2FtbWExKFdbaSAtIDJdKSArIFdbaSAtIDddICsgZ2FtbWEwKFdbaSAtIDE1XSkgKyBXW2kgLSAxNl0pIHwgMDtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgNjQgLyogd29ya1dvcmRzICovOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IFQxID0gKEggKyBzaWdtYTEoRSkgKyBjaChFLCBGLCBHKSArIEtbaV0gKyBXW2ldKSB8IDA7XG4gICAgICAgICAgICBjb25zdCBUMiA9IChzaWdtYTAoQSkgKyBtYWooQSwgQiwgQykpIHwgMDtcbiAgICAgICAgICAgIEggPSBHO1xuICAgICAgICAgICAgRyA9IEY7XG4gICAgICAgICAgICBGID0gRTtcbiAgICAgICAgICAgIEUgPSAoRCArIFQxKSB8IDA7XG4gICAgICAgICAgICBEID0gQztcbiAgICAgICAgICAgIEMgPSBCO1xuICAgICAgICAgICAgQiA9IEE7XG4gICAgICAgICAgICBBID0gKFQxICsgVDIpIHwgMDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLkEgPSAoQSArIHRoaXMuQSkgfCAwO1xuICAgICAgICB0aGlzLkIgPSAoQiArIHRoaXMuQikgfCAwO1xuICAgICAgICB0aGlzLkMgPSAoQyArIHRoaXMuQykgfCAwO1xuICAgICAgICB0aGlzLkQgPSAoRCArIHRoaXMuRCkgfCAwO1xuICAgICAgICB0aGlzLkUgPSAoRSArIHRoaXMuRSkgfCAwO1xuICAgICAgICB0aGlzLkYgPSAoRiArIHRoaXMuRikgfCAwO1xuICAgICAgICB0aGlzLkcgPSAoRyArIHRoaXMuRykgfCAwO1xuICAgICAgICB0aGlzLkggPSAoSCArIHRoaXMuSCkgfCAwO1xuICAgIH1cbiAgICBkaWdlc3QoZW5jb2RpbmcpIHtcbiAgICAgICAgY29uc3QgeyBfYnl0ZSwgX3dvcmQgfSA9IHRoaXM7XG4gICAgICAgIGxldCBpID0gKHRoaXMuX3NpemUgJSA2NCAvKiBpbnB1dEJ5dGVzICovKSB8IDA7XG4gICAgICAgIF9ieXRlW2krK10gPSAweDgwO1xuICAgICAgICAvLyBwYWQgMCBmb3IgY3VycmVudCB3b3JkXG4gICAgICAgIHdoaWxlIChpICYgMykge1xuICAgICAgICAgICAgX2J5dGVbaSsrXSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgaSA+Pj0gMjtcbiAgICAgICAgaWYgKGkgPiAxNCAvKiBoaWdoSW5kZXggKi8pIHtcbiAgICAgICAgICAgIHdoaWxlIChpIDwgMTYgLyogaW5wdXRXb3JkcyAqLykge1xuICAgICAgICAgICAgICAgIF93b3JkW2krK10gPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaSA9IDA7XG4gICAgICAgICAgICB0aGlzLl9pbnQzMihfd29yZCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcGFkIDAgZm9yIHJlc3Qgd29yZHNcbiAgICAgICAgd2hpbGUgKGkgPCAxNiAvKiBpbnB1dFdvcmRzICovKSB7XG4gICAgICAgICAgICBfd29yZFtpKytdID0gMDtcbiAgICAgICAgfVxuICAgICAgICAvLyBpbnB1dCBzaXplXG4gICAgICAgIGNvbnN0IGJpdHM2NCA9IHRoaXMuX3NpemUgKiA4O1xuICAgICAgICBjb25zdCBsb3czMiA9IChiaXRzNjQgJiAweGZmZmZmZmZmKSA+Pj4gMDtcbiAgICAgICAgY29uc3QgaGlnaDMyID0gKGJpdHM2NCAtIGxvdzMyKSAvIDB4MTAwMDAwMDAwO1xuICAgICAgICBpZiAoaGlnaDMyKVxuICAgICAgICAgICAgX3dvcmRbMTQgLyogaGlnaEluZGV4ICovXSA9IHN3YXAzMihoaWdoMzIpO1xuICAgICAgICBpZiAobG93MzIpXG4gICAgICAgICAgICBfd29yZFsxNSAvKiBsb3dJbmRleCAqL10gPSBzd2FwMzIobG93MzIpO1xuICAgICAgICB0aGlzLl9pbnQzMihfd29yZCk7XG4gICAgICAgIHJldHVybiAoZW5jb2RpbmcgPT09IFwiaGV4XCIpID8gdGhpcy5faGV4KCkgOiB0aGlzLl9iaW4oKTtcbiAgICB9XG4gICAgX2hleCgpIHtcbiAgICAgICAgY29uc3QgeyBBLCBCLCBDLCBELCBFLCBGLCBHLCBIIH0gPSB0aGlzO1xuICAgICAgICByZXR1cm4gaGV4MzIoQSkgKyBoZXgzMihCKSArIGhleDMyKEMpICsgaGV4MzIoRCkgKyBoZXgzMihFKSArIGhleDMyKEYpICsgaGV4MzIoRykgKyBoZXgzMihIKTtcbiAgICB9XG4gICAgX2JpbigpIHtcbiAgICAgICAgY29uc3QgeyBBLCBCLCBDLCBELCBFLCBGLCBHLCBILCBfYnl0ZSwgX3dvcmQgfSA9IHRoaXM7XG4gICAgICAgIF93b3JkWzBdID0gc3dhcDMyKEEpO1xuICAgICAgICBfd29yZFsxXSA9IHN3YXAzMihCKTtcbiAgICAgICAgX3dvcmRbMl0gPSBzd2FwMzIoQyk7XG4gICAgICAgIF93b3JkWzNdID0gc3dhcDMyKEQpO1xuICAgICAgICBfd29yZFs0XSA9IHN3YXAzMihFKTtcbiAgICAgICAgX3dvcmRbNV0gPSBzd2FwMzIoRik7XG4gICAgICAgIF93b3JkWzZdID0gc3dhcDMyKEcpO1xuICAgICAgICBfd29yZFs3XSA9IHN3YXAzMihIKTtcbiAgICAgICAgcmV0dXJuIF9ieXRlLnNsaWNlKDAsIDMyKTtcbiAgICB9XG59XG5leHBvcnRzLkhhc2ggPSBIYXNoO1xuY29uc3QgVyA9IG5ldyBJbnQzMkFycmF5KDY0IC8qIHdvcmtXb3JkcyAqLyk7XG5sZXQgc2hhcmVkQnVmZmVyO1xubGV0IHNoYXJlZE9mZnNldCA9IDA7XG5jb25zdCBoZXgzMiA9IG51bSA9PiAobnVtICsgMHgxMDAwMDAwMDApLnRvU3RyaW5nKDE2KS5zdWJzdHIoLTgpO1xuY29uc3Qgc3dhcExFID0gKGMgPT4gKCgoYyA8PCAyNCkgJiAweGZmMDAwMDAwKSB8ICgoYyA8PCA4KSAmIDB4ZmYwMDAwKSB8ICgoYyA+PiA4KSAmIDB4ZmYwMCkgfCAoKGMgPj4gMjQpICYgMHhmZikpKTtcbmNvbnN0IHN3YXBCRSA9IChjID0+IGMpO1xuY29uc3Qgc3dhcDMyID0gaXNCRSgpID8gc3dhcEJFIDogc3dhcExFO1xuY29uc3QgY2ggPSAoeCwgeSwgeikgPT4gKHogXiAoeCAmICh5IF4geikpKTtcbmNvbnN0IG1haiA9ICh4LCB5LCB6KSA9PiAoKHggJiB5KSB8ICh6ICYgKHggfCB5KSkpO1xuY29uc3Qgc2lnbWEwID0geCA9PiAoKHggPj4+IDIgfCB4IDw8IDMwKSBeICh4ID4+PiAxMyB8IHggPDwgMTkpIF4gKHggPj4+IDIyIHwgeCA8PCAxMCkpO1xuY29uc3Qgc2lnbWExID0geCA9PiAoKHggPj4+IDYgfCB4IDw8IDI2KSBeICh4ID4+PiAxMSB8IHggPDwgMjEpIF4gKHggPj4+IDI1IHwgeCA8PCA3KSk7XG5jb25zdCBnYW1tYTAgPSB4ID0+ICgoeCA+Pj4gNyB8IHggPDwgMjUpIF4gKHggPj4+IDE4IHwgeCA8PCAxNCkgXiAoeCA+Pj4gMykpO1xuY29uc3QgZ2FtbWExID0geCA9PiAoKHggPj4+IDE3IHwgeCA8PCAxNSkgXiAoeCA+Pj4gMTkgfCB4IDw8IDEzKSBeICh4ID4+PiAxMCkpO1xuZnVuY3Rpb24gaXNCRSgpIHtcbiAgICBjb25zdCBidWYgPSBuZXcgVWludDhBcnJheShuZXcgVWludDE2QXJyYXkoWzB4RkVGRl0pLmJ1ZmZlcik7IC8vIEJPTVxuICAgIHJldHVybiAoYnVmWzBdID09PSAweEZFKTtcbn1cbiIsImltcG9ydCB0eXBlIHsgSnNvblZhbHVlIH0gZnJvbSAnIy91dGlsL2JlbHQnO1xuaW1wb3J0IHsgaW5zdGFudGlhdGVSaXBlbWQxNjAsIGluc3RhbnRpYXRlU2hhMjU2LCBSaXBlbWQxNjAsIFNoYTI1NiB9IGZyb20gJ0Bzb2xhci1yZXB1YmxpYy93YXNtLXNlY3AyNTZrMSc7XG5pbXBvcnQgeyBjcmVhdGVIYXNoIH0gZnJvbSAnc2hhMjU2LXVpbnQ4YXJyYXknO1xuXG4vKipcbiAqIFBlcmZvcm1zIFNIQS0yNTYgaGFzaCBvbiB0aGUgZ2l2ZW4gZGF0YS5cbiAqIEBwYXJhbSBhdHU4X2RhdGEgZGF0YSB0byBoYXNoXG4gKiBAcmV0dXJucyB0aGUgaGFzaCBkaWdlc3RcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNoYTI1NihhdHU4X2RhdGE6IFVpbnQ4QXJyYXkpOiBQcm9taXNlPFVpbnQ4QXJyYXk+IHtcblx0cmV0dXJuIG5ldyBVaW50OEFycmF5KGF3YWl0IGNyeXB0by5zdWJ0bGUuZGlnZXN0KCdTSEEtMjU2JywgYXR1OF9kYXRhKSk7XG59XG5cblxuLypcbiogUGVyZm9ybXMgU0hBLTI1NiBoYXNoIG9uIHRoZSBnaXZlbiBkYXRhIHN5bmNocm9ub3VzbHkgKG9ubHkgc3VpdGFibGUgZm9yIG5vbi1zZWN1cmUgYXBwbGljYXRpb25zKS5cbiogQHBhcmFtIGF0dThfZGF0YSBkYXRhIHRvIGhhc2hcbiogQHJldHVybnMgdGhlIGhhc2ggZGlnZXN0XG4qL1xuZXhwb3J0IGNvbnN0IHNoYTI1Nl9zeW5jX2luc2VjdXJlID0gKGF0dThfZGF0YTogVWludDhBcnJheSk6IFVpbnQ4QXJyYXkgPT4gY3JlYXRlSGFzaCgpLnVwZGF0ZShhdHU4X2RhdGEpLmRpZ2VzdCgpO1xuXG5cbmxldCB5X3NoYTI1NjogU2hhMjU2O1xudm9pZCBpbnN0YW50aWF0ZVNoYTI1NigpLnRoZW4oeSA9PiB5X3NoYTI1NiA9IHkpO1xuXG4vKlxuKiBQZXJmb3JtcyBTSEEtMjU2IGhhc2ggb24gdGhlIGdpdmVuIGRhdGEgc3luY2hyb25vdXNseVxuKiBAcGFyYW0gYXR1OF9kYXRhIGRhdGEgdG8gaGFzaFxuKiBAcmV0dXJucyB0aGUgaGFzaCBkaWdlc3RcbiovXG5leHBvcnQgY29uc3Qgc2hhMjU2X3N5bmMgPSAoYXR1OF9kYXRhOiBVaW50OEFycmF5KTogVWludDhBcnJheSA9PiB5X3NoYTI1Ni5maW5hbCh5X3NoYTI1Ni51cGRhdGUoeV9zaGEyNTYuaW5pdCgpLCBhdHU4X2RhdGEpKTtcblxubGV0IHlfcmlwZW1kOiBSaXBlbWQxNjA7XG52b2lkIGluc3RhbnRpYXRlUmlwZW1kMTYwKCkudGhlbih5ID0+IHlfcmlwZW1kID0geSk7XG5leHBvcnQgY29uc3QgcmlwZW1kMTYwX3N5bmMgPSAoYXR1OF9kYXRhOiBVaW50OEFycmF5KTogVWludDhBcnJheSA9PiB5X3JpcGVtZC5maW5hbCh5X3JpcGVtZC51cGRhdGUoeV9yaXBlbWQuaW5pdCgpLCBhdHU4X2RhdGEpKTtcblxuLyoqXG4gKiBQZXJmb3JtcyBTSEEtNTEyIGhhc2ggb24gdGhlIGdpdmVuIGRhdGEuXG4gKiBAcGFyYW0gYXR1OF9kYXRhIGRhdGEgdG8gaGFzaFxuICogQHJldHVybnMgdGhlIGhhc2ggZGlnZXN0XG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzaGE1MTIoYXR1OF9kYXRhOiBVaW50OEFycmF5KTogUHJvbWlzZTxVaW50OEFycmF5PiB7XG5cdHJldHVybiBuZXcgVWludDhBcnJheShhd2FpdCBjcnlwdG8uc3VidGxlLmRpZ2VzdCgnU0hBLTUxMicsIGF0dThfZGF0YSkpO1xufVxuXG5cbi8qKlxuICogUGVyZm9ybXMgSE1BQyBzaWduaW5nIG9mIHRoZSBnaXZlbiBtZXNzYWdlLCAqKm5vdCB0aGUgZGlnZXN0KiouXG4gKiBAcGFyYW0gYXR1OF9zayBwcml2YXRlIGtleVxuICogQHBhcmFtIGF0dThfbWVzc2FnZSBtZXNzYWdlIHRvIHNpZ24sICoqbm90IHRoZSBkaWdlc3QqKi5cbiAqIEByZXR1cm5zIEhNQUMgc2lnbmF0dXJlXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBobWFjKGF0dThfc2s6IFVpbnQ4QXJyYXksIGF0dThfbWVzc2FnZTogVWludDhBcnJheSwgc2lfYWxnbzogJ1NIQS0yNTYnfCdTSEEtNTEyJz0nU0hBLTI1NicpOiBQcm9taXNlPFVpbnQ4QXJyYXk+IHtcblx0Ly8gaW1wb3J0IHNpZ25pbmcgcHJpdmF0ZSBrZXlcblx0Y29uc3QgZGtfc2lnbiA9IGF3YWl0IGNyeXB0by5zdWJ0bGUuaW1wb3J0S2V5KCdyYXcnLCBhdHU4X3NrLCB7XG5cdFx0bmFtZTogJ0hNQUMnLFxuXHRcdGhhc2g6IHtuYW1lOnNpX2FsZ299LFxuXHR9LCBmYWxzZSwgWydzaWduJ10pO1xuXG5cdC8vIGNvbnN0cnVjdCBobWFjIHNpZ25hdHVyZVxuXHRyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoYXdhaXQgY3J5cHRvLnN1YnRsZS5zaWduKCdITUFDJywgZGtfc2lnbiwgYXR1OF9tZXNzYWdlKSk7XG59XG5cblxuLyoqXG4gKiBXaXBlIHRoZSBjb250ZW50cyBvZiBhIGJ1ZmZlciBzbyB0aGF0IHNlbnNpdGl2ZSBkYXRhIGRvZXMgbm90IG91dGxpdmUgZ2FyYmFnZSBjb2xsZWN0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gemVyb19vdXQoYXR1OF9kYXRhOiBudW1iZXJbXSB8IFVpbnQ4QXJyYXkpOiB2b2lkIHtcblx0Ly8gb3ZlcndyaXRlIHRoZSBjb250ZW50c1xuXHRhdHU4X2RhdGEuZmlsbCgwKTtcblxuXHQvLyBtYWtlIHN1cmUgdGhlIGVuZ2luZSBkb2VzIG5vdCBvcHRpbWl6ZSBhd2F5IHRoZSBhYm92ZSBtZW1vcnkgd2lwZSBpbnN0cnVjdGlvblxuXHQvLyBAdHMtZXhwZWN0LWVycm9yIHNpZ25hdHVyZSBJUyBjb21wYXRpYmxlIHdpdGggYm90aCB0eXBlc1xuXHRpZigwICE9PSBhdHU4X2RhdGEucmVkdWNlKChjLCB4KSA9PiBjICsgeCwgMCkpIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIHplcm8gb3V0IHNlbnNpdGl2ZSBtZW1vcnkgcmVnaW9uJyk7XG59XG5cblxuLyoqXG4gKiBVVEYtOCBlbmNvZGVzIHRoZSBnaXZlbiB0ZXh0IHRvIGFuIFVpbnQ4QXJyYXkuXG4gKiBAcGFyYW0gc190ZXh0IHRleHQgdG8gZW5jb2RlXG4gKiBAcmV0dXJucyBVVEYtOCBlbmNvZGVkIFVpbnQ4QXJyYXlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRleHRfdG9fYnVmZmVyKHNfdGV4dDogc3RyaW5nKTogVWludDhBcnJheSB7XG5cdHJldHVybiBuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUoc190ZXh0KTtcbn1cblxuXG4vKipcbiAqIFVURi04IGRlY29kZXMgdGhlIGdpdmVuIFVpbnQ4QXJyYXkgdG8gdGV4dC5cbiAqIEBwYXJhbSBhdHU4X3RleHQgVVRGLTggZW5jb2RlZCBkYXRhIHRvIGRlY29kZVxuICogQHJldHVybnMgdGV4dFxuICovXG5leHBvcnQgZnVuY3Rpb24gYnVmZmVyX3RvX3RleHQoYXR1OF90ZXh0OiBVaW50OEFycmF5KTogc3RyaW5nIHtcblx0cmV0dXJuIG5ldyBUZXh0RGVjb2RlcigpLmRlY29kZShhdHU4X3RleHQpO1xufVxuXG5cbi8qKlxuICogQXR0ZW1wdHMgdG8gSlNPTiBzdHJpbmdpZnkgdGhlIGdpdmVuIHByaW1pdGl2ZS9vYmplY3QgYW5kIHN1YnNlcXVlbnRseSBVVEYtOCBlbmNvZGUgaXQuXG4gKiBAcGFyYW0gd19qc29uIEpTT04tY29tcGF0aWJsZSB2YWx1ZSB0byBlbmNvZGVcbiAqIEByZXR1cm5zIFVURi04IGVuY29kZWQgVWludDhBcnJheVxuICovXG5leHBvcnQgZnVuY3Rpb24ganNvbl90b19idWZmZXIod19qc29uOiBKc29uVmFsdWUpOiBVaW50OEFycmF5IHtcblx0cmV0dXJuIHRleHRfdG9fYnVmZmVyKEpTT04uc3RyaW5naWZ5KHdfanNvbikpO1xufVxuXG5cbi8qKlxuICogVVRGLTggZGVjb2RlcyB0aGUgZ2l2ZW4gVWludDhBcnJheSBhbmQgc3Vic2VxdWVudGx5IGF0dGVtcHRzIHRvIEpTT04gcGFyc2UgaXQuXG4gKiBAcGFyYW0gYXR1OF9qc29uIFVURi04IGVuY29kZWQgSlNPTiBzdHJpbmcgZGF0YVxuICogQHJldHVybnMgcGFyc2VkIEpTT04gdmFsdWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJ1ZmZlcl90b19qc29uKGF0dThfanNvbjogVWludDhBcnJheSk6IEpzb25WYWx1ZSB7XG5cdHJldHVybiBKU09OLnBhcnNlKGJ1ZmZlcl90b190ZXh0KGF0dThfanNvbikpO1xufVxuXG5cbi8qKlxuICogQ29uY2F0ZW5hdGUgYSBzZXF1ZW5jZSBvZiBVaW50OEFycmF5cy5cbiAqIEBwYXJhbSBhX2J1ZmZlcnMgdGhlIGRhdGEgdG8gY29uY2F0ZW5hdGUgaW4gb3JkZXJcbiAqIEByZXR1cm5zIHRoZSBjb25jYXRlbmF0ZWQgb3V0cHV0IFVpbnQ4QXJyYXlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbmNhdChhX2J1ZmZlcnM6IFVpbnQ4QXJyYXlbXSk6IFVpbnQ4QXJyYXkge1xuXHRjb25zdCBuYl9vdXQgPSBhX2J1ZmZlcnMucmVkdWNlKChjX2J5dGVzLCBhdHU4X2VhY2gpID0+IGNfYnl0ZXMgKyBhdHU4X2VhY2guYnl0ZUxlbmd0aCwgMCk7XG5cdGNvbnN0IGF0dThfb3V0ID0gbmV3IFVpbnQ4QXJyYXkobmJfb3V0KTtcblx0bGV0IGliX3dyaXRlID0gMDtcblx0Zm9yKGNvbnN0IGF0dThfZWFjaCBvZiBhX2J1ZmZlcnMpIHtcblx0XHRhdHU4X291dC5zZXQoYXR1OF9lYWNoLCBpYl93cml0ZSk7XG5cdFx0aWJfd3JpdGUgKz0gYXR1OF9lYWNoLmJ5dGVMZW5ndGg7XG5cdH1cblx0cmV0dXJuIGF0dThfb3V0O1xufVxuXG5cbi8vIGNhY2hlIGZ1bmN0aW9uIHJlZmVyZW5jZVxuY29uc3Qgc2ZjYyA9IFN0cmluZy5mcm9tQ2hhckNvZGU7XG5cbi8qKlxuICogQ29udmVydHMgdGhlIGdpdmVuIGJ1ZmZlciB0byBhIGhleCBzdHJpbmcgZm9ybWF0LlxuICogQHBhcmFtIGF0dThfYnVmZmVyIGlucHV0IGJ1ZmZlclxuICogQHJldHVybnMgb3V0cHV0IGhleCBzdHJpbmdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJ1ZmZlcl90b19oZXgoYXR1OF9idWZmZXI6IFVpbnQ4QXJyYXkpOiBzdHJpbmcge1xuXHRsZXQgc3hfaGV4ID0gJyc7XG5cdGZvcihjb25zdCB4Yl9ieXRlIG9mIGF0dThfYnVmZmVyKSB7XG5cdFx0c3hfaGV4ICs9IHhiX2J5dGUudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDIsICcwJyk7XG5cdH1cblxuXHRyZXR1cm4gc3hfaGV4O1xufVxuXG5cbi8qKlxuICogQ29udmVydHMgdGhlIGdpdmVuIGhleCBzdHJpbmcgaW50byBhIGJ1ZmZlci5cbiAqIEBwYXJhbSBzeF9oZXggaW5wdXQgaGV4IHN0cmluZ1xuICogQHJldHVybnMgb3V0cHV0IGJ1ZmZlclxuICovXG5leHBvcnQgZnVuY3Rpb24gaGV4X3RvX2J1ZmZlcihzeF9oZXg6IHN0cmluZyk6IFVpbnQ4QXJyYXkge1xuXHRjb25zdCBubF9oZXggPSBzeF9oZXgubGVuZ3RoO1xuXHRpZigwICE9PSBubF9oZXggJSAyKSB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgaGV4IHN0cmluZyBsZW5ndGggaXMgbm90IGEgbXVsdGlwbGUgb2YgMmApO1xuXHRjb25zdCBuYl9idWZmZXIgPSBubF9oZXggLyAyO1xuXHRjb25zdCBhdHU4X2J1ZmZlciA9IG5ldyBVaW50OEFycmF5KG5iX2J1ZmZlcik7XG5cdGZvcihsZXQgaV9ieXRlPTA7IGlfYnl0ZTxuYl9idWZmZXI7IGlfYnl0ZSsrKSB7XG5cdFx0YXR1OF9idWZmZXJbaV9ieXRlXSA9IHBhcnNlSW50KHN4X2hleC5zbGljZShpX2J5dGUraV9ieXRlLCBpX2J5dGUraV9ieXRlKzIpLCAxNik7XG5cdH1cblxuXHRyZXR1cm4gYXR1OF9idWZmZXI7XG59XG5cblxuLyoqXG4gKiBDb252ZXJ0cyB0aGUgZ2l2ZW4gYnVmZmVyIHRvIGEgYmFzZTY0LWVuY29kZWQgc3RyaW5nLlxuICogQHBhcmFtIGF0dThfYnVmZmVyIGlucHV0IGJ1ZmZlclxuICogQHJldHVybnMgb3V0cHV0IGJhc2U2NC1lbmNvZGVkIHN0cmluZ1xuICovXG5leHBvcnQgZnVuY3Rpb24gYnVmZmVyX3RvX2Jhc2U2NChhdHU4X2J1ZmZlcjogVWludDhBcnJheSk6IHN0cmluZyB7XG5cdHJldHVybiBnbG9iYWxUaGlzLmJ0b2EoYnVmZmVyX3RvX3N0cmluZzgoYXR1OF9idWZmZXIpKTtcbn1cblxuXG4vKipcbiAqIENvbnZlcnRzIHRoZSBnaXZlbiBiYXNlNjQtZW5jb2RlZCBzdHJpbmcgdG8gYSBidWZmZXIuXG4gKiBAcGFyYW0gc3hfYnVmZmVyIGlucHV0IGJhc2U2NC1lbmNvZGVkIHN0cmluZ1xuICogQHJldHVybnMgb3V0cHV0IGJ1ZmZlclxuICovXG5leHBvcnQgZnVuY3Rpb24gYmFzZTY0X3RvX2J1ZmZlcihzeF9idWZmZXI6IHN0cmluZyk6IFVpbnQ4QXJyYXkge1xuXHRyZXR1cm4gc3RyaW5nOF90b19idWZmZXIoZ2xvYmFsVGhpcy5hdG9iKHN4X2J1ZmZlcikpO1xufVxuXG5cbi8qKlxuICogQ29udmVydHMgdGhlIGdpdmVuIGJ1ZmZlciB0byBhIFVURi04IGZyaWVuZGx5IGNvbXBhY3Qgc3RyaW5nLlxuICogQHBhcmFtIGF0dThfYnVmZmVyIGlucHV0IGJ1ZmZlclxuICogQHJldHVybnMgb3V0cHV0IHN0cmluZ1xuICovXG5leHBvcnQgZnVuY3Rpb24gYnVmZmVyX3RvX3N0cmluZzgoYXR1OF9idWZmZXI6IFVpbnQ4QXJyYXkpOiBzdHJpbmcge1xuXHQvLyBiZW5jaG1hcmtzIGluZGljYXRlIHN0cmluZyBidWlsZGluZyBwZXJmb3JtcyBiZXR0ZXIgdGhhbiBhcnJheSBtYXAvam9pblxuXHRsZXQgc3hfYnVmZmVyID0gJyc7XG5cdGZvcihjb25zdCB4Yl9ieXRlIG9mIGF0dThfYnVmZmVyKSB7XG5cdFx0c3hfYnVmZmVyICs9IHNmY2MoeGJfYnl0ZSk7XG5cdH1cblxuXHRyZXR1cm4gc3hfYnVmZmVyO1xufVxuXG5cbi8qKlxuICogQ29udmVydHMgdGhlIGdpdmVuIFVURi04IGZyaWVuZGx5IGNvbXBhY3Qgc3RyaW5nIHRvIGEgYnVmZmVyLlxuICogQHBhcmFtIHN4X2J1ZmZlciBpbnB1dCBzdHJpbmdcbiAqIEByZXR1cm5zIG91dHB1dCBidWZmZXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0cmluZzhfdG9fYnVmZmVyKHN4X2J1ZmZlcjogc3RyaW5nKTogVWludDhBcnJheSB7XG5cdGNvbnN0IG5sX3BhaXJzID0gc3hfYnVmZmVyLmxlbmd0aDtcblx0Y29uc3QgYXR1OF9idWZmZXIgPSBuZXcgVWludDhBcnJheShubF9wYWlycyk7XG5cdGZvcihsZXQgaV9yZWFkPTA7IGlfcmVhZDxubF9wYWlyczsgaV9yZWFkKyspIHtcblx0XHRhdHU4X2J1ZmZlcltpX3JlYWRdID0gc3hfYnVmZmVyLmNoYXJDb2RlQXQoaV9yZWFkKTtcblx0fVxuXG5cdHJldHVybiBhdHU4X2J1ZmZlcjtcbn1cbiIsIjsoZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYgKHR5cGVvZiBleHBvcnRzID09PSBcIm9iamVjdFwiKSB7XG5cdFx0Ly8gQ29tbW9uSlNcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdH1cblx0ZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQpIHtcblx0XHQvLyBBTURcblx0XHRkZWZpbmUoW10sIGZhY3RvcnkpO1xuXHR9XG5cdGVsc2Uge1xuXHRcdC8vIEdsb2JhbCAoYnJvd3Nlcilcblx0XHRyb290LkNyeXB0b0pTID0gZmFjdG9yeSgpO1xuXHR9XG59KHRoaXMsIGZ1bmN0aW9uICgpIHtcblxuXHQvKmdsb2JhbHMgd2luZG93LCBnbG9iYWwsIHJlcXVpcmUqL1xuXG5cdC8qKlxuXHQgKiBDcnlwdG9KUyBjb3JlIGNvbXBvbmVudHMuXG5cdCAqL1xuXHR2YXIgQ3J5cHRvSlMgPSBDcnlwdG9KUyB8fCAoZnVuY3Rpb24gKE1hdGgsIHVuZGVmaW5lZCkge1xuXG5cdCAgICB2YXIgY3J5cHRvO1xuXG5cdCAgICAvLyBOYXRpdmUgY3J5cHRvIGZyb20gd2luZG93IChCcm93c2VyKVxuXHQgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5jcnlwdG8pIHtcblx0ICAgICAgICBjcnlwdG8gPSB3aW5kb3cuY3J5cHRvO1xuXHQgICAgfVxuXG5cdCAgICAvLyBOYXRpdmUgY3J5cHRvIGluIHdlYiB3b3JrZXIgKEJyb3dzZXIpXG5cdCAgICBpZiAodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnICYmIHNlbGYuY3J5cHRvKSB7XG5cdCAgICAgICAgY3J5cHRvID0gc2VsZi5jcnlwdG87XG5cdCAgICB9XG5cblx0ICAgIC8vIE5hdGl2ZSBjcnlwdG8gZnJvbSB3b3JrZXJcblx0ICAgIGlmICh0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gJ3VuZGVmaW5lZCcgJiYgZ2xvYmFsVGhpcy5jcnlwdG8pIHtcblx0ICAgICAgICBjcnlwdG8gPSBnbG9iYWxUaGlzLmNyeXB0bztcblx0ICAgIH1cblxuXHQgICAgLy8gTmF0aXZlIChleHBlcmltZW50YWwgSUUgMTEpIGNyeXB0byBmcm9tIHdpbmRvdyAoQnJvd3Nlcilcblx0ICAgIGlmICghY3J5cHRvICYmIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5tc0NyeXB0bykge1xuXHQgICAgICAgIGNyeXB0byA9IHdpbmRvdy5tc0NyeXB0bztcblx0ICAgIH1cblxuXHQgICAgLy8gTmF0aXZlIGNyeXB0byBmcm9tIGdsb2JhbCAoTm9kZUpTKVxuXHQgICAgaWYgKCFjcnlwdG8gJiYgdHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgJiYgZ2xvYmFsLmNyeXB0bykge1xuXHQgICAgICAgIGNyeXB0byA9IGdsb2JhbC5jcnlwdG87XG5cdCAgICB9XG5cblx0ICAgIC8vIE5hdGl2ZSBjcnlwdG8gaW1wb3J0IHZpYSByZXF1aXJlIChOb2RlSlMpXG5cdCAgICBpZiAoIWNyeXB0byAmJiB0eXBlb2YgcmVxdWlyZSA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICAgIHRyeSB7XG5cdCAgICAgICAgICAgIGNyeXB0byA9IHJlcXVpcmUoJ2NyeXB0bycpO1xuXHQgICAgICAgIH0gY2F0Y2ggKGVycikge31cblx0ICAgIH1cblxuXHQgICAgLypcblx0ICAgICAqIENyeXB0b2dyYXBoaWNhbGx5IHNlY3VyZSBwc2V1ZG9yYW5kb20gbnVtYmVyIGdlbmVyYXRvclxuXHQgICAgICpcblx0ICAgICAqIEFzIE1hdGgucmFuZG9tKCkgaXMgY3J5cHRvZ3JhcGhpY2FsbHkgbm90IHNhZmUgdG8gdXNlXG5cdCAgICAgKi9cblx0ICAgIHZhciBjcnlwdG9TZWN1cmVSYW5kb21JbnQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgaWYgKGNyeXB0bykge1xuXHQgICAgICAgICAgICAvLyBVc2UgZ2V0UmFuZG9tVmFsdWVzIG1ldGhvZCAoQnJvd3Nlcilcblx0ICAgICAgICAgICAgaWYgKHR5cGVvZiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzID09PSAnZnVuY3Rpb24nKSB7XG5cdCAgICAgICAgICAgICAgICB0cnkge1xuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50MzJBcnJheSgxKSlbMF07XG5cdCAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHt9XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAvLyBVc2UgcmFuZG9tQnl0ZXMgbWV0aG9kIChOb2RlSlMpXG5cdCAgICAgICAgICAgIGlmICh0eXBlb2YgY3J5cHRvLnJhbmRvbUJ5dGVzID09PSAnZnVuY3Rpb24nKSB7XG5cdCAgICAgICAgICAgICAgICB0cnkge1xuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiBjcnlwdG8ucmFuZG9tQnl0ZXMoNCkucmVhZEludDMyTEUoKTtcblx0ICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge31cblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblxuXHQgICAgICAgIHRocm93IG5ldyBFcnJvcignTmF0aXZlIGNyeXB0byBtb2R1bGUgY291bGQgbm90IGJlIHVzZWQgdG8gZ2V0IHNlY3VyZSByYW5kb20gbnVtYmVyLicpO1xuXHQgICAgfTtcblxuXHQgICAgLypcblx0ICAgICAqIExvY2FsIHBvbHlmaWxsIG9mIE9iamVjdC5jcmVhdGVcblxuXHQgICAgICovXG5cdCAgICB2YXIgY3JlYXRlID0gT2JqZWN0LmNyZWF0ZSB8fCAoZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIGZ1bmN0aW9uIEYoKSB7fVxuXG5cdCAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChvYmopIHtcblx0ICAgICAgICAgICAgdmFyIHN1YnR5cGU7XG5cblx0ICAgICAgICAgICAgRi5wcm90b3R5cGUgPSBvYmo7XG5cblx0ICAgICAgICAgICAgc3VidHlwZSA9IG5ldyBGKCk7XG5cblx0ICAgICAgICAgICAgRi5wcm90b3R5cGUgPSBudWxsO1xuXG5cdCAgICAgICAgICAgIHJldHVybiBzdWJ0eXBlO1xuXHQgICAgICAgIH07XG5cdCAgICB9KCkpO1xuXG5cdCAgICAvKipcblx0ICAgICAqIENyeXB0b0pTIG5hbWVzcGFjZS5cblx0ICAgICAqL1xuXHQgICAgdmFyIEMgPSB7fTtcblxuXHQgICAgLyoqXG5cdCAgICAgKiBMaWJyYXJ5IG5hbWVzcGFjZS5cblx0ICAgICAqL1xuXHQgICAgdmFyIENfbGliID0gQy5saWIgPSB7fTtcblxuXHQgICAgLyoqXG5cdCAgICAgKiBCYXNlIG9iamVjdCBmb3IgcHJvdG90eXBhbCBpbmhlcml0YW5jZS5cblx0ICAgICAqL1xuXHQgICAgdmFyIEJhc2UgPSBDX2xpYi5CYXNlID0gKGZ1bmN0aW9uICgpIHtcblxuXG5cdCAgICAgICAgcmV0dXJuIHtcblx0ICAgICAgICAgICAgLyoqXG5cdCAgICAgICAgICAgICAqIENyZWF0ZXMgYSBuZXcgb2JqZWN0IHRoYXQgaW5oZXJpdHMgZnJvbSB0aGlzIG9iamVjdC5cblx0ICAgICAgICAgICAgICpcblx0ICAgICAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IG92ZXJyaWRlcyBQcm9wZXJ0aWVzIHRvIGNvcHkgaW50byB0aGUgbmV3IG9iamVjdC5cblx0ICAgICAgICAgICAgICpcblx0ICAgICAgICAgICAgICogQHJldHVybiB7T2JqZWN0fSBUaGUgbmV3IG9iamVjdC5cblx0ICAgICAgICAgICAgICpcblx0ICAgICAgICAgICAgICogQHN0YXRpY1xuXHQgICAgICAgICAgICAgKlxuXHQgICAgICAgICAgICAgKiBAZXhhbXBsZVxuXHQgICAgICAgICAgICAgKlxuXHQgICAgICAgICAgICAgKiAgICAgdmFyIE15VHlwZSA9IENyeXB0b0pTLmxpYi5CYXNlLmV4dGVuZCh7XG5cdCAgICAgICAgICAgICAqICAgICAgICAgZmllbGQ6ICd2YWx1ZScsXG5cdCAgICAgICAgICAgICAqXG5cdCAgICAgICAgICAgICAqICAgICAgICAgbWV0aG9kOiBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAqICAgICAgICAgfVxuXHQgICAgICAgICAgICAgKiAgICAgfSk7XG5cdCAgICAgICAgICAgICAqL1xuXHQgICAgICAgICAgICBleHRlbmQ6IGZ1bmN0aW9uIChvdmVycmlkZXMpIHtcblx0ICAgICAgICAgICAgICAgIC8vIFNwYXduXG5cdCAgICAgICAgICAgICAgICB2YXIgc3VidHlwZSA9IGNyZWF0ZSh0aGlzKTtcblxuXHQgICAgICAgICAgICAgICAgLy8gQXVnbWVudFxuXHQgICAgICAgICAgICAgICAgaWYgKG92ZXJyaWRlcykge1xuXHQgICAgICAgICAgICAgICAgICAgIHN1YnR5cGUubWl4SW4ob3ZlcnJpZGVzKTtcblx0ICAgICAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGRlZmF1bHQgaW5pdGlhbGl6ZXJcblx0ICAgICAgICAgICAgICAgIGlmICghc3VidHlwZS5oYXNPd25Qcm9wZXJ0eSgnaW5pdCcpIHx8IHRoaXMuaW5pdCA9PT0gc3VidHlwZS5pbml0KSB7XG5cdCAgICAgICAgICAgICAgICAgICAgc3VidHlwZS5pbml0ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBzdWJ0eXBlLiRzdXBlci5pbml0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdCAgICAgICAgICAgICAgICAgICAgfTtcblx0ICAgICAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAgICAgLy8gSW5pdGlhbGl6ZXIncyBwcm90b3R5cGUgaXMgdGhlIHN1YnR5cGUgb2JqZWN0XG5cdCAgICAgICAgICAgICAgICBzdWJ0eXBlLmluaXQucHJvdG90eXBlID0gc3VidHlwZTtcblxuXHQgICAgICAgICAgICAgICAgLy8gUmVmZXJlbmNlIHN1cGVydHlwZVxuXHQgICAgICAgICAgICAgICAgc3VidHlwZS4kc3VwZXIgPSB0aGlzO1xuXG5cdCAgICAgICAgICAgICAgICByZXR1cm4gc3VidHlwZTtcblx0ICAgICAgICAgICAgfSxcblxuXHQgICAgICAgICAgICAvKipcblx0ICAgICAgICAgICAgICogRXh0ZW5kcyB0aGlzIG9iamVjdCBhbmQgcnVucyB0aGUgaW5pdCBtZXRob2QuXG5cdCAgICAgICAgICAgICAqIEFyZ3VtZW50cyB0byBjcmVhdGUoKSB3aWxsIGJlIHBhc3NlZCB0byBpbml0KCkuXG5cdCAgICAgICAgICAgICAqXG5cdCAgICAgICAgICAgICAqIEByZXR1cm4ge09iamVjdH0gVGhlIG5ldyBvYmplY3QuXG5cdCAgICAgICAgICAgICAqXG5cdCAgICAgICAgICAgICAqIEBzdGF0aWNcblx0ICAgICAgICAgICAgICpcblx0ICAgICAgICAgICAgICogQGV4YW1wbGVcblx0ICAgICAgICAgICAgICpcblx0ICAgICAgICAgICAgICogICAgIHZhciBpbnN0YW5jZSA9IE15VHlwZS5jcmVhdGUoKTtcblx0ICAgICAgICAgICAgICovXG5cdCAgICAgICAgICAgIGNyZWF0ZTogZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgICAgdmFyIGluc3RhbmNlID0gdGhpcy5leHRlbmQoKTtcblx0ICAgICAgICAgICAgICAgIGluc3RhbmNlLmluaXQuYXBwbHkoaW5zdGFuY2UsIGFyZ3VtZW50cyk7XG5cblx0ICAgICAgICAgICAgICAgIHJldHVybiBpbnN0YW5jZTtcblx0ICAgICAgICAgICAgfSxcblxuXHQgICAgICAgICAgICAvKipcblx0ICAgICAgICAgICAgICogSW5pdGlhbGl6ZXMgYSBuZXdseSBjcmVhdGVkIG9iamVjdC5cblx0ICAgICAgICAgICAgICogT3ZlcnJpZGUgdGhpcyBtZXRob2QgdG8gYWRkIHNvbWUgbG9naWMgd2hlbiB5b3VyIG9iamVjdHMgYXJlIGNyZWF0ZWQuXG5cdCAgICAgICAgICAgICAqXG5cdCAgICAgICAgICAgICAqIEBleGFtcGxlXG5cdCAgICAgICAgICAgICAqXG5cdCAgICAgICAgICAgICAqICAgICB2YXIgTXlUeXBlID0gQ3J5cHRvSlMubGliLkJhc2UuZXh0ZW5kKHtcblx0ICAgICAgICAgICAgICogICAgICAgICBpbml0OiBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAqICAgICAgICAgICAgIC8vIC4uLlxuXHQgICAgICAgICAgICAgKiAgICAgICAgIH1cblx0ICAgICAgICAgICAgICogICAgIH0pO1xuXHQgICAgICAgICAgICAgKi9cblx0ICAgICAgICAgICAgaW5pdDogZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICB9LFxuXG5cdCAgICAgICAgICAgIC8qKlxuXHQgICAgICAgICAgICAgKiBDb3BpZXMgcHJvcGVydGllcyBpbnRvIHRoaXMgb2JqZWN0LlxuXHQgICAgICAgICAgICAgKlxuXHQgICAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gcHJvcGVydGllcyBUaGUgcHJvcGVydGllcyB0byBtaXggaW4uXG5cdCAgICAgICAgICAgICAqXG5cdCAgICAgICAgICAgICAqIEBleGFtcGxlXG5cdCAgICAgICAgICAgICAqXG5cdCAgICAgICAgICAgICAqICAgICBNeVR5cGUubWl4SW4oe1xuXHQgICAgICAgICAgICAgKiAgICAgICAgIGZpZWxkOiAndmFsdWUnXG5cdCAgICAgICAgICAgICAqICAgICB9KTtcblx0ICAgICAgICAgICAgICovXG5cdCAgICAgICAgICAgIG1peEluOiBmdW5jdGlvbiAocHJvcGVydGllcykge1xuXHQgICAgICAgICAgICAgICAgZm9yICh2YXIgcHJvcGVydHlOYW1lIGluIHByb3BlcnRpZXMpIHtcblx0ICAgICAgICAgICAgICAgICAgICBpZiAocHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eShwcm9wZXJ0eU5hbWUpKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNbcHJvcGVydHlOYW1lXSA9IHByb3BlcnRpZXNbcHJvcGVydHlOYW1lXTtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgICAgIC8vIElFIHdvbid0IGNvcHkgdG9TdHJpbmcgdXNpbmcgdGhlIGxvb3AgYWJvdmVcblx0ICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzLmhhc093blByb3BlcnR5KCd0b1N0cmluZycpKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgdGhpcy50b1N0cmluZyA9IHByb3BlcnRpZXMudG9TdHJpbmc7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH0sXG5cblx0ICAgICAgICAgICAgLyoqXG5cdCAgICAgICAgICAgICAqIENyZWF0ZXMgYSBjb3B5IG9mIHRoaXMgb2JqZWN0LlxuXHQgICAgICAgICAgICAgKlxuXHQgICAgICAgICAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBjbG9uZS5cblx0ICAgICAgICAgICAgICpcblx0ICAgICAgICAgICAgICogQGV4YW1wbGVcblx0ICAgICAgICAgICAgICpcblx0ICAgICAgICAgICAgICogICAgIHZhciBjbG9uZSA9IGluc3RhbmNlLmNsb25lKCk7XG5cdCAgICAgICAgICAgICAqL1xuXHQgICAgICAgICAgICBjbG9uZTogZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaW5pdC5wcm90b3R5cGUuZXh0ZW5kKHRoaXMpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfTtcblx0ICAgIH0oKSk7XG5cblx0ICAgIC8qKlxuXHQgICAgICogQW4gYXJyYXkgb2YgMzItYml0IHdvcmRzLlxuXHQgICAgICpcblx0ICAgICAqIEBwcm9wZXJ0eSB7QXJyYXl9IHdvcmRzIFRoZSBhcnJheSBvZiAzMi1iaXQgd29yZHMuXG5cdCAgICAgKiBAcHJvcGVydHkge251bWJlcn0gc2lnQnl0ZXMgVGhlIG51bWJlciBvZiBzaWduaWZpY2FudCBieXRlcyBpbiB0aGlzIHdvcmQgYXJyYXkuXG5cdCAgICAgKi9cblx0ICAgIHZhciBXb3JkQXJyYXkgPSBDX2xpYi5Xb3JkQXJyYXkgPSBCYXNlLmV4dGVuZCh7XG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogSW5pdGlhbGl6ZXMgYSBuZXdseSBjcmVhdGVkIHdvcmQgYXJyYXkuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAcGFyYW0ge0FycmF5fSB3b3JkcyAoT3B0aW9uYWwpIEFuIGFycmF5IG9mIDMyLWJpdCB3b3Jkcy5cblx0ICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gc2lnQnl0ZXMgKE9wdGlvbmFsKSBUaGUgbnVtYmVyIG9mIHNpZ25pZmljYW50IGJ5dGVzIGluIHRoZSB3b3Jkcy5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBleGFtcGxlXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiAgICAgdmFyIHdvcmRBcnJheSA9IENyeXB0b0pTLmxpYi5Xb3JkQXJyYXkuY3JlYXRlKCk7XG5cdCAgICAgICAgICogICAgIHZhciB3b3JkQXJyYXkgPSBDcnlwdG9KUy5saWIuV29yZEFycmF5LmNyZWF0ZShbMHgwMDAxMDIwMywgMHgwNDA1MDYwN10pO1xuXHQgICAgICAgICAqICAgICB2YXIgd29yZEFycmF5ID0gQ3J5cHRvSlMubGliLldvcmRBcnJheS5jcmVhdGUoWzB4MDAwMTAyMDMsIDB4MDQwNTA2MDddLCA2KTtcblx0ICAgICAgICAgKi9cblx0ICAgICAgICBpbml0OiBmdW5jdGlvbiAod29yZHMsIHNpZ0J5dGVzKSB7XG5cdCAgICAgICAgICAgIHdvcmRzID0gdGhpcy53b3JkcyA9IHdvcmRzIHx8IFtdO1xuXG5cdCAgICAgICAgICAgIGlmIChzaWdCeXRlcyAhPSB1bmRlZmluZWQpIHtcblx0ICAgICAgICAgICAgICAgIHRoaXMuc2lnQnl0ZXMgPSBzaWdCeXRlcztcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIHRoaXMuc2lnQnl0ZXMgPSB3b3Jkcy5sZW5ndGggKiA0O1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfSxcblxuXHQgICAgICAgIC8qKlxuXHQgICAgICAgICAqIENvbnZlcnRzIHRoaXMgd29yZCBhcnJheSB0byBhIHN0cmluZy5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBwYXJhbSB7RW5jb2Rlcn0gZW5jb2RlciAoT3B0aW9uYWwpIFRoZSBlbmNvZGluZyBzdHJhdGVneSB0byB1c2UuIERlZmF1bHQ6IENyeXB0b0pTLmVuYy5IZXhcblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIHN0cmluZ2lmaWVkIHdvcmQgYXJyYXkuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAZXhhbXBsZVxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogICAgIHZhciBzdHJpbmcgPSB3b3JkQXJyYXkgKyAnJztcblx0ICAgICAgICAgKiAgICAgdmFyIHN0cmluZyA9IHdvcmRBcnJheS50b1N0cmluZygpO1xuXHQgICAgICAgICAqICAgICB2YXIgc3RyaW5nID0gd29yZEFycmF5LnRvU3RyaW5nKENyeXB0b0pTLmVuYy5VdGY4KTtcblx0ICAgICAgICAgKi9cblx0ICAgICAgICB0b1N0cmluZzogZnVuY3Rpb24gKGVuY29kZXIpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIChlbmNvZGVyIHx8IEhleCkuc3RyaW5naWZ5KHRoaXMpO1xuXHQgICAgICAgIH0sXG5cblx0ICAgICAgICAvKipcblx0ICAgICAgICAgKiBDb25jYXRlbmF0ZXMgYSB3b3JkIGFycmF5IHRvIHRoaXMgd29yZCBhcnJheS5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBwYXJhbSB7V29yZEFycmF5fSB3b3JkQXJyYXkgVGhlIHdvcmQgYXJyYXkgdG8gYXBwZW5kLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHJldHVybiB7V29yZEFycmF5fSBUaGlzIHdvcmQgYXJyYXkuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAZXhhbXBsZVxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogICAgIHdvcmRBcnJheTEuY29uY2F0KHdvcmRBcnJheTIpO1xuXHQgICAgICAgICAqL1xuXHQgICAgICAgIGNvbmNhdDogZnVuY3Rpb24gKHdvcmRBcnJheSkge1xuXHQgICAgICAgICAgICAvLyBTaG9ydGN1dHNcblx0ICAgICAgICAgICAgdmFyIHRoaXNXb3JkcyA9IHRoaXMud29yZHM7XG5cdCAgICAgICAgICAgIHZhciB0aGF0V29yZHMgPSB3b3JkQXJyYXkud29yZHM7XG5cdCAgICAgICAgICAgIHZhciB0aGlzU2lnQnl0ZXMgPSB0aGlzLnNpZ0J5dGVzO1xuXHQgICAgICAgICAgICB2YXIgdGhhdFNpZ0J5dGVzID0gd29yZEFycmF5LnNpZ0J5dGVzO1xuXG5cdCAgICAgICAgICAgIC8vIENsYW1wIGV4Y2VzcyBiaXRzXG5cdCAgICAgICAgICAgIHRoaXMuY2xhbXAoKTtcblxuXHQgICAgICAgICAgICAvLyBDb25jYXRcblx0ICAgICAgICAgICAgaWYgKHRoaXNTaWdCeXRlcyAlIDQpIHtcblx0ICAgICAgICAgICAgICAgIC8vIENvcHkgb25lIGJ5dGUgYXQgYSB0aW1lXG5cdCAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoYXRTaWdCeXRlczsgaSsrKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgdmFyIHRoYXRCeXRlID0gKHRoYXRXb3Jkc1tpID4+PiAyXSA+Pj4gKDI0IC0gKGkgJSA0KSAqIDgpKSAmIDB4ZmY7XG5cdCAgICAgICAgICAgICAgICAgICAgdGhpc1dvcmRzWyh0aGlzU2lnQnl0ZXMgKyBpKSA+Pj4gMl0gfD0gdGhhdEJ5dGUgPDwgKDI0IC0gKCh0aGlzU2lnQnl0ZXMgKyBpKSAlIDQpICogOCk7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAvLyBDb3B5IG9uZSB3b3JkIGF0IGEgdGltZVxuXHQgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB0aGF0U2lnQnl0ZXM7IGogKz0gNCkge1xuXHQgICAgICAgICAgICAgICAgICAgIHRoaXNXb3Jkc1sodGhpc1NpZ0J5dGVzICsgaikgPj4+IDJdID0gdGhhdFdvcmRzW2ogPj4+IDJdO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHRoaXMuc2lnQnl0ZXMgKz0gdGhhdFNpZ0J5dGVzO1xuXG5cdCAgICAgICAgICAgIC8vIENoYWluYWJsZVxuXHQgICAgICAgICAgICByZXR1cm4gdGhpcztcblx0ICAgICAgICB9LFxuXG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogUmVtb3ZlcyBpbnNpZ25pZmljYW50IGJpdHMuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAZXhhbXBsZVxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogICAgIHdvcmRBcnJheS5jbGFtcCgpO1xuXHQgICAgICAgICAqL1xuXHQgICAgICAgIGNsYW1wOiBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIC8vIFNob3J0Y3V0c1xuXHQgICAgICAgICAgICB2YXIgd29yZHMgPSB0aGlzLndvcmRzO1xuXHQgICAgICAgICAgICB2YXIgc2lnQnl0ZXMgPSB0aGlzLnNpZ0J5dGVzO1xuXG5cdCAgICAgICAgICAgIC8vIENsYW1wXG5cdCAgICAgICAgICAgIHdvcmRzW3NpZ0J5dGVzID4+PiAyXSAmPSAweGZmZmZmZmZmIDw8ICgzMiAtIChzaWdCeXRlcyAlIDQpICogOCk7XG5cdCAgICAgICAgICAgIHdvcmRzLmxlbmd0aCA9IE1hdGguY2VpbChzaWdCeXRlcyAvIDQpO1xuXHQgICAgICAgIH0sXG5cblx0ICAgICAgICAvKipcblx0ICAgICAgICAgKiBDcmVhdGVzIGEgY29weSBvZiB0aGlzIHdvcmQgYXJyYXkuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAcmV0dXJuIHtXb3JkQXJyYXl9IFRoZSBjbG9uZS5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBleGFtcGxlXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiAgICAgdmFyIGNsb25lID0gd29yZEFycmF5LmNsb25lKCk7XG5cdCAgICAgICAgICovXG5cdCAgICAgICAgY2xvbmU6IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgdmFyIGNsb25lID0gQmFzZS5jbG9uZS5jYWxsKHRoaXMpO1xuXHQgICAgICAgICAgICBjbG9uZS53b3JkcyA9IHRoaXMud29yZHMuc2xpY2UoMCk7XG5cblx0ICAgICAgICAgICAgcmV0dXJuIGNsb25lO1xuXHQgICAgICAgIH0sXG5cblx0ICAgICAgICAvKipcblx0ICAgICAgICAgKiBDcmVhdGVzIGEgd29yZCBhcnJheSBmaWxsZWQgd2l0aCByYW5kb20gYnl0ZXMuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gbkJ5dGVzIFRoZSBudW1iZXIgb2YgcmFuZG9tIGJ5dGVzIHRvIGdlbmVyYXRlLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHJldHVybiB7V29yZEFycmF5fSBUaGUgcmFuZG9tIHdvcmQgYXJyYXkuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAc3RhdGljXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAZXhhbXBsZVxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogICAgIHZhciB3b3JkQXJyYXkgPSBDcnlwdG9KUy5saWIuV29yZEFycmF5LnJhbmRvbSgxNik7XG5cdCAgICAgICAgICovXG5cdCAgICAgICAgcmFuZG9tOiBmdW5jdGlvbiAobkJ5dGVzKSB7XG5cdCAgICAgICAgICAgIHZhciB3b3JkcyA9IFtdO1xuXG5cdCAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbkJ5dGVzOyBpICs9IDQpIHtcblx0ICAgICAgICAgICAgICAgIHdvcmRzLnB1c2goY3J5cHRvU2VjdXJlUmFuZG9tSW50KCkpO1xuXHQgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgcmV0dXJuIG5ldyBXb3JkQXJyYXkuaW5pdCh3b3JkcywgbkJ5dGVzKTtcblx0ICAgICAgICB9XG5cdCAgICB9KTtcblxuXHQgICAgLyoqXG5cdCAgICAgKiBFbmNvZGVyIG5hbWVzcGFjZS5cblx0ICAgICAqL1xuXHQgICAgdmFyIENfZW5jID0gQy5lbmMgPSB7fTtcblxuXHQgICAgLyoqXG5cdCAgICAgKiBIZXggZW5jb2Rpbmcgc3RyYXRlZ3kuXG5cdCAgICAgKi9cblx0ICAgIHZhciBIZXggPSBDX2VuYy5IZXggPSB7XG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogQ29udmVydHMgYSB3b3JkIGFycmF5IHRvIGEgaGV4IHN0cmluZy5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBwYXJhbSB7V29yZEFycmF5fSB3b3JkQXJyYXkgVGhlIHdvcmQgYXJyYXkuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBoZXggc3RyaW5nLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHN0YXRpY1xuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQGV4YW1wbGVcblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqICAgICB2YXIgaGV4U3RyaW5nID0gQ3J5cHRvSlMuZW5jLkhleC5zdHJpbmdpZnkod29yZEFycmF5KTtcblx0ICAgICAgICAgKi9cblx0ICAgICAgICBzdHJpbmdpZnk6IGZ1bmN0aW9uICh3b3JkQXJyYXkpIHtcblx0ICAgICAgICAgICAgLy8gU2hvcnRjdXRzXG5cdCAgICAgICAgICAgIHZhciB3b3JkcyA9IHdvcmRBcnJheS53b3Jkcztcblx0ICAgICAgICAgICAgdmFyIHNpZ0J5dGVzID0gd29yZEFycmF5LnNpZ0J5dGVzO1xuXG5cdCAgICAgICAgICAgIC8vIENvbnZlcnRcblx0ICAgICAgICAgICAgdmFyIGhleENoYXJzID0gW107XG5cdCAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2lnQnl0ZXM7IGkrKykge1xuXHQgICAgICAgICAgICAgICAgdmFyIGJpdGUgPSAod29yZHNbaSA+Pj4gMl0gPj4+ICgyNCAtIChpICUgNCkgKiA4KSkgJiAweGZmO1xuXHQgICAgICAgICAgICAgICAgaGV4Q2hhcnMucHVzaCgoYml0ZSA+Pj4gNCkudG9TdHJpbmcoMTYpKTtcblx0ICAgICAgICAgICAgICAgIGhleENoYXJzLnB1c2goKGJpdGUgJiAweDBmKS50b1N0cmluZygxNikpO1xuXHQgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgcmV0dXJuIGhleENoYXJzLmpvaW4oJycpO1xuXHQgICAgICAgIH0sXG5cblx0ICAgICAgICAvKipcblx0ICAgICAgICAgKiBDb252ZXJ0cyBhIGhleCBzdHJpbmcgdG8gYSB3b3JkIGFycmF5LlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGhleFN0ciBUaGUgaGV4IHN0cmluZy5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEByZXR1cm4ge1dvcmRBcnJheX0gVGhlIHdvcmQgYXJyYXkuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAc3RhdGljXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAZXhhbXBsZVxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogICAgIHZhciB3b3JkQXJyYXkgPSBDcnlwdG9KUy5lbmMuSGV4LnBhcnNlKGhleFN0cmluZyk7XG5cdCAgICAgICAgICovXG5cdCAgICAgICAgcGFyc2U6IGZ1bmN0aW9uIChoZXhTdHIpIHtcblx0ICAgICAgICAgICAgLy8gU2hvcnRjdXRcblx0ICAgICAgICAgICAgdmFyIGhleFN0ckxlbmd0aCA9IGhleFN0ci5sZW5ndGg7XG5cblx0ICAgICAgICAgICAgLy8gQ29udmVydFxuXHQgICAgICAgICAgICB2YXIgd29yZHMgPSBbXTtcblx0ICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBoZXhTdHJMZW5ndGg7IGkgKz0gMikge1xuXHQgICAgICAgICAgICAgICAgd29yZHNbaSA+Pj4gM10gfD0gcGFyc2VJbnQoaGV4U3RyLnN1YnN0cihpLCAyKSwgMTYpIDw8ICgyNCAtIChpICUgOCkgKiA0KTtcblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIHJldHVybiBuZXcgV29yZEFycmF5LmluaXQod29yZHMsIGhleFN0ckxlbmd0aCAvIDIpO1xuXHQgICAgICAgIH1cblx0ICAgIH07XG5cblx0ICAgIC8qKlxuXHQgICAgICogTGF0aW4xIGVuY29kaW5nIHN0cmF0ZWd5LlxuXHQgICAgICovXG5cdCAgICB2YXIgTGF0aW4xID0gQ19lbmMuTGF0aW4xID0ge1xuXHQgICAgICAgIC8qKlxuXHQgICAgICAgICAqIENvbnZlcnRzIGEgd29yZCBhcnJheSB0byBhIExhdGluMSBzdHJpbmcuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAcGFyYW0ge1dvcmRBcnJheX0gd29yZEFycmF5IFRoZSB3b3JkIGFycmF5LlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHJldHVybiB7c3RyaW5nfSBUaGUgTGF0aW4xIHN0cmluZy5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBzdGF0aWNcblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBleGFtcGxlXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiAgICAgdmFyIGxhdGluMVN0cmluZyA9IENyeXB0b0pTLmVuYy5MYXRpbjEuc3RyaW5naWZ5KHdvcmRBcnJheSk7XG5cdCAgICAgICAgICovXG5cdCAgICAgICAgc3RyaW5naWZ5OiBmdW5jdGlvbiAod29yZEFycmF5KSB7XG5cdCAgICAgICAgICAgIC8vIFNob3J0Y3V0c1xuXHQgICAgICAgICAgICB2YXIgd29yZHMgPSB3b3JkQXJyYXkud29yZHM7XG5cdCAgICAgICAgICAgIHZhciBzaWdCeXRlcyA9IHdvcmRBcnJheS5zaWdCeXRlcztcblxuXHQgICAgICAgICAgICAvLyBDb252ZXJ0XG5cdCAgICAgICAgICAgIHZhciBsYXRpbjFDaGFycyA9IFtdO1xuXHQgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNpZ0J5dGVzOyBpKyspIHtcblx0ICAgICAgICAgICAgICAgIHZhciBiaXRlID0gKHdvcmRzW2kgPj4+IDJdID4+PiAoMjQgLSAoaSAlIDQpICogOCkpICYgMHhmZjtcblx0ICAgICAgICAgICAgICAgIGxhdGluMUNoYXJzLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZShiaXRlKSk7XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICByZXR1cm4gbGF0aW4xQ2hhcnMuam9pbignJyk7XG5cdCAgICAgICAgfSxcblxuXHQgICAgICAgIC8qKlxuXHQgICAgICAgICAqIENvbnZlcnRzIGEgTGF0aW4xIHN0cmluZyB0byBhIHdvcmQgYXJyYXkuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbGF0aW4xU3RyIFRoZSBMYXRpbjEgc3RyaW5nLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHJldHVybiB7V29yZEFycmF5fSBUaGUgd29yZCBhcnJheS5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBzdGF0aWNcblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBleGFtcGxlXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiAgICAgdmFyIHdvcmRBcnJheSA9IENyeXB0b0pTLmVuYy5MYXRpbjEucGFyc2UobGF0aW4xU3RyaW5nKTtcblx0ICAgICAgICAgKi9cblx0ICAgICAgICBwYXJzZTogZnVuY3Rpb24gKGxhdGluMVN0cikge1xuXHQgICAgICAgICAgICAvLyBTaG9ydGN1dFxuXHQgICAgICAgICAgICB2YXIgbGF0aW4xU3RyTGVuZ3RoID0gbGF0aW4xU3RyLmxlbmd0aDtcblxuXHQgICAgICAgICAgICAvLyBDb252ZXJ0XG5cdCAgICAgICAgICAgIHZhciB3b3JkcyA9IFtdO1xuXHQgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxhdGluMVN0ckxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgICAgICAgICB3b3Jkc1tpID4+PiAyXSB8PSAobGF0aW4xU3RyLmNoYXJDb2RlQXQoaSkgJiAweGZmKSA8PCAoMjQgLSAoaSAlIDQpICogOCk7XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICByZXR1cm4gbmV3IFdvcmRBcnJheS5pbml0KHdvcmRzLCBsYXRpbjFTdHJMZW5ndGgpO1xuXHQgICAgICAgIH1cblx0ICAgIH07XG5cblx0ICAgIC8qKlxuXHQgICAgICogVVRGLTggZW5jb2Rpbmcgc3RyYXRlZ3kuXG5cdCAgICAgKi9cblx0ICAgIHZhciBVdGY4ID0gQ19lbmMuVXRmOCA9IHtcblx0ICAgICAgICAvKipcblx0ICAgICAgICAgKiBDb252ZXJ0cyBhIHdvcmQgYXJyYXkgdG8gYSBVVEYtOCBzdHJpbmcuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAcGFyYW0ge1dvcmRBcnJheX0gd29yZEFycmF5IFRoZSB3b3JkIGFycmF5LlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHJldHVybiB7c3RyaW5nfSBUaGUgVVRGLTggc3RyaW5nLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHN0YXRpY1xuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQGV4YW1wbGVcblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqICAgICB2YXIgdXRmOFN0cmluZyA9IENyeXB0b0pTLmVuYy5VdGY4LnN0cmluZ2lmeSh3b3JkQXJyYXkpO1xuXHQgICAgICAgICAqL1xuXHQgICAgICAgIHN0cmluZ2lmeTogZnVuY3Rpb24gKHdvcmRBcnJheSkge1xuXHQgICAgICAgICAgICB0cnkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChlc2NhcGUoTGF0aW4xLnN0cmluZ2lmeSh3b3JkQXJyYXkpKSk7XG5cdCAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcblx0ICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTWFsZm9ybWVkIFVURi04IGRhdGEnKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0sXG5cblx0ICAgICAgICAvKipcblx0ICAgICAgICAgKiBDb252ZXJ0cyBhIFVURi04IHN0cmluZyB0byBhIHdvcmQgYXJyYXkuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXRmOFN0ciBUaGUgVVRGLTggc3RyaW5nLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHJldHVybiB7V29yZEFycmF5fSBUaGUgd29yZCBhcnJheS5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBzdGF0aWNcblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBleGFtcGxlXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiAgICAgdmFyIHdvcmRBcnJheSA9IENyeXB0b0pTLmVuYy5VdGY4LnBhcnNlKHV0ZjhTdHJpbmcpO1xuXHQgICAgICAgICAqL1xuXHQgICAgICAgIHBhcnNlOiBmdW5jdGlvbiAodXRmOFN0cikge1xuXHQgICAgICAgICAgICByZXR1cm4gTGF0aW4xLnBhcnNlKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudCh1dGY4U3RyKSkpO1xuXHQgICAgICAgIH1cblx0ICAgIH07XG5cblx0ICAgIC8qKlxuXHQgICAgICogQWJzdHJhY3QgYnVmZmVyZWQgYmxvY2sgYWxnb3JpdGhtIHRlbXBsYXRlLlxuXHQgICAgICpcblx0ICAgICAqIFRoZSBwcm9wZXJ0eSBibG9ja1NpemUgbXVzdCBiZSBpbXBsZW1lbnRlZCBpbiBhIGNvbmNyZXRlIHN1YnR5cGUuXG5cdCAgICAgKlxuXHQgICAgICogQHByb3BlcnR5IHtudW1iZXJ9IF9taW5CdWZmZXJTaXplIFRoZSBudW1iZXIgb2YgYmxvY2tzIHRoYXQgc2hvdWxkIGJlIGtlcHQgdW5wcm9jZXNzZWQgaW4gdGhlIGJ1ZmZlci4gRGVmYXVsdDogMFxuXHQgICAgICovXG5cdCAgICB2YXIgQnVmZmVyZWRCbG9ja0FsZ29yaXRobSA9IENfbGliLkJ1ZmZlcmVkQmxvY2tBbGdvcml0aG0gPSBCYXNlLmV4dGVuZCh7XG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogUmVzZXRzIHRoaXMgYmxvY2sgYWxnb3JpdGhtJ3MgZGF0YSBidWZmZXIgdG8gaXRzIGluaXRpYWwgc3RhdGUuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAZXhhbXBsZVxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogICAgIGJ1ZmZlcmVkQmxvY2tBbGdvcml0aG0ucmVzZXQoKTtcblx0ICAgICAgICAgKi9cblx0ICAgICAgICByZXNldDogZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAvLyBJbml0aWFsIHZhbHVlc1xuXHQgICAgICAgICAgICB0aGlzLl9kYXRhID0gbmV3IFdvcmRBcnJheS5pbml0KCk7XG5cdCAgICAgICAgICAgIHRoaXMuX25EYXRhQnl0ZXMgPSAwO1xuXHQgICAgICAgIH0sXG5cblx0ICAgICAgICAvKipcblx0ICAgICAgICAgKiBBZGRzIG5ldyBkYXRhIHRvIHRoaXMgYmxvY2sgYWxnb3JpdGhtJ3MgYnVmZmVyLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHBhcmFtIHtXb3JkQXJyYXl8c3RyaW5nfSBkYXRhIFRoZSBkYXRhIHRvIGFwcGVuZC4gU3RyaW5ncyBhcmUgY29udmVydGVkIHRvIGEgV29yZEFycmF5IHVzaW5nIFVURi04LlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQGV4YW1wbGVcblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqICAgICBidWZmZXJlZEJsb2NrQWxnb3JpdGhtLl9hcHBlbmQoJ2RhdGEnKTtcblx0ICAgICAgICAgKiAgICAgYnVmZmVyZWRCbG9ja0FsZ29yaXRobS5fYXBwZW5kKHdvcmRBcnJheSk7XG5cdCAgICAgICAgICovXG5cdCAgICAgICAgX2FwcGVuZDogZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgICAgICAgLy8gQ29udmVydCBzdHJpbmcgdG8gV29yZEFycmF5LCBlbHNlIGFzc3VtZSBXb3JkQXJyYXkgYWxyZWFkeVxuXHQgICAgICAgICAgICBpZiAodHlwZW9mIGRhdGEgPT0gJ3N0cmluZycpIHtcblx0ICAgICAgICAgICAgICAgIGRhdGEgPSBVdGY4LnBhcnNlKGRhdGEpO1xuXHQgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgLy8gQXBwZW5kXG5cdCAgICAgICAgICAgIHRoaXMuX2RhdGEuY29uY2F0KGRhdGEpO1xuXHQgICAgICAgICAgICB0aGlzLl9uRGF0YUJ5dGVzICs9IGRhdGEuc2lnQnl0ZXM7XG5cdCAgICAgICAgfSxcblxuXHQgICAgICAgIC8qKlxuXHQgICAgICAgICAqIFByb2Nlc3NlcyBhdmFpbGFibGUgZGF0YSBibG9ja3MuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBUaGlzIG1ldGhvZCBpbnZva2VzIF9kb1Byb2Nlc3NCbG9jayhvZmZzZXQpLCB3aGljaCBtdXN0IGJlIGltcGxlbWVudGVkIGJ5IGEgY29uY3JldGUgc3VidHlwZS5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gZG9GbHVzaCBXaGV0aGVyIGFsbCBibG9ja3MgYW5kIHBhcnRpYWwgYmxvY2tzIHNob3VsZCBiZSBwcm9jZXNzZWQuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAcmV0dXJuIHtXb3JkQXJyYXl9IFRoZSBwcm9jZXNzZWQgZGF0YS5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBleGFtcGxlXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiAgICAgdmFyIHByb2Nlc3NlZERhdGEgPSBidWZmZXJlZEJsb2NrQWxnb3JpdGhtLl9wcm9jZXNzKCk7XG5cdCAgICAgICAgICogICAgIHZhciBwcm9jZXNzZWREYXRhID0gYnVmZmVyZWRCbG9ja0FsZ29yaXRobS5fcHJvY2VzcyghISdmbHVzaCcpO1xuXHQgICAgICAgICAqL1xuXHQgICAgICAgIF9wcm9jZXNzOiBmdW5jdGlvbiAoZG9GbHVzaCkge1xuXHQgICAgICAgICAgICB2YXIgcHJvY2Vzc2VkV29yZHM7XG5cblx0ICAgICAgICAgICAgLy8gU2hvcnRjdXRzXG5cdCAgICAgICAgICAgIHZhciBkYXRhID0gdGhpcy5fZGF0YTtcblx0ICAgICAgICAgICAgdmFyIGRhdGFXb3JkcyA9IGRhdGEud29yZHM7XG5cdCAgICAgICAgICAgIHZhciBkYXRhU2lnQnl0ZXMgPSBkYXRhLnNpZ0J5dGVzO1xuXHQgICAgICAgICAgICB2YXIgYmxvY2tTaXplID0gdGhpcy5ibG9ja1NpemU7XG5cdCAgICAgICAgICAgIHZhciBibG9ja1NpemVCeXRlcyA9IGJsb2NrU2l6ZSAqIDQ7XG5cblx0ICAgICAgICAgICAgLy8gQ291bnQgYmxvY2tzIHJlYWR5XG5cdCAgICAgICAgICAgIHZhciBuQmxvY2tzUmVhZHkgPSBkYXRhU2lnQnl0ZXMgLyBibG9ja1NpemVCeXRlcztcblx0ICAgICAgICAgICAgaWYgKGRvRmx1c2gpIHtcblx0ICAgICAgICAgICAgICAgIC8vIFJvdW5kIHVwIHRvIGluY2x1ZGUgcGFydGlhbCBibG9ja3Ncblx0ICAgICAgICAgICAgICAgIG5CbG9ja3NSZWFkeSA9IE1hdGguY2VpbChuQmxvY2tzUmVhZHkpO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgLy8gUm91bmQgZG93biB0byBpbmNsdWRlIG9ubHkgZnVsbCBibG9ja3MsXG5cdCAgICAgICAgICAgICAgICAvLyBsZXNzIHRoZSBudW1iZXIgb2YgYmxvY2tzIHRoYXQgbXVzdCByZW1haW4gaW4gdGhlIGJ1ZmZlclxuXHQgICAgICAgICAgICAgICAgbkJsb2Nrc1JlYWR5ID0gTWF0aC5tYXgoKG5CbG9ja3NSZWFkeSB8IDApIC0gdGhpcy5fbWluQnVmZmVyU2l6ZSwgMCk7XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAvLyBDb3VudCB3b3JkcyByZWFkeVxuXHQgICAgICAgICAgICB2YXIgbldvcmRzUmVhZHkgPSBuQmxvY2tzUmVhZHkgKiBibG9ja1NpemU7XG5cblx0ICAgICAgICAgICAgLy8gQ291bnQgYnl0ZXMgcmVhZHlcblx0ICAgICAgICAgICAgdmFyIG5CeXRlc1JlYWR5ID0gTWF0aC5taW4obldvcmRzUmVhZHkgKiA0LCBkYXRhU2lnQnl0ZXMpO1xuXG5cdCAgICAgICAgICAgIC8vIFByb2Nlc3MgYmxvY2tzXG5cdCAgICAgICAgICAgIGlmIChuV29yZHNSZWFkeSkge1xuXHQgICAgICAgICAgICAgICAgZm9yICh2YXIgb2Zmc2V0ID0gMDsgb2Zmc2V0IDwgbldvcmRzUmVhZHk7IG9mZnNldCArPSBibG9ja1NpemUpIHtcblx0ICAgICAgICAgICAgICAgICAgICAvLyBQZXJmb3JtIGNvbmNyZXRlLWFsZ29yaXRobSBsb2dpY1xuXHQgICAgICAgICAgICAgICAgICAgIHRoaXMuX2RvUHJvY2Vzc0Jsb2NrKGRhdGFXb3Jkcywgb2Zmc2V0KTtcblx0ICAgICAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIHByb2Nlc3NlZCB3b3Jkc1xuXHQgICAgICAgICAgICAgICAgcHJvY2Vzc2VkV29yZHMgPSBkYXRhV29yZHMuc3BsaWNlKDAsIG5Xb3Jkc1JlYWR5KTtcblx0ICAgICAgICAgICAgICAgIGRhdGEuc2lnQnl0ZXMgLT0gbkJ5dGVzUmVhZHk7XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAvLyBSZXR1cm4gcHJvY2Vzc2VkIHdvcmRzXG5cdCAgICAgICAgICAgIHJldHVybiBuZXcgV29yZEFycmF5LmluaXQocHJvY2Vzc2VkV29yZHMsIG5CeXRlc1JlYWR5KTtcblx0ICAgICAgICB9LFxuXG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogQ3JlYXRlcyBhIGNvcHkgb2YgdGhpcyBvYmplY3QuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBjbG9uZS5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBleGFtcGxlXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiAgICAgdmFyIGNsb25lID0gYnVmZmVyZWRCbG9ja0FsZ29yaXRobS5jbG9uZSgpO1xuXHQgICAgICAgICAqL1xuXHQgICAgICAgIGNsb25lOiBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIHZhciBjbG9uZSA9IEJhc2UuY2xvbmUuY2FsbCh0aGlzKTtcblx0ICAgICAgICAgICAgY2xvbmUuX2RhdGEgPSB0aGlzLl9kYXRhLmNsb25lKCk7XG5cblx0ICAgICAgICAgICAgcmV0dXJuIGNsb25lO1xuXHQgICAgICAgIH0sXG5cblx0ICAgICAgICBfbWluQnVmZmVyU2l6ZTogMFxuXHQgICAgfSk7XG5cblx0ICAgIC8qKlxuXHQgICAgICogQWJzdHJhY3QgaGFzaGVyIHRlbXBsYXRlLlxuXHQgICAgICpcblx0ICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBibG9ja1NpemUgVGhlIG51bWJlciBvZiAzMi1iaXQgd29yZHMgdGhpcyBoYXNoZXIgb3BlcmF0ZXMgb24uIERlZmF1bHQ6IDE2ICg1MTIgYml0cylcblx0ICAgICAqL1xuXHQgICAgdmFyIEhhc2hlciA9IENfbGliLkhhc2hlciA9IEJ1ZmZlcmVkQmxvY2tBbGdvcml0aG0uZXh0ZW5kKHtcblx0ICAgICAgICAvKipcblx0ICAgICAgICAgKiBDb25maWd1cmF0aW9uIG9wdGlvbnMuXG5cdCAgICAgICAgICovXG5cdCAgICAgICAgY2ZnOiBCYXNlLmV4dGVuZCgpLFxuXG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogSW5pdGlhbGl6ZXMgYSBuZXdseSBjcmVhdGVkIGhhc2hlci5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjZmcgKE9wdGlvbmFsKSBUaGUgY29uZmlndXJhdGlvbiBvcHRpb25zIHRvIHVzZSBmb3IgdGhpcyBoYXNoIGNvbXB1dGF0aW9uLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQGV4YW1wbGVcblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqICAgICB2YXIgaGFzaGVyID0gQ3J5cHRvSlMuYWxnby5TSEEyNTYuY3JlYXRlKCk7XG5cdCAgICAgICAgICovXG5cdCAgICAgICAgaW5pdDogZnVuY3Rpb24gKGNmZykge1xuXHQgICAgICAgICAgICAvLyBBcHBseSBjb25maWcgZGVmYXVsdHNcblx0ICAgICAgICAgICAgdGhpcy5jZmcgPSB0aGlzLmNmZy5leHRlbmQoY2ZnKTtcblxuXHQgICAgICAgICAgICAvLyBTZXQgaW5pdGlhbCB2YWx1ZXNcblx0ICAgICAgICAgICAgdGhpcy5yZXNldCgpO1xuXHQgICAgICAgIH0sXG5cblx0ICAgICAgICAvKipcblx0ICAgICAgICAgKiBSZXNldHMgdGhpcyBoYXNoZXIgdG8gaXRzIGluaXRpYWwgc3RhdGUuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAZXhhbXBsZVxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogICAgIGhhc2hlci5yZXNldCgpO1xuXHQgICAgICAgICAqL1xuXHQgICAgICAgIHJlc2V0OiBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIC8vIFJlc2V0IGRhdGEgYnVmZmVyXG5cdCAgICAgICAgICAgIEJ1ZmZlcmVkQmxvY2tBbGdvcml0aG0ucmVzZXQuY2FsbCh0aGlzKTtcblxuXHQgICAgICAgICAgICAvLyBQZXJmb3JtIGNvbmNyZXRlLWhhc2hlciBsb2dpY1xuXHQgICAgICAgICAgICB0aGlzLl9kb1Jlc2V0KCk7XG5cdCAgICAgICAgfSxcblxuXHQgICAgICAgIC8qKlxuXHQgICAgICAgICAqIFVwZGF0ZXMgdGhpcyBoYXNoZXIgd2l0aCBhIG1lc3NhZ2UuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAcGFyYW0ge1dvcmRBcnJheXxzdHJpbmd9IG1lc3NhZ2VVcGRhdGUgVGhlIG1lc3NhZ2UgdG8gYXBwZW5kLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHJldHVybiB7SGFzaGVyfSBUaGlzIGhhc2hlci5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBleGFtcGxlXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiAgICAgaGFzaGVyLnVwZGF0ZSgnbWVzc2FnZScpO1xuXHQgICAgICAgICAqICAgICBoYXNoZXIudXBkYXRlKHdvcmRBcnJheSk7XG5cdCAgICAgICAgICovXG5cdCAgICAgICAgdXBkYXRlOiBmdW5jdGlvbiAobWVzc2FnZVVwZGF0ZSkge1xuXHQgICAgICAgICAgICAvLyBBcHBlbmRcblx0ICAgICAgICAgICAgdGhpcy5fYXBwZW5kKG1lc3NhZ2VVcGRhdGUpO1xuXG5cdCAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgaGFzaFxuXHQgICAgICAgICAgICB0aGlzLl9wcm9jZXNzKCk7XG5cblx0ICAgICAgICAgICAgLy8gQ2hhaW5hYmxlXG5cdCAgICAgICAgICAgIHJldHVybiB0aGlzO1xuXHQgICAgICAgIH0sXG5cblx0ICAgICAgICAvKipcblx0ICAgICAgICAgKiBGaW5hbGl6ZXMgdGhlIGhhc2ggY29tcHV0YXRpb24uXG5cdCAgICAgICAgICogTm90ZSB0aGF0IHRoZSBmaW5hbGl6ZSBvcGVyYXRpb24gaXMgZWZmZWN0aXZlbHkgYSBkZXN0cnVjdGl2ZSwgcmVhZC1vbmNlIG9wZXJhdGlvbi5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBwYXJhbSB7V29yZEFycmF5fHN0cmluZ30gbWVzc2FnZVVwZGF0ZSAoT3B0aW9uYWwpIEEgZmluYWwgbWVzc2FnZSB1cGRhdGUuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAcmV0dXJuIHtXb3JkQXJyYXl9IFRoZSBoYXNoLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQGV4YW1wbGVcblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqICAgICB2YXIgaGFzaCA9IGhhc2hlci5maW5hbGl6ZSgpO1xuXHQgICAgICAgICAqICAgICB2YXIgaGFzaCA9IGhhc2hlci5maW5hbGl6ZSgnbWVzc2FnZScpO1xuXHQgICAgICAgICAqICAgICB2YXIgaGFzaCA9IGhhc2hlci5maW5hbGl6ZSh3b3JkQXJyYXkpO1xuXHQgICAgICAgICAqL1xuXHQgICAgICAgIGZpbmFsaXplOiBmdW5jdGlvbiAobWVzc2FnZVVwZGF0ZSkge1xuXHQgICAgICAgICAgICAvLyBGaW5hbCBtZXNzYWdlIHVwZGF0ZVxuXHQgICAgICAgICAgICBpZiAobWVzc2FnZVVwZGF0ZSkge1xuXHQgICAgICAgICAgICAgICAgdGhpcy5fYXBwZW5kKG1lc3NhZ2VVcGRhdGUpO1xuXHQgICAgICAgICAgICB9XG5cblx0ICAgICAgICAgICAgLy8gUGVyZm9ybSBjb25jcmV0ZS1oYXNoZXIgbG9naWNcblx0ICAgICAgICAgICAgdmFyIGhhc2ggPSB0aGlzLl9kb0ZpbmFsaXplKCk7XG5cblx0ICAgICAgICAgICAgcmV0dXJuIGhhc2g7XG5cdCAgICAgICAgfSxcblxuXHQgICAgICAgIGJsb2NrU2l6ZTogNTEyLzMyLFxuXG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogQ3JlYXRlcyBhIHNob3J0Y3V0IGZ1bmN0aW9uIHRvIGEgaGFzaGVyJ3Mgb2JqZWN0IGludGVyZmFjZS5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBwYXJhbSB7SGFzaGVyfSBoYXNoZXIgVGhlIGhhc2hlciB0byBjcmVhdGUgYSBoZWxwZXIgZm9yLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHJldHVybiB7RnVuY3Rpb259IFRoZSBzaG9ydGN1dCBmdW5jdGlvbi5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBzdGF0aWNcblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBleGFtcGxlXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiAgICAgdmFyIFNIQTI1NiA9IENyeXB0b0pTLmxpYi5IYXNoZXIuX2NyZWF0ZUhlbHBlcihDcnlwdG9KUy5hbGdvLlNIQTI1Nik7XG5cdCAgICAgICAgICovXG5cdCAgICAgICAgX2NyZWF0ZUhlbHBlcjogZnVuY3Rpb24gKGhhc2hlcikge1xuXHQgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKG1lc3NhZ2UsIGNmZykge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBoYXNoZXIuaW5pdChjZmcpLmZpbmFsaXplKG1lc3NhZ2UpO1xuXHQgICAgICAgICAgICB9O1xuXHQgICAgICAgIH0sXG5cblx0ICAgICAgICAvKipcblx0ICAgICAgICAgKiBDcmVhdGVzIGEgc2hvcnRjdXQgZnVuY3Rpb24gdG8gdGhlIEhNQUMncyBvYmplY3QgaW50ZXJmYWNlLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHBhcmFtIHtIYXNoZXJ9IGhhc2hlciBUaGUgaGFzaGVyIHRvIHVzZSBpbiB0aGlzIEhNQUMgaGVscGVyLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHJldHVybiB7RnVuY3Rpb259IFRoZSBzaG9ydGN1dCBmdW5jdGlvbi5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBzdGF0aWNcblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBleGFtcGxlXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiAgICAgdmFyIEhtYWNTSEEyNTYgPSBDcnlwdG9KUy5saWIuSGFzaGVyLl9jcmVhdGVIbWFjSGVscGVyKENyeXB0b0pTLmFsZ28uU0hBMjU2KTtcblx0ICAgICAgICAgKi9cblx0ICAgICAgICBfY3JlYXRlSG1hY0hlbHBlcjogZnVuY3Rpb24gKGhhc2hlcikge1xuXHQgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKG1lc3NhZ2UsIGtleSkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDX2FsZ28uSE1BQy5pbml0KGhhc2hlciwga2V5KS5maW5hbGl6ZShtZXNzYWdlKTtcblx0ICAgICAgICAgICAgfTtcblx0ICAgICAgICB9XG5cdCAgICB9KTtcblxuXHQgICAgLyoqXG5cdCAgICAgKiBBbGdvcml0aG0gbmFtZXNwYWNlLlxuXHQgICAgICovXG5cdCAgICB2YXIgQ19hbGdvID0gQy5hbGdvID0ge307XG5cblx0ICAgIHJldHVybiBDO1xuXHR9KE1hdGgpKTtcblxuXG5cdHJldHVybiBDcnlwdG9KUztcblxufSkpOyIsIjsoZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYgKHR5cGVvZiBleHBvcnRzID09PSBcIm9iamVjdFwiKSB7XG5cdFx0Ly8gQ29tbW9uSlNcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoXCIuL2NvcmVcIikpO1xuXHR9XG5cdGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kKSB7XG5cdFx0Ly8gQU1EXG5cdFx0ZGVmaW5lKFtcIi4vY29yZVwiXSwgZmFjdG9yeSk7XG5cdH1cblx0ZWxzZSB7XG5cdFx0Ly8gR2xvYmFsIChicm93c2VyKVxuXHRcdGZhY3Rvcnkocm9vdC5DcnlwdG9KUyk7XG5cdH1cbn0odGhpcywgZnVuY3Rpb24gKENyeXB0b0pTKSB7XG5cblx0KGZ1bmN0aW9uIChNYXRoKSB7XG5cdCAgICAvLyBTaG9ydGN1dHNcblx0ICAgIHZhciBDID0gQ3J5cHRvSlM7XG5cdCAgICB2YXIgQ19saWIgPSBDLmxpYjtcblx0ICAgIHZhciBXb3JkQXJyYXkgPSBDX2xpYi5Xb3JkQXJyYXk7XG5cdCAgICB2YXIgSGFzaGVyID0gQ19saWIuSGFzaGVyO1xuXHQgICAgdmFyIENfYWxnbyA9IEMuYWxnbztcblxuXHQgICAgLy8gSW5pdGlhbGl6YXRpb24gYW5kIHJvdW5kIGNvbnN0YW50cyB0YWJsZXNcblx0ICAgIHZhciBIID0gW107XG5cdCAgICB2YXIgSyA9IFtdO1xuXG5cdCAgICAvLyBDb21wdXRlIGNvbnN0YW50c1xuXHQgICAgKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICBmdW5jdGlvbiBpc1ByaW1lKG4pIHtcblx0ICAgICAgICAgICAgdmFyIHNxcnROID0gTWF0aC5zcXJ0KG4pO1xuXHQgICAgICAgICAgICBmb3IgKHZhciBmYWN0b3IgPSAyOyBmYWN0b3IgPD0gc3FydE47IGZhY3RvcisrKSB7XG5cdCAgICAgICAgICAgICAgICBpZiAoIShuICUgZmFjdG9yKSkge1xuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIHJldHVybiB0cnVlO1xuXHQgICAgICAgIH1cblxuXHQgICAgICAgIGZ1bmN0aW9uIGdldEZyYWN0aW9uYWxCaXRzKG4pIHtcblx0ICAgICAgICAgICAgcmV0dXJuICgobiAtIChuIHwgMCkpICogMHgxMDAwMDAwMDApIHwgMDtcblx0ICAgICAgICB9XG5cblx0ICAgICAgICB2YXIgbiA9IDI7XG5cdCAgICAgICAgdmFyIG5QcmltZSA9IDA7XG5cdCAgICAgICAgd2hpbGUgKG5QcmltZSA8IDY0KSB7XG5cdCAgICAgICAgICAgIGlmIChpc1ByaW1lKG4pKSB7XG5cdCAgICAgICAgICAgICAgICBpZiAoblByaW1lIDwgOCkge1xuXHQgICAgICAgICAgICAgICAgICAgIEhbblByaW1lXSA9IGdldEZyYWN0aW9uYWxCaXRzKE1hdGgucG93KG4sIDEgLyAyKSk7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICBLW25QcmltZV0gPSBnZXRGcmFjdGlvbmFsQml0cyhNYXRoLnBvdyhuLCAxIC8gMykpO1xuXG5cdCAgICAgICAgICAgICAgICBuUHJpbWUrKztcblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIG4rKztcblx0ICAgICAgICB9XG5cdCAgICB9KCkpO1xuXG5cdCAgICAvLyBSZXVzYWJsZSBvYmplY3Rcblx0ICAgIHZhciBXID0gW107XG5cblx0ICAgIC8qKlxuXHQgICAgICogU0hBLTI1NiBoYXNoIGFsZ29yaXRobS5cblx0ICAgICAqL1xuXHQgICAgdmFyIFNIQTI1NiA9IENfYWxnby5TSEEyNTYgPSBIYXNoZXIuZXh0ZW5kKHtcblx0ICAgICAgICBfZG9SZXNldDogZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICB0aGlzLl9oYXNoID0gbmV3IFdvcmRBcnJheS5pbml0KEguc2xpY2UoMCkpO1xuXHQgICAgICAgIH0sXG5cblx0ICAgICAgICBfZG9Qcm9jZXNzQmxvY2s6IGZ1bmN0aW9uIChNLCBvZmZzZXQpIHtcblx0ICAgICAgICAgICAgLy8gU2hvcnRjdXRcblx0ICAgICAgICAgICAgdmFyIEggPSB0aGlzLl9oYXNoLndvcmRzO1xuXG5cdCAgICAgICAgICAgIC8vIFdvcmtpbmcgdmFyaWFibGVzXG5cdCAgICAgICAgICAgIHZhciBhID0gSFswXTtcblx0ICAgICAgICAgICAgdmFyIGIgPSBIWzFdO1xuXHQgICAgICAgICAgICB2YXIgYyA9IEhbMl07XG5cdCAgICAgICAgICAgIHZhciBkID0gSFszXTtcblx0ICAgICAgICAgICAgdmFyIGUgPSBIWzRdO1xuXHQgICAgICAgICAgICB2YXIgZiA9IEhbNV07XG5cdCAgICAgICAgICAgIHZhciBnID0gSFs2XTtcblx0ICAgICAgICAgICAgdmFyIGggPSBIWzddO1xuXG5cdCAgICAgICAgICAgIC8vIENvbXB1dGF0aW9uXG5cdCAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNjQ7IGkrKykge1xuXHQgICAgICAgICAgICAgICAgaWYgKGkgPCAxNikge1xuXHQgICAgICAgICAgICAgICAgICAgIFdbaV0gPSBNW29mZnNldCArIGldIHwgMDtcblx0ICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgdmFyIGdhbW1hMHggPSBXW2kgLSAxNV07XG5cdCAgICAgICAgICAgICAgICAgICAgdmFyIGdhbW1hMCAgPSAoKGdhbW1hMHggPDwgMjUpIHwgKGdhbW1hMHggPj4+IDcpKSAgXlxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKChnYW1tYTB4IDw8IDE0KSB8IChnYW1tYTB4ID4+PiAxOCkpIF5cblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZ2FtbWEweCA+Pj4gMyk7XG5cblx0ICAgICAgICAgICAgICAgICAgICB2YXIgZ2FtbWExeCA9IFdbaSAtIDJdO1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciBnYW1tYTEgID0gKChnYW1tYTF4IDw8IDE1KSB8IChnYW1tYTF4ID4+PiAxNykpIF5cblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICgoZ2FtbWExeCA8PCAxMykgfCAoZ2FtbWExeCA+Pj4gMTkpKSBeXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGdhbW1hMXggPj4+IDEwKTtcblxuXHQgICAgICAgICAgICAgICAgICAgIFdbaV0gPSBnYW1tYTAgKyBXW2kgLSA3XSArIGdhbW1hMSArIFdbaSAtIDE2XTtcblx0ICAgICAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAgICAgdmFyIGNoICA9IChlICYgZikgXiAofmUgJiBnKTtcblx0ICAgICAgICAgICAgICAgIHZhciBtYWogPSAoYSAmIGIpIF4gKGEgJiBjKSBeIChiICYgYyk7XG5cblx0ICAgICAgICAgICAgICAgIHZhciBzaWdtYTAgPSAoKGEgPDwgMzApIHwgKGEgPj4+IDIpKSBeICgoYSA8PCAxOSkgfCAoYSA+Pj4gMTMpKSBeICgoYSA8PCAxMCkgfCAoYSA+Pj4gMjIpKTtcblx0ICAgICAgICAgICAgICAgIHZhciBzaWdtYTEgPSAoKGUgPDwgMjYpIHwgKGUgPj4+IDYpKSBeICgoZSA8PCAyMSkgfCAoZSA+Pj4gMTEpKSBeICgoZSA8PCA3KSAgfCAoZSA+Pj4gMjUpKTtcblxuXHQgICAgICAgICAgICAgICAgdmFyIHQxID0gaCArIHNpZ21hMSArIGNoICsgS1tpXSArIFdbaV07XG5cdCAgICAgICAgICAgICAgICB2YXIgdDIgPSBzaWdtYTAgKyBtYWo7XG5cblx0ICAgICAgICAgICAgICAgIGggPSBnO1xuXHQgICAgICAgICAgICAgICAgZyA9IGY7XG5cdCAgICAgICAgICAgICAgICBmID0gZTtcblx0ICAgICAgICAgICAgICAgIGUgPSAoZCArIHQxKSB8IDA7XG5cdCAgICAgICAgICAgICAgICBkID0gYztcblx0ICAgICAgICAgICAgICAgIGMgPSBiO1xuXHQgICAgICAgICAgICAgICAgYiA9IGE7XG5cdCAgICAgICAgICAgICAgICBhID0gKHQxICsgdDIpIHwgMDtcblx0ICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgIC8vIEludGVybWVkaWF0ZSBoYXNoIHZhbHVlXG5cdCAgICAgICAgICAgIEhbMF0gPSAoSFswXSArIGEpIHwgMDtcblx0ICAgICAgICAgICAgSFsxXSA9IChIWzFdICsgYikgfCAwO1xuXHQgICAgICAgICAgICBIWzJdID0gKEhbMl0gKyBjKSB8IDA7XG5cdCAgICAgICAgICAgIEhbM10gPSAoSFszXSArIGQpIHwgMDtcblx0ICAgICAgICAgICAgSFs0XSA9IChIWzRdICsgZSkgfCAwO1xuXHQgICAgICAgICAgICBIWzVdID0gKEhbNV0gKyBmKSB8IDA7XG5cdCAgICAgICAgICAgIEhbNl0gPSAoSFs2XSArIGcpIHwgMDtcblx0ICAgICAgICAgICAgSFs3XSA9IChIWzddICsgaCkgfCAwO1xuXHQgICAgICAgIH0sXG5cblx0ICAgICAgICBfZG9GaW5hbGl6ZTogZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAvLyBTaG9ydGN1dHNcblx0ICAgICAgICAgICAgdmFyIGRhdGEgPSB0aGlzLl9kYXRhO1xuXHQgICAgICAgICAgICB2YXIgZGF0YVdvcmRzID0gZGF0YS53b3JkcztcblxuXHQgICAgICAgICAgICB2YXIgbkJpdHNUb3RhbCA9IHRoaXMuX25EYXRhQnl0ZXMgKiA4O1xuXHQgICAgICAgICAgICB2YXIgbkJpdHNMZWZ0ID0gZGF0YS5zaWdCeXRlcyAqIDg7XG5cblx0ICAgICAgICAgICAgLy8gQWRkIHBhZGRpbmdcblx0ICAgICAgICAgICAgZGF0YVdvcmRzW25CaXRzTGVmdCA+Pj4gNV0gfD0gMHg4MCA8PCAoMjQgLSBuQml0c0xlZnQgJSAzMik7XG5cdCAgICAgICAgICAgIGRhdGFXb3Jkc1soKChuQml0c0xlZnQgKyA2NCkgPj4+IDkpIDw8IDQpICsgMTRdID0gTWF0aC5mbG9vcihuQml0c1RvdGFsIC8gMHgxMDAwMDAwMDApO1xuXHQgICAgICAgICAgICBkYXRhV29yZHNbKCgobkJpdHNMZWZ0ICsgNjQpID4+PiA5KSA8PCA0KSArIDE1XSA9IG5CaXRzVG90YWw7XG5cdCAgICAgICAgICAgIGRhdGEuc2lnQnl0ZXMgPSBkYXRhV29yZHMubGVuZ3RoICogNDtcblxuXHQgICAgICAgICAgICAvLyBIYXNoIGZpbmFsIGJsb2Nrc1xuXHQgICAgICAgICAgICB0aGlzLl9wcm9jZXNzKCk7XG5cblx0ICAgICAgICAgICAgLy8gUmV0dXJuIGZpbmFsIGNvbXB1dGVkIGhhc2hcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2hhc2g7XG5cdCAgICAgICAgfSxcblxuXHQgICAgICAgIGNsb25lOiBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIHZhciBjbG9uZSA9IEhhc2hlci5jbG9uZS5jYWxsKHRoaXMpO1xuXHQgICAgICAgICAgICBjbG9uZS5faGFzaCA9IHRoaXMuX2hhc2guY2xvbmUoKTtcblxuXHQgICAgICAgICAgICByZXR1cm4gY2xvbmU7XG5cdCAgICAgICAgfVxuXHQgICAgfSk7XG5cblx0ICAgIC8qKlxuXHQgICAgICogU2hvcnRjdXQgZnVuY3Rpb24gdG8gdGhlIGhhc2hlcidzIG9iamVjdCBpbnRlcmZhY2UuXG5cdCAgICAgKlxuXHQgICAgICogQHBhcmFtIHtXb3JkQXJyYXl8c3RyaW5nfSBtZXNzYWdlIFRoZSBtZXNzYWdlIHRvIGhhc2guXG5cdCAgICAgKlxuXHQgICAgICogQHJldHVybiB7V29yZEFycmF5fSBUaGUgaGFzaC5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiAgICAgdmFyIGhhc2ggPSBDcnlwdG9KUy5TSEEyNTYoJ21lc3NhZ2UnKTtcblx0ICAgICAqICAgICB2YXIgaGFzaCA9IENyeXB0b0pTLlNIQTI1Nih3b3JkQXJyYXkpO1xuXHQgICAgICovXG5cdCAgICBDLlNIQTI1NiA9IEhhc2hlci5fY3JlYXRlSGVscGVyKFNIQTI1Nik7XG5cblx0ICAgIC8qKlxuXHQgICAgICogU2hvcnRjdXQgZnVuY3Rpb24gdG8gdGhlIEhNQUMncyBvYmplY3QgaW50ZXJmYWNlLlxuXHQgICAgICpcblx0ICAgICAqIEBwYXJhbSB7V29yZEFycmF5fHN0cmluZ30gbWVzc2FnZSBUaGUgbWVzc2FnZSB0byBoYXNoLlxuXHQgICAgICogQHBhcmFtIHtXb3JkQXJyYXl8c3RyaW5nfSBrZXkgVGhlIHNlY3JldCBrZXkuXG5cdCAgICAgKlxuXHQgICAgICogQHJldHVybiB7V29yZEFycmF5fSBUaGUgSE1BQy5cblx0ICAgICAqXG5cdCAgICAgKiBAc3RhdGljXG5cdCAgICAgKlxuXHQgICAgICogQGV4YW1wbGVcblx0ICAgICAqXG5cdCAgICAgKiAgICAgdmFyIGhtYWMgPSBDcnlwdG9KUy5IbWFjU0hBMjU2KG1lc3NhZ2UsIGtleSk7XG5cdCAgICAgKi9cblx0ICAgIEMuSG1hY1NIQTI1NiA9IEhhc2hlci5fY3JlYXRlSG1hY0hlbHBlcihTSEEyNTYpO1xuXHR9KE1hdGgpKTtcblxuXG5cdHJldHVybiBDcnlwdG9KUy5TSEEyNTY7XG5cbn0pKTsiLCI7KGZ1bmN0aW9uIChyb290LCBmYWN0b3J5KSB7XG5cdGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gXCJvYmplY3RcIikge1xuXHRcdC8vIENvbW1vbkpTXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKFwiLi9jb3JlXCIpKTtcblx0fVxuXHRlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCkge1xuXHRcdC8vIEFNRFxuXHRcdGRlZmluZShbXCIuL2NvcmVcIl0sIGZhY3RvcnkpO1xuXHR9XG5cdGVsc2Uge1xuXHRcdC8vIEdsb2JhbCAoYnJvd3Nlcilcblx0XHRmYWN0b3J5KHJvb3QuQ3J5cHRvSlMpO1xuXHR9XG59KHRoaXMsIGZ1bmN0aW9uIChDcnlwdG9KUykge1xuXG5cdChmdW5jdGlvbiAodW5kZWZpbmVkKSB7XG5cdCAgICAvLyBTaG9ydGN1dHNcblx0ICAgIHZhciBDID0gQ3J5cHRvSlM7XG5cdCAgICB2YXIgQ19saWIgPSBDLmxpYjtcblx0ICAgIHZhciBCYXNlID0gQ19saWIuQmFzZTtcblx0ICAgIHZhciBYMzJXb3JkQXJyYXkgPSBDX2xpYi5Xb3JkQXJyYXk7XG5cblx0ICAgIC8qKlxuXHQgICAgICogeDY0IG5hbWVzcGFjZS5cblx0ICAgICAqL1xuXHQgICAgdmFyIENfeDY0ID0gQy54NjQgPSB7fTtcblxuXHQgICAgLyoqXG5cdCAgICAgKiBBIDY0LWJpdCB3b3JkLlxuXHQgICAgICovXG5cdCAgICB2YXIgWDY0V29yZCA9IENfeDY0LldvcmQgPSBCYXNlLmV4dGVuZCh7XG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogSW5pdGlhbGl6ZXMgYSBuZXdseSBjcmVhdGVkIDY0LWJpdCB3b3JkLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IGhpZ2ggVGhlIGhpZ2ggMzIgYml0cy5cblx0ICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gbG93IFRoZSBsb3cgMzIgYml0cy5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBleGFtcGxlXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiAgICAgdmFyIHg2NFdvcmQgPSBDcnlwdG9KUy54NjQuV29yZC5jcmVhdGUoMHgwMDAxMDIwMywgMHgwNDA1MDYwNyk7XG5cdCAgICAgICAgICovXG5cdCAgICAgICAgaW5pdDogZnVuY3Rpb24gKGhpZ2gsIGxvdykge1xuXHQgICAgICAgICAgICB0aGlzLmhpZ2ggPSBoaWdoO1xuXHQgICAgICAgICAgICB0aGlzLmxvdyA9IGxvdztcblx0ICAgICAgICB9XG5cblx0ICAgICAgICAvKipcblx0ICAgICAgICAgKiBCaXR3aXNlIE5PVHMgdGhpcyB3b3JkLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHJldHVybiB7WDY0V29yZH0gQSBuZXcgeDY0LVdvcmQgb2JqZWN0IGFmdGVyIG5lZ2F0aW5nLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQGV4YW1wbGVcblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqICAgICB2YXIgbmVnYXRlZCA9IHg2NFdvcmQubm90KCk7XG5cdCAgICAgICAgICovXG5cdCAgICAgICAgLy8gbm90OiBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIC8vIHZhciBoaWdoID0gfnRoaXMuaGlnaDtcblx0ICAgICAgICAgICAgLy8gdmFyIGxvdyA9IH50aGlzLmxvdztcblxuXHQgICAgICAgICAgICAvLyByZXR1cm4gWDY0V29yZC5jcmVhdGUoaGlnaCwgbG93KTtcblx0ICAgICAgICAvLyB9LFxuXG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogQml0d2lzZSBBTkRzIHRoaXMgd29yZCB3aXRoIHRoZSBwYXNzZWQgd29yZC5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBwYXJhbSB7WDY0V29yZH0gd29yZCBUaGUgeDY0LVdvcmQgdG8gQU5EIHdpdGggdGhpcyB3b3JkLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHJldHVybiB7WDY0V29yZH0gQSBuZXcgeDY0LVdvcmQgb2JqZWN0IGFmdGVyIEFORGluZy5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBleGFtcGxlXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiAgICAgdmFyIGFuZGVkID0geDY0V29yZC5hbmQoYW5vdGhlclg2NFdvcmQpO1xuXHQgICAgICAgICAqL1xuXHQgICAgICAgIC8vIGFuZDogZnVuY3Rpb24gKHdvcmQpIHtcblx0ICAgICAgICAgICAgLy8gdmFyIGhpZ2ggPSB0aGlzLmhpZ2ggJiB3b3JkLmhpZ2g7XG5cdCAgICAgICAgICAgIC8vIHZhciBsb3cgPSB0aGlzLmxvdyAmIHdvcmQubG93O1xuXG5cdCAgICAgICAgICAgIC8vIHJldHVybiBYNjRXb3JkLmNyZWF0ZShoaWdoLCBsb3cpO1xuXHQgICAgICAgIC8vIH0sXG5cblx0ICAgICAgICAvKipcblx0ICAgICAgICAgKiBCaXR3aXNlIE9ScyB0aGlzIHdvcmQgd2l0aCB0aGUgcGFzc2VkIHdvcmQuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAcGFyYW0ge1g2NFdvcmR9IHdvcmQgVGhlIHg2NC1Xb3JkIHRvIE9SIHdpdGggdGhpcyB3b3JkLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHJldHVybiB7WDY0V29yZH0gQSBuZXcgeDY0LVdvcmQgb2JqZWN0IGFmdGVyIE9SaW5nLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQGV4YW1wbGVcblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqICAgICB2YXIgb3JlZCA9IHg2NFdvcmQub3IoYW5vdGhlclg2NFdvcmQpO1xuXHQgICAgICAgICAqL1xuXHQgICAgICAgIC8vIG9yOiBmdW5jdGlvbiAod29yZCkge1xuXHQgICAgICAgICAgICAvLyB2YXIgaGlnaCA9IHRoaXMuaGlnaCB8IHdvcmQuaGlnaDtcblx0ICAgICAgICAgICAgLy8gdmFyIGxvdyA9IHRoaXMubG93IHwgd29yZC5sb3c7XG5cblx0ICAgICAgICAgICAgLy8gcmV0dXJuIFg2NFdvcmQuY3JlYXRlKGhpZ2gsIGxvdyk7XG5cdCAgICAgICAgLy8gfSxcblxuXHQgICAgICAgIC8qKlxuXHQgICAgICAgICAqIEJpdHdpc2UgWE9ScyB0aGlzIHdvcmQgd2l0aCB0aGUgcGFzc2VkIHdvcmQuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAcGFyYW0ge1g2NFdvcmR9IHdvcmQgVGhlIHg2NC1Xb3JkIHRvIFhPUiB3aXRoIHRoaXMgd29yZC5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEByZXR1cm4ge1g2NFdvcmR9IEEgbmV3IHg2NC1Xb3JkIG9iamVjdCBhZnRlciBYT1JpbmcuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAZXhhbXBsZVxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogICAgIHZhciB4b3JlZCA9IHg2NFdvcmQueG9yKGFub3RoZXJYNjRXb3JkKTtcblx0ICAgICAgICAgKi9cblx0ICAgICAgICAvLyB4b3I6IGZ1bmN0aW9uICh3b3JkKSB7XG5cdCAgICAgICAgICAgIC8vIHZhciBoaWdoID0gdGhpcy5oaWdoIF4gd29yZC5oaWdoO1xuXHQgICAgICAgICAgICAvLyB2YXIgbG93ID0gdGhpcy5sb3cgXiB3b3JkLmxvdztcblxuXHQgICAgICAgICAgICAvLyByZXR1cm4gWDY0V29yZC5jcmVhdGUoaGlnaCwgbG93KTtcblx0ICAgICAgICAvLyB9LFxuXG5cdCAgICAgICAgLyoqXG5cdCAgICAgICAgICogU2hpZnRzIHRoaXMgd29yZCBuIGJpdHMgdG8gdGhlIGxlZnQuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIGJpdHMgdG8gc2hpZnQuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAcmV0dXJuIHtYNjRXb3JkfSBBIG5ldyB4NjQtV29yZCBvYmplY3QgYWZ0ZXIgc2hpZnRpbmcuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAZXhhbXBsZVxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogICAgIHZhciBzaGlmdGVkID0geDY0V29yZC5zaGlmdEwoMjUpO1xuXHQgICAgICAgICAqL1xuXHQgICAgICAgIC8vIHNoaWZ0TDogZnVuY3Rpb24gKG4pIHtcblx0ICAgICAgICAgICAgLy8gaWYgKG4gPCAzMikge1xuXHQgICAgICAgICAgICAgICAgLy8gdmFyIGhpZ2ggPSAodGhpcy5oaWdoIDw8IG4pIHwgKHRoaXMubG93ID4+PiAoMzIgLSBuKSk7XG5cdCAgICAgICAgICAgICAgICAvLyB2YXIgbG93ID0gdGhpcy5sb3cgPDwgbjtcblx0ICAgICAgICAgICAgLy8gfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIC8vIHZhciBoaWdoID0gdGhpcy5sb3cgPDwgKG4gLSAzMik7XG5cdCAgICAgICAgICAgICAgICAvLyB2YXIgbG93ID0gMDtcblx0ICAgICAgICAgICAgLy8gfVxuXG5cdCAgICAgICAgICAgIC8vIHJldHVybiBYNjRXb3JkLmNyZWF0ZShoaWdoLCBsb3cpO1xuXHQgICAgICAgIC8vIH0sXG5cblx0ICAgICAgICAvKipcblx0ICAgICAgICAgKiBTaGlmdHMgdGhpcyB3b3JkIG4gYml0cyB0byB0aGUgcmlnaHQuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIGJpdHMgdG8gc2hpZnQuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAcmV0dXJuIHtYNjRXb3JkfSBBIG5ldyB4NjQtV29yZCBvYmplY3QgYWZ0ZXIgc2hpZnRpbmcuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAZXhhbXBsZVxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogICAgIHZhciBzaGlmdGVkID0geDY0V29yZC5zaGlmdFIoNyk7XG5cdCAgICAgICAgICovXG5cdCAgICAgICAgLy8gc2hpZnRSOiBmdW5jdGlvbiAobikge1xuXHQgICAgICAgICAgICAvLyBpZiAobiA8IDMyKSB7XG5cdCAgICAgICAgICAgICAgICAvLyB2YXIgbG93ID0gKHRoaXMubG93ID4+PiBuKSB8ICh0aGlzLmhpZ2ggPDwgKDMyIC0gbikpO1xuXHQgICAgICAgICAgICAgICAgLy8gdmFyIGhpZ2ggPSB0aGlzLmhpZ2ggPj4+IG47XG5cdCAgICAgICAgICAgIC8vIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAvLyB2YXIgbG93ID0gdGhpcy5oaWdoID4+PiAobiAtIDMyKTtcblx0ICAgICAgICAgICAgICAgIC8vIHZhciBoaWdoID0gMDtcblx0ICAgICAgICAgICAgLy8gfVxuXG5cdCAgICAgICAgICAgIC8vIHJldHVybiBYNjRXb3JkLmNyZWF0ZShoaWdoLCBsb3cpO1xuXHQgICAgICAgIC8vIH0sXG5cblx0ICAgICAgICAvKipcblx0ICAgICAgICAgKiBSb3RhdGVzIHRoaXMgd29yZCBuIGJpdHMgdG8gdGhlIGxlZnQuXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIGJpdHMgdG8gcm90YXRlLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHJldHVybiB7WDY0V29yZH0gQSBuZXcgeDY0LVdvcmQgb2JqZWN0IGFmdGVyIHJvdGF0aW5nLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQGV4YW1wbGVcblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqICAgICB2YXIgcm90YXRlZCA9IHg2NFdvcmQucm90TCgyNSk7XG5cdCAgICAgICAgICovXG5cdCAgICAgICAgLy8gcm90TDogZnVuY3Rpb24gKG4pIHtcblx0ICAgICAgICAgICAgLy8gcmV0dXJuIHRoaXMuc2hpZnRMKG4pLm9yKHRoaXMuc2hpZnRSKDY0IC0gbikpO1xuXHQgICAgICAgIC8vIH0sXG5cblx0ICAgICAgICAvKipcblx0ICAgICAgICAgKiBSb3RhdGVzIHRoaXMgd29yZCBuIGJpdHMgdG8gdGhlIHJpZ2h0LlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiBiaXRzIHRvIHJvdGF0ZS5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEByZXR1cm4ge1g2NFdvcmR9IEEgbmV3IHg2NC1Xb3JkIG9iamVjdCBhZnRlciByb3RhdGluZy5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBleGFtcGxlXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiAgICAgdmFyIHJvdGF0ZWQgPSB4NjRXb3JkLnJvdFIoNyk7XG5cdCAgICAgICAgICovXG5cdCAgICAgICAgLy8gcm90UjogZnVuY3Rpb24gKG4pIHtcblx0ICAgICAgICAgICAgLy8gcmV0dXJuIHRoaXMuc2hpZnRSKG4pLm9yKHRoaXMuc2hpZnRMKDY0IC0gbikpO1xuXHQgICAgICAgIC8vIH0sXG5cblx0ICAgICAgICAvKipcblx0ICAgICAgICAgKiBBZGRzIHRoaXMgd29yZCB3aXRoIHRoZSBwYXNzZWQgd29yZC5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBwYXJhbSB7WDY0V29yZH0gd29yZCBUaGUgeDY0LVdvcmQgdG8gYWRkIHdpdGggdGhpcyB3b3JkLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQHJldHVybiB7WDY0V29yZH0gQSBuZXcgeDY0LVdvcmQgb2JqZWN0IGFmdGVyIGFkZGluZy5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBleGFtcGxlXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiAgICAgdmFyIGFkZGVkID0geDY0V29yZC5hZGQoYW5vdGhlclg2NFdvcmQpO1xuXHQgICAgICAgICAqL1xuXHQgICAgICAgIC8vIGFkZDogZnVuY3Rpb24gKHdvcmQpIHtcblx0ICAgICAgICAgICAgLy8gdmFyIGxvdyA9ICh0aGlzLmxvdyArIHdvcmQubG93KSB8IDA7XG5cdCAgICAgICAgICAgIC8vIHZhciBjYXJyeSA9IChsb3cgPj4+IDApIDwgKHRoaXMubG93ID4+PiAwKSA/IDEgOiAwO1xuXHQgICAgICAgICAgICAvLyB2YXIgaGlnaCA9ICh0aGlzLmhpZ2ggKyB3b3JkLmhpZ2ggKyBjYXJyeSkgfCAwO1xuXG5cdCAgICAgICAgICAgIC8vIHJldHVybiBYNjRXb3JkLmNyZWF0ZShoaWdoLCBsb3cpO1xuXHQgICAgICAgIC8vIH1cblx0ICAgIH0pO1xuXG5cdCAgICAvKipcblx0ICAgICAqIEFuIGFycmF5IG9mIDY0LWJpdCB3b3Jkcy5cblx0ICAgICAqXG5cdCAgICAgKiBAcHJvcGVydHkge0FycmF5fSB3b3JkcyBUaGUgYXJyYXkgb2YgQ3J5cHRvSlMueDY0LldvcmQgb2JqZWN0cy5cblx0ICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBzaWdCeXRlcyBUaGUgbnVtYmVyIG9mIHNpZ25pZmljYW50IGJ5dGVzIGluIHRoaXMgd29yZCBhcnJheS5cblx0ICAgICAqL1xuXHQgICAgdmFyIFg2NFdvcmRBcnJheSA9IENfeDY0LldvcmRBcnJheSA9IEJhc2UuZXh0ZW5kKHtcblx0ICAgICAgICAvKipcblx0ICAgICAgICAgKiBJbml0aWFsaXplcyBhIG5ld2x5IGNyZWF0ZWQgd29yZCBhcnJheS5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBwYXJhbSB7QXJyYXl9IHdvcmRzIChPcHRpb25hbCkgQW4gYXJyYXkgb2YgQ3J5cHRvSlMueDY0LldvcmQgb2JqZWN0cy5cblx0ICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gc2lnQnl0ZXMgKE9wdGlvbmFsKSBUaGUgbnVtYmVyIG9mIHNpZ25pZmljYW50IGJ5dGVzIGluIHRoZSB3b3Jkcy5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBleGFtcGxlXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiAgICAgdmFyIHdvcmRBcnJheSA9IENyeXB0b0pTLng2NC5Xb3JkQXJyYXkuY3JlYXRlKCk7XG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiAgICAgdmFyIHdvcmRBcnJheSA9IENyeXB0b0pTLng2NC5Xb3JkQXJyYXkuY3JlYXRlKFtcblx0ICAgICAgICAgKiAgICAgICAgIENyeXB0b0pTLng2NC5Xb3JkLmNyZWF0ZSgweDAwMDEwMjAzLCAweDA0MDUwNjA3KSxcblx0ICAgICAgICAgKiAgICAgICAgIENyeXB0b0pTLng2NC5Xb3JkLmNyZWF0ZSgweDE4MTkxYTFiLCAweDFjMWQxZTFmKVxuXHQgICAgICAgICAqICAgICBdKTtcblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqICAgICB2YXIgd29yZEFycmF5ID0gQ3J5cHRvSlMueDY0LldvcmRBcnJheS5jcmVhdGUoW1xuXHQgICAgICAgICAqICAgICAgICAgQ3J5cHRvSlMueDY0LldvcmQuY3JlYXRlKDB4MDAwMTAyMDMsIDB4MDQwNTA2MDcpLFxuXHQgICAgICAgICAqICAgICAgICAgQ3J5cHRvSlMueDY0LldvcmQuY3JlYXRlKDB4MTgxOTFhMWIsIDB4MWMxZDFlMWYpXG5cdCAgICAgICAgICogICAgIF0sIDEwKTtcblx0ICAgICAgICAgKi9cblx0ICAgICAgICBpbml0OiBmdW5jdGlvbiAod29yZHMsIHNpZ0J5dGVzKSB7XG5cdCAgICAgICAgICAgIHdvcmRzID0gdGhpcy53b3JkcyA9IHdvcmRzIHx8IFtdO1xuXG5cdCAgICAgICAgICAgIGlmIChzaWdCeXRlcyAhPSB1bmRlZmluZWQpIHtcblx0ICAgICAgICAgICAgICAgIHRoaXMuc2lnQnl0ZXMgPSBzaWdCeXRlcztcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIHRoaXMuc2lnQnl0ZXMgPSB3b3Jkcy5sZW5ndGggKiA4O1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfSxcblxuXHQgICAgICAgIC8qKlxuXHQgICAgICAgICAqIENvbnZlcnRzIHRoaXMgNjQtYml0IHdvcmQgYXJyYXkgdG8gYSAzMi1iaXQgd29yZCBhcnJheS5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEByZXR1cm4ge0NyeXB0b0pTLmxpYi5Xb3JkQXJyYXl9IFRoaXMgd29yZCBhcnJheSdzIGRhdGEgYXMgYSAzMi1iaXQgd29yZCBhcnJheS5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEBleGFtcGxlXG5cdCAgICAgICAgICpcblx0ICAgICAgICAgKiAgICAgdmFyIHgzMldvcmRBcnJheSA9IHg2NFdvcmRBcnJheS50b1gzMigpO1xuXHQgICAgICAgICAqL1xuXHQgICAgICAgIHRvWDMyOiBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgIC8vIFNob3J0Y3V0c1xuXHQgICAgICAgICAgICB2YXIgeDY0V29yZHMgPSB0aGlzLndvcmRzO1xuXHQgICAgICAgICAgICB2YXIgeDY0V29yZHNMZW5ndGggPSB4NjRXb3Jkcy5sZW5ndGg7XG5cblx0ICAgICAgICAgICAgLy8gQ29udmVydFxuXHQgICAgICAgICAgICB2YXIgeDMyV29yZHMgPSBbXTtcblx0ICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB4NjRXb3Jkc0xlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgeDY0V29yZCA9IHg2NFdvcmRzW2ldO1xuXHQgICAgICAgICAgICAgICAgeDMyV29yZHMucHVzaCh4NjRXb3JkLmhpZ2gpO1xuXHQgICAgICAgICAgICAgICAgeDMyV29yZHMucHVzaCh4NjRXb3JkLmxvdyk7XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICByZXR1cm4gWDMyV29yZEFycmF5LmNyZWF0ZSh4MzJXb3JkcywgdGhpcy5zaWdCeXRlcyk7XG5cdCAgICAgICAgfSxcblxuXHQgICAgICAgIC8qKlxuXHQgICAgICAgICAqIENyZWF0ZXMgYSBjb3B5IG9mIHRoaXMgd29yZCBhcnJheS5cblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqIEByZXR1cm4ge1g2NFdvcmRBcnJheX0gVGhlIGNsb25lLlxuXHQgICAgICAgICAqXG5cdCAgICAgICAgICogQGV4YW1wbGVcblx0ICAgICAgICAgKlxuXHQgICAgICAgICAqICAgICB2YXIgY2xvbmUgPSB4NjRXb3JkQXJyYXkuY2xvbmUoKTtcblx0ICAgICAgICAgKi9cblx0ICAgICAgICBjbG9uZTogZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICB2YXIgY2xvbmUgPSBCYXNlLmNsb25lLmNhbGwodGhpcyk7XG5cblx0ICAgICAgICAgICAgLy8gQ2xvbmUgXCJ3b3Jkc1wiIGFycmF5XG5cdCAgICAgICAgICAgIHZhciB3b3JkcyA9IGNsb25lLndvcmRzID0gdGhpcy53b3Jkcy5zbGljZSgwKTtcblxuXHQgICAgICAgICAgICAvLyBDbG9uZSBlYWNoIFg2NFdvcmQgb2JqZWN0XG5cdCAgICAgICAgICAgIHZhciB3b3Jkc0xlbmd0aCA9IHdvcmRzLmxlbmd0aDtcblx0ICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB3b3Jkc0xlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgICAgICAgICB3b3Jkc1tpXSA9IHdvcmRzW2ldLmNsb25lKCk7XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICByZXR1cm4gY2xvbmU7XG5cdCAgICAgICAgfVxuXHQgICAgfSk7XG5cdH0oKSk7XG5cblxuXHRyZXR1cm4gQ3J5cHRvSlM7XG5cbn0pKTsiLCI7KGZ1bmN0aW9uIChyb290LCBmYWN0b3J5LCB1bmRlZikge1xuXHRpZiAodHlwZW9mIGV4cG9ydHMgPT09IFwib2JqZWN0XCIpIHtcblx0XHQvLyBDb21tb25KU1xuXHRcdG1vZHVsZS5leHBvcnRzID0gZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZShcIi4vY29yZVwiKSwgcmVxdWlyZShcIi4veDY0LWNvcmVcIikpO1xuXHR9XG5cdGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kKSB7XG5cdFx0Ly8gQU1EXG5cdFx0ZGVmaW5lKFtcIi4vY29yZVwiLCBcIi4veDY0LWNvcmVcIl0sIGZhY3RvcnkpO1xuXHR9XG5cdGVsc2Uge1xuXHRcdC8vIEdsb2JhbCAoYnJvd3Nlcilcblx0XHRmYWN0b3J5KHJvb3QuQ3J5cHRvSlMpO1xuXHR9XG59KHRoaXMsIGZ1bmN0aW9uIChDcnlwdG9KUykge1xuXG5cdChmdW5jdGlvbiAoKSB7XG5cdCAgICAvLyBTaG9ydGN1dHNcblx0ICAgIHZhciBDID0gQ3J5cHRvSlM7XG5cdCAgICB2YXIgQ19saWIgPSBDLmxpYjtcblx0ICAgIHZhciBIYXNoZXIgPSBDX2xpYi5IYXNoZXI7XG5cdCAgICB2YXIgQ194NjQgPSBDLng2NDtcblx0ICAgIHZhciBYNjRXb3JkID0gQ194NjQuV29yZDtcblx0ICAgIHZhciBYNjRXb3JkQXJyYXkgPSBDX3g2NC5Xb3JkQXJyYXk7XG5cdCAgICB2YXIgQ19hbGdvID0gQy5hbGdvO1xuXG5cdCAgICBmdW5jdGlvbiBYNjRXb3JkX2NyZWF0ZSgpIHtcblx0ICAgICAgICByZXR1cm4gWDY0V29yZC5jcmVhdGUuYXBwbHkoWDY0V29yZCwgYXJndW1lbnRzKTtcblx0ICAgIH1cblxuXHQgICAgLy8gQ29uc3RhbnRzXG5cdCAgICB2YXIgSyA9IFtcblx0ICAgICAgICBYNjRXb3JkX2NyZWF0ZSgweDQyOGEyZjk4LCAweGQ3MjhhZTIyKSwgWDY0V29yZF9jcmVhdGUoMHg3MTM3NDQ5MSwgMHgyM2VmNjVjZCksXG5cdCAgICAgICAgWDY0V29yZF9jcmVhdGUoMHhiNWMwZmJjZiwgMHhlYzRkM2IyZiksIFg2NFdvcmRfY3JlYXRlKDB4ZTliNWRiYTUsIDB4ODE4OWRiYmMpLFxuXHQgICAgICAgIFg2NFdvcmRfY3JlYXRlKDB4Mzk1NmMyNWIsIDB4ZjM0OGI1MzgpLCBYNjRXb3JkX2NyZWF0ZSgweDU5ZjExMWYxLCAweGI2MDVkMDE5KSxcblx0ICAgICAgICBYNjRXb3JkX2NyZWF0ZSgweDkyM2Y4MmE0LCAweGFmMTk0ZjliKSwgWDY0V29yZF9jcmVhdGUoMHhhYjFjNWVkNSwgMHhkYTZkODExOCksXG5cdCAgICAgICAgWDY0V29yZF9jcmVhdGUoMHhkODA3YWE5OCwgMHhhMzAzMDI0MiksIFg2NFdvcmRfY3JlYXRlKDB4MTI4MzViMDEsIDB4NDU3MDZmYmUpLFxuXHQgICAgICAgIFg2NFdvcmRfY3JlYXRlKDB4MjQzMTg1YmUsIDB4NGVlNGIyOGMpLCBYNjRXb3JkX2NyZWF0ZSgweDU1MGM3ZGMzLCAweGQ1ZmZiNGUyKSxcblx0ICAgICAgICBYNjRXb3JkX2NyZWF0ZSgweDcyYmU1ZDc0LCAweGYyN2I4OTZmKSwgWDY0V29yZF9jcmVhdGUoMHg4MGRlYjFmZSwgMHgzYjE2OTZiMSksXG5cdCAgICAgICAgWDY0V29yZF9jcmVhdGUoMHg5YmRjMDZhNywgMHgyNWM3MTIzNSksIFg2NFdvcmRfY3JlYXRlKDB4YzE5YmYxNzQsIDB4Y2Y2OTI2OTQpLFxuXHQgICAgICAgIFg2NFdvcmRfY3JlYXRlKDB4ZTQ5YjY5YzEsIDB4OWVmMTRhZDIpLCBYNjRXb3JkX2NyZWF0ZSgweGVmYmU0Nzg2LCAweDM4NGYyNWUzKSxcblx0ICAgICAgICBYNjRXb3JkX2NyZWF0ZSgweDBmYzE5ZGM2LCAweDhiOGNkNWI1KSwgWDY0V29yZF9jcmVhdGUoMHgyNDBjYTFjYywgMHg3N2FjOWM2NSksXG5cdCAgICAgICAgWDY0V29yZF9jcmVhdGUoMHgyZGU5MmM2ZiwgMHg1OTJiMDI3NSksIFg2NFdvcmRfY3JlYXRlKDB4NGE3NDg0YWEsIDB4NmVhNmU0ODMpLFxuXHQgICAgICAgIFg2NFdvcmRfY3JlYXRlKDB4NWNiMGE5ZGMsIDB4YmQ0MWZiZDQpLCBYNjRXb3JkX2NyZWF0ZSgweDc2Zjk4OGRhLCAweDgzMTE1M2I1KSxcblx0ICAgICAgICBYNjRXb3JkX2NyZWF0ZSgweDk4M2U1MTUyLCAweGVlNjZkZmFiKSwgWDY0V29yZF9jcmVhdGUoMHhhODMxYzY2ZCwgMHgyZGI0MzIxMCksXG5cdCAgICAgICAgWDY0V29yZF9jcmVhdGUoMHhiMDAzMjdjOCwgMHg5OGZiMjEzZiksIFg2NFdvcmRfY3JlYXRlKDB4YmY1OTdmYzcsIDB4YmVlZjBlZTQpLFxuXHQgICAgICAgIFg2NFdvcmRfY3JlYXRlKDB4YzZlMDBiZjMsIDB4M2RhODhmYzIpLCBYNjRXb3JkX2NyZWF0ZSgweGQ1YTc5MTQ3LCAweDkzMGFhNzI1KSxcblx0ICAgICAgICBYNjRXb3JkX2NyZWF0ZSgweDA2Y2E2MzUxLCAweGUwMDM4MjZmKSwgWDY0V29yZF9jcmVhdGUoMHgxNDI5Mjk2NywgMHgwYTBlNmU3MCksXG5cdCAgICAgICAgWDY0V29yZF9jcmVhdGUoMHgyN2I3MGE4NSwgMHg0NmQyMmZmYyksIFg2NFdvcmRfY3JlYXRlKDB4MmUxYjIxMzgsIDB4NWMyNmM5MjYpLFxuXHQgICAgICAgIFg2NFdvcmRfY3JlYXRlKDB4NGQyYzZkZmMsIDB4NWFjNDJhZWQpLCBYNjRXb3JkX2NyZWF0ZSgweDUzMzgwZDEzLCAweDlkOTViM2RmKSxcblx0ICAgICAgICBYNjRXb3JkX2NyZWF0ZSgweDY1MGE3MzU0LCAweDhiYWY2M2RlKSwgWDY0V29yZF9jcmVhdGUoMHg3NjZhMGFiYiwgMHgzYzc3YjJhOCksXG5cdCAgICAgICAgWDY0V29yZF9jcmVhdGUoMHg4MWMyYzkyZSwgMHg0N2VkYWVlNiksIFg2NFdvcmRfY3JlYXRlKDB4OTI3MjJjODUsIDB4MTQ4MjM1M2IpLFxuXHQgICAgICAgIFg2NFdvcmRfY3JlYXRlKDB4YTJiZmU4YTEsIDB4NGNmMTAzNjQpLCBYNjRXb3JkX2NyZWF0ZSgweGE4MWE2NjRiLCAweGJjNDIzMDAxKSxcblx0ICAgICAgICBYNjRXb3JkX2NyZWF0ZSgweGMyNGI4YjcwLCAweGQwZjg5NzkxKSwgWDY0V29yZF9jcmVhdGUoMHhjNzZjNTFhMywgMHgwNjU0YmUzMCksXG5cdCAgICAgICAgWDY0V29yZF9jcmVhdGUoMHhkMTkyZTgxOSwgMHhkNmVmNTIxOCksIFg2NFdvcmRfY3JlYXRlKDB4ZDY5OTA2MjQsIDB4NTU2NWE5MTApLFxuXHQgICAgICAgIFg2NFdvcmRfY3JlYXRlKDB4ZjQwZTM1ODUsIDB4NTc3MTIwMmEpLCBYNjRXb3JkX2NyZWF0ZSgweDEwNmFhMDcwLCAweDMyYmJkMWI4KSxcblx0ICAgICAgICBYNjRXb3JkX2NyZWF0ZSgweDE5YTRjMTE2LCAweGI4ZDJkMGM4KSwgWDY0V29yZF9jcmVhdGUoMHgxZTM3NmMwOCwgMHg1MTQxYWI1MyksXG5cdCAgICAgICAgWDY0V29yZF9jcmVhdGUoMHgyNzQ4Nzc0YywgMHhkZjhlZWI5OSksIFg2NFdvcmRfY3JlYXRlKDB4MzRiMGJjYjUsIDB4ZTE5YjQ4YTgpLFxuXHQgICAgICAgIFg2NFdvcmRfY3JlYXRlKDB4MzkxYzBjYjMsIDB4YzVjOTVhNjMpLCBYNjRXb3JkX2NyZWF0ZSgweDRlZDhhYTRhLCAweGUzNDE4YWNiKSxcblx0ICAgICAgICBYNjRXb3JkX2NyZWF0ZSgweDViOWNjYTRmLCAweDc3NjNlMzczKSwgWDY0V29yZF9jcmVhdGUoMHg2ODJlNmZmMywgMHhkNmIyYjhhMyksXG5cdCAgICAgICAgWDY0V29yZF9jcmVhdGUoMHg3NDhmODJlZSwgMHg1ZGVmYjJmYyksIFg2NFdvcmRfY3JlYXRlKDB4NzhhNTYzNmYsIDB4NDMxNzJmNjApLFxuXHQgICAgICAgIFg2NFdvcmRfY3JlYXRlKDB4ODRjODc4MTQsIDB4YTFmMGFiNzIpLCBYNjRXb3JkX2NyZWF0ZSgweDhjYzcwMjA4LCAweDFhNjQzOWVjKSxcblx0ICAgICAgICBYNjRXb3JkX2NyZWF0ZSgweDkwYmVmZmZhLCAweDIzNjMxZTI4KSwgWDY0V29yZF9jcmVhdGUoMHhhNDUwNmNlYiwgMHhkZTgyYmRlOSksXG5cdCAgICAgICAgWDY0V29yZF9jcmVhdGUoMHhiZWY5YTNmNywgMHhiMmM2NzkxNSksIFg2NFdvcmRfY3JlYXRlKDB4YzY3MTc4ZjIsIDB4ZTM3MjUzMmIpLFxuXHQgICAgICAgIFg2NFdvcmRfY3JlYXRlKDB4Y2EyNzNlY2UsIDB4ZWEyNjYxOWMpLCBYNjRXb3JkX2NyZWF0ZSgweGQxODZiOGM3LCAweDIxYzBjMjA3KSxcblx0ICAgICAgICBYNjRXb3JkX2NyZWF0ZSgweGVhZGE3ZGQ2LCAweGNkZTBlYjFlKSwgWDY0V29yZF9jcmVhdGUoMHhmNTdkNGY3ZiwgMHhlZTZlZDE3OCksXG5cdCAgICAgICAgWDY0V29yZF9jcmVhdGUoMHgwNmYwNjdhYSwgMHg3MjE3NmZiYSksIFg2NFdvcmRfY3JlYXRlKDB4MGE2MzdkYzUsIDB4YTJjODk4YTYpLFxuXHQgICAgICAgIFg2NFdvcmRfY3JlYXRlKDB4MTEzZjk4MDQsIDB4YmVmOTBkYWUpLCBYNjRXb3JkX2NyZWF0ZSgweDFiNzEwYjM1LCAweDEzMWM0NzFiKSxcblx0ICAgICAgICBYNjRXb3JkX2NyZWF0ZSgweDI4ZGI3N2Y1LCAweDIzMDQ3ZDg0KSwgWDY0V29yZF9jcmVhdGUoMHgzMmNhYWI3YiwgMHg0MGM3MjQ5MyksXG5cdCAgICAgICAgWDY0V29yZF9jcmVhdGUoMHgzYzllYmUwYSwgMHgxNWM5YmViYyksIFg2NFdvcmRfY3JlYXRlKDB4NDMxZDY3YzQsIDB4OWMxMDBkNGMpLFxuXHQgICAgICAgIFg2NFdvcmRfY3JlYXRlKDB4NGNjNWQ0YmUsIDB4Y2IzZTQyYjYpLCBYNjRXb3JkX2NyZWF0ZSgweDU5N2YyOTljLCAweGZjNjU3ZTJhKSxcblx0ICAgICAgICBYNjRXb3JkX2NyZWF0ZSgweDVmY2I2ZmFiLCAweDNhZDZmYWVjKSwgWDY0V29yZF9jcmVhdGUoMHg2YzQ0MTk4YywgMHg0YTQ3NTgxNylcblx0ICAgIF07XG5cblx0ICAgIC8vIFJldXNhYmxlIG9iamVjdHNcblx0ICAgIHZhciBXID0gW107XG5cdCAgICAoZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgODA7IGkrKykge1xuXHQgICAgICAgICAgICBXW2ldID0gWDY0V29yZF9jcmVhdGUoKTtcblx0ICAgICAgICB9XG5cdCAgICB9KCkpO1xuXG5cdCAgICAvKipcblx0ICAgICAqIFNIQS01MTIgaGFzaCBhbGdvcml0aG0uXG5cdCAgICAgKi9cblx0ICAgIHZhciBTSEE1MTIgPSBDX2FsZ28uU0hBNTEyID0gSGFzaGVyLmV4dGVuZCh7XG5cdCAgICAgICAgX2RvUmVzZXQ6IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgdGhpcy5faGFzaCA9IG5ldyBYNjRXb3JkQXJyYXkuaW5pdChbXG5cdCAgICAgICAgICAgICAgICBuZXcgWDY0V29yZC5pbml0KDB4NmEwOWU2NjcsIDB4ZjNiY2M5MDgpLCBuZXcgWDY0V29yZC5pbml0KDB4YmI2N2FlODUsIDB4ODRjYWE3M2IpLFxuXHQgICAgICAgICAgICAgICAgbmV3IFg2NFdvcmQuaW5pdCgweDNjNmVmMzcyLCAweGZlOTRmODJiKSwgbmV3IFg2NFdvcmQuaW5pdCgweGE1NGZmNTNhLCAweDVmMWQzNmYxKSxcblx0ICAgICAgICAgICAgICAgIG5ldyBYNjRXb3JkLmluaXQoMHg1MTBlNTI3ZiwgMHhhZGU2ODJkMSksIG5ldyBYNjRXb3JkLmluaXQoMHg5YjA1Njg4YywgMHgyYjNlNmMxZiksXG5cdCAgICAgICAgICAgICAgICBuZXcgWDY0V29yZC5pbml0KDB4MWY4M2Q5YWIsIDB4ZmI0MWJkNmIpLCBuZXcgWDY0V29yZC5pbml0KDB4NWJlMGNkMTksIDB4MTM3ZTIxNzkpXG5cdCAgICAgICAgICAgIF0pO1xuXHQgICAgICAgIH0sXG5cblx0ICAgICAgICBfZG9Qcm9jZXNzQmxvY2s6IGZ1bmN0aW9uIChNLCBvZmZzZXQpIHtcblx0ICAgICAgICAgICAgLy8gU2hvcnRjdXRzXG5cdCAgICAgICAgICAgIHZhciBIID0gdGhpcy5faGFzaC53b3JkcztcblxuXHQgICAgICAgICAgICB2YXIgSDAgPSBIWzBdO1xuXHQgICAgICAgICAgICB2YXIgSDEgPSBIWzFdO1xuXHQgICAgICAgICAgICB2YXIgSDIgPSBIWzJdO1xuXHQgICAgICAgICAgICB2YXIgSDMgPSBIWzNdO1xuXHQgICAgICAgICAgICB2YXIgSDQgPSBIWzRdO1xuXHQgICAgICAgICAgICB2YXIgSDUgPSBIWzVdO1xuXHQgICAgICAgICAgICB2YXIgSDYgPSBIWzZdO1xuXHQgICAgICAgICAgICB2YXIgSDcgPSBIWzddO1xuXG5cdCAgICAgICAgICAgIHZhciBIMGggPSBIMC5oaWdoO1xuXHQgICAgICAgICAgICB2YXIgSDBsID0gSDAubG93O1xuXHQgICAgICAgICAgICB2YXIgSDFoID0gSDEuaGlnaDtcblx0ICAgICAgICAgICAgdmFyIEgxbCA9IEgxLmxvdztcblx0ICAgICAgICAgICAgdmFyIEgyaCA9IEgyLmhpZ2g7XG5cdCAgICAgICAgICAgIHZhciBIMmwgPSBIMi5sb3c7XG5cdCAgICAgICAgICAgIHZhciBIM2ggPSBIMy5oaWdoO1xuXHQgICAgICAgICAgICB2YXIgSDNsID0gSDMubG93O1xuXHQgICAgICAgICAgICB2YXIgSDRoID0gSDQuaGlnaDtcblx0ICAgICAgICAgICAgdmFyIEg0bCA9IEg0Lmxvdztcblx0ICAgICAgICAgICAgdmFyIEg1aCA9IEg1LmhpZ2g7XG5cdCAgICAgICAgICAgIHZhciBINWwgPSBINS5sb3c7XG5cdCAgICAgICAgICAgIHZhciBINmggPSBINi5oaWdoO1xuXHQgICAgICAgICAgICB2YXIgSDZsID0gSDYubG93O1xuXHQgICAgICAgICAgICB2YXIgSDdoID0gSDcuaGlnaDtcblx0ICAgICAgICAgICAgdmFyIEg3bCA9IEg3LmxvdztcblxuXHQgICAgICAgICAgICAvLyBXb3JraW5nIHZhcmlhYmxlc1xuXHQgICAgICAgICAgICB2YXIgYWggPSBIMGg7XG5cdCAgICAgICAgICAgIHZhciBhbCA9IEgwbDtcblx0ICAgICAgICAgICAgdmFyIGJoID0gSDFoO1xuXHQgICAgICAgICAgICB2YXIgYmwgPSBIMWw7XG5cdCAgICAgICAgICAgIHZhciBjaCA9IEgyaDtcblx0ICAgICAgICAgICAgdmFyIGNsID0gSDJsO1xuXHQgICAgICAgICAgICB2YXIgZGggPSBIM2g7XG5cdCAgICAgICAgICAgIHZhciBkbCA9IEgzbDtcblx0ICAgICAgICAgICAgdmFyIGVoID0gSDRoO1xuXHQgICAgICAgICAgICB2YXIgZWwgPSBINGw7XG5cdCAgICAgICAgICAgIHZhciBmaCA9IEg1aDtcblx0ICAgICAgICAgICAgdmFyIGZsID0gSDVsO1xuXHQgICAgICAgICAgICB2YXIgZ2ggPSBINmg7XG5cdCAgICAgICAgICAgIHZhciBnbCA9IEg2bDtcblx0ICAgICAgICAgICAgdmFyIGhoID0gSDdoO1xuXHQgICAgICAgICAgICB2YXIgaGwgPSBIN2w7XG5cblx0ICAgICAgICAgICAgLy8gUm91bmRzXG5cdCAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgODA7IGkrKykge1xuXHQgICAgICAgICAgICAgICAgdmFyIFdpbDtcblx0ICAgICAgICAgICAgICAgIHZhciBXaWg7XG5cblx0ICAgICAgICAgICAgICAgIC8vIFNob3J0Y3V0XG5cdCAgICAgICAgICAgICAgICB2YXIgV2kgPSBXW2ldO1xuXG5cdCAgICAgICAgICAgICAgICAvLyBFeHRlbmQgbWVzc2FnZVxuXHQgICAgICAgICAgICAgICAgaWYgKGkgPCAxNikge1xuXHQgICAgICAgICAgICAgICAgICAgIFdpaCA9IFdpLmhpZ2ggPSBNW29mZnNldCArIGkgKiAyXSAgICAgfCAwO1xuXHQgICAgICAgICAgICAgICAgICAgIFdpbCA9IFdpLmxvdyAgPSBNW29mZnNldCArIGkgKiAyICsgMV0gfCAwO1xuXHQgICAgICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICAvLyBHYW1tYTBcblx0ICAgICAgICAgICAgICAgICAgICB2YXIgZ2FtbWEweCAgPSBXW2kgLSAxNV07XG5cdCAgICAgICAgICAgICAgICAgICAgdmFyIGdhbW1hMHhoID0gZ2FtbWEweC5oaWdoO1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciBnYW1tYTB4bCA9IGdhbW1hMHgubG93O1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciBnYW1tYTBoICA9ICgoZ2FtbWEweGggPj4+IDEpIHwgKGdhbW1hMHhsIDw8IDMxKSkgXiAoKGdhbW1hMHhoID4+PiA4KSB8IChnYW1tYTB4bCA8PCAyNCkpIF4gKGdhbW1hMHhoID4+PiA3KTtcblx0ICAgICAgICAgICAgICAgICAgICB2YXIgZ2FtbWEwbCAgPSAoKGdhbW1hMHhsID4+PiAxKSB8IChnYW1tYTB4aCA8PCAzMSkpIF4gKChnYW1tYTB4bCA+Pj4gOCkgfCAoZ2FtbWEweGggPDwgMjQpKSBeICgoZ2FtbWEweGwgPj4+IDcpIHwgKGdhbW1hMHhoIDw8IDI1KSk7XG5cblx0ICAgICAgICAgICAgICAgICAgICAvLyBHYW1tYTFcblx0ICAgICAgICAgICAgICAgICAgICB2YXIgZ2FtbWExeCAgPSBXW2kgLSAyXTtcblx0ICAgICAgICAgICAgICAgICAgICB2YXIgZ2FtbWExeGggPSBnYW1tYTF4LmhpZ2g7XG5cdCAgICAgICAgICAgICAgICAgICAgdmFyIGdhbW1hMXhsID0gZ2FtbWExeC5sb3c7XG5cdCAgICAgICAgICAgICAgICAgICAgdmFyIGdhbW1hMWggID0gKChnYW1tYTF4aCA+Pj4gMTkpIHwgKGdhbW1hMXhsIDw8IDEzKSkgXiAoKGdhbW1hMXhoIDw8IDMpIHwgKGdhbW1hMXhsID4+PiAyOSkpIF4gKGdhbW1hMXhoID4+PiA2KTtcblx0ICAgICAgICAgICAgICAgICAgICB2YXIgZ2FtbWExbCAgPSAoKGdhbW1hMXhsID4+PiAxOSkgfCAoZ2FtbWExeGggPDwgMTMpKSBeICgoZ2FtbWExeGwgPDwgMykgfCAoZ2FtbWExeGggPj4+IDI5KSkgXiAoKGdhbW1hMXhsID4+PiA2KSB8IChnYW1tYTF4aCA8PCAyNikpO1xuXG5cdCAgICAgICAgICAgICAgICAgICAgLy8gV1tpXSA9IGdhbW1hMCArIFdbaSAtIDddICsgZ2FtbWExICsgV1tpIC0gMTZdXG5cdCAgICAgICAgICAgICAgICAgICAgdmFyIFdpNyAgPSBXW2kgLSA3XTtcblx0ICAgICAgICAgICAgICAgICAgICB2YXIgV2k3aCA9IFdpNy5oaWdoO1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciBXaTdsID0gV2k3LmxvdztcblxuXHQgICAgICAgICAgICAgICAgICAgIHZhciBXaTE2ICA9IFdbaSAtIDE2XTtcblx0ICAgICAgICAgICAgICAgICAgICB2YXIgV2kxNmggPSBXaTE2LmhpZ2g7XG5cdCAgICAgICAgICAgICAgICAgICAgdmFyIFdpMTZsID0gV2kxNi5sb3c7XG5cblx0ICAgICAgICAgICAgICAgICAgICBXaWwgPSBnYW1tYTBsICsgV2k3bDtcblx0ICAgICAgICAgICAgICAgICAgICBXaWggPSBnYW1tYTBoICsgV2k3aCArICgoV2lsID4+PiAwKSA8IChnYW1tYTBsID4+PiAwKSA/IDEgOiAwKTtcblx0ICAgICAgICAgICAgICAgICAgICBXaWwgPSBXaWwgKyBnYW1tYTFsO1xuXHQgICAgICAgICAgICAgICAgICAgIFdpaCA9IFdpaCArIGdhbW1hMWggKyAoKFdpbCA+Pj4gMCkgPCAoZ2FtbWExbCA+Pj4gMCkgPyAxIDogMCk7XG5cdCAgICAgICAgICAgICAgICAgICAgV2lsID0gV2lsICsgV2kxNmw7XG5cdCAgICAgICAgICAgICAgICAgICAgV2loID0gV2loICsgV2kxNmggKyAoKFdpbCA+Pj4gMCkgPCAoV2kxNmwgPj4+IDApID8gMSA6IDApO1xuXG5cdCAgICAgICAgICAgICAgICAgICAgV2kuaGlnaCA9IFdpaDtcblx0ICAgICAgICAgICAgICAgICAgICBXaS5sb3cgID0gV2lsO1xuXHQgICAgICAgICAgICAgICAgfVxuXG5cdCAgICAgICAgICAgICAgICB2YXIgY2hoICA9IChlaCAmIGZoKSBeICh+ZWggJiBnaCk7XG5cdCAgICAgICAgICAgICAgICB2YXIgY2hsICA9IChlbCAmIGZsKSBeICh+ZWwgJiBnbCk7XG5cdCAgICAgICAgICAgICAgICB2YXIgbWFqaCA9IChhaCAmIGJoKSBeIChhaCAmIGNoKSBeIChiaCAmIGNoKTtcblx0ICAgICAgICAgICAgICAgIHZhciBtYWpsID0gKGFsICYgYmwpIF4gKGFsICYgY2wpIF4gKGJsICYgY2wpO1xuXG5cdCAgICAgICAgICAgICAgICB2YXIgc2lnbWEwaCA9ICgoYWggPj4+IDI4KSB8IChhbCA8PCA0KSkgIF4gKChhaCA8PCAzMCkgIHwgKGFsID4+PiAyKSkgXiAoKGFoIDw8IDI1KSB8IChhbCA+Pj4gNykpO1xuXHQgICAgICAgICAgICAgICAgdmFyIHNpZ21hMGwgPSAoKGFsID4+PiAyOCkgfCAoYWggPDwgNCkpICBeICgoYWwgPDwgMzApICB8IChhaCA+Pj4gMikpIF4gKChhbCA8PCAyNSkgfCAoYWggPj4+IDcpKTtcblx0ICAgICAgICAgICAgICAgIHZhciBzaWdtYTFoID0gKChlaCA+Pj4gMTQpIHwgKGVsIDw8IDE4KSkgXiAoKGVoID4+PiAxOCkgfCAoZWwgPDwgMTQpKSBeICgoZWggPDwgMjMpIHwgKGVsID4+PiA5KSk7XG5cdCAgICAgICAgICAgICAgICB2YXIgc2lnbWExbCA9ICgoZWwgPj4+IDE0KSB8IChlaCA8PCAxOCkpIF4gKChlbCA+Pj4gMTgpIHwgKGVoIDw8IDE0KSkgXiAoKGVsIDw8IDIzKSB8IChlaCA+Pj4gOSkpO1xuXG5cdCAgICAgICAgICAgICAgICAvLyB0MSA9IGggKyBzaWdtYTEgKyBjaCArIEtbaV0gKyBXW2ldXG5cdCAgICAgICAgICAgICAgICB2YXIgS2kgID0gS1tpXTtcblx0ICAgICAgICAgICAgICAgIHZhciBLaWggPSBLaS5oaWdoO1xuXHQgICAgICAgICAgICAgICAgdmFyIEtpbCA9IEtpLmxvdztcblxuXHQgICAgICAgICAgICAgICAgdmFyIHQxbCA9IGhsICsgc2lnbWExbDtcblx0ICAgICAgICAgICAgICAgIHZhciB0MWggPSBoaCArIHNpZ21hMWggKyAoKHQxbCA+Pj4gMCkgPCAoaGwgPj4+IDApID8gMSA6IDApO1xuXHQgICAgICAgICAgICAgICAgdmFyIHQxbCA9IHQxbCArIGNobDtcblx0ICAgICAgICAgICAgICAgIHZhciB0MWggPSB0MWggKyBjaGggKyAoKHQxbCA+Pj4gMCkgPCAoY2hsID4+PiAwKSA/IDEgOiAwKTtcblx0ICAgICAgICAgICAgICAgIHZhciB0MWwgPSB0MWwgKyBLaWw7XG5cdCAgICAgICAgICAgICAgICB2YXIgdDFoID0gdDFoICsgS2loICsgKCh0MWwgPj4+IDApIDwgKEtpbCA+Pj4gMCkgPyAxIDogMCk7XG5cdCAgICAgICAgICAgICAgICB2YXIgdDFsID0gdDFsICsgV2lsO1xuXHQgICAgICAgICAgICAgICAgdmFyIHQxaCA9IHQxaCArIFdpaCArICgodDFsID4+PiAwKSA8IChXaWwgPj4+IDApID8gMSA6IDApO1xuXG5cdCAgICAgICAgICAgICAgICAvLyB0MiA9IHNpZ21hMCArIG1halxuXHQgICAgICAgICAgICAgICAgdmFyIHQybCA9IHNpZ21hMGwgKyBtYWpsO1xuXHQgICAgICAgICAgICAgICAgdmFyIHQyaCA9IHNpZ21hMGggKyBtYWpoICsgKCh0MmwgPj4+IDApIDwgKHNpZ21hMGwgPj4+IDApID8gMSA6IDApO1xuXG5cdCAgICAgICAgICAgICAgICAvLyBVcGRhdGUgd29ya2luZyB2YXJpYWJsZXNcblx0ICAgICAgICAgICAgICAgIGhoID0gZ2g7XG5cdCAgICAgICAgICAgICAgICBobCA9IGdsO1xuXHQgICAgICAgICAgICAgICAgZ2ggPSBmaDtcblx0ICAgICAgICAgICAgICAgIGdsID0gZmw7XG5cdCAgICAgICAgICAgICAgICBmaCA9IGVoO1xuXHQgICAgICAgICAgICAgICAgZmwgPSBlbDtcblx0ICAgICAgICAgICAgICAgIGVsID0gKGRsICsgdDFsKSB8IDA7XG5cdCAgICAgICAgICAgICAgICBlaCA9IChkaCArIHQxaCArICgoZWwgPj4+IDApIDwgKGRsID4+PiAwKSA/IDEgOiAwKSkgfCAwO1xuXHQgICAgICAgICAgICAgICAgZGggPSBjaDtcblx0ICAgICAgICAgICAgICAgIGRsID0gY2w7XG5cdCAgICAgICAgICAgICAgICBjaCA9IGJoO1xuXHQgICAgICAgICAgICAgICAgY2wgPSBibDtcblx0ICAgICAgICAgICAgICAgIGJoID0gYWg7XG5cdCAgICAgICAgICAgICAgICBibCA9IGFsO1xuXHQgICAgICAgICAgICAgICAgYWwgPSAodDFsICsgdDJsKSB8IDA7XG5cdCAgICAgICAgICAgICAgICBhaCA9ICh0MWggKyB0MmggKyAoKGFsID4+PiAwKSA8ICh0MWwgPj4+IDApID8gMSA6IDApKSB8IDA7XG5cdCAgICAgICAgICAgIH1cblxuXHQgICAgICAgICAgICAvLyBJbnRlcm1lZGlhdGUgaGFzaCB2YWx1ZVxuXHQgICAgICAgICAgICBIMGwgPSBIMC5sb3cgID0gKEgwbCArIGFsKTtcblx0ICAgICAgICAgICAgSDAuaGlnaCA9IChIMGggKyBhaCArICgoSDBsID4+PiAwKSA8IChhbCA+Pj4gMCkgPyAxIDogMCkpO1xuXHQgICAgICAgICAgICBIMWwgPSBIMS5sb3cgID0gKEgxbCArIGJsKTtcblx0ICAgICAgICAgICAgSDEuaGlnaCA9IChIMWggKyBiaCArICgoSDFsID4+PiAwKSA8IChibCA+Pj4gMCkgPyAxIDogMCkpO1xuXHQgICAgICAgICAgICBIMmwgPSBIMi5sb3cgID0gKEgybCArIGNsKTtcblx0ICAgICAgICAgICAgSDIuaGlnaCA9IChIMmggKyBjaCArICgoSDJsID4+PiAwKSA8IChjbCA+Pj4gMCkgPyAxIDogMCkpO1xuXHQgICAgICAgICAgICBIM2wgPSBIMy5sb3cgID0gKEgzbCArIGRsKTtcblx0ICAgICAgICAgICAgSDMuaGlnaCA9IChIM2ggKyBkaCArICgoSDNsID4+PiAwKSA8IChkbCA+Pj4gMCkgPyAxIDogMCkpO1xuXHQgICAgICAgICAgICBINGwgPSBINC5sb3cgID0gKEg0bCArIGVsKTtcblx0ICAgICAgICAgICAgSDQuaGlnaCA9IChINGggKyBlaCArICgoSDRsID4+PiAwKSA8IChlbCA+Pj4gMCkgPyAxIDogMCkpO1xuXHQgICAgICAgICAgICBINWwgPSBINS5sb3cgID0gKEg1bCArIGZsKTtcblx0ICAgICAgICAgICAgSDUuaGlnaCA9IChINWggKyBmaCArICgoSDVsID4+PiAwKSA8IChmbCA+Pj4gMCkgPyAxIDogMCkpO1xuXHQgICAgICAgICAgICBINmwgPSBINi5sb3cgID0gKEg2bCArIGdsKTtcblx0ICAgICAgICAgICAgSDYuaGlnaCA9IChINmggKyBnaCArICgoSDZsID4+PiAwKSA8IChnbCA+Pj4gMCkgPyAxIDogMCkpO1xuXHQgICAgICAgICAgICBIN2wgPSBINy5sb3cgID0gKEg3bCArIGhsKTtcblx0ICAgICAgICAgICAgSDcuaGlnaCA9IChIN2ggKyBoaCArICgoSDdsID4+PiAwKSA8IChobCA+Pj4gMCkgPyAxIDogMCkpO1xuXHQgICAgICAgIH0sXG5cblx0ICAgICAgICBfZG9GaW5hbGl6ZTogZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAvLyBTaG9ydGN1dHNcblx0ICAgICAgICAgICAgdmFyIGRhdGEgPSB0aGlzLl9kYXRhO1xuXHQgICAgICAgICAgICB2YXIgZGF0YVdvcmRzID0gZGF0YS53b3JkcztcblxuXHQgICAgICAgICAgICB2YXIgbkJpdHNUb3RhbCA9IHRoaXMuX25EYXRhQnl0ZXMgKiA4O1xuXHQgICAgICAgICAgICB2YXIgbkJpdHNMZWZ0ID0gZGF0YS5zaWdCeXRlcyAqIDg7XG5cblx0ICAgICAgICAgICAgLy8gQWRkIHBhZGRpbmdcblx0ICAgICAgICAgICAgZGF0YVdvcmRzW25CaXRzTGVmdCA+Pj4gNV0gfD0gMHg4MCA8PCAoMjQgLSBuQml0c0xlZnQgJSAzMik7XG5cdCAgICAgICAgICAgIGRhdGFXb3Jkc1soKChuQml0c0xlZnQgKyAxMjgpID4+PiAxMCkgPDwgNSkgKyAzMF0gPSBNYXRoLmZsb29yKG5CaXRzVG90YWwgLyAweDEwMDAwMDAwMCk7XG5cdCAgICAgICAgICAgIGRhdGFXb3Jkc1soKChuQml0c0xlZnQgKyAxMjgpID4+PiAxMCkgPDwgNSkgKyAzMV0gPSBuQml0c1RvdGFsO1xuXHQgICAgICAgICAgICBkYXRhLnNpZ0J5dGVzID0gZGF0YVdvcmRzLmxlbmd0aCAqIDQ7XG5cblx0ICAgICAgICAgICAgLy8gSGFzaCBmaW5hbCBibG9ja3Ncblx0ICAgICAgICAgICAgdGhpcy5fcHJvY2VzcygpO1xuXG5cdCAgICAgICAgICAgIC8vIENvbnZlcnQgaGFzaCB0byAzMi1iaXQgd29yZCBhcnJheSBiZWZvcmUgcmV0dXJuaW5nXG5cdCAgICAgICAgICAgIHZhciBoYXNoID0gdGhpcy5faGFzaC50b1gzMigpO1xuXG5cdCAgICAgICAgICAgIC8vIFJldHVybiBmaW5hbCBjb21wdXRlZCBoYXNoXG5cdCAgICAgICAgICAgIHJldHVybiBoYXNoO1xuXHQgICAgICAgIH0sXG5cblx0ICAgICAgICBjbG9uZTogZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICB2YXIgY2xvbmUgPSBIYXNoZXIuY2xvbmUuY2FsbCh0aGlzKTtcblx0ICAgICAgICAgICAgY2xvbmUuX2hhc2ggPSB0aGlzLl9oYXNoLmNsb25lKCk7XG5cblx0ICAgICAgICAgICAgcmV0dXJuIGNsb25lO1xuXHQgICAgICAgIH0sXG5cblx0ICAgICAgICBibG9ja1NpemU6IDEwMjQvMzJcblx0ICAgIH0pO1xuXG5cdCAgICAvKipcblx0ICAgICAqIFNob3J0Y3V0IGZ1bmN0aW9uIHRvIHRoZSBoYXNoZXIncyBvYmplY3QgaW50ZXJmYWNlLlxuXHQgICAgICpcblx0ICAgICAqIEBwYXJhbSB7V29yZEFycmF5fHN0cmluZ30gbWVzc2FnZSBUaGUgbWVzc2FnZSB0byBoYXNoLlxuXHQgICAgICpcblx0ICAgICAqIEByZXR1cm4ge1dvcmRBcnJheX0gVGhlIGhhc2guXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICpcblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogICAgIHZhciBoYXNoID0gQ3J5cHRvSlMuU0hBNTEyKCdtZXNzYWdlJyk7XG5cdCAgICAgKiAgICAgdmFyIGhhc2ggPSBDcnlwdG9KUy5TSEE1MTIod29yZEFycmF5KTtcblx0ICAgICAqL1xuXHQgICAgQy5TSEE1MTIgPSBIYXNoZXIuX2NyZWF0ZUhlbHBlcihTSEE1MTIpO1xuXG5cdCAgICAvKipcblx0ICAgICAqIFNob3J0Y3V0IGZ1bmN0aW9uIHRvIHRoZSBITUFDJ3Mgb2JqZWN0IGludGVyZmFjZS5cblx0ICAgICAqXG5cdCAgICAgKiBAcGFyYW0ge1dvcmRBcnJheXxzdHJpbmd9IG1lc3NhZ2UgVGhlIG1lc3NhZ2UgdG8gaGFzaC5cblx0ICAgICAqIEBwYXJhbSB7V29yZEFycmF5fHN0cmluZ30ga2V5IFRoZSBzZWNyZXQga2V5LlxuXHQgICAgICpcblx0ICAgICAqIEByZXR1cm4ge1dvcmRBcnJheX0gVGhlIEhNQUMuXG5cdCAgICAgKlxuXHQgICAgICogQHN0YXRpY1xuXHQgICAgICpcblx0ICAgICAqIEBleGFtcGxlXG5cdCAgICAgKlxuXHQgICAgICogICAgIHZhciBobWFjID0gQ3J5cHRvSlMuSG1hY1NIQTUxMihtZXNzYWdlLCBrZXkpO1xuXHQgICAgICovXG5cdCAgICBDLkhtYWNTSEE1MTIgPSBIYXNoZXIuX2NyZWF0ZUhtYWNIZWxwZXIoU0hBNTEyKTtcblx0fSgpKTtcblxuXG5cdHJldHVybiBDcnlwdG9KUy5TSEE1MTI7XG5cbn0pKTsiLCJcbmZ1bmN0aW9uIGRlc3Ryb3llZCgpIHtcblx0dGhyb3cgbmV3IEVycm9yKCdNZXRob2QgY2FsbGVkIG9uIGRlc3Ryb3llZCBTZW5zaXRpdmVCeXRlcyBpbnN0YW5jZScpO1xufVxuXG5cbmNsYXNzIFNlbnNpdGl2ZUJ5dGVzQ29udGV4dCB7XG5cdC8vIGxpc3Qgb2YgaW5zdGFuY2VzXG5cdHByaXZhdGUgX2FfYmlndWludHM6IFNlbnNpdGl2ZUJ5dGVzW10gPSBbXTtcblxuXG5cdC8qKlxuXHQgKiBXcmFwcyBzdGF0aWMgcmFuZG9tKClcblx0ICovXG5cdHJhbmRvbShuYl9zaXplOiBudW1iZXIpOiBTZW5zaXRpdmVCeXRlcyB7XG5cdFx0Y29uc3Qga25fcmFuZG9tID0gU2Vuc2l0aXZlQnl0ZXMucmFuZG9tKG5iX3NpemUpO1xuXHRcdHRoaXMuX2FfYmlndWludHMucHVzaChrbl9yYW5kb20pO1xuXHRcdHJldHVybiBrbl9yYW5kb207XG5cdH1cblxuXG5cdC8qKlxuXHQgKiBXcmFwcyBzdGF0aWMgZW1wdHkoKVxuXHQgKi9cblx0ZW1wdHkobmJfc2l6ZTogbnVtYmVyKTogU2Vuc2l0aXZlQnl0ZXMge1xuXHRcdGNvbnN0IGtuX2VtcHR5ID0gU2Vuc2l0aXZlQnl0ZXMucmFuZG9tKG5iX3NpemUpO1xuXHRcdHRoaXMuX2FfYmlndWludHMucHVzaChrbl9lbXB0eSk7XG5cdFx0cmV0dXJuIGtuX2VtcHR5O1xuXHR9XG5cblxuXHQvKipcblx0ICogV3JhcHMgZGVmYXVsdCBjb25zdHJ1Y3Rvci5cblx0ICovXG5cdG5ldyhhdHU4X2RhdGE6IFVpbnQ4QXJyYXkpOiBTZW5zaXRpdmVCeXRlcyB7XG5cdFx0Y29uc3Qga25fbmV3ID0gbmV3IFNlbnNpdGl2ZUJ5dGVzKGF0dThfZGF0YSwgdGhpcyk7XG5cdFx0dGhpcy5fYV9iaWd1aW50cy5wdXNoKGtuX25ldyk7XG5cdFx0cmV0dXJuIGtuX25ldztcblx0fVxuXG5cblx0LyoqXG5cdCAqIFdpcGVzIGFsbCBpbnN0YW5jZXNcblx0ICovXG5cdHdpcGUoKTogdm9pZCB7XG5cdFx0Zm9yKGNvbnN0IGtuX2VhY2ggb2YgdGhpcy5fYV9iaWd1aW50cykge1xuXHRcdFx0a25fZWFjaC53aXBlKCk7XG5cdFx0fVxuXHR9XG59XG5cblxuLyoqXG4gKiBQcm92aWRlcyB3cmFwcGVyIGZvciBVaW50OEFycmF5IGludGVuZGVkIHRvIGhvbGQgc2Vuc2l0aXZlIGRhdGEgc3VjaCBhcyBwcml2YXRlIGtleSBtYXRlcmlhbC5cbiAqIFJhdGhlciB0aGFuIGFsbG93aW5nIGtleSBtYXRlcmlhbCB0byBwb3NzaWJseSBvdXRsaXZlIGdhcmJhZ2UgY29sbGVjdGlvbiBpbiBtZW1vcnkgYnkgdXNpbmcgaGV4IHN0cmluZ3NcbiAqIG9yIEJpZ0ludCBkdXJpbmcgY3J5cHRvZ3JhcGhpYyBvcGVyYXRpb25zLCB1c2UgVWludDhBcnJheSBpbiBvcmRlciB0byB3aXBlIGFsbCBpbnRlcm1lZGlhdGUgdmFsdWVzIGJ5IFxuICogemVyb2luZyB0aGVtIG91dCAob3ZlcndyaXRpbmcgYWxsIGJ5dGVzIHdpdGggMHgwMCkgaW1tZWRpYXRlbHkgYWZ0ZXIgdXNlLiBFeGNlcHQgZm9yIHRoZSBgd2lwZWAgbWV0aG9kLFxuICogaW5zdGFuY2VzIGFyZSBpbW11dGFibGUuXG4gKiBcbiAqIFNvbWUgbWF5IHdvbmRlciB3aHkgbm90IHVzZSBVaW50MzJBcnJheSBmb3IgbW9yZSBlZmZpY2llbnQgY29tcHV0YXRpb25zIHdpdGggbmF0aXZlIDMyLWJpdCBpbnRzLlxuICogSW4gQ2hyb21pdW0sIGBTbWlgIGNhbiBzdG9yZSAzMSBiaXQgc2lnbmVkIGludHMgb24gMzItYml0IGFyY2hzLCBhbmQgMzIgYml0IHNpZ25lZCBpbnRzIG9uIDY0LWJpdCBhcmNocy5cbiAqIDxodHRwczovL3NvdXJjZS5jaHJvbWl1bS5vcmcvY2hyb21pdW0vdjgvdjguZ2l0LysvbWFpbjpzcmMvb2JqZWN0cy9zbWkuaDtsPTE3O2RyYz1iZjA5NmVjOTYwZWVlMThjOTE2YjRiY2I0ZDk2YmU3YjM5ZjczMmFkPlxuICogPGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS81NzQyNjc3My8xNjQxMTYwPlxuICogTWVhbmluZyB0aGF0IDMyLWJpdCB1bnNpZ25lZCBpbnRlZ2VycyB3aWxsIGFsd2F5cyBlbmQgdXAgYmVpbmcgXCJib3hlZFwiLCBpLmUuLCByZXByZXNlbnRlZCBieSBwb2ludGVycyB0b1xuICogaGVhcCBvYmplY3RzIGluIFY4LCBsZWFkaW5nIHRvIHRoZSBwb3RlbnRpYWwgZm9yIG1vcmUgc2Vuc2l0aXZlIGdhcmJhZ2UgZW5kaW5nIHVwIGluIGRlYWxsb2NhdGVkIFJBTS5cbiAqIFxuICogQXMgZm9yIFVpbnQxNkFycmF5LCBhbm90aGVyIGlzc3VlIGFyaXNlcy4gSXQgd291bGQgcmVxdWlyZSB0aGUgdXNlIG9mIERhdGFWaWV3IHRvIGNvbnRyb2wgZm9yIGVuZGlhbm5lc3NcbiAqIG9uIHRoZSBwbGF0Zm9ybSwgd2hpY2ggX21heV8gaW50cm9kdWNlIHRlbXBvcmFyeSB2YWx1ZXMgKHNvbWUgb2Ygd2hpY2ggbWF5IGFsbG9jYXRlIG9uIHRoZSBoZWFwKSBkZXBlbmRpbmdcbiAqIG9uIHRoZSBydW50aW1lIGltcGxlbWVudGF0aW9uLiBIb3dldmVyLCB0aGlzIGhhcyBub3QgYmVlbiB0aG9yb3VnaGx5IGludmVzdGlnYXRlZCBhbmQgaW5kZWVkIG1heSBvZmZlciB0aGVcbiAqIHNhbWUgcHJvdGVjdGlvbiBhcyBVaW50OEFycmF5IHdpdGggcG90ZW50aWFsbHkgbW9yZSBlZmZpY2llbnQgY29tcHV0YXRpb25zIG9uIGJpZy1lbmRpYW4gcGxhdGZvcm1zIChsaXR0bGUtXG4gKiBlbmRpYW4gcGxhdGZvcm1zIG1heSBvciBtYXkgbm90IHNlZSBwZXJmb3JtYW5jZSBoaXQgZnJvbSBEYXRhVmlldydzIGVuZGlhbiBjb252ZXJzaW9uKS5cbiAqIFxuICogSW4gY29uY2x1c2lvbiwgVWludDhBcnJheSBvZmZlcnMgdGhlIHNhZmVzdCBieXRlLXdpc2UgY2FsY3VsYXRpb25zIHNpbmNlIGFsbCBpbnRlZ2VyIG9wZXJhdGlvbnMgb24gdGhlaXJcbiAqIHZhbHVlcyBhcmUgbW9zdCBsaWtlbHkgKGdpdmVuIGFsbCBvcHRpb25zKSB0byBuZXZlciBsZWF2ZSBDUFUgcmVnaXN0ZXJzIGFuZCB0aHVzIG5ldmVyIGVuZCB1cCBpbiB0aGUgaGVhcC5cbiAqIFxuICogRm9yIHNha2Ugb2Ygc2ltcGxpY2l0eSBhbmQgaW4gdGhlIGludGVyZXN0IG9mIGF2b2lkaW5nIGh1bWFuIGVycm9ycywgdGhlIGBvdGhlcmAgaW5zdGFuY2UgcGFzc2VkIHRvIGFueVxuICogbWV0aG9kIG11c3QgaGF2ZSBleGFjdGx5IHRoZSBzYW1lIGJ5dGUgbGVuZ3RoLlxuICogRm9yIGV4YW1wbGU6XG4gKiBgYGB0c1xuICogY29uc3QgYSA9IFVpbnQ4QXJyYXkoMzIpOyBhWzBdID0gMHgwMTtcbiAqIGNvbnN0IGIgPSBVaW50OEFycmF5KDY0KTsgYlswXSA9IDB4MDM7XG4gKiBjb25zdCBzYSA9IG5ldyBTZW5zaXRpdmVCeXRlcyhhKTtcbiAqIGNvbnN0IHNiID0gbmV3IFNlbnNpdGl2ZUJ5dGVzKGIpO1xuICogc2EudGltZXMoc2IpOyAgLy8gdGhyb3dzIEVycm9yIHNpbmNlIGBzYWAgaXMgMzIgYnl0ZXMgd2hpbGUgYHNiYCBpcyA2NCBieXRlc1xuICogYGBgXG4gKiBcbiAqIE9uZSBjb25zaWRlcmF0aW9uIHRoYXQgc2hvdWxkIGJlIG1hZGUgaXMgd2hldGhlciB0aW1pbmcgYXR0YWNrcyBhcmUgcGFydCBvZiB0aGUgdXNlcidzIHRocmVhdCBtb2RlbC5cbiAqIEl0IGlzIHVuY2xlYXIgaG93LCBvciBldmVuIGlmLCB0aGUgbWV0aG9kcyBlbXBsb3llZCBieSB0aGlzIGRhdGEgc3RydWN0dXJlIG1ha2UgaXQgc3VzY2VwdGlibGUgdG9cbiAqIHRpbWluZyBhdHRhY2tzLlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTZW5zaXRpdmVCeXRlcyB7XG5cdC8qKlxuXHQgKiBDcmVhdGVzIGFuIGluc3RhbmNlIHRoYXQgYXNzaXN0cyB3aXRoIGNyZWF0aW5nIGFuZCBzZWN1cmVseSBkZWFsbG9jYXRpbmcgbXVsdHBsZSBTZW5zaXRpdmVCeXRlc3Ncblx0ICovXG5cdHN0YXRpYyBjb250ZXh0KCk6IFNlbnNpdGl2ZUJ5dGVzQ29udGV4dCB7XG5cdFx0cmV0dXJuIG5ldyBTZW5zaXRpdmVCeXRlc0NvbnRleHQoKTtcblx0fVxuXG5cblx0LyoqXG5cdCAqIEdlbmVyYXRlIGEgY3J5cHRvZ3JhcGhpY2FsbHkgcmFuZG9tIHZhbHVlIGhhdmluZyB0aGUgZ2l2ZW4gbnVtYmVyIG9mIGJ5dGVzLlxuXHQgKi9cblx0c3RhdGljIHJhbmRvbShuYl9zaXplOiBudW1iZXIpOiBTZW5zaXRpdmVCeXRlcyB7XG5cdFx0cmV0dXJuIG5ldyBTZW5zaXRpdmVCeXRlcyhjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50OEFycmF5KG5iX3NpemUpKSk7XG5cdH1cblxuXG5cdC8qKlxuXHQgKiBDb252ZW5pZW5jZSBtZXRob2QgZm9yIGNyZWF0aW5nIG5pbC1pbml0aWFsaXplZCBudW1iZXIgb2YgZ2l2ZW4gc2l6ZSBpbiBieXRlcy5cblx0ICovXG5cdHN0YXRpYyBlbXB0eShuYl9zaXplPTApOiBTZW5zaXRpdmVCeXRlcyB7XG5cdFx0cmV0dXJuIG5ldyBTZW5zaXRpdmVCeXRlcyhuZXcgVWludDhBcnJheShuYl9zaXplKSk7XG5cdH1cblxuXG5cdC8qKlxuXHQgKiBcblx0ICogQHBhcmFtIGF0dThfZGF0YSBcblx0ICovXG5cdGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgX2F0dThfZGF0YTogVWludDhBcnJheSwgcHJpdmF0ZSByZWFkb25seSBfa2NfY29udGV4dDogU2Vuc2l0aXZlQnl0ZXNDb250ZXh0fG51bGw9bnVsbCkge1xuXHRcdC8vIHRoaXMuX2tjX2NvbnRleHQgPSBrY19jb250ZXh0IHx8IG51bGw7XG5cdH1cblxuXG5cdC8qKlxuXHQgKiBHZXR0ZXIgZm9yIHRoaXMgaW5zdGFuY2UncyBkYXRhXG5cdCAqL1xuXHRnZXQgZGF0YSgpOiBVaW50OEFycmF5IHtcblx0XHRyZXR1cm4gdGhpcy5fYXR1OF9kYXRhO1xuXHR9XG5cblxuXHQvKipcblx0ICogQ2xvbmUgdGhpcyBpbnN0YW5jZSBzbyB0aGF0IGl0IGNhbiBiZSBkZXN0cm95ZWQgd2l0aG91dCBhZmZlY3RpbmcgdGhlIGNsb25lLlxuXHQgKi9cblx0Y2xvbmUoKTogU2Vuc2l0aXZlQnl0ZXMge1xuXHRcdHJldHVybiBuZXcgU2Vuc2l0aXZlQnl0ZXMoVWludDhBcnJheS5mcm9tKHRoaXMuX2F0dThfZGF0YSksIHRoaXMuX2tjX2NvbnRleHQpO1xuXHR9XG5cblxuXHQvKipcblx0ICogTXV0YWJseSBjbGVhciB0aGUgY29udGVudHMgb2YgdGhpcyBvYmplY3QgYW5kIG1hcmsgYXMgZGVzdHJveWVkLlxuXHQgKi9cblx0d2lwZSgpOiB2b2lkIHtcblx0XHQvLyBvdmVyd3JpdGUgY29udGVudHMgd2l0aCAweDAwXG5cdFx0dGhpcy5fYXR1OF9kYXRhLmZpbGwoMCk7XG5cblx0XHQvLyBtYXJrIGFzIGRlc3Ryb3llZFxuXHRcdC8vIEB0cy1leHBlY3QtZXJyb3IgZm9yIG92ZXJyaWRpbmcgYWxsIG1ldGhvZHNcblx0XHR0aGlzLmNsb25lID0gdGhpcy53aXBlID0gdGhpcy5kaWZmID0gdGhpcy5jb21wYXJlID0gdGhpcy5tb2QgPSBkZXN0cm95ZWQ7XG5cblx0XHQvLyBvdmVycmlkZSBnZXR0ZXJzXG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnRpZXModGhpcywge1xuXHRcdFx0ZGF0YToge1xuXHRcdFx0XHRnZXQ6IGRlc3Ryb3llZCxcblx0XHRcdH0sXG5cdFx0XHRkaWdpdHM6IHtcblx0XHRcdFx0Z2V0OiBkZXN0cm95ZWQsXG5cdFx0XHR9LFxuXHRcdH0pO1xuXHR9XG5cblxuXHQvKipcblx0ICogTGVmdCBzaGlmdCBieSB0aGUgZ2l2ZW4gbnVtYmVyIG9mIGJpdHMsIGRpc2NhcmRpbmcgZXhjZXNzIGJpdHMgc2hpZnRlZCBvZmYgdG8gdGhlIGxlZnRcblx0ICogYW5kIGFkZGluZyBuZXcgemVybyBiaXRzIHNoaWZ0ZWQgaW4gZnJvbSB0aGUgcmlnaHQuXG5cdCAqL1xuXHRsZWZ0U2hpZnQobmlfc2hpZnQ6IG51bWJlcik6IFNlbnNpdGl2ZUJ5dGVzIHtcblx0XHQvLyBpbnZhbGlkIGFyZ3VtZW50XG5cdFx0aWYoTnVtYmVyLmlzSW50ZWdlcihuaV9zaGlmdCkgfHwgbmlfc2hpZnQgPCAwKSB7XG5cdFx0XHQvLyBwYW5pYyB3aXBlXG5cdFx0XHR0aGlzLndpcGUoKTtcblxuXHRcdFx0Ly8gcmVmdXNlIG9wZXJhdGlvblxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdSZWZ1c2luZyB0byBsZWZ0IHNoaWZ0IGJ5IGFyZ3VtZW50IHRoYXQgaXMgbm90IGEgbm9uLW5lZ2F0aXZlIGludGVnZXInKTtcblx0XHR9XG5cblx0XHQvLyBubyBzaGlmdCwganVzdCBjbG9uZVxuXHRcdGlmKDAgPT09IG5pX3NoaWZ0KSByZXR1cm4gdGhpcy5jbG9uZSgpO1xuXG5cdFx0Ly8gbnVtYmVyIG9mIGJ5dGVzXG5cdFx0Y29uc3QgbmJfZGlnaXRzX3RoaXMgPSB0aGlzLl9hdHU4X2RhdGEuYnl0ZUxlbmd0aDtcblxuXHRcdC8vIHByZXAgbmV3IGJ1ZmZlclxuXHRcdGNvbnN0IGF0dThfb3V0cHV0ID0gbmV3IFVpbnQ4QXJyYXkobmJfZGlnaXRzX3RoaXMpO1xuXG5cdFx0Ly8gYW1vdW50IHRvIHNoaWZ0IGluIGJ5dGVzXG5cdFx0Y29uc3QgbmJfc2hpZnQgPSBuaV9zaGlmdCA+Pj4gMztcblx0XHRcblx0XHQvLyBzdGFydCB3aXRoIGFwcHJveGltYXRlIHN1YmFycmF5XG5cdFx0Y29uc3QgYXR1OF9zdWIgPSB0aGlzLl9hdHU4X2RhdGEuc3ViYXJyYXkobmJfc2hpZnQpO1xuXG5cdFx0Ly8gcmVtYWluZGVyIGFtb3VudCB0byBsZWZ0IHNoaWZ0XG5cdFx0Y29uc3QgbmlfcmVtYWluZGVyID0gbmlfc2hpZnQgJSA4O1xuXG5cdFx0Ly8gYWJsZSB0byBtb3ZlIGJ5dGVzIGFyb3VuZFxuXHRcdGlmKDAgPT09IG5pX3JlbWFpbmRlcikge1xuXHRcdFx0Ly8gc2V0IHN1YiBhcnJheSBpbiBoaWdoZXN0IGJpdCBwb3NpdGlvblxuXHRcdFx0YXR1OF9vdXRwdXQuc2V0KGF0dThfc3ViKTtcblxuXHRcdFx0Ly8gcmV0dXJuIG5ldyBpbnN0YW5jZVxuXHRcdFx0cmV0dXJuIG5ldyBTZW5zaXRpdmVCeXRlcyhhdHU4X291dHB1dCk7XG5cdFx0fVxuXG5cdFx0Ly8gYml0bWFzayB0byB0cnVuY2F0ZSBlYWNoIGJ5dGVcblx0XHRjb25zdCB4bV90cnVuY2F0ZSA9IDB4ZmYgPj4+IG5pX3JlbWFpbmRlcjtcblxuXHRcdC8vIGFtb3VudCB0byByaWdodCBzaGlmdCBlYWNoIGJ5dGUgaW4gb3JkZXIgdG8gY2Fycnlcblx0XHRjb25zdCBuaV9jYXJyeSA9IDggLSBuaV9yZW1haW5kZXI7XG5cblx0XHQvLyBlYWNoIGJ5dGVcblx0XHRsZXQgaWJfZWFjaCA9IDA7XG5cdFx0Zm9yKDsgaWJfZWFjaDxuYl9kaWdpdHNfdGhpcy0xLW5iX3NoaWZ0OyBpYl9lYWNoKyspIHtcblx0XHRcdC8vIHRoaXMgY2FuIGJlIG9wdGltaXplZFxuXHRcdFx0YXR1OF9vdXRwdXRbaWJfZWFjaF0gPSAoKGF0dThfc3ViW2liX2VhY2hdICYgeG1fdHJ1bmNhdGUpIDw8IG5pX3JlbWFpbmRlcikgfCAoYXR1OF9zdWJbaWJfZWFjaCsxXSA+Pj4gbmlfY2FycnkpO1xuXHRcdH1cblx0XHRcblx0XHQvLyBsb3dlc3QgYnl0ZSBoYXMgZGF0YVxuXHRcdGlmKDAgPT09IG5iX3NoaWZ0KSB7XG5cdFx0XHRhdHU4X291dHB1dFtpYl9lYWNoXSA8PD0gbmlfc2hpZnQ7XG5cdFx0fVxuXG5cdFx0Ly8gcmV0dXJuIG5ldyBpbnN0YW5jZVxuXHRcdHJldHVybiBuZXcgU2Vuc2l0aXZlQnl0ZXMoYXR1OF9vdXRwdXQpO1xuXHR9XG5cblxuXHQvKipcblx0ICogUmlnaHQgc2hpZnQgYnkgdGhlIGdpdmVuIG51bWJlciBvZiBiaXRzLCBkaXNjYXJkaW5nIGV4Y2VzcyBiaXRzIHNoaWZ0ZWQgb2ZmIHRvIHRoZSByaWdodFxuXHQgKiBhbmQgYWRkaW5nIG5ldyB6ZXJvIGJpdHMgc2hpZnRlZCBpbiBmcm9tIHRoZSBsZWZ0LlxuXHQgKi9cblx0cmlnaHRTaGlmdChuaV9zaGlmdDogbnVtYmVyKTogU2Vuc2l0aXZlQnl0ZXMge1xuXHRcdC8vIGludmFsaWQgYXJndW1lbnRcblx0XHRpZihOdW1iZXIuaXNJbnRlZ2VyKG5pX3NoaWZ0KSB8fCBuaV9zaGlmdCA8IDApIHtcblx0XHRcdC8vIHBhbmljIHdpcGVcblx0XHRcdHRoaXMud2lwZSgpO1xuXG5cdFx0XHQvLyByZWZ1c2Ugb3BlcmF0aW9uXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ1JlZnVzaW5nIHRvIGxlZnQgc2hpZnQgYnkgYXJndW1lbnQgdGhhdCBpcyBub3QgYSBub24tbmVnYXRpdmUgaW50ZWdlcicpO1xuXHRcdH1cblxuXHRcdC8vIG5vIHNoaWZ0LCBqdXN0IGNsb25lXG5cdFx0aWYoMCA9PT0gbmlfc2hpZnQpIHJldHVybiB0aGlzLmNsb25lKCk7XG5cblx0XHQvLyByZWYgZGF0YVxuXHRcdGNvbnN0IGF0dThfZGF0YSA9IHRoaXMuX2F0dThfZGF0YTtcblxuXHRcdC8vIG51bWJlciBvZiBieXRlc1xuXHRcdGNvbnN0IG5iX2RpZ2l0c190aGlzID0gYXR1OF9kYXRhLmJ5dGVMZW5ndGg7XG5cblx0XHQvLyBwcmVwIG5ldyBidWZmZXJcblx0XHRjb25zdCBhdHU4X291dHB1dCA9IG5ldyBVaW50OEFycmF5KG5iX2RpZ2l0c190aGlzKTtcblxuXHRcdC8vIHJlbWFpbmRlciBhbW91bnQgdG8gcmlnaHQgc2hpZnRcblx0XHRjb25zdCBuaV9yZW1haW5kZXIgPSBuaV9zaGlmdCAlIDg7XG5cblx0XHQvLyBhbW91bnQgdG8gc2hpZnQgaW4gYnl0ZXNcblx0XHRjb25zdCBuYl9zaGlmdCA9IG5pX3NoaWZ0ID4+PiAzO1xuXG5cdFx0Ly8gYWJsZSB0byBtb3ZlIGJ5dGVzIGFyb3VuZFxuXHRcdGlmKDAgPT09IG5pX3JlbWFpbmRlcikge1xuXHRcdFx0Ly8gc2V0IHN1YiBhcnJheSBpbiBhcHByb3ByaWF0ZSBiaXQgcG9zaXRpb24gKGFsbG93IGV4Y2VzcyBieXRlcyB0byBiZSBjaG9wcGVkIG9mZilcblx0XHRcdGF0dThfb3V0cHV0LnNldChhdHU4X2RhdGEsIG5iX3NoaWZ0KTtcblxuXHRcdFx0Ly8gcmV0dXJuIG5ldyBpbnN0YW5jZVxuXHRcdFx0cmV0dXJuIG5ldyBTZW5zaXRpdmVCeXRlcyhhdHU4X291dHB1dCk7XG5cdFx0fVxuXG5cdFx0Ly8gc3RhcnQgd2l0aCBhcHByb3hpbWF0ZSBzdWJhcnJheVxuXHRcdGNvbnN0IGF0dThfc3ViID0gYXR1OF9kYXRhLnN1YmFycmF5KDAsIG5iX2RpZ2l0c190aGlzIC0gKG5pX3NoaWZ0ID4+PiAzKSk7XG5cblx0XHQvLyBiaXRtYXNrIHRvIHRydW5jYXRlIGVhY2ggYnl0ZVxuXHRcdGNvbnN0IHhtX3RydW5jYXRlID0gKDB4ZmYgPj4gbmlfcmVtYWluZGVyKSA8PCBuaV9yZW1haW5kZXI7XG5cblx0XHQvLyBhbW91bnQgdG8gbGVmdCBzaGlmdCBlYWNoIGJ5dGUgaW4gb3JkZXIgdG8gY2Fycnlcblx0XHRjb25zdCBuaV9jYXJyeSA9IDggLSBuaV9yZW1haW5kZXI7XG5cblx0XHQvLyBoaWdoZXN0IGJ5dGUgaGFzIGRhdGFcblx0XHRpZigwID09PSBuYl9zaGlmdCkge1xuXHRcdFx0YXR1OF9vdXRwdXRbMF0gPj49IG5pX3NoaWZ0O1xuXHRcdH1cblxuXHRcdC8vIGVhY2ggYnl0ZVxuXHRcdGxldCBpYl9lYWNoID0gMTtcblx0XHRmb3IoOyBpYl9lYWNoPG5iX2RpZ2l0c190aGlzLTE7IGliX2VhY2grKykge1xuXHRcdFx0Ly8gY2hlY2sgZm9yIGFjY3VyYWN5XG5cdFx0XHRhdHU4X291dHB1dFtpYl9lYWNoXSA9ICgoYXR1OF9zdWJbaWJfZWFjaC0xXSA8PCBuaV9jYXJyeSkgJiAweGZmKSB8IChhdHU4X3N1YltpYl9lYWNoXSA+Pj4gbmlfcmVtYWluZGVyKTtcblx0XHR9XG5cblx0XHQvLyByZXR1cm4gbmV3IGluc3RhbmNlXG5cdFx0cmV0dXJuIG5ldyBTZW5zaXRpdmVCeXRlcyhhdHU4X291dHB1dCk7XG5cdH1cblxuXG5cdC8qKlxuXHQgKiBQZXJmb3JtIGJ5dGUtYnktYnl0ZSBYT1Igd2l0aCBvdGhlciBpbnN0YW5jZS5cblx0ICovXG5cdHhvcihrbl9vdGhlcjogU2Vuc2l0aXZlQnl0ZXMpOiBTZW5zaXRpdmVCeXRlcyB7XG5cdFx0Ly8gcmVmIGRhdGFcblx0XHRjb25zdCBhdHU4X2RhdGFfdGhpcyA9IHRoaXMuX2F0dThfZGF0YTtcblx0XHRjb25zdCBhdHU4X2RhdGFfb3RoZXIgPSBrbl9vdGhlci5fYXR1OF9kYXRhO1xuXG5cdFx0Ly8gbnVtYmVyIG9mIGJ5dGVzXG5cdFx0Y29uc3QgbmJfZGlnaXRzX3RoaXMgPSBhdHU4X2RhdGFfdGhpcy5ieXRlTGVuZ3RoO1xuXG5cdFx0Ly8gYnl0ZSBsZW5ndGggZGlzY3JlcGFuY3lcblx0XHRpZihuYl9kaWdpdHNfdGhpcyAhPT0gYXR1OF9kYXRhX290aGVyLmJ5dGVMZW5ndGgpIHtcblx0XHRcdC8vIHBhbmljIHdpcGVzXG5cdFx0XHR0aGlzLndpcGUoKTtcblx0XHRcdGtuX290aGVyLndpcGUoKTtcblxuXHRcdFx0Ly8gcmVmdXNlIG9wZXJhdGlvblxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdSZWZ1c2luZyB0byBYT1IgYnVmZmVycyBvZiBkaWZmZXJlbnQgYnl0ZSBsZW5ndGgnKTtcblx0XHR9XG5cblx0XHQvLyBwcmVwIG5ldyBidWZmZXJcblx0XHRjb25zdCBhdHU4X291dHB1dCA9IG5ldyBVaW50OEFycmF5KG5iX2RpZ2l0c190aGlzKTtcblxuXHRcdC8vIHhvciBvbmUgYnl0ZSBhdCBhIHRpbWVcblx0XHRmb3IobGV0IGliX2VhY2g9MDsgaWJfZWFjaDxuYl9kaWdpdHNfdGhpczsgaWJfZWFjaCsrKSB7XG5cdFx0XHRhdHU4X291dHB1dFtpYl9lYWNoXSA9IGF0dThfZGF0YV90aGlzW2liX2VhY2hdIF4gYXR1OF9kYXRhX290aGVyW2liX2VhY2hdO1xuXHRcdH1cblxuXHRcdC8vIG5ldyBpbnN0YW5jZVxuXHRcdHJldHVybiBuZXcgU2Vuc2l0aXZlQnl0ZXMoYXR1OF9vdXRwdXQpO1xuXHR9XG5cblxuXHQvKipcblx0ICogU3BsaXQgYSBieXRlIGFycmF5IGludG8gJ3dvcmRzJyB1c2luZyB0aGUgZ2l2ZW4gZGVsaW1pdGVyXG5cdCAqIEBwYXJhbSB4Yl92YWx1ZSB0aGUgZGVsaW1pdGVyIHZhbHVlIHRvIHNwbGl0IGJ5XG5cdCAqIEByZXR1cm5zIGxpc3Qgb2Ygd29yZHMgd2hpY2ggd2lsbCBhbGwgYmUgemVyb2VkIG91dCB3aGVuIHRoZSBwYXJlbnQgaW5zdGFuY2UgaXMgd2lwZWRcblx0ICovXG5cdHNwbGl0KHhiX3ZhbHVlOiBudW1iZXIpOiBVaW50OEFycmF5W10ge1xuXHRcdGNvbnN0IGF0dThfZGF0YSA9IHRoaXMuZGF0YTtcblx0XHRjb25zdCBuYl90aGlzID0gYXR1OF9kYXRhLmJ5dGVMZW5ndGg7XG5cblx0XHQvLyBhcnJheSBvZiBwb2ludGVycyB0byB3b3JkcyBhcyBidWZmZXJzXG5cdFx0Y29uc3QgYV93b3JkcyA9IFtdO1xuXG5cdFx0Ly8gYnl0ZSBpbmRleCBzdGFydCBvZiB3b3JkXG5cdFx0bGV0IGliX3N0YXJ0ID0gMDtcblxuXHRcdC8vIGVhY2ggYnl0ZVxuXHRcdGZvcihsZXQgaWJfZWFjaD0wOyBpYl9lYWNoPG5iX3RoaXM7IGliX2VhY2grKykge1xuXHRcdFx0Ly8gYnl0ZSBtYXRjaGVzIHRoZSB0YXJnZXRcblx0XHRcdGlmKHhiX3ZhbHVlID09PSBhdHU4X2RhdGFbaWJfZWFjaF0pIHtcblx0XHRcdFx0Ly8gd2l0aG91dCBjb3B5aW5nIGRhdGEsIHNhdmUgYSByZWZlcmVuY2UgdG8gdGhlIHdvcmRcblx0XHRcdFx0YV93b3Jkcy5wdXNoKGF0dThfZGF0YS5zdWJhcnJheShpYl9zdGFydCwgaWJfZWFjaCkpO1xuXG5cdFx0XHRcdC8vIGFkdmFuY2VkIHRoZSBpbmRleCBmb3IgdGhlIHN0YXJ0IG9mIHRoZSBuZXh0IHdvcmRcblx0XHRcdFx0aWJfc3RhcnQgPSBpYl9lYWNoICsgMTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyByZXR1cm4gbGlzdCBvZiB3b3Jkc1xuXHRcdHJldHVybiBhX3dvcmRzO1xuXHR9XG59XG4iLCJpbXBvcnQgdHlwZSB7IEludHJhRXh0IH0gZnJvbSAnLi9tZXNzYWdlcyc7XG5pbXBvcnQgdHlwZSB7IFZvY2FiIH0gZnJvbSAnIy9tZXRhL3ZvY2FiJztcbmltcG9ydCB0eXBlIHsgSnNvblZhbHVlLCBQcm9taXNhYmxlIH0gZnJvbSAnIy91dGlsL2JlbHQnO1xuXG5pbXBvcnQgdHlwZSB7IFVuaW9uIH0gZnJvbSAndHMtdG9vbGJlbHQnO1xuXG5jb25zdCBkX2Jyb2FkY2FzdF9nbG9iYWw6IFZvY2FiLlR5cGVkQnJvYWRjYXN0PEludHJhRXh0Lkdsb2JhbFZvY2FiPiA9IG5ldyBCcm9hZGNhc3RDaGFubmVsKCdnbG9iYWwnKTtcblxuXG4vKipcbiAqIEJyb2FkY2FzdCBhIG1lc3NhZ2Ugb24gdGhlIGdsb2JhbCBicm9hZGNhc3QgY2hhbm5lbFxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2xvYmFsX2Jyb2FkY2FzdChnX21zZzogVm9jYWIuTWVzc2FnZTxJbnRyYUV4dC5HbG9iYWxWb2NhYj4pOiB2b2lkIHtcblx0Ly8gYnJvYWRjYXN0IG91dFxuXHRkX2Jyb2FkY2FzdF9nbG9iYWwucG9zdE1lc3NhZ2UoZ19tc2cpO1xuXG5cdC8vIGVjaG8gbG9jYWxseVxuXHRkX2Jyb2FkY2FzdF9nbG9iYWwuZGlzcGF0Y2hFdmVudChuZXcgTWVzc2FnZUV2ZW50KCdtZXNzYWdlJywge1xuXHRcdGRhdGE6IGdfbXNnLFxuXHR9KSk7XG59XG5cblxuLyoqXG4gKiBSZWdpc3RlciBhIHNldCBvZiBldmVudCBoYW5kbGVycyBvbiB0aGUgZ2xvYmFsIGJyb2FkY2FzdCBjaGFubmVsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnbG9iYWxfcmVjZWl2ZShoX2hhbmRsZXJzOiBQYXJ0aWFsPFZvY2FiLkhhbmRsZXJzPEludHJhRXh0Lkdsb2JhbFZvY2FiPj4pOiBWb2lkRnVuY3Rpb24ge1xuXHQvLyBjcmVhdGUgbGlzdGVuZXJcblx0Y29uc3QgZl9saXN0ZW5lcjogVm9jYWIuQnJvYWRjYXN0TGlzdGVuZXI8SW50cmFFeHQuR2xvYmFsVm9jYWI+ID0gKGRfZXZlbnQpID0+IHtcblx0XHQvLyByZWYgbWVzc2FnZSBkYXRhXG5cdFx0Y29uc3QgZ19tc2cgPSBkX2V2ZW50LmRhdGEgYXMgdHlwZW9mIGRfZXZlbnQuZGF0YSB8IG51bGwgfCB7dHlwZTogdW5kZWZpbmVkfTtcblxuXHRcdC8vIGludmFsaWQgZXZlbnQgZGF0YVxuXHRcdGlmKCFnX21zZyB8fCAhZ19tc2cudHlwZSkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdJZ25vcmVkIGludmFsaWQgbWVzc2FnZSByZWNlaXZlZCBvbiBnbG9iYWwgYnJvYWRjYXN0IGNoYW5uZWwnKTtcblx0XHR9XG5cblx0XHQvLyBkZXN0cnVjdHVyZSBtZXNzYWdlXG5cdFx0Y29uc3Qge1xuXHRcdFx0dHlwZTogc2lfdHlwZSxcblx0XHRcdHZhbHVlOiB3X3ZhbHVlPW51bGwsXG5cdFx0fSA9IGdfbXNnIGFzIFVuaW9uLlN0cmljdDx0eXBlb2YgZ19tc2c+O1xuXG5cdFx0Ly8gbG9jYXRlIGhhbmRsZXJcblx0XHRjb25zdCBmX2hhbmRsZXIgPSBoX2hhbmRsZXJzW3NpX3R5cGVdO1xuXG5cdFx0Ly8gbm90IGhhbmRsZWQsIGlnbm9yZVxuXHRcdGlmKCFmX2hhbmRsZXIpIHJldHVybjtcblxuXHRcdC8vIGhhbmRsZVxuXHRcdHZvaWQgKGZfaGFuZGxlciBhcyAod192YWx1ZTogSnNvblZhbHVlKSA9PiBQcm9taXNhYmxlPHZvaWQ+KSh3X3ZhbHVlKTtcblx0fTtcblxuXHQvLyBhZGQgbGlzdGVuZXJcblx0ZF9icm9hZGNhc3RfZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBmX2xpc3RlbmVyKTtcblxuXHQvLyByZXR1cm4gcmVtb3ZlciBmdW5jdGlvblxuXHRyZXR1cm4gKCkgPT4ge1xuXHRcdGRfYnJvYWRjYXN0X2dsb2JhbC5yZW1vdmVFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZl9saXN0ZW5lcik7XG5cdH07XG59XG5cbi8qKlxuICogXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnbG9iYWxfd2FpdChcblx0c2lfa2V5OiBrZXlvZiBJbnRyYUV4dC5HbG9iYWxWb2NhYixcblx0ZmtfdGVzdDogKHdfdmFsdWU6IFZvY2FiLk1lc3NhZ2VWYWx1ZTxJbnRyYUV4dC5HbG9iYWxWb2NhYiwgdHlwZW9mIHNpX2tleT4pID0+IFByb21pc2FibGU8Ym9vbGVhbj4sXG5cdHh0X3RpbWVvdXQ9MCxcbik6IFByb21pc2U8dm9pZD4ge1xuXHQvLyBjYXB0dXJlIHN0YWNrIHRyYWNlXG5cdGNvbnN0IHNfc3RhY2sgPSAobmV3IEVycm9yKCkpLnN0YWNrIHx8ICcnO1xuXG5cdC8vIGdvIGFzeW5jXG5cdHJldHVybiBuZXcgUHJvbWlzZSgoZmtfcmVzb2x2ZSwgZmVfcmVqZWN0KSA9PiB7XG5cdFx0Ly8gcHJlcCB0aW1lb3V0IGlkXG5cdFx0bGV0IGlfdGltZW91dCA9IDA7XG5cblx0XHQvLyByZWNlaXZlIG1lc3NhZ2VzXG5cdFx0Y29uc3QgZl91bnJlZ2lzdGVyID0gZ2xvYmFsX3JlY2VpdmUoe1xuXHRcdFx0W3NpX2tleV06ICh3X3ZhbHVlKSA9PiB7XG5cdFx0XHRcdC8vIGNhbGwgdGVzdGVyOyB0cnV0aHkgcmV0dXJuIG1lYW5zIHRvIHVucmVnaXN0ZXJcblx0XHRcdFx0aWYoZmtfdGVzdCh3X3ZhbHVlIGFzIFZvY2FiLk1lc3NhZ2VWYWx1ZTxJbnRyYUV4dC5HbG9iYWxWb2NhYiwgc2lfa2V5PikpIHtcblx0XHRcdFx0XHQvLyB1bnJlZ2lzdGVyIGxpc3RlbmVyXG5cdFx0XHRcdFx0Zl91bnJlZ2lzdGVyKCk7XG5cblx0XHRcdFx0XHQvLyBjYW5jZWwgdGltZW91dFxuXHRcdFx0XHRcdGNsZWFyVGltZW91dChpX3RpbWVvdXQpO1xuXG5cdFx0XHRcdFx0Ly8gcmVzb2x2ZVxuXHRcdFx0XHRcdGZrX3Jlc29sdmUoKTtcblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XHR9KTtcblxuXHRcdC8vIGEgdGltZW91dCB2YWx1ZSB3YXMgcHJvdmlkZWRcblx0XHRpZihOdW1iZXIuaXNJbnRlZ2VyKHh0X3RpbWVvdXQpICYmIHh0X3RpbWVvdXQgPiAwKSB7XG5cdFx0XHQvLyBzZXQgYSBjYW5jZWwgdGltZW91dFxuXHRcdFx0aV90aW1lb3V0ID0gZ2xvYmFsVGhpcy5zZXRUaW1lb3V0KCgpID0+IHtcblx0XHRcdFx0Ly8gdW5yZWdpc3RlclxuXHRcdFx0XHRmX3VucmVnaXN0ZXIoKTtcblxuXHRcdFx0XHQvLyBub3QgZ29vZFxuXHRcdFx0XHRmZV9yZWplY3QobmV3IEVycm9yKGBBIHRpbWVvdXQgd2FzIHJlYWNoZWQgd2FpdGluZyBmb3IgdGhlICcke3NpX2tleX0nIGV2ZW50XFxuJHtzX3N0YWNrfWApKTtcblx0XHRcdH0sIHh0X3RpbWVvdXQpO1xuXHRcdH1cblx0fSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsb2NhbF93YWl0KFxuXHRzaV9rZXk6IGtleW9mIEludHJhRXh0Lkdsb2JhbFZvY2FiLFxuXHRma190ZXN0OiAod192YWx1ZTogVm9jYWIuTWVzc2FnZVZhbHVlPEludHJhRXh0Lkdsb2JhbFZvY2FiLCB0eXBlb2Ygc2lfa2V5PikgPT4gUHJvbWlzYWJsZTxib29sZWFuPixcblx0eHRfdGltZW91dD0wLFxuKTogUHJvbWlzZTx2b2lkPiB7XG5cdFxufVxuIiwiaW1wb3J0IHtcblx0c2Vzc2lvbl9zdG9yYWdlX2lzX25hdGl2ZSxcblx0c2Vzc2lvbl9zdG9yYWdlX3NldF9uYXRpdmUsXG5cdHNlc3Npb25fc3RvcmFnZV9zZXRfd3JhcHBlZCxcblx0VmF1bHQsXG59IGZyb20gJyMvY3J5cHRvL3ZhdWx0JztcblxuaW1wb3J0IHsgRl9OT09QIH0gZnJvbSAnIy91dGlsL2JlbHQnO1xuaW1wb3J0IHsgdGV4dF90b19idWZmZXIgfSBmcm9tICcjL3V0aWwvZGF0YSc7XG5pbXBvcnQgeyBnbG9iYWxfYnJvYWRjYXN0IH0gZnJvbSAnIy9zY3JpcHQvbXNnLWdsb2JhbCc7XG5cblxuZXhwb3J0IGNsYXNzIE5vdEF1dGhlbnRpY2F0ZWRFcnJvciBleHRlbmRzIEVycm9yIHt9XG5cbmV4cG9ydCBjbGFzcyBBbHJlYWR5UmVnaXN0ZXJlZEVycm9yIGV4dGVuZHMgRXJyb3Ige31cblxuZXhwb3J0IGNsYXNzIEludmFsaWRQYXNzcGhyYXNlRXJyb3IgZXh0ZW5kcyBFcnJvciB7fVxuXG5leHBvcnQgY2xhc3MgVW5yZWdpc3RlcmVkRXJyb3IgZXh0ZW5kcyBFcnJvciB7fVxuXG5leHBvcnQgY2xhc3MgUmVjb3ZlcmFibGVWYXVsdEVycm9yIGV4dGVuZHMgRXJyb3Ige31cblxuZXhwb3J0IGNsYXNzIENvcnJ1cHRlZFZhdWx0RXJyb3IgZXh0ZW5kcyBFcnJvciB7fVxuXG5cbi8vIGNhY2hlIGR1bW15IHZhbHVlcyB0byBlc3RpbWF0ZSB0aW1lIHRvIGNvbXBsZXRpb25cbmV4cG9ydCBjb25zdCBBVFU4X0RVTU1ZX1BIUkFTRSA9IHRleHRfdG9fYnVmZmVyKCczMi1jaGFyYWN0ZXItbG9uZy1kdW1teS1wYXNzd29yZCcpO1xuZXhwb3J0IGNvbnN0IEFUVThfRFVNTVlfVkVDVE9SID0gbmV3IFVpbnQ4QXJyYXkoY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhuZXcgVWludDhBcnJheSgxNikpKTtcblxuLy8gbWluaW11bSBwYXNzd29yZCBsZW5ndGhcbmV4cG9ydCBjb25zdCBOTF9QQVNTUEhSQVNFX01JTklNVU0gPSA1O1xuXG4vLyBtYXhpbXVtIHBhc3N3b3JkIGxlbmd0aFxuZXhwb3J0IGNvbnN0IE5MX1BBU1NQSFJBU0VfTUFYSU1VTSA9IDEwMjQ7XG5cblxuLyoqXG4gKiBUZXN0IHRoZSBhY2NlcHRhYmxlLW5lc3Mgb2YgYSBnaXZlbiBwYXNzcGhyYXNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhY2NlcHRhYmxlKHNoX3BocmFzZTogc3RyaW5nKTogYm9vbGVhbiB7XG5cdHJldHVybiAnc3RyaW5nJyA9PT0gdHlwZW9mIHNoX3BocmFzZSAmJiBzaF9waHJhc2UubGVuZ3RoID49IE5MX1BBU1NQSFJBU0VfTUlOSU1VTSAmJiBzaF9waHJhc2UubGVuZ3RoIDw9IE5MX1BBU1NQSFJBU0VfTUFYSU1VTTtcbn1cblxuXG4vKipcbiAqIFJlZ2lzdGVyIG5ldyBjcmVkZW50aWFsc1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVnaXN0ZXIoc2hfcGhyYXNlOiBzdHJpbmcsIGZfdXBkYXRlOiAoKHNfc3RhdGU6IHN0cmluZykgPT4gdm9pZCk9Rl9OT09QKTogUHJvbWlzZTx2b2lkPiB7XG5cdGZfdXBkYXRlKCdSZWFkaW5nIGZyb20gc3RvcmFnZScpO1xuXG5cdC8vIHJldHJpZXZlIHJvb3Rcblx0Y29uc3QgZ19yb290ID0gYXdhaXQgVmF1bHQuZ2V0QmFzZSgpO1xuXG5cdC8vIHJvb3QgaXMgYWxyZWFkeSBzZXRcblx0aWYoVmF1bHQuaXNWYWxpZEJhc2UoZ19yb290KSkge1xuXHRcdHRocm93IG5ldyBBbHJlYWR5UmVnaXN0ZXJlZEVycm9yKCk7XG5cdH1cblxuXHQvLyBjaGVjayBwYXNzd29yZCByZXF1aXJlbWVudHNcblx0aWYoIXNoX3BocmFzZSB8fCAhYWNjZXB0YWJsZShzaF9waHJhc2UpKSB7XG5cdFx0dGhyb3cgbmV3IEludmFsaWRQYXNzcGhyYXNlRXJyb3IoKTtcblx0fVxuXG5cdC8vIGVuY29kZSBwYXNzcGhyYXNlXG5cdGNvbnN0IGF0dThfcGhyYXNlID0gdGV4dF90b19idWZmZXIoc2hfcGhyYXNlKTtcblxuXHRmX3VwZGF0ZSgnRGVyaXZpbmcgcm9vdCBrZXlzJyk7XG5cblx0Ly8gc2VsZWN0IHVpbnQ2NCBlbnRyb3B5IGF0IHJhbmRvbVxuXHRjb25zdCBhdHU4X2VudHJvcHkgPSBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50OEFycmF5KDgpKTtcblxuXHQvLyBzZWxlY3QgaW5pdGlhbCB1aW50NjQgbm9uY2UgYXQgcmFuZG9tIFxuXHRjb25zdCBkdl9yYW5kb20gPSBuZXcgRGF0YVZpZXcoY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhuZXcgVWludDMyQXJyYXkoMikpLmJ1ZmZlcik7XG5cdGNvbnN0IHhnX25vbmNlX2luaXQgPSBkdl9yYW5kb20uZ2V0QmlnVWludDY0KDAsIGZhbHNlKTtcblxuXHQvLyBpbXBvcnQgYmFzZSBrZXkgZnJvbSBwYXNzcGhyYXNlIGFuZCBkZXJpdmUgdGhlIG5ldyByb290IGtleVxuXHRjb25zdCB7XG5cdFx0bmV3OiB7XG5cdFx0XHRrZXk6IGRrX3Jvb3RfbmV3LFxuXHRcdFx0bm9uY2U6IHhnX25vbmNlX25ldyxcblx0XHR9LFxuXHR9ID0gYXdhaXQgVmF1bHQuZGVyaXZlUm9vdEtleXMoYXR1OF9waHJhc2UsIGF0dThfZW50cm9weSwgeGdfbm9uY2VfaW5pdCk7XG5cblx0Zl91cGRhdGUoJ0dlbmVyYXRpbmcgc2lnbmF0dXJlJyk7XG5cblx0Ly8gZ2VuZXJhdGUgc2lnbmF0dXJlXG5cdGNvbnN0IGF0dThfc2lnbmF0dXJlID0gYXdhaXQgVmF1bHQuZ2VuZXJhdGVSb290S2V5U2lnbmF0dXJlKGRrX3Jvb3RfbmV3KTtcblxuXHRmX3VwZGF0ZSgnU2F2aW5nIHRvIHN0b3JhZ2UnKTtcblxuXHQvLyBzYXZlIHRvIHN0b3JhZ2Vcblx0YXdhaXQgVmF1bHQuc2V0UGFyc2VkQmFzZSh7XG5cdFx0ZW50cm9weTogYXR1OF9lbnRyb3B5LFxuXHRcdG5vbmNlOiB4Z19ub25jZV9uZXcsXG5cdFx0c2lnbmF0dXJlOiBhdHU4X3NpZ25hdHVyZSxcblx0fSk7XG59XG5cblxuLyoqXG4gKiBVbmxvY2sgdGhlIHZhdWx0IHVzaW5nIHRoZSBnaXZlbiBwYXNzcGhyYXNlXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsb2dpbihzaF9waHJhc2U6IHN0cmluZywgYl9yZWNvdmVyPWZhbHNlLCBmX3VwZGF0ZTogKChzX3N0YXRlOiBzdHJpbmcpID0+IHZvaWQpPUZfTk9PUCk6IFByb21pc2U8dm9pZD4ge1xuXHRmX3VwZGF0ZSgnUmVhZGluZyBmcm9tIHN0b3JhZ2UnKTtcblxuXHQvLyByZXRyaWV2ZSByb290XG5cdGNvbnN0IGdfcm9vdCA9IGF3YWl0IFZhdWx0LmdldEJhc2UoKTtcblxuXHQvLyBubyByb290IHNldCwgbmVlZCB0byByZWdpc3RlclxuXHRpZighZ19yb290KSB7XG5cdFx0dGhyb3cgbmV3IFVucmVnaXN0ZXJlZEVycm9yKCk7XG5cdH1cblxuXHQvLyByb290IGlzIGNvcnJ1cHRcblx0aWYoIVZhdWx0LmlzVmFsaWRCYXNlKGdfcm9vdCkpIHtcblx0XHR0aHJvdyBuZXcgQ29ycnVwdGVkVmF1bHRFcnJvcihgU3RvcmFnZSBpcyBjb3JydXB0OyByb290IG9iamVjdCBpcyBtaXNzaW5nIG9yIHBhcnRpYWxseSBkYW1hZ2VkYCk7XG5cdH1cblxuXHQvLyBwYXJzZSByb290IGZpZWxkc1xuXHRjb25zdCB7XG5cdFx0ZW50cm9weTogYXR1OF9lbnRyb3B5LFxuXHRcdG5vbmNlOiB4Z19ub25jZV9vbGQsXG5cdFx0c2lnbmF0dXJlOiBhdHU4X3NpZ25hdHVyZV9vbGQsXG5cdFx0dmVyc2lvbjogbl92ZXJzaW9uLFxuXHR9ID0gVmF1bHQucGFyc2VCYXNlKGdfcm9vdCk7XG5cblx0Ly8gaW5jb21wYXRpYmxlIHZlcnNpb25cblx0aWYobl92ZXJzaW9uIDwgMSkge1xuXHRcdHRocm93IG5ldyBDb3JydXB0ZWRWYXVsdEVycm9yKGBWYXVsdCByZXBvcnRzIHRvIGJlIGVuY3J5cHRlZCB3aXRoIGFuIHVua25vd24gdmVyc2lvbiBpZGVudGlmaWVyYCk7XG5cdH1cblx0Ly8gbmV3ZXIgdmVyc2lvblxuXHRlbHNlIGlmKG5fdmVyc2lvbiA+IDEpIHtcblx0XHR0aHJvdyBuZXcgQ29ycnVwdGVkVmF1bHRFcnJvcihgVmF1bHQgcmVwb3J0cyB0byBiZSBlbmNyeXB0ZWQgd2l0aCBhIG5ld2VyIHZlcnNpb24gaWRlbnRpZmllcmApO1xuXHR9XG5cblx0Ly8gZW1wdHk7IHJlamVjdFxuXHRpZighc2hfcGhyYXNlKSB0aHJvdyBuZXcgSW52YWxpZFBhc3NwaHJhc2VFcnJvcigpO1xuXG5cdC8vIGNvbnZlcnQgdG8gYnVmZmVyXG5cdGNvbnN0IGF0dThfcGhyYXNlID0gdGV4dF90b19idWZmZXIoc2hfcGhyYXNlKTtcblxuXHRmX3VwZGF0ZSgnRGVyaXZpbmcgcm9vdCBrZXlzJyk7XG5cblx0Ly8gaW1wb3J0IGJhc2Uga2V5IGZyb20gcGFzc3BocmFzZSBhbmQgZGVyaXZlIG9sZCBhbmQgbmV3IHJvb3Qga2V5c1xuXHRjb25zdCB7XG5cdFx0b2xkOiB7XG5cdFx0XHRrZXk6IGRrX3Jvb3Rfb2xkLFxuXHRcdFx0dmVjdG9yOiBhdHU4X3ZlY3Rvcl9vbGQsXG5cdFx0fSxcblx0XHRuZXc6IHtcblx0XHRcdGtleTogZGtfcm9vdF9uZXcsXG5cdFx0XHR2ZWN0b3I6IGF0dThfdmVjdG9yX25ldyxcblx0XHRcdG5vbmNlOiB4Z19ub25jZV9uZXcsXG5cdFx0fSxcblx0XHRleHBvcnQ6IGtuX3Jvb3RfbmV3LFxuXHR9ID0gYXdhaXQgVmF1bHQuZGVyaXZlUm9vdEtleXMoYXR1OF9waHJhc2UsIGF0dThfZW50cm9weSwgeGdfbm9uY2Vfb2xkLCB0cnVlKTtcblxuXHQvLyBiZWZvcmUgYW55IGZhaWx1cmVzLCB6ZXJvIG91dCBrZXkgbWF0ZXJpYWxcblx0dHJ5IHtcblx0XHQvLyBpbnZhbGlkIG9sZCByb290IGtleVxuXHRcdGlmKCFhd2FpdCBWYXVsdC52ZXJpZnlSb290S2V5KGRrX3Jvb3Rfb2xkLCBhdHU4X3NpZ25hdHVyZV9vbGQpKSB7XG5cdFx0XHQvLyBuZXcgcm9vdCBkb2VzIG5vdCB3b3JrIGVpdGhlcjsgYmFkIHBhc3NwaHJhc2Vcblx0XHRcdGlmKCFhd2FpdCBWYXVsdC52ZXJpZnlSb290S2V5KGRrX3Jvb3RfbmV3LCBhdHU4X3NpZ25hdHVyZV9vbGQpKSB7XG5cdFx0XHRcdHRocm93IG5ldyBJbnZhbGlkUGFzc3BocmFzZUVycm9yKCk7XG5cdFx0XHR9XG5cdFx0XHQvLyBwcm9ncmFtIHdhcyBmb3IgY2xvc2VkIGFtaWQgcmVjcnlwdGlvblxuXHRcdFx0ZWxzZSBpZighYl9yZWNvdmVyKSB7XG5cdFx0XHRcdHRocm93IG5ldyBSZWNvdmVyYWJsZVZhdWx0RXJyb3IoKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRmX3VwZGF0ZSgnUm90YXRpbmcga2V5cycpO1xuXG5cdFx0Ly8gcmVjcnlwdCBldmVyeXRoaW5nXG5cdFx0YXdhaXQgVmF1bHQucmVjcnlwdEFsbChka19yb290X29sZCwgYXR1OF92ZWN0b3Jfb2xkLCBka19yb290X25ldywgYXR1OF92ZWN0b3JfbmV3KTtcblxuXHRcdGZfdXBkYXRlKCdHZW5lcmF0aW5nIHNpZ25hdHVyZScpO1xuXG5cdFx0Ly8gZ2VuZXJhdGUgbmV3IHNpZ25hdHVyZVxuXHRcdGNvbnN0IGF0dThfc2lnbmF0dXJlX25ldyA9IGF3YWl0IFZhdWx0LmdlbmVyYXRlUm9vdEtleVNpZ25hdHVyZShka19yb290X25ldyk7XG5cblx0XHRmX3VwZGF0ZSgnU2F2aW5nIHRvIHN0b3JhZ2UnKTtcblxuXHRcdC8vIHVwZGF0ZSByb290XG5cdFx0YXdhaXQgVmF1bHQuc2V0UGFyc2VkQmFzZSh7XG5cdFx0XHRlbnRyb3B5OiBhdHU4X2VudHJvcHksXG5cdFx0XHRub25jZTogeGdfbm9uY2VfbmV3LFxuXHRcdFx0c2lnbmF0dXJlOiBhdHU4X3NpZ25hdHVyZV9uZXcsXG5cdFx0fSk7XG5cblx0XHQvLyBzZXQgc2Vzc2lvblxuXHRcdGlmKHNlc3Npb25fc3RvcmFnZV9pc19uYXRpdmUpIHtcblx0XHRcdGF3YWl0IHNlc3Npb25fc3RvcmFnZV9zZXRfbmF0aXZlKHtcblx0XHRcdFx0cm9vdDogZGtfcm9vdF9uZXcsXG5cdFx0XHRcdHZlY3RvcjogYXR1OF92ZWN0b3JfbmV3LFxuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdGVsc2Uge1xuXHRcdFx0YXdhaXQgc2Vzc2lvbl9zdG9yYWdlX3NldF93cmFwcGVkKHtcblx0XHRcdFx0cm9vdDogQXJyYXkuZnJvbShrbl9yb290X25ldyEuZGF0YSksXG5cdFx0XHRcdHZlY3RvcjogQXJyYXkuZnJvbShhdHU4X3ZlY3Rvcl9uZXcpLFxuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0Ly8gd2lwZSByb290IGtleSBtYXRlcmlhbFxuXHRcdGtuX3Jvb3RfbmV3Py53aXBlKCk7XG5cblx0XHQvLyBmaXJlIGxvZ2dlZCBpbiBldmVudFxuXHRcdGdsb2JhbF9icm9hZGNhc3Qoe1xuXHRcdFx0dHlwZTogJ2xvZ2luJyxcblx0XHR9KTtcblxuXHRcdGZfdXBkYXRlKCdEb25lJyk7XG5cdH1cblx0Ly8gaW50ZXJjZXB0IGVycm9yXG5cdGNhdGNoKGVfdGhyb3duKSB7XG5cdFx0Ly8gemVybyBvdXQga2V5IG1hdGVyaWFsXG5cdFx0a25fcm9vdF9uZXc/LndpcGUoKTtcblxuXHRcdC8vIHJldGhyb3dcblx0XHR0aHJvdyBlX3Rocm93bjtcblx0fVxufVxuXG5cbi8qKlxuICogTG9jayB0aGUgdmF1bHRcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxvZ291dCgpOiBQcm9taXNlPHZvaWQ+IHtcblx0YXdhaXQgVmF1bHQuY2xlYXJSb290S2V5KCk7XG59XG4iLCJcblxuZXhwb3J0IGludGVyZmFjZSBFcnJvclJlcG9ydCB7XG5cdHRleHQ/OiBzdHJpbmc7XG5cdGVycm9yPzogRXJyb3I7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzeXNlcnIoZ19lcnJvcjogRXJyb3JSZXBvcnQpOiB2b2lkIHtcblx0Y29uc29sZS5lcnJvcihnX2Vycm9yKTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBXYXJuUmVwb3J0IHtcblx0dGV4dDogc3RyaW5nO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc3lzd2FybihnX3dhcm46IFdhcm5SZXBvcnQpOiB2b2lkIHtcblx0Y29uc29sZS53YXJuKGdfd2Fybik7XG59XG4iLCJpbXBvcnQgdHlwZSB7TmFtZWFibGUsIFBmcGFibGV9IGZyb20gJy4vYWJsZSc7XG5pbXBvcnQgdHlwZSB7QWdlbnQsIENoYWluUGF0aCwgRmFtaWx5LCBGYW1pbHlLZXl9IGZyb20gJy4vY2hhaW4nO1xuaW1wb3J0IHR5cGUge1Jlc291cmNlfSBmcm9tICcuL3Jlc291cmNlJztcblxuZXhwb3J0IGVudW0gQ29udGFjdEFnZW50VHlwZSB7XG5cdFBFUlNPTiA9ICdwZXJzb24nLFxuXHRDT05UUkFDVCA9ICdjb250cmFjdCcsXG59XG5cbi8qKlxuICogQSBjb250YWN0IGlzIGFuIGFnZW50IHRoYXQgdGhlIHVzZXIgaGFzIGFzc2lnbmVkIGluZm9ybWF0aW9uIHRvXG4gKi9cbmV4cG9ydCB0eXBlIENvbnRhY3RTcGFjZSA9IEV4dHJhY3Q8a2V5b2YgRmFtaWx5LkJlY2gzMnMsICdhY2MnPjtcblxuZXhwb3J0IHR5cGUgQ29udGFjdDxcblx0c2lfZmFtaWx5IGV4dGVuZHMgRmFtaWx5S2V5PUZhbWlseUtleSxcblx0c2FfY29udGFjdCBleHRlbmRzIHN0cmluZz1zdHJpbmcsXG5cdHNpX3NwYWNlIGV4dGVuZHMgQ29udGFjdFNwYWNlPUNvbnRhY3RTcGFjZSxcbj4gPSBSZXNvdXJjZS5OZXc8e1xuXHRleHRlbmRzOiBBZ2VudDxzaV9mYW1pbHksIHNhX2NvbnRhY3QsIHNpX3NwYWNlPjtcblx0c2VnbWVudDogJ2FzLmNvbnRhY3QnO1xuXHRpbnRlcmZhY2U6IFt7XG5cdFx0bm90ZXM6IHN0cmluZztcblx0XHRhZ2VudFR5cGU6IENvbnRhY3RBZ2VudFR5cGU7XG5cdFx0c3BhY2U6IHNpX3NwYWNlIGV4dGVuZHMgYCR7aW5mZXIgc31gPyBzOiBzdHJpbmc7XG5cdFx0ZmFtaWx5OiBzaV9mYW1pbHk7XG5cdFx0Y2hhaW5zOiBSZWNvcmQ8Q2hhaW5QYXRoLCB7fT47XG5cdH0sIE5hbWVhYmxlLCBQZnBhYmxlXTtcbn0+O1xuXG5leHBvcnQgdHlwZSBDb250YWN0UGF0aCA9IFJlc291cmNlLlBhdGg8Q29udGFjdD47XG4iLCJpbXBvcnQgdHlwZSB7IFN0b3JlS2V5IH0gZnJvbSAnIy9tZXRhL3N0b3JlJztcblxuXG5leHBvcnQgY29uc3QgWFRfU0VDT05EUyA9IDFlMztcbmV4cG9ydCBjb25zdCBYVF9NSU5VVEVTID0gNjAgKiBYVF9TRUNPTkRTO1xuZXhwb3J0IGNvbnN0IFhUX0hPVVJTID0gNjAgKiBYVF9NSU5VVEVTO1xuZXhwb3J0IGNvbnN0IFhUX0RBWVMgPSAyNCAqIFhUX0hPVVJTO1xuXG4vLyBsb2NhbGhvc3QgcGF0dGVyblxuZXhwb3J0IGNvbnN0IFJfRE9NQUlOX0xPQ0FMSE9TVCA9IC9eKGxvY2FsaG9zdHwxMjcuMC4wLjEpKDpcXGQrKT8kLztcblxuLy8gaXAgYWRkcmVzcyBwYXR0ZXJuXG5leHBvcnQgY29uc3QgUl9ET01BSU5fSVAgPSAvXlxcZCsoPzouXFxkKyl7M30oOlxcZCspPyQvO1xuXG4vLyBiZWNoMzIgcGFyc2luZyByZWdleFxuZXhwb3J0IGNvbnN0IFJfQkVDSDMyID0gL14oXFx3KykoWzEzXSkoW2EtekEtSEotTlAtWjAtOV17MjUsMzl9KSQvO1xuXG4vLyBwdWJsaWMgc3VmZml4IGxpc3RcbmV4cG9ydCBjb25zdCBQX1BVQkxJQ19TVUZGSVhfTElTVCA9ICdodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vcHVibGljc3VmZml4L2xpc3QvbWFzdGVyL3B1YmxpY19zdWZmaXhfbGlzdC5kYXQnO1xuXG4vLyBnbG9iYWwgZGVjcmVlc1xuZXhwb3J0IGNvbnN0IFBfU1RBUlNIRUxMX0RFQ1JFRVMgPSAnaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL1NvbGFyUmVwdWJsaWMvd2FsbGV0LWRlY3JlZXMvbWFzdGVyL2dsb2JhbC5qc29uJ1xuXG4vLyB0cmFuc2ZlciBhbW91bnQgc3RyaW5nIHJlZ2V4XG5leHBvcnQgY29uc3QgUl9UUkFOU0ZFUl9BTU9VTlQgPSAvXihcXGQrKSguKykvO1xuXG5cbmV4cG9ydCBjb25zdCBTSV9TVE9SRV9TRUNSRVRTOiBTdG9yZUtleTwnc2VjcmV0cyc+ID0gJ3NlY3JldHMnO1xuZXhwb3J0IGNvbnN0IFNJX1NUT1JFX0FQUFM6IFN0b3JlS2V5PCdhcHBzJz4gPSAnYXBwcyc7XG5leHBvcnQgY29uc3QgU0lfU1RPUkVfQVBQX1BPTElDSUVTOiBTdG9yZUtleTwnYXBwX3BvbGljaWVzJz4gPSAnYXBwX3BvbGljaWVzJztcbmV4cG9ydCBjb25zdCBTSV9TVE9SRV9BR0VOVFM6IFN0b3JlS2V5PCdhZ2VudHMnPiA9ICdhZ2VudHMnO1xuZXhwb3J0IGNvbnN0IFNJX1NUT1JFX1NFVFRJTkdTOiBTdG9yZUtleTwnc2V0dGluZ3MnPiA9ICdzZXR0aW5ncyc7XG5leHBvcnQgY29uc3QgU0lfU1RPUkVfQUNDT1VOVFM6IFN0b3JlS2V5PCdhY2NvdW50cyc+ID0gJ2FjY291bnRzJztcbmV4cG9ydCBjb25zdCBTSV9TVE9SRV9RVUVSWV9DQUNIRTogU3RvcmVLZXk8J3F1ZXJ5X2NhY2hlJz4gPSAncXVlcnlfY2FjaGUnO1xuZXhwb3J0IGNvbnN0IFNJX1NUT1JFX1RBR1M6IFN0b3JlS2V5PCd0YWdzJz4gPSAndGFncyc7XG5leHBvcnQgY29uc3QgU0lfU1RPUkVfTUVESUE6IFN0b3JlS2V5PCdtZWRpYSc+ID0gJ21lZGlhJztcbmV4cG9ydCBjb25zdCBTSV9TVE9SRV9QRlBTOiBTdG9yZUtleTwncGZwcyc+ID0gJ3BmcHMnO1xuZXhwb3J0IGNvbnN0IFNJX1NUT1JFX0NIQUlOUzogU3RvcmVLZXk8J2NoYWlucyc+ID0gJ2NoYWlucyc7XG5leHBvcnQgY29uc3QgU0lfU1RPUkVfTkVUV09SS1M6IFN0b3JlS2V5PCduZXR3b3Jrcyc+ID0gJ25ldHdvcmtzJztcbmV4cG9ydCBjb25zdCBTSV9TVE9SRV9FTlRJVElFUzogU3RvcmVLZXk8J2VudGl0aWVzJz4gPSAnZW50aXRpZXMnO1xuZXhwb3J0IGNvbnN0IFNJX1NUT1JFX0VWRU5UUzogU3RvcmVLZXk8J2V2ZW50cyc+ID0gJ2V2ZW50cyc7XG5leHBvcnQgY29uc3QgU0lfU1RPUkVfV0VCX1JFU09VUkNFUzogU3RvcmVLZXk8J3dlYl9yZXNvdXJjZXMnPiA9ICd3ZWJfcmVzb3VyY2VzJztcbmV4cG9ydCBjb25zdCBTSV9TVE9SRV9XRUJfQVBJUzogU3RvcmVLZXk8J3dlYl9hcGlzJz4gPSAnd2ViX2FwaXMnO1xuIiwiaW1wb3J0IHR5cGUgeyBBcHAsIEFwcFBhdGggfSBmcm9tICcjL21ldGEvYXBwJztcbmltcG9ydCB7IENvbnRhY3QsIENvbnRhY3RBZ2VudFR5cGUsIENvbnRhY3RQYXRoIH0gZnJvbSAnIy9tZXRhL2NvbnRhY3QnO1xuaW1wb3J0IHR5cGUgeyBOZXR3b3JrLCBOZXR3b3JrUGF0aCB9IGZyb20gJyMvbWV0YS9uZXR3b3JrJztcbmltcG9ydCB0eXBlIHsgUGZwLCBQZnBQYXRoIH0gZnJvbSAnIy9tZXRhL3BmcCc7XG5pbXBvcnQgdHlwZSB7IFN0b3JlLCBTdG9yZUtleSB9IGZyb20gJyMvbWV0YS9zdG9yZSc7XG5cbmltcG9ydCB7XG5cdFNJX1NUT1JFX0FDQ09VTlRTLFxuXHRTSV9TVE9SRV9BR0VOVFMsXG5cdFNJX1NUT1JFX0FQUFMsXG5cdFNJX1NUT1JFX0FQUF9QT0xJQ0lFUyxcblx0U0lfU1RPUkVfQ0hBSU5TLFxuXHRTSV9TVE9SRV9FTlRJVElFUyxcblx0U0lfU1RPUkVfRVZFTlRTLFxuXHRTSV9TVE9SRV9NRURJQSxcblx0U0lfU1RPUkVfTkVUV09SS1MsXG5cdFNJX1NUT1JFX1BGUFMsXG5cdFNJX1NUT1JFX1FVRVJZX0NBQ0hFLFxuXHRTSV9TVE9SRV9TRUNSRVRTLFxuXHRTSV9TVE9SRV9TRVRUSU5HUyxcblx0U0lfU1RPUkVfVEFHUyxcblx0U0lfU1RPUkVfV0VCX0FQSVMsXG5cdFNJX1NUT1JFX1dFQl9SRVNPVVJDRVMsXG59IGZyb20gJyMvc2hhcmUvY29uc3RhbnRzJztcbmltcG9ydCB7IERpY3QsIGZvbGQsIG9kZSwgb2RlcmFjIH0gZnJvbSAnIy91dGlsL2JlbHQnO1xuaW1wb3J0IHsgYnVmZmVyX3RvX2Jhc2U2NCwgc2hhMjU2X3N5bmMsIHNoYTI1Nl9zeW5jX2luc2VjdXJlLCB0ZXh0X3RvX2J1ZmZlciB9IGZyb20gJyMvdXRpbC9kYXRhJztcblxuXG5jb25zdCB0eXBlX2NoZWNrID0gPHNpX3N0b3JlIGV4dGVuZHMgU3RvcmVLZXk+KGhfaW5wdXQ6IFN0b3JlLkNhY2hlPHNpX3N0b3JlPik6IHR5cGVvZiBoX2lucHV0ID0+IGhfaW5wdXQ7XG5cbmNvbnN0IEhfTUVESUEgPSBfX0hfTUVESUFfQlVJTFRJTjtcbmNvbnN0IEhfTUVESUFfTE9PS1VQID0gX19IX01FRElBX0xPT0tVUDtcblxuZXhwb3J0IGNvbnN0IEhfU1RPUkVfSU5JVF9NRURJQSA9IHR5cGVfY2hlY2s8dHlwZW9mIFNJX1NUT1JFX01FRElBPihIX01FRElBKTtcblxuY29uc3QgY29zbW9zX2JlY2gzMnMgPSA8c19wcmVmaXggZXh0ZW5kcyBzdHJpbmc9c3RyaW5nPihzX3ByZWZpeDogc19wcmVmaXgpID0+ICh7XG5cdGFjYzoge1xuXHRcdGhycDogc19wcmVmaXgsXG5cdFx0c2VwYXJhdG9yOiAnMScsXG5cdH0sXG5cdGFjY3B1Yjoge1xuXHRcdGhycDogYCR7c19wcmVmaXh9cHViYCxcblx0XHRzZXBhcmF0b3I6ICcxJyxcblx0fSxcblx0dmFsb3Blcjoge1xuXHRcdGhycDogYCR7c19wcmVmaXh9dmFsb3BlcmAsXG5cdFx0c2VwYXJhdG9yOiAnMScsXG5cdH0sXG5cdHZhbG9wZXJwdWI6IHtcblx0XHRocnA6IGAke3NfcHJlZml4fXZhbG9wZXJwdWJgLFxuXHRcdHNlcGFyYXRvcjogJzEnLFxuXHR9LFxuXHR2YWxjb25zOiB7XG5cdFx0aHJwOiBgJHtzX3ByZWZpeH12YWxjb25zYCxcblx0XHRzZXBhcmF0b3I6ICcxJyxcblx0fSxcblx0dmFsY29uc3B1Yjoge1xuXHRcdGhycDogYCR7c19wcmVmaXh9dmFsY29uc3B1YmAsXG5cdFx0c2VwYXJhdG9yOiAnMScsXG5cdH0sXG59KSBhcyBjb25zdDtcblxuZXhwb3J0IGNvbnN0IEhfU1RPUkVfSU5JVF9QRlBTID0gdHlwZV9jaGVjazx0eXBlb2YgU0lfU1RPUkVfUEZQUz4oZm9sZDxQZnBbJ2ludGVyZmFjZSddLCBQZnBbJ2ludGVyZmFjZSddPihbXG5cdHtcblx0XHR0eXBlOiAncGxhaW4nLFxuXHRcdGltYWdlOiB7XG5cdFx0XHRkZWZhdWx0OiBIX01FRElBX0xPT0tVUFsnL21lZGlhL3ZlbmRvci9sb2dvLnN2ZyddLFxuXHRcdH0sXG5cdH0sXG5cdHtcblx0XHR0eXBlOiAncGxhaW4nLFxuXHRcdGltYWdlOiB7XG5cdFx0XHRkZWZhdWx0OiBIX01FRElBX0xPT0tVUFsnL21lZGlhL2NoYWluL2Nvc21vcy1odWIuc3ZnJ10sXG5cdFx0fSxcblx0fSxcblx0e1xuXHRcdHR5cGU6ICdwbGFpbicsXG5cdFx0aW1hZ2U6IHtcblx0XHRcdGRlZmF1bHQ6IEhfTUVESUFfTE9PS1VQWycvbWVkaWEvY2hhaW4vc2VjcmV0LW5ldHdvcmsuc3ZnJ10sXG5cdFx0fSxcblx0fSxcblx0e1xuXHRcdHR5cGU6ICdwbGFpbicsXG5cdFx0aW1hZ2U6IHtcblx0XHRcdGRlZmF1bHQ6IEhfTUVESUFfTE9PS1VQWycvbWVkaWEvdG9rZW4vc2VjcmV0LXNlY3JldC5zdmcnXSxcblx0XHR9LFxuXHR9LFxuXHR7XG5cdFx0dHlwZTogJ3BsYWluJyxcblx0XHRpbWFnZToge1xuXHRcdFx0ZGVmYXVsdDogSF9NRURJQV9MT09LVVBbJy9tZWRpYS9vdGhlci9zZWNyZXQtc2F0dXJuLnBuZyddLFxuXHRcdH0sXG5cdH0sXG5cdHtcblx0XHR0eXBlOiAncGxhaW4nLFxuXHRcdGltYWdlOiB7XG5cdFx0XHRkZWZhdWx0OiBIX01FRElBX0xPT0tVUFsnL21lZGlhL290aGVyL3N1cGRvZ2dpZS5wbmcnXSxcblx0XHR9LFxuXHR9LFxuXSwgKGdfcGZwLCBpX3BmcCkgPT4gKHtcblx0W2AvdGVtcGxhdGUucGZwL2lkLiR7aV9wZnB9YF06IGdfcGZwLFxufSkpKTtcblxuY29uc3QgSF9MT09LVVBfUEZQOiBEaWN0PFBmcFBhdGg+ID0ge307XG5mb3IoY29uc3QgW3BfcGZwLCBnX3BmcF0gb2Ygb2RlKEhfU1RPUkVfSU5JVF9QRlBTKSkge1xuXHRpZigncGxhaW4nID09PSBnX3BmcC50eXBlKSB7XG5cdFx0Y29uc3QgZ19tZWRpYSA9IEhfTUVESUFbZ19wZnAuaW1hZ2UuZGVmYXVsdF07XG5cdFx0SF9MT09LVVBfUEZQW2dfbWVkaWEuZGF0YV0gPSBwX3BmcDtcblx0fVxufVxuXG5leHBvcnQgY29uc3QgSF9TVE9SRV9JTklUX0NIQUlOUyA9IHR5cGVfY2hlY2s8dHlwZW9mIFNJX1NUT1JFX0NIQUlOUz4oe1xuXHQnL2ZhbWlseS5jb3Ntb3MvY2hhaW4ucHVsc2FyLTInOiB7XG5cdFx0bmFtZTogJ1NlY3JldCBQdWxzYXInLFxuXHRcdHBmcDogSF9MT09LVVBfUEZQWycvbWVkaWEvY2hhaW4vc2VjcmV0LW5ldHdvcmsuc3ZnJ10sXG5cdFx0ZmFtaWx5OiAnY29zbW9zJyxcblx0XHRpZDogJ3B1bHNhci0yJyxcblx0XHRiZWNoMzJzOiBjb3Ntb3NfYmVjaDMycygnc2VjcmV0JyksXG5cdFx0YmlwNDQ6IHtcblx0XHRcdGNvaW5UeXBlOiA1MjksXG5cdFx0fSxcblx0XHRjb2luczoge1xuXHRcdFx0U0NSVDoge1xuXHRcdFx0XHRkZWNpbWFsczogNixcblx0XHRcdFx0ZGVub206ICd1c2NydCcsXG5cdFx0XHRcdG5hbWU6ICdTZWNyZXQnLFxuXHRcdFx0XHRwZnA6IEhfTE9PS1VQX1BGUFsnL21lZGlhL2NoYWluL3NlY3JldC1uZXR3b3JrLnN2ZyddLFxuXHRcdFx0XHRleHRyYToge1xuXHRcdFx0XHRcdGNvaW5nZWNrb19pZDogJ3NlY3JldCcsXG5cdFx0XHRcdH0sXG5cdFx0XHR9LFxuXHRcdH0sXG5cdFx0dG9rZW5JbnRlcmZhY2VzOiBbJ3NuaXAtMjAnLCAnc25pcC0yMScsICdzbmlwLTcyMScsICdzbmlwLTcyMiddLFxuXHRcdHRlc3RuZXQ6IHRydWUsXG5cdH0sXG5cdCcvZmFtaWx5LmNvc21vcy9jaGFpbi50aGV0YS10ZXN0bmV0LTAwMSc6IHtcblx0XHRuYW1lOiAnQ29zbW9zIEh1YiBUaGV0YScsXG5cdFx0cGZwOiBIX0xPT0tVUF9QRlBbJy9tZWRpYS9jaGFpbi9jb3Ntb3MtaHViLnN2ZyddLFxuXHRcdGZhbWlseTogJ2Nvc21vcycsXG5cdFx0aWQ6ICd0aGV0YS10ZXN0bmV0LTAwMScsXG5cdFx0YmVjaDMyczogY29zbW9zX2JlY2gzMnMoJ2Nvc21vcycpLFxuXHRcdGJpcDQ0OiB7XG5cdFx0XHRjb2luVHlwZTogMTE4LFxuXHRcdH0sXG5cdFx0Y29pbnM6IHtcblx0XHRcdEFUT006IHtcblx0XHRcdFx0ZGVjaW1hbHM6IDYsXG5cdFx0XHRcdGRlbm9tOiAndWF0b20nLFxuXHRcdFx0XHRuYW1lOiAnQ29zbW9zJyxcblx0XHRcdFx0cGZwOiBIX0xPT0tVUF9QRlBbJy9tZWRpYS9jaGFpbi9jb3Ntb3MtaHViLnN2ZyddLFxuXHRcdFx0XHRleHRyYToge1xuXHRcdFx0XHRcdGNvaW5nZWNrb19pZDogJ2Nvc21vcy1odWInLFxuXHRcdFx0XHR9LFxuXHRcdFx0fSxcblx0XHR9LFxuXHRcdHRva2VuSW50ZXJmYWNlczogWydjdy0yMCddLFxuXHRcdHRlc3RuZXQ6IHRydWUsXG5cdH0sXG59KTtcblxuZXhwb3J0IGNvbnN0IEhfU1RPUkVfSU5JVF9ORVRXT1JLUyA9IHR5cGVfY2hlY2s8dHlwZW9mIFNJX1NUT1JFX05FVFdPUktTPihmb2xkKFtcblx0e1xuXHRcdG5hbWU6ICfwnZWKZWNyZXQg8J2VimF0dXJuJyxcblx0XHRwZnA6IEhfTE9PS1VQX1BGUFsnL21lZGlhL290aGVyL3NlY3JldC1zYXR1cm4ucG5nJ10sXG5cdFx0Y2hhaW46ICcvZmFtaWx5LmNvc21vcy9jaGFpbi5wdWxzYXItMicsXG5cdFx0Z3JwY1dlYlVybDogJ2h0dHBzOi8vZ3JwYy50ZXN0bmV0LnNlY3JldHNhdHVybi5uZXQnLFxuXHRcdHJwY0hvc3Q6ICdycGMudGVzdG5ldC5zZWNyZXRzYXR1cm4ubmV0Jyxcblx0fSxcblx0e1xuXHRcdG5hbWU6ICdQb2x5cG9yZScsXG5cdFx0cGZwOiAnJyBhcyBQZnBQYXRoLFxuXHRcdGNoYWluOiAnL2ZhbWlseS5jb3Ntb3MvY2hhaW4udGhldGEtdGVzdG5ldC0wMDEnLFxuXHRcdGdycGNXZWJVcmw6ICdodHRwczovL2dycGMuc2VudHJ5LTAxLnRoZXRhLXRlc3RuZXQucG9seXBvcmUueHl6Jyxcblx0fSxcbl0sIGdfZWFjaCA9PiAoe1xuXHRbYC9uZXR3b3JrLiR7YnVmZmVyX3RvX2Jhc2U2NChzaGEyNTZfc3luY19pbnNlY3VyZSh0ZXh0X3RvX2J1ZmZlcihnX2VhY2guZ3JwY1dlYlVybCkpKX1gXTogZ19lYWNoLFxuXHQvLyBbTmV0d29ya3MucGF0aEZyb20oZ19lYWNoIGFzIE5ldHdvcmtbJ2ludGVyZmFjZSddKV06IGdfZWFjaCxcbn0pKSBhcyBSZWNvcmQ8TmV0d29ya1BhdGgsIE5ldHdvcmtbJ2ludGVyZmFjZSddPik7XG5cblxuZXhwb3J0IGNvbnN0IEhfU1RPUkVfSU5JVF9BUFBTID0gdHlwZV9jaGVjazx0eXBlb2YgU0lfU1RPUkVfQVBQUz4oZm9sZChbXG5cdHtcblx0XHRzY2hlbWU6ICdodHRwcycsXG5cdFx0aG9zdDogJ2FwcC5zdGFyc2hlbGwubmV0Jyxcblx0XHRjb25uZWN0aW9uczoge30sXG5cdFx0cGZwOiBIX0xPT0tVUF9QRlBbJy9tZWRpYS92ZW5kb3IvbG9nby5zdmcnXSxcblx0fSxcblx0e1xuXHRcdHNjaGVtZTogJ2h0dHBzJyxcblx0XHRob3N0OiAnZmF1Y2V0LnNlY3JldHRlc3RuZXQuaW8nLFxuXHRcdGNvbm5lY3Rpb25zOiB7fSxcblx0XHRwZnA6ICcnIGFzIFBmcFBhdGgsXG5cdH0sXG5dLCBnX2VhY2ggPT4gKHtcblx0W2Avc2NoZW1lLiR7Z19lYWNoLnNjaGVtZX0vaG9zdC4ke2dfZWFjaC5ob3N0LnJlcGxhY2UoLzovZywgJysnKX1gXTogZ19lYWNoLFxufSkpIGFzIFJlY29yZDxBcHBQYXRoLCBBcHBbJ2ludGVyZmFjZSddPik7XG5cblxuZXhwb3J0IGNvbnN0IEhfU1RPUkVfSU5JVF9BR0VOVFMgPSB0eXBlX2NoZWNrPHR5cGVvZiBTSV9TVE9SRV9BR0VOVFM+KGZvbGQoW1xuXHR7XG5cdFx0bmFtZTogJ3N1cGRvZ2dpZScsXG5cdFx0bm90ZXM6ICcnLFxuXHRcdGFnZW50VHlwZTogQ29udGFjdEFnZW50VHlwZS5QRVJTT04sXG5cdFx0c3BhY2U6ICdhY2MnLFxuXHRcdGZhbWlseTogJ2Nvc21vcycsXG5cdFx0Y2hhaW5zOiB7fSxcblx0XHRwZnA6IEhfTE9PS1VQX1BGUFsnL21lZGlhL290aGVyL3N1cGRvZ2dpZS5wbmcnXSxcblx0XHRhZGRyZXNzOiAnMG10bTQ4dWw1bWNnamo0aG0wYTRqM3RkNGw1cHQ1OTBlcmwzazknLFxuXHRcdG9yaWdpbjogJ2J1aWx0LWluJyxcblx0fSBhcyBDb250YWN0WydpbnRlcmZhY2UnXSxcblx0e1xuXHRcdG5hbWU6ICdmYXVjZXQuc2VjcmV0dGVzdG5ldC5pbycsXG5cdFx0bm90ZXM6ICcnLFxuXHRcdGFnZW50VHlwZTogQ29udGFjdEFnZW50VHlwZS5QRVJTT04sXG5cdFx0c3BhY2U6ICdhY2MnLFxuXHRcdGZhbWlseTogJ2Nvc21vcycsXG5cdFx0Y2hhaW5zOiB7fSxcblx0XHRwZnA6ICcnIGFzIFBmcFBhdGgsXG5cdFx0YWRkcmVzczogJzNmcXR1MGx4c3ZuOGd0bGYzbXo1a3Q3NXNweHY5M3NzYTZ2ZWNmJyxcblx0XHRvcmlnaW46ICdidWlsdC1pbicsXG5cdH0gYXMgQ29udGFjdFsnaW50ZXJmYWNlJ10sXG5dLCAoZ19jb250YWN0KSA9PiAoe1xuXHRbYC9mYW1pbHkuJHtnX2NvbnRhY3QuZmFtaWx5fS9hZ2VudC4ke2dfY29udGFjdC5hZGRyZXNzfS9hcy5jb250YWN0YF06IGdfY29udGFjdCxcbn0pKSBhcyBSZWNvcmQ8Q29udGFjdFBhdGgsIENvbnRhY3RbJ2ludGVyZmFjZSddPik7XG5cblxuZXhwb3J0IGNvbnN0IEhfU1RPUkVfSU5JVFM6IHtcblx0W3NpX3N0b3JlIGluIFN0b3JlS2V5XTogU3RvcmVbc2lfc3RvcmVdIGV4dGVuZHMgYW55W11cblx0XHQ/IFN0b3JlLkNhY2hlPHNpX3N0b3JlPlxuXHRcdDogUGFydGlhbDxTdG9yZS5NYXA8c2lfc3RvcmU+Pjtcbn0gPSB7XG5cdFtTSV9TVE9SRV9BUFBTXTogSF9TVE9SRV9JTklUX0FQUFMsXG5cdFtTSV9TVE9SRV9BUFBfUE9MSUNJRVNdOiB7XG5cdFx0aHE6IFtdLFxuXHRcdHVzZXI6IFtdLFxuXHR9LFxuXHRbU0lfU1RPUkVfQUNDT1VOVFNdOiB7fSxcblx0W1NJX1NUT1JFX0FHRU5UU106IEhfU1RPUkVfSU5JVF9BR0VOVFMsXG5cdFtTSV9TVE9SRV9DSEFJTlNdOiBIX1NUT1JFX0lOSVRfQ0hBSU5TLFxuXHRbU0lfU1RPUkVfTkVUV09SS1NdOiBIX1NUT1JFX0lOSVRfTkVUV09SS1MsXG5cdFtTSV9TVE9SRV9TRVRUSU5HU106IHt9LFxuXHRbU0lfU1RPUkVfTUVESUFdOiBIX1NUT1JFX0lOSVRfTUVESUEsXG5cdFtTSV9TVE9SRV9QRlBTXTogSF9TVE9SRV9JTklUX1BGUFMsXG5cdFtTSV9TVE9SRV9FTlRJVElFU106IHt9LFxuXHRbU0lfU1RPUkVfRVZFTlRTXTogW10sXG5cdFtTSV9TVE9SRV9TRUNSRVRTXToge30sXG5cdFtTSV9TVE9SRV9UQUdTXToge1xuXHRcdHJlZ2lzdHJ5OiBvZGVyYWMoe1xuXHRcdFx0cGluazogJyNENTAwRjknLFxuXHRcdFx0aG90OiAnI0M1MTE2MicsXG5cdFx0XHRvcmFuZ2U6ICcjRkY0RDIxJyxcblx0XHRcdGdvbGQ6ICcjRkY4NjIyJyxcblx0XHRcdHllbGxvdzogJyNFRUI1MjEnLFxuXHRcdFx0YXV0dW06ICcjN0U5RTI0Jyxcblx0XHRcdGdyYXNzOiAnIzNBNkYxNicsXG5cdFx0XHR0ZWFsOiAnIzAwOTY4OCcsXG5cdFx0XHRza3k6ICcjMTk3NkQyJyxcblx0XHRcdHZpb2xldDogJyM2MjAwRUEnLFxuXHRcdFx0Z3JheTogJyM2MDdEOEInLFxuXHRcdFx0YnJvd246ICcjNzk1NTQ4Jyxcblx0XHRcdGJyaWdodDogJyNmZmZmZmYnLFxuXHRcdH0sIChzaV9rZXksIHNfdmFsdWUsIGlfZW50cnkpID0+ICh7XG5cdFx0XHRpbmRleDogaV9lbnRyeSxcblx0XHRcdGNvbG9yOiBzX3ZhbHVlLFxuXHRcdFx0bmFtZTogc2lfa2V5LFxuXHRcdFx0aW5mbzogJycsXG5cdFx0fSkpLFxuXHRcdG1hcDoge30sXG5cdH0sXG5cdFtTSV9TVE9SRV9RVUVSWV9DQUNIRV06IHt9LFxuXHRbU0lfU1RPUkVfV0VCX1JFU09VUkNFU106IHt9LFxuXHRbU0lfU1RPUkVfV0VCX0FQSVNdOiB7fSxcbn07XG4iLCJpbXBvcnQgJyMvZGV2JztcblxuaW1wb3J0IHR5cGUgeyBTdG9yZSwgU3RvcmVLZXkgfSBmcm9tICcjL21ldGEvc3RvcmUnO1xuaW1wb3J0IHsgSnNvbk9iamVjdCwgSnNvblZhbHVlLCBvZGUsIHR5cGUgRGljdCB9IGZyb20gJyMvdXRpbC9iZWx0JztcbmltcG9ydCB7XG5cdGJ1ZmZlcl90b19oZXgsXG5cdGJ1ZmZlcl90b19zdHJpbmc4LFxuXHRidWZmZXJfdG9fdGV4dCxcblx0aGV4X3RvX2J1ZmZlcixcblx0c3RyaW5nOF90b19idWZmZXIsXG5cdHRleHRfdG9fYnVmZmVyLFxuXHR6ZXJvX291dCxcbn0gZnJvbSAnIy91dGlsL2RhdGEnO1xuXG5pbXBvcnQgdHlwZSB7IE1lcmdlIH0gZnJvbSAndHMtdG9vbGJlbHQvb3V0L09iamVjdC9NZXJnZSc7XG5cblxuaW1wb3J0IHsgZGVmYXVsdCBhcyBzaGEyNTZfc3luYyB9IGZyb20gJ2NyeXB0by1qcy9zaGEyNTYnO1xuaW1wb3J0IHsgZGVmYXVsdCBhcyBzaGE1MTJfc3luYyB9IGZyb20gJ2NyeXB0by1qcy9zaGE1MTInO1xuXG5pbXBvcnQgU2Vuc2l0aXZlQnl0ZXMgZnJvbSAnLi9zZW5zaXRpdmUtYnl0ZXMnO1xuaW1wb3J0IHsgTm90QXV0aGVudGljYXRlZEVycm9yIH0gZnJvbSAnIy9zaGFyZS9hdXRoJztcbmltcG9ydCB7IGdsb2JhbF93YWl0LCBnbG9iYWxfYnJvYWRjYXN0IH0gZnJvbSAnIy9zY3JpcHQvbXNnLWdsb2JhbCc7XG5pbXBvcnQgeyBzeXNlcnIsIHN5c3dhcm4gfSBmcm9tICcjL2FwcC9jb21tb24nO1xuaW1wb3J0IHsgSF9TVE9SRV9JTklUUyB9IGZyb20gJyMvc3RvcmUvX2luaXQnO1xuXG5cbi8vIHNoYTI1NihcInN0YXJzaGVsbFwiKVxuY29uc3QgQVRVOF9TSEEyNTZfU1RBUlNIRUxMID0gaGV4X3RvX2J1ZmZlcihzaGEyNTZfc3luYygnc3RhcnNoZWxsJykudG9TdHJpbmcoKSk7XG5cbi8vIHNoYTUxMihcInN0YXJzaGVsbFwiKVxuY29uc3QgQVRVOF9TSEE1MTJfU1RBUlNIRUxMID0gaGV4X3RvX2J1ZmZlcihzaGE1MTJfc3luYygnc3RhcnNoZWxsJykudG9TdHJpbmcoKSk7XG5cbi8vIGlkZW50aWZpZXMgdGhlIHNjaGVtYSB2ZXJzaW9uIG9mIHRoZSBzdG9yZVxuY29uc3QgU0lfVkVSU0lPTl9TQ0hFTUFfU1RPUkUgPSAnMSc7XG5cbi8vIG51bWJlciBvZiBrZXkgZGVyaXZhdGlvbiBpdGVyYXRpb25zXG4vLyBjb25zdCBOX0lURVJBVElPTlMgPSA2OTQyMDY5O1xuY29uc3QgTl9JVEVSQVRJT05TID0gMjA7XG5cbi8vIHNpemUgb2Ygc2FsdCBpbiBieXRlc1xuY29uc3QgTkJfU0FMVCA9IDI1NiA+PiAzO1xuXG4vLyBzaXplIG9mIG5vbmNlIGluIGJ5dGVzXG5jb25zdCBOQl9OT05DRSA9IDI1NiA+PiAzO1xuXG4vLyBwc2V1ZG8tcmFuZG9tIGhhc2ggZnVuY3Rpb24gKE9LIHRvIHVzZSBTSEEtNTEyIHdpdGggQUVTLTI1NiBzaW5jZSBrZGYgd2lsbCBzaW1wbHkgdXNlIGhpZ2hlc2V0LW9yZGVyIG9jdGV0cyBvZiBoYXNoKVxuLy8gPGh0dHBzOi8vY3J5cHRvLnN0YWNrZXhjaGFuZ2UuY29tL3F1ZXN0aW9ucy80MTQ3Ni9pcy10aGVyZS1hbnktYmVuZWZpdC1mcm9tLXVzaW5nLXNoYS01MTItb3Zlci1zaGEtMjU2LXdoZW4tYWVzLWp1c3QtdHJ1bmNhdGVzLWl0PlxuY29uc3QgU0lfUFJGID0gJ1NIQS01MTInO1xuXG4vLyBzaXplIG9mIGRlcml2ZWQgQUVTIGtleSBpbiBiaXRzXG5jb25zdCBOSV9ERVJJVkVEX0FFU19LRVkgPSAyNTY7XG5cbmNvbnN0IFhDX0NIQVJfSlNPTl8wID0gJ3snLmNoYXJDb2RlQXQoMCk7XG5jb25zdCBYQ19DSEFSX0pTT05fMSA9ICdcIicuY2hhckNvZGVBdCgwKTtcblxuLy8gb25jZSB0aGlzIHRocmVzaG9sZCBpcyBleGNlZWRlZCwgZG8gbm90IGVucXVldWUgYW55IG1vcmUgcmVjcnlwdGlvbiBvcGVyYXRpb25zXG5jb25zdCBOQl9SRUNSWVBUSU9OX1RIUkVTSE9MRCA9IDMyICogMTAyNDsgIC8vIDY0IEtpQlxuXG4vLyBhbGdvcml0aG0gb3B0aW9ucyBmb3IgZGVyaXZpbmcgcm9vdCBzaWduaW5nIGtleVxuY29uc3QgR0NfREVSSVZFX1JPT1RfU0lHTklORyA9IHtcblx0bmFtZTogJ0hNQUMnLFxuXHRoYXNoOiAnU0hBLTI1NicsXG59O1xuXG4vLyBhbGdvcml0aG0gb3B0aW9ucyBmb3IgZGVyaXZpbmcgcm9vdCBlbmNyeXB0aW9uL2RlY3J5cHRpb24ga2V5XG5jb25zdCBHQ19ERVJJVkVfUk9PVF9DSVBIRVIgPSB7XG5cdG5hbWU6ICdBRVMtR0NNJyxcblx0bGVuZ3RoOiBOSV9ERVJJVkVEX0FFU19LRVksXG59O1xuXG4vLyBwYXJhbXMgZm9yIGhrZGYgY29tbW9uIHRvIGFsbCBjYXNlcyAoc2FsdCBnZXRzIG92ZXJyaWRkZW4pXG5jb25zdCBHQ19IS0RGX0NPTU1PTiA9IHtcblx0bmFtZTogJ0hLREYnLFxuXHRoYXNoOiAnU0hBLTI1NicsXG5cdHNhbHQ6IEFUVThfU0hBMjU2X1NUQVJTSEVMTCxcblx0aW5mbzogVWludDhBcnJheS5mcm9tKFtdKSxcbn07XG5cbi8vIGNvbnN0IEFfU1RPUkVfS0VZUzogQXJyYXk8a2V5b2YgU3RvcmUgfCAna2V5cyc+ID0gW1xuLy8gXHQna2V5cycsXG4vLyBcdCdhY2NvdW50cycsXG4vLyBcdCdjaGFpbnMnLFxuLy8gXHQnYXBwcycsXG4vLyBcdCdhcHBfcG9saWNpZXMnLFxuLy8gXHQnc2V0dGluZ3MnLFxuLy8gXHQndGFncycsXG4vLyBcdCdldmVudHMnLFxuLy8gXHQnZW50aXRpZXMnLFxuLy8gXTtcblxuY29uc3QgQV9TVE9SRV9LRVlTOiBBcnJheTxTdG9yZUtleSB8ICdrZXlzJz4gPSBbJ2tleXMnLCAuLi5PYmplY3Qua2V5cyhIX1NUT1JFX0lOSVRTKSBhcyBBcnJheTxTdG9yZUtleT5dO1xuXG4vLyBpZGVudGlmeSB0aGlzIGxvY2FsIGZyYW1lXG5jb25zdCBTSV9GUkFNRV9MT0NBTCA9IGNyeXB0by5yYW5kb21VVUlEKCkuc2xpY2UoMjQpO1xuXG4vKipcbiAqIFVzZSBQQktERjIgdG8gZGVyaXZlIHRoZSBlbmNyeXB0aW9uIGtleS5cbiAqL1xuZnVuY3Rpb24gcGJrZGYyX2Rlcml2ZShka19iYXNlOiBDcnlwdG9LZXksIGF0dThfc2FsdDogVWludDhBcnJheSk6IFByb21pc2U8Q3J5cHRvS2V5PiB7XG5cdHJldHVybiBjcnlwdG8uc3VidGxlLmRlcml2ZUtleSh7XG5cdFx0bmFtZTogJ1BCS0RGMicsXG5cdFx0c2FsdDogYXR1OF9zYWx0LFxuXHRcdGl0ZXJhdGlvbnM6IE5fSVRFUkFUSU9OUyxcblx0XHRoYXNoOiBTSV9QUkYsXG5cdH0sIGRrX2Jhc2UsIHtcblx0XHRuYW1lOiAnQUVTLUdDTScsXG5cdFx0bGVuZ3RoOiBOSV9ERVJJVkVEX0FFU19LRVksXG5cdH0sIGZhbHNlLCBbJ2VuY3J5cHQnXSk7XG59XG5cblxuXG5cbmludGVyZmFjZSBWYXVsdEZpZWxkcyB7XG5cdGF0dThfY2lwaGVydGV4dDogVWludDhBcnJheTtcbn1cblxuXG5hc3luYyBmdW5jdGlvbiB1bmxvY2soYXR1OF9pbXBvcnQ6IFVpbnQ4QXJyYXkpIHtcblx0Ly8gV2ViIENyeXB0byBkb2VzIG5vdCBzdXBwb3J0IHRoZSBzZWNwMjU2azEgY3VydmUsIGJ1dCBrZWVwaW5nIHRoZSBwcml2YXRlIGtleSBpbiBoZWFwIG1lbW9yeVxuXHQvLyBtYWtlcyB0aGUgdXNlciBtb3JlIHZ1bG5lcmFibGUgdG8ga2V5IGZpbmRpbmcgYXR0YWNrcy4gaW5zdGVhZCwgdHJ5IHRvIGxldmVyYWdlIHBsYXRmb3JtLXNwZWNpZmljXG5cdC8vIHNvbHV0aW9ucyBwcm92aWRlZCBieSBicm93c2VyIHRoYXQgaWRlYWxseSBzdG9yZSB0aGUga2V5IHdpdGhpbiBzZWN1cmUgaGFyZHdhcmUgYm91bmRhcmllcy5cblx0Ly8gbW9yZSBzcGVjaWZpY2FsbHksIGNob29zZSBhIHN1cHBvcnRlZCBlbGxpcHRpYyBjdXJ2ZSB0aGF0IGhhcyBsYXJnZXIgYG5gIGN1cnZlIG9yZGVyIHRoYW4gc2VjcDI1NmsxXG5cdC8vIGluIG9yZGVyIHRvIG1ha2Ugc3VyZSB0aGUgcHJpdmF0ZSBrZXkgd29uJ3QgYmUgcmVqZWN0ZWQgdXBvbiBpbXBvcnQgZm9yIGV4Y2VlZGluZyB0aGUgdmFsaWQgcmFuZ2UuXG5cdC8vIHNlY3AyNTZrMTogPGh0dHBzOi8vbmV1cm9tYW5jZXIuc2svc3RkL3NlY2cvc2VjcDI1NmsxPlxuXHQvLyBzZWNwMzg0cjEgKFAtMzg0KTogPGh0dHBzOi8vbmV1cm9tYW5jZXIuc2svc3RkL3NlY2cvc2VjcDM4NHIxPlxuXHRhd2FpdCBjcnlwdG8uc3VidGxlLmltcG9ydEtleSgncmF3JywgYXR1OF9pbXBvcnQsIHtcblx0XHRuYW1lOiAnRUNEU0EnLFxuXHRcdG5hbWVkQ3VydmU6ICdQLTM4NCcsXG5cdH0sIHRydWUsIFtdKTtcblxuXHQvLyBcblx0Y29uc3QgYXR1OF9hID0gY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhuZXcgVWludDhBcnJheSgzMikpO1xuXHRjcnlwdG8uc3VidGxlLmltcG9ydEtleSgncmF3JywgYXR1OF9hLCB7XG5cdFx0bmFtZTogJ0VDRFNBJyxcblx0XHRuYW1lZEN1cnZlOiAnUC0zODQnLFxuXHR9LCBmYWxzZSwgWydkZXJpdmVCaXRzJ10pO1xufVxuXG5cbi8qKlxuICogUHJpdmF0ZSBmaWVsZHMgZm9yIGluc3RhbmNlcyBvZiBgVmF1bHRgXG4gKi9cbmNvbnN0IGhtX3ByaXZhdGVzID0gbmV3IFdlYWtNYXA8VmF1bHQsIFZhdWx0RmllbGRzPigpO1xuXG4vLyAvKipcbi8vICAqIEtlZXBzIHRyYWNrIG9mIHdoaWNoIHN0b3JlcyBoYXZlIGJlZW4gY2hlY2tlZCBvdXQgaW4gb3JkZXIgdG8gcHJldmVudCBsb3N0IHVwZGF0ZXMuXG4vLyAgKi9cbi8vIGNvbnN0IGhfY2hlY2tlZF9vdXRzOiBEaWN0PFZhdWx0PiA9IHt9O1xuXG5cbi8vIC8qKlxuLy8gICogTG9hZHMgbWV0YWRhdGEgKGluY2wuIGNpcGhlcnRleHQpIGZyb20gc3RvcmFnZS5cbi8vICAqL1xuLy8gYXN5bmMgZnVuY3Rpb24gVmF1bHQkX2xvYWQ8XG4vLyBcdGtfdGhpcyBleHRlbmRzIFZhdWx0LFxuLy8gPih0aGlzOiB2b2lkLCBrX3RoaXM6IGtfdGhpcyk6IFByb21pc2U8a190aGlzPiB7XG4vLyBcdC8vIHJlYWQgZnJvbSBzdG9yYWdlXG4vLyBcdGNvbnN0IHdfc3RvcmFnZSA9IChhd2FpdCBjaHJvbWUuc3RvcmFnZS5sb2NhbC5nZXQoa190aGlzLl9zaV9rZXkpKVtrX3RoaXMuX3NpX2tleV07XG5cbi8vIFx0Ly8gZGVzdHJ1Y3R1cmUgc3RvcmFnZSBhbmQgZmlsbCBpbiBkZWZhdWx0c1xuLy8gXHRjb25zdCB7XG4vLyBcdFx0c2FsdDogc2hfc2FsdF9yZWFkLFxuLy8gXHRcdG5vbmNlOiBzaF9ub25jZV9yZWFkLFxuLy8gXHRcdHNjaGVtYTogc2lfc2NoZW1hX3JlYWQsXG4vLyBcdFx0ZGF0YTogc3hfZGF0YSxcbi8vIFx0fSA9IHdfc3RvcmFnZSB8fCB7XG4vLyBcdFx0c2FsdDogJycsXG4vLyBcdFx0bm9uY2U6ICcnLFxuLy8gXHRcdHNjaGVtYTogU0lfVkVSU0lPTl9TQ0hFTUFfU1RPUkUsXG4vLyBcdFx0ZGF0YTogJycsXG4vLyBcdH07XG5cbi8vIFx0Ly8gc2F2ZSB0byBsb2NhbCBmaWVsZHNcbi8vIFx0aG1fcHJpdmF0ZXMuc2V0KGtfdGhpcywge1xuLy8gXHRcdHNoX3NhbHRfcmVhZCxcbi8vIFx0XHRzaF9ub25jZV9yZWFkLFxuLy8gXHRcdHNpX3NjaGVtYV9yZWFkLFxuLy8gXHRcdGF0dThfY2lwaGVydGV4dDogc3RyaW5nOF90b19idWZmZXIoc3hfZGF0YSksXG4vLyBcdH0pO1xuXG4vLyBcdC8vIG1hcmsgYXMgbG9hZGVkXG4vLyBcdGtfdGhpcy5fYl9sb2FkZWQgPSB0cnVlO1xuXG4vLyBcdC8vIHJldHVybiBpbnN0YW5jZVxuLy8gXHRyZXR1cm4ga190aGlzO1xuLy8gfVxuXG5cbi8vIGFzeW5jIGZ1bmN0aW9uIFZhdWx0JF9wcmVkZXJpdmUodGhpczogdm9pZCwga190aGlzOiBWYXVsdCwgZGtfcGhyYXNlOiBDcnlwdG9LZXkpOiBQcm9taXNlPHZvaWQ+IHtcbi8vIFx0Ly8gcmVmIHByaXZhdGUgc3RydWN0XG4vLyBcdGNvbnN0IGdfcHJpdmF0ZSA9IGhtX3ByaXZhdGVzLmdldChrX3RoaXMpITtcblxuLy8gXHQvLyBnZW5lcmF0ZSBzYWx0IHRvIGRlcml2ZSB0aGUgbmV4dCBlbmNyeXB0aW9uIGtleVxuLy8gXHRjb25zdCBhdHU4X3NhbHRfd3JpdGUgPSBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50OEFycmF5KE5CX1NBTFQpKTtcblxuLy8gXHQvLyBkZXJpdmUgdGhlIG5leHQgZW5jcnlwdGlvbiBrZXlcbi8vIFx0Y29uc3QgZGtfYWVzX3dyaXRlID0gYXdhaXQgcGJrZGYyX2Rlcml2ZShka19waHJhc2UsIGF0dThfc2FsdF93cml0ZSk7XG5cbi8vIFx0Ly8gc3RvcmUgdGhlIGtleSBzbyBpdCBpcyByZWFkeSBmb3IgdGhlIG5leHQgZW5jcnlwdGlvblxuLy8gXHRPYmplY3QuYXNzaWduKGdfcHJpdmF0ZSwge1xuLy8gXHRcdGRrX2Flc193cml0ZSxcbi8vIFx0XHRzeF9zYWx0X3dyaXRlOiBidWZmZXJfdG9faGV4KGF0dThfc2FsdF93cml0ZSksXG4vLyBcdH0pO1xuLy8gfVxuXG4vLyAvKipcbi8vICAqIFRha2VzIHRoZSBwYXNzcGhyYXNlIGtleSBhcyBpbnB1dCBhbmQgdXNlcyBpdCB0byBkZXJpdmUgdGhlIGN1cnJlbnQgZGVjcnlwdGlvbiBrZXkuXG4vLyAgKi9cbi8vIGFzeW5jIGZ1bmN0aW9uIFZhdWx0JF9yb3RhdGUodGhpczogdm9pZCwga190aGlzOiBWYXVsdCwgZGtfcGhyYXNlOiBDcnlwdG9LZXkpIHtcbi8vIFx0Ly8gcmVmIHByaXZhdGUgc3RydWN0XG4vLyBcdGNvbnN0IGdfcHJpdmF0ZSA9IGhtX3ByaXZhdGVzLmdldChrX3RoaXMpITtcblxuLy8gXHQvLyByZWYgdGhlIHNhbHQgdG8gZGVyaXZlIHRoZSBkZWNyeXB0aW9uIGtleVxuLy8gXHRjb25zdCBhdHU4X3NhbHRfcmVhZCA9IGhleF90b19idWZmZXIoZ19wcml2YXRlLnNoX3NhbHRfcmVhZCk7XG5cdFxuLy8gXHQvLyBkZXJpdmUgdGhlIGRlY3J5cHRpb24ga2V5XG4vLyBcdGNvbnN0IGRrX2Flc19yZWFkID0gYXdhaXQgcGJrZGYyX2Rlcml2ZShka19waHJhc2UsIGF0dThfc2FsdF9yZWFkKTtcblxuLy8gXHQvLyByZXR1cm4gdGhlIGRlY3J5cHRpb24ga2V5XG4vLyBcdHJldHVybiBka19hZXNfcmVhZDtcbi8vIH1cblxuLy8gYXN5bmMgZnVuY3Rpb24gVmF1bHQkX2RlY3J5cHQodGhpczogdm9pZCwga190aGlzOiBWYXVsdCwgZGtfYWVzX3JlYWQ6IENyeXB0b0tleSk6IFByb21pc2U8VWludDhBcnJheT4ge1xuLy8gXHQvLyBkZXN0cnVjdHVyZSBwcml2YXRlIGZpZWxkKHMpXG4vLyBcdGNvbnN0IHtcbi8vIFx0XHRzaF9ub25jZV9yZWFkLFxuLy8gXHRcdGF0dThfY2lwaGVydGV4dCxcbi8vIFx0fSA9IGhtX3ByaXZhdGVzLmdldChrX3RoaXMpITtcblx0XG4vLyBcdC8vIHByZXAgdGhlIGl2IHRvIGRlY3J5cHQgdGhlIHN0b3JlXG4vLyBcdGNvbnN0IGF0dThfbm9uY2VfcmVhZCA9IGhleF90b19idWZmZXIoc2hfbm9uY2VfcmVhZCk7XG5cbi8vIFx0Ly8gcmV0dXJuIGRlY3J5cHRlZCBkYXRhXG4vLyBcdHJldHVybiBhd2FpdCBjcnlwdG8uc3VidGxlLmRlY3J5cHQoe1xuLy8gXHRcdG5hbWU6ICdBRVMtR0NNJyxcbi8vIFx0XHRpdjogYXR1OF9ub25jZV9yZWFkLFxuLy8gXHR9LCBka19hZXNfcmVhZCwgYXR1OF9jaXBoZXJ0ZXh0KTtcbi8vIH1cblxuYXN5bmMgZnVuY3Rpb24gdGVzdF9lbmNyeXB0aW9uX2ludGVncml0eShhdHU4X2RhdGE6IFVpbnQ4QXJyYXksIGRrX2NpcGhlcjogQ3J5cHRvS2V5LCBhdHU4X3ZlY3RvcjogVWludDhBcnJheSwgYXR1OF92ZXJpZnk9QVRVOF9TSEEyNTZfU1RBUlNIRUxMKSB7XG5cdHRyeSB7XG5cdFx0Y29uc3QgYXR1OF9lbmNyeXB0ZWQgPSBhd2FpdCBlbmNyeXB0KGF0dThfZGF0YSwgZGtfY2lwaGVyLCBhdHU4X3ZlY3RvciwgYXR1OF92ZXJpZnkpO1xuXHRcdGNvbnN0IHNfZW5jcnlwdGVkID0gYnVmZmVyX3RvX3N0cmluZzgoYXR1OF9lbmNyeXB0ZWQpO1xuXHRcdGNvbnN0IGF0dThfZW5jcnlwdGVkX2IgPSBzdHJpbmc4X3RvX2J1ZmZlcihzX2VuY3J5cHRlZCk7XG5cdFx0Y29uc3QgYXR1OF9kZWNyeXB0ZWQgPSBhd2FpdCBkZWNyeXB0KGF0dThfZW5jcnlwdGVkX2IsIGRrX2NpcGhlciwgYXR1OF92ZWN0b3IsIGF0dThfdmVyaWZ5KTtcblxuXHRcdGlmKGF0dThfZGF0YS5ieXRlTGVuZ3RoICE9PSBhdHU4X2RlY3J5cHRlZC5ieXRlTGVuZ3RoKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoYEJ5dGUgbGVuZ3RoIG1pc21hdGNoYCk7XG5cdFx0fVxuXG5cdFx0Zm9yKGxldCBpYl9lYWNoPTA7IGliX2VhY2g8YXR1OF9kYXRhLmJ5dGVMZW5ndGg7IGliX2VhY2grKykge1xuXHRcdFx0aWYoYXR1OF9kYXRhW2liX2VhY2hdICE9PSBhdHU4X2RlY3J5cHRlZFtpYl9lYWNoXSkge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoYEJ1ZmZlcnMgYXJlIG5vdCBpZGVudGljYWxgKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblx0Y2F0Y2goZV9pZGVudGl0eSkge1xuXHRcdHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGNvbXBsZXRlIHJvdW5kLXRyaXAgZW5jcnlwdGlvbi9kZWNyeXB0aW9uOiAke2VfaWRlbnRpdHl9YCk7XG5cdH1cbn1cblxuZXhwb3J0IHR5cGUgU2Vzc2lvblN0b3JhZ2UgPSBNZXJnZTx7XG5cdHJvb3Q6IHtcblx0XHRuYXRpdmU6IENyeXB0b0tleTtcblx0XHR3cmFwcGVkOiBudW1iZXJbXTtcblx0fTtcblx0dmVjdG9yOiB7XG5cdFx0bmF0aXZlOiBVaW50OEFycmF5O1xuXHRcdHdyYXBwZWQ6IG51bWJlcltdO1xuXHR9O1xuXHRmbG93OiB7XG5cdFx0bmF0aXZlOiBzdHJpbmc7XG5cdFx0d3JhcHBlZDogc3RyaW5nO1xuXHR9O1xufSwge1xuXHRbc2lfbG9jayBpbiBgbG9ja18ke3N0cmluZ31gXToge1xuXHRcdG5hdGl2ZTogc3RyaW5nO1xuXHRcdHdyYXBwZWQ6IHN0cmluZztcblx0fTtcbn0+O1xuXG5leHBvcnQgdHlwZSBTZXNzaW9uU3RvcmFnZUtleSA9IGtleW9mIFNlc3Npb25TdG9yYWdlO1xuXG5leHBvcnQgbmFtZXNwYWNlIFNlc3Npb25TdG9yYWdlIHtcblx0ZXhwb3J0IHR5cGUgTmF0aXZlPFxuXHRcdHNpX2tleSBleHRlbmRzIFNlc3Npb25TdG9yYWdlS2V5PVNlc3Npb25TdG9yYWdlS2V5LFxuXHQ+ID0gU2Vzc2lvblN0b3JhZ2Vbc2lfa2V5XSBleHRlbmRzIHtuYXRpdmU6IGluZmVyIHdfbmF0aXZlfVxuXHRcdD8gd19uYXRpdmVcblx0XHQ6IG5ldmVyO1xuXG5cdGV4cG9ydCB0eXBlIFdyYXBwZWQ8XG5cdFx0c2lfa2V5IGV4dGVuZHMgU2Vzc2lvblN0b3JhZ2VLZXk9U2Vzc2lvblN0b3JhZ2VLZXksXG5cdD4gPSBTZXNzaW9uU3RvcmFnZVtzaV9rZXldIGV4dGVuZHMge3dyYXBwZWQ6IGluZmVyIHdfd3JhcHBlZH1cblx0XHQ/IHdfd3JhcHBlZFxuXHRcdDogbmV2ZXI7XG5cblx0ZXhwb3J0IHR5cGUgU3RydWN0PFxuXHRcdHNpX3doaWNoIGV4dGVuZHMgJ25hdGl2ZScgfCAnd3JhcHBlZCcsXG5cdD4gPSB7XG5cdFx0W3NpX2tleSBpbiBTZXNzaW9uU3RvcmFnZUtleV06IHtcblx0XHRcdG5hdGl2ZTogTmF0aXZlPHNpX2tleT47XG5cdFx0XHR3cmFwcGVkOiBXcmFwcGVkPHNpX2tleT47XG5cdFx0fVtzaV93aGljaF07XG5cdH07XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZXN0b3JlX2FzX2tleShcblx0el9kYXRhOiBudWxsIHwgbnVtYmVyW10gfCBDcnlwdG9LZXksXG5cdHdfa2RmOiBBbGdvcml0aG1JZGVudGlmaWVyLFxuXHRiX2V4dHJhY3RhYmxlOiBib29sZWFuLFxuXHRhX3VzYWdlczogS2V5VXNhZ2VbXSxcbik6IFByb21pc2U8bnVsbCB8IENyeXB0b0tleT4ge1xuXHRpZihBcnJheS5pc0FycmF5KHpfZGF0YSkpIHtcblx0XHRyZXR1cm4gYXdhaXQgY3J5cHRvLnN1YnRsZS5pbXBvcnRLZXkoJ3JhdycsIFVpbnQ4QXJyYXkuZnJvbSh6X2RhdGEpLCB3X2tkZiwgZmFsc2UsIGFfdXNhZ2VzKTtcblx0fVxuXG5cdHJldHVybiB6X2RhdGE7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZXN0b3JlX2FzX2J1ZmZlcih6X2RhdGE6IG51bGwgfCBudW1iZXJbXSB8IFVpbnQ4QXJyYXkpOiBudWxsIHwgVWludDhBcnJheSB7XG5cdGlmKEFycmF5LmlzQXJyYXkoel9kYXRhKSkge1xuXHRcdHJldHVybiBVaW50OEFycmF5LmZyb20oel9kYXRhKTtcblx0fVxuXG5cdHJldHVybiB6X2RhdGE7XG59XG5cblxudHlwZSBTZXROYXRpdmUgPSBQYXJ0aWFsPFNlc3Npb25TdG9yYWdlLlN0cnVjdDwnbmF0aXZlJz4+O1xudHlwZSBTZXRXcmFwcGVkID0gUGFydGlhbDxTZXNzaW9uU3RvcmFnZS5TdHJ1Y3Q8J3dyYXBwZWQnPj47XG5cbmV4cG9ydCBjb25zdCB7XG5cdHNlc3Npb25fc3RvcmFnZV9nZXQsXG5cdHNlc3Npb25fc3RvcmFnZV9zZXRfbmF0aXZlLFxuXHRzZXNzaW9uX3N0b3JhZ2Vfc2V0X3dyYXBwZWQsXG5cdHNlc3Npb25fc3RvcmFnZV9yZW1vdmUsXG5cdHNlc3Npb25fc3RvcmFnZV9jbGVhcixcblx0c2Vzc2lvbl9zdG9yYWdlX2lzX25hdGl2ZSxcbn0gPSAoKCkgPT4ge1xuXHRpZihjaHJvbWUuc3RvcmFnZVsnc2Vzc2lvbiddKSB7XG5cdFx0Y29uc3QgZF9zZXNzaW9uID0gKGNocm9tZS5zdG9yYWdlIGFzIHVua25vd24gYXMge1xuXHRcdFx0c2Vzc2lvbjogY2hyb21lLnN0b3JhZ2UuU3RvcmFnZUFyZWE7XG5cdFx0fSkuc2Vzc2lvbjtcblxuXHRcdHJldHVybiB7XG5cdFx0XHRhc3luYyBzZXNzaW9uX3N0b3JhZ2VfZ2V0PFxuXHRcdFx0XHRzaV9rZXkgZXh0ZW5kcyBTZXNzaW9uU3RvcmFnZUtleSxcblx0XHRcdD4oc2lfa2V5OiBzaV9rZXkpOiBQcm9taXNlPFNlc3Npb25TdG9yYWdlLldyYXBwZWQ8c2lfa2V5PiB8IG51bGw+IHtcblx0XHRcdFx0cmV0dXJuIChhd2FpdCBkX3Nlc3Npb24uZ2V0KFtzaV9rZXldKSBhcyB7XG5cdFx0XHRcdFx0W3NpIGluIHR5cGVvZiBzaV9rZXldOiBTZXNzaW9uU3RvcmFnZS5XcmFwcGVkPHNpX2tleT4gfCBudWxsO1xuXHRcdFx0XHR9KVtzaV9rZXldO1xuXHRcdFx0fSxcblxuXHRcdFx0c2Vzc2lvbl9zdG9yYWdlX3NldF9uYXRpdmUoaF9zZXRfbmF0aXZlOiBTZXROYXRpdmUpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCdJbXBsZW1lbnRhdGlvbiBidWc7IGNhbm5vdCB1c2UgbmF0aXZlIHNlc3Npb24gc3RvcmFnZScpO1xuXHRcdFx0fSxcblxuXHRcdFx0YXN5bmMgc2Vzc2lvbl9zdG9yYWdlX3NldF93cmFwcGVkKGhfc2V0X3dyYXBwZWQ6IFNldFdyYXBwZWQpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHRcdFx0cmV0dXJuIGF3YWl0IGRfc2Vzc2lvbi5zZXQoaF9zZXRfd3JhcHBlZCk7XG5cdFx0XHR9LFxuXG5cdFx0XHRhc3luYyBzZXNzaW9uX3N0b3JhZ2VfcmVtb3ZlKHNpX2tleTogU2Vzc2lvblN0b3JhZ2VLZXkpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHRcdFx0cmV0dXJuIGF3YWl0IGRfc2Vzc2lvbi5yZW1vdmUoc2lfa2V5KTtcblx0XHRcdH0sXG5cblx0XHRcdGFzeW5jIHNlc3Npb25fc3RvcmFnZV9jbGVhcigpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHRcdFx0cmV0dXJuIGF3YWl0IGRfc2Vzc2lvbi5jbGVhcigpO1xuXHRcdFx0fSxcblxuXHRcdFx0c2Vzc2lvbl9zdG9yYWdlX2lzX25hdGl2ZTogZmFsc2UsXG5cdFx0fTtcblx0fVxuXHRlbHNlIHtcblx0XHRjb25zdCBkd19iYWNrZ3JvdW5kID0gY2hyb21lLmV4dGVuc2lvbi5nZXRCYWNrZ3JvdW5kUGFnZSgpO1xuXG5cdFx0aWYoIWR3X2JhY2tncm91bmQpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcignQnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IGFueSB0eXBlIG9mIHNlc3Npb24gc3RvcmFnZScpO1xuXHRcdH1cblxuXHRcdC8vIGRlY2xhcmUgaW5pdGlhbCBzdG9yYWdlIG9iamVjdFxuXHRcdGxldCBnX3Nlc3Npb246IFNldE5hdGl2ZSA9IGR3X2JhY2tncm91bmRbJ19nX3Nlc3Npb24nXSA9IHt9O1xuXG5cdFx0cmV0dXJuIHtcblx0XHRcdC8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9yZXF1aXJlLWF3YWl0ICovXG5cdFx0XHRhc3luYyBzZXNzaW9uX3N0b3JhZ2VfZ2V0PFxuXHRcdFx0XHRzaV9rZXkgZXh0ZW5kcyBTZXNzaW9uU3RvcmFnZUtleSxcblx0XHRcdD4oc2lfa2V5OiBzaV9rZXkpOiBQcm9taXNlPFNlc3Npb25TdG9yYWdlLk5hdGl2ZTxzaV9rZXk+IHwgbnVsbD4ge1xuXHRcdFx0XHRyZXR1cm4gZ19zZXNzaW9uW3NpX2tleV0hID8/IG51bGw7XG5cdFx0XHR9LFxuXG5cdFx0XHRhc3luYyBzZXNzaW9uX3N0b3JhZ2Vfc2V0X25hdGl2ZShoX3NldF9uYXRpdmU6IFNldE5hdGl2ZSk6IFByb21pc2U8dm9pZD4ge1xuXHRcdFx0XHRmb3IoY29uc3QgW3NpX2tleSwgd192YWx1ZV0gb2Ygb2RlKGhfc2V0X25hdGl2ZSkpIHtcblx0XHRcdFx0XHRzZXNzaW9uX3N0b3JhZ2VfcmVtb3ZlKHNpX2tleSk7XG5cdFx0XHRcdFx0Z19zZXNzaW9uW3NpX2tleSBhcyBzdHJpbmddID0gd192YWx1ZSE7XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cblx0XHRcdGFzeW5jIHNlc3Npb25fc3RvcmFnZV9zZXRfd3JhcHBlZChoX3NldF93cmFwcGVkOiBTZXRXcmFwcGVkKTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcignSW1wbGVtZW50YXRpb24gYnVnOyBjYW5ub3QgdXNlIHdyYXBwZWQgc2Vzc2lvbiBzdG9yYWdlJyk7XG5cdFx0XHR9LFxuXG5cdFx0XHRhc3luYyBzZXNzaW9uX3N0b3JhZ2VfcmVtb3ZlKHNpX2tleTogU2Vzc2lvblN0b3JhZ2VLZXkpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHRcdFx0Y29uc3Qgel92YWx1ZSA9IGdfc2Vzc2lvbltzaV9rZXldO1xuXHRcdFx0XHRpZih6X3ZhbHVlICYmICdvYmplY3QnID09PSB0eXBlb2Ygel92YWx1ZSkge1xuXHRcdFx0XHRcdGlmKEFycmF5LmlzQXJyYXkoel92YWx1ZSkgfHwgQXJyYXlCdWZmZXIuaXNWaWV3KHpfdmFsdWUpKSB7XG5cdFx0XHRcdFx0XHR6ZXJvX291dCh6X3ZhbHVlKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRkZWxldGUgZ19zZXNzaW9uW3NpX2tleV07XG5cdFx0XHR9LFxuXG5cdFx0XHRhc3luYyBzZXNzaW9uX3N0b3JhZ2VfY2xlYXIoKTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0XHRcdGZvcihjb25zdCBbc2lfa2V5LCB3X3ZhbHVlXSBvZiBvZGUoZ19zZXNzaW9uKSkge1xuXHRcdFx0XHRcdHNlc3Npb25fc3RvcmFnZV9yZW1vdmUoc2lfa2V5KTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIHJlc2V0XG5cdFx0XHRcdGR3X2JhY2tncm91bmRbJ19nX3Nlc3Npb24nXSA9IGdfc2Vzc2lvbiA9IHt9O1xuXHRcdFx0fSxcblxuXHRcdFx0c2Vzc2lvbl9zdG9yYWdlX2lzX25hdGl2ZTogdHJ1ZSxcblxuXHRcdFx0LyogZXNsaW50LWVuYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvcmVxdWlyZS1hd2FpdCAqL1xuXHRcdH07XG5cdH1cbn0pKCk7XG5cblxuYXN5bmMgZnVuY3Rpb24gc2Vzc2lvbl9zdG9yYWdlX3NldF9pc29tb3JwaGljKGhfc2V0OiBTZXROYXRpdmUgJiBTZXRXcmFwcGVkKTogUHJvbWlzZTx2b2lkPiB7XG5cdGlmKHNlc3Npb25fc3RvcmFnZV9pc19uYXRpdmUpIHtcblx0XHRhd2FpdCBzZXNzaW9uX3N0b3JhZ2Vfc2V0X25hdGl2ZShoX3NldCBhcyBTZXROYXRpdmUpO1xuXHR9XG5cdGVsc2Uge1xuXHRcdGF3YWl0IHNlc3Npb25fc3RvcmFnZV9zZXRfd3JhcHBlZChoX3NldCBhcyBTZXRXcmFwcGVkKTtcblx0fVxufVxuXG5hc3luYyBmdW5jdGlvbiBoa2RmX3BhcmFtcygpOiBQcm9taXNlPHR5cGVvZiBHQ19IS0RGX0NPTU1PTj4ge1xuXHQvLyBnZXQgYmFzZVxuXHRjb25zdCBnX2Jhc2UgPSBhd2FpdCBWYXVsdC5nZXRCYXNlKCk7XG5cblx0Ly8gcHJlcCBzYWx0IHJlZlxuXHRsZXQgYXR1OF9zYWx0OiBVaW50OEFycmF5O1xuXG5cdC8vIGJhc2UgZXhpc3RzIGFuZCBpcyB2YWx1ZFxuXHRpZihWYXVsdC5pc1ZhbGlkQmFzZShnX2Jhc2UpKSB7XG5cdFx0Ly8gcmV0cmlldmUgZXhpc3Rpbmcgc2FsdFxuXHRcdGF0dThfc2FsdCA9IChhd2FpdCBWYXVsdC5nZXRTYWx0KCkpITtcblxuXHRcdC8vIGRvZXMgbm90IGV4aXN0XG5cdFx0aWYoIWF0dThfc2FsdCB8fCBOQl9TQUxUICE9PSBhdHU4X3NhbHQuYnl0ZUxlbmd0aCkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdWYXVsdCBpcyBpcnJlcGFyYWJseSBjb3JydXB0ZWQuIE5vIHNhbHQgd2FzIGZvdW5kLicpO1xuXHRcdH1cblx0fVxuXHQvLyBiYXNlIG5vdCB5ZXQgZXhpc3RzXG5cdGVsc2Uge1xuXHRcdC8vIGdlbmVyYXRlIG5ldyBzYWx0XG5cdFx0YXR1OF9zYWx0ID0gY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhuZXcgVWludDhBcnJheShOQl9TQUxUKSk7XG5cblx0XHQvLyBzYXZlXG5cdFx0YXdhaXQgVmF1bHQuc2V0U2FsdChhdHU4X3NhbHQpO1xuXHR9XG5cblx0Ly8gcGFyc2UgYmFzZSwgcmV0dXJuIGV4dGVuZGVkIEhLREYgcGFyYW1zXG5cdHJldHVybiB7XG5cdFx0Li4uR0NfSEtERl9DT01NT04sXG5cdFx0c2FsdDogYXR1OF9zYWx0LFxuXHR9O1xufVxuXG5cbmZ1bmN0aW9uIHBia2RmMl9kZXJpdmUyKGFiX25vbmNlOiBCdWZmZXJTb3VyY2UsIHhfaXRlcmF0aW9uX211bHRpcGxpZXI9MCk6IChka19iYXNlOiBDcnlwdG9LZXkpID0+IFByb21pc2U8U2Vuc2l0aXZlQnl0ZXM+IHtcblx0cmV0dXJuIGFzeW5jIGZ1bmN0aW9uKGRrX2Jhc2UpIHtcblx0XHRyZXR1cm4gbmV3IFNlbnNpdGl2ZUJ5dGVzKG5ldyBVaW50OEFycmF5KGF3YWl0IGNyeXB0by5zdWJ0bGUuZGVyaXZlQml0cyh7XG5cdFx0XHRuYW1lOiAnUEJLREYyJyxcblx0XHRcdHNhbHQ6IGFiX25vbmNlLFxuXHRcdFx0aXRlcmF0aW9uczogeF9pdGVyYXRpb25fbXVsdGlwbGllcj8gTWF0aC5jZWlsKE5fSVRFUkFUSU9OUyAqIHhfaXRlcmF0aW9uX211bHRpcGxpZXIpOiBOX0lURVJBVElPTlMsXG5cdFx0XHRoYXNoOiBTSV9QUkYsXG5cdFx0fSwgZGtfYmFzZSwgMjU2KSkpO1xuXHR9XG59XG5cbmNsYXNzIERlY3J5cHRpb25FcnJvciBleHRlbmRzIEVycm9yIHtcblx0Y29uc3RydWN0b3IocHVibGljIG9yaWdpbmFsOiBFcnJvcikge1xuXHRcdHN1cGVyKCdGYWlsZWQgdG8gZGVjcnlwdCBkYXRhOiAnK29yaWdpbmFsKTtcblx0fVxufVxuXG5hc3luYyBmdW5jdGlvbiBkZWNyeXB0KGF0dThfZGF0YTogVWludDhBcnJheSwgZGtfa2V5OiBDcnlwdG9LZXksIGF0dThfbm9uY2U6IFVpbnQ4QXJyYXksIGF0dThfdmVyaWZ5PUFUVThfU0hBMjU2X1NUQVJTSEVMTCk6IFByb21pc2U8VWludDhBcnJheT4ge1xuXHR0cnkge1xuXHRcdHJldHVybiBuZXcgVWludDhBcnJheShhd2FpdCBjcnlwdG8uc3VidGxlLmRlY3J5cHQoe1xuXHRcdFx0bmFtZTogJ0FFUy1HQ00nLFxuXHRcdFx0aXY6IGF0dThfbm9uY2UsXG5cdFx0XHRhZGRpdGlvbmFsRGF0YTogYXR1OF92ZXJpZnksXG5cdFx0fSwgZGtfa2V5LCBhdHU4X2RhdGEpIGFzIFVpbnQ4QXJyYXkpO1xuXHR9XG5cdGNhdGNoKGVfZGVjcnlwdCkge1xuXHRcdGNvbnNvbGUud2FybihgXG5cdFx0XHRjb25zdCBhdHU4X2tleSA9IFVpbnQ4QXJyYXkuZnJvbShbJHtBcnJheS5mcm9tKG5ldyBVaW50OEFycmF5KGF3YWl0IGNyeXB0by5zdWJ0bGUuZXhwb3J0S2V5KCdyYXcnLCBka19rZXkpKSkuam9pbignLCcpfV0pO1xuXHRcdFx0Y29uc3QgZGtfa2V5ID0gYXdhaXQgY3J5cHRvLnN1YnRsZS5pbXBvcnRLZXkoJ3JhdycsIGF0dThfa2V5LCAnQUVTLUdDTScsIHRydWUsIFsnZW5jcnlwdCcsICdkZWNyeXB0J10pO1xuXHRcdFx0Y29uc3QgYXR1OF9ub25jZSA9IFVpbnQ4QXJyYXkuZnJvbShbJHtBcnJheS5mcm9tKGF0dThfbm9uY2UpLmpvaW4oJywnKX1dKTtcblx0XHRcdGNvbnN0IGF0dThfdmVyaWZ5ID0gVWludDhBcnJheS5mcm9tKFske0FycmF5LmZyb20oYXR1OF92ZXJpZnkpLmpvaW4oJywnKX1dKTtcblx0XHRcdGNvbnN0IGF0dThfZGF0YSA9IFVpbnQ4QXJyYXkuZnJvbShbJHtBcnJheS5mcm9tKGF0dThfZGF0YSkuam9pbignLCcpfV0pO1xuXHRcdFx0Y29uc3QgYXR1OF9hbnMgPSBhd2FpdCBjcnlwdG8uc3VidGxlLmRlY3J5cHQoe1xuXHRcdFx0XHRuYW1lOiAnQUVTLUdDTScsXG5cdFx0XHRcdGl2OiBhdHU4X25vbmNlLFxuXHRcdFx0XHRhZGRpdGlvbmFsRGF0YTogYXR1OF92ZXJpZnksXG5cdFx0XHR9LCBka19rZXksIGF0dThfZGF0YSk7XG5cdFx0YCk7XG5cdFx0ZGVidWdnZXI7XG5cdFx0dGhyb3cgbmV3IERlY3J5cHRpb25FcnJvcihlX2RlY3J5cHQgYXMgRXJyb3IpO1xuXHR9XG59XG5cblxuY2xhc3MgRW5jcnlwdGlvbkVycm9yIGV4dGVuZHMgRXJyb3Ige1xuXHRjb25zdHJ1Y3RvcihwdWJsaWMgb3JpZ2luYWw6IEVycm9yKSB7XG5cdFx0c3VwZXIoJ0ZhaWxlZCB0byBlbmNyeXB0IGRhdGE6ICcrb3JpZ2luYWwpO1xuXHR9XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGVuY3J5cHQoYXR1OF9kYXRhOiBVaW50OEFycmF5LCBka19rZXk6IENyeXB0b0tleSwgYXR1OF9ub25jZTogVWludDhBcnJheSwgYXR1OF92ZXJpZnk9QVRVOF9TSEEyNTZfU1RBUlNIRUxMKTogUHJvbWlzZTxVaW50OEFycmF5PiB7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIG5ldyBVaW50OEFycmF5KGF3YWl0IGNyeXB0by5zdWJ0bGUuZW5jcnlwdCh7XG5cdFx0XHRuYW1lOiAnQUVTLUdDTScsXG5cdFx0XHRpdjogYXR1OF9ub25jZSxcblx0XHRcdGFkZGl0aW9uYWxEYXRhOiBhdHU4X3ZlcmlmeSxcblx0XHR9LCBka19rZXksIGF0dThfZGF0YSkgYXMgVWludDhBcnJheSk7XG5cdH1cblx0Y2F0Y2goZV9lbmNyeXB0KSB7XG5cdFx0dGhyb3cgbmV3IEVuY3J5cHRpb25FcnJvcihlX2VuY3J5cHQgYXMgRXJyb3IpO1xuXHR9XG59XG5cbmludGVyZmFjZSBSb290S2V5U3RydWN0IHtcblx0a2V5OiBDcnlwdG9LZXk7XG5cdHZlY3RvcjogVWludDhBcnJheTtcblx0bm9uY2U6IGJpZ2ludDtcbn1cblxuXG5pbnRlcmZhY2UgQmFzZVBhcmFtcyB7XG5cdHZlcnNpb246IG51bWJlcjtcblx0ZW50cm9weTogc3RyaW5nO1xuXHRub25jZTogc3RyaW5nO1xuXHRzaWduYXR1cmU6IHN0cmluZztcbn1cblxuaW50ZXJmYWNlIFBhcnNlZEJhc2Uge1xuXHR2ZXJzaW9uOiBudW1iZXI7XG5cdGVudHJvcHk6IFVpbnQ4QXJyYXk7XG5cdG5vbmNlOiBiaWdpbnQ7XG5cdHNpZ25hdHVyZTogVWludDhBcnJheTtcbn1cblxuaW50ZXJmYWNlIFJvb3RLZXlzRGF0YSB7XG5cdG9sZDogUm9vdEtleVN0cnVjdDtcblx0bmV3OiBSb290S2V5U3RydWN0O1xuXHRleHBvcnQ6IFNlbnNpdGl2ZUJ5dGVzIHwgbnVsbDtcbn1cblxuLy8gd2FpdCBmb3IgcmVsZWFzZSBmcm9tIGxvY2FsIGZyYW1lXG5jb25zdCBoX3JlbGVhc2Vfd2FpdGVyc19sb2NhbDogRGljdDxWb2lkRnVuY3Rpb25bXT4gPSB7fTtcblxuLyoqXG4gKiBSZXNwb25zaWJsZSBmb3IgKHVuKW1hcnNoYWxsaW5nIGRhdGEgc3RydWN0cyBiZXR3ZWVuIGVuY3J5cHRlZC1hdC1yZXN0IHN0b3JhZ2UgYW5kIHVuZW5jcnlwdGVkLWluLXVzZSBtZW1vcnkuXG4gKiBcbiAqIEV4YW1wbGU6XG4gKiBgYGB0c1xuICogY29uc3Qga3BfY29udGFjdHMgPSBhd2FpdCBWYXVsdC5jaGVja291dCgnY29udGFjdHMnKTtcbiAqIGF3YWl0IGtwX2NvbnRhY3RzLnVubG9jaygncGFzc3dvcmQxMjMnLCBTdG9yZSk7XG4gKiBrcF9jb250YWN0cy5zYXZlKCk7XG4gKiBgYGBcbiAqL1xuZXhwb3J0IGNvbnN0IFZhdWx0ID0ge1xuXHRhc3luYyBnZXRCYXNlKCk6IFByb21pc2U8QmFzZVBhcmFtcyB8IHVuZGVmaW5lZD4ge1xuXHRcdHJldHVybiAoYXdhaXQgY2hyb21lLnN0b3JhZ2UubG9jYWwuZ2V0KFsnYmFzZSddKSBhcyB7YmFzZTogQmFzZVBhcmFtc30pWydiYXNlJ107XG5cdH0sXG5cblx0aXNWYWxpZEJhc2Uoel90ZXN0OiB1bmtub3duKTogel90ZXN0IGlzIEJhc2VQYXJhbXMge1xuXHRcdHJldHVybiAhIXpfdGVzdCAmJiAnb2JqZWN0JyA9PT0gdHlwZW9mIHpfdGVzdFxuXHRcdFx0JiYgJ251bWJlcicgPT09IHR5cGVvZiB6X3Rlc3RbJ3ZlcnNpb24nXVxuXHRcdFx0JiYgJ3N0cmluZycgPT09IHR5cGVvZiB6X3Rlc3RbJ2VudHJvcHknXVxuXHRcdFx0JiYgJ3N0cmluZycgPT09IHR5cGVvZiB6X3Rlc3RbJ25vbmNlJ11cblx0XHRcdCYmICdzdHJpbmcnID09PSB0eXBlb2Ygel90ZXN0WydzaWduYXR1cmUnXTtcblx0fSxcblxuXHRwYXJzZUJhc2UoZ19iYXNlOiBCYXNlUGFyYW1zKTogUGFyc2VkQmFzZSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHZlcnNpb246IGdfYmFzZS52ZXJzaW9uLFxuXHRcdFx0ZW50cm9weTogaGV4X3RvX2J1ZmZlcihnX2Jhc2UuZW50cm9weSksXG5cdFx0XHRub25jZTogQmlnSW50KGdfYmFzZS5ub25jZSksXG5cdFx0XHRzaWduYXR1cmU6IGhleF90b19idWZmZXIoZ19iYXNlLnNpZ25hdHVyZSksXG5cdFx0fTtcblx0fSxcblxuXHRhc3luYyBzZXRQYXJzZWRCYXNlKGdfYmFzZTogT21pdDxQYXJzZWRCYXNlLCAndmVyc2lvbic+KTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0cmV0dXJuIGF3YWl0IGNocm9tZS5zdG9yYWdlLmxvY2FsLnNldCh7XG5cdFx0XHRiYXNlOiB7XG5cdFx0XHRcdHZlcnNpb246IDEsXG5cdFx0XHRcdGVudHJvcHk6IGJ1ZmZlcl90b19oZXgoZ19iYXNlLmVudHJvcHkpLFxuXHRcdFx0XHRub25jZTogZ19iYXNlLm5vbmNlKycnLFxuXHRcdFx0XHRzaWduYXR1cmU6IGJ1ZmZlcl90b19oZXgoZ19iYXNlLnNpZ25hdHVyZSksXG5cdFx0XHR9LFxuXHRcdH0pO1xuXHR9LFxuXG5cdGFzeW5jIGVyYXNlQmFzZSgpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHRyZXR1cm4gYXdhaXQgY2hyb21lLnN0b3JhZ2UubG9jYWwucmVtb3ZlKFsnYmFzZSddKTtcblx0fSxcblxuXHQvKipcblx0ICogUmV0cmlldmUgdGhlIGV4aXN0aW5nIHNhbHQgdmFsdWUgaWYgZGVmaW5lZFxuXHQgKi9cblx0YXN5bmMgZ2V0U2FsdCgpOiBQcm9taXNlPFVpbnQ4QXJyYXkgfCB1bmRlZmluZWQ+IHtcblx0XHQvLyBmZXRjaCBzYWx0IHZhbHVlXG5cdFx0Y29uc3Qgc3hfc2FsdCA9IChhd2FpdCBjaHJvbWUuc3RvcmFnZS5sb2NhbC5nZXQoWydzYWx0J10pKVsnc2FsdCddIGFzIHN0cmluZyB8IHVuZGVmaW5lZDtcblxuXHRcdC8vIGNvbnZlcnQgdG8gYnVmZmVyIGlmIGl0IGV4aXN0c1xuXHRcdHJldHVybiBzeF9zYWx0PyBoZXhfdG9fYnVmZmVyKHN4X3NhbHQpOiB2b2lkIDA7XG5cdH0sXG5cblx0YXN5bmMgc2V0U2FsdChhdHU4X3NhbHQ6IFVpbnQ4QXJyYXkpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHQvLyBzdG9yZSBzYWx0IGFzIHN0cmluZ2lmeSdkIGJ1ZmZlclxuXHRcdHJldHVybiBhd2FpdCBjaHJvbWUuc3RvcmFnZS5sb2NhbC5zZXQoe1xuXHRcdFx0c2FsdDogYnVmZmVyX3RvX2hleChhdHU4X3NhbHQpLFxuXHRcdH0pO1xuXHR9LFxuXG5cdGFzeW5jIGdldFJvb3RLZXkoKTogUHJvbWlzZTxDcnlwdG9LZXkgfCBudWxsPiB7XG5cdFx0Y29uc3Qgd19yb290ID0gYXdhaXQgc2Vzc2lvbl9zdG9yYWdlX2dldCgncm9vdCcpO1xuXHRcdGlmKCF3X3Jvb3QpIHJldHVybiBudWxsO1xuXG5cdFx0cmV0dXJuIGF3YWl0IHJlc3RvcmVfYXNfa2V5KHdfcm9vdCwgJ0hLREYnLCBmYWxzZSwgWydkZXJpdmVLZXknXSk7XG5cblx0XHQvLyAvLyBiYWNrZ3JvdW5kIHBhZ2UgZXhpc3RzXG5cdFx0Ly8gbGV0IGR3X2JhY2tncm91bmQhOiBXaW5kb3cgfCBudWxsO1xuXHRcdC8vIGlmKGNocm9tZS5leHRlbnNpb24uZ2V0QmFja2dyb3VuZFBhZ2UgJiYgKGR3X2JhY2tncm91bmQ9Y2hyb21lLmV4dGVuc2lvbi5nZXRCYWNrZ3JvdW5kUGFnZSgpKSkge1xuXHRcdC8vIFx0cmV0dXJuIGR3X2JhY2tncm91bmRbJ19ka19yb290J10gfHwgbnVsbDtcblx0XHQvLyB9XG5cdFx0Ly8gLy8gbXYzXG5cdFx0Ly8gZWxzZSB7XG5cdFx0Ly8gXHQvLyByZWFkIHJvb3Qga2V5IGZyb20gc2Vzc2lvbiBzdG9yYWdlXG5cdFx0Ly8gXHRjb25zdCBheF9yb290ID0gYXdhaXQgc2Vzc2lvbl9zdG9yYWdlX2dldCgncm9vdCcpO1xuXG5cdFx0Ly8gXHQvLyBubyBrZXk7IG5vdCBhdXRoZW50aWNhdGVkXG5cdFx0Ly8gXHRpZighYXhfcm9vdCkgcmV0dXJuIG51bGw7XG5cblx0XHQvLyBcdC8vIHJldHVybiBpbXBvcnRlZCByb290IGtleVxuXHRcdC8vIFx0cmV0dXJuIGF3YWl0IGNyeXB0by5zdWJ0bGUuaW1wb3J0S2V5KCdyYXcnLCBVaW50OEFycmF5LmZyb20oYXhfcm9vdCksICdIS0RGJywgZmFsc2UsIFsnZGVyaXZlS2V5J10pO1xuXHRcdC8vIH1cblx0fSxcblxuXHRhc3luYyBjbGVhclJvb3RLZXkoKTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0Ly8gYmFja2dyb3VuZCBwYWdlIGV4aXN0c1xuXHRcdGxldCBkd19iYWNrZ3JvdW5kITogV2luZG93IHwgbnVsbDtcblx0XHRpZihjaHJvbWUuZXh0ZW5zaW9uLmdldEJhY2tncm91bmRQYWdlICYmIChkd19iYWNrZ3JvdW5kPWNocm9tZS5leHRlbnNpb24uZ2V0QmFja2dyb3VuZFBhZ2UoKSkpIHtcblx0XHRcdGRlbGV0ZSBkd19iYWNrZ3JvdW5kWydfZGtfcm9vdCddO1xuXHRcdH1cblxuXHRcdC8vIGdsb2JhbCBicm9hZGNhc3QgbG9nb3V0IGV2ZW50XG5cdFx0Z2xvYmFsX2Jyb2FkY2FzdCh7XG5cdFx0XHR0eXBlOiAnbG9nb3V0Jyxcblx0XHR9KTtcblxuXHRcdC8vIGluIHBhcmFsbGVsXG5cdFx0YXdhaXQgUHJvbWlzZS5hbGwoW1xuXHRcdFx0Ly8gY2xlYXIgc2Vzc2lvbiBzdG9yYWdlXG5cdFx0XHRzZXNzaW9uX3N0b3JhZ2VfY2xlYXIoKSxcblx0XHRdKTtcblx0fSxcblxuXHQvKipcblx0ICogQ3JlYXRlIHRoZSByb290IGtleSBieSBpbXBvcnRpbmcgdGhlIHBsYWludGV4dCBwYXNzd29yZCBzdHJpbmcsIHVzaW5nIFBCS0RGMiB0byBkZXJpdmUgYHJvb3QwYCwgdGhlbiBkZWZlcnJpbmdcblx0ICogdG8gY2FsbGJhY2tzIHRvIGNvbXBsZXRlIGNoaWxkIGtleSBkZXJpdmF0aW9uLiBVc2VzIGNhbGxiYWNrcyBpbnN0ZWFkIG9mIGEgUHJvbWlzZSB0byBoZWxwIG1ha2UgaXQgb2J2aW91cyB0b1xuXHQgKiB0aGUgcnVudGltZSB0aGF0IHRoZSBwYXNzd29yZCBzdHJpbmcgZG9lcyBub3QgbmVlZCB0byBwdXQgaW50byBoZWFwIG1lbW9yeSAoaS5lLiwgb25seSBleGlzdHMgaW4gc3RhY2sgbWVtb3J5KS5cblx0ICovXG5cdGRlcml2ZVJvb3RCaXRzKFxuXHRcdGF0dThfcGhyYXNlOiBVaW50OEFycmF5LFxuXHRcdGFiX25vbmNlOiBCdWZmZXJTb3VyY2UsXG5cdFx0eF9pdGVyYXRpb25fbXVsdGlwbGllcj0wLFxuXHQpOiBQcm9taXNlPFNlbnNpdGl2ZUJ5dGVzPiB7XG5cdFx0Ly8gaW1wb3J0IHRoZSBwYXNzcGhyYXNlIHRvIGEgbWFuYWdlZCBrZXkgb2JqZWN0XG5cdFx0cmV0dXJuIGNyeXB0by5zdWJ0bGUuaW1wb3J0S2V5KCdyYXcnLCBhdHU4X3BocmFzZSwgJ1BCS0RGMicsIGZhbHNlLCBbJ2Rlcml2ZUJpdHMnXSlcblx0XHRcdC8vIGhlbHAgYWxsb3cgdGhlIHBsYWludGV4dCBwYXNzd29yZCB0byBoYXZlIGEgc2hvcnQgbGlmZSBpbiB0aGUgc3RhY2sgYnkgZm9yY2luZyBpdCBvdXQgb2Ygc2NvcGUgYXMgc29vbiBhcyBwb3NzaWJsZVxuXHRcdFx0LnRoZW4ocGJrZGYyX2Rlcml2ZTIoYWJfbm9uY2UsIHhfaXRlcmF0aW9uX211bHRpcGxpZXIpKTtcblx0fSxcblxuXG5cdGFzeW5jIGRlcml2ZVJvb3RLZXlzKGF0dThfcGhyYXNlOiBVaW50OEFycmF5LCBhdHU4X2VudHJvcHk6IFVpbnQ4QXJyYXksIHhnX25vbmNlX29sZDogYmlnaW50LCBiX2V4cG9ydF9uZXc9ZmFsc2UpOiBQcm9taXNlPFJvb3RLZXlzRGF0YT4ge1xuXHRcdC8vIHByZXAgbmV3IG5vbmNlICh0aGlzIGlzIGludGVuZGVkIHRvIGJlIHJlcHJvZHVjaWJsZSBpbiBjYXNlIHByb2dyYW0gZXhpdHMgd2hpbGUgcm90YXRpbmcga2V5cylcblx0XHRjb25zdCB4Z19ub25jZV9uZXcgPSAoeGdfbm9uY2Vfb2xkICsgMW4pICUgKDJuICoqIDY0bik7XG5cblx0XHQvLyBwcmVwIGFycmF5IGJ1ZmZlciAoOCBieXRlcyBmb3IgZml4ZWQgZW50cm9weSArIDggYnl0ZXMgZm9yIG5vbmNlKVxuXHRcdGNvbnN0IGF0dThfdmVjdG9yX29sZCA9IG5ldyBVaW50OEFycmF5KDE2KTtcblx0XHRjb25zdCBhdHU4X3ZlY3Rvcl9uZXcgPSBuZXcgVWludDhBcnJheSgxNik7XG5cblx0XHQvLyBzZXQgZW50cm9weSBpbnRvIGJ1ZmZlciBhdCBsZWFkaW5nIDggYnl0ZXNcblx0XHRhdHU4X3ZlY3Rvcl9vbGQuc2V0KGF0dThfZW50cm9weSwgMCk7XG5cdFx0YXR1OF92ZWN0b3JfbmV3LnNldChhdHU4X2VudHJvcHksIDApO1xuXG5cdFx0Ly8gc2V0IG5vbmNlIGludG8gYnVmZmVyIGF0IGJvdHRvbSA4IGJ5dGVzXG5cdFx0bmV3IERhdGFWaWV3KGF0dThfdmVjdG9yX29sZC5idWZmZXIpLnNldEJpZ1VpbnQ2NCg4LCB4Z19ub25jZV9vbGQsIGZhbHNlKTtcblx0XHRuZXcgRGF0YVZpZXcoYXR1OF92ZWN0b3JfbmV3LmJ1ZmZlcikuc2V0QmlnVWludDY0KDgsIHhnX25vbmNlX25ldywgZmFsc2UpO1xuXG5cdFx0Ly8gZGVyaXZlIHRoZSB0d28gcm9vdCBieXRlIHNlcXVlbmNlcyBmb3IgdGhpcyBzZXNzaW9uXG5cdFx0Y29uc3QgW1xuXHRcdFx0a25fcm9vdF9vbGQsXG5cdFx0XHRrbl9yb290X25ldyxcblx0XHRdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuXHRcdFx0VmF1bHQuZGVyaXZlUm9vdEJpdHMoYXR1OF9waHJhc2UsIGF0dThfdmVjdG9yX29sZCksXG5cdFx0XHRWYXVsdC5kZXJpdmVSb290Qml0cyhhdHU4X3BocmFzZSwgYXR1OF92ZWN0b3JfbmV3KSxcblx0XHRdKTtcblxuXHRcdC8vIHplcm8gb3V0IHBhc3NwaHJhc2UgZGF0YVxuXHRcdHplcm9fb3V0KGF0dThfcGhyYXNlKTtcblxuXHRcdC8vIGRlcml2ZSByb290IGtleXNcblx0XHRjb25zdCBbXG5cdFx0XHRka19yb290X29sZCxcblx0XHRcdGRrX3Jvb3RfbmV3LFxuXHRcdF0gPSBhd2FpdCBQcm9taXNlLmFsbChbXG5cdFx0XHRjcnlwdG8uc3VidGxlLmltcG9ydEtleSgncmF3Jywga25fcm9vdF9vbGQuZGF0YSwgJ0hLREYnLCBmYWxzZSwgWydkZXJpdmVLZXknXSksXG5cdFx0XHRjcnlwdG8uc3VidGxlLmltcG9ydEtleSgncmF3Jywga25fcm9vdF9uZXcuZGF0YSwgJ0hLREYnLCBmYWxzZSwgWydkZXJpdmVLZXknXSksXG5cdFx0XSk7XG5cblx0XHQvLyB3aXBlIHJvb3QgYml0c1xuXHRcdGtuX3Jvb3Rfb2xkLndpcGUoKTtcblx0XHRpZighYl9leHBvcnRfbmV3KSBrbl9yb290X25ldy53aXBlKCk7XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0b2xkOiB7XG5cdFx0XHRcdGtleTogZGtfcm9vdF9vbGQsXG5cdFx0XHRcdHZlY3RvcjogYXR1OF92ZWN0b3Jfb2xkLFxuXHRcdFx0XHRub25jZTogeGdfbm9uY2Vfb2xkLFxuXHRcdFx0fSxcblx0XHRcdG5ldzoge1xuXHRcdFx0XHRrZXk6IGRrX3Jvb3RfbmV3LFxuXHRcdFx0XHR2ZWN0b3I6IGF0dThfdmVjdG9yX25ldyxcblx0XHRcdFx0bm9uY2U6IHhnX25vbmNlX25ldyxcblx0XHRcdH0sXG5cdFx0XHRleHBvcnQ6IGJfZXhwb3J0X25ldz8ga25fcm9vdF9uZXc6IG51bGwsXG5cdFx0fTtcblx0fSxcblxuXG5cdGFzeW5jIGNpcGhlcktleShka19yb290OiBDcnlwdG9LZXksIGJfZW5jcnlwdD1mYWxzZSk6IFByb21pc2U8Q3J5cHRvS2V5PiB7XG5cdFx0Ly8gcmV0dXJuIGNyeXB0by5zdWJ0bGUuZGVyaXZlS2V5KGF3YWl0IGhrZGZfcGFyYW1zKCksIGRrX3Jvb3QsIEdDX0RFUklWRV9ST09UX0NJUEhFUiwgZmFsc2UsIGJfZW5jcnlwdD8gWydlbmNyeXB0JywgJ2RlY3J5cHQnXTogWydkZWNyeXB0J10pO1xuXHRcdHJldHVybiBjcnlwdG8uc3VidGxlLmRlcml2ZUtleShhd2FpdCBoa2RmX3BhcmFtcygpLCBka19yb290LCBHQ19ERVJJVkVfUk9PVF9DSVBIRVIsIHRydWUsIGJfZW5jcnlwdD8gWydlbmNyeXB0JywgJ2RlY3J5cHQnXTogWydkZWNyeXB0J10pO1xuXHR9LFxuXG5cdGFzeW5jIHNpZ25hdHVyZUtleShka19yb290OiBDcnlwdG9LZXksIGJfc2lnbmVyPWZhbHNlKTogUHJvbWlzZTxDcnlwdG9LZXk+IHtcblx0XHRyZXR1cm4gY3J5cHRvLnN1YnRsZS5kZXJpdmVLZXkoYXdhaXQgaGtkZl9wYXJhbXMoKSwgZGtfcm9vdCwgR0NfREVSSVZFX1JPT1RfU0lHTklORywgZmFsc2UsIGJfc2lnbmVyPyBbJ3NpZ24nXTogWyd2ZXJpZnknXSk7XG5cdH0sXG5cblx0YXN5bmMgZ2VuZXJhdGVSb290S2V5U2lnbmF0dXJlKGRrX3Jvb3Q6IENyeXB0b0tleSk6IFByb21pc2U8VWludDhBcnJheT4ge1xuXHRcdC8vIGRlcml2ZSBzaWduYXR1cmUga2V5XG5cdFx0Y29uc3QgZGtfdmVyaWZ5ID0gYXdhaXQgVmF1bHQuc2lnbmF0dXJlS2V5KGRrX3Jvb3QsIHRydWUpO1xuXG5cdFx0Ly8gcmV0dXJuIHNpZ25hdHVyZVxuXHRcdHJldHVybiBuZXcgVWludDhBcnJheShhd2FpdCBjcnlwdG8uc3VidGxlLnNpZ24oJ0hNQUMnLCBka192ZXJpZnksIEFUVThfU0hBMjU2X1NUQVJTSEVMTCkpO1xuXHR9LFxuXG5cdGFzeW5jIHZlcmlmeVJvb3RLZXkoZGtfcm9vdDogQ3J5cHRvS2V5LCBhdHU4X3Rlc3Q6IFVpbnQ4QXJyYXkpOiBQcm9taXNlPGJvb2xlYW4+IHtcblx0XHQvLyBkZXJpdmUgdmVyaWZpY2F0aW9uIGtleVxuXHRcdGNvbnN0IGRrX3ZlcmlmeSA9IGF3YWl0IFZhdWx0LnNpZ25hdHVyZUtleShka19yb290LCBmYWxzZSk7XG5cblx0XHQvLyByZXR1cm4gdmVyaWZpY2F0aW9uIHRlc3QgcmVzdWx0XG5cdFx0cmV0dXJuIGF3YWl0IGNyeXB0by5zdWJ0bGUudmVyaWZ5KCdITUFDJywgZGtfdmVyaWZ5LCBhdHU4X3Rlc3QsIEFUVThfU0hBMjU2X1NUQVJTSEVMTCk7XG5cdH0sXG5cblx0YXN5bmMgcmVjcnlwdEFsbChka19yb290X29sZDogQ3J5cHRvS2V5LCBhdHU4X25vbmNlX29sZDogVWludDhBcnJheSwgZGtfcm9vdF9uZXc6IENyeXB0b0tleSwgYXR1OF9ub25jZV9uZXc6IFVpbnQ4QXJyYXkpIHtcblx0XHQvLyBwcmVwIGxpc3Qgb2YgYXN5bmMgb3BlcmF0aW9uc1xuXHRcdGNvbnN0IGFfcHJvbWlzZXM6IEFycmF5PFByb21pc2U8dm9pZD4+ID0gW107XG5cblx0XHQvLyBrZWVwIHJ1bm5pbmcgdG90YWwgb2YgYnl0ZXMgcGVuZGluZyB0byBiZSByZWNyeXB0ZWRcblx0XHRsZXQgY2JfcGVuZGluZyA9IDA7XG5cblx0XHQvLyBkZXJpdmUgYWVzIGtleXNcblx0XHRjb25zdCBbXG5cdFx0XHRka19hZXNfb2xkLFxuXHRcdFx0ZGtfYWVzX25ldyxcblx0XHRdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuXHRcdFx0VmF1bHQuY2lwaGVyS2V5KGRrX3Jvb3Rfb2xkLCBmYWxzZSksXG5cdFx0XHRWYXVsdC5jaXBoZXJLZXkoZGtfcm9vdF9uZXcsIHRydWUpLFxuXHRcdF0pO1xuZGVidWdnZXI7XG5cdFx0Ly8gZWFjaCBrZXlcblx0XHRmb3IoY29uc3Qgc2lfa2V5IG9mIEFfU1RPUkVfS0VZUykge1xuXHRcdFx0aWYoJ21lZGlhJyA9PT0gc2lfa2V5KSBkZWJ1Z2dlcjtcblxuXHRcdFx0Ly8gcmVhZHkgZnJvbSBzdG9yYWdlXG5cdFx0XHRjb25zdCBzeF9lbnRyeSA9IChhd2FpdCBjaHJvbWUuc3RvcmFnZS5sb2NhbC5nZXQoW3NpX2tleV0pKVtzaV9rZXldIGFzIHN0cmluZyB8IHVuZGVmaW5lZDtcblxuXHRcdFx0Ly8gc2tpcCBubyBkYXRhXG5cdFx0XHRpZighc3hfZW50cnkpIGNvbnRpbnVlO1xuXG5cdFx0XHQvLyBkZXNlcmlhbGl6ZVxuXHRcdFx0Y29uc3QgYXR1OF9lbnRyeSA9IHN0cmluZzhfdG9fYnVmZmVyKHN4X2VudHJ5KTtcblxuXHRcdFx0Ly8gYnl0ZSBsZW5ndGhcblx0XHRcdGNiX3BlbmRpbmcgKz0gYXR1OF9lbnRyeS5ieXRlTGVuZ3RoO1xuXG5cdFx0XHQvKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbG9vcC1mdW5jICovXG5cdFx0XHQvLyBlbnF1ZXVlIGFzeW5jIG9wZXJhdGlvblxuXHRcdFx0YV9wcm9taXNlcy5wdXNoKChhc3luYygpID0+IHtcblx0XHRcdFx0Ly8gZGVjcnlwdCBpdHMgZGF0YSB3aXRoIG9sZCByb290IGtleVxuXHRcdFx0XHRsZXQgYXR1OF9kYXRhOiBVaW50OEFycmF5O1xuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdGF0dThfZGF0YSA9IGF3YWl0IGRlY3J5cHQoYXR1OF9lbnRyeSwgZGtfYWVzX29sZCwgYXR1OF9ub25jZV9vbGQpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdC8vIGRlY3J5cHRpb24gZmFpbGVkOyByZXRyeSB3aXRoIG5ldyBrZXkgKGxldCBpdCB0aHJvdyBpZiBpdCBmYWlscylcblx0XHRcdFx0Y2F0Y2goZV9kZWNyeXB0KSB7XG5cdFx0XHRcdFx0YXR1OF9kYXRhID0gYXdhaXQgZGVjcnlwdChhdHU4X2VudHJ5LCBka19hZXNfbmV3LCBhdHU4X25vbmNlX29sZCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBlbmNyeXB0IGl0IHdpdGggbmV3IHJvb3Qga2V5XG5cdFx0XHRcdGNvbnN0IGF0dThfcmVwbGFjZSA9IGF3YWl0IGVuY3J5cHQoYXR1OF9kYXRhLCBka19hZXNfbmV3LCBhdHU4X25vbmNlX25ldyk7XG5cblx0XHRcdFx0Ly8gc2F2ZSBlbmNyeXB0ZWQgZGF0YSBiYWNrIHRvIHN0b3JlXG5cdFx0XHRcdGF3YWl0IGNocm9tZS5zdG9yYWdlLmxvY2FsLnNldCh7XG5cdFx0XHRcdFx0W3NpX2tleV06IGJ1ZmZlcl90b19zdHJpbmc4KGF0dThfcmVwbGFjZSksXG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdC8vIGRvbmU7IGNsZWFyIGJ5dGVzIGZyb20gcGVuZGluZ1xuXHRcdFx0XHRjYl9wZW5kaW5nIC09IGF0dThfZW50cnkuYnl0ZUxlbmd0aDtcblx0XHRcdH0pKCkpO1xuXHRcdFx0LyogZXNsaW50LWVuYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbG9vcC1mdW5jICovXG5cblx0XHRcdC8vIGV4Y2VlZGVkIHRocmVzaG9sZFxuXHRcdFx0aWYoY2JfcGVuZGluZyA+IE5CX1JFQ1JZUFRJT05fVEhSRVNIT0xEKSB7XG5cdFx0XHRcdC8vIHdhaXQgZm9yIG9wZXJhdGlvbnMgdG8gZmluaXNoXG5cdFx0XHRcdGF3YWl0IFByb21pc2UuYWxsKGFfcHJvbWlzZXMpO1xuXG5cdFx0XHRcdC8vIGNvbnRpbnVlXG5cdFx0XHRcdGFfcHJvbWlzZXMubGVuZ3RoID0gMDtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyB3YWl0IGZvciBhbGwgb3BlcmF0aW9ucyB0byBmaW5pc2hcblx0XHRhd2FpdCBQcm9taXNlLmFsbChhX3Byb21pc2VzKTtcblx0fSxcblxuXG5cdGFzeW5jIHBlZWtKc29uKHNpX2tleToga2V5b2YgU3RvcmUsIGRrX2NpcGhlcjogQ3J5cHRvS2V5KTogUHJvbWlzZTxudWxsIHwgU3RvcmVbdHlwZW9mIHNpX2tleV0+IHtcblx0XHQvLyBjaGVja291dCBzdG9yZVxuXHRcdGNvbnN0IGtwX3N0b3JlID0gYXdhaXQgVmF1bHQuYWNxdWlyZShzaV9rZXkpO1xuXG5cdFx0Ly8gcmVhZCBmcm9tIGl0XG5cdFx0Y29uc3Qgd19yZWFkID0ga3Bfc3RvcmUucmVhZEpzb24oZGtfY2lwaGVyKTtcblxuXHRcdC8vIHJlbGVhc2Ugc3RvcmVcblx0XHRhd2FpdCBrcF9zdG9yZS5yZWxlYXNlKCk7XG5cblx0XHQvLyByZXR1cm4gdGhlIGpzb25cblx0XHRyZXR1cm4gd19yZWFkO1xuXHR9LFxuXG5cblx0LyoqXG5cdCAqIE9idGFpbiBhIHJlYWRvbmx5IHZhdWx0IGVudHJ5IGJ5IGl0cyBnaXZlbiBrZXkgaWRlbnRpZmllci5cblx0ICovXG5cdGFzeW5jIHJlYWRvbmx5KHNpX2tleToga2V5b2YgU3RvcmUpOiBQcm9taXNlPFZhdWx0RW50cnk8dHlwZW9mIHNpX2tleT4+IHtcblx0XHQvLyByZWFkIGVudHJ5IGNpcGhlcnRleHRcblx0XHRjb25zdCBzeF9lbnRyeSA9IChhd2FpdCBjaHJvbWUuc3RvcmFnZS5sb2NhbC5nZXQoc2lfa2V5KSlbc2lfa2V5XSBhcyBzdHJpbmcgfCB1bmRlZmluZWQ7XG5cblx0XHQvLyBjcmVhdGUgaW5zdGFuY2Vcblx0XHRyZXR1cm4gbmV3IFZhdWx0RW50cnkoc2lfa2V5LCBzeF9lbnRyeSA/PyAnJyk7XG5cdH0sXG5cblxuXHQvKipcblx0ICogQWNxdWlyZXMgYW4gZXhjbHVzaXZlIGxvY2sgdG8gYSB3cml0YWJsZSB2YXVsdCBlbnRyeSBieSBpdHMgZ2l2ZW4ga2V5IGlkZW50aWZpZXIuXG5cdCAqIEBwYXJhbSBzaV9rZXkga2V5IGlkZW50aWZpZXJcblx0ICogQHJldHVybnMgbmV3IHZhdWx0IGVudHJ5XG5cdCAqL1xuXHRhc3luYyBhY3F1aXJlKHNpX2tleToga2V5b2YgU3RvcmUsIGNfYXR0ZW1wdHM9MCk6IFByb21pc2U8V3JpdGFibGVWYXVsdEVudHJ5PHR5cGVvZiBzaV9rZXk+PiB7XG5cdFx0Ly8gcHJlcCBsb2NrIGlkIGFuZCBzZWxmIGlkXG5cdFx0Y29uc3Qgc2lfbG9jayA9IGBsb2NrXyR7c2lfa2V5fWAgYXMgY29uc3Q7XG5cblx0XHQvLyByZWFkIGxvY2sgc3RhdHVzXG5cdFx0Y29uc3Qgc3hfb3duZXIgPSBhd2FpdCBzZXNzaW9uX3N0b3JhZ2VfZ2V0KHNpX2xvY2spO1xuXG5cdFx0Ly8gYnVzeTsgd2FpdCBmb3Igb3duZXIgdG8gcmVsZWFzZVxuXHRcdGlmKHN4X293bmVyKSB7XG5cdFx0XHQvLyBwYXJzZSBvd25lclxuXHRcdFx0Y29uc3QgW3NpX2ZyYW1lLCBzaV9tb21lbnRdID0gc3hfb3duZXIuc3BsaXQoJzonKTtcblxuXHRcdFx0Ly8gZnJhbWUgaXMgbG9jYWxcblx0XHRcdGlmKFNJX0ZSQU1FX0xPQ0FMID09PSBzaV9mcmFtZSkge1xuXHRcdFx0XHQvLyB3YWl0IGZvciByZWxlYXNlXG5cdFx0XHRcdGF3YWl0IG5ldyBQcm9taXNlKChma19yZXNvbHZlKSA9PiB7XG5cdFx0XHRcdFx0Ly8gcHJlcCB0aW1lb3V0IGlkXG5cdFx0XHRcdFx0bGV0IGlfdGltZW91dCA9IDA7XG5cblx0XHRcdFx0XHQvLyBhZGQgcmVzb2x2ZSBjYWxsYmFjayB0byBsaXN0XG5cdFx0XHRcdFx0KGhfcmVsZWFzZV93YWl0ZXJzX2xvY2FsW3NpX2tleV0gPSBoX3JlbGVhc2Vfd2FpdGVyc19sb2NhbFtzaV9rZXldIHx8IFtdKS5wdXNoKCgpID0+IHtcblx0XHRcdFx0XHRcdC8vIGNhbmNlbCB0aW1lb3V0XG5cdFx0XHRcdFx0XHRjbGVhclRpbWVvdXQoaV90aW1lb3V0KTtcblxuXHRcdFx0XHRcdFx0Ly8gcmVzb2x2ZSBwcm9taXNlXG5cdFx0XHRcdFx0XHRma19yZXNvbHZlKHZvaWQgMCk7XG5cdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHQvLyB0aW1lb3V0XG5cdFx0XHRcdFx0aV90aW1lb3V0ID0gZ2xvYmFsVGhpcy5zZXRUaW1lb3V0KCgpID0+IHtcblx0XHRcdFx0XHRcdHN5c2Vycih7XG5cdFx0XHRcdFx0XHRcdHRleHQ6IGBMb2NhbCBsb2NrIG9uICcke3NpX2tleX0nIGxhc3RlZCBtb3JlIHRoYW4gNSBzZWNvbmRzOyBwb3NzaWJsZSBidWcgaW4gaW1wbGVtZW50YXRpb24uYCxcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH0sIDUwMDApO1xuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHRcdC8vIG93bmVyIGlzIHJlbW90ZVxuXHRcdFx0ZWxzZSB7XG5cdFx0XHRcdGNvbnNvbGUud2FybihgJyR7c2lfa2V5fScgc3RvcmUgaXMgY3VycmVudGx5IGxvY2tlZCBvbiBhIHJlbW90ZSBmcmFtZTogJHtzeF9vd25lcn07IHdhaXRpbmcgZm9yIHJlbGVhc2VgKTtcblxuXHRcdFx0XHQvLyBhdHRlbXB0IHRvIHdhaXRcblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRhd2FpdCBnbG9iYWxfd2FpdCgncmVsZWFzZVN0b3JlJywgZ19yZWxlYXNlID0+IHNpX2tleSA9PT0gZ19yZWxlYXNlLmtleSwgNTAwMCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0Ly8gdGltZW91dCBlcnJvcjsgdXNlciBsaWtlbHkgaW50ZXJ1cHRlZCBiZWZvcmUgbG9jayB3YXMgcmVsZWFzZWQ7IGZvcmNlZnVsbHkgcmVtb3ZlIHRoZSBsb2NrIGFuZCBjb250aW51ZVxuXHRcdFx0XHRjYXRjaChlX3RpbWVvdXQpIHtcblx0XHRcdFx0XHRzeXN3YXJuKHtcblx0XHRcdFx0XHRcdHRleHQ6ICdSZWNvdmVyZWQgZnJvbSBwcmV2aW91cyBpbnRlcnJ1cHRlZCBzaHV0ZG93bi4nLFxuXHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0YXdhaXQgc2Vzc2lvbl9zdG9yYWdlX3JlbW92ZShgbG9ja18ke3NpX2tleX1gKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIGNyZWF0ZSBzZWxmIGlkXG5cdFx0Y29uc3Qgc2lfc2VsZiA9IFNJX0ZSQU1FX0xPQ0FMKyc6JytjcnlwdG8ucmFuZG9tVVVJRCgpLnNsaWNlKDI0KTtcblxuXHRcdC8vIGFjcXVpcmUgbG9ja1xuXHRcdGF3YWl0IHNlc3Npb25fc3RvcmFnZV9zZXRfaXNvbW9ycGhpYyh7W3NpX2xvY2tdOnNpX3NlbGZ9KTtcblxuXHRcdC8vIGZhaWxlZCB0byBhY3F1aXJlIGV4Y2x1c2l2ZSBsb2NrXG5cdFx0aWYoc2lfc2VsZiAhPT0gYXdhaXQgc2Vzc2lvbl9zdG9yYWdlX2dldChzaV9sb2NrKSkge1xuXHRcdFx0Ly8gZXhjZWVkZWQgcmV0cnkgbGltaXRcblx0XHRcdGlmKGNfYXR0ZW1wdHMgPiAxMCkge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoYEV4Y2VlZGVkIG1heGltdW0gcmV0cnkgY291bnQgd2hpbGUgdHJ5aW5nIHRvIGNoZWNrb3V0IFwiJHtzaV9rZXl9XCIgZnJvbSB0aGUgdmF1bHRgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gcmV0cnlcblx0XHRcdHJldHVybiBhd2FpdCBWYXVsdC5hY3F1aXJlKHNpX2tleSwgY19hdHRlbXB0cysxKTtcblx0XHR9XG5cblx0XHQvLyBicm9hZGNhc3QgZ2xvYmFsXG5cdFx0Z2xvYmFsX2Jyb2FkY2FzdCh7XG5cdFx0XHR0eXBlOiAnYWNxdWlyZVN0b3JlJyxcblx0XHRcdHZhbHVlOiB7XG5cdFx0XHRcdGtleTogc2lfa2V5LFxuXHRcdFx0fSxcblx0XHR9KTtcblxuXHRcdC8vIHJlYWQgZW50cnkgY2lwaGVydGV4dFxuXHRcdGNvbnN0IHN4X2VudHJ5ID0gKGF3YWl0IGNocm9tZS5zdG9yYWdlLmxvY2FsLmdldChzaV9rZXkpKVtzaV9rZXldIGFzIHN0cmluZyB8IHVuZGVmaW5lZDtcblxuXHRcdC8vIGNyZWF0ZSBpbnN0YW5jZVxuXHRcdHJldHVybiBuZXcgV3JpdGFibGVWYXVsdEVudHJ5KHNpX2tleSwgc3hfZW50cnkgPz8gJycpO1xuXHR9LFxufTtcblxuXG5mdW5jdGlvbiBWYXVsdEVudHJ5JF9maWVsZHMoa3ZfdGhpczogVmF1bHRFbnRyeTxTdG9yZUtleT4pOiBWYXVsdEZpZWxkcyB7XG5cdC8vIGxvb2t1cCBwcml2YXRlIGZpZWxkc1xuXHRjb25zdCBnX3ByaXZhdGVzID0gaG1fcHJpdmF0ZXMuZ2V0KGt2X3RoaXMpO1xuXG5cdC8vIHN0b3JlIGlzIG5vdCBsb2FkZWRcblx0aWYoIWdfcHJpdmF0ZXMpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoYEF0dGVtcHRlZCB0byB1c2UgJyR7a3ZfdGhpcy5fc2lfa2V5fScgc3RvcmUgYWZ0ZXIgaXQgd2FzIHJlbGVhc2VkIG9yIGl0IHdhcyBuZXZlciBvcGVuZWQgZm9yIHdyaXRpbmcuYCk7XG5cdH1cblxuXHRyZXR1cm4gZ19wcml2YXRlcztcbn1cblxuXG5leHBvcnQgY2xhc3MgVmF1bHRFbnRyeTxcblx0c2lfa2V5IGV4dGVuZHMgU3RvcmVLZXksXG5cdHdfZW50cnkgZXh0ZW5kcyBTdG9yZVtzaV9rZXldPVN0b3JlW3NpX2tleV0sXG4+IHtcblx0LyoqXG5cdCAqIE5vdCBmb3IgcHVibGljIHVzZS4gSW5zdGVhZCwgdXNlIHN0YXRpYyBtZXRob2Qge0BsaW5rY29kZSBWYXVsdC5hY3F1aXJlfVxuXHQgKi9cblx0Y29uc3RydWN0b3IocHVibGljIF9zaV9rZXk6IHNpX2tleSwgc3hfc3RvcmU6IHN0cmluZykge1xuXHRcdGhtX3ByaXZhdGVzLnNldCh0aGlzLCB7XG5cdFx0XHRhdHU4X2NpcGhlcnRleHQ6IHN0cmluZzhfdG9fYnVmZmVyKHN4X3N0b3JlKSxcblx0XHR9KTtcblx0fVxuXG5cblx0LyoqXG5cdCAqIFJlYWRzIHJhdyBieXRlIHN0cmVhbSBmcm9tIGRlY3J5cHRlZCBzdG9yYWdlIGVudHJ5XG5cdCAqL1xuXHRhc3luYyByZWFkKGRrX2NpcGhlcjogQ3J5cHRvS2V5KTogUHJvbWlzZTxVaW50OEFycmF5PiB7XG5cdFx0Ly8gbG9hZCBkZWNyeXB0aW9uIHZlY3RvclxuXHRcdGNvbnN0IGF0dThfdmVjdG9yID0gcmVzdG9yZV9hc19idWZmZXIoYXdhaXQgc2Vzc2lvbl9zdG9yYWdlX2dldCgndmVjdG9yJykpO1xuXHRcdGlmKCFhdHU4X3ZlY3Rvcikge1xuXHRcdFx0dGhyb3cgbmV3IE5vdEF1dGhlbnRpY2F0ZWRFcnJvcigpO1xuXHRcdH1cblxuXHRcdC8vIHJlZiBwcml2YXRlIGZpZWxkIHN0cnVjdFxuXHRcdGNvbnN0IGdfcHJpdmF0ZXMgPSBWYXVsdEVudHJ5JF9maWVsZHModGhpcyk7XG5cblx0XHQvLyAvLyBwcmVkZXJpdmUgbmV4dCBlbmNyeXB0aW9uIGtleVxuXHRcdC8vIGF3YWl0IFZhdWx0JF9wcmVkZXJpdmUodGhpcywgZGtfcGhyYXNlKTtcblxuXHRcdC8vIG5vdGhpbmcgdG8gZGVjcnlwdDsgcmV0dXJuIGJsYW5rIGRhdGFcblx0XHRpZighZ19wcml2YXRlcy5hdHU4X2NpcGhlcnRleHQuYnl0ZUxlbmd0aCkge1xuXHRcdFx0cmV0dXJuIG5ldyBVaW50OEFycmF5KDApO1xuXHRcdH1cblxuXHRcdC8vIC8vIG9ubHlcblx0XHQvLyBpZih0aGlzLl9iX3VubG9ja2VkKSB0aHJvdyBuZXcgRXJyb3IoJ0F0dGVtcHRlZCB0byB1bmxvY2sgcGVyc2lzdGVuY2UgYnV0IGlzIGFscmVhZHkgdW5sb2NrZWQnKTtcblxuXHRcdC8vIC8vIGFjcXVpcmUgZGVjcnlwdGlvbiBrZXlcblx0XHQvLyBjb25zdCBka19hZXNfcmVhZCA9IGF3YWl0IFZhdWx0JF9yb3RhdGUodGhpcywgZGtfcGhyYXNlKTtcblxuXG5cdFx0Ly8gZGVjcnlwdFxuXHRcdHJldHVybiBhd2FpdCBkZWNyeXB0KGdfcHJpdmF0ZXMuYXR1OF9jaXBoZXJ0ZXh0LCBka19jaXBoZXIsIGF0dThfdmVjdG9yKTtcblx0fVxuXG5cblx0LyoqXG5cdCAqIFJlYWRzIGRlY3J5cHRlZCBzdG9yYWdlIGVudHJ5IGFzIEpTT05cblx0ICovXG5cdGFzeW5jIHJlYWRKc29uKGRrX2NpcGhlcjogQ3J5cHRvS2V5KTogUHJvbWlzZTxudWxsIHwgd19lbnRyeT4ge1xuXHRcdC8vIHJlYWRcblx0XHRsZXQgaF9zdG9yZTogSnNvbk9iamVjdCA9IHt9O1xuXHRcdHRyeSB7XG5cdFx0XHQvLyBkZWNyeXB0XG5cdFx0XHRjb25zdCBhdHU4X3N0b3JlID0gYXdhaXQgdGhpcy5yZWFkKGRrX2NpcGhlcik7XG5cblx0XHRcdC8vIGVtcHR5XG5cdFx0XHRpZighYXR1OF9zdG9yZS5ieXRlTGVuZ3RoKSByZXR1cm4gbnVsbDtcblxuXHRcdFx0Ly8gZGVzZXJpYWxpemVcblx0XHRcdGhfc3RvcmUgPSBKU09OLnBhcnNlKGJ1ZmZlcl90b190ZXh0KGF0dThfc3RvcmUpKTtcblxuXHRcdFx0Ly8gemVybyBvdXRcblx0XHRcdHplcm9fb3V0KGF0dThfc3RvcmUpO1xuXHRcdH1cblx0XHQvLyByZWFkIGVycm9yXG5cdFx0Y2F0Y2goZV9yZWFkKSB7XG5cdFx0XHQvLyBhdHRlbXB0IHRvIHJlbGVhc2Ugc3RvcmVcblx0XHRcdHRyeSB7XG5cdFx0XHRcdGlmKHRoaXMgaW5zdGFuY2VvZiBXcml0YWJsZVZhdWx0RW50cnkpIHtcblx0XHRcdFx0XHR2b2lkIHRoaXMucmVsZWFzZSgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRjYXRjaChlX2lnbm9yZSkge31cblxuXHRcdFx0Ly8gdGhyb3dcblx0XHRcdHRocm93IGVfcmVhZDtcblx0XHR9XG5cblx0XHQvLyByZXR1cm4gZGVzZXJpYWxpemVkIG9iamVjdFxuXHRcdHJldHVybiBoX3N0b3JlIGFzIHdfZW50cnk7XG5cdH1cbn1cblxuXG5leHBvcnQgY2xhc3MgV3JpdGFibGVWYXVsdEVudHJ5PFxuXHRzaV9rZXkgZXh0ZW5kcyBTdG9yZUtleSxcblx0d19lbnRyeSBleHRlbmRzIFN0b3JlW3NpX2tleV09U3RvcmVbc2lfa2V5XSxcbj4gZXh0ZW5kcyBWYXVsdEVudHJ5PHNpX2tleSwgd19lbnRyeT4ge1xuXHQvKipcblx0ICogRGVzdHJveSdzIHRoaXMgaW5zdGFuY2UgYW5kIHJldHVybnMgdGhlIHN0b3JlJ3Mga2V5IHRvIHRoZSByZWdpc3RyeS5cblx0ICovXG5cdGFzeW5jIHJlbGVhc2UoKTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0Ly8gYXNzZXJ0IHRoYXQgc3RvcmUgaXMgbG9hZGVkXG5cdFx0VmF1bHRFbnRyeSRfZmllbGRzKHRoaXMpO1xuXG5cdFx0Ly8gbmV1dGVyIHByaXZhdGUgZmllbGRzXG5cdFx0aG1fcHJpdmF0ZXMuZGVsZXRlKHRoaXMpO1xuXG4vLyBjb25zb2xlLndhcm4oYFJlbGVhc2luZyBsb2NrIG9uIHN0b3JlICcke3RoaXMuX3NpX2tleX0nOiAke2xvY2FsU3RvcmFnZS5nZXRJdGVtKGBjaHJvbWUuc2Vzc2lvbjpsb2NrXyR7dGhpcy5fc2lfa2V5fWApIX1gKTtcblxuXHRcdC8vIHJlbW92ZSBsb2NrXG5cdFx0YXdhaXQgc2Vzc2lvbl9zdG9yYWdlX3JlbW92ZShgbG9ja18ke3RoaXMuX3NpX2tleX1gIGFzIGNvbnN0KTtcblxuXHRcdC8vIGxvY2FsIG5vdGlmeVxuXHRcdGlmKHRoaXMuX3NpX2tleSBpbiBoX3JlbGVhc2Vfd2FpdGVyc19sb2NhbCkge1xuXHRcdFx0Zm9yKGNvbnN0IGZfbm90aWZ5IG9mIGhfcmVsZWFzZV93YWl0ZXJzX2xvY2FsW3RoaXMuX3NpX2tleV0pIHtcblx0XHRcdFx0Zl9ub3RpZnkoKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBicm9hZGNhc3QgbG9jayByZW1vdmFsXG5cdFx0Z2xvYmFsX2Jyb2FkY2FzdCh7XG5cdFx0XHR0eXBlOiAncmVsZWFzZVN0b3JlJyxcblx0XHRcdHZhbHVlOiB7XG5cdFx0XHRcdGtleTogdGhpcy5fc2lfa2V5LFxuXHRcdFx0fSxcblx0XHR9KTtcblx0fVxuXG5cblx0LyoqXG5cdCAqIFNhdmUgdGhlIGdpdmVuIGRhdGEgdG8gdGhlIHVuZGVybHlpbmcgc3RvcmFnZS5cblx0ICovXG5cdGFzeW5jIHdyaXRlKGF0dThfZGF0YTogVWludDhBcnJheSwgZGtfY2lwaGVyOiBDcnlwdG9LZXksIGJfaW5pdD1mYWxzZSk6IFByb21pc2U8dm9pZD4ge1xuXHRcdC8vIHJlZiBwcml2YXRlIGZpZWxkc1xuXHRcdGNvbnN0IGdfcHJpdmF0ZXMgPSBWYXVsdEVudHJ5JF9maWVsZHModGhpcyk7XG5cblx0XHQvLyBsb2FkIGVuY3J5cHRpb24gdmVjdG9yXG5cdFx0Y29uc3QgYXR1OF92ZWN0b3IgPSByZXN0b3JlX2FzX2J1ZmZlcihhd2FpdCBzZXNzaW9uX3N0b3JhZ2VfZ2V0KCd2ZWN0b3InKSk7XG5cdFx0aWYoIWF0dThfdmVjdG9yKSB7XG5cdFx0XHR0aHJvdyBuZXcgTm90QXV0aGVudGljYXRlZEVycm9yKCk7XG5cdFx0fVxuXG5cdFx0Ly8gZW5jcnlwdCB0aGUgc3RvcmVcblx0XHRjb25zdCBhdHU4X2NpcGhlcnRleHQgPSBhd2FpdCBlbmNyeXB0KGF0dThfZGF0YSwgZGtfY2lwaGVyLCBhdHU4X3ZlY3Rvcik7XG5cblx0XHQvLyBzYXZlXG5cdFx0YXdhaXQgY2hyb21lLnN0b3JhZ2UubG9jYWwuc2V0KHtcblx0XHRcdFt0aGlzLl9zaV9rZXldOiBidWZmZXJfdG9fc3RyaW5nOChhdHU4X2NpcGhlcnRleHQpLFxuXHRcdH0pO1xuXG5cdFx0Ly8gemVybyBvdXQgcHJldmlvdXMgZGF0YSBpbiBtZW1vcnlcblx0XHR6ZXJvX291dChnX3ByaXZhdGVzLmF0dThfY2lwaGVydGV4dCk7XG5cblx0XHQvLyByZWxvYWQgY2FjaGVcblx0XHRnX3ByaXZhdGVzLmF0dThfY2lwaGVydGV4dCA9IGF0dThfY2lwaGVydGV4dDtcblxuXHRcdC8vIGJyb2FkY2FzdCBldmVudFxuXHRcdHF1ZXVlTWljcm90YXNrKCgpID0+IHtcblx0XHRcdGdsb2JhbF9icm9hZGNhc3Qoe1xuXHRcdFx0XHR0eXBlOiAndXBkYXRlU3RvcmUnLFxuXHRcdFx0XHR2YWx1ZToge1xuXHRcdFx0XHRcdGtleTogdGhpcy5fc2lfa2V5LFxuXHRcdFx0XHRcdGluaXQ6IGJfaW5pdCxcblx0XHRcdFx0fSxcblx0XHRcdH0pO1xuXHRcdH0pO1xuXHR9XG5cblxuXHQvKipcblx0ICogUmVhZHMgZGVjcnlwdGVkIHN0b3JhZ2UgZW50cnkgYXMgSlNPTlxuXHQgKi9cblx0YXN5bmMgd3JpdGVKc29uKHdfdmFsdWU6IEpzb25WYWx1ZSwgZGtfY2lwaGVyOiBDcnlwdG9LZXksIGJfaW5pdD1mYWxzZSk6IFByb21pc2U8dm9pZD4ge1xuXHRcdC8vIGVuY29kZSBzdHJpbmdpZmllZCBqc29uXG5cdFx0Y29uc3QgYXR1OF9kYXRhID0gdGV4dF90b19idWZmZXIoSlNPTi5zdHJpbmdpZnkod192YWx1ZSkpO1xuXG5cdFx0Ly8gd3JpdGUgdG8gdmF1bHRcblx0XHRyZXR1cm4gYXdhaXQgdGhpcy53cml0ZShhdHU4X2RhdGEsIGRrX2NpcGhlciwgYl9pbml0KTtcblx0fVxufVxuXG4iLCJpbXBvcnQgdHlwZSB7IENsYXNzLCBJbnN0YW5jZSB9IGZyb20gJ3RzLXRvb2xiZWx0L291dC9DbGFzcy9fYXBpJztcbmltcG9ydCB0eXBlIHsgTWVyZ2UgfSBmcm9tICd0cy10b29sYmVsdC9vdXQvT2JqZWN0L01lcmdlJztcblxuaW1wb3J0IHsgSnNvbk9iamVjdCwgSnNvblZhbHVlLCBvZGUsIG9kZXJhYywgUHJvbWlzYWJsZSB9IGZyb20gJyMvdXRpbC9iZWx0JztcblxuaW1wb3J0IHR5cGUgeyBBY2Nlc3MgfSBmcm9tICcjL21ldGEvYmVsdCc7XG5pbXBvcnQgdHlwZSB7IFN0b3JlLCBTdG9yZUtleSB9IGZyb20gJyMvbWV0YS9zdG9yZSc7XG5cbmltcG9ydCB7IFZhdWx0LCBXcml0YWJsZVZhdWx0RW50cnkgfSBmcm9tICcjL2NyeXB0by92YXVsdCc7XG5pbXBvcnQgeyBOb3RBdXRoZW50aWNhdGVkRXJyb3IgfSBmcm9tICcjL3NoYXJlL2F1dGgnO1xuaW1wb3J0IHsgSF9TVE9SRV9JTklUUyB9IGZyb20gJy4vX2luaXQnO1xuaW1wb3J0IHR5cGUgeyBVbnN1YnNjcmliZXIgfSBmcm9tICdzdmVsdGUvc3RvcmUnO1xuaW1wb3J0IHsgZ2xvYmFsX3JlY2VpdmUgfSBmcm9tICcjL3NjcmlwdC9tc2ctZ2xvYmFsJztcblxudHlwZSBTdG9yYWdlVmFsdWUgPSBKc29uT2JqZWN0IHwgSnNvblZhbHVlW107XG5cbmludGVyZmFjZSBXcml0YWJsZVN0b3JlRmllbGRzIHtcblx0ZGtfY2lwaGVyOiBDcnlwdG9LZXk7XG59XG5cbmNvbnN0IGhtX3ByaXZhdGVzID0gbmV3IFdlYWtNYXA8V3JpdGFibGVTdG9yZTxTdG9yZUtleSwgU3RvcmFnZVZhbHVlPiwgV3JpdGFibGVTdG9yZUZpZWxkcz4oKTtcblxuXG5leHBvcnQgY2xhc3MgV3JpdGFibGVTdG9yZTxcblx0c2lfc3RvcmUgZXh0ZW5kcyBTdG9yZUtleT1TdG9yZUtleSxcblx0d19jYWNoZSBleHRlbmRzIFN0b3JhZ2VWYWx1ZT1TdG9yZVtzaV9zdG9yZV0sXG4+IHtcblx0Y29uc3RydWN0b3IocHJvdGVjdGVkIF9rdl9zdG9yZTogV3JpdGFibGVWYXVsdEVudHJ5PHNpX3N0b3JlPiwgcHJvdGVjdGVkIF93X2NhY2hlOiB3X2NhY2hlLCBka19jaXBoZXI6IENyeXB0b0tleSkge1xuXHRcdGhtX3ByaXZhdGVzLnNldCh0aGlzLCB7XG5cdFx0XHRka19jaXBoZXIsXG5cdFx0fSk7XG5cdH1cblxuXHRnZXQgcmF3KCk6IHdfY2FjaGUge1xuXHRcdHJldHVybiB0aGlzLl93X2NhY2hlO1xuXHR9XG5cblx0Ly8gcmVsZWFzZXMgdGhlIHN0b3JlXG5cdHJlbGVhc2UoKTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0cmV0dXJuIHRoaXMuX2t2X3N0b3JlLnJlbGVhc2UoKTtcblx0fVxuXG5cdC8vIHNhdmVzIHRoZSBzdG9yZSBmcm9tIGJhc2VkIG9uIChwcmVzdW1hYmx5IG1vZGlmaWVkKSBjYWNoZSB2YWx1ZVxuXHRzYXZlKGJfaW5pdD1mYWxzZSk6IFByb21pc2U8dm9pZD4ge1xuXHRcdHJldHVybiB0aGlzLl9rdl9zdG9yZS53cml0ZUpzb24odGhpcy5fd19jYWNoZSwgaG1fcHJpdmF0ZXMuZ2V0KHRoaXMpIS5ka19jaXBoZXIsIGJfaW5pdCk7XG5cdH1cbn1cblxuZXhwb3J0IGNsYXNzIFdyaXRhYmxlU3RvcmVBcnJheTxcblx0c2lfc3RvcmUgZXh0ZW5kcyBTdG9yZUtleT1TdG9yZUtleSxcblx0YV9jYWNoZSBleHRlbmRzIFN0b3JlLkFycmF5PHNpX3N0b3JlPj1TdG9yZS5BcnJheTxzaV9zdG9yZT4sXG4+IGV4dGVuZHMgV3JpdGFibGVTdG9yZTxzaV9zdG9yZSwgYV9jYWNoZT4ge1xuXHRnZXQgc2l6ZSgpOiBhX2NhY2hlWydsZW5ndGgnXSB7XG5cdFx0cmV0dXJuIHRoaXMuX3dfY2FjaGUubGVuZ3RoO1xuXHR9XG5cblx0YXQoaV9rZXk6IGtleW9mIGFfY2FjaGUpOiBhX2NhY2hlW3R5cGVvZiBpX2tleV0gfCBudWxsIHtcblx0XHRyZXR1cm4gdGhpcy5fd19jYWNoZVtpX2tleV0gPz8gbnVsbDtcblx0fVxuXG5cdG1hcChmX21hcDogKHdfdmFsdWU6IGFfY2FjaGVbbnVtYmVyXSwgaV9rZXk6IG51bWJlcikgPT4gYW55KTogUmV0dXJuVHlwZTx0eXBlb2YgZl9tYXA+W10ge1xuXHRcdHJldHVybiB0aGlzLl93X2NhY2hlLm1hcChmX21hcCk7XG5cdH1cbn1cblxuZXhwb3J0IGNsYXNzIFdyaXRhYmxlU3RvcmVNYXA8XG5cdHNpX3N0b3JlIGV4dGVuZHMgU3RvcmVLZXk9U3RvcmVLZXksXG5cdGhfY2FjaGUgZXh0ZW5kcyBTdG9yZS5NYXA8c2lfc3RvcmU+PVN0b3JlLk1hcDxzaV9zdG9yZT4sXG4+IGV4dGVuZHMgV3JpdGFibGVTdG9yZTxzaV9zdG9yZSwgaF9jYWNoZT4ge1xuXHQvKipcblx0ICogRW50cmllcyBpdGVyYXRvclxuXHQgKi9cblx0KiBbU3ltYm9sLml0ZXJhdG9yXSgpOiBJdGVyYWJsZUl0ZXJhdG9yPFtrZXlvZiBoX2NhY2hlLCBoX2NhY2hlW2tleW9mIGhfY2FjaGVdXT4ge1xuXHRcdGZvcihjb25zdCBhX3BhaXIgb2Ygb2RlKHRoaXMuX3dfY2FjaGUpKSB7XG5cdFx0XHR5aWVsZCBhX3BhaXI7XG5cdFx0fVxuXHR9XG5cblx0YXQocF9yZXM6IGtleW9mIGhfY2FjaGUpOiBoX2NhY2hlW3R5cGVvZiBwX3Jlc10gfCBudWxsIHtcblx0XHRyZXR1cm4gdGhpcy5fd19jYWNoZVtwX3Jlc10gPz8gbnVsbDtcblx0fVxuXG5cdHJlZHVjZTxcblx0XHR3X291dCBleHRlbmRzIGFueSxcblx0PihmX21hcDogKHNpX2tleToga2V5b2YgaF9jYWNoZSwgd192YWx1ZTogaF9jYWNoZVtrZXlvZiBoX2NhY2hlXSkgPT4gd19vdXQpOiB3X291dFtdIHtcblx0XHRyZXR1cm4gb2RlcmFjKHRoaXMuX3dfY2FjaGUsIGZfbWFwIGFzIChzaTogc3RyaW5nLCB3X3ZhbHVlOiBoX2NhY2hlW2tleW9mIGhfY2FjaGVdKSA9PiB3X291dCk7XG5cdH1cblxuXHRlbnRyaWVzKCk6IFtrZXlvZiBoX2NhY2hlLCBoX2NhY2hlW2tleW9mIGhfY2FjaGVdXVtdIHtcblx0XHRyZXR1cm4gb2RlKHRoaXMuX3dfY2FjaGUpO1xuXHR9XG5cblx0Ly8gYXN5bmMgcHV0KGdfaW5mbzogaF9jYWNoZVtrZXlvZiBoX2NhY2hlXSk6IFByb21pc2U8dm9pZD4ge1xuXHQvLyBcdC8vIHByZXBhcmUgYXBwIHBhdGhcblx0Ly8gXHRjb25zdCBwX2FwcCA9IEFwcHNJLnBhdGhGb3IoZ19hcHAuaG9zdCwgZ19hcHAuc2NoZW1lKTtcblxuXHQvLyBcdC8vIHVwZGF0ZSBjYWNoZVxuXHQvLyBcdHRoaXMuX3dfY2FjaGVbcF9hcHBdID0gZ19hcHA7XG5cblx0Ly8gXHQvLyBhdHRlbXB0IHRvIHNhdmVcblx0Ly8gXHRhd2FpdCB0aGlzLnNhdmUoKTtcblx0Ly8gfVxufVxuXG5cblxuZXhwb3J0IGNsYXNzIFdyaXRhYmxlU3RvcmVEaWN0PFxuXHRzaV9zdG9yZSBleHRlbmRzIFN0b3JlS2V5LFxuXHRoX2NhY2hlIGV4dGVuZHMgU3RvcmUuTWFwPHNpX3N0b3JlPj1TdG9yZS5NYXA8c2lfc3RvcmU+LFxuPiBleHRlbmRzIFdyaXRhYmxlU3RvcmU8c2lfc3RvcmUsIGhfY2FjaGU+IHtcblx0Z2V0KHNpX2tleToga2V5b2YgaF9jYWNoZSk6IGhfY2FjaGVbdHlwZW9mIHNpX2tleV0gfCBudWxsIHtcblx0XHRyZXR1cm4gdGhpcy5fd19jYWNoZVtzaV9rZXldID8/IG51bGw7XG5cdH1cblxuXHRhc3luYyBzZXQoc2lfa2V5OiBrZXlvZiBoX2NhY2hlLCB3X3ZhbHVlOiBoX2NhY2hlW3R5cGVvZiBzaV9rZXldKTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0Ly8gdXBkYXRlIGNhY2hlXG5cdFx0dGhpcy5fd19jYWNoZVtzaV9rZXldID0gd192YWx1ZTtcblxuXHRcdC8vIGF0dGVtcHQgdG8gc2F2ZVxuXHRcdGF3YWl0IHRoaXMuc2F2ZSgpO1xuXHR9XG59XG5cbmV4cG9ydCB0eXBlIFN0b3JlQ2xhc3NJbXBsPFxuXHRzaV9rZXkgZXh0ZW5kcyBTdG9yZUtleT1TdG9yZUtleSxcblx0d19jYWNoZSBleHRlbmRzIFN0b3JlW3NpX2tleV09U3RvcmVbc2lfa2V5XSxcbj4gPSBDbGFzczxbV3JpdGFibGVWYXVsdEVudHJ5PHNpX2tleT4sIHdfY2FjaGUsIENyeXB0b0tleV0sIFdyaXRhYmxlU3RvcmU8c2lfa2V5LCB3X2NhY2hlPj47XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXNlU3RvcmU8XG5cdGRjX3N0b3JlIGV4dGVuZHMgU3RvcmVDbGFzc0ltcGwsXG5cdHdfcmV0dXJuIGV4dGVuZHMgYW55PXZvaWQsXG4+IHtcblx0KGtzX3N0b3JlOiBJbnN0YW5jZVR5cGU8ZGNfc3RvcmU+KTogUHJvbWlzYWJsZTx3X3JldHVybj47XG59XG5cbnR5cGUgU3RvcmVFeHRlbnNpb25LZXkgPSAnYXJyYXknIHwgJ21hcCcgfCAnZGljdCc7XG5cbmV4cG9ydCB0eXBlIFN0YXRpY1N0b3JlPFxuXHRzaV9zdG9yZSBleHRlbmRzIFN0b3JlS2V5PVN0b3JlS2V5LFxuXHRkY19zdG9yZSBleHRlbmRzIFN0b3JlQ2xhc3NJbXBsPVN0b3JlQ2xhc3NJbXBsLFxuXHRzX2V4dGVuc2lvbiBleHRlbmRzIHVuZGVmaW5lZCB8IFN0b3JlRXh0ZW5zaW9uS2V5PXVuZGVmaW5lZCB8IFN0b3JlRXh0ZW5zaW9uS2V5LFxuPiA9IE1lcmdlPHtcblx0b3Blbjx3X3JldHVybiBleHRlbmRzIGFueT4oZmtfdXNlOiBVc2VTdG9yZTxkY19zdG9yZSwgd19yZXR1cm4+KTogUHJvbWlzZTx3X3JldHVybj47XG5cdHJlYWQoKTogUHJvbWlzZTxJbnN0YW5jZTxkY19zdG9yZT4+O1xufSwgQWNjZXNzPHtcblx0YXJyYXk6IHt9O1xuXHRtYXA6IHtcblx0XHRhdChzaV9rZXk6IFN0b3JlLktleTxzaV9zdG9yZT4pOiBQcm9taXNlPG51bGwgfCBTdG9yZVtzaV9zdG9yZV1bdHlwZW9mIHNpX2tleV0+O1xuXHR9O1xuXHRkaWN0OiB7XG5cdFx0Z2V0KHNpX2tleTogU3RvcmUuS2V5PHNpX3N0b3JlPik6IFByb21pc2U8bnVsbCB8IFN0b3JlW3NpX3N0b3JlXVt0eXBlb2Ygc2lfa2V5XT47XG5cblx0XHRzZXQoc2lfa2V5OiBTdG9yZS5LZXk8c2lfc3RvcmU+LCB3X3ZhbHVlOiBTdG9yZVtzaV9zdG9yZV1bdHlwZW9mIHNpX2tleV0pOiBQcm9taXNlPHZvaWQ+O1xuXHR9O1xufSwgc19leHRlbnNpb24+PjtcblxuXG5hc3luYyBmdW5jdGlvbiBmZXRjaF9jaXBoZXIoKSB7XG5cdC8vIGZldGNoIHRoZSByb290IGtleVxuXHRjb25zdCBka19yb290ID0gYXdhaXQgVmF1bHQuZ2V0Um9vdEtleSgpO1xuXG5cdC8vIG5vdCBhdXRoZW50aWNhdGVkOyB0aHJvd1xuXHRpZighZGtfcm9vdCkgdGhyb3cgbmV3IE5vdEF1dGhlbnRpY2F0ZWRFcnJvcigpO1xuXG5cdC8vIGRlcml2ZSB0aGUgY2lwaGVyIGtleVxuXHRyZXR1cm4gYXdhaXQgVmF1bHQuY2lwaGVyS2V5KGRrX3Jvb3QsIHRydWUpO1xufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVfc3RvcmVfY2xhc3M8XG5cdHNpX3N0b3JlIGV4dGVuZHMgU3RvcmVLZXksXG5cdGRjX3N0b3JlIGV4dGVuZHMgU3RvcmVDbGFzc0ltcGwsXG5cdHdfY2FjaGUgZXh0ZW5kcyBTdG9yZVtzaV9zdG9yZV0sXG5cdHNfZXh0ZW5kcyBleHRlbmRzIHVuZGVmaW5lZCB8IFN0b3JlRXh0ZW5zaW9uS2V5LFxuLy8gPihzaV9zdG9yZTogc2lfc3RvcmUsIGRjX3N0b3JlOiBkY19zdG9yZSk6IFN0YXRpY1N0b3JlPHNpX3N0b3JlLCBkY19zdG9yZT4gJiBkY19zdG9yZSB7XG4+KHtcblx0c3RvcmU6IHNpX3N0b3JlLFxuXHRjbGFzczogZGNfc3RvcmUsXG5cdGV4dGVuc2lvbjogc19leHRlbnNpb24sXG59OiB7XG5cdHN0b3JlOiBzaV9zdG9yZTtcblx0Y2xhc3M6IGRjX3N0b3JlO1xuXHRleHRlbnNpb24/OiBzX2V4dGVuZHM7XG59KTogU3RhdGljU3RvcmU8c2lfc3RvcmUsIGRjX3N0b3JlLCBzX2V4dGVuZHM+ICYgZGNfc3RvcmUge1xuXHRyZXR1cm4gT2JqZWN0LmFzc2lnbihkY19zdG9yZSwge1xuXHRcdGFzeW5jIG9wZW48d19yZXR1cm4gZXh0ZW5kcyBhbnk+KGZrX3VzZTogVXNlU3RvcmU8ZGNfc3RvcmUsIHdfcmV0dXJuPik6IFByb21pc2U8d19yZXR1cm4+IHtcblx0XHRcdC8vIGZldGNoIGNpcGhlciBrZXlcblx0XHRcdGNvbnN0IGRrX2NpcGhlciA9IGF3YWl0IGZldGNoX2NpcGhlcigpO1xuXG5cdFx0XHQvLyBjaGVja291dCB0aGUgc3RvcmUgZnJvbSB0aGUgdmF1bHRcblx0XHRcdGNvbnN0IGt2X3N0b3JlID0gYXdhaXQgVmF1bHQuYWNxdWlyZShzaV9zdG9yZSk7XG5cblx0XHRcdC8vIHJlYWQgdGhlIHN0b3JlIGFzIGpzb25cblx0XHRcdGxldCB3X3N0b3JlID0gYXdhaXQga3Zfc3RvcmUucmVhZEpzb24oZGtfY2lwaGVyKSBhcyB3X2NhY2hlO1xuXG5cdFx0XHQvLyBpZiB0aGlzIGNyZWF0ZXMgdGhlIHN0b3JlLCBzYXZlIGl0IGltbWVkaWF0ZWx5XG5cdFx0XHRsZXQgYl9zYXZlID0gZmFsc2U7XG5cblx0XHRcdC8vIG5vdCBleGlzdHM7IGluaXRpYWxpemVcblx0XHRcdGlmKCF3X3N0b3JlKSB7XG5cdFx0XHRcdHdfc3RvcmUgPSBIX1NUT1JFX0lOSVRTW3NpX3N0b3JlXSBhcyB3X2NhY2hlO1xuXHRcdFx0XHRiX3NhdmUgPSB0cnVlO1xuXHRcdFx0XHRpZignbWVkaWEnID09PSBzaV9zdG9yZSkgZGVidWdnZXI7XG5cdFx0XHR9XG5cblx0XHRcdC8vIGluc3RhbnRpYXRlIHRoZSBzdG9yZSBjbGFzc1xuXHRcdFx0Y29uc3Qga3Nfc3RvcmUgPSBuZXcgZGNfc3RvcmUoa3Zfc3RvcmUsIHdfc3RvcmUsIGRrX2NpcGhlcikgYXMgSW5zdGFuY2VUeXBlPGRjX3N0b3JlPjtcblxuXHRcdFx0Ly8gc2F2ZSB0aGUgbmV3bHkgY3JlYXRlZCBzdG9yZVxuXHRcdFx0aWYoYl9zYXZlKSBhd2FpdCBrc19zdG9yZS5zYXZlKHRydWUpO1xuXG5cdFx0XHQvLyB1c2UgdGhlIHN0b3JlXG5cdFx0XHRjb25zdCB3X3JldHVybiA9IGF3YWl0IGZrX3VzZShrc19zdG9yZSk7XG5cblx0XHRcdC8vIHJlbGVhc2UgdGhlIHN0b3JlXG5cdFx0XHRhd2FpdCBrc19zdG9yZS5yZWxlYXNlKCk7XG5cblx0XHRcdC8vIHJldHVyblxuXHRcdFx0cmV0dXJuIHdfcmV0dXJuO1xuXHRcdH0sXG5cblx0XHRyZWFkKCk6IFByb21pc2U8SW5zdGFuY2U8ZGNfc3RvcmU+PiB7XG5cdFx0XHRyZXR1cm4gZGNfc3RvcmVbJ29wZW4nXShrc19zdG9yZSA9PiBrc19zdG9yZSk7XG5cdFx0fSxcblxuXHRcdC8vIGFzeW5jIHJlYWRvbmx5KHRoaXM6IFN0YXRpY1N0b3JlKTogUHJvbWlzZTxJbnN0YW5jZTxkY19zdG9yZT4+IHtcblx0XHQvLyBcdC8vIGZldGNoIGNpcGhlciBrZXlcblx0XHQvLyBcdGNvbnN0IGRrX2NpcGhlciA9IGF3YWl0IGZldGNoX2NpcGhlcigpO1xuXG5cdFx0Ly8gXHQvLyBvYnRhaW4gdGhlIHN0b3JlIGZyb20gdGhlIHZhdWx0XG5cdFx0Ly8gXHRjb25zdCBrdl9zdG9yZSA9IGF3YWl0IFZhdWx0LnJlYWRvbmx5KHNpX3N0b3JlKTtcblxuXHRcdC8vIFx0Ly8gcmVhZCB0aGUgc3RvcmUgYXMganNvblxuXHRcdC8vIFx0Y29uc3Qgd19zdG9yZSA9IGF3YWl0IGt2X3N0b3JlLnJlYWRKc29uKGRrX2NpcGhlcikgYXMgd19jYWNoZTtcblxuXHRcdC8vIFx0Ly8gc3RvcmUgZG9lcyBub3QgZXhpc3Rcblx0XHQvLyBcdGlmKCF3X3N0b3JlKSB7XG5cdFx0Ly8gXHRcdC8vIGluaXRpYWxpemUgYW5kIHNhdmUgaXRcblx0XHQvLyBcdFx0YXdhaXQgdGhpcy5vcGVuKGtzX3N0b3JlID0+IGtzX3N0b3JlLnNhdmUoKSk7XG5cblx0XHQvLyBcdFx0Ly8gdHJ5IGFnYWluXG5cdFx0Ly8gXHRcdHJldHVybiB0aGlzLnJlYWQoKVxuXHRcdC8vIFx0fVxuXG5cdFx0Ly8gXHQvLyBpbnN0YW50aWF0ZSB0aGUgc3RvcmUgY2xhc3Ncblx0XHQvLyBcdHJldHVybiBuZXcgZGNfc3RvcmUoa3Zfc3RvcmUsIHdfc3RvcmUsIGRrX2NpcGhlcikgYXMgSW5zdGFuY2VUeXBlPGRjX3N0b3JlPjtcblx0XHQvLyB9LFxuXG5cdFx0Li4uKCdtYXAnID09PSBzX2V4dGVuc2lvbikgJiYge1xuXHRcdFx0YXN5bmMgYXQ8c2lfa2V5IGV4dGVuZHMgU3RvcmUuS2V5PHNpX3N0b3JlPj4oc2lfa2V5OiBzaV9rZXkpOiBQcm9taXNlPG51bGwgfCBTdG9yZVtzaV9zdG9yZV1bc2lfa2V5XT4ge1xuXHRcdFx0XHRyZXR1cm4gYXdhaXQgZGNfc3RvcmVbJ29wZW4nXShrc19zZWxmID0+IGtzX3NlbGYuYXQoc2lfa2V5KSk7XG5cdFx0XHR9LFxuXHRcdH0sXG5cblx0XHQuLi4oJ2RpY3QnID09PSBzX2V4dGVuc2lvbikgJiYge1xuXHRcdFx0YXN5bmMgZ2V0PHNpX2tleSBleHRlbmRzIFN0b3JlLktleTxzaV9zdG9yZT4+KHNpX2tleTogc2lfa2V5KTogUHJvbWlzZTxudWxsIHwgU3RvcmVbc2lfc3RvcmVdW3NpX2tleV0+IHtcblx0XHRcdFx0cmV0dXJuIGF3YWl0IGRjX3N0b3JlWydvcGVuJ10oa3Nfc2VsZiA9PiBrc19zZWxmLmdldChzaV9rZXkpKTtcblx0XHRcdH0sXG5cblx0XHRcdGFzeW5jIHNldChzaV9rZXk6IFN0b3JlLktleTxzaV9zdG9yZT4sIHdfdmFsdWU6IFN0b3JlW3NpX3N0b3JlXVt0eXBlb2Ygc2lfa2V5XSk6IFByb21pc2U8dm9pZD4ge1xuXHRcdFx0XHRyZXR1cm4gYXdhaXQgZGNfc3RvcmVbJ29wZW4nXShrc19zZWxmID0+IGtzX3NlbGYucHV0KHNpX2tleSwgd192YWx1ZSkpO1xuXHRcdFx0fSxcblx0XHR9LFxuXHR9KSBhcyBTdGF0aWNTdG9yZTxzaV9zdG9yZSwgZGNfc3RvcmUsIHNfZXh0ZW5kcz4gJiBkY19zdG9yZTtcbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gc3Vic2NyaWJlX3N0b3JlKHNpX2tleToga2V5b2YgU3RvcmUsIGZfY2FsbGJhY2s6IChiX2luaXQ6IGJvb2xlYW4pID0+IHZvaWQpOiBVbnN1YnNjcmliZXIge1xuXHRyZXR1cm4gZ2xvYmFsX3JlY2VpdmUoe1xuXHRcdHVwZGF0ZVN0b3JlKHtrZXk6c2lfc3RvcmUsIGluaXQ6Yl9pbml0fSkge1xuXHRcdFx0aWYoc2lfc3RvcmUgPT09IHNpX2tleSkge1xuXHRcdFx0XHRmX2NhbGxiYWNrKGJfaW5pdCk7XG5cdFx0XHR9XG5cdFx0fSxcblx0fSk7XG59XG4iLCJpbXBvcnQgdHlwZSB7IEJlY2gzMiwgQ2hhaW4sIENoYWluUGF0aCwgRmFtaWx5LCBGYW1pbHlLZXkgfSBmcm9tICcjL21ldGEvY2hhaW4nO1xuaW1wb3J0IHR5cGUgeyBSZXNvdXJjZSB9IGZyb20gJyMvbWV0YS9yZXNvdXJjZSc7XG5cbmltcG9ydCB7YmVjaDMyfSBmcm9tICdiZWNoMzInO1xuXG5pbXBvcnQge1xuXHRjcmVhdGVfc3RvcmVfY2xhc3MsXG5cdFdyaXRhYmxlU3RvcmVNYXAsXG59IGZyb20gJy4vX2Jhc2UnO1xuXG5pbXBvcnQgeyBSX0JFQ0gzMiwgU0lfU1RPUkVfQ0hBSU5TIH0gZnJvbSAnIy9zaGFyZS9jb25zdGFudHMnO1xuaW1wb3J0IHsgeXdfY2hhaW4gfSBmcm9tICcjL2FwcC9tZW0nO1xuaW1wb3J0IHsgb2RlIH0gZnJvbSAnIy91dGlsL2JlbHQnO1xuaW1wb3J0IHsgYmFzZTY0X3RvX2J1ZmZlciwgcmlwZW1kMTYwX3N5bmMsIHNoYTI1Nl9zeW5jIH0gZnJvbSAnIy91dGlsL2RhdGEnO1xuaW1wb3J0IHsgYmluVG9CYXNlNTgsIGJpblRvQmVjaDMyUGFkZGVkLCBlbmNvZGVCZWNoMzIsIGluc3RhbnRpYXRlUmlwZW1kMTYwLCBSaXBlbWQxNjAgfSBmcm9tICdAc29sYXItcmVwdWJsaWMvd2FzbS1zZWNwMjU2azEnO1xuXG4vLyB0eXBlIHNvID0ge1xuLy8gXHRwYXRoQXJnczogW0ZhbWlseUtleSwgc3RyaW5nXTtcbi8vIFx0cmVzb3VyY2U6IDxhX2FyZ3MgZXh0ZW5kcyBbRmFtaWx5S2V5LCBzdHJpbmddPigpID0+IENoYWluPGFfYXJnc1swXSwgYV9hcmdzWzFdPjtcbi8vIFx0dGVzdDogPHNfdGVzdCBleHRlbmRzIHN0cmluZz4oczogc190ZXN0KSA9PiBzX3Rlc3Q7XG4vLyB9O1xuXG4vLyB0eXBlIFQxID0gPHNfc3RyIGV4dGVuZHMgc3RyaW5nPihzOiBzX3N0cikgPT4gc19zdHI7XG4vLyB0eXBlIFQyID0gPHNfc3RyIGV4dGVuZHMgbnVtYmVyPihzOiBzX3N0cikgPT4gc19zdHI7XG5cbi8vIHR5cGUgaG9tYSA9IHNvWyd0ZXN0J10gZXh0ZW5kcyBUMj8gJ3knOiAnbic7XG5cbi8vIHR5cGUgdGVzdCA9IHNvWyd0ZXN0J107XG4vLyB0eXBlIHd0ZiA9IHRlc3Q8J2VuZCc+O1xuLy8gY29uc3QgZmZmOiB0ZXN0ID0gPFMgZXh0ZW5kcyBudW1iZXI+KHM6IFMpID0+IHM7XG5cbmNsYXNzIENoYWluTGluayB7XG5cdGNvbnN0cnVjdG9yKHByb3RlY3RlZCBfZ19yZXM6IENoYWluWydpbnRlcmZhY2UnXSkge1xuXG5cdH1cblxuXHRnZXQgZGF0YSgpIHtcblx0XHRyZXR1cm4gdGhpcy5fZ19yZXM7XG5cdH1cblx0XG5cdFxufVxuXG50eXBlIFBhdGhGb3I8XG5cdHNpX2ZhbWlseSBleHRlbmRzIEZhbWlseUtleSxcblx0c2lfY2hhaW4gZXh0ZW5kcyBzdHJpbmcsXG4+ID0gYC9mYW1pbHkuJHtzaV9mYW1pbHl9L2NoYWluLiR7c2lfY2hhaW59YDtcblxudHlwZSBQYXRoRnJvbTxcblx0Z19jaGFpbiBleHRlbmRzIENoYWluWydpbnRlcmZhY2UnXSxcbj4gPSBQYXRoRm9yPGdfY2hhaW5bJ2ZhbWlseSddLCBnX2NoYWluWydpZCddPjtcblxubGV0IHlfcmlwZW1kOiBSaXBlbWQxNjA7XG4oYXN5bmMoKSA9PiB7XG5cdHlfcmlwZW1kID0gYXdhaXQgaW5zdGFudGlhdGVSaXBlbWQxNjAoKTtcbn0pKCk7XG5cbmV4cG9ydCBjb25zdCBDaGFpbnMgPSBjcmVhdGVfc3RvcmVfY2xhc3Moe1xuXHRzdG9yZTogU0lfU1RPUkVfQ0hBSU5TLFxuXHRjbGFzczogY2xhc3MgQ2hhaW5zSSBleHRlbmRzIFdyaXRhYmxlU3RvcmVNYXA8dHlwZW9mIFNJX1NUT1JFX0NIQUlOUz4ge1xuXHRcdHN0YXRpYyBwYXRoRm9yKHNpX2ZhbWlseTogRmFtaWx5S2V5LCBzaV9jaGFpbjogc3RyaW5nKTogUGF0aEZvcjx0eXBlb2Ygc2lfZmFtaWx5LCB0eXBlb2Ygc2lfY2hhaW4+IHtcblx0XHRcdHJldHVybiBgL2ZhbWlseS4ke3NpX2ZhbWlseX0vY2hhaW4uJHtzaV9jaGFpbn1gO1xuXHRcdH1cblxuXHRcdHN0YXRpYyBwYXRoRnJvbShnX2NoYWluOiBDaGFpblsnaW50ZXJmYWNlJ10pOiBQYXRoRnJvbTx0eXBlb2YgZ19jaGFpbj4ge1xuXHRcdFx0cmV0dXJuIENoYWluc0kucGF0aEZvcihnX2NoYWluLmZhbWlseSwgZ19jaGFpbi5pZCk7XG5cdFx0fVxuXG5cdFx0c3RhdGljIGFkZHJlc3NGb3Ioc19wdWJrZXk6IHN0cmluZywgZ19jaGFpbjogQ2hhaW5bJ2ludGVyZmFjZSddPXl3X2NoYWluLmdldCgpLCBnX2JlY2gzMjogQmVjaDMyPWdfY2hhaW4uYmVjaDMycy5hY2MpOiBzdHJpbmcge1xuXHRcdFx0Ly8gcGVyZm9ybSBzaGEtMjU2IGhhc2hpbmcgb24gdGhlIHB1YmxpYyBrZXlcblx0XHRcdGNvbnN0IGF0dThfc2hhMjU2ID0gc2hhMjU2X3N5bmMoYmFzZTY0X3RvX2J1ZmZlcihzX3B1YmtleSkpO1xuXG5cdFx0XHQvLyBwZXJmb3JtIHJpcGVtZC0xNjAgaGFzaGluZyBvbiB0aGUgcmVzdWx0XG5cdFx0XHRjb25zdCBhdHU4X3JpcGVtZDE2MCA9IHJpcGVtZDE2MF9zeW5jKGF0dThfc2hhMjU2KTtcblxuXHRcdFx0Ly8gY29uc3Qgc19hZGRyID0gYmluVG9CZWNoMzJQYWRkZWQoYXR1OF9yaXBlbWQxNjApO1xuXG5cdFx0XHQvLyByZXR1cm4gYCR7Z19iZWNoMzIuaHJwfSR7Z19iZWNoMzIuc2VwYXJhdG9yfSR7c19hZGRyfSR7c19jaGVja3N1bX1gO1xuXG5cdFx0XHQvLyBjb252ZXJ0IHRvIGJlY2gzMiBzdHJpbmdcblx0XHRcdHJldHVybiBiZWNoMzIuZW5jb2RlKGdfYmVjaDMyLmhycCwgYmVjaDMyLnRvV29yZHMoYXR1OF9yaXBlbWQxNjApKTtcblx0XHR9XG5cblx0XHRzdGF0aWMgYmVjaDMyKHNfYWRkcjogc3RyaW5nLCBnX2NoYWluOiBDaGFpblsnaW50ZXJmYWNlJ109eXdfY2hhaW4uZ2V0KCksIGdfYmVjaDMyOiBCZWNoMzI9Z19jaGFpbi5iZWNoMzJzLmFjYyk6IHN0cmluZyB7XG5cdFx0XHRyZXR1cm4gYCR7Z19iZWNoMzIuaHJwfSR7Z19iZWNoMzIuc2VwYXJhdG9yfSR7c19hZGRyfWA7XG5cdFx0fVxuXG5cdFx0c3RhdGljIGdldChzaV9mYW1pbHk6IEZhbWlseUtleSwgc2lfY2hhaW46IHN0cmluZyk6IFByb21pc2U8bnVsbCB8IENoYWluWydpbnRlcmZhY2UnXT4ge1xuXHRcdFx0cmV0dXJuIENoYWlucy5yZWFkKCkudGhlbihrcyA9PiBrcy5nZXQoc2lfZmFtaWx5LCBzaV9jaGFpbikpO1xuXHRcdH1cblxuXHRcdHN0YXRpYyBhdChwX2NoYWluOiBDaGFpblBhdGgpOiBQcm9taXNlPG51bGwgfCBDaGFpblsnaW50ZXJmYWNlJ10+IHtcblx0XHRcdHJldHVybiBDaGFpbnMucmVhZCgpLnRoZW4oa3MgPT4ga3MuYXQocF9jaGFpbikpO1xuXHRcdH1cblxuXHRcdHN0YXRpYyBpc1ZhbGlkQWRkcmVzc0ZvcihnX2NoYWluOiBDaGFpblsnaW50ZXJmYWNlJ10sIHNfYWRkcmVzczogQ2hhaW4uQmVjaDMyU3RyaW5nPHR5cGVvZiBnX2NoYWluWydiZWNoMzJzJ10+LCBzaV9wdXJwb3NlOiBrZXlvZiBGYW1pbHkuQmVjaDMyczx0eXBlb2YgZ19jaGFpblsnZmFtaWx5J10+PSdhY2MnKSB7XG5cdFx0XHRpZihnX2NoYWluLmJlY2gzMnMpIHtcblx0XHRcdFx0Y29uc3QgbV9iZWNoMzIgPSBSX0JFQ0gzMi5leGVjKHNfYWRkcmVzcyk7XG5cdFx0XHRcdHJldHVybiBtX2JlY2gzMlxuXHRcdFx0XHRcdCYmIG1fYmVjaDMyWzFdID09PSBnX2NoYWluLmJlY2gzMnNbc2lfcHVycG9zZV0uaHJwXG5cdFx0XHRcdFx0JiYgbV9iZWNoMzJbMl0gPT09IGdfY2hhaW4uYmVjaDMyc1tzaV9wdXJwb3NlXS5zZXBhcmF0b3I7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0Ly8gVE9ETzogbm9uLWJlY2gzMiBjaGFpbnNcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdCogaW5GYW1pbHkoc2lfZmFtaWx5OiBGYW1pbHlLZXkpOiBJdGVyYWJsZUl0ZXJhdG9yPFtDaGFpblBhdGgsIENoYWluWydpbnRlcmZhY2UnXV0+IHtcblx0XHRcdC8vIGNyZWF0ZSBwcmVmaXhcblx0XHRcdGNvbnN0IHBfcHJlZml4ID0gQ2hhaW5zSS5wYXRoRm9yKHNpX2ZhbWlseSwgJycpO1xuXG5cdFx0XHQvLyBmaWx0ZXIgZW50cmllZXNcblx0XHRcdGZvcihjb25zdCBbcF9jaGFpbiwgZ19jaGFpbl0gb2Ygb2RlKHRoaXMuX3dfY2FjaGUpKSB7XG5cdFx0XHRcdGlmKHBfY2hhaW4uc3RhcnRzV2l0aChwX3ByZWZpeCkpIHtcblx0XHRcdFx0XHR5aWVsZCBbcF9jaGFpbiwgZ19jaGFpbl07XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRnZXQoc2lfZmFtaWx5OiBGYW1pbHlLZXksIHNpX2NoYWluOiBzdHJpbmcpOiBDaGFpblsnaW50ZXJmYWNlJ10gfCBudWxsIHtcblx0XHRcdC8vIHByZXBhcmUgcGF0aFxuXHRcdFx0Y29uc3QgcF9yZXMgPSBDaGFpbnNJLnBhdGhGb3Ioc2lfZmFtaWx5LCBzaV9jaGFpbik7XG5cblx0XHRcdC8vIGZldGNoXG5cdFx0XHRyZXR1cm4gdGhpcy5fd19jYWNoZVtwX3Jlc10gPz8gbnVsbDtcblx0XHR9XG5cblx0XHRhc3luYyBwdXQoZ19yZXM6IENoYWluWydpbnRlcmZhY2UnXSk6IFByb21pc2U8UGF0aEZyb208dHlwZW9mIGdfcmVzPj4ge1xuXHRcdFx0Ly8gcHJlcGFyZSBhcHAgcGF0aFxuXHRcdFx0Y29uc3QgcF9yZXMgPSBDaGFpbnNJLnBhdGhGcm9tKGdfcmVzKTtcblxuXHRcdFx0Ly8gdXBkYXRlIGNhY2hlXG5cdFx0XHR0aGlzLl93X2NhY2hlW3BfcmVzXSA9IGdfcmVzO1xuXG5cdFx0XHQvLyBhdHRlbXB0IHRvIHNhdmVcblx0XHRcdGF3YWl0IHRoaXMuc2F2ZSgpO1xuXG5cdFx0XHQvLyByZXR1cm4gcGF0aFxuXHRcdFx0cmV0dXJuIHBfcmVzO1xuXHRcdH1cblx0fSxcbn0pO1xuIiwiaW1wb3J0IHR5cGUgeyBUb2tlblNwZWNLZXkgfSBmcm9tICcjL21ldGEvdG9rZW4nO1xuXG50eXBlIFRva2VuRW50cnkgPSB7XG5cdGV4dGVuZHM/OiBUb2tlblNwZWNLZXk7XG5cdGF0dHJpYnV0ZXM6IHtcblx0XHRmdW5naWJsZTogYm9vbGVhbjtcblx0fTtcbn07XG5cbmV4cG9ydCBjb25zdCBUb2tlblJlZ2lzdHJ5OiBSZWNvcmQ8VG9rZW5TcGVjS2V5LCBUb2tlbkVudHJ5PiA9IHtcblx0J2N3LTIwJzoge1xuXHRcdGF0dHJpYnV0ZXM6IHtcblx0XHRcdGZ1bmdpYmxlOiBmYWxzZSxcblx0XHR9LFxuXHR9LFxuXG5cdCdzbmlwLTIwJzoge1xuXHRcdGF0dHJpYnV0ZXM6IHtcblx0XHRcdGZ1bmdpYmxlOiB0cnVlLFxuXHRcdH0sXG5cdH0sXG5cblx0J3NuaXAtMjEnOiB7XG5cdFx0ZXh0ZW5kczogJ3NuaXAtMjAnLFxuXHRcdGF0dHJpYnV0ZXM6IHtcblx0XHRcdGZ1bmdpYmxlOiB0cnVlLFxuXHRcdH0sXG5cdH0sXG5cblx0J3NuaXAtNzIxJzoge1xuXHRcdGF0dHJpYnV0ZXM6IHtcblx0XHRcdGZ1bmdpYmxlOiBmYWxzZSxcblx0XHR9LFxuXHR9LFxuXG5cdCdzbmlwLTcyMic6IHtcblx0XHRleHRlbmRzOiAnc25pcC03MjEnLFxuXHRcdGF0dHJpYnV0ZXM6IHtcblx0XHRcdGZ1bmdpYmxlOiBmYWxzZSxcblx0XHR9LFxuXHR9LFxufTtcbiIsImltcG9ydCB0eXBlIHsgUmVzb3VyY2UgfSBmcm9tICcjL21ldGEvcmVzb3VyY2UnO1xuXG5pbXBvcnQge1xuXHRjcmVhdGVfc3RvcmVfY2xhc3MsXG5cdFdyaXRhYmxlU3RvcmVEaWN0LFxufSBmcm9tICcuL19iYXNlJztcblxuaW1wb3J0IHsgU0lfU1RPUkVfRU5USVRJRVMgfSBmcm9tICcjL3NoYXJlL2NvbnN0YW50cyc7XG5cbmltcG9ydCB0eXBlIHsgU3RvcmUgfSBmcm9tICcjL21ldGEvc3RvcmUnO1xuaW1wb3J0IHR5cGUgeyBUb2tlbiwgVG9rZW5QYXRoLCBUb2tlblNwZWNLZXkgfSBmcm9tICcjL21ldGEvdG9rZW4nO1xuaW1wb3J0IHR5cGUgeyBCZWNoMzIsIENoYWluLCBDaGFpblBhdGgsIEVudGl0eSwgRW50aXR5UGF0aCwgSG9sZGluZ1BhdGggfSBmcm9tICcjL21ldGEvY2hhaW4nO1xuaW1wb3J0IHsgQ2hhaW5zIH0gZnJvbSAnLi9jaGFpbnMnO1xuaW1wb3J0IHR5cGUgeyBWYWx1ZXMgfSBmcm9tICcjL21ldGEvYmVsdCc7XG5pbXBvcnQgeyBmb2xkIH0gZnJvbSAnIy91dGlsL2JlbHQnO1xuaW1wb3J0IHR5cGUgeyBVbmlvbiB9IGZyb20gJ3RzLXRvb2xiZWx0JztcbmltcG9ydCB7IFRva2VuUmVnaXN0cnkgfSBmcm9tICcjL3NjaGVtYS90b2tlbi1yZWdpc3RyeSc7XG5pbXBvcnQgdHlwZSB7IE1lcmdlIH0gZnJvbSAndHMtdG9vbGJlbHQvb3V0L09iamVjdC9NZXJnZSc7XG5pbXBvcnQgeyB5d19jaGFpbiwgeXdfY2hhaW5fcmVmIH0gZnJvbSAnIy9hcHAvbWVtJztcblxudHlwZSBFbnRpdHlUcmVlID0gTm9uTnVsbGFibGU8VmFsdWVzPFN0b3JlWydlbnRpdGllcyddPj47XG5cbnR5cGUgQ29udHJhY3RTdWJ0cmVlID0gTm9uTnVsbGFibGU8VW5pb24uTWVyZ2U8Tm9uTnVsbGFibGU8RW50aXR5VHJlZT4+Wydhcy5jb250cmFjdCddPjtcblxudHlwZSBUb2tlbkludGVyZmFjZU1hcCA9IFJlY29yZDxUb2tlblNwZWNLZXksIHt9PjtcblxuZXhwb3J0IHR5cGUgVG9rZW5EaWN0ID0gUmVjb3JkPFRva2VuUGF0aCwgVG9rZW5bJ2ludGVyZmFjZSddPjtcblxuXG5leHBvcnQgdHlwZSBFbnRpdHlJbmZvID0gTWVyZ2U8e1xuXHRjaGFpblJlZjogQ2hhaW5QYXRoO1xuXHRlbnRpdHlSZWY6IEVudGl0eVBhdGg7XG5cdGJlY2gzMjogQmVjaDMyLlN0cmluZztcbn0sIHtcblx0dHlwZTogJ2NvbnRyYWN0JyB8ICd0b2tlbic7XG59IHwge1xuXHR0eXBlOiAnaG9sZGluZyc7XG5cdGNvaW46IHN0cmluZztcbn0+O1xuXG5leHBvcnQgY29uc3QgRW50aXRpZXMgPSBjcmVhdGVfc3RvcmVfY2xhc3Moe1xuXHRzdG9yZTogU0lfU1RPUkVfRU5USVRJRVMsXG5cdGNsYXNzOiBjbGFzcyBFbnRpdGllc0kgZXh0ZW5kcyBXcml0YWJsZVN0b3JlRGljdDx0eXBlb2YgU0lfU1RPUkVfRU5USVRJRVM+IHtcblx0XHRzdGF0aWMgcGF0aEZyb20oZ19lbnRpdHk6IEVudGl0eVsnaW50ZXJmYWNlJ10sIGdfY2hhaW49eXdfY2hhaW4uZ2V0KCkpIHtcblx0XHRcdHJldHVybiBgJHtDaGFpbnMucGF0aEZyb20oZ19jaGFpbil9L2JlY2gzMi4ke2dfZW50aXR5LmJlY2gzMn1gO1xuXHRcdH1cblxuXHRcdHN0YXRpYyBwYXJzZUVudGl0eVBhdGgocF9lbnRpdHk6IEVudGl0eVBhdGgpOiBFbnRpdHlJbmZvIHwgbnVsbCB7XG5cdFx0XHRjb25zdCBhX3BhdGhzID0gcF9lbnRpdHkuc2xpY2UoMSkuc3BsaXQoJy8nKTtcblxuXHRcdFx0Ly8gaW5zdWZmaWNpZW50IHBhdGhcblx0XHRcdGlmKGFfcGF0aHMubGVuZ3RoIDwgMykgcmV0dXJuIG51bGw7XG5cblx0XHRcdC8vIG5vdCBhbiBlbnRpdHkgcGF0aFxuXHRcdFx0aWYoIWFfcGF0aHNbMF0uc3RhcnRzV2l0aCgnZmFtaWx5LicpIHx8ICFhX3BhdGhzWzFdLnN0YXJ0c1dpdGgoJ2NoYWluLicpIHx8ICFhX3BhdGhzWzJdLnN0YXJ0c1dpdGgoJ2JlY2gzMi4nKSkge1xuXHRcdFx0XHRyZXR1cm4gbnVsbDtcblx0XHRcdH1cblxuXHRcdFx0bGV0IHNpX3R5cGU6IEVudGl0eUluZm9bJ3R5cGUnXTtcblx0XHRcdGxldCBzaV9jb2luID0gJyc7XG5cblx0XHRcdGlmKCdhcy5jb250cmFjdCcgPT09IGFfcGF0aHNbM10pIHtcblx0XHRcdFx0c2lfdHlwZSA9ICdjb250cmFjdCc7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIGlmKCdhcy50b2tlbicgPT09IGFfcGF0aHNbM10pIHtcblx0XHRcdFx0c2lfdHlwZSA9ICd0b2tlbic7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIGlmKGFfcGF0aHNbM10uc3RhcnRzV2l0aCgnaG9sZGluZy4nKSkge1xuXHRcdFx0XHRzaV90eXBlID0gJ2hvbGRpbmcnO1xuXHRcdFx0XHRzaV9jb2luID0gYV9wYXRoc1szXS5zbGljZShhX3BhdGhzWzNdLmluZGV4T2YoJy4nKSsxKTtcblx0XHRcdH1cblx0XHRcdGVsc2Uge1xuXHRcdFx0XHRyZXR1cm4gbnVsbDtcblx0XHRcdH1cblxuXHRcdFx0Ly8gcGFyc2UgY2hhaW4gc2VnbWVudHNcblx0XHRcdGNvbnN0IHBfY2hhaW4gPSAnLycrYV9wYXRocy5zbGljZSgwLCAyKS5qb2luKCcvJykgYXMgQ2hhaW5QYXRoO1xuXG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRjaGFpblJlZjogcF9jaGFpbixcblxuXHRcdFx0XHRlbnRpdHlSZWY6IGAke3BfY2hhaW59LyR7YV9wYXRoc1szXX1gLFxuXG5cdFx0XHRcdC8vIHBhcnNlIGFkZHJlc3Ncblx0XHRcdFx0YmVjaDMyOiBhX3BhdGhzWzJdLnNsaWNlKGFfcGF0aHNbMl0uaW5kZXhPZignLicpKzEpLFxuXG5cdFx0XHRcdHR5cGU6IHNpX3R5cGUsXG5cblx0XHRcdFx0Li4uc2lfY29pbiAmJiB7XG5cdFx0XHRcdFx0Y29pbjogc2lfY29pbixcblx0XHRcdFx0fSxcblx0XHRcdH0gYXMgRW50aXR5SW5mbztcblx0XHR9XG5cblx0XHRzdGF0aWMgaG9sZGluZ1BhdGhGb3Ioc2Ffb3duZXI6IEJlY2gzMi5TdHJpbmcsIHNpX2NvaW46IHN0cmluZywgcF9jaGFpbj15d19jaGFpbl9yZWYuZ2V0KCkpOiBIb2xkaW5nUGF0aCB7XG5cdFx0XHRyZXR1cm4gYCR7cF9jaGFpbn0vYmVjaDMyLiR7c2Ffb3duZXJ9L2hvbGRpbmcuJHtzaV9jb2lufWBcblx0XHR9XG5cblx0XHRzdGF0aWMgYXN5bmMgcmVhZFRva2VucyhnX2NoYWluOiBDaGFpblsnaW50ZXJmYWNlJ10sIGhfaW50ZXJmYWNlczogVG9rZW5JbnRlcmZhY2VNYXB8bnVsbD1udWxsKSB7XG5cdFx0XHQvLyByZWFkIHN0b3JlXG5cdFx0XHRjb25zdCBrc19yZXMgPSBhd2FpdCBFbnRpdGllcy5yZWFkKCk7XG5cblx0XHRcdC8vIFxuXHRcdFx0cmV0dXJuIGtzX3Jlcy50b2tlbnMoQ2hhaW5zLnBhdGhGcm9tKGdfY2hhaW4pLCBoX2ludGVyZmFjZXMpO1xuXHRcdH1cblxuXHRcdHN0YXRpYyBhc3luYyByZWFkRnVuZ2libGVUb2tlbnMoZ19jaGFpbjogQ2hhaW5bJ2ludGVyZmFjZSddKSB7XG5cdFx0XHQvLyByZWFkIHN0b3JlXG5cdFx0XHRjb25zdCBrc19yZXMgPSBhd2FpdCBFbnRpdGllcy5yZWFkKCk7XG5cblx0XHRcdC8vIGFsbCBmdW5naWJsZSB0b2tlbnMgZnJvbSBjaGFpblxuXHRcdFx0Y29uc3QgaF9pbnRlcmZhY2VzID0gZm9sZChcblx0XHRcdFx0Z19jaGFpbi50b2tlbkludGVyZmFjZXMsXG5cdFx0XHRcdHNpX2tleSA9PiBUb2tlblJlZ2lzdHJ5W3NpX2tleV0uYXR0cmlidXRlcy5mdW5naWJsZT8ge1tzaV9rZXldOnt9fToge31cblx0XHRcdCkgYXMgVG9rZW5JbnRlcmZhY2VNYXA7XG5cblx0XHRcdC8vIGFwcGx5IGZpbHRlclxuXHRcdFx0cmV0dXJuIGtzX3Jlcy50b2tlbnMoQ2hhaW5zLnBhdGhGcm9tKGdfY2hhaW4pLCBoX2ludGVyZmFjZXMpO1xuXHRcdH1cblxuXHRcdHN0YXRpYyBmdW5naWJsZUludGVyZmFjZXNGb3IoZ19jaGFpbjogQ2hhaW5bJ2ludGVyZmFjZSddKSB7XG5cdFx0XHQvLyBhbGwgZnVuZ2libGUgdG9rZW5zIGZyb20gY2hhaW5cblx0XHRcdHJldHVybiBmb2xkKFxuXHRcdFx0XHRnX2NoYWluLnRva2VuSW50ZXJmYWNlcyxcblx0XHRcdFx0c2lfa2V5ID0+IFRva2VuUmVnaXN0cnlbc2lfa2V5XS5hdHRyaWJ1dGVzLmZ1bmdpYmxlPyB7W3NpX2tleV06e319OiB7fVxuXHRcdFx0KSBhcyBUb2tlbkludGVyZmFjZU1hcDtcblx0XHR9XG5cblx0XHRzdGF0aWMgYXN5bmMgaW5mb0ZvclRva2VuKGdfdG9rZW46IFRva2VuWydpbnRlcmZhY2UnXSk6IFRva2VuQmFzaWNJbmZvIHtcblxuXHRcdH1cblxuXHRcdC8vIHN0YXRpYyBwYXRoRm9yPFxuXHRcdC8vIFx0c19ob3N0IGV4dGVuZHMgc3RyaW5nLFxuXHRcdC8vIFx0c19zY2hlbWUgZXh0ZW5kcyBUYWdTY2hlbWVLZXksXG5cdFx0Ly8gXHRnX3JlcyBleHRlbmRzIFRhZzxSZXBsYWNlPHNfaG9zdCwgJzonLCAnKyc+LCBzX3NjaGVtZT4sXG5cdFx0Ly8gPihzX2hvc3Q6IHNfaG9zdCwgc19zY2hlbWU6IHNfc2NoZW1lKTogUmVzb3VyY2UuUGF0aDxnX3Jlcz4ge1xuXHRcdC8vIFx0cmV0dXJuIGAvc2NoZW1lLiR7c19zY2hlbWV9L2hvc3QuJHtzX2hvc3QucmVwbGFjZSgvOi9nLCAnKycpfWAgYXMgUmVzb3VyY2UuUGF0aDxnX3Jlcz47XG5cdFx0Ly8gfVxuXG5cdFx0Ly8gc3RhdGljIHBhdGhGcm9tPFxuXHRcdC8vIFx0Z19yZXMgZXh0ZW5kcyBUYWcsXG5cdFx0Ly8gPihnX3JlczogVGFnWydpbnRlcmZhY2UnXSk6IFJlc291cmNlLlBhdGg8Z19yZXM+IHtcblx0XHQvLyBcdHJldHVybiBFbnRpdGllc0kucGF0aEZvcihnX3Jlcy5ob3N0LCBnX3Jlcy5zY2hlbWUpO1xuXHRcdC8vIH1cblxuXHRcdC8vIHN0YXRpYyBnZXQoc19ob3N0OiBzdHJpbmcsIHNfc2NoZW1lOiBUYWdTY2hlbWVLZXkpOiBQcm9taXNlPG51bGwgfCBUYWdbJ2ludGVyZmFjZSddPiB7XG5cdFx0Ly8gXHRyZXR1cm4gRW50aXRpZXMub3Blbihrc19yZXNzID0+IGtzX3Jlc3MuZ2V0KHNfaG9zdCwgc19zY2hlbWUpKTtcblx0XHQvLyB9XG5cblx0XHQvLyBnZXQoc19ob3N0OiBzdHJpbmcsIHNfc2NoZW1lOiBUYWdTY2hlbWVLZXkpOiBUYWdbJ2ludGVyZmFjZSddIHwgbnVsbCB7XG5cdFx0Ly8gXHQvLyBwcmVwYXJlIHJlcyBwYXRoXG5cdFx0Ly8gXHRjb25zdCBwX3JlcyA9IEVudGl0aWVzSS5wYXRoRm9yKHNfaG9zdCwgc19zY2hlbWUpO1xuXG5cdFx0Ly8gXHQvLyBmZXRjaFxuXHRcdC8vIFx0cmV0dXJuIHRoaXMuX3dfY2FjaGVbcF9yZXNdID8/IG51bGw7XG5cdFx0Ly8gfVxuXG5cblx0XHQvLyBhc3luYyBwdXQoZ19yZXM6IFRhZ1snaW50ZXJmYWNlJ10pOiBQcm9taXNlPHZvaWQ+IHtcblx0XHQvLyBcdC8vIHByZXBhcmUgcmVzIHBhdGhcblx0XHQvLyBcdGNvbnN0IHBfcmVzID0gRW50aXRpZXNJLnBhdGhGb3IoZ19yZXMuaG9zdCwgZ19yZXMuc2NoZW1lKTtcblxuXHRcdC8vIFx0Ly8gdXBkYXRlIGNhY2hlXG5cdFx0Ly8gXHR0aGlzLl93X2NhY2hlW3BfcmVzXSA9IGdfcmVzO1xuXG5cdFx0Ly8gXHQvLyBhdHRlbXB0IHRvIHNhdmVcblx0XHQvLyBcdGF3YWl0IHRoaXMuc2F2ZSgpO1xuXHRcdC8vIH1cblxuXHRcdGZpbHRlcmVkTWFwPFxuXHRcdFx0d19vdXQgZXh0ZW5kcyBhbnksXG5cdFx0XHRnX3N1YnR5cGUgZXh0ZW5kcyBFbnRpdHk9RW50aXR5LFxuXHRcdD4oXG5cdFx0XHRmX21hcDogKHBfZW50aXR5OiBFbnRpdHlQYXRoLCBnX2VudGl0eTogRW50aXR5VHJlZSkgPT4gd19vdXRcblx0XHQpOiBSZWNvcmQ8UmVzb3VyY2UuUGF0aDxnX3N1YnR5cGU+LCB3X291dD4ge1xuXHRcdFx0Ly8gcmVmIGNhY2hlXG5cdFx0XHRjb25zdCBoX2NhY2hlID0gdGhpcy5fd19jYWNoZTtcblxuXHRcdFx0Ly8gcHJlcCBvdXRcblx0XHRcdGNvbnN0IGhfb3V0ID0ge30gYXMgUmVjb3JkPFJlc291cmNlLlBhdGg8Z19zdWJ0eXBlPiwgd19vdXQ+O1xuXG5cdFx0XHQvLyBlYWNoIGVudGl0aXlcblx0XHRcdGZvcihjb25zdCBwX3JlcyBpbiBoX2NhY2hlKSB7XG5cdFx0XHRcdGNvbnN0IHdfb3V0ID0gZl9tYXAocF9yZXMgYXMgRW50aXR5UGF0aCwgaF9jYWNoZVtwX3Jlc10gYXMgRW50aXR5VHJlZSk7XG5cdFx0XHRcdGlmKHdfb3V0KSB7XG5cdFx0XHRcdFx0aF9vdXRbcF9yZXNdID0gd19vdXQ7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGhfb3V0O1xuXHRcdH1cblxuXG5cdFx0ZXZlcnkoZl9ldmVyeTogKHBfZW50aXR5OiBFbnRpdHlQYXRoLCBnX2VudGl0eTogRW50aXR5VHJlZSkgPT4gYm9vbGVhbik6IGJvb2xlYW4ge1xuXHRcdFx0Ly8gcmVmIGNhY2hlXG5cdFx0XHRjb25zdCBoX2NhY2hlID0gdGhpcy5fd19jYWNoZTtcblxuXHRcdFx0Ly8gZWFjaCBlbnRpdGl5XG5cdFx0XHRmb3IoY29uc3QgcF9yZXMgaW4gaF9jYWNoZSkge1xuXHRcdFx0XHQvLyBmYWlsZWQgdGVzdDsgYnJlYWtcblx0XHRcdFx0aWYoIWZfZXZlcnkocF9yZXMgYXMgRW50aXR5UGF0aCwgaF9jYWNoZVtwX3Jlc10gYXMgRW50aXR5VHJlZSkpIHtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gYWxsIHBhc3NlZFxuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXG5cdFx0dG9rZW5zKHBfcHJlZml4OiBDaGFpblBhdGgsIGhfaW50ZXJmYWNlczogVG9rZW5JbnRlcmZhY2VNYXB8bnVsbD1udWxsKTogUmVjb3JkPFRva2VuU3BlY0tleSwgVG9rZW5EaWN0PiB7XG5cdFx0XHQvLyBvdXRwdXRcblx0XHRcdGNvbnN0IGhfb3V0cyA9IHt9IGFzIFJlY29yZDxUb2tlblNwZWNLZXksIFRva2VuRGljdD47XG5cblx0XHRcdC8vIG5vIGludGVyZmFjZXMgc3BlY2lmaWVkXG5cdFx0XHR0aGlzLmV2ZXJ5KChwX3JlcywgZ19lbnRpdHkpID0+IHtcblx0XHRcdFx0Ly8gcHJlcCBjb250cmFjdCByZWZcblx0XHRcdFx0bGV0IGdfY29udHJhY3Q6IFZhbHVlczxDb250cmFjdFN1YnRyZWU+O1xuXG5cdFx0XHRcdC8vIGJlbG9uZ3MgdG8gdGFyZ2V0IGNoYWluIGFuZCBpcyBhIGNvbnRyYWN0XG5cdFx0XHRcdGlmKHBfcmVzLnN0YXJ0c1dpdGgocF9wcmVmaXgpICYmIChnX2NvbnRyYWN0PWdfZW50aXR5Wydhcy5jb250cmFjdCddKSkge1xuXHRcdFx0XHRcdC8vIGVhY2ggaW50ZXJmYWNlIGluIGNvbnRyYWN0XG5cdFx0XHRcdFx0Zm9yKGNvbnN0IHNpX2ludGVyZmFjZSBpbiBnX2NvbnRyYWN0KSB7XG5cdFx0XHRcdFx0XHQvLyBub3QgdG9rZW4gaW50ZXJmYWNlOyBza2lwXG5cdFx0XHRcdFx0XHRpZighc2lfaW50ZXJmYWNlLnN0YXJ0c1dpdGgoJ3Rva2VuLicpKSBjb250aW51ZTtcblxuXHRcdFx0XHRcdFx0Ly8gdG9rZW4gaW50ZXJmYWNlIGlkXG5cdFx0XHRcdFx0XHRjb25zdCBzaV9pbnRlcmZhY2VfdG9rZW4gPSBzaV9pbnRlcmZhY2Uuc2xpY2UoJ3Rva2VuLicubGVuZ3RoKTtcblxuXHRcdFx0XHRcdFx0Ly8gdG9rZW4gZXhpc3RzIGluIG1hcDsgY29weSB0byBvdXRwdXRcblx0XHRcdFx0XHRcdGlmKCFoX2ludGVyZmFjZXMgfHwgc2lfaW50ZXJmYWNlX3Rva2VuIGluIGhfaW50ZXJmYWNlcykge1xuXHRcdFx0XHRcdFx0XHRoX291dHNbc2lfaW50ZXJmYWNlX3Rva2VuXVtwX3Jlc10gPSBnX2NvbnRyYWN0W3NpX2ludGVyZmFjZV07XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gY29udGludWVcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9KTtcblxuXHRcdFx0Ly8gb3V0cHV0XG5cdFx0XHRyZXR1cm4gaF9vdXRzO1xuXHRcdH1cblx0fSxcbn0pO1xuXG4iLCJcbmltcG9ydCB7XG5cdGNyZWF0ZV9zdG9yZV9jbGFzcyxcblx0V3JpdGFibGVTdG9yZU1hcCxcbn0gZnJvbSAnLi9fYmFzZSc7XG5cbmltcG9ydCB7IFNJX1NUT1JFX1FVRVJZX0NBQ0hFIH0gZnJvbSAnIy9zaGFyZS9jb25zdGFudHMnO1xuaW1wb3J0IHR5cGUgeyBDaGFpblBhdGgsIEhvbGRpbmdQYXRoIH0gZnJvbSAnIy9tZXRhL2NoYWluJztcbmltcG9ydCB0eXBlIHsgVG9rZW5QYXRoIH0gZnJvbSAnIy9tZXRhL3Rva2VuJztcbmltcG9ydCB0eXBlIHsgSnNvbk9iamVjdCB9IGZyb20gJyMvdXRpbC9iZWx0JztcblxuXG5leHBvcnQgY29uc3QgUXVlcnlDYWNoZSA9IGNyZWF0ZV9zdG9yZV9jbGFzcyh7XG5cdHN0b3JlOiBTSV9TVE9SRV9RVUVSWV9DQUNIRSxcblx0ZXh0ZW5zaW9uOiAnbWFwJyxcblx0Y2xhc3M6IGNsYXNzIFF1ZXJ5Q2FjaGVJIGV4dGVuZHMgV3JpdGFibGVTdG9yZU1hcDx0eXBlb2YgU0lfU1RPUkVfUVVFUllfQ0FDSEU+IHtcblx0XHQvLyBzYXZlIGFuIGVudHJ5XG5cdFx0YXN5bmMgc2V0KHBfcXVlcnk6IEhvbGRpbmdQYXRoIHwgVG9rZW5QYXRoLCBnX3Jlc3VsdDogSnNvbk9iamVjdCkge1xuXHRcdFx0Ly8gdXBkYXRlIGNhY2hlXG5cdFx0XHR0aGlzLl93X2NhY2hlW3BfcXVlcnldID0gZ19yZXN1bHQ7XG5cblx0XHRcdC8vIHNhdmVcblx0XHRcdGF3YWl0IHRoaXMuc2F2ZSgpO1xuXHRcdH1cblxuXHR9LFxufSk7XG4iLCIhZnVuY3Rpb24oZSx0KXtpZihcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZSltb2R1bGUuZXhwb3J0cz10KCk7ZWxzZSBpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQpZGVmaW5lKFtdLHQpO2Vsc2V7dmFyIHI9dCgpO2Zvcih2YXIgbiBpbiByKShcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9leHBvcnRzOmUpW25dPXJbbl19fSh0aGlzLChmdW5jdGlvbigpe3JldHVybiBlPXs0MTg6ZnVuY3Rpb24oZSx0KXshZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIgaW4gdCllW3JdPXRbcl19KHQsZnVuY3Rpb24oZSl7dmFyIHQ9e307ZnVuY3Rpb24gcihuKXtpZih0W25dKXJldHVybiB0W25dLmV4cG9ydHM7dmFyIG89dFtuXT17aTpuLGw6ITEsZXhwb3J0czp7fX07cmV0dXJuIGVbbl0uY2FsbChvLmV4cG9ydHMsbyxvLmV4cG9ydHMsciksby5sPSEwLG8uZXhwb3J0c31yZXR1cm4gci5tPWUsci5jPXQsci5pPWZ1bmN0aW9uKGUpe3JldHVybiBlfSxyLmQ9ZnVuY3Rpb24oZSx0LG4pe3IubyhlLHQpfHxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHtjb25maWd1cmFibGU6ITEsZW51bWVyYWJsZTohMCxnZXQ6bn0pfSxyLm49ZnVuY3Rpb24oZSl7dmFyIHQ9ZSYmZS5fX2VzTW9kdWxlP2Z1bmN0aW9uKCl7cmV0dXJuIGUuZGVmYXVsdH06ZnVuY3Rpb24oKXtyZXR1cm4gZX07cmV0dXJuIHIuZCh0LFwiYVwiLHQpLHR9LHIubz1mdW5jdGlvbihlLHQpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KX0sci5wPVwiXCIscihyLnM9MSl9KFtmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG49cigzKSxvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe3ZvaWQgMD09PWUmJihlPXt9KSx2b2lkIDA9PT10JiYodD17c3BsaXRWYWx1ZXM6ITF9KTt2YXIgcixvPXRoaXM7dGhpcy5oZWFkZXJzTWFwPXt9LGUmJihcInVuZGVmaW5lZFwiIT10eXBlb2YgSGVhZGVycyYmZSBpbnN0YW5jZW9mIEhlYWRlcnM/bi5nZXRIZWFkZXJLZXlzKGUpLmZvckVhY2goKGZ1bmN0aW9uKHIpe24uZ2V0SGVhZGVyVmFsdWVzKGUscikuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dC5zcGxpdFZhbHVlcz9vLmFwcGVuZChyLG4uc3BsaXRIZWFkZXJWYWx1ZShlKSk6by5hcHBlbmQocixlKX0pKX0pKTpcIm9iamVjdFwiPT10eXBlb2Yocj1lKSYmXCJvYmplY3RcIj09dHlwZW9mIHIuaGVhZGVyc01hcCYmXCJmdW5jdGlvblwiPT10eXBlb2Ygci5mb3JFYWNoP2UuZm9yRWFjaCgoZnVuY3Rpb24oZSx0KXtvLmFwcGVuZChlLHQpfSkpOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBNYXAmJmUgaW5zdGFuY2VvZiBNYXA/ZS5mb3JFYWNoKChmdW5jdGlvbihlLHQpe28uYXBwZW5kKHQsZSl9KSk6XCJzdHJpbmdcIj09dHlwZW9mIGU/dGhpcy5hcHBlbmRGcm9tU3RyaW5nKGUpOlwib2JqZWN0XCI9PXR5cGVvZiBlJiZPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhlKS5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgcj1lW3RdO0FycmF5LmlzQXJyYXkocik/ci5mb3JFYWNoKChmdW5jdGlvbihlKXtvLmFwcGVuZCh0LGUpfSkpOm8uYXBwZW5kKHQscil9KSkpfXJldHVybiBlLnByb3RvdHlwZS5hcHBlbmRGcm9tU3RyaW5nPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1lLnNwbGl0KFwiXFxyXFxuXCIpLHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG49dFtyXSxvPW4uaW5kZXhPZihcIjpcIik7aWYobz4wKXt2YXIgcz1uLnN1YnN0cmluZygwLG8pLnRyaW0oKSxpPW4uc3Vic3RyaW5nKG8rMSkudHJpbSgpO3RoaXMuYXBwZW5kKHMsaSl9fX0sZS5wcm90b3R5cGUuZGVsZXRlPWZ1bmN0aW9uKGUsdCl7dmFyIHI9bi5ub3JtYWxpemVOYW1lKGUpO2lmKHZvaWQgMD09PXQpZGVsZXRlIHRoaXMuaGVhZGVyc01hcFtyXTtlbHNle3ZhciBvPXRoaXMuaGVhZGVyc01hcFtyXTtpZihvKXt2YXIgcz1vLmluZGV4T2YodCk7cz49MCYmby5zcGxpY2UocywxKSwwPT09by5sZW5ndGgmJmRlbGV0ZSB0aGlzLmhlYWRlcnNNYXBbcl19fX0sZS5wcm90b3R5cGUuYXBwZW5kPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxvPW4ubm9ybWFsaXplTmFtZShlKTtBcnJheS5pc0FycmF5KHRoaXMuaGVhZGVyc01hcFtvXSl8fCh0aGlzLmhlYWRlcnNNYXBbb109W10pLEFycmF5LmlzQXJyYXkodCk/dC5mb3JFYWNoKChmdW5jdGlvbihlKXtyLmhlYWRlcnNNYXBbb10ucHVzaChuLm5vcm1hbGl6ZVZhbHVlKGUpKX0pKTp0aGlzLmhlYWRlcnNNYXBbb10ucHVzaChuLm5vcm1hbGl6ZVZhbHVlKHQpKX0sZS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGUsdCl7dmFyIHI9bi5ub3JtYWxpemVOYW1lKGUpO2lmKEFycmF5LmlzQXJyYXkodCkpe3ZhciBvPVtdO3QuZm9yRWFjaCgoZnVuY3Rpb24oZSl7by5wdXNoKG4ubm9ybWFsaXplVmFsdWUoZSkpfSkpLHRoaXMuaGVhZGVyc01hcFtyXT1vfWVsc2UgdGhpcy5oZWFkZXJzTWFwW3JdPVtuLm5vcm1hbGl6ZVZhbHVlKHQpXX0sZS5wcm90b3R5cGUuaGFzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5oZWFkZXJzTWFwW24ubm9ybWFsaXplTmFtZShlKV07aWYoIUFycmF5LmlzQXJyYXkocikpcmV0dXJuITE7aWYodm9pZCAwIT09dCl7dmFyIG89bi5ub3JtYWxpemVWYWx1ZSh0KTtyZXR1cm4gci5pbmRleE9mKG8pPj0wfXJldHVybiEwfSxlLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5oZWFkZXJzTWFwW24ubm9ybWFsaXplTmFtZShlKV07cmV0dXJuIHZvaWQgMCE9PXQ/dC5jb25jYXQoKTpbXX0sZS5wcm90b3R5cGUuZm9yRWFjaD1mdW5jdGlvbihlKXt2YXIgdD10aGlzO09iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRoaXMuaGVhZGVyc01hcCkuZm9yRWFjaCgoZnVuY3Rpb24ocil7ZShyLHQuaGVhZGVyc01hcFtyXSl9KSx0aGlzKX0sZS5wcm90b3R5cGUudG9IZWFkZXJzPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIEhlYWRlcnMpe3ZhciBlPW5ldyBIZWFkZXJzO3JldHVybiB0aGlzLmZvckVhY2goKGZ1bmN0aW9uKHQscil7ci5mb3JFYWNoKChmdW5jdGlvbihyKXtlLmFwcGVuZCh0LHIpfSkpfSkpLGV9dGhyb3cgbmV3IEVycm9yKFwiSGVhZGVycyBjbGFzcyBpcyBub3QgZGVmaW5lZFwiKX0sZX0oKTt0LkJyb3dzZXJIZWFkZXJzPW99LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbj1yKDApO3QuQnJvd3NlckhlYWRlcnM9bi5Ccm93c2VySGVhZGVyc30sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuaXRlcmF0ZUhlYWRlcnM9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9ZVtTeW1ib2wuaXRlcmF0b3JdKCksbj1yLm5leHQoKTshbi5kb25lOyl0KG4udmFsdWVbMF0pLG49ci5uZXh0KCl9LHQuaXRlcmF0ZUhlYWRlcnNLZXlzPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPWUua2V5cygpLG49ci5uZXh0KCk7IW4uZG9uZTspdChuLnZhbHVlKSxuPXIubmV4dCgpfX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBuPXIoMik7dC5ub3JtYWxpemVOYW1lPWZ1bmN0aW9uKGUpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlJiYoZT1TdHJpbmcoZSkpLC9bXmEtejAtOVxcLSMkJSYnKisuXFxeX2B8fl0vaS50ZXN0KGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGNoYXJhY3RlciBpbiBoZWFkZXIgZmllbGQgbmFtZVwiKTtyZXR1cm4gZS50b0xvd2VyQ2FzZSgpfSx0Lm5vcm1hbGl6ZVZhbHVlPWZ1bmN0aW9uKGUpe3JldHVyblwic3RyaW5nXCIhPXR5cGVvZiBlJiYoZT1TdHJpbmcoZSkpLGV9LHQuZ2V0SGVhZGVyVmFsdWVzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZTtpZihyIGluc3RhbmNlb2YgSGVhZGVycyYmci5nZXRBbGwpcmV0dXJuIHIuZ2V0QWxsKHQpO3ZhciBuPXIuZ2V0KHQpO3JldHVybiBuJiZcInN0cmluZ1wiPT10eXBlb2Ygbj9bbl06bn0sdC5nZXRIZWFkZXJLZXlzPWZ1bmN0aW9uKGUpe3ZhciB0PWUscj17fSxvPVtdO3JldHVybiB0LmtleXM/bi5pdGVyYXRlSGVhZGVyc0tleXModCwoZnVuY3Rpb24oZSl7cltlXXx8KHJbZV09ITAsby5wdXNoKGUpKX0pKTp0LmZvckVhY2g/dC5mb3JFYWNoKChmdW5jdGlvbihlLHQpe3JbdF18fChyW3RdPSEwLG8ucHVzaCh0KSl9KSk6bi5pdGVyYXRlSGVhZGVycyh0LChmdW5jdGlvbihlKXt2YXIgdD1lWzBdO3JbdF18fChyW3RdPSEwLG8ucHVzaCh0KSl9KSksb30sdC5zcGxpdEhlYWRlclZhbHVlPWZ1bmN0aW9uKGUpe3ZhciB0PVtdO3JldHVybiBlLnNwbGl0KFwiLCBcIikuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5zcGxpdChcIixcIikuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dC5wdXNoKGUpfSkpfSkpLHR9fV0pKX0sNjE3OmZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LkNodW5rUGFyc2VyPXQuQ2h1bmtUeXBlPXQuZW5jb2RlQVNDSUk9dC5kZWNvZGVBU0NJST12b2lkIDA7dmFyIG4sbz1yKDY1KTtmdW5jdGlvbiBzKGUpe3JldHVybiA5PT09KHQ9ZSl8fDEwPT09dHx8MTM9PT10fHxlPj0zMiYmZTw9MTI2O3ZhciB0fWZ1bmN0aW9uIGkoZSl7Zm9yKHZhciB0PTA7dCE9PWUubGVuZ3RoOysrdClpZighcyhlW3RdKSl0aHJvdyBuZXcgRXJyb3IoXCJNZXRhZGF0YSBpcyBub3QgdmFsaWQgKHByaW50YWJsZSkgQVNDSUlcIik7cmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGUpKX1mdW5jdGlvbiBhKGUpe3JldHVybiAxMjg9PSgxMjgmZS5nZXRVaW50OCgwKSl9ZnVuY3Rpb24gdShlKXtyZXR1cm4gZS5nZXRVaW50MzIoMSwhMSl9ZnVuY3Rpb24gZChlLHQscil7cmV0dXJuIGUuYnl0ZUxlbmd0aC10Pj1yfWZ1bmN0aW9uIGMoZSx0LHIpe2lmKGUuc2xpY2UpcmV0dXJuIGUuc2xpY2UodCxyKTt2YXIgbj1lLmxlbmd0aDt2b2lkIDAhPT1yJiYobj1yKTtmb3IodmFyIG89bmV3IFVpbnQ4QXJyYXkobi10KSxzPTAsaT10O2k8bjtpKyspb1tzKytdPWVbaV07cmV0dXJuIG99dC5kZWNvZGVBU0NJST1pLHQuZW5jb2RlQVNDSUk9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PW5ldyBVaW50OEFycmF5KGUubGVuZ3RoKSxyPTA7ciE9PWUubGVuZ3RoOysrcil7dmFyIG49ZS5jaGFyQ29kZUF0KHIpO2lmKCFzKG4pKXRocm93IG5ldyBFcnJvcihcIk1ldGFkYXRhIGNvbnRhaW5zIGludmFsaWQgQVNDSUlcIik7dFtyXT1ufXJldHVybiB0fSxmdW5jdGlvbihlKXtlW2UuTUVTU0FHRT0xXT1cIk1FU1NBR0VcIixlW2UuVFJBSUxFUlM9Ml09XCJUUkFJTEVSU1wifShuPXQuQ2h1bmtUeXBlfHwodC5DaHVua1R5cGU9e30pKTt2YXIgcD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLmJ1ZmZlcj1udWxsLHRoaXMucG9zaXRpb249MH1yZXR1cm4gZS5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oZSx0KXtpZigwPT09ZS5sZW5ndGgmJnQpcmV0dXJuW107dmFyIHIscz1bXTtpZihudWxsPT10aGlzLmJ1ZmZlcil0aGlzLmJ1ZmZlcj1lLHRoaXMucG9zaXRpb249MDtlbHNlIGlmKHRoaXMucG9zaXRpb249PT10aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRoaXMuYnVmZmVyPWUsdGhpcy5wb3NpdGlvbj0wO2Vsc2V7dmFyIHA9dGhpcy5idWZmZXIuYnl0ZUxlbmd0aC10aGlzLnBvc2l0aW9uLGg9bmV3IFVpbnQ4QXJyYXkocCtlLmJ5dGVMZW5ndGgpLGY9Yyh0aGlzLmJ1ZmZlcix0aGlzLnBvc2l0aW9uKTtoLnNldChmLDApO3ZhciBsPW5ldyBVaW50OEFycmF5KGUpO2guc2V0KGwscCksdGhpcy5idWZmZXI9aCx0aGlzLnBvc2l0aW9uPTB9Zm9yKDs7KXtpZighZCh0aGlzLmJ1ZmZlcix0aGlzLnBvc2l0aW9uLDUpKXJldHVybiBzO3ZhciBnPWModGhpcy5idWZmZXIsdGhpcy5wb3NpdGlvbix0aGlzLnBvc2l0aW9uKzUpLGI9bmV3IERhdGFWaWV3KGcuYnVmZmVyLGcuYnl0ZU9mZnNldCxnLmJ5dGVMZW5ndGgpLHk9dShiKTtpZighZCh0aGlzLmJ1ZmZlcix0aGlzLnBvc2l0aW9uLDUreSkpcmV0dXJuIHM7dmFyIHY9Yyh0aGlzLmJ1ZmZlcix0aGlzLnBvc2l0aW9uKzUsdGhpcy5wb3NpdGlvbis1K3kpO2lmKHRoaXMucG9zaXRpb24rPTUreSxhKGIpKXJldHVybiBzLnB1c2goe2NodW5rVHlwZTpuLlRSQUlMRVJTLHRyYWlsZXJzOihyPXYsbmV3IG8uTWV0YWRhdGEoaShyKSkpfSkscztzLnB1c2goe2NodW5rVHlwZTpuLk1FU1NBR0UsZGF0YTp2fSl9fSxlfSgpO3QuQ2h1bmtQYXJzZXI9cH0sODpmdW5jdGlvbihlLHQpe1widXNlIHN0cmljdFwiO3ZhciByO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuaHR0cFN0YXR1c1RvQ29kZT10LkNvZGU9dm9pZCAwLGZ1bmN0aW9uKGUpe2VbZS5PSz0wXT1cIk9LXCIsZVtlLkNhbmNlbGVkPTFdPVwiQ2FuY2VsZWRcIixlW2UuVW5rbm93bj0yXT1cIlVua25vd25cIixlW2UuSW52YWxpZEFyZ3VtZW50PTNdPVwiSW52YWxpZEFyZ3VtZW50XCIsZVtlLkRlYWRsaW5lRXhjZWVkZWQ9NF09XCJEZWFkbGluZUV4Y2VlZGVkXCIsZVtlLk5vdEZvdW5kPTVdPVwiTm90Rm91bmRcIixlW2UuQWxyZWFkeUV4aXN0cz02XT1cIkFscmVhZHlFeGlzdHNcIixlW2UuUGVybWlzc2lvbkRlbmllZD03XT1cIlBlcm1pc3Npb25EZW5pZWRcIixlW2UuUmVzb3VyY2VFeGhhdXN0ZWQ9OF09XCJSZXNvdXJjZUV4aGF1c3RlZFwiLGVbZS5GYWlsZWRQcmVjb25kaXRpb249OV09XCJGYWlsZWRQcmVjb25kaXRpb25cIixlW2UuQWJvcnRlZD0xMF09XCJBYm9ydGVkXCIsZVtlLk91dE9mUmFuZ2U9MTFdPVwiT3V0T2ZSYW5nZVwiLGVbZS5VbmltcGxlbWVudGVkPTEyXT1cIlVuaW1wbGVtZW50ZWRcIixlW2UuSW50ZXJuYWw9MTNdPVwiSW50ZXJuYWxcIixlW2UuVW5hdmFpbGFibGU9MTRdPVwiVW5hdmFpbGFibGVcIixlW2UuRGF0YUxvc3M9MTVdPVwiRGF0YUxvc3NcIixlW2UuVW5hdXRoZW50aWNhdGVkPTE2XT1cIlVuYXV0aGVudGljYXRlZFwifShyPXQuQ29kZXx8KHQuQ29kZT17fSkpLHQuaHR0cFN0YXR1c1RvQ29kZT1mdW5jdGlvbihlKXtzd2l0Y2goZSl7Y2FzZSAwOnJldHVybiByLkludGVybmFsO2Nhc2UgMjAwOnJldHVybiByLk9LO2Nhc2UgNDAwOnJldHVybiByLkludmFsaWRBcmd1bWVudDtjYXNlIDQwMTpyZXR1cm4gci5VbmF1dGhlbnRpY2F0ZWQ7Y2FzZSA0MDM6cmV0dXJuIHIuUGVybWlzc2lvbkRlbmllZDtjYXNlIDQwNDpyZXR1cm4gci5Ob3RGb3VuZDtjYXNlIDQwOTpyZXR1cm4gci5BYm9ydGVkO2Nhc2UgNDEyOnJldHVybiByLkZhaWxlZFByZWNvbmRpdGlvbjtjYXNlIDQyOTpyZXR1cm4gci5SZXNvdXJjZUV4aGF1c3RlZDtjYXNlIDQ5OTpyZXR1cm4gci5DYW5jZWxlZDtjYXNlIDUwMDpyZXR1cm4gci5Vbmtub3duO2Nhc2UgNTAxOnJldHVybiByLlVuaW1wbGVtZW50ZWQ7Y2FzZSA1MDM6cmV0dXJuIHIuVW5hdmFpbGFibGU7Y2FzZSA1MDQ6cmV0dXJuIHIuRGVhZGxpbmVFeGNlZWRlZDtkZWZhdWx0OnJldHVybiByLlVua25vd259fX0sOTM0OmZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmNsaWVudD12b2lkIDA7dmFyIG49cig2NSksbz1yKDYxNykscz1yKDgpLGk9cigzNDYpLGE9cig1NyksdT1yKDg4Mik7dC5jbGllbnQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3IGQoZSx0KX07dmFyIGQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7dGhpcy5zdGFydGVkPSExLHRoaXMuc2VudEZpcnN0TWVzc2FnZT0hMSx0aGlzLmNvbXBsZXRlZD0hMSx0aGlzLmNsb3NlZD0hMSx0aGlzLmZpbmlzaGVkU2VuZGluZz0hMSx0aGlzLm9uSGVhZGVyc0NhbGxiYWNrcz1bXSx0aGlzLm9uTWVzc2FnZUNhbGxiYWNrcz1bXSx0aGlzLm9uRW5kQ2FsbGJhY2tzPVtdLHRoaXMucGFyc2VyPW5ldyBvLkNodW5rUGFyc2VyLHRoaXMubWV0aG9kRGVmaW5pdGlvbj1lLHRoaXMucHJvcHM9dCx0aGlzLmNyZWF0ZVRyYW5zcG9ydCgpfXJldHVybiBlLnByb3RvdHlwZS5jcmVhdGVUcmFuc3BvcnQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnByb3BzLmhvc3QrXCIvXCIrdGhpcy5tZXRob2REZWZpbml0aW9uLnNlcnZpY2Uuc2VydmljZU5hbWUrXCIvXCIrdGhpcy5tZXRob2REZWZpbml0aW9uLm1ldGhvZE5hbWUsdD17bWV0aG9kRGVmaW5pdGlvbjp0aGlzLm1ldGhvZERlZmluaXRpb24sZGVidWc6dGhpcy5wcm9wcy5kZWJ1Z3x8ITEsdXJsOmUsb25IZWFkZXJzOnRoaXMub25UcmFuc3BvcnRIZWFkZXJzLmJpbmQodGhpcyksb25DaHVuazp0aGlzLm9uVHJhbnNwb3J0Q2h1bmsuYmluZCh0aGlzKSxvbkVuZDp0aGlzLm9uVHJhbnNwb3J0RW5kLmJpbmQodGhpcyl9O3RoaXMucHJvcHMudHJhbnNwb3J0P3RoaXMudHJhbnNwb3J0PXRoaXMucHJvcHMudHJhbnNwb3J0KHQpOnRoaXMudHJhbnNwb3J0PWEubWFrZURlZmF1bHRUcmFuc3BvcnQodCl9LGUucHJvdG90eXBlLm9uVHJhbnNwb3J0SGVhZGVycz1mdW5jdGlvbihlLHQpe2lmKHRoaXMucHJvcHMuZGVidWcmJmkuZGVidWcoXCJvbkhlYWRlcnNcIixlLHQpLHRoaXMuY2xvc2VkKXRoaXMucHJvcHMuZGVidWcmJmkuZGVidWcoXCJncnBjLm9uSGVhZGVycyByZWNlaXZlZCBhZnRlciByZXF1ZXN0IHdhcyBjbG9zZWQgLSBpZ25vcmluZ1wiKTtlbHNlIGlmKDA9PT10KTtlbHNle3RoaXMucmVzcG9uc2VIZWFkZXJzPWUsdGhpcy5wcm9wcy5kZWJ1ZyYmaS5kZWJ1ZyhcIm9uSGVhZGVycy5yZXNwb25zZUhlYWRlcnNcIixKU09OLnN0cmluZ2lmeSh0aGlzLnJlc3BvbnNlSGVhZGVycyxudWxsLDIpKTt2YXIgcj1jKGUpO3RoaXMucHJvcHMuZGVidWcmJmkuZGVidWcoXCJvbkhlYWRlcnMuZ1JQQ1N0YXR1c1wiLHIpO3ZhciBuPXImJnI+PTA/cjpzLmh0dHBTdGF0dXNUb0NvZGUodCk7dGhpcy5wcm9wcy5kZWJ1ZyYmaS5kZWJ1ZyhcIm9uSGVhZGVycy5jb2RlXCIsbik7dmFyIG89ZS5nZXQoXCJncnBjLW1lc3NhZ2VcIil8fFtdO2lmKHRoaXMucHJvcHMuZGVidWcmJmkuZGVidWcoXCJvbkhlYWRlcnMuZ1JQQ01lc3NhZ2VcIixvKSx0aGlzLnJhd09uSGVhZGVycyhlKSxuIT09cy5Db2RlLk9LKXt2YXIgYT10aGlzLmRlY29kZUdSUENTdGF0dXMob1swXSk7dGhpcy5yYXdPbkVycm9yKG4sYSxlKX19fSxlLnByb3RvdHlwZS5vblRyYW5zcG9ydENodW5rPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aWYodGhpcy5jbG9zZWQpdGhpcy5wcm9wcy5kZWJ1ZyYmaS5kZWJ1ZyhcImdycGMub25DaHVuayByZWNlaXZlZCBhZnRlciByZXF1ZXN0IHdhcyBjbG9zZWQgLSBpZ25vcmluZ1wiKTtlbHNle3ZhciByPVtdO3RyeXtyPXRoaXMucGFyc2VyLnBhcnNlKGUpfWNhdGNoKGUpe3JldHVybiB0aGlzLnByb3BzLmRlYnVnJiZpLmRlYnVnKFwib25DaHVuay5wYXJzaW5nIGVycm9yXCIsZSxlLm1lc3NhZ2UpLHZvaWQgdGhpcy5yYXdPbkVycm9yKHMuQ29kZS5JbnRlcm5hbCxcInBhcnNpbmcgZXJyb3I6IFwiK2UubWVzc2FnZSl9ci5mb3JFYWNoKChmdW5jdGlvbihlKXtpZihlLmNodW5rVHlwZT09PW8uQ2h1bmtUeXBlLk1FU1NBR0Upe3ZhciByPXQubWV0aG9kRGVmaW5pdGlvbi5yZXNwb25zZVR5cGUuZGVzZXJpYWxpemVCaW5hcnkoZS5kYXRhKTt0LnJhd09uTWVzc2FnZShyKX1lbHNlIGUuY2h1bmtUeXBlPT09by5DaHVua1R5cGUuVFJBSUxFUlMmJih0LnJlc3BvbnNlSGVhZGVycz8odC5yZXNwb25zZVRyYWlsZXJzPW5ldyBuLk1ldGFkYXRhKGUudHJhaWxlcnMpLHQucHJvcHMuZGVidWcmJmkuZGVidWcoXCJvbkNodW5rLnRyYWlsZXJzXCIsdC5yZXNwb25zZVRyYWlsZXJzKSk6KHQucmVzcG9uc2VIZWFkZXJzPW5ldyBuLk1ldGFkYXRhKGUudHJhaWxlcnMpLHQucmF3T25IZWFkZXJzKHQucmVzcG9uc2VIZWFkZXJzKSkpfSkpfX0sZS5wcm90b3R5cGUub25UcmFuc3BvcnRFbmQ9ZnVuY3Rpb24oKXtpZih0aGlzLnByb3BzLmRlYnVnJiZpLmRlYnVnKFwiZ3JwYy5vbkVuZFwiKSx0aGlzLmNsb3NlZCl0aGlzLnByb3BzLmRlYnVnJiZpLmRlYnVnKFwiZ3JwYy5vbkVuZCByZWNlaXZlZCBhZnRlciByZXF1ZXN0IHdhcyBjbG9zZWQgLSBpZ25vcmluZ1wiKTtlbHNlIGlmKHZvaWQgMCE9PXRoaXMucmVzcG9uc2VUcmFpbGVycyl7dmFyIGU9Yyh0aGlzLnJlc3BvbnNlVHJhaWxlcnMpO2lmKG51bGwhPT1lKXt2YXIgdD10aGlzLnJlc3BvbnNlVHJhaWxlcnMuZ2V0KFwiZ3JwYy1tZXNzYWdlXCIpLHI9dGhpcy5kZWNvZGVHUlBDU3RhdHVzKHRbMF0pO3RoaXMucmF3T25FbmQoZSxyLHRoaXMucmVzcG9uc2VUcmFpbGVycyl9ZWxzZSB0aGlzLnJhd09uRXJyb3Iocy5Db2RlLkludGVybmFsLFwiUmVzcG9uc2UgY2xvc2VkIHdpdGhvdXQgZ3JwYy1zdGF0dXMgKFRyYWlsZXJzIHByb3ZpZGVkKVwiKX1lbHNle2lmKHZvaWQgMD09PXRoaXMucmVzcG9uc2VIZWFkZXJzKXJldHVybiB2b2lkIHRoaXMucmF3T25FcnJvcihzLkNvZGUuVW5rbm93bixcIlJlc3BvbnNlIGNsb3NlZCB3aXRob3V0IGhlYWRlcnNcIik7dmFyIG49Yyh0aGlzLnJlc3BvbnNlSGVhZGVycyksbz10aGlzLnJlc3BvbnNlSGVhZGVycy5nZXQoXCJncnBjLW1lc3NhZ2VcIik7aWYodGhpcy5wcm9wcy5kZWJ1ZyYmaS5kZWJ1ZyhcImdycGMuaGVhZGVycyBvbmx5IHJlc3BvbnNlIFwiLG4sbyksbnVsbD09PW4pcmV0dXJuIHZvaWQgdGhpcy5yYXdPbkVuZChzLkNvZGUuVW5rbm93bixcIlJlc3BvbnNlIGNsb3NlZCB3aXRob3V0IGdycGMtc3RhdHVzIChIZWFkZXJzIG9ubHkpXCIsdGhpcy5yZXNwb25zZUhlYWRlcnMpO3ZhciBhPXRoaXMuZGVjb2RlR1JQQ1N0YXR1cyhvWzBdKTt0aGlzLnJhd09uRW5kKG4sYSx0aGlzLnJlc3BvbnNlSGVhZGVycyl9fSxlLnByb3RvdHlwZS5kZWNvZGVHUlBDU3RhdHVzPWZ1bmN0aW9uKGUpe2lmKCFlKXJldHVyblwiXCI7dHJ5e3JldHVybiBkZWNvZGVVUklDb21wb25lbnQoZSl9Y2F0Y2godCl7cmV0dXJuIGV9fSxlLnByb3RvdHlwZS5yYXdPbkVuZD1mdW5jdGlvbihlLHQscil7dmFyIG49dGhpczt0aGlzLnByb3BzLmRlYnVnJiZpLmRlYnVnKFwicmF3T25FbmRcIixlLHQsciksdGhpcy5jb21wbGV0ZWR8fCh0aGlzLmNvbXBsZXRlZD0hMCx0aGlzLm9uRW5kQ2FsbGJhY2tzLmZvckVhY2goKGZ1bmN0aW9uKG8pe2lmKCFuLmNsb3NlZCl0cnl7byhlLHQscil9Y2F0Y2goZSl7c2V0VGltZW91dCgoZnVuY3Rpb24oKXt0aHJvdyBlfSksMCl9fSkpKX0sZS5wcm90b3R5cGUucmF3T25IZWFkZXJzPWZ1bmN0aW9uKGUpe3RoaXMucHJvcHMuZGVidWcmJmkuZGVidWcoXCJyYXdPbkhlYWRlcnNcIixlKSx0aGlzLmNvbXBsZXRlZHx8dGhpcy5vbkhlYWRlcnNDYWxsYmFja3MuZm9yRWFjaCgoZnVuY3Rpb24odCl7dHJ5e3QoZSl9Y2F0Y2goZSl7c2V0VGltZW91dCgoZnVuY3Rpb24oKXt0aHJvdyBlfSksMCl9fSkpfSxlLnByb3RvdHlwZS5yYXdPbkVycm9yPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbz10aGlzO3ZvaWQgMD09PXImJihyPW5ldyBuLk1ldGFkYXRhKSx0aGlzLnByb3BzLmRlYnVnJiZpLmRlYnVnKFwicmF3T25FcnJvclwiLGUsdCksdGhpcy5jb21wbGV0ZWR8fCh0aGlzLmNvbXBsZXRlZD0hMCx0aGlzLm9uRW5kQ2FsbGJhY2tzLmZvckVhY2goKGZ1bmN0aW9uKG4pe2lmKCFvLmNsb3NlZCl0cnl7bihlLHQscil9Y2F0Y2goZSl7c2V0VGltZW91dCgoZnVuY3Rpb24oKXt0aHJvdyBlfSksMCl9fSkpKX0sZS5wcm90b3R5cGUucmF3T25NZXNzYWdlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dGhpcy5wcm9wcy5kZWJ1ZyYmaS5kZWJ1ZyhcInJhd09uTWVzc2FnZVwiLGUudG9PYmplY3QoKSksdGhpcy5jb21wbGV0ZWR8fHRoaXMuY2xvc2VkfHx0aGlzLm9uTWVzc2FnZUNhbGxiYWNrcy5mb3JFYWNoKChmdW5jdGlvbihyKXtpZighdC5jbG9zZWQpdHJ5e3IoZSl9Y2F0Y2goZSl7c2V0VGltZW91dCgoZnVuY3Rpb24oKXt0aHJvdyBlfSksMCl9fSkpfSxlLnByb3RvdHlwZS5vbkhlYWRlcnM9ZnVuY3Rpb24oZSl7dGhpcy5vbkhlYWRlcnNDYWxsYmFja3MucHVzaChlKX0sZS5wcm90b3R5cGUub25NZXNzYWdlPWZ1bmN0aW9uKGUpe3RoaXMub25NZXNzYWdlQ2FsbGJhY2tzLnB1c2goZSl9LGUucHJvdG90eXBlLm9uRW5kPWZ1bmN0aW9uKGUpe3RoaXMub25FbmRDYWxsYmFja3MucHVzaChlKX0sZS5wcm90b3R5cGUuc3RhcnQ9ZnVuY3Rpb24oZSl7aWYodGhpcy5zdGFydGVkKXRocm93IG5ldyBFcnJvcihcIkNsaWVudCBhbHJlYWR5IHN0YXJ0ZWQgLSBjYW5ub3QgLnN0YXJ0KClcIik7dGhpcy5zdGFydGVkPSEwO3ZhciB0PW5ldyBuLk1ldGFkYXRhKGV8fHt9KTt0LnNldChcImNvbnRlbnQtdHlwZVwiLFwiYXBwbGljYXRpb24vZ3JwYy13ZWIrcHJvdG9cIiksdC5zZXQoXCJ4LWdycGMtd2ViXCIsXCIxXCIpLHRoaXMudHJhbnNwb3J0LnN0YXJ0KHQpfSxlLnByb3RvdHlwZS5zZW5kPWZ1bmN0aW9uKGUpe2lmKCF0aGlzLnN0YXJ0ZWQpdGhyb3cgbmV3IEVycm9yKFwiQ2xpZW50IG5vdCBzdGFydGVkIC0gLnN0YXJ0KCkgbXVzdCBiZSBjYWxsZWQgYmVmb3JlIC5zZW5kKClcIik7aWYodGhpcy5jbG9zZWQpdGhyb3cgbmV3IEVycm9yKFwiQ2xpZW50IGFscmVhZHkgY2xvc2VkIC0gY2Fubm90IC5zZW5kKClcIik7aWYodGhpcy5maW5pc2hlZFNlbmRpbmcpdGhyb3cgbmV3IEVycm9yKFwiQ2xpZW50IGFscmVhZHkgZmluaXNoZWQgc2VuZGluZyAtIGNhbm5vdCAuc2VuZCgpXCIpO2lmKCF0aGlzLm1ldGhvZERlZmluaXRpb24ucmVxdWVzdFN0cmVhbSYmdGhpcy5zZW50Rmlyc3RNZXNzYWdlKXRocm93IG5ldyBFcnJvcihcIk1lc3NhZ2UgYWxyZWFkeSBzZW50IGZvciBub24tY2xpZW50LXN0cmVhbWluZyBtZXRob2QgLSBjYW5ub3QgLnNlbmQoKVwiKTt0aGlzLnNlbnRGaXJzdE1lc3NhZ2U9ITA7dmFyIHQ9dS5mcmFtZVJlcXVlc3QoZSk7dGhpcy50cmFuc3BvcnQuc2VuZE1lc3NhZ2UodCl9LGUucHJvdG90eXBlLmZpbmlzaFNlbmQ9ZnVuY3Rpb24oKXtpZighdGhpcy5zdGFydGVkKXRocm93IG5ldyBFcnJvcihcIkNsaWVudCBub3Qgc3RhcnRlZCAtIC5maW5pc2hTZW5kKCkgbXVzdCBiZSBjYWxsZWQgYmVmb3JlIC5jbG9zZSgpXCIpO2lmKHRoaXMuY2xvc2VkKXRocm93IG5ldyBFcnJvcihcIkNsaWVudCBhbHJlYWR5IGNsb3NlZCAtIGNhbm5vdCAuc2VuZCgpXCIpO2lmKHRoaXMuZmluaXNoZWRTZW5kaW5nKXRocm93IG5ldyBFcnJvcihcIkNsaWVudCBhbHJlYWR5IGZpbmlzaGVkIHNlbmRpbmcgLSBjYW5ub3QgLmZpbmlzaFNlbmQoKVwiKTt0aGlzLmZpbmlzaGVkU2VuZGluZz0hMCx0aGlzLnRyYW5zcG9ydC5maW5pc2hTZW5kKCl9LGUucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKCl7aWYoIXRoaXMuc3RhcnRlZCl0aHJvdyBuZXcgRXJyb3IoXCJDbGllbnQgbm90IHN0YXJ0ZWQgLSAuc3RhcnQoKSBtdXN0IGJlIGNhbGxlZCBiZWZvcmUgLmNsb3NlKClcIik7aWYodGhpcy5jbG9zZWQpdGhyb3cgbmV3IEVycm9yKFwiQ2xpZW50IGFscmVhZHkgY2xvc2VkIC0gY2Fubm90IC5jbG9zZSgpXCIpO3RoaXMuY2xvc2VkPSEwLHRoaXMucHJvcHMuZGVidWcmJmkuZGVidWcoXCJyZXF1ZXN0LmFib3J0IGFib3J0aW5nIHJlcXVlc3RcIiksdGhpcy50cmFuc3BvcnQuY2FuY2VsKCl9LGV9KCk7ZnVuY3Rpb24gYyhlKXt2YXIgdD1lLmdldChcImdycGMtc3RhdHVzXCIpfHxbXTtpZih0Lmxlbmd0aD4wKXRyeXt2YXIgcj10WzBdO3JldHVybiBwYXJzZUludChyLDEwKX1jYXRjaChlKXtyZXR1cm4gbnVsbH1yZXR1cm4gbnVsbH19LDM0NjpmdW5jdGlvbihlLHQpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVidWc9dm9pZCAwLHQuZGVidWc9ZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sdD0wO3Q8YXJndW1lbnRzLmxlbmd0aDt0KyspZVt0XT1hcmd1bWVudHNbdF07Y29uc29sZS5kZWJ1Zz9jb25zb2xlLmRlYnVnLmFwcGx5KG51bGwsZSk6Y29uc29sZS5sb2cuYXBwbHkobnVsbCxlKX19LDYwNzpmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5ncnBjPXZvaWQgMDt2YXIgbixvPXIoNDE4KSxzPXIoNTcpLGk9cigyMjkpLGE9cig1NDApLHU9cigyMTApLGQ9cig4NTkpLGM9cig4KSxwPXIoOTM4KSxoPXIoMzUpLGY9cig5MzQpOyhuPXQuZ3JwY3x8KHQuZ3JwYz17fSkpLnNldERlZmF1bHRUcmFuc3BvcnQ9cy5zZXREZWZhdWx0VHJhbnNwb3J0RmFjdG9yeSxuLkNyb3NzQnJvd3Nlckh0dHBUcmFuc3BvcnQ9ZC5Dcm9zc0Jyb3dzZXJIdHRwVHJhbnNwb3J0LG4uRmV0Y2hSZWFkYWJsZVN0cmVhbVRyYW5zcG9ydD1pLkZldGNoUmVhZGFibGVTdHJlYW1UcmFuc3BvcnQsbi5YaHJUcmFuc3BvcnQ9dS5YaHJUcmFuc3BvcnQsbi5XZWJzb2NrZXRUcmFuc3BvcnQ9YS5XZWJzb2NrZXRUcmFuc3BvcnQsbi5Db2RlPWMuQ29kZSxuLk1ldGFkYXRhPW8uQnJvd3NlckhlYWRlcnMsbi5jbGllbnQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZi5jbGllbnQoZSx0KX0sbi5pbnZva2U9cC5pbnZva2Usbi51bmFyeT1oLnVuYXJ5fSw5Mzg6ZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuaW52b2tlPXZvaWQgMDt2YXIgbj1yKDkzNCk7dC5pbnZva2U9ZnVuY3Rpb24oZSx0KXtpZihlLnJlcXVlc3RTdHJlYW0pdGhyb3cgbmV3IEVycm9yKFwiLmludm9rZSBjYW5ub3QgYmUgdXNlZCB3aXRoIGNsaWVudC1zdHJlYW1pbmcgbWV0aG9kcy4gVXNlIC5jbGllbnQgaW5zdGVhZC5cIik7dmFyIHI9bi5jbGllbnQoZSx7aG9zdDp0Lmhvc3QsdHJhbnNwb3J0OnQudHJhbnNwb3J0LGRlYnVnOnQuZGVidWd9KTtyZXR1cm4gdC5vbkhlYWRlcnMmJnIub25IZWFkZXJzKHQub25IZWFkZXJzKSx0Lm9uTWVzc2FnZSYmci5vbk1lc3NhZ2UodC5vbk1lc3NhZ2UpLHQub25FbmQmJnIub25FbmQodC5vbkVuZCksci5zdGFydCh0Lm1ldGFkYXRhKSxyLnNlbmQodC5yZXF1ZXN0KSxyLmZpbmlzaFNlbmQoKSx7Y2xvc2U6ZnVuY3Rpb24oKXtyLmNsb3NlKCl9fX19LDY1OmZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0Lk1ldGFkYXRhPXZvaWQgMDt2YXIgbj1yKDQxOCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJNZXRhZGF0YVwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBuLkJyb3dzZXJIZWFkZXJzfX0pfSw1NzpmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5tYWtlRGVmYXVsdFRyYW5zcG9ydD10LnNldERlZmF1bHRUcmFuc3BvcnRGYWN0b3J5PXZvaWQgMDt2YXIgbj1yKDg1OSksbz1mdW5jdGlvbihlKXtyZXR1cm4gbi5Dcm9zc0Jyb3dzZXJIdHRwVHJhbnNwb3J0KHt3aXRoQ3JlZGVudGlhbHM6ITF9KShlKX07dC5zZXREZWZhdWx0VHJhbnNwb3J0RmFjdG9yeT1mdW5jdGlvbihlKXtvPWV9LHQubWFrZURlZmF1bHRUcmFuc3BvcnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIG8oZSl9fSwyMjk6ZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBuPXRoaXMmJnRoaXMuX19hc3NpZ258fGZ1bmN0aW9uKCl7cmV0dXJuKG49T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LHI9MSxuPWFyZ3VtZW50cy5sZW5ndGg7cjxuO3IrKylmb3IodmFyIG8gaW4gdD1hcmd1bWVudHNbcl0pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsbykmJihlW29dPXRbb10pO3JldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRldGVjdEZldGNoU3VwcG9ydD10LkZldGNoUmVhZGFibGVTdHJlYW1UcmFuc3BvcnQ9dm9pZCAwO3ZhciBvPXIoNjUpLHM9cigzNDYpO3QuRmV0Y2hSZWFkYWJsZVN0cmVhbVRyYW5zcG9ydD1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuZGVidWcmJnMuZGVidWcoXCJmZXRjaFJlcXVlc3RcIixlKSxuZXcgaShlLHQpfSh0LGUpfX07dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7dGhpcy5jYW5jZWxsZWQ9ITEsdGhpcy5jb250cm9sbGVyPXNlbGYuQWJvcnRDb250cm9sbGVyJiZuZXcgQWJvcnRDb250cm9sbGVyLHRoaXMub3B0aW9ucz1lLHRoaXMuaW5pdD10fXJldHVybiBlLnByb3RvdHlwZS5wdW1wPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztpZih0aGlzLnJlYWRlcj1lLHRoaXMuY2FuY2VsbGVkKXJldHVybiB0aGlzLm9wdGlvbnMuZGVidWcmJnMuZGVidWcoXCJGZXRjaC5wdW1wLmNhbmNlbCBhdCBmaXJzdCBwdW1wXCIpLHZvaWQgdGhpcy5yZWFkZXIuY2FuY2VsKCkuY2F0Y2goKGZ1bmN0aW9uKGUpe3Iub3B0aW9ucy5kZWJ1ZyYmcy5kZWJ1ZyhcIkZldGNoLnB1bXAucmVhZGVyLmNhbmNlbCBleGNlcHRpb25cIixlKX0pKTt0aGlzLnJlYWRlci5yZWFkKCkudGhlbigoZnVuY3Rpb24oZSl7aWYoZS5kb25lKXJldHVybiByLm9wdGlvbnMub25FbmQoKSx0O3Iub3B0aW9ucy5vbkNodW5rKGUudmFsdWUpLHIucHVtcChyLnJlYWRlcix0KX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7ci5jYW5jZWxsZWQ/ci5vcHRpb25zLmRlYnVnJiZzLmRlYnVnKFwiRmV0Y2guY2F0Y2ggLSByZXF1ZXN0IGNhbmNlbGxlZFwiKTooci5jYW5jZWxsZWQ9ITAsci5vcHRpb25zLmRlYnVnJiZzLmRlYnVnKFwiRmV0Y2guY2F0Y2hcIixlLm1lc3NhZ2UpLHIub3B0aW9ucy5vbkVuZChlKSl9KSl9LGUucHJvdG90eXBlLnNlbmQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztmZXRjaCh0aGlzLm9wdGlvbnMudXJsLG4obih7fSx0aGlzLmluaXQpLHtoZWFkZXJzOnRoaXMubWV0YWRhdGEudG9IZWFkZXJzKCksbWV0aG9kOlwiUE9TVFwiLGJvZHk6ZSxzaWduYWw6dGhpcy5jb250cm9sbGVyJiZ0aGlzLmNvbnRyb2xsZXIuc2lnbmFsfSkpLnRoZW4oKGZ1bmN0aW9uKGUpe2lmKHQub3B0aW9ucy5kZWJ1ZyYmcy5kZWJ1ZyhcIkZldGNoLnJlc3BvbnNlXCIsZSksdC5vcHRpb25zLm9uSGVhZGVycyhuZXcgby5NZXRhZGF0YShlLmhlYWRlcnMpLGUuc3RhdHVzKSwhZS5ib2R5KXJldHVybiBlO3QucHVtcChlLmJvZHkuZ2V0UmVhZGVyKCksZSl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3QuY2FuY2VsbGVkP3Qub3B0aW9ucy5kZWJ1ZyYmcy5kZWJ1ZyhcIkZldGNoLmNhdGNoIC0gcmVxdWVzdCBjYW5jZWxsZWRcIik6KHQuY2FuY2VsbGVkPSEwLHQub3B0aW9ucy5kZWJ1ZyYmcy5kZWJ1ZyhcIkZldGNoLmNhdGNoXCIsZS5tZXNzYWdlKSx0Lm9wdGlvbnMub25FbmQoZSkpfSkpfSxlLnByb3RvdHlwZS5zZW5kTWVzc2FnZT1mdW5jdGlvbihlKXt0aGlzLnNlbmQoZSl9LGUucHJvdG90eXBlLmZpbmlzaFNlbmQ9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKGUpe3RoaXMubWV0YWRhdGE9ZX0sZS5wcm90b3R5cGUuY2FuY2VsPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLmNhbmNlbGxlZD90aGlzLm9wdGlvbnMuZGVidWcmJnMuZGVidWcoXCJGZXRjaC5jYW5jZWwgYWxyZWFkeSBjYW5jZWxsZWRcIik6KHRoaXMuY2FuY2VsbGVkPSEwLHRoaXMuY29udHJvbGxlcj8odGhpcy5vcHRpb25zLmRlYnVnJiZzLmRlYnVnKFwiRmV0Y2guY2FuY2VsLmNvbnRyb2xsZXIuYWJvcnRcIiksdGhpcy5jb250cm9sbGVyLmFib3J0KCkpOnRoaXMub3B0aW9ucy5kZWJ1ZyYmcy5kZWJ1ZyhcIkZldGNoLmNhbmNlbC5taXNzaW5nIGFib3J0IGNvbnRyb2xsZXJcIiksdGhpcy5yZWFkZXI/KHRoaXMub3B0aW9ucy5kZWJ1ZyYmcy5kZWJ1ZyhcIkZldGNoLmNhbmNlbC5yZWFkZXIuY2FuY2VsXCIpLHRoaXMucmVhZGVyLmNhbmNlbCgpLmNhdGNoKChmdW5jdGlvbih0KXtlLm9wdGlvbnMuZGVidWcmJnMuZGVidWcoXCJGZXRjaC5jYW5jZWwucmVhZGVyLmNhbmNlbCBleGNlcHRpb25cIix0KX0pKSk6dGhpcy5vcHRpb25zLmRlYnVnJiZzLmRlYnVnKFwiRmV0Y2guY2FuY2VsIGJlZm9yZSByZWFkZXJcIikpfSxlfSgpO3QuZGV0ZWN0RmV0Y2hTdXBwb3J0PWZ1bmN0aW9uKCl7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFJlc3BvbnNlJiZSZXNwb25zZS5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkoXCJib2R5XCIpJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBIZWFkZXJzfX0sODU5OmZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LkNyb3NzQnJvd3Nlckh0dHBUcmFuc3BvcnQ9dm9pZCAwO3ZhciBuPXIoMjI5KSxvPXIoMjEwKTt0LkNyb3NzQnJvd3Nlckh0dHBUcmFuc3BvcnQ9ZnVuY3Rpb24oZSl7aWYobi5kZXRlY3RGZXRjaFN1cHBvcnQoKSl7dmFyIHQ9e2NyZWRlbnRpYWxzOmUud2l0aENyZWRlbnRpYWxzP1wiaW5jbHVkZVwiOlwic2FtZS1vcmlnaW5cIn07cmV0dXJuIG4uRmV0Y2hSZWFkYWJsZVN0cmVhbVRyYW5zcG9ydCh0KX1yZXR1cm4gby5YaHJUcmFuc3BvcnQoe3dpdGhDcmVkZW50aWFsczplLndpdGhDcmVkZW50aWFsc30pfX0sMjEwOmZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbixvPXRoaXMmJnRoaXMuX19leHRlbmRzfHwobj1mdW5jdGlvbihlLHQpe3JldHVybihuPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihlLHQpe2UuX19wcm90b19fPXR9fHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgciBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LHIpJiYoZVtyXT10W3JdKX0pKGUsdCl9LGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gcigpe3RoaXMuY29uc3RydWN0b3I9ZX1uKGUsdCksZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KTooci5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IHIpfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5zdHJpbmdUb0FycmF5QnVmZmVyPXQuTW96Q2h1bmtlZEFycmF5QnVmZmVyWEhSPXQuWEhSPXQuWGhyVHJhbnNwb3J0PXZvaWQgMDt2YXIgcz1yKDY1KSxpPXIoMzQ2KSxhPXIoODQ5KTt0LlhoclRyYW5zcG9ydD1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7aWYoYS5kZXRlY3RNb3pYSFJTdXBwb3J0KCkpcmV0dXJuIG5ldyBkKHQsZSk7aWYoYS5kZXRlY3RYSFJPdmVycmlkZU1pbWVUeXBlU3VwcG9ydCgpKXJldHVybiBuZXcgdSh0LGUpO3Rocm93IG5ldyBFcnJvcihcIlRoaXMgZW52aXJvbm1lbnQncyBYSFIgaW1wbGVtZW50YXRpb24gY2Fubm90IHN1cHBvcnQgYmluYXJ5IHRyYW5zZmVyLlwiKX19O3ZhciB1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe3RoaXMub3B0aW9ucz1lLHRoaXMuaW5pdD10fXJldHVybiBlLnByb3RvdHlwZS5vblByb2dyZXNzRXZlbnQ9ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuZGVidWcmJmkuZGVidWcoXCJYSFIub25Qcm9ncmVzc0V2ZW50Lmxlbmd0aDogXCIsdGhpcy54aHIucmVzcG9uc2UubGVuZ3RoKTt2YXIgZT10aGlzLnhoci5yZXNwb25zZS5zdWJzdHIodGhpcy5pbmRleCk7dGhpcy5pbmRleD10aGlzLnhoci5yZXNwb25zZS5sZW5ndGg7dmFyIHQ9cChlKTt0aGlzLm9wdGlvbnMub25DaHVuayh0KX0sZS5wcm90b3R5cGUub25Mb2FkRXZlbnQ9ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuZGVidWcmJmkuZGVidWcoXCJYSFIub25Mb2FkRXZlbnRcIiksdGhpcy5vcHRpb25zLm9uRW5kKCl9LGUucHJvdG90eXBlLm9uU3RhdGVDaGFuZ2U9ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuZGVidWcmJmkuZGVidWcoXCJYSFIub25TdGF0ZUNoYW5nZVwiLHRoaXMueGhyLnJlYWR5U3RhdGUpLHRoaXMueGhyLnJlYWR5U3RhdGU9PT1YTUxIdHRwUmVxdWVzdC5IRUFERVJTX1JFQ0VJVkVEJiZ0aGlzLm9wdGlvbnMub25IZWFkZXJzKG5ldyBzLk1ldGFkYXRhKHRoaXMueGhyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKSx0aGlzLnhoci5zdGF0dXMpfSxlLnByb3RvdHlwZS5zZW5kTWVzc2FnZT1mdW5jdGlvbihlKXt0aGlzLnhoci5zZW5kKGUpfSxlLnByb3RvdHlwZS5maW5pc2hTZW5kPWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS5zdGFydD1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3RoaXMubWV0YWRhdGE9ZTt2YXIgcj1uZXcgWE1MSHR0cFJlcXVlc3Q7dGhpcy54aHI9cixyLm9wZW4oXCJQT1NUXCIsdGhpcy5vcHRpb25zLnVybCksdGhpcy5jb25maWd1cmVYaHIoKSx0aGlzLm1ldGFkYXRhLmZvckVhY2goKGZ1bmN0aW9uKGUsdCl7ci5zZXRSZXF1ZXN0SGVhZGVyKGUsdC5qb2luKFwiLCBcIikpfSkpLHIud2l0aENyZWRlbnRpYWxzPUJvb2xlYW4odGhpcy5pbml0LndpdGhDcmVkZW50aWFscyksci5hZGRFdmVudExpc3RlbmVyKFwicmVhZHlzdGF0ZWNoYW5nZVwiLHRoaXMub25TdGF0ZUNoYW5nZS5iaW5kKHRoaXMpKSxyLmFkZEV2ZW50TGlzdGVuZXIoXCJwcm9ncmVzc1wiLHRoaXMub25Qcm9ncmVzc0V2ZW50LmJpbmQodGhpcykpLHIuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRlbmRcIix0aGlzLm9uTG9hZEV2ZW50LmJpbmQodGhpcykpLHIuYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsKGZ1bmN0aW9uKGUpe3Qub3B0aW9ucy5kZWJ1ZyYmaS5kZWJ1ZyhcIlhIUi5lcnJvclwiLGUpLHQub3B0aW9ucy5vbkVuZChlLmVycm9yKX0pKX0sZS5wcm90b3R5cGUuY29uZmlndXJlWGhyPWZ1bmN0aW9uKCl7dGhpcy54aHIucmVzcG9uc2VUeXBlPVwidGV4dFwiLHRoaXMueGhyLm92ZXJyaWRlTWltZVR5cGUoXCJ0ZXh0L3BsYWluOyBjaGFyc2V0PXgtdXNlci1kZWZpbmVkXCIpfSxlLnByb3RvdHlwZS5jYW5jZWw9ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuZGVidWcmJmkuZGVidWcoXCJYSFIuYWJvcnRcIiksdGhpcy54aHIuYWJvcnQoKX0sZX0oKTt0LlhIUj11O3ZhciBkPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBvKHQsZSksdC5wcm90b3R5cGUuY29uZmlndXJlWGhyPWZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLmRlYnVnJiZpLmRlYnVnKFwiTW96WEhSLmNvbmZpZ3VyZVhocjogc2V0dGluZyByZXNwb25zZVR5cGUgdG8gJ21vei1jaHVua2VkLWFycmF5YnVmZmVyJ1wiKSx0aGlzLnhoci5yZXNwb25zZVR5cGU9XCJtb3otY2h1bmtlZC1hcnJheWJ1ZmZlclwifSx0LnByb3RvdHlwZS5vblByb2dyZXNzRXZlbnQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnhoci5yZXNwb25zZTt0aGlzLm9wdGlvbnMuZGVidWcmJmkuZGVidWcoXCJNb3pYSFIub25Qcm9ncmVzc0V2ZW50OiBcIixuZXcgVWludDhBcnJheShlKSksdGhpcy5vcHRpb25zLm9uQ2h1bmsobmV3IFVpbnQ4QXJyYXkoZSkpfSx0fSh1KTtmdW5jdGlvbiBjKGUsdCl7dmFyIHI9ZS5jaGFyQ29kZUF0KHQpO2lmKHI+PTU1Mjk2JiZyPD01NjMxOSl7dmFyIG49ZS5jaGFyQ29kZUF0KHQrMSk7bj49NTYzMjAmJm48PTU3MzQzJiYocj02NTUzNisoci01NTI5Njw8MTApKyhuLTU2MzIwKSl9cmV0dXJuIHJ9ZnVuY3Rpb24gcChlKXtmb3IodmFyIHQ9bmV3IFVpbnQ4QXJyYXkoZS5sZW5ndGgpLHI9MCxuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciBvPVN0cmluZy5wcm90b3R5cGUuY29kZVBvaW50QXQ/ZS5jb2RlUG9pbnRBdChuKTpjKGUsbik7dFtyKytdPTI1NSZvfXJldHVybiB0fXQuTW96Q2h1bmtlZEFycmF5QnVmZmVyWEhSPWQsdC5zdHJpbmdUb0FycmF5QnVmZmVyPXB9LDg0OTpmdW5jdGlvbihlLHQpe1widXNlIHN0cmljdFwiO3ZhciByO2Z1bmN0aW9uIG4oKXtpZih2b2lkIDAhPT1yKXJldHVybiByO2lmKFhNTEh0dHBSZXF1ZXN0KXtyPW5ldyBYTUxIdHRwUmVxdWVzdDt0cnl7ci5vcGVuKFwiR0VUXCIsXCJodHRwczovL2xvY2FsaG9zdFwiKX1jYXRjaChlKXt9fXJldHVybiByfWZ1bmN0aW9uIG8oZSl7dmFyIHQ9bigpO2lmKCF0KXJldHVybiExO3RyeXtyZXR1cm4gdC5yZXNwb25zZVR5cGU9ZSx0LnJlc3BvbnNlVHlwZT09PWV9Y2F0Y2goZSl7fXJldHVybiExfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGV0ZWN0WEhST3ZlcnJpZGVNaW1lVHlwZVN1cHBvcnQ9dC5kZXRlY3RNb3pYSFJTdXBwb3J0PXQueGhyU3VwcG9ydHNSZXNwb25zZVR5cGU9dm9pZCAwLHQueGhyU3VwcG9ydHNSZXNwb25zZVR5cGU9byx0LmRldGVjdE1velhIUlN1cHBvcnQ9ZnVuY3Rpb24oKXtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2YgWE1MSHR0cFJlcXVlc3QmJm8oXCJtb3otY2h1bmtlZC1hcnJheWJ1ZmZlclwiKX0sdC5kZXRlY3RYSFJPdmVycmlkZU1pbWVUeXBlU3VwcG9ydD1mdW5jdGlvbigpe3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBYTUxIdHRwUmVxdWVzdCYmWE1MSHR0cFJlcXVlc3QucHJvdG90eXBlLmhhc093blByb3BlcnR5KFwib3ZlcnJpZGVNaW1lVHlwZVwiKX19LDU0MDpmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5XZWJzb2NrZXRUcmFuc3BvcnQ9dm9pZCAwO3ZhciBuLG89cigzNDYpLHM9cig2MTcpOyFmdW5jdGlvbihlKXtlW2UuRklOSVNIX1NFTkQ9MV09XCJGSU5JU0hfU0VORFwifShufHwobj17fSkpO3ZhciBpPW5ldyBVaW50OEFycmF5KFsxXSk7dC5XZWJzb2NrZXRUcmFuc3BvcnQ9ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe2UuZGVidWcmJm8uZGVidWcoXCJ3ZWJzb2NrZXRSZXF1ZXN0XCIsZSk7dmFyIHQscj1mdW5jdGlvbihlKXtpZihcImh0dHBzOi8vXCI9PT1lLnN1YnN0cigwLDgpKXJldHVyblwid3NzOi8vXCIrZS5zdWJzdHIoOCk7aWYoXCJodHRwOi8vXCI9PT1lLnN1YnN0cigwLDcpKXJldHVyblwid3M6Ly9cIitlLnN1YnN0cig3KTt0aHJvdyBuZXcgRXJyb3IoXCJXZWJzb2NrZXQgdHJhbnNwb3J0IGNvbnN0cnVjdGVkIHdpdGggbm9uLWh0dHBzOi8vIG9yIGh0dHA6Ly8gaG9zdC5cIil9KGUudXJsKSxhPVtdO2Z1bmN0aW9uIHUoZSl7aWYoZT09PW4uRklOSVNIX1NFTkQpdC5zZW5kKGkpO2Vsc2V7dmFyIHI9ZSxvPW5ldyBJbnQ4QXJyYXkoci5ieXRlTGVuZ3RoKzEpO28uc2V0KG5ldyBVaW50OEFycmF5KFswXSkpLG8uc2V0KHIsMSksdC5zZW5kKG8pfX1yZXR1cm57c2VuZE1lc3NhZ2U6ZnVuY3Rpb24oZSl7dCYmdC5yZWFkeVN0YXRlIT09dC5DT05ORUNUSU5HP3UoZSk6YS5wdXNoKGUpfSxmaW5pc2hTZW5kOmZ1bmN0aW9uKCl7dCYmdC5yZWFkeVN0YXRlIT09dC5DT05ORUNUSU5HP3Uobi5GSU5JU0hfU0VORCk6YS5wdXNoKG4uRklOSVNIX1NFTkQpfSxzdGFydDpmdW5jdGlvbihuKXsodD1uZXcgV2ViU29ja2V0KHIsW1wiZ3JwYy13ZWJzb2NrZXRzXCJdKSkuYmluYXJ5VHlwZT1cImFycmF5YnVmZmVyXCIsdC5vbm9wZW49ZnVuY3Rpb24oKXt2YXIgcjtlLmRlYnVnJiZvLmRlYnVnKFwid2Vic29ja2V0UmVxdWVzdC5vbm9wZW5cIiksdC5zZW5kKChyPVwiXCIsbi5mb3JFYWNoKChmdW5jdGlvbihlLHQpe3IrPWUrXCI6IFwiK3Quam9pbihcIiwgXCIpK1wiXFxyXFxuXCJ9KSkscy5lbmNvZGVBU0NJSShyKSkpLGEuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dShlKX0pKX0sdC5vbmNsb3NlPWZ1bmN0aW9uKHQpe2UuZGVidWcmJm8uZGVidWcoXCJ3ZWJzb2NrZXRSZXF1ZXN0Lm9uY2xvc2VcIix0KSxlLm9uRW5kKCl9LHQub25lcnJvcj1mdW5jdGlvbih0KXtlLmRlYnVnJiZvLmRlYnVnKFwid2Vic29ja2V0UmVxdWVzdC5vbmVycm9yXCIsdCl9LHQub25tZXNzYWdlPWZ1bmN0aW9uKHQpe2Uub25DaHVuayhuZXcgVWludDhBcnJheSh0LmRhdGEpKX19LGNhbmNlbDpmdW5jdGlvbigpe2UuZGVidWcmJm8uZGVidWcoXCJ3ZWJzb2NrZXQuYWJvcnRcIiksdC5jbG9zZSgpfX19KGUpfX19LDM1OmZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LnVuYXJ5PXZvaWQgMDt2YXIgbj1yKDY1KSxvPXIoOTM0KTt0LnVuYXJ5PWZ1bmN0aW9uKGUsdCl7aWYoZS5yZXNwb25zZVN0cmVhbSl0aHJvdyBuZXcgRXJyb3IoXCIudW5hcnkgY2Fubm90IGJlIHVzZWQgd2l0aCBzZXJ2ZXItc3RyZWFtaW5nIG1ldGhvZHMuIFVzZSAuaW52b2tlIG9yIC5jbGllbnQgaW5zdGVhZC5cIik7aWYoZS5yZXF1ZXN0U3RyZWFtKXRocm93IG5ldyBFcnJvcihcIi51bmFyeSBjYW5ub3QgYmUgdXNlZCB3aXRoIGNsaWVudC1zdHJlYW1pbmcgbWV0aG9kcy4gVXNlIC5jbGllbnQgaW5zdGVhZC5cIik7dmFyIHI9bnVsbCxzPW51bGwsaT1vLmNsaWVudChlLHtob3N0OnQuaG9zdCx0cmFuc3BvcnQ6dC50cmFuc3BvcnQsZGVidWc6dC5kZWJ1Z30pO3JldHVybiBpLm9uSGVhZGVycygoZnVuY3Rpb24oZSl7cj1lfSkpLGkub25NZXNzYWdlKChmdW5jdGlvbihlKXtzPWV9KSksaS5vbkVuZCgoZnVuY3Rpb24oZSxvLGkpe3Qub25FbmQoe3N0YXR1czplLHN0YXR1c01lc3NhZ2U6byxoZWFkZXJzOnJ8fG5ldyBuLk1ldGFkYXRhLG1lc3NhZ2U6cyx0cmFpbGVyczppfSl9KSksaS5zdGFydCh0Lm1ldGFkYXRhKSxpLnNlbmQodC5yZXF1ZXN0KSxpLmZpbmlzaFNlbmQoKSx7Y2xvc2U6ZnVuY3Rpb24oKXtpLmNsb3NlKCl9fX19LDg4MjpmdW5jdGlvbihlLHQpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZnJhbWVSZXF1ZXN0PXZvaWQgMCx0LmZyYW1lUmVxdWVzdD1mdW5jdGlvbihlKXt2YXIgdD1lLnNlcmlhbGl6ZUJpbmFyeSgpLHI9bmV3IEFycmF5QnVmZmVyKHQuYnl0ZUxlbmd0aCs1KTtyZXR1cm4gbmV3IERhdGFWaWV3KHIsMSw0KS5zZXRVaW50MzIoMCx0Lmxlbmd0aCwhMSksbmV3IFVpbnQ4QXJyYXkociw1KS5zZXQodCksbmV3IFVpbnQ4QXJyYXkocil9fX0sdD17fSxmdW5jdGlvbiByKG4pe2lmKHRbbl0pcmV0dXJuIHRbbl0uZXhwb3J0czt2YXIgbz10W25dPXtleHBvcnRzOnt9fTtyZXR1cm4gZVtuXS5jYWxsKG8uZXhwb3J0cyxvLG8uZXhwb3J0cyxyKSxvLmV4cG9ydHN9KDYwNyk7dmFyIGUsdH0pKTsiLCIhZnVuY3Rpb24oZSx0KXtpZihcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZSltb2R1bGUuZXhwb3J0cz10KCk7ZWxzZSBpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQpZGVmaW5lKFtdLHQpO2Vsc2V7dmFyIHI9dCgpO2Zvcih2YXIgbiBpbiByKShcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9leHBvcnRzOmUpW25dPXJbbl19fSh0aGlzLChmdW5jdGlvbigpe3JldHVybiBlPXs0MTg6ZnVuY3Rpb24oZSx0KXshZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIgaW4gdCllW3JdPXRbcl19KHQsZnVuY3Rpb24oZSl7dmFyIHQ9e307ZnVuY3Rpb24gcihuKXtpZih0W25dKXJldHVybiB0W25dLmV4cG9ydHM7dmFyIG89dFtuXT17aTpuLGw6ITEsZXhwb3J0czp7fX07cmV0dXJuIGVbbl0uY2FsbChvLmV4cG9ydHMsbyxvLmV4cG9ydHMsciksby5sPSEwLG8uZXhwb3J0c31yZXR1cm4gci5tPWUsci5jPXQsci5pPWZ1bmN0aW9uKGUpe3JldHVybiBlfSxyLmQ9ZnVuY3Rpb24oZSx0LG4pe3IubyhlLHQpfHxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHtjb25maWd1cmFibGU6ITEsZW51bWVyYWJsZTohMCxnZXQ6bn0pfSxyLm49ZnVuY3Rpb24oZSl7dmFyIHQ9ZSYmZS5fX2VzTW9kdWxlP2Z1bmN0aW9uKCl7cmV0dXJuIGUuZGVmYXVsdH06ZnVuY3Rpb24oKXtyZXR1cm4gZX07cmV0dXJuIHIuZCh0LFwiYVwiLHQpLHR9LHIubz1mdW5jdGlvbihlLHQpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KX0sci5wPVwiXCIscihyLnM9MSl9KFtmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG49cigzKSxvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe3ZvaWQgMD09PWUmJihlPXt9KSx2b2lkIDA9PT10JiYodD17c3BsaXRWYWx1ZXM6ITF9KTt2YXIgcixvPXRoaXM7dGhpcy5oZWFkZXJzTWFwPXt9LGUmJihcInVuZGVmaW5lZFwiIT10eXBlb2YgSGVhZGVycyYmZSBpbnN0YW5jZW9mIEhlYWRlcnM/bi5nZXRIZWFkZXJLZXlzKGUpLmZvckVhY2goKGZ1bmN0aW9uKHIpe24uZ2V0SGVhZGVyVmFsdWVzKGUscikuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dC5zcGxpdFZhbHVlcz9vLmFwcGVuZChyLG4uc3BsaXRIZWFkZXJWYWx1ZShlKSk6by5hcHBlbmQocixlKX0pKX0pKTpcIm9iamVjdFwiPT10eXBlb2Yocj1lKSYmXCJvYmplY3RcIj09dHlwZW9mIHIuaGVhZGVyc01hcCYmXCJmdW5jdGlvblwiPT10eXBlb2Ygci5mb3JFYWNoP2UuZm9yRWFjaCgoZnVuY3Rpb24oZSx0KXtvLmFwcGVuZChlLHQpfSkpOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBNYXAmJmUgaW5zdGFuY2VvZiBNYXA/ZS5mb3JFYWNoKChmdW5jdGlvbihlLHQpe28uYXBwZW5kKHQsZSl9KSk6XCJzdHJpbmdcIj09dHlwZW9mIGU/dGhpcy5hcHBlbmRGcm9tU3RyaW5nKGUpOlwib2JqZWN0XCI9PXR5cGVvZiBlJiZPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhlKS5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgcj1lW3RdO0FycmF5LmlzQXJyYXkocik/ci5mb3JFYWNoKChmdW5jdGlvbihlKXtvLmFwcGVuZCh0LGUpfSkpOm8uYXBwZW5kKHQscil9KSkpfXJldHVybiBlLnByb3RvdHlwZS5hcHBlbmRGcm9tU3RyaW5nPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1lLnNwbGl0KFwiXFxyXFxuXCIpLHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG49dFtyXSxvPW4uaW5kZXhPZihcIjpcIik7aWYobz4wKXt2YXIgcz1uLnN1YnN0cmluZygwLG8pLnRyaW0oKSxpPW4uc3Vic3RyaW5nKG8rMSkudHJpbSgpO3RoaXMuYXBwZW5kKHMsaSl9fX0sZS5wcm90b3R5cGUuZGVsZXRlPWZ1bmN0aW9uKGUsdCl7dmFyIHI9bi5ub3JtYWxpemVOYW1lKGUpO2lmKHZvaWQgMD09PXQpZGVsZXRlIHRoaXMuaGVhZGVyc01hcFtyXTtlbHNle3ZhciBvPXRoaXMuaGVhZGVyc01hcFtyXTtpZihvKXt2YXIgcz1vLmluZGV4T2YodCk7cz49MCYmby5zcGxpY2UocywxKSwwPT09by5sZW5ndGgmJmRlbGV0ZSB0aGlzLmhlYWRlcnNNYXBbcl19fX0sZS5wcm90b3R5cGUuYXBwZW5kPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxvPW4ubm9ybWFsaXplTmFtZShlKTtBcnJheS5pc0FycmF5KHRoaXMuaGVhZGVyc01hcFtvXSl8fCh0aGlzLmhlYWRlcnNNYXBbb109W10pLEFycmF5LmlzQXJyYXkodCk/dC5mb3JFYWNoKChmdW5jdGlvbihlKXtyLmhlYWRlcnNNYXBbb10ucHVzaChuLm5vcm1hbGl6ZVZhbHVlKGUpKX0pKTp0aGlzLmhlYWRlcnNNYXBbb10ucHVzaChuLm5vcm1hbGl6ZVZhbHVlKHQpKX0sZS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGUsdCl7dmFyIHI9bi5ub3JtYWxpemVOYW1lKGUpO2lmKEFycmF5LmlzQXJyYXkodCkpe3ZhciBvPVtdO3QuZm9yRWFjaCgoZnVuY3Rpb24oZSl7by5wdXNoKG4ubm9ybWFsaXplVmFsdWUoZSkpfSkpLHRoaXMuaGVhZGVyc01hcFtyXT1vfWVsc2UgdGhpcy5oZWFkZXJzTWFwW3JdPVtuLm5vcm1hbGl6ZVZhbHVlKHQpXX0sZS5wcm90b3R5cGUuaGFzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5oZWFkZXJzTWFwW24ubm9ybWFsaXplTmFtZShlKV07aWYoIUFycmF5LmlzQXJyYXkocikpcmV0dXJuITE7aWYodm9pZCAwIT09dCl7dmFyIG89bi5ub3JtYWxpemVWYWx1ZSh0KTtyZXR1cm4gci5pbmRleE9mKG8pPj0wfXJldHVybiEwfSxlLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5oZWFkZXJzTWFwW24ubm9ybWFsaXplTmFtZShlKV07cmV0dXJuIHZvaWQgMCE9PXQ/dC5jb25jYXQoKTpbXX0sZS5wcm90b3R5cGUuZm9yRWFjaD1mdW5jdGlvbihlKXt2YXIgdD10aGlzO09iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRoaXMuaGVhZGVyc01hcCkuZm9yRWFjaCgoZnVuY3Rpb24ocil7ZShyLHQuaGVhZGVyc01hcFtyXSl9KSx0aGlzKX0sZS5wcm90b3R5cGUudG9IZWFkZXJzPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIEhlYWRlcnMpe3ZhciBlPW5ldyBIZWFkZXJzO3JldHVybiB0aGlzLmZvckVhY2goKGZ1bmN0aW9uKHQscil7ci5mb3JFYWNoKChmdW5jdGlvbihyKXtlLmFwcGVuZCh0LHIpfSkpfSkpLGV9dGhyb3cgbmV3IEVycm9yKFwiSGVhZGVycyBjbGFzcyBpcyBub3QgZGVmaW5lZFwiKX0sZX0oKTt0LkJyb3dzZXJIZWFkZXJzPW99LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbj1yKDApO3QuQnJvd3NlckhlYWRlcnM9bi5Ccm93c2VySGVhZGVyc30sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuaXRlcmF0ZUhlYWRlcnM9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9ZVtTeW1ib2wuaXRlcmF0b3JdKCksbj1yLm5leHQoKTshbi5kb25lOyl0KG4udmFsdWVbMF0pLG49ci5uZXh0KCl9LHQuaXRlcmF0ZUhlYWRlcnNLZXlzPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPWUua2V5cygpLG49ci5uZXh0KCk7IW4uZG9uZTspdChuLnZhbHVlKSxuPXIubmV4dCgpfX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBuPXIoMik7dC5ub3JtYWxpemVOYW1lPWZ1bmN0aW9uKGUpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlJiYoZT1TdHJpbmcoZSkpLC9bXmEtejAtOVxcLSMkJSYnKisuXFxeX2B8fl0vaS50ZXN0KGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGNoYXJhY3RlciBpbiBoZWFkZXIgZmllbGQgbmFtZVwiKTtyZXR1cm4gZS50b0xvd2VyQ2FzZSgpfSx0Lm5vcm1hbGl6ZVZhbHVlPWZ1bmN0aW9uKGUpe3JldHVyblwic3RyaW5nXCIhPXR5cGVvZiBlJiYoZT1TdHJpbmcoZSkpLGV9LHQuZ2V0SGVhZGVyVmFsdWVzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZTtpZihyIGluc3RhbmNlb2YgSGVhZGVycyYmci5nZXRBbGwpcmV0dXJuIHIuZ2V0QWxsKHQpO3ZhciBuPXIuZ2V0KHQpO3JldHVybiBuJiZcInN0cmluZ1wiPT10eXBlb2Ygbj9bbl06bn0sdC5nZXRIZWFkZXJLZXlzPWZ1bmN0aW9uKGUpe3ZhciB0PWUscj17fSxvPVtdO3JldHVybiB0LmtleXM/bi5pdGVyYXRlSGVhZGVyc0tleXModCwoZnVuY3Rpb24oZSl7cltlXXx8KHJbZV09ITAsby5wdXNoKGUpKX0pKTp0LmZvckVhY2g/dC5mb3JFYWNoKChmdW5jdGlvbihlLHQpe3JbdF18fChyW3RdPSEwLG8ucHVzaCh0KSl9KSk6bi5pdGVyYXRlSGVhZGVycyh0LChmdW5jdGlvbihlKXt2YXIgdD1lWzBdO3JbdF18fChyW3RdPSEwLG8ucHVzaCh0KSl9KSksb30sdC5zcGxpdEhlYWRlclZhbHVlPWZ1bmN0aW9uKGUpe3ZhciB0PVtdO3JldHVybiBlLnNwbGl0KFwiLCBcIikuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5zcGxpdChcIixcIikuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dC5wdXNoKGUpfSkpfSkpLHR9fV0pKX0sNjE3OmZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LkNodW5rUGFyc2VyPXQuQ2h1bmtUeXBlPXQuZW5jb2RlQVNDSUk9dC5kZWNvZGVBU0NJST12b2lkIDA7dmFyIG4sbz1yKDY1KTtmdW5jdGlvbiBzKGUpe3JldHVybiA5PT09KHQ9ZSl8fDEwPT09dHx8MTM9PT10fHxlPj0zMiYmZTw9MTI2O3ZhciB0fWZ1bmN0aW9uIGkoZSl7Zm9yKHZhciB0PTA7dCE9PWUubGVuZ3RoOysrdClpZighcyhlW3RdKSl0aHJvdyBuZXcgRXJyb3IoXCJNZXRhZGF0YSBpcyBub3QgdmFsaWQgKHByaW50YWJsZSkgQVNDSUlcIik7cmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGUpKX1mdW5jdGlvbiBhKGUpe3JldHVybiAxMjg9PSgxMjgmZS5nZXRVaW50OCgwKSl9ZnVuY3Rpb24gdShlKXtyZXR1cm4gZS5nZXRVaW50MzIoMSwhMSl9ZnVuY3Rpb24gZChlLHQscil7cmV0dXJuIGUuYnl0ZUxlbmd0aC10Pj1yfWZ1bmN0aW9uIGMoZSx0LHIpe2lmKGUuc2xpY2UpcmV0dXJuIGUuc2xpY2UodCxyKTt2YXIgbj1lLmxlbmd0aDt2b2lkIDAhPT1yJiYobj1yKTtmb3IodmFyIG89bmV3IFVpbnQ4QXJyYXkobi10KSxzPTAsaT10O2k8bjtpKyspb1tzKytdPWVbaV07cmV0dXJuIG99dC5kZWNvZGVBU0NJST1pLHQuZW5jb2RlQVNDSUk9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PW5ldyBVaW50OEFycmF5KGUubGVuZ3RoKSxyPTA7ciE9PWUubGVuZ3RoOysrcil7dmFyIG49ZS5jaGFyQ29kZUF0KHIpO2lmKCFzKG4pKXRocm93IG5ldyBFcnJvcihcIk1ldGFkYXRhIGNvbnRhaW5zIGludmFsaWQgQVNDSUlcIik7dFtyXT1ufXJldHVybiB0fSxmdW5jdGlvbihlKXtlW2UuTUVTU0FHRT0xXT1cIk1FU1NBR0VcIixlW2UuVFJBSUxFUlM9Ml09XCJUUkFJTEVSU1wifShuPXQuQ2h1bmtUeXBlfHwodC5DaHVua1R5cGU9e30pKTt2YXIgcD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLmJ1ZmZlcj1udWxsLHRoaXMucG9zaXRpb249MH1yZXR1cm4gZS5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oZSx0KXtpZigwPT09ZS5sZW5ndGgmJnQpcmV0dXJuW107dmFyIHIscz1bXTtpZihudWxsPT10aGlzLmJ1ZmZlcil0aGlzLmJ1ZmZlcj1lLHRoaXMucG9zaXRpb249MDtlbHNlIGlmKHRoaXMucG9zaXRpb249PT10aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoKXRoaXMuYnVmZmVyPWUsdGhpcy5wb3NpdGlvbj0wO2Vsc2V7dmFyIHA9dGhpcy5idWZmZXIuYnl0ZUxlbmd0aC10aGlzLnBvc2l0aW9uLGg9bmV3IFVpbnQ4QXJyYXkocCtlLmJ5dGVMZW5ndGgpLGY9Yyh0aGlzLmJ1ZmZlcix0aGlzLnBvc2l0aW9uKTtoLnNldChmLDApO3ZhciBsPW5ldyBVaW50OEFycmF5KGUpO2guc2V0KGwscCksdGhpcy5idWZmZXI9aCx0aGlzLnBvc2l0aW9uPTB9Zm9yKDs7KXtpZighZCh0aGlzLmJ1ZmZlcix0aGlzLnBvc2l0aW9uLDUpKXJldHVybiBzO3ZhciBnPWModGhpcy5idWZmZXIsdGhpcy5wb3NpdGlvbix0aGlzLnBvc2l0aW9uKzUpLGI9bmV3IERhdGFWaWV3KGcuYnVmZmVyLGcuYnl0ZU9mZnNldCxnLmJ5dGVMZW5ndGgpLHk9dShiKTtpZighZCh0aGlzLmJ1ZmZlcix0aGlzLnBvc2l0aW9uLDUreSkpcmV0dXJuIHM7dmFyIHY9Yyh0aGlzLmJ1ZmZlcix0aGlzLnBvc2l0aW9uKzUsdGhpcy5wb3NpdGlvbis1K3kpO2lmKHRoaXMucG9zaXRpb24rPTUreSxhKGIpKXJldHVybiBzLnB1c2goe2NodW5rVHlwZTpuLlRSQUlMRVJTLHRyYWlsZXJzOihyPXYsbmV3IG8uTWV0YWRhdGEoaShyKSkpfSkscztzLnB1c2goe2NodW5rVHlwZTpuLk1FU1NBR0UsZGF0YTp2fSl9fSxlfSgpO3QuQ2h1bmtQYXJzZXI9cH0sODpmdW5jdGlvbihlLHQpe1widXNlIHN0cmljdFwiO3ZhciByO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuaHR0cFN0YXR1c1RvQ29kZT10LkNvZGU9dm9pZCAwLGZ1bmN0aW9uKGUpe2VbZS5PSz0wXT1cIk9LXCIsZVtlLkNhbmNlbGVkPTFdPVwiQ2FuY2VsZWRcIixlW2UuVW5rbm93bj0yXT1cIlVua25vd25cIixlW2UuSW52YWxpZEFyZ3VtZW50PTNdPVwiSW52YWxpZEFyZ3VtZW50XCIsZVtlLkRlYWRsaW5lRXhjZWVkZWQ9NF09XCJEZWFkbGluZUV4Y2VlZGVkXCIsZVtlLk5vdEZvdW5kPTVdPVwiTm90Rm91bmRcIixlW2UuQWxyZWFkeUV4aXN0cz02XT1cIkFscmVhZHlFeGlzdHNcIixlW2UuUGVybWlzc2lvbkRlbmllZD03XT1cIlBlcm1pc3Npb25EZW5pZWRcIixlW2UuUmVzb3VyY2VFeGhhdXN0ZWQ9OF09XCJSZXNvdXJjZUV4aGF1c3RlZFwiLGVbZS5GYWlsZWRQcmVjb25kaXRpb249OV09XCJGYWlsZWRQcmVjb25kaXRpb25cIixlW2UuQWJvcnRlZD0xMF09XCJBYm9ydGVkXCIsZVtlLk91dE9mUmFuZ2U9MTFdPVwiT3V0T2ZSYW5nZVwiLGVbZS5VbmltcGxlbWVudGVkPTEyXT1cIlVuaW1wbGVtZW50ZWRcIixlW2UuSW50ZXJuYWw9MTNdPVwiSW50ZXJuYWxcIixlW2UuVW5hdmFpbGFibGU9MTRdPVwiVW5hdmFpbGFibGVcIixlW2UuRGF0YUxvc3M9MTVdPVwiRGF0YUxvc3NcIixlW2UuVW5hdXRoZW50aWNhdGVkPTE2XT1cIlVuYXV0aGVudGljYXRlZFwifShyPXQuQ29kZXx8KHQuQ29kZT17fSkpLHQuaHR0cFN0YXR1c1RvQ29kZT1mdW5jdGlvbihlKXtzd2l0Y2goZSl7Y2FzZSAwOnJldHVybiByLkludGVybmFsO2Nhc2UgMjAwOnJldHVybiByLk9LO2Nhc2UgNDAwOnJldHVybiByLkludmFsaWRBcmd1bWVudDtjYXNlIDQwMTpyZXR1cm4gci5VbmF1dGhlbnRpY2F0ZWQ7Y2FzZSA0MDM6cmV0dXJuIHIuUGVybWlzc2lvbkRlbmllZDtjYXNlIDQwNDpyZXR1cm4gci5Ob3RGb3VuZDtjYXNlIDQwOTpyZXR1cm4gci5BYm9ydGVkO2Nhc2UgNDEyOnJldHVybiByLkZhaWxlZFByZWNvbmRpdGlvbjtjYXNlIDQyOTpyZXR1cm4gci5SZXNvdXJjZUV4aGF1c3RlZDtjYXNlIDQ5OTpyZXR1cm4gci5DYW5jZWxlZDtjYXNlIDUwMDpyZXR1cm4gci5Vbmtub3duO2Nhc2UgNTAxOnJldHVybiByLlVuaW1wbGVtZW50ZWQ7Y2FzZSA1MDM6cmV0dXJuIHIuVW5hdmFpbGFibGU7Y2FzZSA1MDQ6cmV0dXJuIHIuRGVhZGxpbmVFeGNlZWRlZDtkZWZhdWx0OnJldHVybiByLlVua25vd259fX0sOTM0OmZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmNsaWVudD12b2lkIDA7dmFyIG49cig2NSksbz1yKDYxNykscz1yKDgpLGk9cigzNDYpLGE9cig1NyksdT1yKDg4Mik7dC5jbGllbnQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3IGQoZSx0KX07dmFyIGQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7dGhpcy5zdGFydGVkPSExLHRoaXMuc2VudEZpcnN0TWVzc2FnZT0hMSx0aGlzLmNvbXBsZXRlZD0hMSx0aGlzLmNsb3NlZD0hMSx0aGlzLmZpbmlzaGVkU2VuZGluZz0hMSx0aGlzLm9uSGVhZGVyc0NhbGxiYWNrcz1bXSx0aGlzLm9uTWVzc2FnZUNhbGxiYWNrcz1bXSx0aGlzLm9uRW5kQ2FsbGJhY2tzPVtdLHRoaXMucGFyc2VyPW5ldyBvLkNodW5rUGFyc2VyLHRoaXMubWV0aG9kRGVmaW5pdGlvbj1lLHRoaXMucHJvcHM9dCx0aGlzLmNyZWF0ZVRyYW5zcG9ydCgpfXJldHVybiBlLnByb3RvdHlwZS5jcmVhdGVUcmFuc3BvcnQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnByb3BzLmhvc3QrXCIvXCIrdGhpcy5tZXRob2REZWZpbml0aW9uLnNlcnZpY2Uuc2VydmljZU5hbWUrXCIvXCIrdGhpcy5tZXRob2REZWZpbml0aW9uLm1ldGhvZE5hbWUsdD17bWV0aG9kRGVmaW5pdGlvbjp0aGlzLm1ldGhvZERlZmluaXRpb24sZGVidWc6dGhpcy5wcm9wcy5kZWJ1Z3x8ITEsdXJsOmUsb25IZWFkZXJzOnRoaXMub25UcmFuc3BvcnRIZWFkZXJzLmJpbmQodGhpcyksb25DaHVuazp0aGlzLm9uVHJhbnNwb3J0Q2h1bmsuYmluZCh0aGlzKSxvbkVuZDp0aGlzLm9uVHJhbnNwb3J0RW5kLmJpbmQodGhpcyl9O3RoaXMucHJvcHMudHJhbnNwb3J0P3RoaXMudHJhbnNwb3J0PXRoaXMucHJvcHMudHJhbnNwb3J0KHQpOnRoaXMudHJhbnNwb3J0PWEubWFrZURlZmF1bHRUcmFuc3BvcnQodCl9LGUucHJvdG90eXBlLm9uVHJhbnNwb3J0SGVhZGVycz1mdW5jdGlvbihlLHQpe2lmKHRoaXMucHJvcHMuZGVidWcmJmkuZGVidWcoXCJvbkhlYWRlcnNcIixlLHQpLHRoaXMuY2xvc2VkKXRoaXMucHJvcHMuZGVidWcmJmkuZGVidWcoXCJncnBjLm9uSGVhZGVycyByZWNlaXZlZCBhZnRlciByZXF1ZXN0IHdhcyBjbG9zZWQgLSBpZ25vcmluZ1wiKTtlbHNlIGlmKDA9PT10KTtlbHNle3RoaXMucmVzcG9uc2VIZWFkZXJzPWUsdGhpcy5wcm9wcy5kZWJ1ZyYmaS5kZWJ1ZyhcIm9uSGVhZGVycy5yZXNwb25zZUhlYWRlcnNcIixKU09OLnN0cmluZ2lmeSh0aGlzLnJlc3BvbnNlSGVhZGVycyxudWxsLDIpKTt2YXIgcj1jKGUpO3RoaXMucHJvcHMuZGVidWcmJmkuZGVidWcoXCJvbkhlYWRlcnMuZ1JQQ1N0YXR1c1wiLHIpO3ZhciBuPXImJnI+PTA/cjpzLmh0dHBTdGF0dXNUb0NvZGUodCk7dGhpcy5wcm9wcy5kZWJ1ZyYmaS5kZWJ1ZyhcIm9uSGVhZGVycy5jb2RlXCIsbik7dmFyIG89ZS5nZXQoXCJncnBjLW1lc3NhZ2VcIil8fFtdO2lmKHRoaXMucHJvcHMuZGVidWcmJmkuZGVidWcoXCJvbkhlYWRlcnMuZ1JQQ01lc3NhZ2VcIixvKSx0aGlzLnJhd09uSGVhZGVycyhlKSxuIT09cy5Db2RlLk9LKXt2YXIgYT10aGlzLmRlY29kZUdSUENTdGF0dXMob1swXSk7dGhpcy5yYXdPbkVycm9yKG4sYSxlKX19fSxlLnByb3RvdHlwZS5vblRyYW5zcG9ydENodW5rPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aWYodGhpcy5jbG9zZWQpdGhpcy5wcm9wcy5kZWJ1ZyYmaS5kZWJ1ZyhcImdycGMub25DaHVuayByZWNlaXZlZCBhZnRlciByZXF1ZXN0IHdhcyBjbG9zZWQgLSBpZ25vcmluZ1wiKTtlbHNle3ZhciByPVtdO3RyeXtyPXRoaXMucGFyc2VyLnBhcnNlKGUpfWNhdGNoKGUpe3JldHVybiB0aGlzLnByb3BzLmRlYnVnJiZpLmRlYnVnKFwib25DaHVuay5wYXJzaW5nIGVycm9yXCIsZSxlLm1lc3NhZ2UpLHZvaWQgdGhpcy5yYXdPbkVycm9yKHMuQ29kZS5JbnRlcm5hbCxcInBhcnNpbmcgZXJyb3I6IFwiK2UubWVzc2FnZSl9ci5mb3JFYWNoKChmdW5jdGlvbihlKXtpZihlLmNodW5rVHlwZT09PW8uQ2h1bmtUeXBlLk1FU1NBR0Upe3ZhciByPXQubWV0aG9kRGVmaW5pdGlvbi5yZXNwb25zZVR5cGUuZGVzZXJpYWxpemVCaW5hcnkoZS5kYXRhKTt0LnJhd09uTWVzc2FnZShyKX1lbHNlIGUuY2h1bmtUeXBlPT09by5DaHVua1R5cGUuVFJBSUxFUlMmJih0LnJlc3BvbnNlSGVhZGVycz8odC5yZXNwb25zZVRyYWlsZXJzPW5ldyBuLk1ldGFkYXRhKGUudHJhaWxlcnMpLHQucHJvcHMuZGVidWcmJmkuZGVidWcoXCJvbkNodW5rLnRyYWlsZXJzXCIsdC5yZXNwb25zZVRyYWlsZXJzKSk6KHQucmVzcG9uc2VIZWFkZXJzPW5ldyBuLk1ldGFkYXRhKGUudHJhaWxlcnMpLHQucmF3T25IZWFkZXJzKHQucmVzcG9uc2VIZWFkZXJzKSkpfSkpfX0sZS5wcm90b3R5cGUub25UcmFuc3BvcnRFbmQ9ZnVuY3Rpb24oKXtpZih0aGlzLnByb3BzLmRlYnVnJiZpLmRlYnVnKFwiZ3JwYy5vbkVuZFwiKSx0aGlzLmNsb3NlZCl0aGlzLnByb3BzLmRlYnVnJiZpLmRlYnVnKFwiZ3JwYy5vbkVuZCByZWNlaXZlZCBhZnRlciByZXF1ZXN0IHdhcyBjbG9zZWQgLSBpZ25vcmluZ1wiKTtlbHNlIGlmKHZvaWQgMCE9PXRoaXMucmVzcG9uc2VUcmFpbGVycyl7dmFyIGU9Yyh0aGlzLnJlc3BvbnNlVHJhaWxlcnMpO2lmKG51bGwhPT1lKXt2YXIgdD10aGlzLnJlc3BvbnNlVHJhaWxlcnMuZ2V0KFwiZ3JwYy1tZXNzYWdlXCIpLHI9dGhpcy5kZWNvZGVHUlBDU3RhdHVzKHRbMF0pO3RoaXMucmF3T25FbmQoZSxyLHRoaXMucmVzcG9uc2VUcmFpbGVycyl9ZWxzZSB0aGlzLnJhd09uRXJyb3Iocy5Db2RlLkludGVybmFsLFwiUmVzcG9uc2UgY2xvc2VkIHdpdGhvdXQgZ3JwYy1zdGF0dXMgKFRyYWlsZXJzIHByb3ZpZGVkKVwiKX1lbHNle2lmKHZvaWQgMD09PXRoaXMucmVzcG9uc2VIZWFkZXJzKXJldHVybiB2b2lkIHRoaXMucmF3T25FcnJvcihzLkNvZGUuVW5rbm93bixcIlJlc3BvbnNlIGNsb3NlZCB3aXRob3V0IGhlYWRlcnNcIik7dmFyIG49Yyh0aGlzLnJlc3BvbnNlSGVhZGVycyksbz10aGlzLnJlc3BvbnNlSGVhZGVycy5nZXQoXCJncnBjLW1lc3NhZ2VcIik7aWYodGhpcy5wcm9wcy5kZWJ1ZyYmaS5kZWJ1ZyhcImdycGMuaGVhZGVycyBvbmx5IHJlc3BvbnNlIFwiLG4sbyksbnVsbD09PW4pcmV0dXJuIHZvaWQgdGhpcy5yYXdPbkVuZChzLkNvZGUuVW5rbm93bixcIlJlc3BvbnNlIGNsb3NlZCB3aXRob3V0IGdycGMtc3RhdHVzIChIZWFkZXJzIG9ubHkpXCIsdGhpcy5yZXNwb25zZUhlYWRlcnMpO3ZhciBhPXRoaXMuZGVjb2RlR1JQQ1N0YXR1cyhvWzBdKTt0aGlzLnJhd09uRW5kKG4sYSx0aGlzLnJlc3BvbnNlSGVhZGVycyl9fSxlLnByb3RvdHlwZS5kZWNvZGVHUlBDU3RhdHVzPWZ1bmN0aW9uKGUpe2lmKCFlKXJldHVyblwiXCI7dHJ5e3JldHVybiBkZWNvZGVVUklDb21wb25lbnQoZSl9Y2F0Y2godCl7cmV0dXJuIGV9fSxlLnByb3RvdHlwZS5yYXdPbkVuZD1mdW5jdGlvbihlLHQscil7dmFyIG49dGhpczt0aGlzLnByb3BzLmRlYnVnJiZpLmRlYnVnKFwicmF3T25FbmRcIixlLHQsciksdGhpcy5jb21wbGV0ZWR8fCh0aGlzLmNvbXBsZXRlZD0hMCx0aGlzLm9uRW5kQ2FsbGJhY2tzLmZvckVhY2goKGZ1bmN0aW9uKG8pe2lmKCFuLmNsb3NlZCl0cnl7byhlLHQscil9Y2F0Y2goZSl7c2V0VGltZW91dCgoZnVuY3Rpb24oKXt0aHJvdyBlfSksMCl9fSkpKX0sZS5wcm90b3R5cGUucmF3T25IZWFkZXJzPWZ1bmN0aW9uKGUpe3RoaXMucHJvcHMuZGVidWcmJmkuZGVidWcoXCJyYXdPbkhlYWRlcnNcIixlKSx0aGlzLmNvbXBsZXRlZHx8dGhpcy5vbkhlYWRlcnNDYWxsYmFja3MuZm9yRWFjaCgoZnVuY3Rpb24odCl7dHJ5e3QoZSl9Y2F0Y2goZSl7c2V0VGltZW91dCgoZnVuY3Rpb24oKXt0aHJvdyBlfSksMCl9fSkpfSxlLnByb3RvdHlwZS5yYXdPbkVycm9yPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbz10aGlzO3ZvaWQgMD09PXImJihyPW5ldyBuLk1ldGFkYXRhKSx0aGlzLnByb3BzLmRlYnVnJiZpLmRlYnVnKFwicmF3T25FcnJvclwiLGUsdCksdGhpcy5jb21wbGV0ZWR8fCh0aGlzLmNvbXBsZXRlZD0hMCx0aGlzLm9uRW5kQ2FsbGJhY2tzLmZvckVhY2goKGZ1bmN0aW9uKG4pe2lmKCFvLmNsb3NlZCl0cnl7bihlLHQscil9Y2F0Y2goZSl7c2V0VGltZW91dCgoZnVuY3Rpb24oKXt0aHJvdyBlfSksMCl9fSkpKX0sZS5wcm90b3R5cGUucmF3T25NZXNzYWdlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dGhpcy5wcm9wcy5kZWJ1ZyYmaS5kZWJ1ZyhcInJhd09uTWVzc2FnZVwiLGUudG9PYmplY3QoKSksdGhpcy5jb21wbGV0ZWR8fHRoaXMuY2xvc2VkfHx0aGlzLm9uTWVzc2FnZUNhbGxiYWNrcy5mb3JFYWNoKChmdW5jdGlvbihyKXtpZighdC5jbG9zZWQpdHJ5e3IoZSl9Y2F0Y2goZSl7c2V0VGltZW91dCgoZnVuY3Rpb24oKXt0aHJvdyBlfSksMCl9fSkpfSxlLnByb3RvdHlwZS5vbkhlYWRlcnM9ZnVuY3Rpb24oZSl7dGhpcy5vbkhlYWRlcnNDYWxsYmFja3MucHVzaChlKX0sZS5wcm90b3R5cGUub25NZXNzYWdlPWZ1bmN0aW9uKGUpe3RoaXMub25NZXNzYWdlQ2FsbGJhY2tzLnB1c2goZSl9LGUucHJvdG90eXBlLm9uRW5kPWZ1bmN0aW9uKGUpe3RoaXMub25FbmRDYWxsYmFja3MucHVzaChlKX0sZS5wcm90b3R5cGUuc3RhcnQ9ZnVuY3Rpb24oZSl7aWYodGhpcy5zdGFydGVkKXRocm93IG5ldyBFcnJvcihcIkNsaWVudCBhbHJlYWR5IHN0YXJ0ZWQgLSBjYW5ub3QgLnN0YXJ0KClcIik7dGhpcy5zdGFydGVkPSEwO3ZhciB0PW5ldyBuLk1ldGFkYXRhKGV8fHt9KTt0LnNldChcImNvbnRlbnQtdHlwZVwiLFwiYXBwbGljYXRpb24vZ3JwYy13ZWIrcHJvdG9cIiksdC5zZXQoXCJ4LWdycGMtd2ViXCIsXCIxXCIpLHRoaXMudHJhbnNwb3J0LnN0YXJ0KHQpfSxlLnByb3RvdHlwZS5zZW5kPWZ1bmN0aW9uKGUpe2lmKCF0aGlzLnN0YXJ0ZWQpdGhyb3cgbmV3IEVycm9yKFwiQ2xpZW50IG5vdCBzdGFydGVkIC0gLnN0YXJ0KCkgbXVzdCBiZSBjYWxsZWQgYmVmb3JlIC5zZW5kKClcIik7aWYodGhpcy5jbG9zZWQpdGhyb3cgbmV3IEVycm9yKFwiQ2xpZW50IGFscmVhZHkgY2xvc2VkIC0gY2Fubm90IC5zZW5kKClcIik7aWYodGhpcy5maW5pc2hlZFNlbmRpbmcpdGhyb3cgbmV3IEVycm9yKFwiQ2xpZW50IGFscmVhZHkgZmluaXNoZWQgc2VuZGluZyAtIGNhbm5vdCAuc2VuZCgpXCIpO2lmKCF0aGlzLm1ldGhvZERlZmluaXRpb24ucmVxdWVzdFN0cmVhbSYmdGhpcy5zZW50Rmlyc3RNZXNzYWdlKXRocm93IG5ldyBFcnJvcihcIk1lc3NhZ2UgYWxyZWFkeSBzZW50IGZvciBub24tY2xpZW50LXN0cmVhbWluZyBtZXRob2QgLSBjYW5ub3QgLnNlbmQoKVwiKTt0aGlzLnNlbnRGaXJzdE1lc3NhZ2U9ITA7dmFyIHQ9dS5mcmFtZVJlcXVlc3QoZSk7dGhpcy50cmFuc3BvcnQuc2VuZE1lc3NhZ2UodCl9LGUucHJvdG90eXBlLmZpbmlzaFNlbmQ9ZnVuY3Rpb24oKXtpZighdGhpcy5zdGFydGVkKXRocm93IG5ldyBFcnJvcihcIkNsaWVudCBub3Qgc3RhcnRlZCAtIC5maW5pc2hTZW5kKCkgbXVzdCBiZSBjYWxsZWQgYmVmb3JlIC5jbG9zZSgpXCIpO2lmKHRoaXMuY2xvc2VkKXRocm93IG5ldyBFcnJvcihcIkNsaWVudCBhbHJlYWR5IGNsb3NlZCAtIGNhbm5vdCAuc2VuZCgpXCIpO2lmKHRoaXMuZmluaXNoZWRTZW5kaW5nKXRocm93IG5ldyBFcnJvcihcIkNsaWVudCBhbHJlYWR5IGZpbmlzaGVkIHNlbmRpbmcgLSBjYW5ub3QgLmZpbmlzaFNlbmQoKVwiKTt0aGlzLmZpbmlzaGVkU2VuZGluZz0hMCx0aGlzLnRyYW5zcG9ydC5maW5pc2hTZW5kKCl9LGUucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKCl7aWYoIXRoaXMuc3RhcnRlZCl0aHJvdyBuZXcgRXJyb3IoXCJDbGllbnQgbm90IHN0YXJ0ZWQgLSAuc3RhcnQoKSBtdXN0IGJlIGNhbGxlZCBiZWZvcmUgLmNsb3NlKClcIik7aWYodGhpcy5jbG9zZWQpdGhyb3cgbmV3IEVycm9yKFwiQ2xpZW50IGFscmVhZHkgY2xvc2VkIC0gY2Fubm90IC5jbG9zZSgpXCIpO3RoaXMuY2xvc2VkPSEwLHRoaXMucHJvcHMuZGVidWcmJmkuZGVidWcoXCJyZXF1ZXN0LmFib3J0IGFib3J0aW5nIHJlcXVlc3RcIiksdGhpcy50cmFuc3BvcnQuY2FuY2VsKCl9LGV9KCk7ZnVuY3Rpb24gYyhlKXt2YXIgdD1lLmdldChcImdycGMtc3RhdHVzXCIpfHxbXTtpZih0Lmxlbmd0aD4wKXRyeXt2YXIgcj10WzBdO3JldHVybiBwYXJzZUludChyLDEwKX1jYXRjaChlKXtyZXR1cm4gbnVsbH1yZXR1cm4gbnVsbH19LDM0NjpmdW5jdGlvbihlLHQpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVidWc9dm9pZCAwLHQuZGVidWc9ZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sdD0wO3Q8YXJndW1lbnRzLmxlbmd0aDt0KyspZVt0XT1hcmd1bWVudHNbdF07Y29uc29sZS5kZWJ1Zz9jb25zb2xlLmRlYnVnLmFwcGx5KG51bGwsZSk6Y29uc29sZS5sb2cuYXBwbHkobnVsbCxlKX19LDYwNzpmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5ncnBjPXZvaWQgMDt2YXIgbixvPXIoNDE4KSxzPXIoNTcpLGk9cigyMjkpLGE9cig1NDApLHU9cigyMTApLGQ9cig4NTkpLGM9cig4KSxwPXIoOTM4KSxoPXIoMzUpLGY9cig5MzQpOyhuPXQuZ3JwY3x8KHQuZ3JwYz17fSkpLnNldERlZmF1bHRUcmFuc3BvcnQ9cy5zZXREZWZhdWx0VHJhbnNwb3J0RmFjdG9yeSxuLkNyb3NzQnJvd3Nlckh0dHBUcmFuc3BvcnQ9ZC5Dcm9zc0Jyb3dzZXJIdHRwVHJhbnNwb3J0LG4uRmV0Y2hSZWFkYWJsZVN0cmVhbVRyYW5zcG9ydD1pLkZldGNoUmVhZGFibGVTdHJlYW1UcmFuc3BvcnQsbi5YaHJUcmFuc3BvcnQ9dS5YaHJUcmFuc3BvcnQsbi5XZWJzb2NrZXRUcmFuc3BvcnQ9YS5XZWJzb2NrZXRUcmFuc3BvcnQsbi5Db2RlPWMuQ29kZSxuLk1ldGFkYXRhPW8uQnJvd3NlckhlYWRlcnMsbi5jbGllbnQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZi5jbGllbnQoZSx0KX0sbi5pbnZva2U9cC5pbnZva2Usbi51bmFyeT1oLnVuYXJ5fSw5Mzg6ZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuaW52b2tlPXZvaWQgMDt2YXIgbj1yKDkzNCk7dC5pbnZva2U9ZnVuY3Rpb24oZSx0KXtpZihlLnJlcXVlc3RTdHJlYW0pdGhyb3cgbmV3IEVycm9yKFwiLmludm9rZSBjYW5ub3QgYmUgdXNlZCB3aXRoIGNsaWVudC1zdHJlYW1pbmcgbWV0aG9kcy4gVXNlIC5jbGllbnQgaW5zdGVhZC5cIik7dmFyIHI9bi5jbGllbnQoZSx7aG9zdDp0Lmhvc3QsdHJhbnNwb3J0OnQudHJhbnNwb3J0LGRlYnVnOnQuZGVidWd9KTtyZXR1cm4gdC5vbkhlYWRlcnMmJnIub25IZWFkZXJzKHQub25IZWFkZXJzKSx0Lm9uTWVzc2FnZSYmci5vbk1lc3NhZ2UodC5vbk1lc3NhZ2UpLHQub25FbmQmJnIub25FbmQodC5vbkVuZCksci5zdGFydCh0Lm1ldGFkYXRhKSxyLnNlbmQodC5yZXF1ZXN0KSxyLmZpbmlzaFNlbmQoKSx7Y2xvc2U6ZnVuY3Rpb24oKXtyLmNsb3NlKCl9fX19LDY1OmZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0Lk1ldGFkYXRhPXZvaWQgMDt2YXIgbj1yKDQxOCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJNZXRhZGF0YVwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBuLkJyb3dzZXJIZWFkZXJzfX0pfSw1NzpmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5tYWtlRGVmYXVsdFRyYW5zcG9ydD10LnNldERlZmF1bHRUcmFuc3BvcnRGYWN0b3J5PXZvaWQgMDt2YXIgbj1yKDg1OSksbz1mdW5jdGlvbihlKXtyZXR1cm4gbi5Dcm9zc0Jyb3dzZXJIdHRwVHJhbnNwb3J0KHt3aXRoQ3JlZGVudGlhbHM6ITF9KShlKX07dC5zZXREZWZhdWx0VHJhbnNwb3J0RmFjdG9yeT1mdW5jdGlvbihlKXtvPWV9LHQubWFrZURlZmF1bHRUcmFuc3BvcnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIG8oZSl9fSwyMjk6ZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBuPXRoaXMmJnRoaXMuX19hc3NpZ258fGZ1bmN0aW9uKCl7cmV0dXJuKG49T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LHI9MSxuPWFyZ3VtZW50cy5sZW5ndGg7cjxuO3IrKylmb3IodmFyIG8gaW4gdD1hcmd1bWVudHNbcl0pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsbykmJihlW29dPXRbb10pO3JldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRldGVjdEZldGNoU3VwcG9ydD10LkZldGNoUmVhZGFibGVTdHJlYW1UcmFuc3BvcnQ9dm9pZCAwO3ZhciBvPXIoNjUpLHM9cigzNDYpO3QuRmV0Y2hSZWFkYWJsZVN0cmVhbVRyYW5zcG9ydD1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuZGVidWcmJnMuZGVidWcoXCJmZXRjaFJlcXVlc3RcIixlKSxuZXcgaShlLHQpfSh0LGUpfX07dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7dGhpcy5jYW5jZWxsZWQ9ITEsdGhpcy5jb250cm9sbGVyPXNlbGYuQWJvcnRDb250cm9sbGVyJiZuZXcgQWJvcnRDb250cm9sbGVyLHRoaXMub3B0aW9ucz1lLHRoaXMuaW5pdD10fXJldHVybiBlLnByb3RvdHlwZS5wdW1wPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztpZih0aGlzLnJlYWRlcj1lLHRoaXMuY2FuY2VsbGVkKXJldHVybiB0aGlzLm9wdGlvbnMuZGVidWcmJnMuZGVidWcoXCJGZXRjaC5wdW1wLmNhbmNlbCBhdCBmaXJzdCBwdW1wXCIpLHZvaWQgdGhpcy5yZWFkZXIuY2FuY2VsKCkuY2F0Y2goKGZ1bmN0aW9uKGUpe3Iub3B0aW9ucy5kZWJ1ZyYmcy5kZWJ1ZyhcIkZldGNoLnB1bXAucmVhZGVyLmNhbmNlbCBleGNlcHRpb25cIixlKX0pKTt0aGlzLnJlYWRlci5yZWFkKCkudGhlbigoZnVuY3Rpb24oZSl7aWYoZS5kb25lKXJldHVybiByLm9wdGlvbnMub25FbmQoKSx0O3Iub3B0aW9ucy5vbkNodW5rKGUudmFsdWUpLHIucHVtcChyLnJlYWRlcix0KX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7ci5jYW5jZWxsZWQ/ci5vcHRpb25zLmRlYnVnJiZzLmRlYnVnKFwiRmV0Y2guY2F0Y2ggLSByZXF1ZXN0IGNhbmNlbGxlZFwiKTooci5jYW5jZWxsZWQ9ITAsci5vcHRpb25zLmRlYnVnJiZzLmRlYnVnKFwiRmV0Y2guY2F0Y2hcIixlLm1lc3NhZ2UpLHIub3B0aW9ucy5vbkVuZChlKSl9KSl9LGUucHJvdG90eXBlLnNlbmQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztmZXRjaCh0aGlzLm9wdGlvbnMudXJsLG4obih7fSx0aGlzLmluaXQpLHtoZWFkZXJzOnRoaXMubWV0YWRhdGEudG9IZWFkZXJzKCksbWV0aG9kOlwiUE9TVFwiLGJvZHk6ZSxzaWduYWw6dGhpcy5jb250cm9sbGVyJiZ0aGlzLmNvbnRyb2xsZXIuc2lnbmFsfSkpLnRoZW4oKGZ1bmN0aW9uKGUpe2lmKHQub3B0aW9ucy5kZWJ1ZyYmcy5kZWJ1ZyhcIkZldGNoLnJlc3BvbnNlXCIsZSksdC5vcHRpb25zLm9uSGVhZGVycyhuZXcgby5NZXRhZGF0YShlLmhlYWRlcnMpLGUuc3RhdHVzKSwhZS5ib2R5KXJldHVybiBlO3QucHVtcChlLmJvZHkuZ2V0UmVhZGVyKCksZSl9KSkuY2F0Y2goKGZ1bmN0aW9uKGUpe3QuY2FuY2VsbGVkP3Qub3B0aW9ucy5kZWJ1ZyYmcy5kZWJ1ZyhcIkZldGNoLmNhdGNoIC0gcmVxdWVzdCBjYW5jZWxsZWRcIik6KHQuY2FuY2VsbGVkPSEwLHQub3B0aW9ucy5kZWJ1ZyYmcy5kZWJ1ZyhcIkZldGNoLmNhdGNoXCIsZS5tZXNzYWdlKSx0Lm9wdGlvbnMub25FbmQoZSkpfSkpfSxlLnByb3RvdHlwZS5zZW5kTWVzc2FnZT1mdW5jdGlvbihlKXt0aGlzLnNlbmQoZSl9LGUucHJvdG90eXBlLmZpbmlzaFNlbmQ9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKGUpe3RoaXMubWV0YWRhdGE9ZX0sZS5wcm90b3R5cGUuY2FuY2VsPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLmNhbmNlbGxlZD90aGlzLm9wdGlvbnMuZGVidWcmJnMuZGVidWcoXCJGZXRjaC5jYW5jZWwgYWxyZWFkeSBjYW5jZWxsZWRcIik6KHRoaXMuY2FuY2VsbGVkPSEwLHRoaXMuY29udHJvbGxlcj8odGhpcy5vcHRpb25zLmRlYnVnJiZzLmRlYnVnKFwiRmV0Y2guY2FuY2VsLmNvbnRyb2xsZXIuYWJvcnRcIiksdGhpcy5jb250cm9sbGVyLmFib3J0KCkpOnRoaXMub3B0aW9ucy5kZWJ1ZyYmcy5kZWJ1ZyhcIkZldGNoLmNhbmNlbC5taXNzaW5nIGFib3J0IGNvbnRyb2xsZXJcIiksdGhpcy5yZWFkZXI/KHRoaXMub3B0aW9ucy5kZWJ1ZyYmcy5kZWJ1ZyhcIkZldGNoLmNhbmNlbC5yZWFkZXIuY2FuY2VsXCIpLHRoaXMucmVhZGVyLmNhbmNlbCgpLmNhdGNoKChmdW5jdGlvbih0KXtlLm9wdGlvbnMuZGVidWcmJnMuZGVidWcoXCJGZXRjaC5jYW5jZWwucmVhZGVyLmNhbmNlbCBleGNlcHRpb25cIix0KX0pKSk6dGhpcy5vcHRpb25zLmRlYnVnJiZzLmRlYnVnKFwiRmV0Y2guY2FuY2VsIGJlZm9yZSByZWFkZXJcIikpfSxlfSgpO3QuZGV0ZWN0RmV0Y2hTdXBwb3J0PWZ1bmN0aW9uKCl7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFJlc3BvbnNlJiZSZXNwb25zZS5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkoXCJib2R5XCIpJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBIZWFkZXJzfX0sODU5OmZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LkNyb3NzQnJvd3Nlckh0dHBUcmFuc3BvcnQ9dm9pZCAwO3ZhciBuPXIoMjI5KSxvPXIoMjEwKTt0LkNyb3NzQnJvd3Nlckh0dHBUcmFuc3BvcnQ9ZnVuY3Rpb24oZSl7aWYobi5kZXRlY3RGZXRjaFN1cHBvcnQoKSl7dmFyIHQ9e2NyZWRlbnRpYWxzOmUud2l0aENyZWRlbnRpYWxzP1wiaW5jbHVkZVwiOlwic2FtZS1vcmlnaW5cIn07cmV0dXJuIG4uRmV0Y2hSZWFkYWJsZVN0cmVhbVRyYW5zcG9ydCh0KX1yZXR1cm4gby5YaHJUcmFuc3BvcnQoe3dpdGhDcmVkZW50aWFsczplLndpdGhDcmVkZW50aWFsc30pfX0sMjEwOmZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbixvPXRoaXMmJnRoaXMuX19leHRlbmRzfHwobj1mdW5jdGlvbihlLHQpe3JldHVybihuPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihlLHQpe2UuX19wcm90b19fPXR9fHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgciBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LHIpJiYoZVtyXT10W3JdKX0pKGUsdCl9LGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gcigpe3RoaXMuY29uc3RydWN0b3I9ZX1uKGUsdCksZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KTooci5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IHIpfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5zdHJpbmdUb0FycmF5QnVmZmVyPXQuTW96Q2h1bmtlZEFycmF5QnVmZmVyWEhSPXQuWEhSPXQuWGhyVHJhbnNwb3J0PXZvaWQgMDt2YXIgcz1yKDY1KSxpPXIoMzQ2KSxhPXIoODQ5KTt0LlhoclRyYW5zcG9ydD1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7aWYoYS5kZXRlY3RNb3pYSFJTdXBwb3J0KCkpcmV0dXJuIG5ldyBkKHQsZSk7aWYoYS5kZXRlY3RYSFJPdmVycmlkZU1pbWVUeXBlU3VwcG9ydCgpKXJldHVybiBuZXcgdSh0LGUpO3Rocm93IG5ldyBFcnJvcihcIlRoaXMgZW52aXJvbm1lbnQncyBYSFIgaW1wbGVtZW50YXRpb24gY2Fubm90IHN1cHBvcnQgYmluYXJ5IHRyYW5zZmVyLlwiKX19O3ZhciB1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe3RoaXMub3B0aW9ucz1lLHRoaXMuaW5pdD10fXJldHVybiBlLnByb3RvdHlwZS5vblByb2dyZXNzRXZlbnQ9ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuZGVidWcmJmkuZGVidWcoXCJYSFIub25Qcm9ncmVzc0V2ZW50Lmxlbmd0aDogXCIsdGhpcy54aHIucmVzcG9uc2UubGVuZ3RoKTt2YXIgZT10aGlzLnhoci5yZXNwb25zZS5zdWJzdHIodGhpcy5pbmRleCk7dGhpcy5pbmRleD10aGlzLnhoci5yZXNwb25zZS5sZW5ndGg7dmFyIHQ9cChlKTt0aGlzLm9wdGlvbnMub25DaHVuayh0KX0sZS5wcm90b3R5cGUub25Mb2FkRXZlbnQ9ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuZGVidWcmJmkuZGVidWcoXCJYSFIub25Mb2FkRXZlbnRcIiksdGhpcy5vcHRpb25zLm9uRW5kKCl9LGUucHJvdG90eXBlLm9uU3RhdGVDaGFuZ2U9ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuZGVidWcmJmkuZGVidWcoXCJYSFIub25TdGF0ZUNoYW5nZVwiLHRoaXMueGhyLnJlYWR5U3RhdGUpLHRoaXMueGhyLnJlYWR5U3RhdGU9PT1YTUxIdHRwUmVxdWVzdC5IRUFERVJTX1JFQ0VJVkVEJiZ0aGlzLm9wdGlvbnMub25IZWFkZXJzKG5ldyBzLk1ldGFkYXRhKHRoaXMueGhyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKSx0aGlzLnhoci5zdGF0dXMpfSxlLnByb3RvdHlwZS5zZW5kTWVzc2FnZT1mdW5jdGlvbihlKXt0aGlzLnhoci5zZW5kKGUpfSxlLnByb3RvdHlwZS5maW5pc2hTZW5kPWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS5zdGFydD1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3RoaXMubWV0YWRhdGE9ZTt2YXIgcj1uZXcgWE1MSHR0cFJlcXVlc3Q7dGhpcy54aHI9cixyLm9wZW4oXCJQT1NUXCIsdGhpcy5vcHRpb25zLnVybCksdGhpcy5jb25maWd1cmVYaHIoKSx0aGlzLm1ldGFkYXRhLmZvckVhY2goKGZ1bmN0aW9uKGUsdCl7ci5zZXRSZXF1ZXN0SGVhZGVyKGUsdC5qb2luKFwiLCBcIikpfSkpLHIud2l0aENyZWRlbnRpYWxzPUJvb2xlYW4odGhpcy5pbml0LndpdGhDcmVkZW50aWFscyksci5hZGRFdmVudExpc3RlbmVyKFwicmVhZHlzdGF0ZWNoYW5nZVwiLHRoaXMub25TdGF0ZUNoYW5nZS5iaW5kKHRoaXMpKSxyLmFkZEV2ZW50TGlzdGVuZXIoXCJwcm9ncmVzc1wiLHRoaXMub25Qcm9ncmVzc0V2ZW50LmJpbmQodGhpcykpLHIuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRlbmRcIix0aGlzLm9uTG9hZEV2ZW50LmJpbmQodGhpcykpLHIuYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsKGZ1bmN0aW9uKGUpe3Qub3B0aW9ucy5kZWJ1ZyYmaS5kZWJ1ZyhcIlhIUi5lcnJvclwiLGUpLHQub3B0aW9ucy5vbkVuZChlLmVycm9yKX0pKX0sZS5wcm90b3R5cGUuY29uZmlndXJlWGhyPWZ1bmN0aW9uKCl7dGhpcy54aHIucmVzcG9uc2VUeXBlPVwidGV4dFwiLHRoaXMueGhyLm92ZXJyaWRlTWltZVR5cGUoXCJ0ZXh0L3BsYWluOyBjaGFyc2V0PXgtdXNlci1kZWZpbmVkXCIpfSxlLnByb3RvdHlwZS5jYW5jZWw9ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuZGVidWcmJmkuZGVidWcoXCJYSFIuYWJvcnRcIiksdGhpcy54aHIuYWJvcnQoKX0sZX0oKTt0LlhIUj11O3ZhciBkPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gbnVsbCE9PWUmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBvKHQsZSksdC5wcm90b3R5cGUuY29uZmlndXJlWGhyPWZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLmRlYnVnJiZpLmRlYnVnKFwiTW96WEhSLmNvbmZpZ3VyZVhocjogc2V0dGluZyByZXNwb25zZVR5cGUgdG8gJ21vei1jaHVua2VkLWFycmF5YnVmZmVyJ1wiKSx0aGlzLnhoci5yZXNwb25zZVR5cGU9XCJtb3otY2h1bmtlZC1hcnJheWJ1ZmZlclwifSx0LnByb3RvdHlwZS5vblByb2dyZXNzRXZlbnQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnhoci5yZXNwb25zZTt0aGlzLm9wdGlvbnMuZGVidWcmJmkuZGVidWcoXCJNb3pYSFIub25Qcm9ncmVzc0V2ZW50OiBcIixuZXcgVWludDhBcnJheShlKSksdGhpcy5vcHRpb25zLm9uQ2h1bmsobmV3IFVpbnQ4QXJyYXkoZSkpfSx0fSh1KTtmdW5jdGlvbiBjKGUsdCl7dmFyIHI9ZS5jaGFyQ29kZUF0KHQpO2lmKHI+PTU1Mjk2JiZyPD01NjMxOSl7dmFyIG49ZS5jaGFyQ29kZUF0KHQrMSk7bj49NTYzMjAmJm48PTU3MzQzJiYocj02NTUzNisoci01NTI5Njw8MTApKyhuLTU2MzIwKSl9cmV0dXJuIHJ9ZnVuY3Rpb24gcChlKXtmb3IodmFyIHQ9bmV3IFVpbnQ4QXJyYXkoZS5sZW5ndGgpLHI9MCxuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciBvPVN0cmluZy5wcm90b3R5cGUuY29kZVBvaW50QXQ/ZS5jb2RlUG9pbnRBdChuKTpjKGUsbik7dFtyKytdPTI1NSZvfXJldHVybiB0fXQuTW96Q2h1bmtlZEFycmF5QnVmZmVyWEhSPWQsdC5zdHJpbmdUb0FycmF5QnVmZmVyPXB9LDg0OTpmdW5jdGlvbihlLHQpe1widXNlIHN0cmljdFwiO3ZhciByO2Z1bmN0aW9uIG4oKXtpZih2b2lkIDAhPT1yKXJldHVybiByO2lmKFhNTEh0dHBSZXF1ZXN0KXtyPW5ldyBYTUxIdHRwUmVxdWVzdDt0cnl7ci5vcGVuKFwiR0VUXCIsXCJodHRwczovL2xvY2FsaG9zdFwiKX1jYXRjaChlKXt9fXJldHVybiByfWZ1bmN0aW9uIG8oZSl7dmFyIHQ9bigpO2lmKCF0KXJldHVybiExO3RyeXtyZXR1cm4gdC5yZXNwb25zZVR5cGU9ZSx0LnJlc3BvbnNlVHlwZT09PWV9Y2F0Y2goZSl7fXJldHVybiExfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGV0ZWN0WEhST3ZlcnJpZGVNaW1lVHlwZVN1cHBvcnQ9dC5kZXRlY3RNb3pYSFJTdXBwb3J0PXQueGhyU3VwcG9ydHNSZXNwb25zZVR5cGU9dm9pZCAwLHQueGhyU3VwcG9ydHNSZXNwb25zZVR5cGU9byx0LmRldGVjdE1velhIUlN1cHBvcnQ9ZnVuY3Rpb24oKXtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2YgWE1MSHR0cFJlcXVlc3QmJm8oXCJtb3otY2h1bmtlZC1hcnJheWJ1ZmZlclwiKX0sdC5kZXRlY3RYSFJPdmVycmlkZU1pbWVUeXBlU3VwcG9ydD1mdW5jdGlvbigpe3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBYTUxIdHRwUmVxdWVzdCYmWE1MSHR0cFJlcXVlc3QucHJvdG90eXBlLmhhc093blByb3BlcnR5KFwib3ZlcnJpZGVNaW1lVHlwZVwiKX19LDU0MDpmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5XZWJzb2NrZXRUcmFuc3BvcnQ9dm9pZCAwO3ZhciBuLG89cigzNDYpLHM9cig2MTcpOyFmdW5jdGlvbihlKXtlW2UuRklOSVNIX1NFTkQ9MV09XCJGSU5JU0hfU0VORFwifShufHwobj17fSkpO3ZhciBpPW5ldyBVaW50OEFycmF5KFsxXSk7dC5XZWJzb2NrZXRUcmFuc3BvcnQ9ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe2UuZGVidWcmJm8uZGVidWcoXCJ3ZWJzb2NrZXRSZXF1ZXN0XCIsZSk7dmFyIHQscj1mdW5jdGlvbihlKXtpZihcImh0dHBzOi8vXCI9PT1lLnN1YnN0cigwLDgpKXJldHVyblwid3NzOi8vXCIrZS5zdWJzdHIoOCk7aWYoXCJodHRwOi8vXCI9PT1lLnN1YnN0cigwLDcpKXJldHVyblwid3M6Ly9cIitlLnN1YnN0cig3KTt0aHJvdyBuZXcgRXJyb3IoXCJXZWJzb2NrZXQgdHJhbnNwb3J0IGNvbnN0cnVjdGVkIHdpdGggbm9uLWh0dHBzOi8vIG9yIGh0dHA6Ly8gaG9zdC5cIil9KGUudXJsKSxhPVtdO2Z1bmN0aW9uIHUoZSl7aWYoZT09PW4uRklOSVNIX1NFTkQpdC5zZW5kKGkpO2Vsc2V7dmFyIHI9ZSxvPW5ldyBJbnQ4QXJyYXkoci5ieXRlTGVuZ3RoKzEpO28uc2V0KG5ldyBVaW50OEFycmF5KFswXSkpLG8uc2V0KHIsMSksdC5zZW5kKG8pfX1yZXR1cm57c2VuZE1lc3NhZ2U6ZnVuY3Rpb24oZSl7dCYmdC5yZWFkeVN0YXRlIT09dC5DT05ORUNUSU5HP3UoZSk6YS5wdXNoKGUpfSxmaW5pc2hTZW5kOmZ1bmN0aW9uKCl7dCYmdC5yZWFkeVN0YXRlIT09dC5DT05ORUNUSU5HP3Uobi5GSU5JU0hfU0VORCk6YS5wdXNoKG4uRklOSVNIX1NFTkQpfSxzdGFydDpmdW5jdGlvbihuKXsodD1uZXcgV2ViU29ja2V0KHIsW1wiZ3JwYy13ZWJzb2NrZXRzXCJdKSkuYmluYXJ5VHlwZT1cImFycmF5YnVmZmVyXCIsdC5vbm9wZW49ZnVuY3Rpb24oKXt2YXIgcjtlLmRlYnVnJiZvLmRlYnVnKFwid2Vic29ja2V0UmVxdWVzdC5vbm9wZW5cIiksdC5zZW5kKChyPVwiXCIsbi5mb3JFYWNoKChmdW5jdGlvbihlLHQpe3IrPWUrXCI6IFwiK3Quam9pbihcIiwgXCIpK1wiXFxyXFxuXCJ9KSkscy5lbmNvZGVBU0NJSShyKSkpLGEuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dShlKX0pKX0sdC5vbmNsb3NlPWZ1bmN0aW9uKHQpe2UuZGVidWcmJm8uZGVidWcoXCJ3ZWJzb2NrZXRSZXF1ZXN0Lm9uY2xvc2VcIix0KSxlLm9uRW5kKCl9LHQub25lcnJvcj1mdW5jdGlvbih0KXtlLmRlYnVnJiZvLmRlYnVnKFwid2Vic29ja2V0UmVxdWVzdC5vbmVycm9yXCIsdCl9LHQub25tZXNzYWdlPWZ1bmN0aW9uKHQpe2Uub25DaHVuayhuZXcgVWludDhBcnJheSh0LmRhdGEpKX19LGNhbmNlbDpmdW5jdGlvbigpe2UuZGVidWcmJm8uZGVidWcoXCJ3ZWJzb2NrZXQuYWJvcnRcIiksdC5jbG9zZSgpfX19KGUpfX19LDM1OmZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LnVuYXJ5PXZvaWQgMDt2YXIgbj1yKDY1KSxvPXIoOTM0KTt0LnVuYXJ5PWZ1bmN0aW9uKGUsdCl7aWYoZS5yZXNwb25zZVN0cmVhbSl0aHJvdyBuZXcgRXJyb3IoXCIudW5hcnkgY2Fubm90IGJlIHVzZWQgd2l0aCBzZXJ2ZXItc3RyZWFtaW5nIG1ldGhvZHMuIFVzZSAuaW52b2tlIG9yIC5jbGllbnQgaW5zdGVhZC5cIik7aWYoZS5yZXF1ZXN0U3RyZWFtKXRocm93IG5ldyBFcnJvcihcIi51bmFyeSBjYW5ub3QgYmUgdXNlZCB3aXRoIGNsaWVudC1zdHJlYW1pbmcgbWV0aG9kcy4gVXNlIC5jbGllbnQgaW5zdGVhZC5cIik7dmFyIHI9bnVsbCxzPW51bGwsaT1vLmNsaWVudChlLHtob3N0OnQuaG9zdCx0cmFuc3BvcnQ6dC50cmFuc3BvcnQsZGVidWc6dC5kZWJ1Z30pO3JldHVybiBpLm9uSGVhZGVycygoZnVuY3Rpb24oZSl7cj1lfSkpLGkub25NZXNzYWdlKChmdW5jdGlvbihlKXtzPWV9KSksaS5vbkVuZCgoZnVuY3Rpb24oZSxvLGkpe3Qub25FbmQoe3N0YXR1czplLHN0YXR1c01lc3NhZ2U6byxoZWFkZXJzOnJ8fG5ldyBuLk1ldGFkYXRhLG1lc3NhZ2U6cyx0cmFpbGVyczppfSl9KSksaS5zdGFydCh0Lm1ldGFkYXRhKSxpLnNlbmQodC5yZXF1ZXN0KSxpLmZpbmlzaFNlbmQoKSx7Y2xvc2U6ZnVuY3Rpb24oKXtpLmNsb3NlKCl9fX19LDg4MjpmdW5jdGlvbihlLHQpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZnJhbWVSZXF1ZXN0PXZvaWQgMCx0LmZyYW1lUmVxdWVzdD1mdW5jdGlvbihlKXt2YXIgdD1lLnNlcmlhbGl6ZUJpbmFyeSgpLHI9bmV3IEFycmF5QnVmZmVyKHQuYnl0ZUxlbmd0aCs1KTtyZXR1cm4gbmV3IERhdGFWaWV3KHIsMSw0KS5zZXRVaW50MzIoMCx0Lmxlbmd0aCwhMSksbmV3IFVpbnQ4QXJyYXkociw1KS5zZXQodCksbmV3IFVpbnQ4QXJyYXkocil9fX0sdD17fSxmdW5jdGlvbiByKG4pe2lmKHRbbl0pcmV0dXJuIHRbbl0uZXhwb3J0czt2YXIgbz10W25dPXtleHBvcnRzOnt9fTtyZXR1cm4gZVtuXS5jYWxsKG8uZXhwb3J0cyxvLG8uZXhwb3J0cyxyKSxvLmV4cG9ydHN9KDYwNyk7dmFyIGUsdH0pKTsiLCJcInVzZSBzdHJpY3RcIjtcclxubW9kdWxlLmV4cG9ydHMgPSBhc1Byb21pc2U7XHJcblxyXG4vKipcclxuICogQ2FsbGJhY2sgYXMgdXNlZCBieSB7QGxpbmsgdXRpbC5hc1Byb21pc2V9LlxyXG4gKiBAdHlwZWRlZiBhc1Byb21pc2VDYWxsYmFja1xyXG4gKiBAdHlwZSB7ZnVuY3Rpb259XHJcbiAqIEBwYXJhbSB7RXJyb3J8bnVsbH0gZXJyb3IgRXJyb3IsIGlmIGFueVxyXG4gKiBAcGFyYW0gey4uLip9IHBhcmFtcyBBZGRpdGlvbmFsIGFyZ3VtZW50c1xyXG4gKiBAcmV0dXJucyB7dW5kZWZpbmVkfVxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBSZXR1cm5zIGEgcHJvbWlzZSBmcm9tIGEgbm9kZS1zdHlsZSBjYWxsYmFjayBmdW5jdGlvbi5cclxuICogQG1lbWJlcm9mIHV0aWxcclxuICogQHBhcmFtIHthc1Byb21pc2VDYWxsYmFja30gZm4gRnVuY3Rpb24gdG8gY2FsbFxyXG4gKiBAcGFyYW0geyp9IGN0eCBGdW5jdGlvbiBjb250ZXh0XHJcbiAqIEBwYXJhbSB7Li4uKn0gcGFyYW1zIEZ1bmN0aW9uIGFyZ3VtZW50c1xyXG4gKiBAcmV0dXJucyB7UHJvbWlzZTwqPn0gUHJvbWlzaWZpZWQgZnVuY3Rpb25cclxuICovXHJcbmZ1bmN0aW9uIGFzUHJvbWlzZShmbiwgY3R4LyosIHZhcmFyZ3MgKi8pIHtcclxuICAgIHZhciBwYXJhbXMgID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKSxcclxuICAgICAgICBvZmZzZXQgID0gMCxcclxuICAgICAgICBpbmRleCAgID0gMixcclxuICAgICAgICBwZW5kaW5nID0gdHJ1ZTtcclxuICAgIHdoaWxlIChpbmRleCA8IGFyZ3VtZW50cy5sZW5ndGgpXHJcbiAgICAgICAgcGFyYW1zW29mZnNldCsrXSA9IGFyZ3VtZW50c1tpbmRleCsrXTtcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiBleGVjdXRvcihyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBwYXJhbXNbb2Zmc2V0XSA9IGZ1bmN0aW9uIGNhbGxiYWNrKGVyci8qLCB2YXJhcmdzICovKSB7XHJcbiAgICAgICAgICAgIGlmIChwZW5kaW5nKSB7XHJcbiAgICAgICAgICAgICAgICBwZW5kaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXJyKVxyXG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmFtcyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKG9mZnNldCA8IHBhcmFtcy5sZW5ndGgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtc1tvZmZzZXQrK10gPSBhcmd1bWVudHNbb2Zmc2V0XTtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlLmFwcGx5KG51bGwsIHBhcmFtcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGZuLmFwcGx5KGN0eCB8fCBudWxsLCBwYXJhbXMpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICBpZiAocGVuZGluZykge1xyXG4gICAgICAgICAgICAgICAgcGVuZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuXHJcbi8qKlxyXG4gKiBBIG1pbmltYWwgYmFzZTY0IGltcGxlbWVudGF0aW9uIGZvciBudW1iZXIgYXJyYXlzLlxyXG4gKiBAbWVtYmVyb2YgdXRpbFxyXG4gKiBAbmFtZXNwYWNlXHJcbiAqL1xyXG52YXIgYmFzZTY0ID0gZXhwb3J0cztcclxuXHJcbi8qKlxyXG4gKiBDYWxjdWxhdGVzIHRoZSBieXRlIGxlbmd0aCBvZiBhIGJhc2U2NCBlbmNvZGVkIHN0cmluZy5cclxuICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBCYXNlNjQgZW5jb2RlZCBzdHJpbmdcclxuICogQHJldHVybnMge251bWJlcn0gQnl0ZSBsZW5ndGhcclxuICovXHJcbmJhc2U2NC5sZW5ndGggPSBmdW5jdGlvbiBsZW5ndGgoc3RyaW5nKSB7XHJcbiAgICB2YXIgcCA9IHN0cmluZy5sZW5ndGg7XHJcbiAgICBpZiAoIXApXHJcbiAgICAgICAgcmV0dXJuIDA7XHJcbiAgICB2YXIgbiA9IDA7XHJcbiAgICB3aGlsZSAoLS1wICUgNCA+IDEgJiYgc3RyaW5nLmNoYXJBdChwKSA9PT0gXCI9XCIpXHJcbiAgICAgICAgKytuO1xyXG4gICAgcmV0dXJuIE1hdGguY2VpbChzdHJpbmcubGVuZ3RoICogMykgLyA0IC0gbjtcclxufTtcclxuXHJcbi8vIEJhc2U2NCBlbmNvZGluZyB0YWJsZVxyXG52YXIgYjY0ID0gbmV3IEFycmF5KDY0KTtcclxuXHJcbi8vIEJhc2U2NCBkZWNvZGluZyB0YWJsZVxyXG52YXIgczY0ID0gbmV3IEFycmF5KDEyMyk7XHJcblxyXG4vLyA2NS4uOTAsIDk3Li4xMjIsIDQ4Li41NywgNDMsIDQ3XHJcbmZvciAodmFyIGkgPSAwOyBpIDwgNjQ7KVxyXG4gICAgczY0W2I2NFtpXSA9IGkgPCAyNiA/IGkgKyA2NSA6IGkgPCA1MiA/IGkgKyA3MSA6IGkgPCA2MiA/IGkgLSA0IDogaSAtIDU5IHwgNDNdID0gaSsrO1xyXG5cclxuLyoqXHJcbiAqIEVuY29kZXMgYSBidWZmZXIgdG8gYSBiYXNlNjQgZW5jb2RlZCBzdHJpbmcuXHJcbiAqIEBwYXJhbSB7VWludDhBcnJheX0gYnVmZmVyIFNvdXJjZSBidWZmZXJcclxuICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0IFNvdXJjZSBzdGFydFxyXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kIFNvdXJjZSBlbmRcclxuICogQHJldHVybnMge3N0cmluZ30gQmFzZTY0IGVuY29kZWQgc3RyaW5nXHJcbiAqL1xyXG5iYXNlNjQuZW5jb2RlID0gZnVuY3Rpb24gZW5jb2RlKGJ1ZmZlciwgc3RhcnQsIGVuZCkge1xyXG4gICAgdmFyIHBhcnRzID0gbnVsbCxcclxuICAgICAgICBjaHVuayA9IFtdO1xyXG4gICAgdmFyIGkgPSAwLCAvLyBvdXRwdXQgaW5kZXhcclxuICAgICAgICBqID0gMCwgLy8gZ290byBpbmRleFxyXG4gICAgICAgIHQ7ICAgICAvLyB0ZW1wb3JhcnlcclxuICAgIHdoaWxlIChzdGFydCA8IGVuZCkge1xyXG4gICAgICAgIHZhciBiID0gYnVmZmVyW3N0YXJ0KytdO1xyXG4gICAgICAgIHN3aXRjaCAoaikge1xyXG4gICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICBjaHVua1tpKytdID0gYjY0W2IgPj4gMl07XHJcbiAgICAgICAgICAgICAgICB0ID0gKGIgJiAzKSA8PCA0O1xyXG4gICAgICAgICAgICAgICAgaiA9IDE7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgY2h1bmtbaSsrXSA9IGI2NFt0IHwgYiA+PiA0XTtcclxuICAgICAgICAgICAgICAgIHQgPSAoYiAmIDE1KSA8PCAyO1xyXG4gICAgICAgICAgICAgICAgaiA9IDI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgY2h1bmtbaSsrXSA9IGI2NFt0IHwgYiA+PiA2XTtcclxuICAgICAgICAgICAgICAgIGNodW5rW2krK10gPSBiNjRbYiAmIDYzXTtcclxuICAgICAgICAgICAgICAgIGogPSAwO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpID4gODE5MSkge1xyXG4gICAgICAgICAgICAocGFydHMgfHwgKHBhcnRzID0gW10pKS5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLCBjaHVuaykpO1xyXG4gICAgICAgICAgICBpID0gMDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAoaikge1xyXG4gICAgICAgIGNodW5rW2krK10gPSBiNjRbdF07XHJcbiAgICAgICAgY2h1bmtbaSsrXSA9IDYxO1xyXG4gICAgICAgIGlmIChqID09PSAxKVxyXG4gICAgICAgICAgICBjaHVua1tpKytdID0gNjE7XHJcbiAgICB9XHJcbiAgICBpZiAocGFydHMpIHtcclxuICAgICAgICBpZiAoaSlcclxuICAgICAgICAgICAgcGFydHMucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZywgY2h1bmsuc2xpY2UoMCwgaSkpKTtcclxuICAgICAgICByZXR1cm4gcGFydHMuam9pbihcIlwiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZywgY2h1bmsuc2xpY2UoMCwgaSkpO1xyXG59O1xyXG5cclxudmFyIGludmFsaWRFbmNvZGluZyA9IFwiaW52YWxpZCBlbmNvZGluZ1wiO1xyXG5cclxuLyoqXHJcbiAqIERlY29kZXMgYSBiYXNlNjQgZW5jb2RlZCBzdHJpbmcgdG8gYSBidWZmZXIuXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgU291cmNlIHN0cmluZ1xyXG4gKiBAcGFyYW0ge1VpbnQ4QXJyYXl9IGJ1ZmZlciBEZXN0aW5hdGlvbiBidWZmZXJcclxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBEZXN0aW5hdGlvbiBvZmZzZXRcclxuICogQHJldHVybnMge251bWJlcn0gTnVtYmVyIG9mIGJ5dGVzIHdyaXR0ZW5cclxuICogQHRocm93cyB7RXJyb3J9IElmIGVuY29kaW5nIGlzIGludmFsaWRcclxuICovXHJcbmJhc2U2NC5kZWNvZGUgPSBmdW5jdGlvbiBkZWNvZGUoc3RyaW5nLCBidWZmZXIsIG9mZnNldCkge1xyXG4gICAgdmFyIHN0YXJ0ID0gb2Zmc2V0O1xyXG4gICAgdmFyIGogPSAwLCAvLyBnb3RvIGluZGV4XHJcbiAgICAgICAgdDsgICAgIC8vIHRlbXBvcmFyeVxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHJpbmcubGVuZ3RoOykge1xyXG4gICAgICAgIHZhciBjID0gc3RyaW5nLmNoYXJDb2RlQXQoaSsrKTtcclxuICAgICAgICBpZiAoYyA9PT0gNjEgJiYgaiA+IDEpXHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGlmICgoYyA9IHM2NFtjXSkgPT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoaW52YWxpZEVuY29kaW5nKTtcclxuICAgICAgICBzd2l0Y2ggKGopIHtcclxuICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgdCA9IGM7XHJcbiAgICAgICAgICAgICAgICBqID0gMTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICBidWZmZXJbb2Zmc2V0KytdID0gdCA8PCAyIHwgKGMgJiA0OCkgPj4gNDtcclxuICAgICAgICAgICAgICAgIHQgPSBjO1xyXG4gICAgICAgICAgICAgICAgaiA9IDI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgYnVmZmVyW29mZnNldCsrXSA9ICh0ICYgMTUpIDw8IDQgfCAoYyAmIDYwKSA+PiAyO1xyXG4gICAgICAgICAgICAgICAgdCA9IGM7XHJcbiAgICAgICAgICAgICAgICBqID0gMztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICBidWZmZXJbb2Zmc2V0KytdID0gKHQgJiAzKSA8PCA2IHwgYztcclxuICAgICAgICAgICAgICAgIGogPSAwO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKGogPT09IDEpXHJcbiAgICAgICAgdGhyb3cgRXJyb3IoaW52YWxpZEVuY29kaW5nKTtcclxuICAgIHJldHVybiBvZmZzZXQgLSBzdGFydDtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBUZXN0cyBpZiB0aGUgc3BlY2lmaWVkIHN0cmluZyBhcHBlYXJzIHRvIGJlIGJhc2U2NCBlbmNvZGVkLlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFN0cmluZyB0byB0ZXN0XHJcbiAqIEByZXR1cm5zIHtib29sZWFufSBgdHJ1ZWAgaWYgcHJvYmFibHkgYmFzZTY0IGVuY29kZWQsIG90aGVyd2lzZSBmYWxzZVxyXG4gKi9cclxuYmFzZTY0LnRlc3QgPSBmdW5jdGlvbiB0ZXN0KHN0cmluZykge1xyXG4gICAgcmV0dXJuIC9eKD86W0EtWmEtejAtOSsvXXs0fSkqKD86W0EtWmEtejAtOSsvXXsyfT09fFtBLVphLXowLTkrL117M309KT8kLy50ZXN0KHN0cmluZyk7XHJcbn07XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5tb2R1bGUuZXhwb3J0cyA9IEV2ZW50RW1pdHRlcjtcclxuXHJcbi8qKlxyXG4gKiBDb25zdHJ1Y3RzIGEgbmV3IGV2ZW50IGVtaXR0ZXIgaW5zdGFuY2UuXHJcbiAqIEBjbGFzc2Rlc2MgQSBtaW5pbWFsIGV2ZW50IGVtaXR0ZXIuXHJcbiAqIEBtZW1iZXJvZiB1dGlsXHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKi9cclxuZnVuY3Rpb24gRXZlbnRFbWl0dGVyKCkge1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVnaXN0ZXJlZCBsaXN0ZW5lcnMuXHJcbiAgICAgKiBAdHlwZSB7T2JqZWN0LjxzdHJpbmcsKj59XHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICovXHJcbiAgICB0aGlzLl9saXN0ZW5lcnMgPSB7fTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFJlZ2lzdGVycyBhbiBldmVudCBsaXN0ZW5lci5cclxuICogQHBhcmFtIHtzdHJpbmd9IGV2dCBFdmVudCBuYW1lXHJcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuIExpc3RlbmVyXHJcbiAqIEBwYXJhbSB7Kn0gW2N0eF0gTGlzdGVuZXIgY29udGV4dFxyXG4gKiBAcmV0dXJucyB7dXRpbC5FdmVudEVtaXR0ZXJ9IGB0aGlzYFxyXG4gKi9cclxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uIG9uKGV2dCwgZm4sIGN0eCkge1xyXG4gICAgKHRoaXMuX2xpc3RlbmVyc1tldnRdIHx8ICh0aGlzLl9saXN0ZW5lcnNbZXZ0XSA9IFtdKSkucHVzaCh7XHJcbiAgICAgICAgZm4gIDogZm4sXHJcbiAgICAgICAgY3R4IDogY3R4IHx8IHRoaXNcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbn07XHJcblxyXG4vKipcclxuICogUmVtb3ZlcyBhbiBldmVudCBsaXN0ZW5lciBvciBhbnkgbWF0Y2hpbmcgbGlzdGVuZXJzIGlmIGFyZ3VtZW50cyBhcmUgb21pdHRlZC5cclxuICogQHBhcmFtIHtzdHJpbmd9IFtldnRdIEV2ZW50IG5hbWUuIFJlbW92ZXMgYWxsIGxpc3RlbmVycyBpZiBvbWl0dGVkLlxyXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBbZm5dIExpc3RlbmVyIHRvIHJlbW92ZS4gUmVtb3ZlcyBhbGwgbGlzdGVuZXJzIG9mIGBldnRgIGlmIG9taXR0ZWQuXHJcbiAqIEByZXR1cm5zIHt1dGlsLkV2ZW50RW1pdHRlcn0gYHRoaXNgXHJcbiAqL1xyXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9mZiA9IGZ1bmN0aW9uIG9mZihldnQsIGZuKSB7XHJcbiAgICBpZiAoZXZ0ID09PSB1bmRlZmluZWQpXHJcbiAgICAgICAgdGhpcy5fbGlzdGVuZXJzID0ge307XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBpZiAoZm4gPT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgdGhpcy5fbGlzdGVuZXJzW2V2dF0gPSBbXTtcclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2xpc3RlbmVyc1tldnRdO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7KVxyXG4gICAgICAgICAgICAgICAgaWYgKGxpc3RlbmVyc1tpXS5mbiA9PT0gZm4pXHJcbiAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXJzLnNwbGljZShpLCAxKTtcclxuICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICArK2k7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbn07XHJcblxyXG4vKipcclxuICogRW1pdHMgYW4gZXZlbnQgYnkgY2FsbGluZyBpdHMgbGlzdGVuZXJzIHdpdGggdGhlIHNwZWNpZmllZCBhcmd1bWVudHMuXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBldnQgRXZlbnQgbmFtZVxyXG4gKiBAcGFyYW0gey4uLip9IGFyZ3MgQXJndW1lbnRzXHJcbiAqIEByZXR1cm5zIHt1dGlsLkV2ZW50RW1pdHRlcn0gYHRoaXNgXHJcbiAqL1xyXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmVtaXQgPSBmdW5jdGlvbiBlbWl0KGV2dCkge1xyXG4gICAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2xpc3RlbmVyc1tldnRdO1xyXG4gICAgaWYgKGxpc3RlbmVycykge1xyXG4gICAgICAgIHZhciBhcmdzID0gW10sXHJcbiAgICAgICAgICAgIGkgPSAxO1xyXG4gICAgICAgIGZvciAoOyBpIDwgYXJndW1lbnRzLmxlbmd0aDspXHJcbiAgICAgICAgICAgIGFyZ3MucHVzaChhcmd1bWVudHNbaSsrXSk7XHJcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7KVxyXG4gICAgICAgICAgICBsaXN0ZW5lcnNbaV0uZm4uYXBwbHkobGlzdGVuZXJzW2krK10uY3R4LCBhcmdzKTtcclxuICAgIH1cclxuICAgIHJldHVybiB0aGlzO1xyXG59O1xyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShmYWN0b3J5KTtcclxuXHJcbi8qKlxyXG4gKiBSZWFkcyAvIHdyaXRlcyBmbG9hdHMgLyBkb3VibGVzIGZyb20gLyB0byBidWZmZXJzLlxyXG4gKiBAbmFtZSB1dGlsLmZsb2F0XHJcbiAqIEBuYW1lc3BhY2VcclxuICovXHJcblxyXG4vKipcclxuICogV3JpdGVzIGEgMzIgYml0IGZsb2F0IHRvIGEgYnVmZmVyIHVzaW5nIGxpdHRsZSBlbmRpYW4gYnl0ZSBvcmRlci5cclxuICogQG5hbWUgdXRpbC5mbG9hdC53cml0ZUZsb2F0TEVcclxuICogQGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWwgVmFsdWUgdG8gd3JpdGVcclxuICogQHBhcmFtIHtVaW50OEFycmF5fSBidWYgVGFyZ2V0IGJ1ZmZlclxyXG4gKiBAcGFyYW0ge251bWJlcn0gcG9zIFRhcmdldCBidWZmZXIgb2Zmc2V0XHJcbiAqIEByZXR1cm5zIHt1bmRlZmluZWR9XHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIFdyaXRlcyBhIDMyIGJpdCBmbG9hdCB0byBhIGJ1ZmZlciB1c2luZyBiaWcgZW5kaWFuIGJ5dGUgb3JkZXIuXHJcbiAqIEBuYW1lIHV0aWwuZmxvYXQud3JpdGVGbG9hdEJFXHJcbiAqIEBmdW5jdGlvblxyXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsIFZhbHVlIHRvIHdyaXRlXHJcbiAqIEBwYXJhbSB7VWludDhBcnJheX0gYnVmIFRhcmdldCBidWZmZXJcclxuICogQHBhcmFtIHtudW1iZXJ9IHBvcyBUYXJnZXQgYnVmZmVyIG9mZnNldFxyXG4gKiBAcmV0dXJucyB7dW5kZWZpbmVkfVxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBSZWFkcyBhIDMyIGJpdCBmbG9hdCBmcm9tIGEgYnVmZmVyIHVzaW5nIGxpdHRsZSBlbmRpYW4gYnl0ZSBvcmRlci5cclxuICogQG5hbWUgdXRpbC5mbG9hdC5yZWFkRmxvYXRMRVxyXG4gKiBAZnVuY3Rpb25cclxuICogQHBhcmFtIHtVaW50OEFycmF5fSBidWYgU291cmNlIGJ1ZmZlclxyXG4gKiBAcGFyYW0ge251bWJlcn0gcG9zIFNvdXJjZSBidWZmZXIgb2Zmc2V0XHJcbiAqIEByZXR1cm5zIHtudW1iZXJ9IFZhbHVlIHJlYWRcclxuICovXHJcblxyXG4vKipcclxuICogUmVhZHMgYSAzMiBiaXQgZmxvYXQgZnJvbSBhIGJ1ZmZlciB1c2luZyBiaWcgZW5kaWFuIGJ5dGUgb3JkZXIuXHJcbiAqIEBuYW1lIHV0aWwuZmxvYXQucmVhZEZsb2F0QkVcclxuICogQGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSB7VWludDhBcnJheX0gYnVmIFNvdXJjZSBidWZmZXJcclxuICogQHBhcmFtIHtudW1iZXJ9IHBvcyBTb3VyY2UgYnVmZmVyIG9mZnNldFxyXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBWYWx1ZSByZWFkXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIFdyaXRlcyBhIDY0IGJpdCBkb3VibGUgdG8gYSBidWZmZXIgdXNpbmcgbGl0dGxlIGVuZGlhbiBieXRlIG9yZGVyLlxyXG4gKiBAbmFtZSB1dGlsLmZsb2F0LndyaXRlRG91YmxlTEVcclxuICogQGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWwgVmFsdWUgdG8gd3JpdGVcclxuICogQHBhcmFtIHtVaW50OEFycmF5fSBidWYgVGFyZ2V0IGJ1ZmZlclxyXG4gKiBAcGFyYW0ge251bWJlcn0gcG9zIFRhcmdldCBidWZmZXIgb2Zmc2V0XHJcbiAqIEByZXR1cm5zIHt1bmRlZmluZWR9XHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIFdyaXRlcyBhIDY0IGJpdCBkb3VibGUgdG8gYSBidWZmZXIgdXNpbmcgYmlnIGVuZGlhbiBieXRlIG9yZGVyLlxyXG4gKiBAbmFtZSB1dGlsLmZsb2F0LndyaXRlRG91YmxlQkVcclxuICogQGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWwgVmFsdWUgdG8gd3JpdGVcclxuICogQHBhcmFtIHtVaW50OEFycmF5fSBidWYgVGFyZ2V0IGJ1ZmZlclxyXG4gKiBAcGFyYW0ge251bWJlcn0gcG9zIFRhcmdldCBidWZmZXIgb2Zmc2V0XHJcbiAqIEByZXR1cm5zIHt1bmRlZmluZWR9XHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIFJlYWRzIGEgNjQgYml0IGRvdWJsZSBmcm9tIGEgYnVmZmVyIHVzaW5nIGxpdHRsZSBlbmRpYW4gYnl0ZSBvcmRlci5cclxuICogQG5hbWUgdXRpbC5mbG9hdC5yZWFkRG91YmxlTEVcclxuICogQGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSB7VWludDhBcnJheX0gYnVmIFNvdXJjZSBidWZmZXJcclxuICogQHBhcmFtIHtudW1iZXJ9IHBvcyBTb3VyY2UgYnVmZmVyIG9mZnNldFxyXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBWYWx1ZSByZWFkXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIFJlYWRzIGEgNjQgYml0IGRvdWJsZSBmcm9tIGEgYnVmZmVyIHVzaW5nIGJpZyBlbmRpYW4gYnl0ZSBvcmRlci5cclxuICogQG5hbWUgdXRpbC5mbG9hdC5yZWFkRG91YmxlQkVcclxuICogQGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSB7VWludDhBcnJheX0gYnVmIFNvdXJjZSBidWZmZXJcclxuICogQHBhcmFtIHtudW1iZXJ9IHBvcyBTb3VyY2UgYnVmZmVyIG9mZnNldFxyXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBWYWx1ZSByZWFkXHJcbiAqL1xyXG5cclxuLy8gRmFjdG9yeSBmdW5jdGlvbiBmb3IgdGhlIHB1cnBvc2Ugb2Ygbm9kZS1iYXNlZCB0ZXN0aW5nIGluIG1vZGlmaWVkIGdsb2JhbCBlbnZpcm9ubWVudHNcclxuZnVuY3Rpb24gZmFjdG9yeShleHBvcnRzKSB7XHJcblxyXG4gICAgLy8gZmxvYXQ6IHR5cGVkIGFycmF5XHJcbiAgICBpZiAodHlwZW9mIEZsb2F0MzJBcnJheSAhPT0gXCJ1bmRlZmluZWRcIikgKGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICB2YXIgZjMyID0gbmV3IEZsb2F0MzJBcnJheShbIC0wIF0pLFxyXG4gICAgICAgICAgICBmOGIgPSBuZXcgVWludDhBcnJheShmMzIuYnVmZmVyKSxcclxuICAgICAgICAgICAgbGUgID0gZjhiWzNdID09PSAxMjg7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHdyaXRlRmxvYXRfZjMyX2NweSh2YWwsIGJ1ZiwgcG9zKSB7XHJcbiAgICAgICAgICAgIGYzMlswXSA9IHZhbDtcclxuICAgICAgICAgICAgYnVmW3BvcyAgICBdID0gZjhiWzBdO1xyXG4gICAgICAgICAgICBidWZbcG9zICsgMV0gPSBmOGJbMV07XHJcbiAgICAgICAgICAgIGJ1Zltwb3MgKyAyXSA9IGY4YlsyXTtcclxuICAgICAgICAgICAgYnVmW3BvcyArIDNdID0gZjhiWzNdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gd3JpdGVGbG9hdF9mMzJfcmV2KHZhbCwgYnVmLCBwb3MpIHtcclxuICAgICAgICAgICAgZjMyWzBdID0gdmFsO1xyXG4gICAgICAgICAgICBidWZbcG9zICAgIF0gPSBmOGJbM107XHJcbiAgICAgICAgICAgIGJ1Zltwb3MgKyAxXSA9IGY4YlsyXTtcclxuICAgICAgICAgICAgYnVmW3BvcyArIDJdID0gZjhiWzFdO1xyXG4gICAgICAgICAgICBidWZbcG9zICsgM10gPSBmOGJbMF07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xyXG4gICAgICAgIGV4cG9ydHMud3JpdGVGbG9hdExFID0gbGUgPyB3cml0ZUZsb2F0X2YzMl9jcHkgOiB3cml0ZUZsb2F0X2YzMl9yZXY7XHJcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cclxuICAgICAgICBleHBvcnRzLndyaXRlRmxvYXRCRSA9IGxlID8gd3JpdGVGbG9hdF9mMzJfcmV2IDogd3JpdGVGbG9hdF9mMzJfY3B5O1xyXG5cclxuICAgICAgICBmdW5jdGlvbiByZWFkRmxvYXRfZjMyX2NweShidWYsIHBvcykge1xyXG4gICAgICAgICAgICBmOGJbMF0gPSBidWZbcG9zICAgIF07XHJcbiAgICAgICAgICAgIGY4YlsxXSA9IGJ1Zltwb3MgKyAxXTtcclxuICAgICAgICAgICAgZjhiWzJdID0gYnVmW3BvcyArIDJdO1xyXG4gICAgICAgICAgICBmOGJbM10gPSBidWZbcG9zICsgM107XHJcbiAgICAgICAgICAgIHJldHVybiBmMzJbMF07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiByZWFkRmxvYXRfZjMyX3JldihidWYsIHBvcykge1xyXG4gICAgICAgICAgICBmOGJbM10gPSBidWZbcG9zICAgIF07XHJcbiAgICAgICAgICAgIGY4YlsyXSA9IGJ1Zltwb3MgKyAxXTtcclxuICAgICAgICAgICAgZjhiWzFdID0gYnVmW3BvcyArIDJdO1xyXG4gICAgICAgICAgICBmOGJbMF0gPSBidWZbcG9zICsgM107XHJcbiAgICAgICAgICAgIHJldHVybiBmMzJbMF07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xyXG4gICAgICAgIGV4cG9ydHMucmVhZEZsb2F0TEUgPSBsZSA/IHJlYWRGbG9hdF9mMzJfY3B5IDogcmVhZEZsb2F0X2YzMl9yZXY7XHJcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cclxuICAgICAgICBleHBvcnRzLnJlYWRGbG9hdEJFID0gbGUgPyByZWFkRmxvYXRfZjMyX3JldiA6IHJlYWRGbG9hdF9mMzJfY3B5O1xyXG5cclxuICAgIC8vIGZsb2F0OiBpZWVlNzU0XHJcbiAgICB9KSgpOyBlbHNlIChmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gd3JpdGVGbG9hdF9pZWVlNzU0KHdyaXRlVWludCwgdmFsLCBidWYsIHBvcykge1xyXG4gICAgICAgICAgICB2YXIgc2lnbiA9IHZhbCA8IDAgPyAxIDogMDtcclxuICAgICAgICAgICAgaWYgKHNpZ24pXHJcbiAgICAgICAgICAgICAgICB2YWwgPSAtdmFsO1xyXG4gICAgICAgICAgICBpZiAodmFsID09PSAwKVxyXG4gICAgICAgICAgICAgICAgd3JpdGVVaW50KDEgLyB2YWwgPiAwID8gLyogcG9zaXRpdmUgKi8gMCA6IC8qIG5lZ2F0aXZlIDAgKi8gMjE0NzQ4MzY0OCwgYnVmLCBwb3MpO1xyXG4gICAgICAgICAgICBlbHNlIGlmIChpc05hTih2YWwpKVxyXG4gICAgICAgICAgICAgICAgd3JpdGVVaW50KDIxNDMyODkzNDQsIGJ1ZiwgcG9zKTtcclxuICAgICAgICAgICAgZWxzZSBpZiAodmFsID4gMy40MDI4MjM0NjYzODUyODg2ZSszOCkgLy8gKy1JbmZpbml0eVxyXG4gICAgICAgICAgICAgICAgd3JpdGVVaW50KChzaWduIDw8IDMxIHwgMjEzOTA5NTA0MCkgPj4+IDAsIGJ1ZiwgcG9zKTtcclxuICAgICAgICAgICAgZWxzZSBpZiAodmFsIDwgMS4xNzU0OTQzNTA4MjIyODc1ZS0zOCkgLy8gZGVub3JtYWxcclxuICAgICAgICAgICAgICAgIHdyaXRlVWludCgoc2lnbiA8PCAzMSB8IE1hdGgucm91bmQodmFsIC8gMS40MDEyOTg0NjQzMjQ4MTdlLTQ1KSkgPj4+IDAsIGJ1ZiwgcG9zKTtcclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZXhwb25lbnQgPSBNYXRoLmZsb29yKE1hdGgubG9nKHZhbCkgLyBNYXRoLkxOMiksXHJcbiAgICAgICAgICAgICAgICAgICAgbWFudGlzc2EgPSBNYXRoLnJvdW5kKHZhbCAqIE1hdGgucG93KDIsIC1leHBvbmVudCkgKiA4Mzg4NjA4KSAmIDgzODg2MDc7XHJcbiAgICAgICAgICAgICAgICB3cml0ZVVpbnQoKHNpZ24gPDwgMzEgfCBleHBvbmVudCArIDEyNyA8PCAyMyB8IG1hbnRpc3NhKSA+Pj4gMCwgYnVmLCBwb3MpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBleHBvcnRzLndyaXRlRmxvYXRMRSA9IHdyaXRlRmxvYXRfaWVlZTc1NC5iaW5kKG51bGwsIHdyaXRlVWludExFKTtcclxuICAgICAgICBleHBvcnRzLndyaXRlRmxvYXRCRSA9IHdyaXRlRmxvYXRfaWVlZTc1NC5iaW5kKG51bGwsIHdyaXRlVWludEJFKTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gcmVhZEZsb2F0X2llZWU3NTQocmVhZFVpbnQsIGJ1ZiwgcG9zKSB7XHJcbiAgICAgICAgICAgIHZhciB1aW50ID0gcmVhZFVpbnQoYnVmLCBwb3MpLFxyXG4gICAgICAgICAgICAgICAgc2lnbiA9ICh1aW50ID4+IDMxKSAqIDIgKyAxLFxyXG4gICAgICAgICAgICAgICAgZXhwb25lbnQgPSB1aW50ID4+PiAyMyAmIDI1NSxcclxuICAgICAgICAgICAgICAgIG1hbnRpc3NhID0gdWludCAmIDgzODg2MDc7XHJcbiAgICAgICAgICAgIHJldHVybiBleHBvbmVudCA9PT0gMjU1XHJcbiAgICAgICAgICAgICAgICA/IG1hbnRpc3NhXHJcbiAgICAgICAgICAgICAgICA/IE5hTlxyXG4gICAgICAgICAgICAgICAgOiBzaWduICogSW5maW5pdHlcclxuICAgICAgICAgICAgICAgIDogZXhwb25lbnQgPT09IDAgLy8gZGVub3JtYWxcclxuICAgICAgICAgICAgICAgID8gc2lnbiAqIDEuNDAxMjk4NDY0MzI0ODE3ZS00NSAqIG1hbnRpc3NhXHJcbiAgICAgICAgICAgICAgICA6IHNpZ24gKiBNYXRoLnBvdygyLCBleHBvbmVudCAtIDE1MCkgKiAobWFudGlzc2EgKyA4Mzg4NjA4KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGV4cG9ydHMucmVhZEZsb2F0TEUgPSByZWFkRmxvYXRfaWVlZTc1NC5iaW5kKG51bGwsIHJlYWRVaW50TEUpO1xyXG4gICAgICAgIGV4cG9ydHMucmVhZEZsb2F0QkUgPSByZWFkRmxvYXRfaWVlZTc1NC5iaW5kKG51bGwsIHJlYWRVaW50QkUpO1xyXG5cclxuICAgIH0pKCk7XHJcblxyXG4gICAgLy8gZG91YmxlOiB0eXBlZCBhcnJheVxyXG4gICAgaWYgKHR5cGVvZiBGbG9hdDY0QXJyYXkgIT09IFwidW5kZWZpbmVkXCIpIChmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgdmFyIGY2NCA9IG5ldyBGbG9hdDY0QXJyYXkoWy0wXSksXHJcbiAgICAgICAgICAgIGY4YiA9IG5ldyBVaW50OEFycmF5KGY2NC5idWZmZXIpLFxyXG4gICAgICAgICAgICBsZSAgPSBmOGJbN10gPT09IDEyODtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gd3JpdGVEb3VibGVfZjY0X2NweSh2YWwsIGJ1ZiwgcG9zKSB7XHJcbiAgICAgICAgICAgIGY2NFswXSA9IHZhbDtcclxuICAgICAgICAgICAgYnVmW3BvcyAgICBdID0gZjhiWzBdO1xyXG4gICAgICAgICAgICBidWZbcG9zICsgMV0gPSBmOGJbMV07XHJcbiAgICAgICAgICAgIGJ1Zltwb3MgKyAyXSA9IGY4YlsyXTtcclxuICAgICAgICAgICAgYnVmW3BvcyArIDNdID0gZjhiWzNdO1xyXG4gICAgICAgICAgICBidWZbcG9zICsgNF0gPSBmOGJbNF07XHJcbiAgICAgICAgICAgIGJ1Zltwb3MgKyA1XSA9IGY4Yls1XTtcclxuICAgICAgICAgICAgYnVmW3BvcyArIDZdID0gZjhiWzZdO1xyXG4gICAgICAgICAgICBidWZbcG9zICsgN10gPSBmOGJbN107XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiB3cml0ZURvdWJsZV9mNjRfcmV2KHZhbCwgYnVmLCBwb3MpIHtcclxuICAgICAgICAgICAgZjY0WzBdID0gdmFsO1xyXG4gICAgICAgICAgICBidWZbcG9zICAgIF0gPSBmOGJbN107XHJcbiAgICAgICAgICAgIGJ1Zltwb3MgKyAxXSA9IGY4Yls2XTtcclxuICAgICAgICAgICAgYnVmW3BvcyArIDJdID0gZjhiWzVdO1xyXG4gICAgICAgICAgICBidWZbcG9zICsgM10gPSBmOGJbNF07XHJcbiAgICAgICAgICAgIGJ1Zltwb3MgKyA0XSA9IGY4YlszXTtcclxuICAgICAgICAgICAgYnVmW3BvcyArIDVdID0gZjhiWzJdO1xyXG4gICAgICAgICAgICBidWZbcG9zICsgNl0gPSBmOGJbMV07XHJcbiAgICAgICAgICAgIGJ1Zltwb3MgKyA3XSA9IGY4YlswXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXHJcbiAgICAgICAgZXhwb3J0cy53cml0ZURvdWJsZUxFID0gbGUgPyB3cml0ZURvdWJsZV9mNjRfY3B5IDogd3JpdGVEb3VibGVfZjY0X3JldjtcclxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xyXG4gICAgICAgIGV4cG9ydHMud3JpdGVEb3VibGVCRSA9IGxlID8gd3JpdGVEb3VibGVfZjY0X3JldiA6IHdyaXRlRG91YmxlX2Y2NF9jcHk7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHJlYWREb3VibGVfZjY0X2NweShidWYsIHBvcykge1xyXG4gICAgICAgICAgICBmOGJbMF0gPSBidWZbcG9zICAgIF07XHJcbiAgICAgICAgICAgIGY4YlsxXSA9IGJ1Zltwb3MgKyAxXTtcclxuICAgICAgICAgICAgZjhiWzJdID0gYnVmW3BvcyArIDJdO1xyXG4gICAgICAgICAgICBmOGJbM10gPSBidWZbcG9zICsgM107XHJcbiAgICAgICAgICAgIGY4Yls0XSA9IGJ1Zltwb3MgKyA0XTtcclxuICAgICAgICAgICAgZjhiWzVdID0gYnVmW3BvcyArIDVdO1xyXG4gICAgICAgICAgICBmOGJbNl0gPSBidWZbcG9zICsgNl07XHJcbiAgICAgICAgICAgIGY4Yls3XSA9IGJ1Zltwb3MgKyA3XTtcclxuICAgICAgICAgICAgcmV0dXJuIGY2NFswXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHJlYWREb3VibGVfZjY0X3JldihidWYsIHBvcykge1xyXG4gICAgICAgICAgICBmOGJbN10gPSBidWZbcG9zICAgIF07XHJcbiAgICAgICAgICAgIGY4Yls2XSA9IGJ1Zltwb3MgKyAxXTtcclxuICAgICAgICAgICAgZjhiWzVdID0gYnVmW3BvcyArIDJdO1xyXG4gICAgICAgICAgICBmOGJbNF0gPSBidWZbcG9zICsgM107XHJcbiAgICAgICAgICAgIGY4YlszXSA9IGJ1Zltwb3MgKyA0XTtcclxuICAgICAgICAgICAgZjhiWzJdID0gYnVmW3BvcyArIDVdO1xyXG4gICAgICAgICAgICBmOGJbMV0gPSBidWZbcG9zICsgNl07XHJcbiAgICAgICAgICAgIGY4YlswXSA9IGJ1Zltwb3MgKyA3XTtcclxuICAgICAgICAgICAgcmV0dXJuIGY2NFswXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXHJcbiAgICAgICAgZXhwb3J0cy5yZWFkRG91YmxlTEUgPSBsZSA/IHJlYWREb3VibGVfZjY0X2NweSA6IHJlYWREb3VibGVfZjY0X3JldjtcclxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xyXG4gICAgICAgIGV4cG9ydHMucmVhZERvdWJsZUJFID0gbGUgPyByZWFkRG91YmxlX2Y2NF9yZXYgOiByZWFkRG91YmxlX2Y2NF9jcHk7XHJcblxyXG4gICAgLy8gZG91YmxlOiBpZWVlNzU0XHJcbiAgICB9KSgpOyBlbHNlIChmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gd3JpdGVEb3VibGVfaWVlZTc1NCh3cml0ZVVpbnQsIG9mZjAsIG9mZjEsIHZhbCwgYnVmLCBwb3MpIHtcclxuICAgICAgICAgICAgdmFyIHNpZ24gPSB2YWwgPCAwID8gMSA6IDA7XHJcbiAgICAgICAgICAgIGlmIChzaWduKVxyXG4gICAgICAgICAgICAgICAgdmFsID0gLXZhbDtcclxuICAgICAgICAgICAgaWYgKHZhbCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgd3JpdGVVaW50KDAsIGJ1ZiwgcG9zICsgb2ZmMCk7XHJcbiAgICAgICAgICAgICAgICB3cml0ZVVpbnQoMSAvIHZhbCA+IDAgPyAvKiBwb3NpdGl2ZSAqLyAwIDogLyogbmVnYXRpdmUgMCAqLyAyMTQ3NDgzNjQ4LCBidWYsIHBvcyArIG9mZjEpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlzTmFOKHZhbCkpIHtcclxuICAgICAgICAgICAgICAgIHdyaXRlVWludCgwLCBidWYsIHBvcyArIG9mZjApO1xyXG4gICAgICAgICAgICAgICAgd3JpdGVVaW50KDIxNDY5NTkzNjAsIGJ1ZiwgcG9zICsgb2ZmMSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodmFsID4gMS43OTc2OTMxMzQ4NjIzMTU3ZSszMDgpIHsgLy8gKy1JbmZpbml0eVxyXG4gICAgICAgICAgICAgICAgd3JpdGVVaW50KDAsIGJ1ZiwgcG9zICsgb2ZmMCk7XHJcbiAgICAgICAgICAgICAgICB3cml0ZVVpbnQoKHNpZ24gPDwgMzEgfCAyMTQ2NDM1MDcyKSA+Pj4gMCwgYnVmLCBwb3MgKyBvZmYxKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZhciBtYW50aXNzYTtcclxuICAgICAgICAgICAgICAgIGlmICh2YWwgPCAyLjIyNTA3Mzg1ODUwNzIwMTRlLTMwOCkgeyAvLyBkZW5vcm1hbFxyXG4gICAgICAgICAgICAgICAgICAgIG1hbnRpc3NhID0gdmFsIC8gNWUtMzI0O1xyXG4gICAgICAgICAgICAgICAgICAgIHdyaXRlVWludChtYW50aXNzYSA+Pj4gMCwgYnVmLCBwb3MgKyBvZmYwKTtcclxuICAgICAgICAgICAgICAgICAgICB3cml0ZVVpbnQoKHNpZ24gPDwgMzEgfCBtYW50aXNzYSAvIDQyOTQ5NjcyOTYpID4+PiAwLCBidWYsIHBvcyArIG9mZjEpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZXhwb25lbnQgPSBNYXRoLmZsb29yKE1hdGgubG9nKHZhbCkgLyBNYXRoLkxOMik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV4cG9uZW50ID09PSAxMDI0KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBleHBvbmVudCA9IDEwMjM7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFudGlzc2EgPSB2YWwgKiBNYXRoLnBvdygyLCAtZXhwb25lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHdyaXRlVWludChtYW50aXNzYSAqIDQ1MDM1OTk2MjczNzA0OTYgPj4+IDAsIGJ1ZiwgcG9zICsgb2ZmMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgd3JpdGVVaW50KChzaWduIDw8IDMxIHwgZXhwb25lbnQgKyAxMDIzIDw8IDIwIHwgbWFudGlzc2EgKiAxMDQ4NTc2ICYgMTA0ODU3NSkgPj4+IDAsIGJ1ZiwgcG9zICsgb2ZmMSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGV4cG9ydHMud3JpdGVEb3VibGVMRSA9IHdyaXRlRG91YmxlX2llZWU3NTQuYmluZChudWxsLCB3cml0ZVVpbnRMRSwgMCwgNCk7XHJcbiAgICAgICAgZXhwb3J0cy53cml0ZURvdWJsZUJFID0gd3JpdGVEb3VibGVfaWVlZTc1NC5iaW5kKG51bGwsIHdyaXRlVWludEJFLCA0LCAwKTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gcmVhZERvdWJsZV9pZWVlNzU0KHJlYWRVaW50LCBvZmYwLCBvZmYxLCBidWYsIHBvcykge1xyXG4gICAgICAgICAgICB2YXIgbG8gPSByZWFkVWludChidWYsIHBvcyArIG9mZjApLFxyXG4gICAgICAgICAgICAgICAgaGkgPSByZWFkVWludChidWYsIHBvcyArIG9mZjEpO1xyXG4gICAgICAgICAgICB2YXIgc2lnbiA9IChoaSA+PiAzMSkgKiAyICsgMSxcclxuICAgICAgICAgICAgICAgIGV4cG9uZW50ID0gaGkgPj4+IDIwICYgMjA0NyxcclxuICAgICAgICAgICAgICAgIG1hbnRpc3NhID0gNDI5NDk2NzI5NiAqIChoaSAmIDEwNDg1NzUpICsgbG87XHJcbiAgICAgICAgICAgIHJldHVybiBleHBvbmVudCA9PT0gMjA0N1xyXG4gICAgICAgICAgICAgICAgPyBtYW50aXNzYVxyXG4gICAgICAgICAgICAgICAgPyBOYU5cclxuICAgICAgICAgICAgICAgIDogc2lnbiAqIEluZmluaXR5XHJcbiAgICAgICAgICAgICAgICA6IGV4cG9uZW50ID09PSAwIC8vIGRlbm9ybWFsXHJcbiAgICAgICAgICAgICAgICA/IHNpZ24gKiA1ZS0zMjQgKiBtYW50aXNzYVxyXG4gICAgICAgICAgICAgICAgOiBzaWduICogTWF0aC5wb3coMiwgZXhwb25lbnQgLSAxMDc1KSAqIChtYW50aXNzYSArIDQ1MDM1OTk2MjczNzA0OTYpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZXhwb3J0cy5yZWFkRG91YmxlTEUgPSByZWFkRG91YmxlX2llZWU3NTQuYmluZChudWxsLCByZWFkVWludExFLCAwLCA0KTtcclxuICAgICAgICBleHBvcnRzLnJlYWREb3VibGVCRSA9IHJlYWREb3VibGVfaWVlZTc1NC5iaW5kKG51bGwsIHJlYWRVaW50QkUsIDQsIDApO1xyXG5cclxuICAgIH0pKCk7XHJcblxyXG4gICAgcmV0dXJuIGV4cG9ydHM7XHJcbn1cclxuXHJcbi8vIHVpbnQgaGVscGVyc1xyXG5cclxuZnVuY3Rpb24gd3JpdGVVaW50TEUodmFsLCBidWYsIHBvcykge1xyXG4gICAgYnVmW3BvcyAgICBdID0gIHZhbCAgICAgICAgJiAyNTU7XHJcbiAgICBidWZbcG9zICsgMV0gPSAgdmFsID4+PiA4ICAmIDI1NTtcclxuICAgIGJ1Zltwb3MgKyAyXSA9ICB2YWwgPj4+IDE2ICYgMjU1O1xyXG4gICAgYnVmW3BvcyArIDNdID0gIHZhbCA+Pj4gMjQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHdyaXRlVWludEJFKHZhbCwgYnVmLCBwb3MpIHtcclxuICAgIGJ1Zltwb3MgICAgXSA9ICB2YWwgPj4+IDI0O1xyXG4gICAgYnVmW3BvcyArIDFdID0gIHZhbCA+Pj4gMTYgJiAyNTU7XHJcbiAgICBidWZbcG9zICsgMl0gPSAgdmFsID4+PiA4ICAmIDI1NTtcclxuICAgIGJ1Zltwb3MgKyAzXSA9ICB2YWwgICAgICAgICYgMjU1O1xyXG59XHJcblxyXG5mdW5jdGlvbiByZWFkVWludExFKGJ1ZiwgcG9zKSB7XHJcbiAgICByZXR1cm4gKGJ1Zltwb3MgICAgXVxyXG4gICAgICAgICAgfCBidWZbcG9zICsgMV0gPDwgOFxyXG4gICAgICAgICAgfCBidWZbcG9zICsgMl0gPDwgMTZcclxuICAgICAgICAgIHwgYnVmW3BvcyArIDNdIDw8IDI0KSA+Pj4gMDtcclxufVxyXG5cclxuZnVuY3Rpb24gcmVhZFVpbnRCRShidWYsIHBvcykge1xyXG4gICAgcmV0dXJuIChidWZbcG9zICAgIF0gPDwgMjRcclxuICAgICAgICAgIHwgYnVmW3BvcyArIDFdIDw8IDE2XHJcbiAgICAgICAgICB8IGJ1Zltwb3MgKyAyXSA8PCA4XHJcbiAgICAgICAgICB8IGJ1Zltwb3MgKyAzXSkgPj4+IDA7XHJcbn1cclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbm1vZHVsZS5leHBvcnRzID0gaW5xdWlyZTtcclxuXHJcbi8qKlxyXG4gKiBSZXF1aXJlcyBhIG1vZHVsZSBvbmx5IGlmIGF2YWlsYWJsZS5cclxuICogQG1lbWJlcm9mIHV0aWxcclxuICogQHBhcmFtIHtzdHJpbmd9IG1vZHVsZU5hbWUgTW9kdWxlIHRvIHJlcXVpcmVcclxuICogQHJldHVybnMgez9PYmplY3R9IFJlcXVpcmVkIG1vZHVsZSBpZiBhdmFpbGFibGUgYW5kIG5vdCBlbXB0eSwgb3RoZXJ3aXNlIGBudWxsYFxyXG4gKi9cclxuZnVuY3Rpb24gaW5xdWlyZShtb2R1bGVOYW1lKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHZhciBtb2QgPSBldmFsKFwicXVpcmVcIi5yZXBsYWNlKC9eLyxcInJlXCIpKShtb2R1bGVOYW1lKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1ldmFsXHJcbiAgICAgICAgaWYgKG1vZCAmJiAobW9kLmxlbmd0aCB8fCBPYmplY3Qua2V5cyhtb2QpLmxlbmd0aCkpXHJcbiAgICAgICAgICAgIHJldHVybiBtb2Q7XHJcbiAgICB9IGNhdGNoIChlKSB7fSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWVtcHR5XHJcbiAgICByZXR1cm4gbnVsbDtcclxufVxyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuXHJcbi8qKlxyXG4gKiBBIG1pbmltYWwgVVRGOCBpbXBsZW1lbnRhdGlvbiBmb3IgbnVtYmVyIGFycmF5cy5cclxuICogQG1lbWJlcm9mIHV0aWxcclxuICogQG5hbWVzcGFjZVxyXG4gKi9cclxudmFyIHV0ZjggPSBleHBvcnRzO1xyXG5cclxuLyoqXHJcbiAqIENhbGN1bGF0ZXMgdGhlIFVURjggYnl0ZSBsZW5ndGggb2YgYSBzdHJpbmcuXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgU3RyaW5nXHJcbiAqIEByZXR1cm5zIHtudW1iZXJ9IEJ5dGUgbGVuZ3RoXHJcbiAqL1xyXG51dGY4Lmxlbmd0aCA9IGZ1bmN0aW9uIHV0ZjhfbGVuZ3RoKHN0cmluZykge1xyXG4gICAgdmFyIGxlbiA9IDAsXHJcbiAgICAgICAgYyA9IDA7XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0cmluZy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgIGMgPSBzdHJpbmcuY2hhckNvZGVBdChpKTtcclxuICAgICAgICBpZiAoYyA8IDEyOClcclxuICAgICAgICAgICAgbGVuICs9IDE7XHJcbiAgICAgICAgZWxzZSBpZiAoYyA8IDIwNDgpXHJcbiAgICAgICAgICAgIGxlbiArPSAyO1xyXG4gICAgICAgIGVsc2UgaWYgKChjICYgMHhGQzAwKSA9PT0gMHhEODAwICYmIChzdHJpbmcuY2hhckNvZGVBdChpICsgMSkgJiAweEZDMDApID09PSAweERDMDApIHtcclxuICAgICAgICAgICAgKytpO1xyXG4gICAgICAgICAgICBsZW4gKz0gNDtcclxuICAgICAgICB9IGVsc2VcclxuICAgICAgICAgICAgbGVuICs9IDM7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbGVuO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFJlYWRzIFVURjggYnl0ZXMgYXMgYSBzdHJpbmcuXHJcbiAqIEBwYXJhbSB7VWludDhBcnJheX0gYnVmZmVyIFNvdXJjZSBidWZmZXJcclxuICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0IFNvdXJjZSBzdGFydFxyXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kIFNvdXJjZSBlbmRcclxuICogQHJldHVybnMge3N0cmluZ30gU3RyaW5nIHJlYWRcclxuICovXHJcbnV0ZjgucmVhZCA9IGZ1bmN0aW9uIHV0ZjhfcmVhZChidWZmZXIsIHN0YXJ0LCBlbmQpIHtcclxuICAgIHZhciBsZW4gPSBlbmQgLSBzdGFydDtcclxuICAgIGlmIChsZW4gPCAxKVxyXG4gICAgICAgIHJldHVybiBcIlwiO1xyXG4gICAgdmFyIHBhcnRzID0gbnVsbCxcclxuICAgICAgICBjaHVuayA9IFtdLFxyXG4gICAgICAgIGkgPSAwLCAvLyBjaGFyIG9mZnNldFxyXG4gICAgICAgIHQ7ICAgICAvLyB0ZW1wb3JhcnlcclxuICAgIHdoaWxlIChzdGFydCA8IGVuZCkge1xyXG4gICAgICAgIHQgPSBidWZmZXJbc3RhcnQrK107XHJcbiAgICAgICAgaWYgKHQgPCAxMjgpXHJcbiAgICAgICAgICAgIGNodW5rW2krK10gPSB0O1xyXG4gICAgICAgIGVsc2UgaWYgKHQgPiAxOTEgJiYgdCA8IDIyNClcclxuICAgICAgICAgICAgY2h1bmtbaSsrXSA9ICh0ICYgMzEpIDw8IDYgfCBidWZmZXJbc3RhcnQrK10gJiA2MztcclxuICAgICAgICBlbHNlIGlmICh0ID4gMjM5ICYmIHQgPCAzNjUpIHtcclxuICAgICAgICAgICAgdCA9ICgodCAmIDcpIDw8IDE4IHwgKGJ1ZmZlcltzdGFydCsrXSAmIDYzKSA8PCAxMiB8IChidWZmZXJbc3RhcnQrK10gJiA2MykgPDwgNiB8IGJ1ZmZlcltzdGFydCsrXSAmIDYzKSAtIDB4MTAwMDA7XHJcbiAgICAgICAgICAgIGNodW5rW2krK10gPSAweEQ4MDAgKyAodCA+PiAxMCk7XHJcbiAgICAgICAgICAgIGNodW5rW2krK10gPSAweERDMDAgKyAodCAmIDEwMjMpO1xyXG4gICAgICAgIH0gZWxzZVxyXG4gICAgICAgICAgICBjaHVua1tpKytdID0gKHQgJiAxNSkgPDwgMTIgfCAoYnVmZmVyW3N0YXJ0KytdICYgNjMpIDw8IDYgfCBidWZmZXJbc3RhcnQrK10gJiA2MztcclxuICAgICAgICBpZiAoaSA+IDgxOTEpIHtcclxuICAgICAgICAgICAgKHBhcnRzIHx8IChwYXJ0cyA9IFtdKSkucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZywgY2h1bmspKTtcclxuICAgICAgICAgICAgaSA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKHBhcnRzKSB7XHJcbiAgICAgICAgaWYgKGkpXHJcbiAgICAgICAgICAgIHBhcnRzLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsIGNodW5rLnNsaWNlKDAsIGkpKSk7XHJcbiAgICAgICAgcmV0dXJuIHBhcnRzLmpvaW4oXCJcIik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsIGNodW5rLnNsaWNlKDAsIGkpKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBXcml0ZXMgYSBzdHJpbmcgYXMgVVRGOCBieXRlcy5cclxuICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBTb3VyY2Ugc3RyaW5nXHJcbiAqIEBwYXJhbSB7VWludDhBcnJheX0gYnVmZmVyIERlc3RpbmF0aW9uIGJ1ZmZlclxyXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IERlc3RpbmF0aW9uIG9mZnNldFxyXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBCeXRlcyB3cml0dGVuXHJcbiAqL1xyXG51dGY4LndyaXRlID0gZnVuY3Rpb24gdXRmOF93cml0ZShzdHJpbmcsIGJ1ZmZlciwgb2Zmc2V0KSB7XHJcbiAgICB2YXIgc3RhcnQgPSBvZmZzZXQsXHJcbiAgICAgICAgYzEsIC8vIGNoYXJhY3RlciAxXHJcbiAgICAgICAgYzI7IC8vIGNoYXJhY3RlciAyXHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0cmluZy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgIGMxID0gc3RyaW5nLmNoYXJDb2RlQXQoaSk7XHJcbiAgICAgICAgaWYgKGMxIDwgMTI4KSB7XHJcbiAgICAgICAgICAgIGJ1ZmZlcltvZmZzZXQrK10gPSBjMTtcclxuICAgICAgICB9IGVsc2UgaWYgKGMxIDwgMjA0OCkge1xyXG4gICAgICAgICAgICBidWZmZXJbb2Zmc2V0KytdID0gYzEgPj4gNiAgICAgICB8IDE5MjtcclxuICAgICAgICAgICAgYnVmZmVyW29mZnNldCsrXSA9IGMxICAgICAgICYgNjMgfCAxMjg7XHJcbiAgICAgICAgfSBlbHNlIGlmICgoYzEgJiAweEZDMDApID09PSAweEQ4MDAgJiYgKChjMiA9IHN0cmluZy5jaGFyQ29kZUF0KGkgKyAxKSkgJiAweEZDMDApID09PSAweERDMDApIHtcclxuICAgICAgICAgICAgYzEgPSAweDEwMDAwICsgKChjMSAmIDB4MDNGRikgPDwgMTApICsgKGMyICYgMHgwM0ZGKTtcclxuICAgICAgICAgICAgKytpO1xyXG4gICAgICAgICAgICBidWZmZXJbb2Zmc2V0KytdID0gYzEgPj4gMTggICAgICB8IDI0MDtcclxuICAgICAgICAgICAgYnVmZmVyW29mZnNldCsrXSA9IGMxID4+IDEyICYgNjMgfCAxMjg7XHJcbiAgICAgICAgICAgIGJ1ZmZlcltvZmZzZXQrK10gPSBjMSA+PiA2ICAmIDYzIHwgMTI4O1xyXG4gICAgICAgICAgICBidWZmZXJbb2Zmc2V0KytdID0gYzEgICAgICAgJiA2MyB8IDEyODtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBidWZmZXJbb2Zmc2V0KytdID0gYzEgPj4gMTIgICAgICB8IDIyNDtcclxuICAgICAgICAgICAgYnVmZmVyW29mZnNldCsrXSA9IGMxID4+IDYgICYgNjMgfCAxMjg7XHJcbiAgICAgICAgICAgIGJ1ZmZlcltvZmZzZXQrK10gPSBjMSAgICAgICAmIDYzIHwgMTI4O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBvZmZzZXQgLSBzdGFydDtcclxufTtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbm1vZHVsZS5leHBvcnRzID0gcG9vbDtcclxuXHJcbi8qKlxyXG4gKiBBbiBhbGxvY2F0b3IgYXMgdXNlZCBieSB7QGxpbmsgdXRpbC5wb29sfS5cclxuICogQHR5cGVkZWYgUG9vbEFsbG9jYXRvclxyXG4gKiBAdHlwZSB7ZnVuY3Rpb259XHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBzaXplIEJ1ZmZlciBzaXplXHJcbiAqIEByZXR1cm5zIHtVaW50OEFycmF5fSBCdWZmZXJcclxuICovXHJcblxyXG4vKipcclxuICogQSBzbGljZXIgYXMgdXNlZCBieSB7QGxpbmsgdXRpbC5wb29sfS5cclxuICogQHR5cGVkZWYgUG9vbFNsaWNlclxyXG4gKiBAdHlwZSB7ZnVuY3Rpb259XHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydCBTdGFydCBvZmZzZXRcclxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQgb2Zmc2V0XHJcbiAqIEByZXR1cm5zIHtVaW50OEFycmF5fSBCdWZmZXIgc2xpY2VcclxuICogQHRoaXMge1VpbnQ4QXJyYXl9XHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEEgZ2VuZXJhbCBwdXJwb3NlIGJ1ZmZlciBwb29sLlxyXG4gKiBAbWVtYmVyb2YgdXRpbFxyXG4gKiBAZnVuY3Rpb25cclxuICogQHBhcmFtIHtQb29sQWxsb2NhdG9yfSBhbGxvYyBBbGxvY2F0b3JcclxuICogQHBhcmFtIHtQb29sU2xpY2VyfSBzbGljZSBTbGljZXJcclxuICogQHBhcmFtIHtudW1iZXJ9IFtzaXplPTgxOTJdIFNsYWIgc2l6ZVxyXG4gKiBAcmV0dXJucyB7UG9vbEFsbG9jYXRvcn0gUG9vbGVkIGFsbG9jYXRvclxyXG4gKi9cclxuZnVuY3Rpb24gcG9vbChhbGxvYywgc2xpY2UsIHNpemUpIHtcclxuICAgIHZhciBTSVpFICAgPSBzaXplIHx8IDgxOTI7XHJcbiAgICB2YXIgTUFYICAgID0gU0laRSA+Pj4gMTtcclxuICAgIHZhciBzbGFiICAgPSBudWxsO1xyXG4gICAgdmFyIG9mZnNldCA9IFNJWkU7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gcG9vbF9hbGxvYyhzaXplKSB7XHJcbiAgICAgICAgaWYgKHNpemUgPCAxIHx8IHNpemUgPiBNQVgpXHJcbiAgICAgICAgICAgIHJldHVybiBhbGxvYyhzaXplKTtcclxuICAgICAgICBpZiAob2Zmc2V0ICsgc2l6ZSA+IFNJWkUpIHtcclxuICAgICAgICAgICAgc2xhYiA9IGFsbG9jKFNJWkUpO1xyXG4gICAgICAgICAgICBvZmZzZXQgPSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgYnVmID0gc2xpY2UuY2FsbChzbGFiLCBvZmZzZXQsIG9mZnNldCArPSBzaXplKTtcclxuICAgICAgICBpZiAob2Zmc2V0ICYgNykgLy8gYWxpZ24gdG8gMzIgYml0XHJcbiAgICAgICAgICAgIG9mZnNldCA9IChvZmZzZXQgfCA3KSArIDE7XHJcbiAgICAgICAgcmV0dXJuIGJ1ZjtcclxuICAgIH07XHJcbn1cclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5tb2R1bGUuZXhwb3J0cyA9IExvbmdCaXRzO1xuXG52YXIgdXRpbCA9IHJlcXVpcmUoXCIuLi91dGlsL21pbmltYWxcIik7XG5cbi8qKlxuICogQ29uc3RydWN0cyBuZXcgbG9uZyBiaXRzLlxuICogQGNsYXNzZGVzYyBIZWxwZXIgY2xhc3MgZm9yIHdvcmtpbmcgd2l0aCB0aGUgbG93IGFuZCBoaWdoIGJpdHMgb2YgYSA2NCBiaXQgdmFsdWUuXG4gKiBAbWVtYmVyb2YgdXRpbFxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge251bWJlcn0gbG8gTG93IDMyIGJpdHMsIHVuc2lnbmVkXG4gKiBAcGFyYW0ge251bWJlcn0gaGkgSGlnaCAzMiBiaXRzLCB1bnNpZ25lZFxuICovXG5mdW5jdGlvbiBMb25nQml0cyhsbywgaGkpIHtcblxuICAgIC8vIG5vdGUgdGhhdCB0aGUgY2FzdHMgYmVsb3cgYXJlIHRoZW9yZXRpY2FsbHkgdW5uZWNlc3NhcnkgYXMgb2YgdG9kYXksIGJ1dCBvbGRlciBzdGF0aWNhbGx5XG4gICAgLy8gZ2VuZXJhdGVkIGNvbnZlcnRlciBjb2RlIG1pZ2h0IHN0aWxsIGNhbGwgdGhlIGN0b3Igd2l0aCBzaWduZWQgMzJiaXRzLiBrZXB0IGZvciBjb21wYXQuXG5cbiAgICAvKipcbiAgICAgKiBMb3cgYml0cy5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMubG8gPSBsbyA+Pj4gMDtcblxuICAgIC8qKlxuICAgICAqIEhpZ2ggYml0cy5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuaGkgPSBoaSA+Pj4gMDtcbn1cblxuLyoqXG4gKiBaZXJvIGJpdHMuXG4gKiBAbWVtYmVyb2YgdXRpbC5Mb25nQml0c1xuICogQHR5cGUge3V0aWwuTG9uZ0JpdHN9XG4gKi9cbnZhciB6ZXJvID0gTG9uZ0JpdHMuemVybyA9IG5ldyBMb25nQml0cygwLCAwKTtcblxuemVyby50b051bWJlciA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcbnplcm8uenpFbmNvZGUgPSB6ZXJvLnp6RGVjb2RlID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9O1xuemVyby5sZW5ndGggPSBmdW5jdGlvbigpIHsgcmV0dXJuIDE7IH07XG5cbi8qKlxuICogWmVybyBoYXNoLlxuICogQG1lbWJlcm9mIHV0aWwuTG9uZ0JpdHNcbiAqIEB0eXBlIHtzdHJpbmd9XG4gKi9cbnZhciB6ZXJvSGFzaCA9IExvbmdCaXRzLnplcm9IYXNoID0gXCJcXDBcXDBcXDBcXDBcXDBcXDBcXDBcXDBcIjtcblxuLyoqXG4gKiBDb25zdHJ1Y3RzIG5ldyBsb25nIGJpdHMgZnJvbSB0aGUgc3BlY2lmaWVkIG51bWJlci5cbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSBWYWx1ZVxuICogQHJldHVybnMge3V0aWwuTG9uZ0JpdHN9IEluc3RhbmNlXG4gKi9cbkxvbmdCaXRzLmZyb21OdW1iZXIgPSBmdW5jdGlvbiBmcm9tTnVtYmVyKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlID09PSAwKVxuICAgICAgICByZXR1cm4gemVybztcbiAgICB2YXIgc2lnbiA9IHZhbHVlIDwgMDtcbiAgICBpZiAoc2lnbilcbiAgICAgICAgdmFsdWUgPSAtdmFsdWU7XG4gICAgdmFyIGxvID0gdmFsdWUgPj4+IDAsXG4gICAgICAgIGhpID0gKHZhbHVlIC0gbG8pIC8gNDI5NDk2NzI5NiA+Pj4gMDtcbiAgICBpZiAoc2lnbikge1xuICAgICAgICBoaSA9IH5oaSA+Pj4gMDtcbiAgICAgICAgbG8gPSB+bG8gPj4+IDA7XG4gICAgICAgIGlmICgrK2xvID4gNDI5NDk2NzI5NSkge1xuICAgICAgICAgICAgbG8gPSAwO1xuICAgICAgICAgICAgaWYgKCsraGkgPiA0Mjk0OTY3Mjk1KVxuICAgICAgICAgICAgICAgIGhpID0gMDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbmV3IExvbmdCaXRzKGxvLCBoaSk7XG59O1xuXG4vKipcbiAqIENvbnN0cnVjdHMgbmV3IGxvbmcgYml0cyBmcm9tIGEgbnVtYmVyLCBsb25nIG9yIHN0cmluZy5cbiAqIEBwYXJhbSB7TG9uZ3xudW1iZXJ8c3RyaW5nfSB2YWx1ZSBWYWx1ZVxuICogQHJldHVybnMge3V0aWwuTG9uZ0JpdHN9IEluc3RhbmNlXG4gKi9cbkxvbmdCaXRzLmZyb20gPSBmdW5jdGlvbiBmcm9tKHZhbHVlKSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIilcbiAgICAgICAgcmV0dXJuIExvbmdCaXRzLmZyb21OdW1iZXIodmFsdWUpO1xuICAgIGlmICh1dGlsLmlzU3RyaW5nKHZhbHVlKSkge1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgICBpZiAodXRpbC5Mb25nKVxuICAgICAgICAgICAgdmFsdWUgPSB1dGlsLkxvbmcuZnJvbVN0cmluZyh2YWx1ZSk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHJldHVybiBMb25nQml0cy5mcm9tTnVtYmVyKHBhcnNlSW50KHZhbHVlLCAxMCkpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWUubG93IHx8IHZhbHVlLmhpZ2ggPyBuZXcgTG9uZ0JpdHModmFsdWUubG93ID4+PiAwLCB2YWx1ZS5oaWdoID4+PiAwKSA6IHplcm87XG59O1xuXG4vKipcbiAqIENvbnZlcnRzIHRoaXMgbG9uZyBiaXRzIHRvIGEgcG9zc2libHkgdW5zYWZlIEphdmFTY3JpcHQgbnVtYmVyLlxuICogQHBhcmFtIHtib29sZWFufSBbdW5zaWduZWQ9ZmFsc2VdIFdoZXRoZXIgdW5zaWduZWQgb3Igbm90XG4gKiBAcmV0dXJucyB7bnVtYmVyfSBQb3NzaWJseSB1bnNhZmUgbnVtYmVyXG4gKi9cbkxvbmdCaXRzLnByb3RvdHlwZS50b051bWJlciA9IGZ1bmN0aW9uIHRvTnVtYmVyKHVuc2lnbmVkKSB7XG4gICAgaWYgKCF1bnNpZ25lZCAmJiB0aGlzLmhpID4+PiAzMSkge1xuICAgICAgICB2YXIgbG8gPSB+dGhpcy5sbyArIDEgPj4+IDAsXG4gICAgICAgICAgICBoaSA9IH50aGlzLmhpICAgICA+Pj4gMDtcbiAgICAgICAgaWYgKCFsbylcbiAgICAgICAgICAgIGhpID0gaGkgKyAxID4+PiAwO1xuICAgICAgICByZXR1cm4gLShsbyArIGhpICogNDI5NDk2NzI5Nik7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmxvICsgdGhpcy5oaSAqIDQyOTQ5NjcyOTY7XG59O1xuXG4vKipcbiAqIENvbnZlcnRzIHRoaXMgbG9uZyBiaXRzIHRvIGEgbG9uZy5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Vuc2lnbmVkPWZhbHNlXSBXaGV0aGVyIHVuc2lnbmVkIG9yIG5vdFxuICogQHJldHVybnMge0xvbmd9IExvbmdcbiAqL1xuTG9uZ0JpdHMucHJvdG90eXBlLnRvTG9uZyA9IGZ1bmN0aW9uIHRvTG9uZyh1bnNpZ25lZCkge1xuICAgIHJldHVybiB1dGlsLkxvbmdcbiAgICAgICAgPyBuZXcgdXRpbC5Mb25nKHRoaXMubG8gfCAwLCB0aGlzLmhpIHwgMCwgQm9vbGVhbih1bnNpZ25lZCkpXG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgIDogeyBsb3c6IHRoaXMubG8gfCAwLCBoaWdoOiB0aGlzLmhpIHwgMCwgdW5zaWduZWQ6IEJvb2xlYW4odW5zaWduZWQpIH07XG59O1xuXG52YXIgY2hhckNvZGVBdCA9IFN0cmluZy5wcm90b3R5cGUuY2hhckNvZGVBdDtcblxuLyoqXG4gKiBDb25zdHJ1Y3RzIG5ldyBsb25nIGJpdHMgZnJvbSB0aGUgc3BlY2lmaWVkIDggY2hhcmFjdGVycyBsb25nIGhhc2guXG4gKiBAcGFyYW0ge3N0cmluZ30gaGFzaCBIYXNoXG4gKiBAcmV0dXJucyB7dXRpbC5Mb25nQml0c30gQml0c1xuICovXG5Mb25nQml0cy5mcm9tSGFzaCA9IGZ1bmN0aW9uIGZyb21IYXNoKGhhc2gpIHtcbiAgICBpZiAoaGFzaCA9PT0gemVyb0hhc2gpXG4gICAgICAgIHJldHVybiB6ZXJvO1xuICAgIHJldHVybiBuZXcgTG9uZ0JpdHMoXG4gICAgICAgICggY2hhckNvZGVBdC5jYWxsKGhhc2gsIDApXG4gICAgICAgIHwgY2hhckNvZGVBdC5jYWxsKGhhc2gsIDEpIDw8IDhcbiAgICAgICAgfCBjaGFyQ29kZUF0LmNhbGwoaGFzaCwgMikgPDwgMTZcbiAgICAgICAgfCBjaGFyQ29kZUF0LmNhbGwoaGFzaCwgMykgPDwgMjQpID4+PiAwXG4gICAgLFxuICAgICAgICAoIGNoYXJDb2RlQXQuY2FsbChoYXNoLCA0KVxuICAgICAgICB8IGNoYXJDb2RlQXQuY2FsbChoYXNoLCA1KSA8PCA4XG4gICAgICAgIHwgY2hhckNvZGVBdC5jYWxsKGhhc2gsIDYpIDw8IDE2XG4gICAgICAgIHwgY2hhckNvZGVBdC5jYWxsKGhhc2gsIDcpIDw8IDI0KSA+Pj4gMFxuICAgICk7XG59O1xuXG4vKipcbiAqIENvbnZlcnRzIHRoaXMgbG9uZyBiaXRzIHRvIGEgOCBjaGFyYWN0ZXJzIGxvbmcgaGFzaC5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IEhhc2hcbiAqL1xuTG9uZ0JpdHMucHJvdG90eXBlLnRvSGFzaCA9IGZ1bmN0aW9uIHRvSGFzaCgpIHtcbiAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShcbiAgICAgICAgdGhpcy5sbyAgICAgICAgJiAyNTUsXG4gICAgICAgIHRoaXMubG8gPj4+IDggICYgMjU1LFxuICAgICAgICB0aGlzLmxvID4+PiAxNiAmIDI1NSxcbiAgICAgICAgdGhpcy5sbyA+Pj4gMjQgICAgICAsXG4gICAgICAgIHRoaXMuaGkgICAgICAgICYgMjU1LFxuICAgICAgICB0aGlzLmhpID4+PiA4ICAmIDI1NSxcbiAgICAgICAgdGhpcy5oaSA+Pj4gMTYgJiAyNTUsXG4gICAgICAgIHRoaXMuaGkgPj4+IDI0XG4gICAgKTtcbn07XG5cbi8qKlxuICogWmlnLXphZyBlbmNvZGVzIHRoaXMgbG9uZyBiaXRzLlxuICogQHJldHVybnMge3V0aWwuTG9uZ0JpdHN9IGB0aGlzYFxuICovXG5Mb25nQml0cy5wcm90b3R5cGUuenpFbmNvZGUgPSBmdW5jdGlvbiB6ekVuY29kZSgpIHtcbiAgICB2YXIgbWFzayA9ICAgdGhpcy5oaSA+PiAzMTtcbiAgICB0aGlzLmhpICA9ICgodGhpcy5oaSA8PCAxIHwgdGhpcy5sbyA+Pj4gMzEpIF4gbWFzaykgPj4+IDA7XG4gICAgdGhpcy5sbyAgPSAoIHRoaXMubG8gPDwgMSAgICAgICAgICAgICAgICAgICBeIG1hc2spID4+PiAwO1xuICAgIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBaaWctemFnIGRlY29kZXMgdGhpcyBsb25nIGJpdHMuXG4gKiBAcmV0dXJucyB7dXRpbC5Mb25nQml0c30gYHRoaXNgXG4gKi9cbkxvbmdCaXRzLnByb3RvdHlwZS56ekRlY29kZSA9IGZ1bmN0aW9uIHp6RGVjb2RlKCkge1xuICAgIHZhciBtYXNrID0gLSh0aGlzLmxvICYgMSk7XG4gICAgdGhpcy5sbyAgPSAoKHRoaXMubG8gPj4+IDEgfCB0aGlzLmhpIDw8IDMxKSBeIG1hc2spID4+PiAwO1xuICAgIHRoaXMuaGkgID0gKCB0aGlzLmhpID4+PiAxICAgICAgICAgICAgICAgICAgXiBtYXNrKSA+Pj4gMDtcbiAgICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgbGVuZ3RoIG9mIHRoaXMgbG9uZ2JpdHMgd2hlbiBlbmNvZGVkIGFzIGEgdmFyaW50LlxuICogQHJldHVybnMge251bWJlcn0gTGVuZ3RoXG4gKi9cbkxvbmdCaXRzLnByb3RvdHlwZS5sZW5ndGggPSBmdW5jdGlvbiBsZW5ndGgoKSB7XG4gICAgdmFyIHBhcnQwID0gIHRoaXMubG8sXG4gICAgICAgIHBhcnQxID0gKHRoaXMubG8gPj4+IDI4IHwgdGhpcy5oaSA8PCA0KSA+Pj4gMCxcbiAgICAgICAgcGFydDIgPSAgdGhpcy5oaSA+Pj4gMjQ7XG4gICAgcmV0dXJuIHBhcnQyID09PSAwXG4gICAgICAgICA/IHBhcnQxID09PSAwXG4gICAgICAgICAgID8gcGFydDAgPCAxNjM4NFxuICAgICAgICAgICAgID8gcGFydDAgPCAxMjggPyAxIDogMlxuICAgICAgICAgICAgIDogcGFydDAgPCAyMDk3MTUyID8gMyA6IDRcbiAgICAgICAgICAgOiBwYXJ0MSA8IDE2Mzg0XG4gICAgICAgICAgICAgPyBwYXJ0MSA8IDEyOCA/IDUgOiA2XG4gICAgICAgICAgICAgOiBwYXJ0MSA8IDIwOTcxNTIgPyA3IDogOFxuICAgICAgICAgOiBwYXJ0MiA8IDEyOCA/IDkgOiAxMDtcbn07XG4iLCJcInVzZSBzdHJpY3RcIjtcbnZhciB1dGlsID0gZXhwb3J0cztcblxuLy8gdXNlZCB0byByZXR1cm4gYSBQcm9taXNlIHdoZXJlIGNhbGxiYWNrIGlzIG9taXR0ZWRcbnV0aWwuYXNQcm9taXNlID0gcmVxdWlyZShcIkBwcm90b2J1ZmpzL2FzcHJvbWlzZVwiKTtcblxuLy8gY29udmVydHMgdG8gLyBmcm9tIGJhc2U2NCBlbmNvZGVkIHN0cmluZ3NcbnV0aWwuYmFzZTY0ID0gcmVxdWlyZShcIkBwcm90b2J1ZmpzL2Jhc2U2NFwiKTtcblxuLy8gYmFzZSBjbGFzcyBvZiBycGMuU2VydmljZVxudXRpbC5FdmVudEVtaXR0ZXIgPSByZXF1aXJlKFwiQHByb3RvYnVmanMvZXZlbnRlbWl0dGVyXCIpO1xuXG4vLyBmbG9hdCBoYW5kbGluZyBhY2Nyb3NzIGJyb3dzZXJzXG51dGlsLmZsb2F0ID0gcmVxdWlyZShcIkBwcm90b2J1ZmpzL2Zsb2F0XCIpO1xuXG4vLyByZXF1aXJlcyBtb2R1bGVzIG9wdGlvbmFsbHkgYW5kIGhpZGVzIHRoZSBjYWxsIGZyb20gYnVuZGxlcnNcbnV0aWwuaW5xdWlyZSA9IHJlcXVpcmUoXCJAcHJvdG9idWZqcy9pbnF1aXJlXCIpO1xuXG4vLyBjb252ZXJ0cyB0byAvIGZyb20gdXRmOCBlbmNvZGVkIHN0cmluZ3NcbnV0aWwudXRmOCA9IHJlcXVpcmUoXCJAcHJvdG9idWZqcy91dGY4XCIpO1xuXG4vLyBwcm92aWRlcyBhIG5vZGUtbGlrZSBidWZmZXIgcG9vbCBpbiB0aGUgYnJvd3NlclxudXRpbC5wb29sID0gcmVxdWlyZShcIkBwcm90b2J1ZmpzL3Bvb2xcIik7XG5cbi8vIHV0aWxpdHkgdG8gd29yayB3aXRoIHRoZSBsb3cgYW5kIGhpZ2ggYml0cyBvZiBhIDY0IGJpdCB2YWx1ZVxudXRpbC5Mb25nQml0cyA9IHJlcXVpcmUoXCIuL2xvbmdiaXRzXCIpO1xuXG4vKipcbiAqIFdoZXRoZXIgcnVubmluZyB3aXRoaW4gbm9kZSBvciBub3QuXG4gKiBAbWVtYmVyb2YgdXRpbFxuICogQHR5cGUge2Jvb2xlYW59XG4gKi9cbnV0aWwuaXNOb2RlID0gQm9vbGVhbih0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiXG4gICAgICAgICAgICAgICAgICAgJiYgZ2xvYmFsXG4gICAgICAgICAgICAgICAgICAgJiYgZ2xvYmFsLnByb2Nlc3NcbiAgICAgICAgICAgICAgICAgICAmJiBnbG9iYWwucHJvY2Vzcy52ZXJzaW9uc1xuICAgICAgICAgICAgICAgICAgICYmIGdsb2JhbC5wcm9jZXNzLnZlcnNpb25zLm5vZGUpO1xuXG4vKipcbiAqIEdsb2JhbCBvYmplY3QgcmVmZXJlbmNlLlxuICogQG1lbWJlcm9mIHV0aWxcbiAqIEB0eXBlIHtPYmplY3R9XG4gKi9cbnV0aWwuZ2xvYmFsID0gdXRpbC5pc05vZGUgJiYgZ2xvYmFsXG4gICAgICAgICAgIHx8IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgd2luZG93XG4gICAgICAgICAgIHx8IHR5cGVvZiBzZWxmICAgIT09IFwidW5kZWZpbmVkXCIgJiYgc2VsZlxuICAgICAgICAgICB8fCB0aGlzOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWludmFsaWQtdGhpc1xuXG4vKipcbiAqIEFuIGltbXVhYmxlIGVtcHR5IGFycmF5LlxuICogQG1lbWJlcm9mIHV0aWxcbiAqIEB0eXBlIHtBcnJheS48Kj59XG4gKiBAY29uc3RcbiAqL1xudXRpbC5lbXB0eUFycmF5ID0gT2JqZWN0LmZyZWV6ZSA/IE9iamVjdC5mcmVlemUoW10pIDogLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8gW107IC8vIHVzZWQgb24gcHJvdG90eXBlc1xuXG4vKipcbiAqIEFuIGltbXV0YWJsZSBlbXB0eSBvYmplY3QuXG4gKiBAdHlwZSB7T2JqZWN0fVxuICogQGNvbnN0XG4gKi9cbnV0aWwuZW1wdHlPYmplY3QgPSBPYmplY3QuZnJlZXplID8gT2JqZWN0LmZyZWV6ZSh7fSkgOiAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLyB7fTsgLy8gdXNlZCBvbiBwcm90b3R5cGVzXG5cbi8qKlxuICogVGVzdHMgaWYgdGhlIHNwZWNpZmllZCB2YWx1ZSBpcyBhbiBpbnRlZ2VyLlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0geyp9IHZhbHVlIFZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBgdHJ1ZWAgaWYgdGhlIHZhbHVlIGlzIGFuIGludGVnZXJcbiAqL1xudXRpbC5pc0ludGVnZXIgPSBOdW1iZXIuaXNJbnRlZ2VyIHx8IC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovIGZ1bmN0aW9uIGlzSW50ZWdlcih2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIgJiYgaXNGaW5pdGUodmFsdWUpICYmIE1hdGguZmxvb3IodmFsdWUpID09PSB2YWx1ZTtcbn07XG5cbi8qKlxuICogVGVzdHMgaWYgdGhlIHNwZWNpZmllZCB2YWx1ZSBpcyBhIHN0cmluZy5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgdmFsdWUgaXMgYSBzdHJpbmdcbiAqL1xudXRpbC5pc1N0cmluZyA9IGZ1bmN0aW9uIGlzU3RyaW5nKHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiB8fCB2YWx1ZSBpbnN0YW5jZW9mIFN0cmluZztcbn07XG5cbi8qKlxuICogVGVzdHMgaWYgdGhlIHNwZWNpZmllZCB2YWx1ZSBpcyBhIG5vbi1udWxsIG9iamVjdC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgdmFsdWUgaXMgYSBub24tbnVsbCBvYmplY3RcbiAqL1xudXRpbC5pc09iamVjdCA9IGZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIjtcbn07XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgcHJvcGVydHkgb24gYSBtZXNzYWdlIGlzIGNvbnNpZGVyZWQgdG8gYmUgcHJlc2VudC5cbiAqIFRoaXMgaXMgYW4gYWxpYXMgb2Yge0BsaW5rIHV0aWwuaXNTZXR9LlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqIFBsYWluIG9iamVjdCBvciBtZXNzYWdlIGluc3RhbmNlXG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvcCBQcm9wZXJ0eSBuYW1lXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gYHRydWVgIGlmIGNvbnNpZGVyZWQgdG8gYmUgcHJlc2VudCwgb3RoZXJ3aXNlIGBmYWxzZWBcbiAqL1xudXRpbC5pc3NldCA9XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgcHJvcGVydHkgb24gYSBtZXNzYWdlIGlzIGNvbnNpZGVyZWQgdG8gYmUgcHJlc2VudC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmogUGxhaW4gb2JqZWN0IG9yIG1lc3NhZ2UgaW5zdGFuY2VcbiAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wIFByb3BlcnR5IG5hbWVcbiAqIEByZXR1cm5zIHtib29sZWFufSBgdHJ1ZWAgaWYgY29uc2lkZXJlZCB0byBiZSBwcmVzZW50LCBvdGhlcndpc2UgYGZhbHNlYFxuICovXG51dGlsLmlzU2V0ID0gZnVuY3Rpb24gaXNTZXQob2JqLCBwcm9wKSB7XG4gICAgdmFyIHZhbHVlID0gb2JqW3Byb3BdO1xuICAgIGlmICh2YWx1ZSAhPSBudWxsICYmIG9iai5oYXNPd25Qcm9wZXJ0eShwcm9wKSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSBlcWVxZXEsIG5vLXByb3RvdHlwZS1idWlsdGluc1xuICAgICAgICByZXR1cm4gdHlwZW9mIHZhbHVlICE9PSBcIm9iamVjdFwiIHx8IChBcnJheS5pc0FycmF5KHZhbHVlKSA/IHZhbHVlLmxlbmd0aCA6IE9iamVjdC5rZXlzKHZhbHVlKS5sZW5ndGgpID4gMDtcbiAgICByZXR1cm4gZmFsc2U7XG59O1xuXG4vKipcbiAqIEFueSBjb21wYXRpYmxlIEJ1ZmZlciBpbnN0YW5jZS5cbiAqIFRoaXMgaXMgYSBtaW5pbWFsIHN0YW5kLWFsb25lIGRlZmluaXRpb24gb2YgYSBCdWZmZXIgaW5zdGFuY2UuIFRoZSBhY3R1YWwgdHlwZSBpcyB0aGF0IGV4cG9ydGVkIGJ5IG5vZGUncyB0eXBpbmdzLlxuICogQGludGVyZmFjZSBCdWZmZXJcbiAqIEBleHRlbmRzIFVpbnQ4QXJyYXlcbiAqL1xuXG4vKipcbiAqIE5vZGUncyBCdWZmZXIgY2xhc3MgaWYgYXZhaWxhYmxlLlxuICogQHR5cGUge0NvbnN0cnVjdG9yPEJ1ZmZlcj59XG4gKi9cbnV0aWwuQnVmZmVyID0gKGZ1bmN0aW9uKCkge1xuICAgIHRyeSB7XG4gICAgICAgIHZhciBCdWZmZXIgPSB1dGlsLmlucXVpcmUoXCJidWZmZXJcIikuQnVmZmVyO1xuICAgICAgICAvLyByZWZ1c2UgdG8gdXNlIG5vbi1ub2RlIGJ1ZmZlcnMgaWYgbm90IGV4cGxpY2l0bHkgYXNzaWduZWQgKHBlcmYgcmVhc29ucyk6XG4gICAgICAgIHJldHVybiBCdWZmZXIucHJvdG90eXBlLnV0ZjhXcml0ZSA/IEJ1ZmZlciA6IC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovIG51bGw7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59KSgpO1xuXG4vLyBJbnRlcm5hbCBhbGlhcyBvZiBvciBwb2x5ZnVsbCBmb3IgQnVmZmVyLmZyb20uXG51dGlsLl9CdWZmZXJfZnJvbSA9IG51bGw7XG5cbi8vIEludGVybmFsIGFsaWFzIG9mIG9yIHBvbHlmaWxsIGZvciBCdWZmZXIuYWxsb2NVbnNhZmUuXG51dGlsLl9CdWZmZXJfYWxsb2NVbnNhZmUgPSBudWxsO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgYnVmZmVyIG9mIHdoYXRldmVyIHR5cGUgc3VwcG9ydGVkIGJ5IHRoZSBlbnZpcm9ubWVudC5cbiAqIEBwYXJhbSB7bnVtYmVyfG51bWJlcltdfSBbc2l6ZU9yQXJyYXk9MF0gQnVmZmVyIHNpemUgb3IgbnVtYmVyIGFycmF5XG4gKiBAcmV0dXJucyB7VWludDhBcnJheXxCdWZmZXJ9IEJ1ZmZlclxuICovXG51dGlsLm5ld0J1ZmZlciA9IGZ1bmN0aW9uIG5ld0J1ZmZlcihzaXplT3JBcnJheSkge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgcmV0dXJuIHR5cGVvZiBzaXplT3JBcnJheSA9PT0gXCJudW1iZXJcIlxuICAgICAgICA/IHV0aWwuQnVmZmVyXG4gICAgICAgICAgICA/IHV0aWwuX0J1ZmZlcl9hbGxvY1Vuc2FmZShzaXplT3JBcnJheSlcbiAgICAgICAgICAgIDogbmV3IHV0aWwuQXJyYXkoc2l6ZU9yQXJyYXkpXG4gICAgICAgIDogdXRpbC5CdWZmZXJcbiAgICAgICAgICAgID8gdXRpbC5fQnVmZmVyX2Zyb20oc2l6ZU9yQXJyYXkpXG4gICAgICAgICAgICA6IHR5cGVvZiBVaW50OEFycmF5ID09PSBcInVuZGVmaW5lZFwiXG4gICAgICAgICAgICAgICAgPyBzaXplT3JBcnJheVxuICAgICAgICAgICAgICAgIDogbmV3IFVpbnQ4QXJyYXkoc2l6ZU9yQXJyYXkpO1xufTtcblxuLyoqXG4gKiBBcnJheSBpbXBsZW1lbnRhdGlvbiB1c2VkIGluIHRoZSBicm93c2VyLiBgVWludDhBcnJheWAgaWYgc3VwcG9ydGVkLCBvdGhlcndpc2UgYEFycmF5YC5cbiAqIEB0eXBlIHtDb25zdHJ1Y3RvcjxVaW50OEFycmF5Pn1cbiAqL1xudXRpbC5BcnJheSA9IHR5cGVvZiBVaW50OEFycmF5ICE9PSBcInVuZGVmaW5lZFwiID8gVWludDhBcnJheSAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLyA6IEFycmF5O1xuXG4vKipcbiAqIEFueSBjb21wYXRpYmxlIExvbmcgaW5zdGFuY2UuXG4gKiBUaGlzIGlzIGEgbWluaW1hbCBzdGFuZC1hbG9uZSBkZWZpbml0aW9uIG9mIGEgTG9uZyBpbnN0YW5jZS4gVGhlIGFjdHVhbCB0eXBlIGlzIHRoYXQgZXhwb3J0ZWQgYnkgbG9uZy5qcy5cbiAqIEBpbnRlcmZhY2UgTG9uZ1xuICogQHByb3BlcnR5IHtudW1iZXJ9IGxvdyBMb3cgYml0c1xuICogQHByb3BlcnR5IHtudW1iZXJ9IGhpZ2ggSGlnaCBiaXRzXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IHVuc2lnbmVkIFdoZXRoZXIgdW5zaWduZWQgb3Igbm90XG4gKi9cblxuLyoqXG4gKiBMb25nLmpzJ3MgTG9uZyBjbGFzcyBpZiBhdmFpbGFibGUuXG4gKiBAdHlwZSB7Q29uc3RydWN0b3I8TG9uZz59XG4gKi9cbnV0aWwuTG9uZyA9IC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovIHV0aWwuZ2xvYmFsLmRjb2RlSU8gJiYgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8gdXRpbC5nbG9iYWwuZGNvZGVJTy5Mb25nXG4gICAgICAgICB8fCAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLyB1dGlsLmdsb2JhbC5Mb25nXG4gICAgICAgICB8fCB1dGlsLmlucXVpcmUoXCJsb25nXCIpO1xuXG4vKipcbiAqIFJlZ3VsYXIgZXhwcmVzc2lvbiB1c2VkIHRvIHZlcmlmeSAyIGJpdCAoYGJvb2xgKSBtYXAga2V5cy5cbiAqIEB0eXBlIHtSZWdFeHB9XG4gKiBAY29uc3RcbiAqL1xudXRpbC5rZXkyUmUgPSAvXnRydWV8ZmFsc2V8MHwxJC87XG5cbi8qKlxuICogUmVndWxhciBleHByZXNzaW9uIHVzZWQgdG8gdmVyaWZ5IDMyIGJpdCAoYGludDMyYCBldGMuKSBtYXAga2V5cy5cbiAqIEB0eXBlIHtSZWdFeHB9XG4gKiBAY29uc3RcbiAqL1xudXRpbC5rZXkzMlJlID0gL14tPyg/OjB8WzEtOV1bMC05XSopJC87XG5cbi8qKlxuICogUmVndWxhciBleHByZXNzaW9uIHVzZWQgdG8gdmVyaWZ5IDY0IGJpdCAoYGludDY0YCBldGMuKSBtYXAga2V5cy5cbiAqIEB0eXBlIHtSZWdFeHB9XG4gKiBAY29uc3RcbiAqL1xudXRpbC5rZXk2NFJlID0gL14oPzpbXFxcXHgwMC1cXFxceGZmXXs4fXwtPyg/OjB8WzEtOV1bMC05XSopKSQvO1xuXG4vKipcbiAqIENvbnZlcnRzIGEgbnVtYmVyIG9yIGxvbmcgdG8gYW4gOCBjaGFyYWN0ZXJzIGxvbmcgaGFzaCBzdHJpbmcuXG4gKiBAcGFyYW0ge0xvbmd8bnVtYmVyfSB2YWx1ZSBWYWx1ZSB0byBjb252ZXJ0XG4gKiBAcmV0dXJucyB7c3RyaW5nfSBIYXNoXG4gKi9cbnV0aWwubG9uZ1RvSGFzaCA9IGZ1bmN0aW9uIGxvbmdUb0hhc2godmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWVcbiAgICAgICAgPyB1dGlsLkxvbmdCaXRzLmZyb20odmFsdWUpLnRvSGFzaCgpXG4gICAgICAgIDogdXRpbC5Mb25nQml0cy56ZXJvSGFzaDtcbn07XG5cbi8qKlxuICogQ29udmVydHMgYW4gOCBjaGFyYWN0ZXJzIGxvbmcgaGFzaCBzdHJpbmcgdG8gYSBsb25nIG9yIG51bWJlci5cbiAqIEBwYXJhbSB7c3RyaW5nfSBoYXNoIEhhc2hcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Vuc2lnbmVkPWZhbHNlXSBXaGV0aGVyIHVuc2lnbmVkIG9yIG5vdFxuICogQHJldHVybnMge0xvbmd8bnVtYmVyfSBPcmlnaW5hbCB2YWx1ZVxuICovXG51dGlsLmxvbmdGcm9tSGFzaCA9IGZ1bmN0aW9uIGxvbmdGcm9tSGFzaChoYXNoLCB1bnNpZ25lZCkge1xuICAgIHZhciBiaXRzID0gdXRpbC5Mb25nQml0cy5mcm9tSGFzaChoYXNoKTtcbiAgICBpZiAodXRpbC5Mb25nKVxuICAgICAgICByZXR1cm4gdXRpbC5Mb25nLmZyb21CaXRzKGJpdHMubG8sIGJpdHMuaGksIHVuc2lnbmVkKTtcbiAgICByZXR1cm4gYml0cy50b051bWJlcihCb29sZWFuKHVuc2lnbmVkKSk7XG59O1xuXG4vKipcbiAqIE1lcmdlcyB0aGUgcHJvcGVydGllcyBvZiB0aGUgc291cmNlIG9iamVjdCBpbnRvIHRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gKiBAbWVtYmVyb2YgdXRpbFxuICogQHBhcmFtIHtPYmplY3QuPHN0cmluZywqPn0gZHN0IERlc3RpbmF0aW9uIG9iamVjdFxuICogQHBhcmFtIHtPYmplY3QuPHN0cmluZywqPn0gc3JjIFNvdXJjZSBvYmplY3RcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lmTm90U2V0PWZhbHNlXSBNZXJnZXMgb25seSBpZiB0aGUga2V5IGlzIG5vdCBhbHJlYWR5IHNldFxuICogQHJldHVybnMge09iamVjdC48c3RyaW5nLCo+fSBEZXN0aW5hdGlvbiBvYmplY3RcbiAqL1xuZnVuY3Rpb24gbWVyZ2UoZHN0LCBzcmMsIGlmTm90U2V0KSB7IC8vIHVzZWQgYnkgY29udmVydGVyc1xuICAgIGZvciAodmFyIGtleXMgPSBPYmplY3Qua2V5cyhzcmMpLCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpXG4gICAgICAgIGlmIChkc3Rba2V5c1tpXV0gPT09IHVuZGVmaW5lZCB8fCAhaWZOb3RTZXQpXG4gICAgICAgICAgICBkc3Rba2V5c1tpXV0gPSBzcmNba2V5c1tpXV07XG4gICAgcmV0dXJuIGRzdDtcbn1cblxudXRpbC5tZXJnZSA9IG1lcmdlO1xuXG4vKipcbiAqIENvbnZlcnRzIHRoZSBmaXJzdCBjaGFyYWN0ZXIgb2YgYSBzdHJpbmcgdG8gbG93ZXIgY2FzZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHIgU3RyaW5nIHRvIGNvbnZlcnRcbiAqIEByZXR1cm5zIHtzdHJpbmd9IENvbnZlcnRlZCBzdHJpbmdcbiAqL1xudXRpbC5sY0ZpcnN0ID0gZnVuY3Rpb24gbGNGaXJzdChzdHIpIHtcbiAgICByZXR1cm4gc3RyLmNoYXJBdCgwKS50b0xvd2VyQ2FzZSgpICsgc3RyLnN1YnN0cmluZygxKTtcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhIGN1c3RvbSBlcnJvciBjb25zdHJ1Y3Rvci5cbiAqIEBtZW1iZXJvZiB1dGlsXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBFcnJvciBuYW1lXG4gKiBAcmV0dXJucyB7Q29uc3RydWN0b3I8RXJyb3I+fSBDdXN0b20gZXJyb3IgY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gbmV3RXJyb3IobmFtZSkge1xuXG4gICAgZnVuY3Rpb24gQ3VzdG9tRXJyb3IobWVzc2FnZSwgcHJvcGVydGllcykge1xuXG4gICAgICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBDdXN0b21FcnJvcikpXG4gICAgICAgICAgICByZXR1cm4gbmV3IEN1c3RvbUVycm9yKG1lc3NhZ2UsIHByb3BlcnRpZXMpO1xuXG4gICAgICAgIC8vIEVycm9yLmNhbGwodGhpcywgbWVzc2FnZSk7XG4gICAgICAgIC8vIF4ganVzdCByZXR1cm5zIGEgbmV3IGVycm9yIGluc3RhbmNlIGJlY2F1c2UgdGhlIGN0b3IgY2FuIGJlIGNhbGxlZCBhcyBhIGZ1bmN0aW9uXG5cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibWVzc2FnZVwiLCB7IGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBtZXNzYWdlOyB9IH0pO1xuXG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgIGlmIChFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSkgLy8gbm9kZVxuICAgICAgICAgICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgQ3VzdG9tRXJyb3IpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJzdGFja1wiLCB7IHZhbHVlOiBuZXcgRXJyb3IoKS5zdGFjayB8fCBcIlwiIH0pO1xuXG4gICAgICAgIGlmIChwcm9wZXJ0aWVzKVxuICAgICAgICAgICAgbWVyZ2UodGhpcywgcHJvcGVydGllcyk7XG4gICAgfVxuXG4gICAgQ3VzdG9tRXJyb3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUsIHtcbiAgICAgICAgY29uc3RydWN0b3I6IHtcbiAgICAgICAgICAgIHZhbHVlOiBDdXN0b21FcnJvcixcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIH0sXG4gICAgICAgIG5hbWU6IHtcbiAgICAgICAgICAgIGdldCgpIHsgcmV0dXJuIG5hbWU7IH0sXG4gICAgICAgICAgICBzZXQ6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgLy8gY29uZmlndXJhYmxlOiBmYWxzZSB3b3VsZCBhY2N1cmF0ZWx5IHByZXNlcnZlIHRoZSBiZWhhdmlvciBvZlxuICAgICAgICAgICAgLy8gdGhlIG9yaWdpbmFsLCBidXQgSSdtIGd1ZXNzaW5nIHRoYXQgd2FzIG5vdCBpbnRlbnRpb25hbC5cbiAgICAgICAgICAgIC8vIEZvciBhbiBhY3R1YWwgZXJyb3Igc3ViY2xhc3MsIHRoaXMgcHJvcGVydHkgd291bGRcbiAgICAgICAgICAgIC8vIGJlIGNvbmZpZ3VyYWJsZS5cbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICAgICAgdG9TdHJpbmc6IHtcbiAgICAgICAgICAgIHZhbHVlKCkgeyByZXR1cm4gdGhpcy5uYW1lICsgXCI6IFwiICsgdGhpcy5tZXNzYWdlOyB9LFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICB9KTtcblxuICAgIHJldHVybiBDdXN0b21FcnJvcjtcbn1cblxudXRpbC5uZXdFcnJvciA9IG5ld0Vycm9yO1xuXG4vKipcbiAqIENvbnN0cnVjdHMgYSBuZXcgcHJvdG9jb2wgZXJyb3IuXG4gKiBAY2xhc3NkZXNjIEVycm9yIHN1YmNsYXNzIGluZGljYXRpbmcgYSBwcm90b2NvbCBzcGVjaWZjIGVycm9yLlxuICogQG1lbWJlcm9mIHV0aWxcbiAqIEBleHRlbmRzIEVycm9yXG4gKiBAdGVtcGxhdGUgVCBleHRlbmRzIE1lc3NhZ2U8VD5cbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2UgRXJyb3IgbWVzc2FnZVxuICogQHBhcmFtIHtPYmplY3QuPHN0cmluZywqPn0gW3Byb3BlcnRpZXNdIEFkZGl0aW9uYWwgcHJvcGVydGllc1xuICogQGV4YW1wbGVcbiAqIHRyeSB7XG4gKiAgICAgTXlNZXNzYWdlLmRlY29kZShzb21lQnVmZmVyKTsgLy8gdGhyb3dzIGlmIHJlcXVpcmVkIGZpZWxkcyBhcmUgbWlzc2luZ1xuICogfSBjYXRjaCAoZSkge1xuICogICAgIGlmIChlIGluc3RhbmNlb2YgUHJvdG9jb2xFcnJvciAmJiBlLmluc3RhbmNlKVxuICogICAgICAgICBjb25zb2xlLmxvZyhcImRlY29kZWQgc28gZmFyOiBcIiArIEpTT04uc3RyaW5naWZ5KGUuaW5zdGFuY2UpKTtcbiAqIH1cbiAqL1xudXRpbC5Qcm90b2NvbEVycm9yID0gbmV3RXJyb3IoXCJQcm90b2NvbEVycm9yXCIpO1xuXG4vKipcbiAqIFNvIGZhciBkZWNvZGVkIG1lc3NhZ2UgaW5zdGFuY2UuXG4gKiBAbmFtZSB1dGlsLlByb3RvY29sRXJyb3IjaW5zdGFuY2VcbiAqIEB0eXBlIHtNZXNzYWdlPFQ+fVxuICovXG5cbi8qKlxuICogQSBPbmVPZiBnZXR0ZXIgYXMgcmV0dXJuZWQgYnkge0BsaW5rIHV0aWwub25lT2ZHZXR0ZXJ9LlxuICogQHR5cGVkZWYgT25lT2ZHZXR0ZXJcbiAqIEB0eXBlIHtmdW5jdGlvbn1cbiAqIEByZXR1cm5zIHtzdHJpbmd8dW5kZWZpbmVkfSBTZXQgZmllbGQgbmFtZSwgaWYgYW55XG4gKi9cblxuLyoqXG4gKiBCdWlsZHMgYSBnZXR0ZXIgZm9yIGEgb25lb2YncyBwcmVzZW50IGZpZWxkIG5hbWUuXG4gKiBAcGFyYW0ge3N0cmluZ1tdfSBmaWVsZE5hbWVzIEZpZWxkIG5hbWVzXG4gKiBAcmV0dXJucyB7T25lT2ZHZXR0ZXJ9IFVuYm91bmQgZ2V0dGVyXG4gKi9cbnV0aWwub25lT2ZHZXR0ZXIgPSBmdW5jdGlvbiBnZXRPbmVPZihmaWVsZE5hbWVzKSB7XG4gICAgdmFyIGZpZWxkTWFwID0ge307XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmaWVsZE5hbWVzLmxlbmd0aDsgKytpKVxuICAgICAgICBmaWVsZE1hcFtmaWVsZE5hbWVzW2ldXSA9IDE7XG5cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfHVuZGVmaW5lZH0gU2V0IGZpZWxkIG5hbWUsIGlmIGFueVxuICAgICAqIEB0aGlzIE9iamVjdFxuICAgICAqIEBpZ25vcmVcbiAgICAgKi9cbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgY29uc2lzdGVudC1yZXR1cm5cbiAgICAgICAgZm9yICh2YXIga2V5cyA9IE9iamVjdC5rZXlzKHRoaXMpLCBpID0ga2V5cy5sZW5ndGggLSAxOyBpID4gLTE7IC0taSlcbiAgICAgICAgICAgIGlmIChmaWVsZE1hcFtrZXlzW2ldXSA9PT0gMSAmJiB0aGlzW2tleXNbaV1dICE9PSB1bmRlZmluZWQgJiYgdGhpc1trZXlzW2ldXSAhPT0gbnVsbClcbiAgICAgICAgICAgICAgICByZXR1cm4ga2V5c1tpXTtcbiAgICB9O1xufTtcblxuLyoqXG4gKiBBIE9uZU9mIHNldHRlciBhcyByZXR1cm5lZCBieSB7QGxpbmsgdXRpbC5vbmVPZlNldHRlcn0uXG4gKiBAdHlwZWRlZiBPbmVPZlNldHRlclxuICogQHR5cGUge2Z1bmN0aW9ufVxuICogQHBhcmFtIHtzdHJpbmd8dW5kZWZpbmVkfSB2YWx1ZSBGaWVsZCBuYW1lXG4gKiBAcmV0dXJucyB7dW5kZWZpbmVkfVxuICovXG5cbi8qKlxuICogQnVpbGRzIGEgc2V0dGVyIGZvciBhIG9uZW9mJ3MgcHJlc2VudCBmaWVsZCBuYW1lLlxuICogQHBhcmFtIHtzdHJpbmdbXX0gZmllbGROYW1lcyBGaWVsZCBuYW1lc1xuICogQHJldHVybnMge09uZU9mU2V0dGVyfSBVbmJvdW5kIHNldHRlclxuICovXG51dGlsLm9uZU9mU2V0dGVyID0gZnVuY3Rpb24gc2V0T25lT2YoZmllbGROYW1lcykge1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgRmllbGQgbmFtZVxuICAgICAqIEByZXR1cm5zIHt1bmRlZmluZWR9XG4gICAgICogQHRoaXMgT2JqZWN0XG4gICAgICogQGlnbm9yZVxuICAgICAqL1xuICAgIHJldHVybiBmdW5jdGlvbihuYW1lKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZmllbGROYW1lcy5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgIGlmIChmaWVsZE5hbWVzW2ldICE9PSBuYW1lKVxuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzW2ZpZWxkTmFtZXNbaV1dO1xuICAgIH07XG59O1xuXG4vKipcbiAqIERlZmF1bHQgY29udmVyc2lvbiBvcHRpb25zIHVzZWQgZm9yIHtAbGluayBNZXNzYWdlI3RvSlNPTn0gaW1wbGVtZW50YXRpb25zLlxuICpcbiAqIFRoZXNlIG9wdGlvbnMgYXJlIGNsb3NlIHRvIHByb3RvMydzIEpTT04gbWFwcGluZyB3aXRoIHRoZSBleGNlcHRpb24gdGhhdCBpbnRlcm5hbCB0eXBlcyBsaWtlIEFueSBhcmUgaGFuZGxlZCBqdXN0IGxpa2UgbWVzc2FnZXMuIE1vcmUgcHJlY2lzZWx5OlxuICpcbiAqIC0gTG9uZ3MgYmVjb21lIHN0cmluZ3NcbiAqIC0gRW51bXMgYmVjb21lIHN0cmluZyBrZXlzXG4gKiAtIEJ5dGVzIGJlY29tZSBiYXNlNjQgZW5jb2RlZCBzdHJpbmdzXG4gKiAtIChTdWItKU1lc3NhZ2VzIGJlY29tZSBwbGFpbiBvYmplY3RzXG4gKiAtIE1hcHMgYmVjb21lIHBsYWluIG9iamVjdHMgd2l0aCBhbGwgc3RyaW5nIGtleXNcbiAqIC0gUmVwZWF0ZWQgZmllbGRzIGJlY29tZSBhcnJheXNcbiAqIC0gTmFOIGFuZCBJbmZpbml0eSBmb3IgZmxvYXQgYW5kIGRvdWJsZSBmaWVsZHMgYmVjb21lIHN0cmluZ3NcbiAqXG4gKiBAdHlwZSB7SUNvbnZlcnNpb25PcHRpb25zfVxuICogQHNlZSBodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS9wcm90b2NvbC1idWZmZXJzL2RvY3MvcHJvdG8zP2hsPWVuI2pzb25cbiAqL1xudXRpbC50b0pTT05PcHRpb25zID0ge1xuICAgIGxvbmdzOiBTdHJpbmcsXG4gICAgZW51bXM6IFN0cmluZyxcbiAgICBieXRlczogU3RyaW5nLFxuICAgIGpzb246IHRydWVcbn07XG5cbi8vIFNldHMgdXAgYnVmZmVyIHV0aWxpdHkgYWNjb3JkaW5nIHRvIHRoZSBlbnZpcm9ubWVudCAoY2FsbGVkIGluIGluZGV4LW1pbmltYWwpXG51dGlsLl9jb25maWd1cmUgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgQnVmZmVyID0gdXRpbC5CdWZmZXI7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKCFCdWZmZXIpIHtcbiAgICAgICAgdXRpbC5fQnVmZmVyX2Zyb20gPSB1dGlsLl9CdWZmZXJfYWxsb2NVbnNhZmUgPSBudWxsO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIGJlY2F1c2Ugbm9kZSA0LnggYnVmZmVycyBhcmUgaW5jb21wYXRpYmxlICYgaW1tdXRhYmxlXG4gICAgLy8gc2VlOiBodHRwczovL2dpdGh1Yi5jb20vZGNvZGVJTy9wcm90b2J1Zi5qcy9wdWxsLzY2NVxuICAgIHV0aWwuX0J1ZmZlcl9mcm9tID0gQnVmZmVyLmZyb20gIT09IFVpbnQ4QXJyYXkuZnJvbSAmJiBCdWZmZXIuZnJvbSB8fFxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICBmdW5jdGlvbiBCdWZmZXJfZnJvbSh2YWx1ZSwgZW5jb2RpbmcpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgQnVmZmVyKHZhbHVlLCBlbmNvZGluZyk7XG4gICAgICAgIH07XG4gICAgdXRpbC5fQnVmZmVyX2FsbG9jVW5zYWZlID0gQnVmZmVyLmFsbG9jVW5zYWZlIHx8XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgIGZ1bmN0aW9uIEJ1ZmZlcl9hbGxvY1Vuc2FmZShzaXplKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEJ1ZmZlcihzaXplKTtcbiAgICAgICAgfTtcbn07XG4iLCJcInVzZSBzdHJpY3RcIjtcbm1vZHVsZS5leHBvcnRzID0gV3JpdGVyO1xuXG52YXIgdXRpbCAgICAgID0gcmVxdWlyZShcIi4vdXRpbC9taW5pbWFsXCIpO1xuXG52YXIgQnVmZmVyV3JpdGVyOyAvLyBjeWNsaWNcblxudmFyIExvbmdCaXRzICA9IHV0aWwuTG9uZ0JpdHMsXG4gICAgYmFzZTY0ICAgID0gdXRpbC5iYXNlNjQsXG4gICAgdXRmOCAgICAgID0gdXRpbC51dGY4O1xuXG4vKipcbiAqIENvbnN0cnVjdHMgYSBuZXcgd3JpdGVyIG9wZXJhdGlvbiBpbnN0YW5jZS5cbiAqIEBjbGFzc2Rlc2MgU2NoZWR1bGVkIHdyaXRlciBvcGVyYXRpb24uXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7ZnVuY3Rpb24oKiwgVWludDhBcnJheSwgbnVtYmVyKX0gZm4gRnVuY3Rpb24gdG8gY2FsbFxuICogQHBhcmFtIHtudW1iZXJ9IGxlbiBWYWx1ZSBieXRlIGxlbmd0aFxuICogQHBhcmFtIHsqfSB2YWwgVmFsdWUgdG8gd3JpdGVcbiAqIEBpZ25vcmVcbiAqL1xuZnVuY3Rpb24gT3AoZm4sIGxlbiwgdmFsKSB7XG5cbiAgICAvKipcbiAgICAgKiBGdW5jdGlvbiB0byBjYWxsLlxuICAgICAqIEB0eXBlIHtmdW5jdGlvbihVaW50OEFycmF5LCBudW1iZXIsICopfVxuICAgICAqL1xuICAgIHRoaXMuZm4gPSBmbjtcblxuICAgIC8qKlxuICAgICAqIFZhbHVlIGJ5dGUgbGVuZ3RoLlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5sZW4gPSBsZW47XG5cbiAgICAvKipcbiAgICAgKiBOZXh0IG9wZXJhdGlvbi5cbiAgICAgKiBAdHlwZSB7V3JpdGVyLk9wfHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLm5leHQgPSB1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKiBWYWx1ZSB0byB3cml0ZS5cbiAgICAgKiBAdHlwZSB7Kn1cbiAgICAgKi9cbiAgICB0aGlzLnZhbCA9IHZhbDsgLy8gdHlwZSB2YXJpZXNcbn1cblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmZ1bmN0aW9uIG5vb3AoKSB7fSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWVtcHR5LWZ1bmN0aW9uXG5cbi8qKlxuICogQ29uc3RydWN0cyBhIG5ldyB3cml0ZXIgc3RhdGUgaW5zdGFuY2UuXG4gKiBAY2xhc3NkZXNjIENvcGllZCB3cml0ZXIgc3RhdGUuXG4gKiBAbWVtYmVyb2YgV3JpdGVyXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7V3JpdGVyfSB3cml0ZXIgV3JpdGVyIHRvIGNvcHkgc3RhdGUgZnJvbVxuICogQGlnbm9yZVxuICovXG5mdW5jdGlvbiBTdGF0ZSh3cml0ZXIpIHtcblxuICAgIC8qKlxuICAgICAqIEN1cnJlbnQgaGVhZC5cbiAgICAgKiBAdHlwZSB7V3JpdGVyLk9wfVxuICAgICAqL1xuICAgIHRoaXMuaGVhZCA9IHdyaXRlci5oZWFkO1xuXG4gICAgLyoqXG4gICAgICogQ3VycmVudCB0YWlsLlxuICAgICAqIEB0eXBlIHtXcml0ZXIuT3B9XG4gICAgICovXG4gICAgdGhpcy50YWlsID0gd3JpdGVyLnRhaWw7XG5cbiAgICAvKipcbiAgICAgKiBDdXJyZW50IGJ1ZmZlciBsZW5ndGguXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmxlbiA9IHdyaXRlci5sZW47XG5cbiAgICAvKipcbiAgICAgKiBOZXh0IHN0YXRlLlxuICAgICAqIEB0eXBlIHtTdGF0ZXxudWxsfVxuICAgICAqL1xuICAgIHRoaXMubmV4dCA9IHdyaXRlci5zdGF0ZXM7XG59XG5cbi8qKlxuICogQ29uc3RydWN0cyBhIG5ldyB3cml0ZXIgaW5zdGFuY2UuXG4gKiBAY2xhc3NkZXNjIFdpcmUgZm9ybWF0IHdyaXRlciB1c2luZyBgVWludDhBcnJheWAgaWYgYXZhaWxhYmxlLCBvdGhlcndpc2UgYEFycmF5YC5cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBXcml0ZXIoKSB7XG5cbiAgICAvKipcbiAgICAgKiBDdXJyZW50IGxlbmd0aC5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMubGVuID0gMDtcblxuICAgIC8qKlxuICAgICAqIE9wZXJhdGlvbnMgaGVhZC5cbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqL1xuICAgIHRoaXMuaGVhZCA9IG5ldyBPcChub29wLCAwLCAwKTtcblxuICAgIC8qKlxuICAgICAqIE9wZXJhdGlvbnMgdGFpbFxuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICovXG4gICAgdGhpcy50YWlsID0gdGhpcy5oZWFkO1xuXG4gICAgLyoqXG4gICAgICogTGlua2VkIGZvcmtlZCBzdGF0ZXMuXG4gICAgICogQHR5cGUge09iamVjdHxudWxsfVxuICAgICAqL1xuICAgIHRoaXMuc3RhdGVzID0gbnVsbDtcblxuICAgIC8vIFdoZW4gYSB2YWx1ZSBpcyB3cml0dGVuLCB0aGUgd3JpdGVyIGNhbGN1bGF0ZXMgaXRzIGJ5dGUgbGVuZ3RoIGFuZCBwdXRzIGl0IGludG8gYSBsaW5rZWRcbiAgICAvLyBsaXN0IG9mIG9wZXJhdGlvbnMgdG8gcGVyZm9ybSB3aGVuIGZpbmlzaCgpIGlzIGNhbGxlZC4gVGhpcyBib3RoIGFsbG93cyB1cyB0byBhbGxvY2F0ZVxuICAgIC8vIGJ1ZmZlcnMgb2YgdGhlIGV4YWN0IHJlcXVpcmVkIHNpemUgYW5kIHJlZHVjZXMgdGhlIGFtb3VudCBvZiB3b3JrIHdlIGhhdmUgdG8gZG8gY29tcGFyZWRcbiAgICAvLyB0byBmaXJzdCBjYWxjdWxhdGluZyBvdmVyIG9iamVjdHMgYW5kIHRoZW4gZW5jb2Rpbmcgb3ZlciBvYmplY3RzLiBJbiBvdXIgY2FzZSwgdGhlIGVuY29kaW5nXG4gICAgLy8gcGFydCBpcyBqdXN0IGEgbGlua2VkIGxpc3Qgd2FsayBjYWxsaW5nIG9wZXJhdGlvbnMgd2l0aCBhbHJlYWR5IHByZXBhcmVkIHZhbHVlcy5cbn1cblxudmFyIGNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgICByZXR1cm4gdXRpbC5CdWZmZXJcbiAgICAgICAgPyBmdW5jdGlvbiBjcmVhdGVfYnVmZmVyX3NldHVwKCkge1xuICAgICAgICAgICAgcmV0dXJuIChXcml0ZXIuY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlX2J1ZmZlcigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEJ1ZmZlcldyaXRlcigpO1xuICAgICAgICAgICAgfSkoKTtcbiAgICAgICAgfVxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICA6IGZ1bmN0aW9uIGNyZWF0ZV9hcnJheSgpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgV3JpdGVyKCk7XG4gICAgICAgIH07XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgd3JpdGVyLlxuICogQGZ1bmN0aW9uXG4gKiBAcmV0dXJucyB7QnVmZmVyV3JpdGVyfFdyaXRlcn0gQSB7QGxpbmsgQnVmZmVyV3JpdGVyfSB3aGVuIEJ1ZmZlcnMgYXJlIHN1cHBvcnRlZCwgb3RoZXJ3aXNlIGEge0BsaW5rIFdyaXRlcn1cbiAqL1xuV3JpdGVyLmNyZWF0ZSA9IGNyZWF0ZSgpO1xuXG4vKipcbiAqIEFsbG9jYXRlcyBhIGJ1ZmZlciBvZiB0aGUgc3BlY2lmaWVkIHNpemUuXG4gKiBAcGFyYW0ge251bWJlcn0gc2l6ZSBCdWZmZXIgc2l6ZVxuICogQHJldHVybnMge1VpbnQ4QXJyYXl9IEJ1ZmZlclxuICovXG5Xcml0ZXIuYWxsb2MgPSBmdW5jdGlvbiBhbGxvYyhzaXplKSB7XG4gICAgcmV0dXJuIG5ldyB1dGlsLkFycmF5KHNpemUpO1xufTtcblxuLy8gVXNlIFVpbnQ4QXJyYXkgYnVmZmVyIHBvb2wgaW4gdGhlIGJyb3dzZXIsIGp1c3QgbGlrZSBub2RlIGRvZXMgd2l0aCBidWZmZXJzXG4vKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuaWYgKHV0aWwuQXJyYXkgIT09IEFycmF5KVxuICAgIFdyaXRlci5hbGxvYyA9IHV0aWwucG9vbChXcml0ZXIuYWxsb2MsIHV0aWwuQXJyYXkucHJvdG90eXBlLnN1YmFycmF5KTtcblxuLyoqXG4gKiBQdXNoZXMgYSBuZXcgb3BlcmF0aW9uIHRvIHRoZSBxdWV1ZS5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24oVWludDhBcnJheSwgbnVtYmVyLCAqKX0gZm4gRnVuY3Rpb24gdG8gY2FsbFxuICogQHBhcmFtIHtudW1iZXJ9IGxlbiBWYWx1ZSBieXRlIGxlbmd0aFxuICogQHBhcmFtIHtudW1iZXJ9IHZhbCBWYWx1ZSB0byB3cml0ZVxuICogQHJldHVybnMge1dyaXRlcn0gYHRoaXNgXG4gKiBAcHJpdmF0ZVxuICovXG5Xcml0ZXIucHJvdG90eXBlLl9wdXNoID0gZnVuY3Rpb24gcHVzaChmbiwgbGVuLCB2YWwpIHtcbiAgICB0aGlzLnRhaWwgPSB0aGlzLnRhaWwubmV4dCA9IG5ldyBPcChmbiwgbGVuLCB2YWwpO1xuICAgIHRoaXMubGVuICs9IGxlbjtcbiAgICByZXR1cm4gdGhpcztcbn07XG5cbmZ1bmN0aW9uIHdyaXRlQnl0ZSh2YWwsIGJ1ZiwgcG9zKSB7XG4gICAgYnVmW3Bvc10gPSB2YWwgJiAyNTU7XG59XG5cbmZ1bmN0aW9uIHdyaXRlVmFyaW50MzIodmFsLCBidWYsIHBvcykge1xuICAgIHdoaWxlICh2YWwgPiAxMjcpIHtcbiAgICAgICAgYnVmW3BvcysrXSA9IHZhbCAmIDEyNyB8IDEyODtcbiAgICAgICAgdmFsID4+Pj0gNztcbiAgICB9XG4gICAgYnVmW3Bvc10gPSB2YWw7XG59XG5cbi8qKlxuICogQ29uc3RydWN0cyBhIG5ldyB2YXJpbnQgd3JpdGVyIG9wZXJhdGlvbiBpbnN0YW5jZS5cbiAqIEBjbGFzc2Rlc2MgU2NoZWR1bGVkIHZhcmludCB3cml0ZXIgb3BlcmF0aW9uLlxuICogQGV4dGVuZHMgT3BcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtudW1iZXJ9IGxlbiBWYWx1ZSBieXRlIGxlbmd0aFxuICogQHBhcmFtIHtudW1iZXJ9IHZhbCBWYWx1ZSB0byB3cml0ZVxuICogQGlnbm9yZVxuICovXG5mdW5jdGlvbiBWYXJpbnRPcChsZW4sIHZhbCkge1xuICAgIHRoaXMubGVuID0gbGVuO1xuICAgIHRoaXMubmV4dCA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLnZhbCA9IHZhbDtcbn1cblxuVmFyaW50T3AucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShPcC5wcm90b3R5cGUpO1xuVmFyaW50T3AucHJvdG90eXBlLmZuID0gd3JpdGVWYXJpbnQzMjtcblxuLyoqXG4gKiBXcml0ZXMgYW4gdW5zaWduZWQgMzIgYml0IHZhbHVlIGFzIGEgdmFyaW50LlxuICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIFZhbHVlIHRvIHdyaXRlXG4gKiBAcmV0dXJucyB7V3JpdGVyfSBgdGhpc2BcbiAqL1xuV3JpdGVyLnByb3RvdHlwZS51aW50MzIgPSBmdW5jdGlvbiB3cml0ZV91aW50MzIodmFsdWUpIHtcbiAgICAvLyBoZXJlLCB0aGUgY2FsbCB0byB0aGlzLnB1c2ggaGFzIGJlZW4gaW5saW5lZCBhbmQgYSB2YXJpbnQgc3BlY2lmaWMgT3Agc3ViY2xhc3MgaXMgdXNlZC5cbiAgICAvLyB1aW50MzIgaXMgYnkgZmFyIHRoZSBtb3N0IGZyZXF1ZW50bHkgdXNlZCBvcGVyYXRpb24gYW5kIGJlbmVmaXRzIHNpZ25pZmljYW50bHkgZnJvbSB0aGlzLlxuICAgIHRoaXMubGVuICs9ICh0aGlzLnRhaWwgPSB0aGlzLnRhaWwubmV4dCA9IG5ldyBWYXJpbnRPcChcbiAgICAgICAgKHZhbHVlID0gdmFsdWUgPj4+IDApXG4gICAgICAgICAgICAgICAgPCAxMjggICAgICAgPyAxXG4gICAgICAgIDogdmFsdWUgPCAxNjM4NCAgICAgPyAyXG4gICAgICAgIDogdmFsdWUgPCAyMDk3MTUyICAgPyAzXG4gICAgICAgIDogdmFsdWUgPCAyNjg0MzU0NTYgPyA0XG4gICAgICAgIDogICAgICAgICAgICAgICAgICAgICA1LFxuICAgIHZhbHVlKSkubGVuO1xuICAgIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBXcml0ZXMgYSBzaWduZWQgMzIgYml0IHZhbHVlIGFzIGEgdmFyaW50LlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgVmFsdWUgdG8gd3JpdGVcbiAqIEByZXR1cm5zIHtXcml0ZXJ9IGB0aGlzYFxuICovXG5Xcml0ZXIucHJvdG90eXBlLmludDMyID0gZnVuY3Rpb24gd3JpdGVfaW50MzIodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgPCAwXG4gICAgICAgID8gdGhpcy5fcHVzaCh3cml0ZVZhcmludDY0LCAxMCwgTG9uZ0JpdHMuZnJvbU51bWJlcih2YWx1ZSkpIC8vIDEwIGJ5dGVzIHBlciBzcGVjXG4gICAgICAgIDogdGhpcy51aW50MzIodmFsdWUpO1xufTtcblxuLyoqXG4gKiBXcml0ZXMgYSAzMiBiaXQgdmFsdWUgYXMgYSB2YXJpbnQsIHppZy16YWcgZW5jb2RlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSBWYWx1ZSB0byB3cml0ZVxuICogQHJldHVybnMge1dyaXRlcn0gYHRoaXNgXG4gKi9cbldyaXRlci5wcm90b3R5cGUuc2ludDMyID0gZnVuY3Rpb24gd3JpdGVfc2ludDMyKHZhbHVlKSB7XG4gICAgcmV0dXJuIHRoaXMudWludDMyKCh2YWx1ZSA8PCAxIF4gdmFsdWUgPj4gMzEpID4+PiAwKTtcbn07XG5cbmZ1bmN0aW9uIHdyaXRlVmFyaW50NjQodmFsLCBidWYsIHBvcykge1xuICAgIHdoaWxlICh2YWwuaGkpIHtcbiAgICAgICAgYnVmW3BvcysrXSA9IHZhbC5sbyAmIDEyNyB8IDEyODtcbiAgICAgICAgdmFsLmxvID0gKHZhbC5sbyA+Pj4gNyB8IHZhbC5oaSA8PCAyNSkgPj4+IDA7XG4gICAgICAgIHZhbC5oaSA+Pj49IDc7XG4gICAgfVxuICAgIHdoaWxlICh2YWwubG8gPiAxMjcpIHtcbiAgICAgICAgYnVmW3BvcysrXSA9IHZhbC5sbyAmIDEyNyB8IDEyODtcbiAgICAgICAgdmFsLmxvID0gdmFsLmxvID4+PiA3O1xuICAgIH1cbiAgICBidWZbcG9zKytdID0gdmFsLmxvO1xufVxuXG4vKipcbiAqIFdyaXRlcyBhbiB1bnNpZ25lZCA2NCBiaXQgdmFsdWUgYXMgYSB2YXJpbnQuXG4gKiBAcGFyYW0ge0xvbmd8bnVtYmVyfHN0cmluZ30gdmFsdWUgVmFsdWUgdG8gd3JpdGVcbiAqIEByZXR1cm5zIHtXcml0ZXJ9IGB0aGlzYFxuICogQHRocm93cyB7VHlwZUVycm9yfSBJZiBgdmFsdWVgIGlzIGEgc3RyaW5nIGFuZCBubyBsb25nIGxpYnJhcnkgaXMgcHJlc2VudC5cbiAqL1xuV3JpdGVyLnByb3RvdHlwZS51aW50NjQgPSBmdW5jdGlvbiB3cml0ZV91aW50NjQodmFsdWUpIHtcbiAgICB2YXIgYml0cyA9IExvbmdCaXRzLmZyb20odmFsdWUpO1xuICAgIHJldHVybiB0aGlzLl9wdXNoKHdyaXRlVmFyaW50NjQsIGJpdHMubGVuZ3RoKCksIGJpdHMpO1xufTtcblxuLyoqXG4gKiBXcml0ZXMgYSBzaWduZWQgNjQgYml0IHZhbHVlIGFzIGEgdmFyaW50LlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge0xvbmd8bnVtYmVyfHN0cmluZ30gdmFsdWUgVmFsdWUgdG8gd3JpdGVcbiAqIEByZXR1cm5zIHtXcml0ZXJ9IGB0aGlzYFxuICogQHRocm93cyB7VHlwZUVycm9yfSBJZiBgdmFsdWVgIGlzIGEgc3RyaW5nIGFuZCBubyBsb25nIGxpYnJhcnkgaXMgcHJlc2VudC5cbiAqL1xuV3JpdGVyLnByb3RvdHlwZS5pbnQ2NCA9IFdyaXRlci5wcm90b3R5cGUudWludDY0O1xuXG4vKipcbiAqIFdyaXRlcyBhIHNpZ25lZCA2NCBiaXQgdmFsdWUgYXMgYSB2YXJpbnQsIHppZy16YWcgZW5jb2RlZC5cbiAqIEBwYXJhbSB7TG9uZ3xudW1iZXJ8c3RyaW5nfSB2YWx1ZSBWYWx1ZSB0byB3cml0ZVxuICogQHJldHVybnMge1dyaXRlcn0gYHRoaXNgXG4gKiBAdGhyb3dzIHtUeXBlRXJyb3J9IElmIGB2YWx1ZWAgaXMgYSBzdHJpbmcgYW5kIG5vIGxvbmcgbGlicmFyeSBpcyBwcmVzZW50LlxuICovXG5Xcml0ZXIucHJvdG90eXBlLnNpbnQ2NCA9IGZ1bmN0aW9uIHdyaXRlX3NpbnQ2NCh2YWx1ZSkge1xuICAgIHZhciBiaXRzID0gTG9uZ0JpdHMuZnJvbSh2YWx1ZSkuenpFbmNvZGUoKTtcbiAgICByZXR1cm4gdGhpcy5fcHVzaCh3cml0ZVZhcmludDY0LCBiaXRzLmxlbmd0aCgpLCBiaXRzKTtcbn07XG5cbi8qKlxuICogV3JpdGVzIGEgYm9vbGlzaCB2YWx1ZSBhcyBhIHZhcmludC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gdmFsdWUgVmFsdWUgdG8gd3JpdGVcbiAqIEByZXR1cm5zIHtXcml0ZXJ9IGB0aGlzYFxuICovXG5Xcml0ZXIucHJvdG90eXBlLmJvb2wgPSBmdW5jdGlvbiB3cml0ZV9ib29sKHZhbHVlKSB7XG4gICAgcmV0dXJuIHRoaXMuX3B1c2god3JpdGVCeXRlLCAxLCB2YWx1ZSA/IDEgOiAwKTtcbn07XG5cbmZ1bmN0aW9uIHdyaXRlRml4ZWQzMih2YWwsIGJ1ZiwgcG9zKSB7XG4gICAgYnVmW3BvcyAgICBdID0gIHZhbCAgICAgICAgICYgMjU1O1xuICAgIGJ1Zltwb3MgKyAxXSA9ICB2YWwgPj4+IDggICAmIDI1NTtcbiAgICBidWZbcG9zICsgMl0gPSAgdmFsID4+PiAxNiAgJiAyNTU7XG4gICAgYnVmW3BvcyArIDNdID0gIHZhbCA+Pj4gMjQ7XG59XG5cbi8qKlxuICogV3JpdGVzIGFuIHVuc2lnbmVkIDMyIGJpdCB2YWx1ZSBhcyBmaXhlZCAzMiBiaXRzLlxuICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIFZhbHVlIHRvIHdyaXRlXG4gKiBAcmV0dXJucyB7V3JpdGVyfSBgdGhpc2BcbiAqL1xuV3JpdGVyLnByb3RvdHlwZS5maXhlZDMyID0gZnVuY3Rpb24gd3JpdGVfZml4ZWQzMih2YWx1ZSkge1xuICAgIHJldHVybiB0aGlzLl9wdXNoKHdyaXRlRml4ZWQzMiwgNCwgdmFsdWUgPj4+IDApO1xufTtcblxuLyoqXG4gKiBXcml0ZXMgYSBzaWduZWQgMzIgYml0IHZhbHVlIGFzIGZpeGVkIDMyIGJpdHMuXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSBWYWx1ZSB0byB3cml0ZVxuICogQHJldHVybnMge1dyaXRlcn0gYHRoaXNgXG4gKi9cbldyaXRlci5wcm90b3R5cGUuc2ZpeGVkMzIgPSBXcml0ZXIucHJvdG90eXBlLmZpeGVkMzI7XG5cbi8qKlxuICogV3JpdGVzIGFuIHVuc2lnbmVkIDY0IGJpdCB2YWx1ZSBhcyBmaXhlZCA2NCBiaXRzLlxuICogQHBhcmFtIHtMb25nfG51bWJlcnxzdHJpbmd9IHZhbHVlIFZhbHVlIHRvIHdyaXRlXG4gKiBAcmV0dXJucyB7V3JpdGVyfSBgdGhpc2BcbiAqIEB0aHJvd3Mge1R5cGVFcnJvcn0gSWYgYHZhbHVlYCBpcyBhIHN0cmluZyBhbmQgbm8gbG9uZyBsaWJyYXJ5IGlzIHByZXNlbnQuXG4gKi9cbldyaXRlci5wcm90b3R5cGUuZml4ZWQ2NCA9IGZ1bmN0aW9uIHdyaXRlX2ZpeGVkNjQodmFsdWUpIHtcbiAgICB2YXIgYml0cyA9IExvbmdCaXRzLmZyb20odmFsdWUpO1xuICAgIHJldHVybiB0aGlzLl9wdXNoKHdyaXRlRml4ZWQzMiwgNCwgYml0cy5sbykuX3B1c2god3JpdGVGaXhlZDMyLCA0LCBiaXRzLmhpKTtcbn07XG5cbi8qKlxuICogV3JpdGVzIGEgc2lnbmVkIDY0IGJpdCB2YWx1ZSBhcyBmaXhlZCA2NCBiaXRzLlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge0xvbmd8bnVtYmVyfHN0cmluZ30gdmFsdWUgVmFsdWUgdG8gd3JpdGVcbiAqIEByZXR1cm5zIHtXcml0ZXJ9IGB0aGlzYFxuICogQHRocm93cyB7VHlwZUVycm9yfSBJZiBgdmFsdWVgIGlzIGEgc3RyaW5nIGFuZCBubyBsb25nIGxpYnJhcnkgaXMgcHJlc2VudC5cbiAqL1xuV3JpdGVyLnByb3RvdHlwZS5zZml4ZWQ2NCA9IFdyaXRlci5wcm90b3R5cGUuZml4ZWQ2NDtcblxuLyoqXG4gKiBXcml0ZXMgYSBmbG9hdCAoMzIgYml0KS5cbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIFZhbHVlIHRvIHdyaXRlXG4gKiBAcmV0dXJucyB7V3JpdGVyfSBgdGhpc2BcbiAqL1xuV3JpdGVyLnByb3RvdHlwZS5mbG9hdCA9IGZ1bmN0aW9uIHdyaXRlX2Zsb2F0KHZhbHVlKSB7XG4gICAgcmV0dXJuIHRoaXMuX3B1c2godXRpbC5mbG9hdC53cml0ZUZsb2F0TEUsIDQsIHZhbHVlKTtcbn07XG5cbi8qKlxuICogV3JpdGVzIGEgZG91YmxlICg2NCBiaXQgZmxvYXQpLlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgVmFsdWUgdG8gd3JpdGVcbiAqIEByZXR1cm5zIHtXcml0ZXJ9IGB0aGlzYFxuICovXG5Xcml0ZXIucHJvdG90eXBlLmRvdWJsZSA9IGZ1bmN0aW9uIHdyaXRlX2RvdWJsZSh2YWx1ZSkge1xuICAgIHJldHVybiB0aGlzLl9wdXNoKHV0aWwuZmxvYXQud3JpdGVEb3VibGVMRSwgOCwgdmFsdWUpO1xufTtcblxudmFyIHdyaXRlQnl0ZXMgPSB1dGlsLkFycmF5LnByb3RvdHlwZS5zZXRcbiAgICA/IGZ1bmN0aW9uIHdyaXRlQnl0ZXNfc2V0KHZhbCwgYnVmLCBwb3MpIHtcbiAgICAgICAgYnVmLnNldCh2YWwsIHBvcyk7IC8vIGFsc28gd29ya3MgZm9yIHBsYWluIGFycmF5IHZhbHVlc1xuICAgIH1cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIDogZnVuY3Rpb24gd3JpdGVCeXRlc19mb3IodmFsLCBidWYsIHBvcykge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbC5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgIGJ1Zltwb3MgKyBpXSA9IHZhbFtpXTtcbiAgICB9O1xuXG4vKipcbiAqIFdyaXRlcyBhIHNlcXVlbmNlIG9mIGJ5dGVzLlxuICogQHBhcmFtIHtVaW50OEFycmF5fHN0cmluZ30gdmFsdWUgQnVmZmVyIG9yIGJhc2U2NCBlbmNvZGVkIHN0cmluZyB0byB3cml0ZVxuICogQHJldHVybnMge1dyaXRlcn0gYHRoaXNgXG4gKi9cbldyaXRlci5wcm90b3R5cGUuYnl0ZXMgPSBmdW5jdGlvbiB3cml0ZV9ieXRlcyh2YWx1ZSkge1xuICAgIHZhciBsZW4gPSB2YWx1ZS5sZW5ndGggPj4+IDA7XG4gICAgaWYgKCFsZW4pXG4gICAgICAgIHJldHVybiB0aGlzLl9wdXNoKHdyaXRlQnl0ZSwgMSwgMCk7XG4gICAgaWYgKHV0aWwuaXNTdHJpbmcodmFsdWUpKSB7XG4gICAgICAgIHZhciBidWYgPSBXcml0ZXIuYWxsb2MobGVuID0gYmFzZTY0Lmxlbmd0aCh2YWx1ZSkpO1xuICAgICAgICBiYXNlNjQuZGVjb2RlKHZhbHVlLCBidWYsIDApO1xuICAgICAgICB2YWx1ZSA9IGJ1ZjtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMudWludDMyKGxlbikuX3B1c2god3JpdGVCeXRlcywgbGVuLCB2YWx1ZSk7XG59O1xuXG4vKipcbiAqIFdyaXRlcyBhIHN0cmluZy5cbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZSBWYWx1ZSB0byB3cml0ZVxuICogQHJldHVybnMge1dyaXRlcn0gYHRoaXNgXG4gKi9cbldyaXRlci5wcm90b3R5cGUuc3RyaW5nID0gZnVuY3Rpb24gd3JpdGVfc3RyaW5nKHZhbHVlKSB7XG4gICAgdmFyIGxlbiA9IHV0ZjgubGVuZ3RoKHZhbHVlKTtcbiAgICByZXR1cm4gbGVuXG4gICAgICAgID8gdGhpcy51aW50MzIobGVuKS5fcHVzaCh1dGY4LndyaXRlLCBsZW4sIHZhbHVlKVxuICAgICAgICA6IHRoaXMuX3B1c2god3JpdGVCeXRlLCAxLCAwKTtcbn07XG5cbi8qKlxuICogRm9ya3MgdGhpcyB3cml0ZXIncyBzdGF0ZSBieSBwdXNoaW5nIGl0IHRvIGEgc3RhY2suXG4gKiBDYWxsaW5nIHtAbGluayBXcml0ZXIjcmVzZXR8cmVzZXR9IG9yIHtAbGluayBXcml0ZXIjbGRlbGltfGxkZWxpbX0gcmVzZXRzIHRoZSB3cml0ZXIgdG8gdGhlIHByZXZpb3VzIHN0YXRlLlxuICogQHJldHVybnMge1dyaXRlcn0gYHRoaXNgXG4gKi9cbldyaXRlci5wcm90b3R5cGUuZm9yayA9IGZ1bmN0aW9uIGZvcmsoKSB7XG4gICAgdGhpcy5zdGF0ZXMgPSBuZXcgU3RhdGUodGhpcyk7XG4gICAgdGhpcy5oZWFkID0gdGhpcy50YWlsID0gbmV3IE9wKG5vb3AsIDAsIDApO1xuICAgIHRoaXMubGVuID0gMDtcbiAgICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogUmVzZXRzIHRoaXMgaW5zdGFuY2UgdG8gdGhlIGxhc3Qgc3RhdGUuXG4gKiBAcmV0dXJucyB7V3JpdGVyfSBgdGhpc2BcbiAqL1xuV3JpdGVyLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uIHJlc2V0KCkge1xuICAgIGlmICh0aGlzLnN0YXRlcykge1xuICAgICAgICB0aGlzLmhlYWQgICA9IHRoaXMuc3RhdGVzLmhlYWQ7XG4gICAgICAgIHRoaXMudGFpbCAgID0gdGhpcy5zdGF0ZXMudGFpbDtcbiAgICAgICAgdGhpcy5sZW4gICAgPSB0aGlzLnN0YXRlcy5sZW47XG4gICAgICAgIHRoaXMuc3RhdGVzID0gdGhpcy5zdGF0ZXMubmV4dDtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmhlYWQgPSB0aGlzLnRhaWwgPSBuZXcgT3Aobm9vcCwgMCwgMCk7XG4gICAgICAgIHRoaXMubGVuICA9IDA7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBSZXNldHMgdG8gdGhlIGxhc3Qgc3RhdGUgYW5kIGFwcGVuZHMgdGhlIGZvcmsgc3RhdGUncyBjdXJyZW50IHdyaXRlIGxlbmd0aCBhcyBhIHZhcmludCBmb2xsb3dlZCBieSBpdHMgb3BlcmF0aW9ucy5cbiAqIEByZXR1cm5zIHtXcml0ZXJ9IGB0aGlzYFxuICovXG5Xcml0ZXIucHJvdG90eXBlLmxkZWxpbSA9IGZ1bmN0aW9uIGxkZWxpbSgpIHtcbiAgICB2YXIgaGVhZCA9IHRoaXMuaGVhZCxcbiAgICAgICAgdGFpbCA9IHRoaXMudGFpbCxcbiAgICAgICAgbGVuICA9IHRoaXMubGVuO1xuICAgIHRoaXMucmVzZXQoKS51aW50MzIobGVuKTtcbiAgICBpZiAobGVuKSB7XG4gICAgICAgIHRoaXMudGFpbC5uZXh0ID0gaGVhZC5uZXh0OyAvLyBza2lwIG5vb3BcbiAgICAgICAgdGhpcy50YWlsID0gdGFpbDtcbiAgICAgICAgdGhpcy5sZW4gKz0gbGVuO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogRmluaXNoZXMgdGhlIHdyaXRlIG9wZXJhdGlvbi5cbiAqIEByZXR1cm5zIHtVaW50OEFycmF5fSBGaW5pc2hlZCBidWZmZXJcbiAqL1xuV3JpdGVyLnByb3RvdHlwZS5maW5pc2ggPSBmdW5jdGlvbiBmaW5pc2goKSB7XG4gICAgdmFyIGhlYWQgPSB0aGlzLmhlYWQubmV4dCwgLy8gc2tpcCBub29wXG4gICAgICAgIGJ1ZiAgPSB0aGlzLmNvbnN0cnVjdG9yLmFsbG9jKHRoaXMubGVuKSxcbiAgICAgICAgcG9zICA9IDA7XG4gICAgd2hpbGUgKGhlYWQpIHtcbiAgICAgICAgaGVhZC5mbihoZWFkLnZhbCwgYnVmLCBwb3MpO1xuICAgICAgICBwb3MgKz0gaGVhZC5sZW47XG4gICAgICAgIGhlYWQgPSBoZWFkLm5leHQ7XG4gICAgfVxuICAgIC8vIHRoaXMuaGVhZCA9IHRoaXMudGFpbCA9IG51bGw7XG4gICAgcmV0dXJuIGJ1Zjtcbn07XG5cbldyaXRlci5fY29uZmlndXJlID0gZnVuY3Rpb24oQnVmZmVyV3JpdGVyXykge1xuICAgIEJ1ZmZlcldyaXRlciA9IEJ1ZmZlcldyaXRlcl87XG4gICAgV3JpdGVyLmNyZWF0ZSA9IGNyZWF0ZSgpO1xuICAgIEJ1ZmZlcldyaXRlci5fY29uZmlndXJlKCk7XG59O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5tb2R1bGUuZXhwb3J0cyA9IEJ1ZmZlcldyaXRlcjtcblxuLy8gZXh0ZW5kcyBXcml0ZXJcbnZhciBXcml0ZXIgPSByZXF1aXJlKFwiLi93cml0ZXJcIik7XG4oQnVmZmVyV3JpdGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoV3JpdGVyLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yID0gQnVmZmVyV3JpdGVyO1xuXG52YXIgdXRpbCA9IHJlcXVpcmUoXCIuL3V0aWwvbWluaW1hbFwiKTtcblxuLyoqXG4gKiBDb25zdHJ1Y3RzIGEgbmV3IGJ1ZmZlciB3cml0ZXIgaW5zdGFuY2UuXG4gKiBAY2xhc3NkZXNjIFdpcmUgZm9ybWF0IHdyaXRlciB1c2luZyBub2RlIGJ1ZmZlcnMuXG4gKiBAZXh0ZW5kcyBXcml0ZXJcbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBCdWZmZXJXcml0ZXIoKSB7XG4gICAgV3JpdGVyLmNhbGwodGhpcyk7XG59XG5cbkJ1ZmZlcldyaXRlci5fY29uZmlndXJlID0gZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEFsbG9jYXRlcyBhIGJ1ZmZlciBvZiB0aGUgc3BlY2lmaWVkIHNpemUuXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNpemUgQnVmZmVyIHNpemVcbiAgICAgKiBAcmV0dXJucyB7QnVmZmVyfSBCdWZmZXJcbiAgICAgKi9cbiAgICBCdWZmZXJXcml0ZXIuYWxsb2MgPSB1dGlsLl9CdWZmZXJfYWxsb2NVbnNhZmU7XG5cbiAgICBCdWZmZXJXcml0ZXIud3JpdGVCeXRlc0J1ZmZlciA9IHV0aWwuQnVmZmVyICYmIHV0aWwuQnVmZmVyLnByb3RvdHlwZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkgJiYgdXRpbC5CdWZmZXIucHJvdG90eXBlLnNldC5uYW1lID09PSBcInNldFwiXG4gICAgICAgID8gZnVuY3Rpb24gd3JpdGVCeXRlc0J1ZmZlcl9zZXQodmFsLCBidWYsIHBvcykge1xuICAgICAgICAgIGJ1Zi5zZXQodmFsLCBwb3MpOyAvLyBmYXN0ZXIgdGhhbiBjb3B5IChyZXF1aXJlcyBub2RlID49IDQgd2hlcmUgQnVmZmVycyBleHRlbmQgVWludDhBcnJheSBhbmQgc2V0IGlzIHByb3Blcmx5IGluaGVyaXRlZClcbiAgICAgICAgICAvLyBhbHNvIHdvcmtzIGZvciBwbGFpbiBhcnJheSB2YWx1ZXNcbiAgICAgICAgfVxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICA6IGZ1bmN0aW9uIHdyaXRlQnl0ZXNCdWZmZXJfY29weSh2YWwsIGJ1ZiwgcG9zKSB7XG4gICAgICAgICAgaWYgKHZhbC5jb3B5KSAvLyBCdWZmZXIgdmFsdWVzXG4gICAgICAgICAgICB2YWwuY29weShidWYsIHBvcywgMCwgdmFsLmxlbmd0aCk7XG4gICAgICAgICAgZWxzZSBmb3IgKHZhciBpID0gMDsgaSA8IHZhbC5sZW5ndGg7KSAvLyBwbGFpbiBhcnJheSB2YWx1ZXNcbiAgICAgICAgICAgIGJ1Zltwb3MrK10gPSB2YWxbaSsrXTtcbiAgICAgICAgfTtcbn07XG5cblxuLyoqXG4gKiBAb3ZlcnJpZGVcbiAqL1xuQnVmZmVyV3JpdGVyLnByb3RvdHlwZS5ieXRlcyA9IGZ1bmN0aW9uIHdyaXRlX2J5dGVzX2J1ZmZlcih2YWx1ZSkge1xuICAgIGlmICh1dGlsLmlzU3RyaW5nKHZhbHVlKSlcbiAgICAgICAgdmFsdWUgPSB1dGlsLl9CdWZmZXJfZnJvbSh2YWx1ZSwgXCJiYXNlNjRcIik7XG4gICAgdmFyIGxlbiA9IHZhbHVlLmxlbmd0aCA+Pj4gMDtcbiAgICB0aGlzLnVpbnQzMihsZW4pO1xuICAgIGlmIChsZW4pXG4gICAgICAgIHRoaXMuX3B1c2goQnVmZmVyV3JpdGVyLndyaXRlQnl0ZXNCdWZmZXIsIGxlbiwgdmFsdWUpO1xuICAgIHJldHVybiB0aGlzO1xufTtcblxuZnVuY3Rpb24gd3JpdGVTdHJpbmdCdWZmZXIodmFsLCBidWYsIHBvcykge1xuICAgIGlmICh2YWwubGVuZ3RoIDwgNDApIC8vIHBsYWluIGpzIGlzIGZhc3RlciBmb3Igc2hvcnQgc3RyaW5ncyAocHJvYmFibHkgZHVlIHRvIHJlZHVuZGFudCBhc3NlcnRpb25zKVxuICAgICAgICB1dGlsLnV0Zjgud3JpdGUodmFsLCBidWYsIHBvcyk7XG4gICAgZWxzZSBpZiAoYnVmLnV0ZjhXcml0ZSlcbiAgICAgICAgYnVmLnV0ZjhXcml0ZSh2YWwsIHBvcyk7XG4gICAgZWxzZVxuICAgICAgICBidWYud3JpdGUodmFsLCBwb3MpO1xufVxuXG4vKipcbiAqIEBvdmVycmlkZVxuICovXG5CdWZmZXJXcml0ZXIucHJvdG90eXBlLnN0cmluZyA9IGZ1bmN0aW9uIHdyaXRlX3N0cmluZ19idWZmZXIodmFsdWUpIHtcbiAgICB2YXIgbGVuID0gdXRpbC5CdWZmZXIuYnl0ZUxlbmd0aCh2YWx1ZSk7XG4gICAgdGhpcy51aW50MzIobGVuKTtcbiAgICBpZiAobGVuKVxuICAgICAgICB0aGlzLl9wdXNoKHdyaXRlU3RyaW5nQnVmZmVyLCBsZW4sIHZhbHVlKTtcbiAgICByZXR1cm4gdGhpcztcbn07XG5cblxuLyoqXG4gKiBGaW5pc2hlcyB0aGUgd3JpdGUgb3BlcmF0aW9uLlxuICogQG5hbWUgQnVmZmVyV3JpdGVyI2ZpbmlzaFxuICogQGZ1bmN0aW9uXG4gKiBAcmV0dXJucyB7QnVmZmVyfSBGaW5pc2hlZCBidWZmZXJcbiAqL1xuXG5CdWZmZXJXcml0ZXIuX2NvbmZpZ3VyZSgpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5tb2R1bGUuZXhwb3J0cyA9IFJlYWRlcjtcblxudmFyIHV0aWwgICAgICA9IHJlcXVpcmUoXCIuL3V0aWwvbWluaW1hbFwiKTtcblxudmFyIEJ1ZmZlclJlYWRlcjsgLy8gY3ljbGljXG5cbnZhciBMb25nQml0cyAgPSB1dGlsLkxvbmdCaXRzLFxuICAgIHV0ZjggICAgICA9IHV0aWwudXRmODtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmZ1bmN0aW9uIGluZGV4T3V0T2ZSYW5nZShyZWFkZXIsIHdyaXRlTGVuZ3RoKSB7XG4gICAgcmV0dXJuIFJhbmdlRXJyb3IoXCJpbmRleCBvdXQgb2YgcmFuZ2U6IFwiICsgcmVhZGVyLnBvcyArIFwiICsgXCIgKyAod3JpdGVMZW5ndGggfHwgMSkgKyBcIiA+IFwiICsgcmVhZGVyLmxlbik7XG59XG5cbi8qKlxuICogQ29uc3RydWN0cyBhIG5ldyByZWFkZXIgaW5zdGFuY2UgdXNpbmcgdGhlIHNwZWNpZmllZCBidWZmZXIuXG4gKiBAY2xhc3NkZXNjIFdpcmUgZm9ybWF0IHJlYWRlciB1c2luZyBgVWludDhBcnJheWAgaWYgYXZhaWxhYmxlLCBvdGhlcndpc2UgYEFycmF5YC5cbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtVaW50OEFycmF5fSBidWZmZXIgQnVmZmVyIHRvIHJlYWQgZnJvbVxuICovXG5mdW5jdGlvbiBSZWFkZXIoYnVmZmVyKSB7XG5cbiAgICAvKipcbiAgICAgKiBSZWFkIGJ1ZmZlci5cbiAgICAgKiBAdHlwZSB7VWludDhBcnJheX1cbiAgICAgKi9cbiAgICB0aGlzLmJ1ZiA9IGJ1ZmZlcjtcblxuICAgIC8qKlxuICAgICAqIFJlYWQgYnVmZmVyIHBvc2l0aW9uLlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5wb3MgPSAwO1xuXG4gICAgLyoqXG4gICAgICogUmVhZCBidWZmZXIgbGVuZ3RoLlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5sZW4gPSBidWZmZXIubGVuZ3RoO1xufVxuXG52YXIgY3JlYXRlX2FycmF5ID0gdHlwZW9mIFVpbnQ4QXJyYXkgIT09IFwidW5kZWZpbmVkXCJcbiAgICA/IGZ1bmN0aW9uIGNyZWF0ZV90eXBlZF9hcnJheShidWZmZXIpIHtcbiAgICAgICAgaWYgKGJ1ZmZlciBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkgfHwgQXJyYXkuaXNBcnJheShidWZmZXIpKVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBSZWFkZXIoYnVmZmVyKTtcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJpbGxlZ2FsIGJ1ZmZlclwiKTtcbiAgICB9XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICA6IGZ1bmN0aW9uIGNyZWF0ZV9hcnJheShidWZmZXIpIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYnVmZmVyKSlcbiAgICAgICAgICAgIHJldHVybiBuZXcgUmVhZGVyKGJ1ZmZlcik7XG4gICAgICAgIHRocm93IEVycm9yKFwiaWxsZWdhbCBidWZmZXJcIik7XG4gICAgfTtcblxudmFyIGNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgICByZXR1cm4gdXRpbC5CdWZmZXJcbiAgICAgICAgPyBmdW5jdGlvbiBjcmVhdGVfYnVmZmVyX3NldHVwKGJ1ZmZlcikge1xuICAgICAgICAgICAgcmV0dXJuIChSZWFkZXIuY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlX2J1ZmZlcihidWZmZXIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdXRpbC5CdWZmZXIuaXNCdWZmZXIoYnVmZmVyKVxuICAgICAgICAgICAgICAgICAgICA/IG5ldyBCdWZmZXJSZWFkZXIoYnVmZmVyKVxuICAgICAgICAgICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICAgICAgICAgICAgICA6IGNyZWF0ZV9hcnJheShidWZmZXIpO1xuICAgICAgICAgICAgfSkoYnVmZmVyKTtcbiAgICAgICAgfVxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICA6IGNyZWF0ZV9hcnJheTtcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyByZWFkZXIgdXNpbmcgdGhlIHNwZWNpZmllZCBidWZmZXIuXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7VWludDhBcnJheXxCdWZmZXJ9IGJ1ZmZlciBCdWZmZXIgdG8gcmVhZCBmcm9tXG4gKiBAcmV0dXJucyB7UmVhZGVyfEJ1ZmZlclJlYWRlcn0gQSB7QGxpbmsgQnVmZmVyUmVhZGVyfSBpZiBgYnVmZmVyYCBpcyBhIEJ1ZmZlciwgb3RoZXJ3aXNlIGEge0BsaW5rIFJlYWRlcn1cbiAqIEB0aHJvd3Mge0Vycm9yfSBJZiBgYnVmZmVyYCBpcyBub3QgYSB2YWxpZCBidWZmZXJcbiAqL1xuUmVhZGVyLmNyZWF0ZSA9IGNyZWF0ZSgpO1xuXG5SZWFkZXIucHJvdG90eXBlLl9zbGljZSA9IHV0aWwuQXJyYXkucHJvdG90eXBlLnN1YmFycmF5IHx8IC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovIHV0aWwuQXJyYXkucHJvdG90eXBlLnNsaWNlO1xuXG4vKipcbiAqIFJlYWRzIGEgdmFyaW50IGFzIGFuIHVuc2lnbmVkIDMyIGJpdCB2YWx1ZS5cbiAqIEBmdW5jdGlvblxuICogQHJldHVybnMge251bWJlcn0gVmFsdWUgcmVhZFxuICovXG5SZWFkZXIucHJvdG90eXBlLnVpbnQzMiA9IChmdW5jdGlvbiByZWFkX3VpbnQzMl9zZXR1cCgpIHtcbiAgICB2YXIgdmFsdWUgPSA0Mjk0OTY3Mjk1OyAvLyBvcHRpbWl6ZXIgdHlwZS1oaW50LCB0ZW5kcyB0byBkZW9wdCBvdGhlcndpc2UgKD8hKVxuICAgIHJldHVybiBmdW5jdGlvbiByZWFkX3VpbnQzMigpIHtcbiAgICAgICAgdmFsdWUgPSAoICAgICAgICAgdGhpcy5idWZbdGhpcy5wb3NdICYgMTI3ICAgICAgICkgPj4+IDA7IGlmICh0aGlzLmJ1Zlt0aGlzLnBvcysrXSA8IDEyOCkgcmV0dXJuIHZhbHVlO1xuICAgICAgICB2YWx1ZSA9ICh2YWx1ZSB8ICh0aGlzLmJ1Zlt0aGlzLnBvc10gJiAxMjcpIDw8ICA3KSA+Pj4gMDsgaWYgKHRoaXMuYnVmW3RoaXMucG9zKytdIDwgMTI4KSByZXR1cm4gdmFsdWU7XG4gICAgICAgIHZhbHVlID0gKHZhbHVlIHwgKHRoaXMuYnVmW3RoaXMucG9zXSAmIDEyNykgPDwgMTQpID4+PiAwOyBpZiAodGhpcy5idWZbdGhpcy5wb3MrK10gPCAxMjgpIHJldHVybiB2YWx1ZTtcbiAgICAgICAgdmFsdWUgPSAodmFsdWUgfCAodGhpcy5idWZbdGhpcy5wb3NdICYgMTI3KSA8PCAyMSkgPj4+IDA7IGlmICh0aGlzLmJ1Zlt0aGlzLnBvcysrXSA8IDEyOCkgcmV0dXJuIHZhbHVlO1xuICAgICAgICB2YWx1ZSA9ICh2YWx1ZSB8ICh0aGlzLmJ1Zlt0aGlzLnBvc10gJiAgMTUpIDw8IDI4KSA+Pj4gMDsgaWYgKHRoaXMuYnVmW3RoaXMucG9zKytdIDwgMTI4KSByZXR1cm4gdmFsdWU7XG5cbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgIGlmICgodGhpcy5wb3MgKz0gNSkgPiB0aGlzLmxlbikge1xuICAgICAgICAgICAgdGhpcy5wb3MgPSB0aGlzLmxlbjtcbiAgICAgICAgICAgIHRocm93IGluZGV4T3V0T2ZSYW5nZSh0aGlzLCAxMCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH07XG59KSgpO1xuXG4vKipcbiAqIFJlYWRzIGEgdmFyaW50IGFzIGEgc2lnbmVkIDMyIGJpdCB2YWx1ZS5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFZhbHVlIHJlYWRcbiAqL1xuUmVhZGVyLnByb3RvdHlwZS5pbnQzMiA9IGZ1bmN0aW9uIHJlYWRfaW50MzIoKSB7XG4gICAgcmV0dXJuIHRoaXMudWludDMyKCkgfCAwO1xufTtcblxuLyoqXG4gKiBSZWFkcyBhIHppZy16YWcgZW5jb2RlZCB2YXJpbnQgYXMgYSBzaWduZWQgMzIgYml0IHZhbHVlLlxuICogQHJldHVybnMge251bWJlcn0gVmFsdWUgcmVhZFxuICovXG5SZWFkZXIucHJvdG90eXBlLnNpbnQzMiA9IGZ1bmN0aW9uIHJlYWRfc2ludDMyKCkge1xuICAgIHZhciB2YWx1ZSA9IHRoaXMudWludDMyKCk7XG4gICAgcmV0dXJuIHZhbHVlID4+PiAxIF4gLSh2YWx1ZSAmIDEpIHwgMDtcbn07XG5cbi8qIGVzbGludC1kaXNhYmxlIG5vLWludmFsaWQtdGhpcyAqL1xuXG5mdW5jdGlvbiByZWFkTG9uZ1ZhcmludCgpIHtcbiAgICAvLyB0ZW5kcyB0byBkZW9wdCB3aXRoIGxvY2FsIHZhcnMgZm9yIG9jdGV0IGV0Yy5cbiAgICB2YXIgYml0cyA9IG5ldyBMb25nQml0cygwLCAwKTtcbiAgICB2YXIgaSA9IDA7XG4gICAgaWYgKHRoaXMubGVuIC0gdGhpcy5wb3MgPiA0KSB7IC8vIGZhc3Qgcm91dGUgKGxvKVxuICAgICAgICBmb3IgKDsgaSA8IDQ7ICsraSkge1xuICAgICAgICAgICAgLy8gMXN0Li40dGhcbiAgICAgICAgICAgIGJpdHMubG8gPSAoYml0cy5sbyB8ICh0aGlzLmJ1Zlt0aGlzLnBvc10gJiAxMjcpIDw8IGkgKiA3KSA+Pj4gMDtcbiAgICAgICAgICAgIGlmICh0aGlzLmJ1Zlt0aGlzLnBvcysrXSA8IDEyOClcbiAgICAgICAgICAgICAgICByZXR1cm4gYml0cztcbiAgICAgICAgfVxuICAgICAgICAvLyA1dGhcbiAgICAgICAgYml0cy5sbyA9IChiaXRzLmxvIHwgKHRoaXMuYnVmW3RoaXMucG9zXSAmIDEyNykgPDwgMjgpID4+PiAwO1xuICAgICAgICBiaXRzLmhpID0gKGJpdHMuaGkgfCAodGhpcy5idWZbdGhpcy5wb3NdICYgMTI3KSA+PiAgNCkgPj4+IDA7XG4gICAgICAgIGlmICh0aGlzLmJ1Zlt0aGlzLnBvcysrXSA8IDEyOClcbiAgICAgICAgICAgIHJldHVybiBiaXRzO1xuICAgICAgICBpID0gMDtcbiAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKDsgaSA8IDM7ICsraSkge1xuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgICAgICBpZiAodGhpcy5wb3MgPj0gdGhpcy5sZW4pXG4gICAgICAgICAgICAgICAgdGhyb3cgaW5kZXhPdXRPZlJhbmdlKHRoaXMpO1xuICAgICAgICAgICAgLy8gMXN0Li4zdGhcbiAgICAgICAgICAgIGJpdHMubG8gPSAoYml0cy5sbyB8ICh0aGlzLmJ1Zlt0aGlzLnBvc10gJiAxMjcpIDw8IGkgKiA3KSA+Pj4gMDtcbiAgICAgICAgICAgIGlmICh0aGlzLmJ1Zlt0aGlzLnBvcysrXSA8IDEyOClcbiAgICAgICAgICAgICAgICByZXR1cm4gYml0cztcbiAgICAgICAgfVxuICAgICAgICAvLyA0dGhcbiAgICAgICAgYml0cy5sbyA9IChiaXRzLmxvIHwgKHRoaXMuYnVmW3RoaXMucG9zKytdICYgMTI3KSA8PCBpICogNykgPj4+IDA7XG4gICAgICAgIHJldHVybiBiaXRzO1xuICAgIH1cbiAgICBpZiAodGhpcy5sZW4gLSB0aGlzLnBvcyA+IDQpIHsgLy8gZmFzdCByb3V0ZSAoaGkpXG4gICAgICAgIGZvciAoOyBpIDwgNTsgKytpKSB7XG4gICAgICAgICAgICAvLyA2dGguLjEwdGhcbiAgICAgICAgICAgIGJpdHMuaGkgPSAoYml0cy5oaSB8ICh0aGlzLmJ1Zlt0aGlzLnBvc10gJiAxMjcpIDw8IGkgKiA3ICsgMykgPj4+IDA7XG4gICAgICAgICAgICBpZiAodGhpcy5idWZbdGhpcy5wb3MrK10gPCAxMjgpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGJpdHM7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKDsgaSA8IDU7ICsraSkge1xuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgICAgICBpZiAodGhpcy5wb3MgPj0gdGhpcy5sZW4pXG4gICAgICAgICAgICAgICAgdGhyb3cgaW5kZXhPdXRPZlJhbmdlKHRoaXMpO1xuICAgICAgICAgICAgLy8gNnRoLi4xMHRoXG4gICAgICAgICAgICBiaXRzLmhpID0gKGJpdHMuaGkgfCAodGhpcy5idWZbdGhpcy5wb3NdICYgMTI3KSA8PCBpICogNyArIDMpID4+PiAwO1xuICAgICAgICAgICAgaWYgKHRoaXMuYnVmW3RoaXMucG9zKytdIDwgMTI4KVxuICAgICAgICAgICAgICAgIHJldHVybiBiaXRzO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgdGhyb3cgRXJyb3IoXCJpbnZhbGlkIHZhcmludCBlbmNvZGluZ1wiKTtcbn1cblxuLyogZXNsaW50LWVuYWJsZSBuby1pbnZhbGlkLXRoaXMgKi9cblxuLyoqXG4gKiBSZWFkcyBhIHZhcmludCBhcyBhIHNpZ25lZCA2NCBiaXQgdmFsdWUuXG4gKiBAbmFtZSBSZWFkZXIjaW50NjRcbiAqIEBmdW5jdGlvblxuICogQHJldHVybnMge0xvbmd9IFZhbHVlIHJlYWRcbiAqL1xuXG4vKipcbiAqIFJlYWRzIGEgdmFyaW50IGFzIGFuIHVuc2lnbmVkIDY0IGJpdCB2YWx1ZS5cbiAqIEBuYW1lIFJlYWRlciN1aW50NjRcbiAqIEBmdW5jdGlvblxuICogQHJldHVybnMge0xvbmd9IFZhbHVlIHJlYWRcbiAqL1xuXG4vKipcbiAqIFJlYWRzIGEgemlnLXphZyBlbmNvZGVkIHZhcmludCBhcyBhIHNpZ25lZCA2NCBiaXQgdmFsdWUuXG4gKiBAbmFtZSBSZWFkZXIjc2ludDY0XG4gKiBAZnVuY3Rpb25cbiAqIEByZXR1cm5zIHtMb25nfSBWYWx1ZSByZWFkXG4gKi9cblxuLyoqXG4gKiBSZWFkcyBhIHZhcmludCBhcyBhIGJvb2xlYW4uXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVmFsdWUgcmVhZFxuICovXG5SZWFkZXIucHJvdG90eXBlLmJvb2wgPSBmdW5jdGlvbiByZWFkX2Jvb2woKSB7XG4gICAgcmV0dXJuIHRoaXMudWludDMyKCkgIT09IDA7XG59O1xuXG5mdW5jdGlvbiByZWFkRml4ZWQzMl9lbmQoYnVmLCBlbmQpIHsgLy8gbm90ZSB0aGF0IHRoaXMgdXNlcyBgZW5kYCwgbm90IGBwb3NgXG4gICAgcmV0dXJuIChidWZbZW5kIC0gNF1cbiAgICAgICAgICB8IGJ1ZltlbmQgLSAzXSA8PCA4XG4gICAgICAgICAgfCBidWZbZW5kIC0gMl0gPDwgMTZcbiAgICAgICAgICB8IGJ1ZltlbmQgLSAxXSA8PCAyNCkgPj4+IDA7XG59XG5cbi8qKlxuICogUmVhZHMgZml4ZWQgMzIgYml0cyBhcyBhbiB1bnNpZ25lZCAzMiBiaXQgaW50ZWdlci5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFZhbHVlIHJlYWRcbiAqL1xuUmVhZGVyLnByb3RvdHlwZS5maXhlZDMyID0gZnVuY3Rpb24gcmVhZF9maXhlZDMyKCkge1xuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKHRoaXMucG9zICsgNCA+IHRoaXMubGVuKVxuICAgICAgICB0aHJvdyBpbmRleE91dE9mUmFuZ2UodGhpcywgNCk7XG5cbiAgICByZXR1cm4gcmVhZEZpeGVkMzJfZW5kKHRoaXMuYnVmLCB0aGlzLnBvcyArPSA0KTtcbn07XG5cbi8qKlxuICogUmVhZHMgZml4ZWQgMzIgYml0cyBhcyBhIHNpZ25lZCAzMiBiaXQgaW50ZWdlci5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFZhbHVlIHJlYWRcbiAqL1xuUmVhZGVyLnByb3RvdHlwZS5zZml4ZWQzMiA9IGZ1bmN0aW9uIHJlYWRfc2ZpeGVkMzIoKSB7XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAodGhpcy5wb3MgKyA0ID4gdGhpcy5sZW4pXG4gICAgICAgIHRocm93IGluZGV4T3V0T2ZSYW5nZSh0aGlzLCA0KTtcblxuICAgIHJldHVybiByZWFkRml4ZWQzMl9lbmQodGhpcy5idWYsIHRoaXMucG9zICs9IDQpIHwgMDtcbn07XG5cbi8qIGVzbGludC1kaXNhYmxlIG5vLWludmFsaWQtdGhpcyAqL1xuXG5mdW5jdGlvbiByZWFkRml4ZWQ2NCgvKiB0aGlzOiBSZWFkZXIgKi8pIHtcblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmICh0aGlzLnBvcyArIDggPiB0aGlzLmxlbilcbiAgICAgICAgdGhyb3cgaW5kZXhPdXRPZlJhbmdlKHRoaXMsIDgpO1xuXG4gICAgcmV0dXJuIG5ldyBMb25nQml0cyhyZWFkRml4ZWQzMl9lbmQodGhpcy5idWYsIHRoaXMucG9zICs9IDQpLCByZWFkRml4ZWQzMl9lbmQodGhpcy5idWYsIHRoaXMucG9zICs9IDQpKTtcbn1cblxuLyogZXNsaW50LWVuYWJsZSBuby1pbnZhbGlkLXRoaXMgKi9cblxuLyoqXG4gKiBSZWFkcyBmaXhlZCA2NCBiaXRzLlxuICogQG5hbWUgUmVhZGVyI2ZpeGVkNjRcbiAqIEBmdW5jdGlvblxuICogQHJldHVybnMge0xvbmd9IFZhbHVlIHJlYWRcbiAqL1xuXG4vKipcbiAqIFJlYWRzIHppZy16YWcgZW5jb2RlZCBmaXhlZCA2NCBiaXRzLlxuICogQG5hbWUgUmVhZGVyI3NmaXhlZDY0XG4gKiBAZnVuY3Rpb25cbiAqIEByZXR1cm5zIHtMb25nfSBWYWx1ZSByZWFkXG4gKi9cblxuLyoqXG4gKiBSZWFkcyBhIGZsb2F0ICgzMiBiaXQpIGFzIGEgbnVtYmVyLlxuICogQGZ1bmN0aW9uXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBWYWx1ZSByZWFkXG4gKi9cblJlYWRlci5wcm90b3R5cGUuZmxvYXQgPSBmdW5jdGlvbiByZWFkX2Zsb2F0KCkge1xuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKHRoaXMucG9zICsgNCA+IHRoaXMubGVuKVxuICAgICAgICB0aHJvdyBpbmRleE91dE9mUmFuZ2UodGhpcywgNCk7XG5cbiAgICB2YXIgdmFsdWUgPSB1dGlsLmZsb2F0LnJlYWRGbG9hdExFKHRoaXMuYnVmLCB0aGlzLnBvcyk7XG4gICAgdGhpcy5wb3MgKz0gNDtcbiAgICByZXR1cm4gdmFsdWU7XG59O1xuXG4vKipcbiAqIFJlYWRzIGEgZG91YmxlICg2NCBiaXQgZmxvYXQpIGFzIGEgbnVtYmVyLlxuICogQGZ1bmN0aW9uXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBWYWx1ZSByZWFkXG4gKi9cblJlYWRlci5wcm90b3R5cGUuZG91YmxlID0gZnVuY3Rpb24gcmVhZF9kb3VibGUoKSB7XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAodGhpcy5wb3MgKyA4ID4gdGhpcy5sZW4pXG4gICAgICAgIHRocm93IGluZGV4T3V0T2ZSYW5nZSh0aGlzLCA0KTtcblxuICAgIHZhciB2YWx1ZSA9IHV0aWwuZmxvYXQucmVhZERvdWJsZUxFKHRoaXMuYnVmLCB0aGlzLnBvcyk7XG4gICAgdGhpcy5wb3MgKz0gODtcbiAgICByZXR1cm4gdmFsdWU7XG59O1xuXG4vKipcbiAqIFJlYWRzIGEgc2VxdWVuY2Ugb2YgYnl0ZXMgcHJlY2VlZGVkIGJ5IGl0cyBsZW5ndGggYXMgYSB2YXJpbnQuXG4gKiBAcmV0dXJucyB7VWludDhBcnJheX0gVmFsdWUgcmVhZFxuICovXG5SZWFkZXIucHJvdG90eXBlLmJ5dGVzID0gZnVuY3Rpb24gcmVhZF9ieXRlcygpIHtcbiAgICB2YXIgbGVuZ3RoID0gdGhpcy51aW50MzIoKSxcbiAgICAgICAgc3RhcnQgID0gdGhpcy5wb3MsXG4gICAgICAgIGVuZCAgICA9IHRoaXMucG9zICsgbGVuZ3RoO1xuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKGVuZCA+IHRoaXMubGVuKVxuICAgICAgICB0aHJvdyBpbmRleE91dE9mUmFuZ2UodGhpcywgbGVuZ3RoKTtcblxuICAgIHRoaXMucG9zICs9IGxlbmd0aDtcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh0aGlzLmJ1ZikpIC8vIHBsYWluIGFycmF5XG4gICAgICAgIHJldHVybiB0aGlzLmJ1Zi5zbGljZShzdGFydCwgZW5kKTtcbiAgICByZXR1cm4gc3RhcnQgPT09IGVuZCAvLyBmaXggZm9yIElFIDEwL1dpbjggYW5kIG90aGVycycgc3ViYXJyYXkgcmV0dXJuaW5nIGFycmF5IG9mIHNpemUgMVxuICAgICAgICA/IG5ldyB0aGlzLmJ1Zi5jb25zdHJ1Y3RvcigwKVxuICAgICAgICA6IHRoaXMuX3NsaWNlLmNhbGwodGhpcy5idWYsIHN0YXJ0LCBlbmQpO1xufTtcblxuLyoqXG4gKiBSZWFkcyBhIHN0cmluZyBwcmVjZWVkZWQgYnkgaXRzIGJ5dGUgbGVuZ3RoIGFzIGEgdmFyaW50LlxuICogQHJldHVybnMge3N0cmluZ30gVmFsdWUgcmVhZFxuICovXG5SZWFkZXIucHJvdG90eXBlLnN0cmluZyA9IGZ1bmN0aW9uIHJlYWRfc3RyaW5nKCkge1xuICAgIHZhciBieXRlcyA9IHRoaXMuYnl0ZXMoKTtcbiAgICByZXR1cm4gdXRmOC5yZWFkKGJ5dGVzLCAwLCBieXRlcy5sZW5ndGgpO1xufTtcblxuLyoqXG4gKiBTa2lwcyB0aGUgc3BlY2lmaWVkIG51bWJlciBvZiBieXRlcyBpZiBzcGVjaWZpZWQsIG90aGVyd2lzZSBza2lwcyBhIHZhcmludC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoXSBMZW5ndGggaWYga25vd24sIG90aGVyd2lzZSBhIHZhcmludCBpcyBhc3N1bWVkXG4gKiBAcmV0dXJucyB7UmVhZGVyfSBgdGhpc2BcbiAqL1xuUmVhZGVyLnByb3RvdHlwZS5za2lwID0gZnVuY3Rpb24gc2tpcChsZW5ndGgpIHtcbiAgICBpZiAodHlwZW9mIGxlbmd0aCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgaWYgKHRoaXMucG9zICsgbGVuZ3RoID4gdGhpcy5sZW4pXG4gICAgICAgICAgICB0aHJvdyBpbmRleE91dE9mUmFuZ2UodGhpcywgbGVuZ3RoKTtcbiAgICAgICAgdGhpcy5wb3MgKz0gbGVuZ3RoO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICAgICAgaWYgKHRoaXMucG9zID49IHRoaXMubGVuKVxuICAgICAgICAgICAgICAgIHRocm93IGluZGV4T3V0T2ZSYW5nZSh0aGlzKTtcbiAgICAgICAgfSB3aGlsZSAodGhpcy5idWZbdGhpcy5wb3MrK10gJiAxMjgpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogU2tpcHMgdGhlIG5leHQgZWxlbWVudCBvZiB0aGUgc3BlY2lmaWVkIHdpcmUgdHlwZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB3aXJlVHlwZSBXaXJlIHR5cGUgcmVjZWl2ZWRcbiAqIEByZXR1cm5zIHtSZWFkZXJ9IGB0aGlzYFxuICovXG5SZWFkZXIucHJvdG90eXBlLnNraXBUeXBlID0gZnVuY3Rpb24od2lyZVR5cGUpIHtcbiAgICBzd2l0Y2ggKHdpcmVUeXBlKSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgIHRoaXMuc2tpcCgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIHRoaXMuc2tpcCg4KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICB0aGlzLnNraXAodGhpcy51aW50MzIoKSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgd2hpbGUgKCh3aXJlVHlwZSA9IHRoaXMudWludDMyKCkgJiA3KSAhPT0gNCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2tpcFR5cGUod2lyZVR5cGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgIHRoaXMuc2tpcCg0KTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcImludmFsaWQgd2lyZSB0eXBlIFwiICsgd2lyZVR5cGUgKyBcIiBhdCBvZmZzZXQgXCIgKyB0aGlzLnBvcyk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xufTtcblxuUmVhZGVyLl9jb25maWd1cmUgPSBmdW5jdGlvbihCdWZmZXJSZWFkZXJfKSB7XG4gICAgQnVmZmVyUmVhZGVyID0gQnVmZmVyUmVhZGVyXztcbiAgICBSZWFkZXIuY3JlYXRlID0gY3JlYXRlKCk7XG4gICAgQnVmZmVyUmVhZGVyLl9jb25maWd1cmUoKTtcblxuICAgIHZhciBmbiA9IHV0aWwuTG9uZyA/IFwidG9Mb25nXCIgOiAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLyBcInRvTnVtYmVyXCI7XG4gICAgdXRpbC5tZXJnZShSZWFkZXIucHJvdG90eXBlLCB7XG5cbiAgICAgICAgaW50NjQ6IGZ1bmN0aW9uIHJlYWRfaW50NjQoKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVhZExvbmdWYXJpbnQuY2FsbCh0aGlzKVtmbl0oZmFsc2UpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHVpbnQ2NDogZnVuY3Rpb24gcmVhZF91aW50NjQoKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVhZExvbmdWYXJpbnQuY2FsbCh0aGlzKVtmbl0odHJ1ZSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgc2ludDY0OiBmdW5jdGlvbiByZWFkX3NpbnQ2NCgpIHtcbiAgICAgICAgICAgIHJldHVybiByZWFkTG9uZ1ZhcmludC5jYWxsKHRoaXMpLnp6RGVjb2RlKClbZm5dKGZhbHNlKTtcbiAgICAgICAgfSxcblxuICAgICAgICBmaXhlZDY0OiBmdW5jdGlvbiByZWFkX2ZpeGVkNjQoKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVhZEZpeGVkNjQuY2FsbCh0aGlzKVtmbl0odHJ1ZSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgc2ZpeGVkNjQ6IGZ1bmN0aW9uIHJlYWRfc2ZpeGVkNjQoKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVhZEZpeGVkNjQuY2FsbCh0aGlzKVtmbl0oZmFsc2UpO1xuICAgICAgICB9XG5cbiAgICB9KTtcbn07XG4iLCJcInVzZSBzdHJpY3RcIjtcbm1vZHVsZS5leHBvcnRzID0gQnVmZmVyUmVhZGVyO1xuXG4vLyBleHRlbmRzIFJlYWRlclxudmFyIFJlYWRlciA9IHJlcXVpcmUoXCIuL3JlYWRlclwiKTtcbihCdWZmZXJSZWFkZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShSZWFkZXIucHJvdG90eXBlKSkuY29uc3RydWN0b3IgPSBCdWZmZXJSZWFkZXI7XG5cbnZhciB1dGlsID0gcmVxdWlyZShcIi4vdXRpbC9taW5pbWFsXCIpO1xuXG4vKipcbiAqIENvbnN0cnVjdHMgYSBuZXcgYnVmZmVyIHJlYWRlciBpbnN0YW5jZS5cbiAqIEBjbGFzc2Rlc2MgV2lyZSBmb3JtYXQgcmVhZGVyIHVzaW5nIG5vZGUgYnVmZmVycy5cbiAqIEBleHRlbmRzIFJlYWRlclxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0J1ZmZlcn0gYnVmZmVyIEJ1ZmZlciB0byByZWFkIGZyb21cbiAqL1xuZnVuY3Rpb24gQnVmZmVyUmVhZGVyKGJ1ZmZlcikge1xuICAgIFJlYWRlci5jYWxsKHRoaXMsIGJ1ZmZlcik7XG5cbiAgICAvKipcbiAgICAgKiBSZWFkIGJ1ZmZlci5cbiAgICAgKiBAbmFtZSBCdWZmZXJSZWFkZXIjYnVmXG4gICAgICogQHR5cGUge0J1ZmZlcn1cbiAgICAgKi9cbn1cblxuQnVmZmVyUmVhZGVyLl9jb25maWd1cmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICBpZiAodXRpbC5CdWZmZXIpXG4gICAgICAgIEJ1ZmZlclJlYWRlci5wcm90b3R5cGUuX3NsaWNlID0gdXRpbC5CdWZmZXIucHJvdG90eXBlLnNsaWNlO1xufTtcblxuXG4vKipcbiAqIEBvdmVycmlkZVxuICovXG5CdWZmZXJSZWFkZXIucHJvdG90eXBlLnN0cmluZyA9IGZ1bmN0aW9uIHJlYWRfc3RyaW5nX2J1ZmZlcigpIHtcbiAgICB2YXIgbGVuID0gdGhpcy51aW50MzIoKTsgLy8gbW9kaWZpZXMgcG9zXG4gICAgcmV0dXJuIHRoaXMuYnVmLnV0ZjhTbGljZVxuICAgICAgICA/IHRoaXMuYnVmLnV0ZjhTbGljZSh0aGlzLnBvcywgdGhpcy5wb3MgPSBNYXRoLm1pbih0aGlzLnBvcyArIGxlbiwgdGhpcy5sZW4pKVxuICAgICAgICA6IHRoaXMuYnVmLnRvU3RyaW5nKFwidXRmLThcIiwgdGhpcy5wb3MsIHRoaXMucG9zID0gTWF0aC5taW4odGhpcy5wb3MgKyBsZW4sIHRoaXMubGVuKSk7XG59O1xuXG4vKipcbiAqIFJlYWRzIGEgc2VxdWVuY2Ugb2YgYnl0ZXMgcHJlY2VlZGVkIGJ5IGl0cyBsZW5ndGggYXMgYSB2YXJpbnQuXG4gKiBAbmFtZSBCdWZmZXJSZWFkZXIjYnl0ZXNcbiAqIEBmdW5jdGlvblxuICogQHJldHVybnMge0J1ZmZlcn0gVmFsdWUgcmVhZFxuICovXG5cbkJ1ZmZlclJlYWRlci5fY29uZmlndXJlKCk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbm1vZHVsZS5leHBvcnRzID0gU2VydmljZTtcblxudmFyIHV0aWwgPSByZXF1aXJlKFwiLi4vdXRpbC9taW5pbWFsXCIpO1xuXG4vLyBFeHRlbmRzIEV2ZW50RW1pdHRlclxuKFNlcnZpY2UucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSh1dGlsLkV2ZW50RW1pdHRlci5wcm90b3R5cGUpKS5jb25zdHJ1Y3RvciA9IFNlcnZpY2U7XG5cbi8qKlxuICogQSBzZXJ2aWNlIG1ldGhvZCBjYWxsYmFjayBhcyB1c2VkIGJ5IHtAbGluayBycGMuU2VydmljZU1ldGhvZHxTZXJ2aWNlTWV0aG9kfS5cbiAqXG4gKiBEaWZmZXJzIGZyb20ge0BsaW5rIFJQQ0ltcGxDYWxsYmFja30gaW4gdGhhdCBpdCBpcyBhbiBhY3R1YWwgY2FsbGJhY2sgb2YgYSBzZXJ2aWNlIG1ldGhvZCB3aGljaCBtYXkgbm90IHJldHVybiBgcmVzcG9uc2UgPSBudWxsYC5cbiAqIEB0eXBlZGVmIHJwYy5TZXJ2aWNlTWV0aG9kQ2FsbGJhY2tcbiAqIEB0ZW1wbGF0ZSBUUmVzIGV4dGVuZHMgTWVzc2FnZTxUUmVzPlxuICogQHR5cGUge2Z1bmN0aW9ufVxuICogQHBhcmFtIHtFcnJvcnxudWxsfSBlcnJvciBFcnJvciwgaWYgYW55XG4gKiBAcGFyYW0ge1RSZXN9IFtyZXNwb25zZV0gUmVzcG9uc2UgbWVzc2FnZVxuICogQHJldHVybnMge3VuZGVmaW5lZH1cbiAqL1xuXG4vKipcbiAqIEEgc2VydmljZSBtZXRob2QgcGFydCBvZiBhIHtAbGluayBycGMuU2VydmljZX0gYXMgY3JlYXRlZCBieSB7QGxpbmsgU2VydmljZS5jcmVhdGV9LlxuICogQHR5cGVkZWYgcnBjLlNlcnZpY2VNZXRob2RcbiAqIEB0ZW1wbGF0ZSBUUmVxIGV4dGVuZHMgTWVzc2FnZTxUUmVxPlxuICogQHRlbXBsYXRlIFRSZXMgZXh0ZW5kcyBNZXNzYWdlPFRSZXM+XG4gKiBAdHlwZSB7ZnVuY3Rpb259XG4gKiBAcGFyYW0ge1RSZXF8UHJvcGVydGllczxUUmVxPn0gcmVxdWVzdCBSZXF1ZXN0IG1lc3NhZ2Ugb3IgcGxhaW4gb2JqZWN0XG4gKiBAcGFyYW0ge3JwYy5TZXJ2aWNlTWV0aG9kQ2FsbGJhY2s8VFJlcz59IFtjYWxsYmFja10gTm9kZS1zdHlsZSBjYWxsYmFjayBjYWxsZWQgd2l0aCB0aGUgZXJyb3IsIGlmIGFueSwgYW5kIHRoZSByZXNwb25zZSBtZXNzYWdlXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxNZXNzYWdlPFRSZXM+Pn0gUHJvbWlzZSBpZiBgY2FsbGJhY2tgIGhhcyBiZWVuIG9taXR0ZWQsIG90aGVyd2lzZSBgdW5kZWZpbmVkYFxuICovXG5cbi8qKlxuICogQ29uc3RydWN0cyBhIG5ldyBSUEMgc2VydmljZSBpbnN0YW5jZS5cbiAqIEBjbGFzc2Rlc2MgQW4gUlBDIHNlcnZpY2UgYXMgcmV0dXJuZWQgYnkge0BsaW5rIFNlcnZpY2UjY3JlYXRlfS5cbiAqIEBleHBvcnRzIHJwYy5TZXJ2aWNlXG4gKiBAZXh0ZW5kcyB1dGlsLkV2ZW50RW1pdHRlclxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge1JQQ0ltcGx9IHJwY0ltcGwgUlBDIGltcGxlbWVudGF0aW9uXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtyZXF1ZXN0RGVsaW1pdGVkPWZhbHNlXSBXaGV0aGVyIHJlcXVlc3RzIGFyZSBsZW5ndGgtZGVsaW1pdGVkXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtyZXNwb25zZURlbGltaXRlZD1mYWxzZV0gV2hldGhlciByZXNwb25zZXMgYXJlIGxlbmd0aC1kZWxpbWl0ZWRcbiAqL1xuZnVuY3Rpb24gU2VydmljZShycGNJbXBsLCByZXF1ZXN0RGVsaW1pdGVkLCByZXNwb25zZURlbGltaXRlZCkge1xuXG4gICAgaWYgKHR5cGVvZiBycGNJbXBsICE9PSBcImZ1bmN0aW9uXCIpXG4gICAgICAgIHRocm93IFR5cGVFcnJvcihcInJwY0ltcGwgbXVzdCBiZSBhIGZ1bmN0aW9uXCIpO1xuXG4gICAgdXRpbC5FdmVudEVtaXR0ZXIuY2FsbCh0aGlzKTtcblxuICAgIC8qKlxuICAgICAqIFJQQyBpbXBsZW1lbnRhdGlvbi4gQmVjb21lcyBgbnVsbGAgb25jZSB0aGUgc2VydmljZSBpcyBlbmRlZC5cbiAgICAgKiBAdHlwZSB7UlBDSW1wbHxudWxsfVxuICAgICAqL1xuICAgIHRoaXMucnBjSW1wbCA9IHJwY0ltcGw7XG5cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHJlcXVlc3RzIGFyZSBsZW5ndGgtZGVsaW1pdGVkLlxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMucmVxdWVzdERlbGltaXRlZCA9IEJvb2xlYW4ocmVxdWVzdERlbGltaXRlZCk7XG5cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHJlc3BvbnNlcyBhcmUgbGVuZ3RoLWRlbGltaXRlZC5cbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLnJlc3BvbnNlRGVsaW1pdGVkID0gQm9vbGVhbihyZXNwb25zZURlbGltaXRlZCk7XG59XG5cbi8qKlxuICogQ2FsbHMgYSBzZXJ2aWNlIG1ldGhvZCB0aHJvdWdoIHtAbGluayBycGMuU2VydmljZSNycGNJbXBsfHJwY0ltcGx9LlxuICogQHBhcmFtIHtNZXRob2R8cnBjLlNlcnZpY2VNZXRob2Q8VFJlcSxUUmVzPn0gbWV0aG9kIFJlZmxlY3RlZCBvciBzdGF0aWMgbWV0aG9kXG4gKiBAcGFyYW0ge0NvbnN0cnVjdG9yPFRSZXE+fSByZXF1ZXN0Q3RvciBSZXF1ZXN0IGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0NvbnN0cnVjdG9yPFRSZXM+fSByZXNwb25zZUN0b3IgUmVzcG9uc2UgY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7VFJlcXxQcm9wZXJ0aWVzPFRSZXE+fSByZXF1ZXN0IFJlcXVlc3QgbWVzc2FnZSBvciBwbGFpbiBvYmplY3RcbiAqIEBwYXJhbSB7cnBjLlNlcnZpY2VNZXRob2RDYWxsYmFjazxUUmVzPn0gY2FsbGJhY2sgU2VydmljZSBjYWxsYmFja1xuICogQHJldHVybnMge3VuZGVmaW5lZH1cbiAqIEB0ZW1wbGF0ZSBUUmVxIGV4dGVuZHMgTWVzc2FnZTxUUmVxPlxuICogQHRlbXBsYXRlIFRSZXMgZXh0ZW5kcyBNZXNzYWdlPFRSZXM+XG4gKi9cblNlcnZpY2UucHJvdG90eXBlLnJwY0NhbGwgPSBmdW5jdGlvbiBycGNDYWxsKG1ldGhvZCwgcmVxdWVzdEN0b3IsIHJlc3BvbnNlQ3RvciwgcmVxdWVzdCwgY2FsbGJhY2spIHtcblxuICAgIGlmICghcmVxdWVzdClcbiAgICAgICAgdGhyb3cgVHlwZUVycm9yKFwicmVxdWVzdCBtdXN0IGJlIHNwZWNpZmllZFwiKTtcblxuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBpZiAoIWNhbGxiYWNrKVxuICAgICAgICByZXR1cm4gdXRpbC5hc1Byb21pc2UocnBjQ2FsbCwgc2VsZiwgbWV0aG9kLCByZXF1ZXN0Q3RvciwgcmVzcG9uc2VDdG9yLCByZXF1ZXN0KTtcblxuICAgIGlmICghc2VsZi5ycGNJbXBsKSB7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7IGNhbGxiYWNrKEVycm9yKFwiYWxyZWFkeSBlbmRlZFwiKSk7IH0sIDApO1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBzZWxmLnJwY0ltcGwoXG4gICAgICAgICAgICBtZXRob2QsXG4gICAgICAgICAgICByZXF1ZXN0Q3RvcltzZWxmLnJlcXVlc3REZWxpbWl0ZWQgPyBcImVuY29kZURlbGltaXRlZFwiIDogXCJlbmNvZGVcIl0ocmVxdWVzdCkuZmluaXNoKCksXG4gICAgICAgICAgICBmdW5jdGlvbiBycGNDYWxsYmFjayhlcnIsIHJlc3BvbnNlKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuZW1pdChcImVycm9yXCIsIGVyciwgbWV0aG9kKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycik7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuZW5kKC8qIGVuZGVkQnlSUEMgKi8gdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKCEocmVzcG9uc2UgaW5zdGFuY2VvZiByZXNwb25zZUN0b3IpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZSA9IHJlc3BvbnNlQ3RvcltzZWxmLnJlc3BvbnNlRGVsaW1pdGVkID8gXCJkZWNvZGVEZWxpbWl0ZWRcIiA6IFwiZGVjb2RlXCJdKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmVtaXQoXCJlcnJvclwiLCBlcnIsIG1ldGhvZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2FsbGJhY2soZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHNlbGYuZW1pdChcImRhdGFcIiwgcmVzcG9uc2UsIG1ldGhvZCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKG51bGwsIHJlc3BvbnNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgc2VsZi5lbWl0KFwiZXJyb3JcIiwgZXJyLCBtZXRob2QpO1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgeyBjYWxsYmFjayhlcnIpOyB9LCAwKTtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG59O1xuXG4vKipcbiAqIEVuZHMgdGhpcyBzZXJ2aWNlIGFuZCBlbWl0cyB0aGUgYGVuZGAgZXZlbnQuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtlbmRlZEJ5UlBDPWZhbHNlXSBXaGV0aGVyIHRoZSBzZXJ2aWNlIGhhcyBiZWVuIGVuZGVkIGJ5IHRoZSBSUEMgaW1wbGVtZW50YXRpb24uXG4gKiBAcmV0dXJucyB7cnBjLlNlcnZpY2V9IGB0aGlzYFxuICovXG5TZXJ2aWNlLnByb3RvdHlwZS5lbmQgPSBmdW5jdGlvbiBlbmQoZW5kZWRCeVJQQykge1xuICAgIGlmICh0aGlzLnJwY0ltcGwpIHtcbiAgICAgICAgaWYgKCFlbmRlZEJ5UlBDKSAvLyBzaWduYWwgZW5kIHRvIHJwY0ltcGxcbiAgICAgICAgICAgIHRoaXMucnBjSW1wbChudWxsLCBudWxsLCBudWxsKTtcbiAgICAgICAgdGhpcy5ycGNJbXBsID0gbnVsbDtcbiAgICAgICAgdGhpcy5lbWl0KFwiZW5kXCIpLm9mZigpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbn07XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBTdHJlYW1pbmcgUlBDIGhlbHBlcnMuXG4gKiBAbmFtZXNwYWNlXG4gKi9cbnZhciBycGMgPSBleHBvcnRzO1xuXG4vKipcbiAqIFJQQyBpbXBsZW1lbnRhdGlvbiBwYXNzZWQgdG8ge0BsaW5rIFNlcnZpY2UjY3JlYXRlfSBwZXJmb3JtaW5nIGEgc2VydmljZSByZXF1ZXN0IG9uIG5ldHdvcmsgbGV2ZWwsIGkuZS4gYnkgdXRpbGl6aW5nIGh0dHAgcmVxdWVzdHMgb3Igd2Vic29ja2V0cy5cbiAqIEB0eXBlZGVmIFJQQ0ltcGxcbiAqIEB0eXBlIHtmdW5jdGlvbn1cbiAqIEBwYXJhbSB7TWV0aG9kfHJwYy5TZXJ2aWNlTWV0aG9kPE1lc3NhZ2U8e30+LE1lc3NhZ2U8e30+Pn0gbWV0aG9kIFJlZmxlY3RlZCBvciBzdGF0aWMgbWV0aG9kIGJlaW5nIGNhbGxlZFxuICogQHBhcmFtIHtVaW50OEFycmF5fSByZXF1ZXN0RGF0YSBSZXF1ZXN0IGRhdGFcbiAqIEBwYXJhbSB7UlBDSW1wbENhbGxiYWNrfSBjYWxsYmFjayBDYWxsYmFjayBmdW5jdGlvblxuICogQHJldHVybnMge3VuZGVmaW5lZH1cbiAqIEBleGFtcGxlXG4gKiBmdW5jdGlvbiBycGNJbXBsKG1ldGhvZCwgcmVxdWVzdERhdGEsIGNhbGxiYWNrKSB7XG4gKiAgICAgaWYgKHByb3RvYnVmLnV0aWwubGNGaXJzdChtZXRob2QubmFtZSkgIT09IFwibXlNZXRob2RcIikgLy8gY29tcGF0aWJsZSB3aXRoIHN0YXRpYyBjb2RlXG4gKiAgICAgICAgIHRocm93IEVycm9yKFwibm8gc3VjaCBtZXRob2RcIik7XG4gKiAgICAgYXN5bmNocm9ub3VzbHlPYnRhaW5BUmVzcG9uc2UocmVxdWVzdERhdGEsIGZ1bmN0aW9uKGVyciwgcmVzcG9uc2VEYXRhKSB7XG4gKiAgICAgICAgIGNhbGxiYWNrKGVyciwgcmVzcG9uc2VEYXRhKTtcbiAqICAgICB9KTtcbiAqIH1cbiAqL1xuXG4vKipcbiAqIE5vZGUtc3R5bGUgY2FsbGJhY2sgYXMgdXNlZCBieSB7QGxpbmsgUlBDSW1wbH0uXG4gKiBAdHlwZWRlZiBSUENJbXBsQ2FsbGJhY2tcbiAqIEB0eXBlIHtmdW5jdGlvbn1cbiAqIEBwYXJhbSB7RXJyb3J8bnVsbH0gZXJyb3IgRXJyb3IsIGlmIGFueSwgb3RoZXJ3aXNlIGBudWxsYFxuICogQHBhcmFtIHtVaW50OEFycmF5fG51bGx9IFtyZXNwb25zZV0gUmVzcG9uc2UgZGF0YSBvciBgbnVsbGAgdG8gc2lnbmFsIGVuZCBvZiBzdHJlYW0sIGlmIHRoZXJlIGhhc24ndCBiZWVuIGFuIGVycm9yXG4gKiBAcmV0dXJucyB7dW5kZWZpbmVkfVxuICovXG5cbnJwYy5TZXJ2aWNlID0gcmVxdWlyZShcIi4vcnBjL3NlcnZpY2VcIik7XG4iLCJcInVzZSBzdHJpY3RcIjtcbm1vZHVsZS5leHBvcnRzID0ge307XG5cbi8qKlxuICogTmFtZWQgcm9vdHMuXG4gKiBUaGlzIGlzIHdoZXJlIHBianMgc3RvcmVzIGdlbmVyYXRlZCBzdHJ1Y3R1cmVzICh0aGUgb3B0aW9uIGAtciwgLS1yb290YCBzcGVjaWZpZXMgYSBuYW1lKS5cbiAqIENhbiBhbHNvIGJlIHVzZWQgbWFudWFsbHkgdG8gbWFrZSByb290cyBhdmFpbGFibGUgYWNyb3NzIG1vZHVsZXMuXG4gKiBAbmFtZSByb290c1xuICogQHR5cGUge09iamVjdC48c3RyaW5nLFJvb3Q+fVxuICogQGV4YW1wbGVcbiAqIC8vIHBianMgLXIgbXlyb290IC1vIGNvbXBpbGVkLmpzIC4uLlxuICpcbiAqIC8vIGluIGFub3RoZXIgbW9kdWxlOlxuICogcmVxdWlyZShcIi4vY29tcGlsZWQuanNcIik7XG4gKlxuICogLy8gaW4gYW55IHN1YnNlcXVlbnQgbW9kdWxlOlxuICogdmFyIHJvb3QgPSBwcm90b2J1Zi5yb290c1tcIm15cm9vdFwiXTtcbiAqL1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgcHJvdG9idWYgPSBleHBvcnRzO1xuXG4vKipcbiAqIEJ1aWxkIHR5cGUsIG9uZSBvZiBgXCJmdWxsXCJgLCBgXCJsaWdodFwiYCBvciBgXCJtaW5pbWFsXCJgLlxuICogQG5hbWUgYnVpbGRcbiAqIEB0eXBlIHtzdHJpbmd9XG4gKiBAY29uc3RcbiAqL1xucHJvdG9idWYuYnVpbGQgPSBcIm1pbmltYWxcIjtcblxuLy8gU2VyaWFsaXphdGlvblxucHJvdG9idWYuV3JpdGVyICAgICAgID0gcmVxdWlyZShcIi4vd3JpdGVyXCIpO1xucHJvdG9idWYuQnVmZmVyV3JpdGVyID0gcmVxdWlyZShcIi4vd3JpdGVyX2J1ZmZlclwiKTtcbnByb3RvYnVmLlJlYWRlciAgICAgICA9IHJlcXVpcmUoXCIuL3JlYWRlclwiKTtcbnByb3RvYnVmLkJ1ZmZlclJlYWRlciA9IHJlcXVpcmUoXCIuL3JlYWRlcl9idWZmZXJcIik7XG5cbi8vIFV0aWxpdHlcbnByb3RvYnVmLnV0aWwgICAgICAgICA9IHJlcXVpcmUoXCIuL3V0aWwvbWluaW1hbFwiKTtcbnByb3RvYnVmLnJwYyAgICAgICAgICA9IHJlcXVpcmUoXCIuL3JwY1wiKTtcbnByb3RvYnVmLnJvb3RzICAgICAgICA9IHJlcXVpcmUoXCIuL3Jvb3RzXCIpO1xucHJvdG9idWYuY29uZmlndXJlICAgID0gY29uZmlndXJlO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuLyoqXG4gKiBSZWNvbmZpZ3VyZXMgdGhlIGxpYnJhcnkgYWNjb3JkaW5nIHRvIHRoZSBlbnZpcm9ubWVudC5cbiAqIEByZXR1cm5zIHt1bmRlZmluZWR9XG4gKi9cbmZ1bmN0aW9uIGNvbmZpZ3VyZSgpIHtcbiAgICBwcm90b2J1Zi51dGlsLl9jb25maWd1cmUoKTtcbiAgICBwcm90b2J1Zi5Xcml0ZXIuX2NvbmZpZ3VyZShwcm90b2J1Zi5CdWZmZXJXcml0ZXIpO1xuICAgIHByb3RvYnVmLlJlYWRlci5fY29uZmlndXJlKHByb3RvYnVmLkJ1ZmZlclJlYWRlcik7XG59XG5cbi8vIFNldCB1cCBidWZmZXIgdXRpbGl0eSBhY2NvcmRpbmcgdG8gdGhlIGVudmlyb25tZW50XG5jb25maWd1cmUoKTtcbiIsIi8vIG1pbmltYWwgbGlicmFyeSBlbnRyeSBwb2ludC5cblxuXCJ1c2Ugc3RyaWN0XCI7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuL3NyYy9pbmRleC1taW5pbWFsXCIpO1xuIiwiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCAqIGFzIF9tMCBmcm9tIFwicHJvdG9idWZqcy9taW5pbWFsXCI7XG5leHBvcnQgY29uc3QgcHJvdG9idWZQYWNrYWdlID0gXCJjb3Ntb3MuYmFzZS52MWJldGExXCI7XG5mdW5jdGlvbiBjcmVhdGVCYXNlQ29pbigpIHtcbiAgICByZXR1cm4geyBkZW5vbTogXCJcIiwgYW1vdW50OiBcIlwiIH07XG59XG5leHBvcnQgY29uc3QgQ29pbiA9IHtcbiAgICBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS5kZW5vbSAhPT0gXCJcIikge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxMCkuc3RyaW5nKG1lc3NhZ2UuZGVub20pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmFtb3VudCAhPT0gXCJcIikge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxOCkuc3RyaW5nKG1lc3NhZ2UuYW1vdW50KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH0sXG4gICAgZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUNvaW4oKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmRlbm9tID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYW1vdW50ID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG4gICAgZnJvbUpTT04ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBkZW5vbTogaXNTZXQob2JqZWN0LmRlbm9tKSA/IFN0cmluZyhvYmplY3QuZGVub20pIDogXCJcIixcbiAgICAgICAgICAgIGFtb3VudDogaXNTZXQob2JqZWN0LmFtb3VudCkgPyBTdHJpbmcob2JqZWN0LmFtb3VudCkgOiBcIlwiLFxuICAgICAgICB9O1xuICAgIH0sXG4gICAgdG9KU09OKG1lc3NhZ2UpIHtcbiAgICAgICAgY29uc3Qgb2JqID0ge307XG4gICAgICAgIG1lc3NhZ2UuZGVub20gIT09IHVuZGVmaW5lZCAmJiAob2JqLmRlbm9tID0gbWVzc2FnZS5kZW5vbSk7XG4gICAgICAgIG1lc3NhZ2UuYW1vdW50ICE9PSB1bmRlZmluZWQgJiYgKG9iai5hbW91bnQgPSBtZXNzYWdlLmFtb3VudCk7XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfSxcbiAgICBmcm9tUGFydGlhbChvYmplY3QpIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VDb2luKCk7XG4gICAgICAgIG1lc3NhZ2UuZGVub20gPSBvYmplY3QuZGVub20gPz8gXCJcIjtcbiAgICAgICAgbWVzc2FnZS5hbW91bnQgPSBvYmplY3QuYW1vdW50ID8/IFwiXCI7XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG59O1xuZnVuY3Rpb24gY3JlYXRlQmFzZURlY0NvaW4oKSB7XG4gICAgcmV0dXJuIHsgZGVub206IFwiXCIsIGFtb3VudDogXCJcIiB9O1xufVxuZXhwb3J0IGNvbnN0IERlY0NvaW4gPSB7XG4gICAgZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UuZGVub20gIT09IFwiXCIpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTApLnN0cmluZyhtZXNzYWdlLmRlbm9tKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5hbW91bnQgIT09IFwiXCIpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTgpLnN0cmluZyhtZXNzYWdlLmFtb3VudCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9LFxuICAgIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VEZWNDb2luKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5kZW5vbSA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmFtb3VudCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9LFxuICAgIGZyb21KU09OKG9iamVjdCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZGVub206IGlzU2V0KG9iamVjdC5kZW5vbSkgPyBTdHJpbmcob2JqZWN0LmRlbm9tKSA6IFwiXCIsXG4gICAgICAgICAgICBhbW91bnQ6IGlzU2V0KG9iamVjdC5hbW91bnQpID8gU3RyaW5nKG9iamVjdC5hbW91bnQpIDogXCJcIixcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIHRvSlNPTihtZXNzYWdlKSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgICAgICBtZXNzYWdlLmRlbm9tICE9PSB1bmRlZmluZWQgJiYgKG9iai5kZW5vbSA9IG1lc3NhZ2UuZGVub20pO1xuICAgICAgICBtZXNzYWdlLmFtb3VudCAhPT0gdW5kZWZpbmVkICYmIChvYmouYW1vdW50ID0gbWVzc2FnZS5hbW91bnQpO1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH0sXG4gICAgZnJvbVBhcnRpYWwob2JqZWN0KSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlRGVjQ29pbigpO1xuICAgICAgICBtZXNzYWdlLmRlbm9tID0gb2JqZWN0LmRlbm9tID8/IFwiXCI7XG4gICAgICAgIG1lc3NhZ2UuYW1vdW50ID0gb2JqZWN0LmFtb3VudCA/PyBcIlwiO1xuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9LFxufTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VJbnRQcm90bygpIHtcbiAgICByZXR1cm4geyBpbnQ6IFwiXCIgfTtcbn1cbmV4cG9ydCBjb25zdCBJbnRQcm90byA9IHtcbiAgICBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS5pbnQgIT09IFwiXCIpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTApLnN0cmluZyhtZXNzYWdlLmludCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9LFxuICAgIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VJbnRQcm90bygpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuaW50ID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG4gICAgZnJvbUpTT04ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpbnQ6IGlzU2V0KG9iamVjdC5pbnQpID8gU3RyaW5nKG9iamVjdC5pbnQpIDogXCJcIixcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIHRvSlNPTihtZXNzYWdlKSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgICAgICBtZXNzYWdlLmludCAhPT0gdW5kZWZpbmVkICYmIChvYmouaW50ID0gbWVzc2FnZS5pbnQpO1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH0sXG4gICAgZnJvbVBhcnRpYWwob2JqZWN0KSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlSW50UHJvdG8oKTtcbiAgICAgICAgbWVzc2FnZS5pbnQgPSBvYmplY3QuaW50ID8/IFwiXCI7XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG59O1xuZnVuY3Rpb24gY3JlYXRlQmFzZURlY1Byb3RvKCkge1xuICAgIHJldHVybiB7IGRlYzogXCJcIiB9O1xufVxuZXhwb3J0IGNvbnN0IERlY1Byb3RvID0ge1xuICAgIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLmRlYyAhPT0gXCJcIikge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxMCkuc3RyaW5nKG1lc3NhZ2UuZGVjKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH0sXG4gICAgZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZURlY1Byb3RvKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5kZWMgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfSxcbiAgICBmcm9tSlNPTihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGRlYzogaXNTZXQob2JqZWN0LmRlYykgPyBTdHJpbmcob2JqZWN0LmRlYykgOiBcIlwiLFxuICAgICAgICB9O1xuICAgIH0sXG4gICAgdG9KU09OKG1lc3NhZ2UpIHtcbiAgICAgICAgY29uc3Qgb2JqID0ge307XG4gICAgICAgIG1lc3NhZ2UuZGVjICE9PSB1bmRlZmluZWQgJiYgKG9iai5kZWMgPSBtZXNzYWdlLmRlYyk7XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfSxcbiAgICBmcm9tUGFydGlhbChvYmplY3QpIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VEZWNQcm90bygpO1xuICAgICAgICBtZXNzYWdlLmRlYyA9IG9iamVjdC5kZWMgPz8gXCJcIjtcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfSxcbn07XG5mdW5jdGlvbiBpc1NldCh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gdW5kZWZpbmVkO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29pbi5qcy5tYXAiLCJtb2R1bGUuZXhwb3J0cyA9IExvbmc7XHJcblxyXG4vKipcclxuICogd2FzbSBvcHRpbWl6YXRpb25zLCB0byBkbyBuYXRpdmUgaTY0IG11bHRpcGxpY2F0aW9uIGFuZCBkaXZpZGVcclxuICovXHJcbnZhciB3YXNtID0gbnVsbDtcclxuXHJcbnRyeSB7XHJcbiAgd2FzbSA9IG5ldyBXZWJBc3NlbWJseS5JbnN0YW5jZShuZXcgV2ViQXNzZW1ibHkuTW9kdWxlKG5ldyBVaW50OEFycmF5KFtcclxuICAgIDAsIDk3LCAxMTUsIDEwOSwgMSwgMCwgMCwgMCwgMSwgMTMsIDIsIDk2LCAwLCAxLCAxMjcsIDk2LCA0LCAxMjcsIDEyNywgMTI3LCAxMjcsIDEsIDEyNywgMywgNywgNiwgMCwgMSwgMSwgMSwgMSwgMSwgNiwgNiwgMSwgMTI3LCAxLCA2NSwgMCwgMTEsIDcsIDUwLCA2LCAzLCAxMDksIDExNywgMTA4LCAwLCAxLCA1LCAxMDAsIDEwNSwgMTE4LCA5NSwgMTE1LCAwLCAyLCA1LCAxMDAsIDEwNSwgMTE4LCA5NSwgMTE3LCAwLCAzLCA1LCAxMTQsIDEwMSwgMTA5LCA5NSwgMTE1LCAwLCA0LCA1LCAxMTQsIDEwMSwgMTA5LCA5NSwgMTE3LCAwLCA1LCA4LCAxMDMsIDEwMSwgMTE2LCA5NSwgMTA0LCAxMDUsIDEwMywgMTA0LCAwLCAwLCAxMCwgMTkxLCAxLCA2LCA0LCAwLCAzNSwgMCwgMTEsIDM2LCAxLCAxLCAxMjYsIDMyLCAwLCAxNzMsIDMyLCAxLCAxNzMsIDY2LCAzMiwgMTM0LCAxMzIsIDMyLCAyLCAxNzMsIDMyLCAzLCAxNzMsIDY2LCAzMiwgMTM0LCAxMzIsIDEyNiwgMzQsIDQsIDY2LCAzMiwgMTM1LCAxNjcsIDM2LCAwLCAzMiwgNCwgMTY3LCAxMSwgMzYsIDEsIDEsIDEyNiwgMzIsIDAsIDE3MywgMzIsIDEsIDE3MywgNjYsIDMyLCAxMzQsIDEzMiwgMzIsIDIsIDE3MywgMzIsIDMsIDE3MywgNjYsIDMyLCAxMzQsIDEzMiwgMTI3LCAzNCwgNCwgNjYsIDMyLCAxMzUsIDE2NywgMzYsIDAsIDMyLCA0LCAxNjcsIDExLCAzNiwgMSwgMSwgMTI2LCAzMiwgMCwgMTczLCAzMiwgMSwgMTczLCA2NiwgMzIsIDEzNCwgMTMyLCAzMiwgMiwgMTczLCAzMiwgMywgMTczLCA2NiwgMzIsIDEzNCwgMTMyLCAxMjgsIDM0LCA0LCA2NiwgMzIsIDEzNSwgMTY3LCAzNiwgMCwgMzIsIDQsIDE2NywgMTEsIDM2LCAxLCAxLCAxMjYsIDMyLCAwLCAxNzMsIDMyLCAxLCAxNzMsIDY2LCAzMiwgMTM0LCAxMzIsIDMyLCAyLCAxNzMsIDMyLCAzLCAxNzMsIDY2LCAzMiwgMTM0LCAxMzIsIDEyOSwgMzQsIDQsIDY2LCAzMiwgMTM1LCAxNjcsIDM2LCAwLCAzMiwgNCwgMTY3LCAxMSwgMzYsIDEsIDEsIDEyNiwgMzIsIDAsIDE3MywgMzIsIDEsIDE3MywgNjYsIDMyLCAxMzQsIDEzMiwgMzIsIDIsIDE3MywgMzIsIDMsIDE3MywgNjYsIDMyLCAxMzQsIDEzMiwgMTMwLCAzNCwgNCwgNjYsIDMyLCAxMzUsIDE2NywgMzYsIDAsIDMyLCA0LCAxNjcsIDExXHJcbiAgXSkpLCB7fSkuZXhwb3J0cztcclxufSBjYXRjaCAoZSkge1xyXG4gIC8vIG5vIHdhc20gc3VwcG9ydCA6KFxyXG59XHJcblxyXG4vKipcclxuICogQ29uc3RydWN0cyBhIDY0IGJpdCB0d28ncy1jb21wbGVtZW50IGludGVnZXIsIGdpdmVuIGl0cyBsb3cgYW5kIGhpZ2ggMzIgYml0IHZhbHVlcyBhcyAqc2lnbmVkKiBpbnRlZ2Vycy5cclxuICogIFNlZSB0aGUgZnJvbSogZnVuY3Rpb25zIGJlbG93IGZvciBtb3JlIGNvbnZlbmllbnQgd2F5cyBvZiBjb25zdHJ1Y3RpbmcgTG9uZ3MuXHJcbiAqIEBleHBvcnRzIExvbmdcclxuICogQGNsYXNzIEEgTG9uZyBjbGFzcyBmb3IgcmVwcmVzZW50aW5nIGEgNjQgYml0IHR3bydzLWNvbXBsZW1lbnQgaW50ZWdlciB2YWx1ZS5cclxuICogQHBhcmFtIHtudW1iZXJ9IGxvdyBUaGUgbG93IChzaWduZWQpIDMyIGJpdHMgb2YgdGhlIGxvbmdcclxuICogQHBhcmFtIHtudW1iZXJ9IGhpZ2ggVGhlIGhpZ2ggKHNpZ25lZCkgMzIgYml0cyBvZiB0aGUgbG9uZ1xyXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSB1bnNpZ25lZCBXaGV0aGVyIHVuc2lnbmVkIG9yIG5vdCwgZGVmYXVsdHMgdG8gc2lnbmVkXHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKi9cclxuZnVuY3Rpb24gTG9uZyhsb3csIGhpZ2gsIHVuc2lnbmVkKSB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgbG93IDMyIGJpdHMgYXMgYSBzaWduZWQgdmFsdWUuXHJcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxyXG4gICAgICovXHJcbiAgICB0aGlzLmxvdyA9IGxvdyB8IDA7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgaGlnaCAzMiBiaXRzIGFzIGEgc2lnbmVkIHZhbHVlLlxyXG4gICAgICogQHR5cGUge251bWJlcn1cclxuICAgICAqL1xyXG4gICAgdGhpcy5oaWdoID0gaGlnaCB8IDA7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBXaGV0aGVyIHVuc2lnbmVkIG9yIG5vdC5cclxuICAgICAqIEB0eXBlIHtib29sZWFufVxyXG4gICAgICovXHJcbiAgICB0aGlzLnVuc2lnbmVkID0gISF1bnNpZ25lZDtcclxufVxyXG5cclxuLy8gVGhlIGludGVybmFsIHJlcHJlc2VudGF0aW9uIG9mIGEgbG9uZyBpcyB0aGUgdHdvIGdpdmVuIHNpZ25lZCwgMzItYml0IHZhbHVlcy5cclxuLy8gV2UgdXNlIDMyLWJpdCBwaWVjZXMgYmVjYXVzZSB0aGVzZSBhcmUgdGhlIHNpemUgb2YgaW50ZWdlcnMgb24gd2hpY2hcclxuLy8gSmF2YXNjcmlwdCBwZXJmb3JtcyBiaXQtb3BlcmF0aW9ucy4gIEZvciBvcGVyYXRpb25zIGxpa2UgYWRkaXRpb24gYW5kXHJcbi8vIG11bHRpcGxpY2F0aW9uLCB3ZSBzcGxpdCBlYWNoIG51bWJlciBpbnRvIDE2IGJpdCBwaWVjZXMsIHdoaWNoIGNhbiBlYXNpbHkgYmVcclxuLy8gbXVsdGlwbGllZCB3aXRoaW4gSmF2YXNjcmlwdCdzIGZsb2F0aW5nLXBvaW50IHJlcHJlc2VudGF0aW9uIHdpdGhvdXQgb3ZlcmZsb3dcclxuLy8gb3IgY2hhbmdlIGluIHNpZ24uXHJcbi8vXHJcbi8vIEluIHRoZSBhbGdvcml0aG1zIGJlbG93LCB3ZSBmcmVxdWVudGx5IHJlZHVjZSB0aGUgbmVnYXRpdmUgY2FzZSB0byB0aGVcclxuLy8gcG9zaXRpdmUgY2FzZSBieSBuZWdhdGluZyB0aGUgaW5wdXQocykgYW5kIHRoZW4gcG9zdC1wcm9jZXNzaW5nIHRoZSByZXN1bHQuXHJcbi8vIE5vdGUgdGhhdCB3ZSBtdXN0IEFMV0FZUyBjaGVjayBzcGVjaWFsbHkgd2hldGhlciB0aG9zZSB2YWx1ZXMgYXJlIE1JTl9WQUxVRVxyXG4vLyAoLTJeNjMpIGJlY2F1c2UgLU1JTl9WQUxVRSA9PSBNSU5fVkFMVUUgKHNpbmNlIDJeNjMgY2Fubm90IGJlIHJlcHJlc2VudGVkIGFzXHJcbi8vIGEgcG9zaXRpdmUgbnVtYmVyLCBpdCBvdmVyZmxvd3MgYmFjayBpbnRvIGEgbmVnYXRpdmUpLiAgTm90IGhhbmRsaW5nIHRoaXNcclxuLy8gY2FzZSB3b3VsZCBvZnRlbiByZXN1bHQgaW4gaW5maW5pdGUgcmVjdXJzaW9uLlxyXG4vL1xyXG4vLyBDb21tb24gY29uc3RhbnQgdmFsdWVzIFpFUk8sIE9ORSwgTkVHX09ORSwgZXRjLiBhcmUgZGVmaW5lZCBiZWxvdyB0aGUgZnJvbSpcclxuLy8gbWV0aG9kcyBvbiB3aGljaCB0aGV5IGRlcGVuZC5cclxuXHJcbi8qKlxyXG4gKiBBbiBpbmRpY2F0b3IgdXNlZCB0byByZWxpYWJseSBkZXRlcm1pbmUgaWYgYW4gb2JqZWN0IGlzIGEgTG9uZyBvciBub3QuXHJcbiAqIEB0eXBlIHtib29sZWFufVxyXG4gKiBAY29uc3RcclxuICogQHByaXZhdGVcclxuICovXHJcbkxvbmcucHJvdG90eXBlLl9faXNMb25nX187XHJcblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoTG9uZy5wcm90b3R5cGUsIFwiX19pc0xvbmdfX1wiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvblxyXG4gKiBAcGFyYW0geyp9IG9iaiBPYmplY3RcclxuICogQHJldHVybnMge2Jvb2xlYW59XHJcbiAqIEBpbm5lclxyXG4gKi9cclxuZnVuY3Rpb24gaXNMb25nKG9iaikge1xyXG4gICAgcmV0dXJuIChvYmogJiYgb2JqW1wiX19pc0xvbmdfX1wiXSkgPT09IHRydWU7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUZXN0cyBpZiB0aGUgc3BlY2lmaWVkIG9iamVjdCBpcyBhIExvbmcuXHJcbiAqIEBmdW5jdGlvblxyXG4gKiBAcGFyYW0geyp9IG9iaiBPYmplY3RcclxuICogQHJldHVybnMge2Jvb2xlYW59XHJcbiAqL1xyXG5Mb25nLmlzTG9uZyA9IGlzTG9uZztcclxuXHJcbi8qKlxyXG4gKiBBIGNhY2hlIG9mIHRoZSBMb25nIHJlcHJlc2VudGF0aW9ucyBvZiBzbWFsbCBpbnRlZ2VyIHZhbHVlcy5cclxuICogQHR5cGUgeyFPYmplY3R9XHJcbiAqIEBpbm5lclxyXG4gKi9cclxudmFyIElOVF9DQUNIRSA9IHt9O1xyXG5cclxuLyoqXHJcbiAqIEEgY2FjaGUgb2YgdGhlIExvbmcgcmVwcmVzZW50YXRpb25zIG9mIHNtYWxsIHVuc2lnbmVkIGludGVnZXIgdmFsdWVzLlxyXG4gKiBAdHlwZSB7IU9iamVjdH1cclxuICogQGlubmVyXHJcbiAqL1xyXG52YXIgVUlOVF9DQUNIRSA9IHt9O1xyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZVxyXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSB1bnNpZ25lZFxyXG4gKiBAcmV0dXJucyB7IUxvbmd9XHJcbiAqIEBpbm5lclxyXG4gKi9cclxuZnVuY3Rpb24gZnJvbUludCh2YWx1ZSwgdW5zaWduZWQpIHtcclxuICAgIHZhciBvYmosIGNhY2hlZE9iaiwgY2FjaGU7XHJcbiAgICBpZiAodW5zaWduZWQpIHtcclxuICAgICAgICB2YWx1ZSA+Pj49IDA7XHJcbiAgICAgICAgaWYgKGNhY2hlID0gKDAgPD0gdmFsdWUgJiYgdmFsdWUgPCAyNTYpKSB7XHJcbiAgICAgICAgICAgIGNhY2hlZE9iaiA9IFVJTlRfQ0FDSEVbdmFsdWVdO1xyXG4gICAgICAgICAgICBpZiAoY2FjaGVkT2JqKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhY2hlZE9iajtcclxuICAgICAgICB9XHJcbiAgICAgICAgb2JqID0gZnJvbUJpdHModmFsdWUsICh2YWx1ZSB8IDApIDwgMCA/IC0xIDogMCwgdHJ1ZSk7XHJcbiAgICAgICAgaWYgKGNhY2hlKVxyXG4gICAgICAgICAgICBVSU5UX0NBQ0hFW3ZhbHVlXSA9IG9iajtcclxuICAgICAgICByZXR1cm4gb2JqO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICB2YWx1ZSB8PSAwO1xyXG4gICAgICAgIGlmIChjYWNoZSA9ICgtMTI4IDw9IHZhbHVlICYmIHZhbHVlIDwgMTI4KSkge1xyXG4gICAgICAgICAgICBjYWNoZWRPYmogPSBJTlRfQ0FDSEVbdmFsdWVdO1xyXG4gICAgICAgICAgICBpZiAoY2FjaGVkT2JqKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhY2hlZE9iajtcclxuICAgICAgICB9XHJcbiAgICAgICAgb2JqID0gZnJvbUJpdHModmFsdWUsIHZhbHVlIDwgMCA/IC0xIDogMCwgZmFsc2UpO1xyXG4gICAgICAgIGlmIChjYWNoZSlcclxuICAgICAgICAgICAgSU5UX0NBQ0hFW3ZhbHVlXSA9IG9iajtcclxuICAgICAgICByZXR1cm4gb2JqO1xyXG4gICAgfVxyXG59XHJcblxyXG4vKipcclxuICogUmV0dXJucyBhIExvbmcgcmVwcmVzZW50aW5nIHRoZSBnaXZlbiAzMiBiaXQgaW50ZWdlciB2YWx1ZS5cclxuICogQGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSBUaGUgMzIgYml0IGludGVnZXIgaW4gcXVlc3Rpb25cclxuICogQHBhcmFtIHtib29sZWFuPX0gdW5zaWduZWQgV2hldGhlciB1bnNpZ25lZCBvciBub3QsIGRlZmF1bHRzIHRvIHNpZ25lZFxyXG4gKiBAcmV0dXJucyB7IUxvbmd9IFRoZSBjb3JyZXNwb25kaW5nIExvbmcgdmFsdWVcclxuICovXHJcbkxvbmcuZnJvbUludCA9IGZyb21JbnQ7XHJcblxyXG4vKipcclxuICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlXHJcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IHVuc2lnbmVkXHJcbiAqIEByZXR1cm5zIHshTG9uZ31cclxuICogQGlubmVyXHJcbiAqL1xyXG5mdW5jdGlvbiBmcm9tTnVtYmVyKHZhbHVlLCB1bnNpZ25lZCkge1xyXG4gICAgaWYgKGlzTmFOKHZhbHVlKSlcclxuICAgICAgICByZXR1cm4gdW5zaWduZWQgPyBVWkVSTyA6IFpFUk87XHJcbiAgICBpZiAodW5zaWduZWQpIHtcclxuICAgICAgICBpZiAodmFsdWUgPCAwKVxyXG4gICAgICAgICAgICByZXR1cm4gVVpFUk87XHJcbiAgICAgICAgaWYgKHZhbHVlID49IFRXT19QV1JfNjRfREJMKVxyXG4gICAgICAgICAgICByZXR1cm4gTUFYX1VOU0lHTkVEX1ZBTFVFO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBpZiAodmFsdWUgPD0gLVRXT19QV1JfNjNfREJMKVxyXG4gICAgICAgICAgICByZXR1cm4gTUlOX1ZBTFVFO1xyXG4gICAgICAgIGlmICh2YWx1ZSArIDEgPj0gVFdPX1BXUl82M19EQkwpXHJcbiAgICAgICAgICAgIHJldHVybiBNQVhfVkFMVUU7XHJcbiAgICB9XHJcbiAgICBpZiAodmFsdWUgPCAwKVxyXG4gICAgICAgIHJldHVybiBmcm9tTnVtYmVyKC12YWx1ZSwgdW5zaWduZWQpLm5lZygpO1xyXG4gICAgcmV0dXJuIGZyb21CaXRzKCh2YWx1ZSAlIFRXT19QV1JfMzJfREJMKSB8IDAsICh2YWx1ZSAvIFRXT19QV1JfMzJfREJMKSB8IDAsIHVuc2lnbmVkKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFJldHVybnMgYSBMb25nIHJlcHJlc2VudGluZyB0aGUgZ2l2ZW4gdmFsdWUsIHByb3ZpZGVkIHRoYXQgaXQgaXMgYSBmaW5pdGUgbnVtYmVyLiBPdGhlcndpc2UsIHplcm8gaXMgcmV0dXJuZWQuXHJcbiAqIEBmdW5jdGlvblxyXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgVGhlIG51bWJlciBpbiBxdWVzdGlvblxyXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSB1bnNpZ25lZCBXaGV0aGVyIHVuc2lnbmVkIG9yIG5vdCwgZGVmYXVsdHMgdG8gc2lnbmVkXHJcbiAqIEByZXR1cm5zIHshTG9uZ30gVGhlIGNvcnJlc3BvbmRpbmcgTG9uZyB2YWx1ZVxyXG4gKi9cclxuTG9uZy5mcm9tTnVtYmVyID0gZnJvbU51bWJlcjtcclxuXHJcbi8qKlxyXG4gKiBAcGFyYW0ge251bWJlcn0gbG93Qml0c1xyXG4gKiBAcGFyYW0ge251bWJlcn0gaGlnaEJpdHNcclxuICogQHBhcmFtIHtib29sZWFuPX0gdW5zaWduZWRcclxuICogQHJldHVybnMgeyFMb25nfVxyXG4gKiBAaW5uZXJcclxuICovXHJcbmZ1bmN0aW9uIGZyb21CaXRzKGxvd0JpdHMsIGhpZ2hCaXRzLCB1bnNpZ25lZCkge1xyXG4gICAgcmV0dXJuIG5ldyBMb25nKGxvd0JpdHMsIGhpZ2hCaXRzLCB1bnNpZ25lZCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZXR1cm5zIGEgTG9uZyByZXByZXNlbnRpbmcgdGhlIDY0IGJpdCBpbnRlZ2VyIHRoYXQgY29tZXMgYnkgY29uY2F0ZW5hdGluZyB0aGUgZ2l2ZW4gbG93IGFuZCBoaWdoIGJpdHMuIEVhY2ggaXNcclxuICogIGFzc3VtZWQgdG8gdXNlIDMyIGJpdHMuXHJcbiAqIEBmdW5jdGlvblxyXG4gKiBAcGFyYW0ge251bWJlcn0gbG93Qml0cyBUaGUgbG93IDMyIGJpdHNcclxuICogQHBhcmFtIHtudW1iZXJ9IGhpZ2hCaXRzIFRoZSBoaWdoIDMyIGJpdHNcclxuICogQHBhcmFtIHtib29sZWFuPX0gdW5zaWduZWQgV2hldGhlciB1bnNpZ25lZCBvciBub3QsIGRlZmF1bHRzIHRvIHNpZ25lZFxyXG4gKiBAcmV0dXJucyB7IUxvbmd9IFRoZSBjb3JyZXNwb25kaW5nIExvbmcgdmFsdWVcclxuICovXHJcbkxvbmcuZnJvbUJpdHMgPSBmcm9tQml0cztcclxuXHJcbi8qKlxyXG4gKiBAZnVuY3Rpb25cclxuICogQHBhcmFtIHtudW1iZXJ9IGJhc2VcclxuICogQHBhcmFtIHtudW1iZXJ9IGV4cG9uZW50XHJcbiAqIEByZXR1cm5zIHtudW1iZXJ9XHJcbiAqIEBpbm5lclxyXG4gKi9cclxudmFyIHBvd19kYmwgPSBNYXRoLnBvdzsgLy8gVXNlZCA0IHRpbWVzICg0KjggdG8gMTUrNClcclxuXHJcbi8qKlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyXHJcbiAqIEBwYXJhbSB7KGJvb2xlYW58bnVtYmVyKT19IHVuc2lnbmVkXHJcbiAqIEBwYXJhbSB7bnVtYmVyPX0gcmFkaXhcclxuICogQHJldHVybnMgeyFMb25nfVxyXG4gKiBAaW5uZXJcclxuICovXHJcbmZ1bmN0aW9uIGZyb21TdHJpbmcoc3RyLCB1bnNpZ25lZCwgcmFkaXgpIHtcclxuICAgIGlmIChzdHIubGVuZ3RoID09PSAwKVxyXG4gICAgICAgIHRocm93IEVycm9yKCdlbXB0eSBzdHJpbmcnKTtcclxuICAgIGlmIChzdHIgPT09IFwiTmFOXCIgfHwgc3RyID09PSBcIkluZmluaXR5XCIgfHwgc3RyID09PSBcIitJbmZpbml0eVwiIHx8IHN0ciA9PT0gXCItSW5maW5pdHlcIilcclxuICAgICAgICByZXR1cm4gWkVSTztcclxuICAgIGlmICh0eXBlb2YgdW5zaWduZWQgPT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgLy8gRm9yIGdvb2cubWF0aC5sb25nIGNvbXBhdGliaWxpdHlcclxuICAgICAgICByYWRpeCA9IHVuc2lnbmVkLFxyXG4gICAgICAgIHVuc2lnbmVkID0gZmFsc2U7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHVuc2lnbmVkID0gISEgdW5zaWduZWQ7XHJcbiAgICB9XHJcbiAgICByYWRpeCA9IHJhZGl4IHx8IDEwO1xyXG4gICAgaWYgKHJhZGl4IDwgMiB8fCAzNiA8IHJhZGl4KVxyXG4gICAgICAgIHRocm93IFJhbmdlRXJyb3IoJ3JhZGl4Jyk7XHJcblxyXG4gICAgdmFyIHA7XHJcbiAgICBpZiAoKHAgPSBzdHIuaW5kZXhPZignLScpKSA+IDApXHJcbiAgICAgICAgdGhyb3cgRXJyb3IoJ2ludGVyaW9yIGh5cGhlbicpO1xyXG4gICAgZWxzZSBpZiAocCA9PT0gMCkge1xyXG4gICAgICAgIHJldHVybiBmcm9tU3RyaW5nKHN0ci5zdWJzdHJpbmcoMSksIHVuc2lnbmVkLCByYWRpeCkubmVnKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRG8gc2V2ZXJhbCAoOCkgZGlnaXRzIGVhY2ggdGltZSB0aHJvdWdoIHRoZSBsb29wLCBzbyBhcyB0b1xyXG4gICAgLy8gbWluaW1pemUgdGhlIGNhbGxzIHRvIHRoZSB2ZXJ5IGV4cGVuc2l2ZSBlbXVsYXRlZCBkaXYuXHJcbiAgICB2YXIgcmFkaXhUb1Bvd2VyID0gZnJvbU51bWJlcihwb3dfZGJsKHJhZGl4LCA4KSk7XHJcblxyXG4gICAgdmFyIHJlc3VsdCA9IFpFUk87XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkgKz0gOCkge1xyXG4gICAgICAgIHZhciBzaXplID0gTWF0aC5taW4oOCwgc3RyLmxlbmd0aCAtIGkpLFxyXG4gICAgICAgICAgICB2YWx1ZSA9IHBhcnNlSW50KHN0ci5zdWJzdHJpbmcoaSwgaSArIHNpemUpLCByYWRpeCk7XHJcbiAgICAgICAgaWYgKHNpemUgPCA4KSB7XHJcbiAgICAgICAgICAgIHZhciBwb3dlciA9IGZyb21OdW1iZXIocG93X2RibChyYWRpeCwgc2l6ZSkpO1xyXG4gICAgICAgICAgICByZXN1bHQgPSByZXN1bHQubXVsKHBvd2VyKS5hZGQoZnJvbU51bWJlcih2YWx1ZSkpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5tdWwocmFkaXhUb1Bvd2VyKTtcclxuICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0LmFkZChmcm9tTnVtYmVyKHZhbHVlKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmVzdWx0LnVuc2lnbmVkID0gdW5zaWduZWQ7XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XHJcblxyXG4vKipcclxuICogUmV0dXJucyBhIExvbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIGdpdmVuIHN0cmluZywgd3JpdHRlbiB1c2luZyB0aGUgc3BlY2lmaWVkIHJhZGl4LlxyXG4gKiBAZnVuY3Rpb25cclxuICogQHBhcmFtIHtzdHJpbmd9IHN0ciBUaGUgdGV4dHVhbCByZXByZXNlbnRhdGlvbiBvZiB0aGUgTG9uZ1xyXG4gKiBAcGFyYW0geyhib29sZWFufG51bWJlcik9fSB1bnNpZ25lZCBXaGV0aGVyIHVuc2lnbmVkIG9yIG5vdCwgZGVmYXVsdHMgdG8gc2lnbmVkXHJcbiAqIEBwYXJhbSB7bnVtYmVyPX0gcmFkaXggVGhlIHJhZGl4IGluIHdoaWNoIHRoZSB0ZXh0IGlzIHdyaXR0ZW4gKDItMzYpLCBkZWZhdWx0cyB0byAxMFxyXG4gKiBAcmV0dXJucyB7IUxvbmd9IFRoZSBjb3JyZXNwb25kaW5nIExvbmcgdmFsdWVcclxuICovXHJcbkxvbmcuZnJvbVN0cmluZyA9IGZyb21TdHJpbmc7XHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSB7IUxvbmd8bnVtYmVyfHN0cmluZ3whe2xvdzogbnVtYmVyLCBoaWdoOiBudW1iZXIsIHVuc2lnbmVkOiBib29sZWFufX0gdmFsXHJcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IHVuc2lnbmVkXHJcbiAqIEByZXR1cm5zIHshTG9uZ31cclxuICogQGlubmVyXHJcbiAqL1xyXG5mdW5jdGlvbiBmcm9tVmFsdWUodmFsLCB1bnNpZ25lZCkge1xyXG4gICAgaWYgKHR5cGVvZiB2YWwgPT09ICdudW1iZXInKVxyXG4gICAgICAgIHJldHVybiBmcm9tTnVtYmVyKHZhbCwgdW5zaWduZWQpO1xyXG4gICAgaWYgKHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnKVxyXG4gICAgICAgIHJldHVybiBmcm9tU3RyaW5nKHZhbCwgdW5zaWduZWQpO1xyXG4gICAgLy8gVGhyb3dzIGZvciBub24tb2JqZWN0cywgY29udmVydHMgbm9uLWluc3RhbmNlb2YgTG9uZzpcclxuICAgIHJldHVybiBmcm9tQml0cyh2YWwubG93LCB2YWwuaGlnaCwgdHlwZW9mIHVuc2lnbmVkID09PSAnYm9vbGVhbicgPyB1bnNpZ25lZCA6IHZhbC51bnNpZ25lZCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDb252ZXJ0cyB0aGUgc3BlY2lmaWVkIHZhbHVlIHRvIGEgTG9uZyB1c2luZyB0aGUgYXBwcm9wcmlhdGUgZnJvbSogZnVuY3Rpb24gZm9yIGl0cyB0eXBlLlxyXG4gKiBAZnVuY3Rpb25cclxuICogQHBhcmFtIHshTG9uZ3xudW1iZXJ8c3RyaW5nfCF7bG93OiBudW1iZXIsIGhpZ2g6IG51bWJlciwgdW5zaWduZWQ6IGJvb2xlYW59fSB2YWwgVmFsdWVcclxuICogQHBhcmFtIHtib29sZWFuPX0gdW5zaWduZWQgV2hldGhlciB1bnNpZ25lZCBvciBub3QsIGRlZmF1bHRzIHRvIHNpZ25lZFxyXG4gKiBAcmV0dXJucyB7IUxvbmd9XHJcbiAqL1xyXG5Mb25nLmZyb21WYWx1ZSA9IGZyb21WYWx1ZTtcclxuXHJcbi8vIE5PVEU6IHRoZSBjb21waWxlciBzaG91bGQgaW5saW5lIHRoZXNlIGNvbnN0YW50IHZhbHVlcyBiZWxvdyBhbmQgdGhlbiByZW1vdmUgdGhlc2UgdmFyaWFibGVzLCBzbyB0aGVyZSBzaG91bGQgYmVcclxuLy8gbm8gcnVudGltZSBwZW5hbHR5IGZvciB0aGVzZS5cclxuXHJcbi8qKlxyXG4gKiBAdHlwZSB7bnVtYmVyfVxyXG4gKiBAY29uc3RcclxuICogQGlubmVyXHJcbiAqL1xyXG52YXIgVFdPX1BXUl8xNl9EQkwgPSAxIDw8IDE2O1xyXG5cclxuLyoqXHJcbiAqIEB0eXBlIHtudW1iZXJ9XHJcbiAqIEBjb25zdFxyXG4gKiBAaW5uZXJcclxuICovXHJcbnZhciBUV09fUFdSXzI0X0RCTCA9IDEgPDwgMjQ7XHJcblxyXG4vKipcclxuICogQHR5cGUge251bWJlcn1cclxuICogQGNvbnN0XHJcbiAqIEBpbm5lclxyXG4gKi9cclxudmFyIFRXT19QV1JfMzJfREJMID0gVFdPX1BXUl8xNl9EQkwgKiBUV09fUFdSXzE2X0RCTDtcclxuXHJcbi8qKlxyXG4gKiBAdHlwZSB7bnVtYmVyfVxyXG4gKiBAY29uc3RcclxuICogQGlubmVyXHJcbiAqL1xyXG52YXIgVFdPX1BXUl82NF9EQkwgPSBUV09fUFdSXzMyX0RCTCAqIFRXT19QV1JfMzJfREJMO1xyXG5cclxuLyoqXHJcbiAqIEB0eXBlIHtudW1iZXJ9XHJcbiAqIEBjb25zdFxyXG4gKiBAaW5uZXJcclxuICovXHJcbnZhciBUV09fUFdSXzYzX0RCTCA9IFRXT19QV1JfNjRfREJMIC8gMjtcclxuXHJcbi8qKlxyXG4gKiBAdHlwZSB7IUxvbmd9XHJcbiAqIEBjb25zdFxyXG4gKiBAaW5uZXJcclxuICovXHJcbnZhciBUV09fUFdSXzI0ID0gZnJvbUludChUV09fUFdSXzI0X0RCTCk7XHJcblxyXG4vKipcclxuICogQHR5cGUgeyFMb25nfVxyXG4gKiBAaW5uZXJcclxuICovXHJcbnZhciBaRVJPID0gZnJvbUludCgwKTtcclxuXHJcbi8qKlxyXG4gKiBTaWduZWQgemVyby5cclxuICogQHR5cGUgeyFMb25nfVxyXG4gKi9cclxuTG9uZy5aRVJPID0gWkVSTztcclxuXHJcbi8qKlxyXG4gKiBAdHlwZSB7IUxvbmd9XHJcbiAqIEBpbm5lclxyXG4gKi9cclxudmFyIFVaRVJPID0gZnJvbUludCgwLCB0cnVlKTtcclxuXHJcbi8qKlxyXG4gKiBVbnNpZ25lZCB6ZXJvLlxyXG4gKiBAdHlwZSB7IUxvbmd9XHJcbiAqL1xyXG5Mb25nLlVaRVJPID0gVVpFUk87XHJcblxyXG4vKipcclxuICogQHR5cGUgeyFMb25nfVxyXG4gKiBAaW5uZXJcclxuICovXHJcbnZhciBPTkUgPSBmcm9tSW50KDEpO1xyXG5cclxuLyoqXHJcbiAqIFNpZ25lZCBvbmUuXHJcbiAqIEB0eXBlIHshTG9uZ31cclxuICovXHJcbkxvbmcuT05FID0gT05FO1xyXG5cclxuLyoqXHJcbiAqIEB0eXBlIHshTG9uZ31cclxuICogQGlubmVyXHJcbiAqL1xyXG52YXIgVU9ORSA9IGZyb21JbnQoMSwgdHJ1ZSk7XHJcblxyXG4vKipcclxuICogVW5zaWduZWQgb25lLlxyXG4gKiBAdHlwZSB7IUxvbmd9XHJcbiAqL1xyXG5Mb25nLlVPTkUgPSBVT05FO1xyXG5cclxuLyoqXHJcbiAqIEB0eXBlIHshTG9uZ31cclxuICogQGlubmVyXHJcbiAqL1xyXG52YXIgTkVHX09ORSA9IGZyb21JbnQoLTEpO1xyXG5cclxuLyoqXHJcbiAqIFNpZ25lZCBuZWdhdGl2ZSBvbmUuXHJcbiAqIEB0eXBlIHshTG9uZ31cclxuICovXHJcbkxvbmcuTkVHX09ORSA9IE5FR19PTkU7XHJcblxyXG4vKipcclxuICogQHR5cGUgeyFMb25nfVxyXG4gKiBAaW5uZXJcclxuICovXHJcbnZhciBNQVhfVkFMVUUgPSBmcm9tQml0cygweEZGRkZGRkZGfDAsIDB4N0ZGRkZGRkZ8MCwgZmFsc2UpO1xyXG5cclxuLyoqXHJcbiAqIE1heGltdW0gc2lnbmVkIHZhbHVlLlxyXG4gKiBAdHlwZSB7IUxvbmd9XHJcbiAqL1xyXG5Mb25nLk1BWF9WQUxVRSA9IE1BWF9WQUxVRTtcclxuXHJcbi8qKlxyXG4gKiBAdHlwZSB7IUxvbmd9XHJcbiAqIEBpbm5lclxyXG4gKi9cclxudmFyIE1BWF9VTlNJR05FRF9WQUxVRSA9IGZyb21CaXRzKDB4RkZGRkZGRkZ8MCwgMHhGRkZGRkZGRnwwLCB0cnVlKTtcclxuXHJcbi8qKlxyXG4gKiBNYXhpbXVtIHVuc2lnbmVkIHZhbHVlLlxyXG4gKiBAdHlwZSB7IUxvbmd9XHJcbiAqL1xyXG5Mb25nLk1BWF9VTlNJR05FRF9WQUxVRSA9IE1BWF9VTlNJR05FRF9WQUxVRTtcclxuXHJcbi8qKlxyXG4gKiBAdHlwZSB7IUxvbmd9XHJcbiAqIEBpbm5lclxyXG4gKi9cclxudmFyIE1JTl9WQUxVRSA9IGZyb21CaXRzKDAsIDB4ODAwMDAwMDB8MCwgZmFsc2UpO1xyXG5cclxuLyoqXHJcbiAqIE1pbmltdW0gc2lnbmVkIHZhbHVlLlxyXG4gKiBAdHlwZSB7IUxvbmd9XHJcbiAqL1xyXG5Mb25nLk1JTl9WQUxVRSA9IE1JTl9WQUxVRTtcclxuXHJcbi8qKlxyXG4gKiBAYWxpYXMgTG9uZy5wcm90b3R5cGVcclxuICogQGlubmVyXHJcbiAqL1xyXG52YXIgTG9uZ1Byb3RvdHlwZSA9IExvbmcucHJvdG90eXBlO1xyXG5cclxuLyoqXHJcbiAqIENvbnZlcnRzIHRoZSBMb25nIHRvIGEgMzIgYml0IGludGVnZXIsIGFzc3VtaW5nIGl0IGlzIGEgMzIgYml0IGludGVnZXIuXHJcbiAqIEByZXR1cm5zIHtudW1iZXJ9XHJcbiAqL1xyXG5Mb25nUHJvdG90eXBlLnRvSW50ID0gZnVuY3Rpb24gdG9JbnQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy51bnNpZ25lZCA/IHRoaXMubG93ID4+PiAwIDogdGhpcy5sb3c7XHJcbn07XHJcblxyXG4vKipcclxuICogQ29udmVydHMgdGhlIExvbmcgdG8gYSB0aGUgbmVhcmVzdCBmbG9hdGluZy1wb2ludCByZXByZXNlbnRhdGlvbiBvZiB0aGlzIHZhbHVlIChkb3VibGUsIDUzIGJpdCBtYW50aXNzYSkuXHJcbiAqIEByZXR1cm5zIHtudW1iZXJ9XHJcbiAqL1xyXG5Mb25nUHJvdG90eXBlLnRvTnVtYmVyID0gZnVuY3Rpb24gdG9OdW1iZXIoKSB7XHJcbiAgICBpZiAodGhpcy51bnNpZ25lZClcclxuICAgICAgICByZXR1cm4gKCh0aGlzLmhpZ2ggPj4+IDApICogVFdPX1BXUl8zMl9EQkwpICsgKHRoaXMubG93ID4+PiAwKTtcclxuICAgIHJldHVybiB0aGlzLmhpZ2ggKiBUV09fUFdSXzMyX0RCTCArICh0aGlzLmxvdyA+Pj4gMCk7XHJcbn07XHJcblxyXG4vKipcclxuICogQ29udmVydHMgdGhlIExvbmcgdG8gYSBzdHJpbmcgd3JpdHRlbiBpbiB0aGUgc3BlY2lmaWVkIHJhZGl4LlxyXG4gKiBAcGFyYW0ge251bWJlcj19IHJhZGl4IFJhZGl4ICgyLTM2KSwgZGVmYXVsdHMgdG8gMTBcclxuICogQHJldHVybnMge3N0cmluZ31cclxuICogQG92ZXJyaWRlXHJcbiAqIEB0aHJvd3Mge1JhbmdlRXJyb3J9IElmIGByYWRpeGAgaXMgb3V0IG9mIHJhbmdlXHJcbiAqL1xyXG5Mb25nUHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcocmFkaXgpIHtcclxuICAgIHJhZGl4ID0gcmFkaXggfHwgMTA7XHJcbiAgICBpZiAocmFkaXggPCAyIHx8IDM2IDwgcmFkaXgpXHJcbiAgICAgICAgdGhyb3cgUmFuZ2VFcnJvcigncmFkaXgnKTtcclxuICAgIGlmICh0aGlzLmlzWmVybygpKVxyXG4gICAgICAgIHJldHVybiAnMCc7XHJcbiAgICBpZiAodGhpcy5pc05lZ2F0aXZlKCkpIHsgLy8gVW5zaWduZWQgTG9uZ3MgYXJlIG5ldmVyIG5lZ2F0aXZlXHJcbiAgICAgICAgaWYgKHRoaXMuZXEoTUlOX1ZBTFVFKSkge1xyXG4gICAgICAgICAgICAvLyBXZSBuZWVkIHRvIGNoYW5nZSB0aGUgTG9uZyB2YWx1ZSBiZWZvcmUgaXQgY2FuIGJlIG5lZ2F0ZWQsIHNvIHdlIHJlbW92ZVxyXG4gICAgICAgICAgICAvLyB0aGUgYm90dG9tLW1vc3QgZGlnaXQgaW4gdGhpcyBiYXNlIGFuZCB0aGVuIHJlY3Vyc2UgdG8gZG8gdGhlIHJlc3QuXHJcbiAgICAgICAgICAgIHZhciByYWRpeExvbmcgPSBmcm9tTnVtYmVyKHJhZGl4KSxcclxuICAgICAgICAgICAgICAgIGRpdiA9IHRoaXMuZGl2KHJhZGl4TG9uZyksXHJcbiAgICAgICAgICAgICAgICByZW0xID0gZGl2Lm11bChyYWRpeExvbmcpLnN1Yih0aGlzKTtcclxuICAgICAgICAgICAgcmV0dXJuIGRpdi50b1N0cmluZyhyYWRpeCkgKyByZW0xLnRvSW50KCkudG9TdHJpbmcocmFkaXgpO1xyXG4gICAgICAgIH0gZWxzZVxyXG4gICAgICAgICAgICByZXR1cm4gJy0nICsgdGhpcy5uZWcoKS50b1N0cmluZyhyYWRpeCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRG8gc2V2ZXJhbCAoNikgZGlnaXRzIGVhY2ggdGltZSB0aHJvdWdoIHRoZSBsb29wLCBzbyBhcyB0b1xyXG4gICAgLy8gbWluaW1pemUgdGhlIGNhbGxzIHRvIHRoZSB2ZXJ5IGV4cGVuc2l2ZSBlbXVsYXRlZCBkaXYuXHJcbiAgICB2YXIgcmFkaXhUb1Bvd2VyID0gZnJvbU51bWJlcihwb3dfZGJsKHJhZGl4LCA2KSwgdGhpcy51bnNpZ25lZCksXHJcbiAgICAgICAgcmVtID0gdGhpcztcclxuICAgIHZhciByZXN1bHQgPSAnJztcclxuICAgIHdoaWxlICh0cnVlKSB7XHJcbiAgICAgICAgdmFyIHJlbURpdiA9IHJlbS5kaXYocmFkaXhUb1Bvd2VyKSxcclxuICAgICAgICAgICAgaW50dmFsID0gcmVtLnN1YihyZW1EaXYubXVsKHJhZGl4VG9Qb3dlcikpLnRvSW50KCkgPj4+IDAsXHJcbiAgICAgICAgICAgIGRpZ2l0cyA9IGludHZhbC50b1N0cmluZyhyYWRpeCk7XHJcbiAgICAgICAgcmVtID0gcmVtRGl2O1xyXG4gICAgICAgIGlmIChyZW0uaXNaZXJvKCkpXHJcbiAgICAgICAgICAgIHJldHVybiBkaWdpdHMgKyByZXN1bHQ7XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHdoaWxlIChkaWdpdHMubGVuZ3RoIDwgNilcclxuICAgICAgICAgICAgICAgIGRpZ2l0cyA9ICcwJyArIGRpZ2l0cztcclxuICAgICAgICAgICAgcmVzdWx0ID0gJycgKyBkaWdpdHMgKyByZXN1bHQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59O1xyXG5cclxuLyoqXHJcbiAqIEdldHMgdGhlIGhpZ2ggMzIgYml0cyBhcyBhIHNpZ25lZCBpbnRlZ2VyLlxyXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBTaWduZWQgaGlnaCBiaXRzXHJcbiAqL1xyXG5Mb25nUHJvdG90eXBlLmdldEhpZ2hCaXRzID0gZnVuY3Rpb24gZ2V0SGlnaEJpdHMoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5oaWdoO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIEdldHMgdGhlIGhpZ2ggMzIgYml0cyBhcyBhbiB1bnNpZ25lZCBpbnRlZ2VyLlxyXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBVbnNpZ25lZCBoaWdoIGJpdHNcclxuICovXHJcbkxvbmdQcm90b3R5cGUuZ2V0SGlnaEJpdHNVbnNpZ25lZCA9IGZ1bmN0aW9uIGdldEhpZ2hCaXRzVW5zaWduZWQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5oaWdoID4+PiAwO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIEdldHMgdGhlIGxvdyAzMiBiaXRzIGFzIGEgc2lnbmVkIGludGVnZXIuXHJcbiAqIEByZXR1cm5zIHtudW1iZXJ9IFNpZ25lZCBsb3cgYml0c1xyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5nZXRMb3dCaXRzID0gZnVuY3Rpb24gZ2V0TG93Qml0cygpIHtcclxuICAgIHJldHVybiB0aGlzLmxvdztcclxufTtcclxuXHJcbi8qKlxyXG4gKiBHZXRzIHRoZSBsb3cgMzIgYml0cyBhcyBhbiB1bnNpZ25lZCBpbnRlZ2VyLlxyXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBVbnNpZ25lZCBsb3cgYml0c1xyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5nZXRMb3dCaXRzVW5zaWduZWQgPSBmdW5jdGlvbiBnZXRMb3dCaXRzVW5zaWduZWQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5sb3cgPj4+IDA7XHJcbn07XHJcblxyXG4vKipcclxuICogR2V0cyB0aGUgbnVtYmVyIG9mIGJpdHMgbmVlZGVkIHRvIHJlcHJlc2VudCB0aGUgYWJzb2x1dGUgdmFsdWUgb2YgdGhpcyBMb25nLlxyXG4gKiBAcmV0dXJucyB7bnVtYmVyfVxyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5nZXROdW1CaXRzQWJzID0gZnVuY3Rpb24gZ2V0TnVtQml0c0FicygpIHtcclxuICAgIGlmICh0aGlzLmlzTmVnYXRpdmUoKSkgLy8gVW5zaWduZWQgTG9uZ3MgYXJlIG5ldmVyIG5lZ2F0aXZlXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZXEoTUlOX1ZBTFVFKSA/IDY0IDogdGhpcy5uZWcoKS5nZXROdW1CaXRzQWJzKCk7XHJcbiAgICB2YXIgdmFsID0gdGhpcy5oaWdoICE9IDAgPyB0aGlzLmhpZ2ggOiB0aGlzLmxvdztcclxuICAgIGZvciAodmFyIGJpdCA9IDMxOyBiaXQgPiAwOyBiaXQtLSlcclxuICAgICAgICBpZiAoKHZhbCAmICgxIDw8IGJpdCkpICE9IDApXHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgcmV0dXJuIHRoaXMuaGlnaCAhPSAwID8gYml0ICsgMzMgOiBiaXQgKyAxO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFRlc3RzIGlmIHRoaXMgTG9uZydzIHZhbHVlIGVxdWFscyB6ZXJvLlxyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuICovXHJcbkxvbmdQcm90b3R5cGUuaXNaZXJvID0gZnVuY3Rpb24gaXNaZXJvKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuaGlnaCA9PT0gMCAmJiB0aGlzLmxvdyA9PT0gMDtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBUZXN0cyBpZiB0aGlzIExvbmcncyB2YWx1ZSBlcXVhbHMgemVyby4gVGhpcyBpcyBhbiBhbGlhcyBvZiB7QGxpbmsgTG9uZyNpc1plcm99LlxyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuICovXHJcbkxvbmdQcm90b3R5cGUuZXF6ID0gTG9uZ1Byb3RvdHlwZS5pc1plcm87XHJcblxyXG4vKipcclxuICogVGVzdHMgaWYgdGhpcyBMb25nJ3MgdmFsdWUgaXMgbmVnYXRpdmUuXHJcbiAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5pc05lZ2F0aXZlID0gZnVuY3Rpb24gaXNOZWdhdGl2ZSgpIHtcclxuICAgIHJldHVybiAhdGhpcy51bnNpZ25lZCAmJiB0aGlzLmhpZ2ggPCAwO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFRlc3RzIGlmIHRoaXMgTG9uZydzIHZhbHVlIGlzIHBvc2l0aXZlLlxyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuICovXHJcbkxvbmdQcm90b3R5cGUuaXNQb3NpdGl2ZSA9IGZ1bmN0aW9uIGlzUG9zaXRpdmUoKSB7XHJcbiAgICByZXR1cm4gdGhpcy51bnNpZ25lZCB8fCB0aGlzLmhpZ2ggPj0gMDtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBUZXN0cyBpZiB0aGlzIExvbmcncyB2YWx1ZSBpcyBvZGQuXHJcbiAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5pc09kZCA9IGZ1bmN0aW9uIGlzT2RkKCkge1xyXG4gICAgcmV0dXJuICh0aGlzLmxvdyAmIDEpID09PSAxO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFRlc3RzIGlmIHRoaXMgTG9uZydzIHZhbHVlIGlzIGV2ZW4uXHJcbiAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5pc0V2ZW4gPSBmdW5jdGlvbiBpc0V2ZW4oKSB7XHJcbiAgICByZXR1cm4gKHRoaXMubG93ICYgMSkgPT09IDA7XHJcbn07XHJcblxyXG4vKipcclxuICogVGVzdHMgaWYgdGhpcyBMb25nJ3MgdmFsdWUgZXF1YWxzIHRoZSBzcGVjaWZpZWQncy5cclxuICogQHBhcmFtIHshTG9uZ3xudW1iZXJ8c3RyaW5nfSBvdGhlciBPdGhlciB2YWx1ZVxyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuICovXHJcbkxvbmdQcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gZXF1YWxzKG90aGVyKSB7XHJcbiAgICBpZiAoIWlzTG9uZyhvdGhlcikpXHJcbiAgICAgICAgb3RoZXIgPSBmcm9tVmFsdWUob3RoZXIpO1xyXG4gICAgaWYgKHRoaXMudW5zaWduZWQgIT09IG90aGVyLnVuc2lnbmVkICYmICh0aGlzLmhpZ2ggPj4+IDMxKSA9PT0gMSAmJiAob3RoZXIuaGlnaCA+Pj4gMzEpID09PSAxKVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIHJldHVybiB0aGlzLmhpZ2ggPT09IG90aGVyLmhpZ2ggJiYgdGhpcy5sb3cgPT09IG90aGVyLmxvdztcclxufTtcclxuXHJcbi8qKlxyXG4gKiBUZXN0cyBpZiB0aGlzIExvbmcncyB2YWx1ZSBlcXVhbHMgdGhlIHNwZWNpZmllZCdzLiBUaGlzIGlzIGFuIGFsaWFzIG9mIHtAbGluayBMb25nI2VxdWFsc30uXHJcbiAqIEBmdW5jdGlvblxyXG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxzdHJpbmd9IG90aGVyIE90aGVyIHZhbHVlXHJcbiAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5lcSA9IExvbmdQcm90b3R5cGUuZXF1YWxzO1xyXG5cclxuLyoqXHJcbiAqIFRlc3RzIGlmIHRoaXMgTG9uZydzIHZhbHVlIGRpZmZlcnMgZnJvbSB0aGUgc3BlY2lmaWVkJ3MuXHJcbiAqIEBwYXJhbSB7IUxvbmd8bnVtYmVyfHN0cmluZ30gb3RoZXIgT3RoZXIgdmFsdWVcclxuICogQHJldHVybnMge2Jvb2xlYW59XHJcbiAqL1xyXG5Mb25nUHJvdG90eXBlLm5vdEVxdWFscyA9IGZ1bmN0aW9uIG5vdEVxdWFscyhvdGhlcikge1xyXG4gICAgcmV0dXJuICF0aGlzLmVxKC8qIHZhbGlkYXRlcyAqLyBvdGhlcik7XHJcbn07XHJcblxyXG4vKipcclxuICogVGVzdHMgaWYgdGhpcyBMb25nJ3MgdmFsdWUgZGlmZmVycyBmcm9tIHRoZSBzcGVjaWZpZWQncy4gVGhpcyBpcyBhbiBhbGlhcyBvZiB7QGxpbmsgTG9uZyNub3RFcXVhbHN9LlxyXG4gKiBAZnVuY3Rpb25cclxuICogQHBhcmFtIHshTG9uZ3xudW1iZXJ8c3RyaW5nfSBvdGhlciBPdGhlciB2YWx1ZVxyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuICovXHJcbkxvbmdQcm90b3R5cGUubmVxID0gTG9uZ1Byb3RvdHlwZS5ub3RFcXVhbHM7XHJcblxyXG4vKipcclxuICogVGVzdHMgaWYgdGhpcyBMb25nJ3MgdmFsdWUgZGlmZmVycyBmcm9tIHRoZSBzcGVjaWZpZWQncy4gVGhpcyBpcyBhbiBhbGlhcyBvZiB7QGxpbmsgTG9uZyNub3RFcXVhbHN9LlxyXG4gKiBAZnVuY3Rpb25cclxuICogQHBhcmFtIHshTG9uZ3xudW1iZXJ8c3RyaW5nfSBvdGhlciBPdGhlciB2YWx1ZVxyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuICovXHJcbkxvbmdQcm90b3R5cGUubmUgPSBMb25nUHJvdG90eXBlLm5vdEVxdWFscztcclxuXHJcbi8qKlxyXG4gKiBUZXN0cyBpZiB0aGlzIExvbmcncyB2YWx1ZSBpcyBsZXNzIHRoYW4gdGhlIHNwZWNpZmllZCdzLlxyXG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxzdHJpbmd9IG90aGVyIE90aGVyIHZhbHVlXHJcbiAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5sZXNzVGhhbiA9IGZ1bmN0aW9uIGxlc3NUaGFuKG90aGVyKSB7XHJcbiAgICByZXR1cm4gdGhpcy5jb21wKC8qIHZhbGlkYXRlcyAqLyBvdGhlcikgPCAwO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFRlc3RzIGlmIHRoaXMgTG9uZydzIHZhbHVlIGlzIGxlc3MgdGhhbiB0aGUgc3BlY2lmaWVkJ3MuIFRoaXMgaXMgYW4gYWxpYXMgb2Yge0BsaW5rIExvbmcjbGVzc1RoYW59LlxyXG4gKiBAZnVuY3Rpb25cclxuICogQHBhcmFtIHshTG9uZ3xudW1iZXJ8c3RyaW5nfSBvdGhlciBPdGhlciB2YWx1ZVxyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuICovXHJcbkxvbmdQcm90b3R5cGUubHQgPSBMb25nUHJvdG90eXBlLmxlc3NUaGFuO1xyXG5cclxuLyoqXHJcbiAqIFRlc3RzIGlmIHRoaXMgTG9uZydzIHZhbHVlIGlzIGxlc3MgdGhhbiBvciBlcXVhbCB0aGUgc3BlY2lmaWVkJ3MuXHJcbiAqIEBwYXJhbSB7IUxvbmd8bnVtYmVyfHN0cmluZ30gb3RoZXIgT3RoZXIgdmFsdWVcclxuICogQHJldHVybnMge2Jvb2xlYW59XHJcbiAqL1xyXG5Mb25nUHJvdG90eXBlLmxlc3NUaGFuT3JFcXVhbCA9IGZ1bmN0aW9uIGxlc3NUaGFuT3JFcXVhbChvdGhlcikge1xyXG4gICAgcmV0dXJuIHRoaXMuY29tcCgvKiB2YWxpZGF0ZXMgKi8gb3RoZXIpIDw9IDA7XHJcbn07XHJcblxyXG4vKipcclxuICogVGVzdHMgaWYgdGhpcyBMb25nJ3MgdmFsdWUgaXMgbGVzcyB0aGFuIG9yIGVxdWFsIHRoZSBzcGVjaWZpZWQncy4gVGhpcyBpcyBhbiBhbGlhcyBvZiB7QGxpbmsgTG9uZyNsZXNzVGhhbk9yRXF1YWx9LlxyXG4gKiBAZnVuY3Rpb25cclxuICogQHBhcmFtIHshTG9uZ3xudW1iZXJ8c3RyaW5nfSBvdGhlciBPdGhlciB2YWx1ZVxyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuICovXHJcbkxvbmdQcm90b3R5cGUubHRlID0gTG9uZ1Byb3RvdHlwZS5sZXNzVGhhbk9yRXF1YWw7XHJcblxyXG4vKipcclxuICogVGVzdHMgaWYgdGhpcyBMb25nJ3MgdmFsdWUgaXMgbGVzcyB0aGFuIG9yIGVxdWFsIHRoZSBzcGVjaWZpZWQncy4gVGhpcyBpcyBhbiBhbGlhcyBvZiB7QGxpbmsgTG9uZyNsZXNzVGhhbk9yRXF1YWx9LlxyXG4gKiBAZnVuY3Rpb25cclxuICogQHBhcmFtIHshTG9uZ3xudW1iZXJ8c3RyaW5nfSBvdGhlciBPdGhlciB2YWx1ZVxyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuICovXHJcbkxvbmdQcm90b3R5cGUubGUgPSBMb25nUHJvdG90eXBlLmxlc3NUaGFuT3JFcXVhbDtcclxuXHJcbi8qKlxyXG4gKiBUZXN0cyBpZiB0aGlzIExvbmcncyB2YWx1ZSBpcyBncmVhdGVyIHRoYW4gdGhlIHNwZWNpZmllZCdzLlxyXG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxzdHJpbmd9IG90aGVyIE90aGVyIHZhbHVlXHJcbiAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5ncmVhdGVyVGhhbiA9IGZ1bmN0aW9uIGdyZWF0ZXJUaGFuKG90aGVyKSB7XHJcbiAgICByZXR1cm4gdGhpcy5jb21wKC8qIHZhbGlkYXRlcyAqLyBvdGhlcikgPiAwO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFRlc3RzIGlmIHRoaXMgTG9uZydzIHZhbHVlIGlzIGdyZWF0ZXIgdGhhbiB0aGUgc3BlY2lmaWVkJ3MuIFRoaXMgaXMgYW4gYWxpYXMgb2Yge0BsaW5rIExvbmcjZ3JlYXRlclRoYW59LlxyXG4gKiBAZnVuY3Rpb25cclxuICogQHBhcmFtIHshTG9uZ3xudW1iZXJ8c3RyaW5nfSBvdGhlciBPdGhlciB2YWx1ZVxyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuICovXHJcbkxvbmdQcm90b3R5cGUuZ3QgPSBMb25nUHJvdG90eXBlLmdyZWF0ZXJUaGFuO1xyXG5cclxuLyoqXHJcbiAqIFRlc3RzIGlmIHRoaXMgTG9uZydzIHZhbHVlIGlzIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0aGUgc3BlY2lmaWVkJ3MuXHJcbiAqIEBwYXJhbSB7IUxvbmd8bnVtYmVyfHN0cmluZ30gb3RoZXIgT3RoZXIgdmFsdWVcclxuICogQHJldHVybnMge2Jvb2xlYW59XHJcbiAqL1xyXG5Mb25nUHJvdG90eXBlLmdyZWF0ZXJUaGFuT3JFcXVhbCA9IGZ1bmN0aW9uIGdyZWF0ZXJUaGFuT3JFcXVhbChvdGhlcikge1xyXG4gICAgcmV0dXJuIHRoaXMuY29tcCgvKiB2YWxpZGF0ZXMgKi8gb3RoZXIpID49IDA7XHJcbn07XHJcblxyXG4vKipcclxuICogVGVzdHMgaWYgdGhpcyBMb25nJ3MgdmFsdWUgaXMgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRoZSBzcGVjaWZpZWQncy4gVGhpcyBpcyBhbiBhbGlhcyBvZiB7QGxpbmsgTG9uZyNncmVhdGVyVGhhbk9yRXF1YWx9LlxyXG4gKiBAZnVuY3Rpb25cclxuICogQHBhcmFtIHshTG9uZ3xudW1iZXJ8c3RyaW5nfSBvdGhlciBPdGhlciB2YWx1ZVxyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuICovXHJcbkxvbmdQcm90b3R5cGUuZ3RlID0gTG9uZ1Byb3RvdHlwZS5ncmVhdGVyVGhhbk9yRXF1YWw7XHJcblxyXG4vKipcclxuICogVGVzdHMgaWYgdGhpcyBMb25nJ3MgdmFsdWUgaXMgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRoZSBzcGVjaWZpZWQncy4gVGhpcyBpcyBhbiBhbGlhcyBvZiB7QGxpbmsgTG9uZyNncmVhdGVyVGhhbk9yRXF1YWx9LlxyXG4gKiBAZnVuY3Rpb25cclxuICogQHBhcmFtIHshTG9uZ3xudW1iZXJ8c3RyaW5nfSBvdGhlciBPdGhlciB2YWx1ZVxyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuICovXHJcbkxvbmdQcm90b3R5cGUuZ2UgPSBMb25nUHJvdG90eXBlLmdyZWF0ZXJUaGFuT3JFcXVhbDtcclxuXHJcbi8qKlxyXG4gKiBDb21wYXJlcyB0aGlzIExvbmcncyB2YWx1ZSB3aXRoIHRoZSBzcGVjaWZpZWQncy5cclxuICogQHBhcmFtIHshTG9uZ3xudW1iZXJ8c3RyaW5nfSBvdGhlciBPdGhlciB2YWx1ZVxyXG4gKiBAcmV0dXJucyB7bnVtYmVyfSAwIGlmIHRoZXkgYXJlIHRoZSBzYW1lLCAxIGlmIHRoZSB0aGlzIGlzIGdyZWF0ZXIgYW5kIC0xXHJcbiAqICBpZiB0aGUgZ2l2ZW4gb25lIGlzIGdyZWF0ZXJcclxuICovXHJcbkxvbmdQcm90b3R5cGUuY29tcGFyZSA9IGZ1bmN0aW9uIGNvbXBhcmUob3RoZXIpIHtcclxuICAgIGlmICghaXNMb25nKG90aGVyKSlcclxuICAgICAgICBvdGhlciA9IGZyb21WYWx1ZShvdGhlcik7XHJcbiAgICBpZiAodGhpcy5lcShvdGhlcikpXHJcbiAgICAgICAgcmV0dXJuIDA7XHJcbiAgICB2YXIgdGhpc05lZyA9IHRoaXMuaXNOZWdhdGl2ZSgpLFxyXG4gICAgICAgIG90aGVyTmVnID0gb3RoZXIuaXNOZWdhdGl2ZSgpO1xyXG4gICAgaWYgKHRoaXNOZWcgJiYgIW90aGVyTmVnKVxyXG4gICAgICAgIHJldHVybiAtMTtcclxuICAgIGlmICghdGhpc05lZyAmJiBvdGhlck5lZylcclxuICAgICAgICByZXR1cm4gMTtcclxuICAgIC8vIEF0IHRoaXMgcG9pbnQgdGhlIHNpZ24gYml0cyBhcmUgdGhlIHNhbWVcclxuICAgIGlmICghdGhpcy51bnNpZ25lZClcclxuICAgICAgICByZXR1cm4gdGhpcy5zdWIob3RoZXIpLmlzTmVnYXRpdmUoKSA/IC0xIDogMTtcclxuICAgIC8vIEJvdGggYXJlIHBvc2l0aXZlIGlmIGF0IGxlYXN0IG9uZSBpcyB1bnNpZ25lZFxyXG4gICAgcmV0dXJuIChvdGhlci5oaWdoID4+PiAwKSA+ICh0aGlzLmhpZ2ggPj4+IDApIHx8IChvdGhlci5oaWdoID09PSB0aGlzLmhpZ2ggJiYgKG90aGVyLmxvdyA+Pj4gMCkgPiAodGhpcy5sb3cgPj4+IDApKSA/IC0xIDogMTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBDb21wYXJlcyB0aGlzIExvbmcncyB2YWx1ZSB3aXRoIHRoZSBzcGVjaWZpZWQncy4gVGhpcyBpcyBhbiBhbGlhcyBvZiB7QGxpbmsgTG9uZyNjb21wYXJlfS5cclxuICogQGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSB7IUxvbmd8bnVtYmVyfHN0cmluZ30gb3RoZXIgT3RoZXIgdmFsdWVcclxuICogQHJldHVybnMge251bWJlcn0gMCBpZiB0aGV5IGFyZSB0aGUgc2FtZSwgMSBpZiB0aGUgdGhpcyBpcyBncmVhdGVyIGFuZCAtMVxyXG4gKiAgaWYgdGhlIGdpdmVuIG9uZSBpcyBncmVhdGVyXHJcbiAqL1xyXG5Mb25nUHJvdG90eXBlLmNvbXAgPSBMb25nUHJvdG90eXBlLmNvbXBhcmU7XHJcblxyXG4vKipcclxuICogTmVnYXRlcyB0aGlzIExvbmcncyB2YWx1ZS5cclxuICogQHJldHVybnMgeyFMb25nfSBOZWdhdGVkIExvbmdcclxuICovXHJcbkxvbmdQcm90b3R5cGUubmVnYXRlID0gZnVuY3Rpb24gbmVnYXRlKCkge1xyXG4gICAgaWYgKCF0aGlzLnVuc2lnbmVkICYmIHRoaXMuZXEoTUlOX1ZBTFVFKSlcclxuICAgICAgICByZXR1cm4gTUlOX1ZBTFVFO1xyXG4gICAgcmV0dXJuIHRoaXMubm90KCkuYWRkKE9ORSk7XHJcbn07XHJcblxyXG4vKipcclxuICogTmVnYXRlcyB0aGlzIExvbmcncyB2YWx1ZS4gVGhpcyBpcyBhbiBhbGlhcyBvZiB7QGxpbmsgTG9uZyNuZWdhdGV9LlxyXG4gKiBAZnVuY3Rpb25cclxuICogQHJldHVybnMgeyFMb25nfSBOZWdhdGVkIExvbmdcclxuICovXHJcbkxvbmdQcm90b3R5cGUubmVnID0gTG9uZ1Byb3RvdHlwZS5uZWdhdGU7XHJcblxyXG4vKipcclxuICogUmV0dXJucyB0aGUgc3VtIG9mIHRoaXMgYW5kIHRoZSBzcGVjaWZpZWQgTG9uZy5cclxuICogQHBhcmFtIHshTG9uZ3xudW1iZXJ8c3RyaW5nfSBhZGRlbmQgQWRkZW5kXHJcbiAqIEByZXR1cm5zIHshTG9uZ30gU3VtXHJcbiAqL1xyXG5Mb25nUHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIGFkZChhZGRlbmQpIHtcclxuICAgIGlmICghaXNMb25nKGFkZGVuZCkpXHJcbiAgICAgICAgYWRkZW5kID0gZnJvbVZhbHVlKGFkZGVuZCk7XHJcblxyXG4gICAgLy8gRGl2aWRlIGVhY2ggbnVtYmVyIGludG8gNCBjaHVua3Mgb2YgMTYgYml0cywgYW5kIHRoZW4gc3VtIHRoZSBjaHVua3MuXHJcblxyXG4gICAgdmFyIGE0OCA9IHRoaXMuaGlnaCA+Pj4gMTY7XHJcbiAgICB2YXIgYTMyID0gdGhpcy5oaWdoICYgMHhGRkZGO1xyXG4gICAgdmFyIGExNiA9IHRoaXMubG93ID4+PiAxNjtcclxuICAgIHZhciBhMDAgPSB0aGlzLmxvdyAmIDB4RkZGRjtcclxuXHJcbiAgICB2YXIgYjQ4ID0gYWRkZW5kLmhpZ2ggPj4+IDE2O1xyXG4gICAgdmFyIGIzMiA9IGFkZGVuZC5oaWdoICYgMHhGRkZGO1xyXG4gICAgdmFyIGIxNiA9IGFkZGVuZC5sb3cgPj4+IDE2O1xyXG4gICAgdmFyIGIwMCA9IGFkZGVuZC5sb3cgJiAweEZGRkY7XHJcblxyXG4gICAgdmFyIGM0OCA9IDAsIGMzMiA9IDAsIGMxNiA9IDAsIGMwMCA9IDA7XHJcbiAgICBjMDAgKz0gYTAwICsgYjAwO1xyXG4gICAgYzE2ICs9IGMwMCA+Pj4gMTY7XHJcbiAgICBjMDAgJj0gMHhGRkZGO1xyXG4gICAgYzE2ICs9IGExNiArIGIxNjtcclxuICAgIGMzMiArPSBjMTYgPj4+IDE2O1xyXG4gICAgYzE2ICY9IDB4RkZGRjtcclxuICAgIGMzMiArPSBhMzIgKyBiMzI7XHJcbiAgICBjNDggKz0gYzMyID4+PiAxNjtcclxuICAgIGMzMiAmPSAweEZGRkY7XHJcbiAgICBjNDggKz0gYTQ4ICsgYjQ4O1xyXG4gICAgYzQ4ICY9IDB4RkZGRjtcclxuICAgIHJldHVybiBmcm9tQml0cygoYzE2IDw8IDE2KSB8IGMwMCwgKGM0OCA8PCAxNikgfCBjMzIsIHRoaXMudW5zaWduZWQpO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFJldHVybnMgdGhlIGRpZmZlcmVuY2Ugb2YgdGhpcyBhbmQgdGhlIHNwZWNpZmllZCBMb25nLlxyXG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxzdHJpbmd9IHN1YnRyYWhlbmQgU3VidHJhaGVuZFxyXG4gKiBAcmV0dXJucyB7IUxvbmd9IERpZmZlcmVuY2VcclxuICovXHJcbkxvbmdQcm90b3R5cGUuc3VidHJhY3QgPSBmdW5jdGlvbiBzdWJ0cmFjdChzdWJ0cmFoZW5kKSB7XHJcbiAgICBpZiAoIWlzTG9uZyhzdWJ0cmFoZW5kKSlcclxuICAgICAgICBzdWJ0cmFoZW5kID0gZnJvbVZhbHVlKHN1YnRyYWhlbmQpO1xyXG4gICAgcmV0dXJuIHRoaXMuYWRkKHN1YnRyYWhlbmQubmVnKCkpO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFJldHVybnMgdGhlIGRpZmZlcmVuY2Ugb2YgdGhpcyBhbmQgdGhlIHNwZWNpZmllZCBMb25nLiBUaGlzIGlzIGFuIGFsaWFzIG9mIHtAbGluayBMb25nI3N1YnRyYWN0fS5cclxuICogQGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSB7IUxvbmd8bnVtYmVyfHN0cmluZ30gc3VidHJhaGVuZCBTdWJ0cmFoZW5kXHJcbiAqIEByZXR1cm5zIHshTG9uZ30gRGlmZmVyZW5jZVxyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5zdWIgPSBMb25nUHJvdG90eXBlLnN1YnRyYWN0O1xyXG5cclxuLyoqXHJcbiAqIFJldHVybnMgdGhlIHByb2R1Y3Qgb2YgdGhpcyBhbmQgdGhlIHNwZWNpZmllZCBMb25nLlxyXG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxzdHJpbmd9IG11bHRpcGxpZXIgTXVsdGlwbGllclxyXG4gKiBAcmV0dXJucyB7IUxvbmd9IFByb2R1Y3RcclxuICovXHJcbkxvbmdQcm90b3R5cGUubXVsdGlwbHkgPSBmdW5jdGlvbiBtdWx0aXBseShtdWx0aXBsaWVyKSB7XHJcbiAgICBpZiAodGhpcy5pc1plcm8oKSlcclxuICAgICAgICByZXR1cm4gWkVSTztcclxuICAgIGlmICghaXNMb25nKG11bHRpcGxpZXIpKVxyXG4gICAgICAgIG11bHRpcGxpZXIgPSBmcm9tVmFsdWUobXVsdGlwbGllcik7XHJcblxyXG4gICAgLy8gdXNlIHdhc20gc3VwcG9ydCBpZiBwcmVzZW50XHJcbiAgICBpZiAod2FzbSkge1xyXG4gICAgICAgIHZhciBsb3cgPSB3YXNtLm11bCh0aGlzLmxvdyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5oaWdoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBtdWx0aXBsaWVyLmxvdyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgbXVsdGlwbGllci5oaWdoKTtcclxuICAgICAgICByZXR1cm4gZnJvbUJpdHMobG93LCB3YXNtLmdldF9oaWdoKCksIHRoaXMudW5zaWduZWQpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChtdWx0aXBsaWVyLmlzWmVybygpKVxyXG4gICAgICAgIHJldHVybiBaRVJPO1xyXG4gICAgaWYgKHRoaXMuZXEoTUlOX1ZBTFVFKSlcclxuICAgICAgICByZXR1cm4gbXVsdGlwbGllci5pc09kZCgpID8gTUlOX1ZBTFVFIDogWkVSTztcclxuICAgIGlmIChtdWx0aXBsaWVyLmVxKE1JTl9WQUxVRSkpXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNPZGQoKSA/IE1JTl9WQUxVRSA6IFpFUk87XHJcblxyXG4gICAgaWYgKHRoaXMuaXNOZWdhdGl2ZSgpKSB7XHJcbiAgICAgICAgaWYgKG11bHRpcGxpZXIuaXNOZWdhdGl2ZSgpKVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5uZWcoKS5tdWwobXVsdGlwbGllci5uZWcoKSk7XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5uZWcoKS5tdWwobXVsdGlwbGllcikubmVnKCk7XHJcbiAgICB9IGVsc2UgaWYgKG11bHRpcGxpZXIuaXNOZWdhdGl2ZSgpKVxyXG4gICAgICAgIHJldHVybiB0aGlzLm11bChtdWx0aXBsaWVyLm5lZygpKS5uZWcoKTtcclxuXHJcbiAgICAvLyBJZiBib3RoIGxvbmdzIGFyZSBzbWFsbCwgdXNlIGZsb2F0IG11bHRpcGxpY2F0aW9uXHJcbiAgICBpZiAodGhpcy5sdChUV09fUFdSXzI0KSAmJiBtdWx0aXBsaWVyLmx0KFRXT19QV1JfMjQpKVxyXG4gICAgICAgIHJldHVybiBmcm9tTnVtYmVyKHRoaXMudG9OdW1iZXIoKSAqIG11bHRpcGxpZXIudG9OdW1iZXIoKSwgdGhpcy51bnNpZ25lZCk7XHJcblxyXG4gICAgLy8gRGl2aWRlIGVhY2ggbG9uZyBpbnRvIDQgY2h1bmtzIG9mIDE2IGJpdHMsIGFuZCB0aGVuIGFkZCB1cCA0eDQgcHJvZHVjdHMuXHJcbiAgICAvLyBXZSBjYW4gc2tpcCBwcm9kdWN0cyB0aGF0IHdvdWxkIG92ZXJmbG93LlxyXG5cclxuICAgIHZhciBhNDggPSB0aGlzLmhpZ2ggPj4+IDE2O1xyXG4gICAgdmFyIGEzMiA9IHRoaXMuaGlnaCAmIDB4RkZGRjtcclxuICAgIHZhciBhMTYgPSB0aGlzLmxvdyA+Pj4gMTY7XHJcbiAgICB2YXIgYTAwID0gdGhpcy5sb3cgJiAweEZGRkY7XHJcblxyXG4gICAgdmFyIGI0OCA9IG11bHRpcGxpZXIuaGlnaCA+Pj4gMTY7XHJcbiAgICB2YXIgYjMyID0gbXVsdGlwbGllci5oaWdoICYgMHhGRkZGO1xyXG4gICAgdmFyIGIxNiA9IG11bHRpcGxpZXIubG93ID4+PiAxNjtcclxuICAgIHZhciBiMDAgPSBtdWx0aXBsaWVyLmxvdyAmIDB4RkZGRjtcclxuXHJcbiAgICB2YXIgYzQ4ID0gMCwgYzMyID0gMCwgYzE2ID0gMCwgYzAwID0gMDtcclxuICAgIGMwMCArPSBhMDAgKiBiMDA7XHJcbiAgICBjMTYgKz0gYzAwID4+PiAxNjtcclxuICAgIGMwMCAmPSAweEZGRkY7XHJcbiAgICBjMTYgKz0gYTE2ICogYjAwO1xyXG4gICAgYzMyICs9IGMxNiA+Pj4gMTY7XHJcbiAgICBjMTYgJj0gMHhGRkZGO1xyXG4gICAgYzE2ICs9IGEwMCAqIGIxNjtcclxuICAgIGMzMiArPSBjMTYgPj4+IDE2O1xyXG4gICAgYzE2ICY9IDB4RkZGRjtcclxuICAgIGMzMiArPSBhMzIgKiBiMDA7XHJcbiAgICBjNDggKz0gYzMyID4+PiAxNjtcclxuICAgIGMzMiAmPSAweEZGRkY7XHJcbiAgICBjMzIgKz0gYTE2ICogYjE2O1xyXG4gICAgYzQ4ICs9IGMzMiA+Pj4gMTY7XHJcbiAgICBjMzIgJj0gMHhGRkZGO1xyXG4gICAgYzMyICs9IGEwMCAqIGIzMjtcclxuICAgIGM0OCArPSBjMzIgPj4+IDE2O1xyXG4gICAgYzMyICY9IDB4RkZGRjtcclxuICAgIGM0OCArPSBhNDggKiBiMDAgKyBhMzIgKiBiMTYgKyBhMTYgKiBiMzIgKyBhMDAgKiBiNDg7XHJcbiAgICBjNDggJj0gMHhGRkZGO1xyXG4gICAgcmV0dXJuIGZyb21CaXRzKChjMTYgPDwgMTYpIHwgYzAwLCAoYzQ4IDw8IDE2KSB8IGMzMiwgdGhpcy51bnNpZ25lZCk7XHJcbn07XHJcblxyXG4vKipcclxuICogUmV0dXJucyB0aGUgcHJvZHVjdCBvZiB0aGlzIGFuZCB0aGUgc3BlY2lmaWVkIExvbmcuIFRoaXMgaXMgYW4gYWxpYXMgb2Yge0BsaW5rIExvbmcjbXVsdGlwbHl9LlxyXG4gKiBAZnVuY3Rpb25cclxuICogQHBhcmFtIHshTG9uZ3xudW1iZXJ8c3RyaW5nfSBtdWx0aXBsaWVyIE11bHRpcGxpZXJcclxuICogQHJldHVybnMgeyFMb25nfSBQcm9kdWN0XHJcbiAqL1xyXG5Mb25nUHJvdG90eXBlLm11bCA9IExvbmdQcm90b3R5cGUubXVsdGlwbHk7XHJcblxyXG4vKipcclxuICogUmV0dXJucyB0aGlzIExvbmcgZGl2aWRlZCBieSB0aGUgc3BlY2lmaWVkLiBUaGUgcmVzdWx0IGlzIHNpZ25lZCBpZiB0aGlzIExvbmcgaXMgc2lnbmVkIG9yXHJcbiAqICB1bnNpZ25lZCBpZiB0aGlzIExvbmcgaXMgdW5zaWduZWQuXHJcbiAqIEBwYXJhbSB7IUxvbmd8bnVtYmVyfHN0cmluZ30gZGl2aXNvciBEaXZpc29yXHJcbiAqIEByZXR1cm5zIHshTG9uZ30gUXVvdGllbnRcclxuICovXHJcbkxvbmdQcm90b3R5cGUuZGl2aWRlID0gZnVuY3Rpb24gZGl2aWRlKGRpdmlzb3IpIHtcclxuICAgIGlmICghaXNMb25nKGRpdmlzb3IpKVxyXG4gICAgICAgIGRpdmlzb3IgPSBmcm9tVmFsdWUoZGl2aXNvcik7XHJcbiAgICBpZiAoZGl2aXNvci5pc1plcm8oKSlcclxuICAgICAgICB0aHJvdyBFcnJvcignZGl2aXNpb24gYnkgemVybycpO1xyXG5cclxuICAgIC8vIHVzZSB3YXNtIHN1cHBvcnQgaWYgcHJlc2VudFxyXG4gICAgaWYgKHdhc20pIHtcclxuICAgICAgICAvLyBndWFyZCBhZ2FpbnN0IHNpZ25lZCBkaXZpc2lvbiBvdmVyZmxvdzogdGhlIGxhcmdlc3RcclxuICAgICAgICAvLyBuZWdhdGl2ZSBudW1iZXIgLyAtMSB3b3VsZCBiZSAxIGxhcmdlciB0aGFuIHRoZSBsYXJnZXN0XHJcbiAgICAgICAgLy8gcG9zaXRpdmUgbnVtYmVyLCBkdWUgdG8gdHdvJ3MgY29tcGxlbWVudC5cclxuICAgICAgICBpZiAoIXRoaXMudW5zaWduZWQgJiZcclxuICAgICAgICAgICAgdGhpcy5oaWdoID09PSAtMHg4MDAwMDAwMCAmJlxyXG4gICAgICAgICAgICBkaXZpc29yLmxvdyA9PT0gLTEgJiYgZGl2aXNvci5oaWdoID09PSAtMSkge1xyXG4gICAgICAgICAgICAvLyBiZSBjb25zaXN0ZW50IHdpdGggbm9uLXdhc20gY29kZSBwYXRoXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgbG93ID0gKHRoaXMudW5zaWduZWQgPyB3YXNtLmRpdl91IDogd2FzbS5kaXZfcykoXHJcbiAgICAgICAgICAgIHRoaXMubG93LFxyXG4gICAgICAgICAgICB0aGlzLmhpZ2gsXHJcbiAgICAgICAgICAgIGRpdmlzb3IubG93LFxyXG4gICAgICAgICAgICBkaXZpc29yLmhpZ2hcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBmcm9tQml0cyhsb3csIHdhc20uZ2V0X2hpZ2goKSwgdGhpcy51bnNpZ25lZCk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMuaXNaZXJvKCkpXHJcbiAgICAgICAgcmV0dXJuIHRoaXMudW5zaWduZWQgPyBVWkVSTyA6IFpFUk87XHJcbiAgICB2YXIgYXBwcm94LCByZW0sIHJlcztcclxuICAgIGlmICghdGhpcy51bnNpZ25lZCkge1xyXG4gICAgICAgIC8vIFRoaXMgc2VjdGlvbiBpcyBvbmx5IHJlbGV2YW50IGZvciBzaWduZWQgbG9uZ3MgYW5kIGlzIGRlcml2ZWQgZnJvbSB0aGVcclxuICAgICAgICAvLyBjbG9zdXJlIGxpYnJhcnkgYXMgYSB3aG9sZS5cclxuICAgICAgICBpZiAodGhpcy5lcShNSU5fVkFMVUUpKSB7XHJcbiAgICAgICAgICAgIGlmIChkaXZpc29yLmVxKE9ORSkgfHwgZGl2aXNvci5lcShORUdfT05FKSlcclxuICAgICAgICAgICAgICAgIHJldHVybiBNSU5fVkFMVUU7ICAvLyByZWNhbGwgdGhhdCAtTUlOX1ZBTFVFID09IE1JTl9WQUxVRVxyXG4gICAgICAgICAgICBlbHNlIGlmIChkaXZpc29yLmVxKE1JTl9WQUxVRSkpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gT05FO1xyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIEF0IHRoaXMgcG9pbnQsIHdlIGhhdmUgfG90aGVyfCA+PSAyLCBzbyB8dGhpcy9vdGhlcnwgPCB8TUlOX1ZBTFVFfC5cclxuICAgICAgICAgICAgICAgIHZhciBoYWxmVGhpcyA9IHRoaXMuc2hyKDEpO1xyXG4gICAgICAgICAgICAgICAgYXBwcm94ID0gaGFsZlRoaXMuZGl2KGRpdmlzb3IpLnNobCgxKTtcclxuICAgICAgICAgICAgICAgIGlmIChhcHByb3guZXEoWkVSTykpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGl2aXNvci5pc05lZ2F0aXZlKCkgPyBPTkUgOiBORUdfT05FO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZW0gPSB0aGlzLnN1YihkaXZpc29yLm11bChhcHByb3gpKTtcclxuICAgICAgICAgICAgICAgICAgICByZXMgPSBhcHByb3guYWRkKHJlbS5kaXYoZGl2aXNvcikpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXM7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgaWYgKGRpdmlzb3IuZXEoTUlOX1ZBTFVFKSlcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudW5zaWduZWQgPyBVWkVSTyA6IFpFUk87XHJcbiAgICAgICAgaWYgKHRoaXMuaXNOZWdhdGl2ZSgpKSB7XHJcbiAgICAgICAgICAgIGlmIChkaXZpc29yLmlzTmVnYXRpdmUoKSlcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm5lZygpLmRpdihkaXZpc29yLm5lZygpKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMubmVnKCkuZGl2KGRpdmlzb3IpLm5lZygpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZGl2aXNvci5pc05lZ2F0aXZlKCkpXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRpdihkaXZpc29yLm5lZygpKS5uZWcoKTtcclxuICAgICAgICByZXMgPSBaRVJPO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBUaGUgYWxnb3JpdGhtIGJlbG93IGhhcyBub3QgYmVlbiBtYWRlIGZvciB1bnNpZ25lZCBsb25ncy4gSXQncyB0aGVyZWZvcmVcclxuICAgICAgICAvLyByZXF1aXJlZCB0byB0YWtlIHNwZWNpYWwgY2FyZSBvZiB0aGUgTVNCIHByaW9yIHRvIHJ1bm5pbmcgaXQuXHJcbiAgICAgICAgaWYgKCFkaXZpc29yLnVuc2lnbmVkKVxyXG4gICAgICAgICAgICBkaXZpc29yID0gZGl2aXNvci50b1Vuc2lnbmVkKCk7XHJcbiAgICAgICAgaWYgKGRpdmlzb3IuZ3QodGhpcykpXHJcbiAgICAgICAgICAgIHJldHVybiBVWkVSTztcclxuICAgICAgICBpZiAoZGl2aXNvci5ndCh0aGlzLnNocnUoMSkpKSAvLyAxNSA+Pj4gMSA9IDcgOyB3aXRoIGRpdmlzb3IgPSA4IDsgdHJ1ZVxyXG4gICAgICAgICAgICByZXR1cm4gVU9ORTtcclxuICAgICAgICByZXMgPSBVWkVSTztcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXBlYXQgdGhlIGZvbGxvd2luZyB1bnRpbCB0aGUgcmVtYWluZGVyIGlzIGxlc3MgdGhhbiBvdGhlcjogIGZpbmQgYVxyXG4gICAgLy8gZmxvYXRpbmctcG9pbnQgdGhhdCBhcHByb3hpbWF0ZXMgcmVtYWluZGVyIC8gb3RoZXIgKmZyb20gYmVsb3cqLCBhZGQgdGhpc1xyXG4gICAgLy8gaW50byB0aGUgcmVzdWx0LCBhbmQgc3VidHJhY3QgaXQgZnJvbSB0aGUgcmVtYWluZGVyLiAgSXQgaXMgY3JpdGljYWwgdGhhdFxyXG4gICAgLy8gdGhlIGFwcHJveGltYXRlIHZhbHVlIGlzIGxlc3MgdGhhbiBvciBlcXVhbCB0byB0aGUgcmVhbCB2YWx1ZSBzbyB0aGF0IHRoZVxyXG4gICAgLy8gcmVtYWluZGVyIG5ldmVyIGJlY29tZXMgbmVnYXRpdmUuXHJcbiAgICByZW0gPSB0aGlzO1xyXG4gICAgd2hpbGUgKHJlbS5ndGUoZGl2aXNvcikpIHtcclxuICAgICAgICAvLyBBcHByb3hpbWF0ZSB0aGUgcmVzdWx0IG9mIGRpdmlzaW9uLiBUaGlzIG1heSBiZSBhIGxpdHRsZSBncmVhdGVyIG9yXHJcbiAgICAgICAgLy8gc21hbGxlciB0aGFuIHRoZSBhY3R1YWwgdmFsdWUuXHJcbiAgICAgICAgYXBwcm94ID0gTWF0aC5tYXgoMSwgTWF0aC5mbG9vcihyZW0udG9OdW1iZXIoKSAvIGRpdmlzb3IudG9OdW1iZXIoKSkpO1xyXG5cclxuICAgICAgICAvLyBXZSB3aWxsIHR3ZWFrIHRoZSBhcHByb3hpbWF0ZSByZXN1bHQgYnkgY2hhbmdpbmcgaXQgaW4gdGhlIDQ4LXRoIGRpZ2l0IG9yXHJcbiAgICAgICAgLy8gdGhlIHNtYWxsZXN0IG5vbi1mcmFjdGlvbmFsIGRpZ2l0LCB3aGljaGV2ZXIgaXMgbGFyZ2VyLlxyXG4gICAgICAgIHZhciBsb2cyID0gTWF0aC5jZWlsKE1hdGgubG9nKGFwcHJveCkgLyBNYXRoLkxOMiksXHJcbiAgICAgICAgICAgIGRlbHRhID0gKGxvZzIgPD0gNDgpID8gMSA6IHBvd19kYmwoMiwgbG9nMiAtIDQ4KSxcclxuXHJcbiAgICAgICAgLy8gRGVjcmVhc2UgdGhlIGFwcHJveGltYXRpb24gdW50aWwgaXQgaXMgc21hbGxlciB0aGFuIHRoZSByZW1haW5kZXIuICBOb3RlXHJcbiAgICAgICAgLy8gdGhhdCBpZiBpdCBpcyB0b28gbGFyZ2UsIHRoZSBwcm9kdWN0IG92ZXJmbG93cyBhbmQgaXMgbmVnYXRpdmUuXHJcbiAgICAgICAgICAgIGFwcHJveFJlcyA9IGZyb21OdW1iZXIoYXBwcm94KSxcclxuICAgICAgICAgICAgYXBwcm94UmVtID0gYXBwcm94UmVzLm11bChkaXZpc29yKTtcclxuICAgICAgICB3aGlsZSAoYXBwcm94UmVtLmlzTmVnYXRpdmUoKSB8fCBhcHByb3hSZW0uZ3QocmVtKSkge1xyXG4gICAgICAgICAgICBhcHByb3ggLT0gZGVsdGE7XHJcbiAgICAgICAgICAgIGFwcHJveFJlcyA9IGZyb21OdW1iZXIoYXBwcm94LCB0aGlzLnVuc2lnbmVkKTtcclxuICAgICAgICAgICAgYXBwcm94UmVtID0gYXBwcm94UmVzLm11bChkaXZpc29yKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFdlIGtub3cgdGhlIGFuc3dlciBjYW4ndCBiZSB6ZXJvLi4uIGFuZCBhY3R1YWxseSwgemVybyB3b3VsZCBjYXVzZVxyXG4gICAgICAgIC8vIGluZmluaXRlIHJlY3Vyc2lvbiBzaW5jZSB3ZSB3b3VsZCBtYWtlIG5vIHByb2dyZXNzLlxyXG4gICAgICAgIGlmIChhcHByb3hSZXMuaXNaZXJvKCkpXHJcbiAgICAgICAgICAgIGFwcHJveFJlcyA9IE9ORTtcclxuXHJcbiAgICAgICAgcmVzID0gcmVzLmFkZChhcHByb3hSZXMpO1xyXG4gICAgICAgIHJlbSA9IHJlbS5zdWIoYXBwcm94UmVtKTtcclxuICAgIH1cclxuICAgIHJldHVybiByZXM7XHJcbn07XHJcblxyXG4vKipcclxuICogUmV0dXJucyB0aGlzIExvbmcgZGl2aWRlZCBieSB0aGUgc3BlY2lmaWVkLiBUaGlzIGlzIGFuIGFsaWFzIG9mIHtAbGluayBMb25nI2RpdmlkZX0uXHJcbiAqIEBmdW5jdGlvblxyXG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxzdHJpbmd9IGRpdmlzb3IgRGl2aXNvclxyXG4gKiBAcmV0dXJucyB7IUxvbmd9IFF1b3RpZW50XHJcbiAqL1xyXG5Mb25nUHJvdG90eXBlLmRpdiA9IExvbmdQcm90b3R5cGUuZGl2aWRlO1xyXG5cclxuLyoqXHJcbiAqIFJldHVybnMgdGhpcyBMb25nIG1vZHVsbyB0aGUgc3BlY2lmaWVkLlxyXG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxzdHJpbmd9IGRpdmlzb3IgRGl2aXNvclxyXG4gKiBAcmV0dXJucyB7IUxvbmd9IFJlbWFpbmRlclxyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5tb2R1bG8gPSBmdW5jdGlvbiBtb2R1bG8oZGl2aXNvcikge1xyXG4gICAgaWYgKCFpc0xvbmcoZGl2aXNvcikpXHJcbiAgICAgICAgZGl2aXNvciA9IGZyb21WYWx1ZShkaXZpc29yKTtcclxuXHJcbiAgICAvLyB1c2Ugd2FzbSBzdXBwb3J0IGlmIHByZXNlbnRcclxuICAgIGlmICh3YXNtKSB7XHJcbiAgICAgICAgdmFyIGxvdyA9ICh0aGlzLnVuc2lnbmVkID8gd2FzbS5yZW1fdSA6IHdhc20ucmVtX3MpKFxyXG4gICAgICAgICAgICB0aGlzLmxvdyxcclxuICAgICAgICAgICAgdGhpcy5oaWdoLFxyXG4gICAgICAgICAgICBkaXZpc29yLmxvdyxcclxuICAgICAgICAgICAgZGl2aXNvci5oaWdoXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gZnJvbUJpdHMobG93LCB3YXNtLmdldF9oaWdoKCksIHRoaXMudW5zaWduZWQpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLnN1Yih0aGlzLmRpdihkaXZpc29yKS5tdWwoZGl2aXNvcikpO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFJldHVybnMgdGhpcyBMb25nIG1vZHVsbyB0aGUgc3BlY2lmaWVkLiBUaGlzIGlzIGFuIGFsaWFzIG9mIHtAbGluayBMb25nI21vZHVsb30uXHJcbiAqIEBmdW5jdGlvblxyXG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxzdHJpbmd9IGRpdmlzb3IgRGl2aXNvclxyXG4gKiBAcmV0dXJucyB7IUxvbmd9IFJlbWFpbmRlclxyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS5tb2QgPSBMb25nUHJvdG90eXBlLm1vZHVsbztcclxuXHJcbi8qKlxyXG4gKiBSZXR1cm5zIHRoaXMgTG9uZyBtb2R1bG8gdGhlIHNwZWNpZmllZC4gVGhpcyBpcyBhbiBhbGlhcyBvZiB7QGxpbmsgTG9uZyNtb2R1bG99LlxyXG4gKiBAZnVuY3Rpb25cclxuICogQHBhcmFtIHshTG9uZ3xudW1iZXJ8c3RyaW5nfSBkaXZpc29yIERpdmlzb3JcclxuICogQHJldHVybnMgeyFMb25nfSBSZW1haW5kZXJcclxuICovXHJcbkxvbmdQcm90b3R5cGUucmVtID0gTG9uZ1Byb3RvdHlwZS5tb2R1bG87XHJcblxyXG4vKipcclxuICogUmV0dXJucyB0aGUgYml0d2lzZSBOT1Qgb2YgdGhpcyBMb25nLlxyXG4gKiBAcmV0dXJucyB7IUxvbmd9XHJcbiAqL1xyXG5Mb25nUHJvdG90eXBlLm5vdCA9IGZ1bmN0aW9uIG5vdCgpIHtcclxuICAgIHJldHVybiBmcm9tQml0cyh+dGhpcy5sb3csIH50aGlzLmhpZ2gsIHRoaXMudW5zaWduZWQpO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFJldHVybnMgdGhlIGJpdHdpc2UgQU5EIG9mIHRoaXMgTG9uZyBhbmQgdGhlIHNwZWNpZmllZC5cclxuICogQHBhcmFtIHshTG9uZ3xudW1iZXJ8c3RyaW5nfSBvdGhlciBPdGhlciBMb25nXHJcbiAqIEByZXR1cm5zIHshTG9uZ31cclxuICovXHJcbkxvbmdQcm90b3R5cGUuYW5kID0gZnVuY3Rpb24gYW5kKG90aGVyKSB7XHJcbiAgICBpZiAoIWlzTG9uZyhvdGhlcikpXHJcbiAgICAgICAgb3RoZXIgPSBmcm9tVmFsdWUob3RoZXIpO1xyXG4gICAgcmV0dXJuIGZyb21CaXRzKHRoaXMubG93ICYgb3RoZXIubG93LCB0aGlzLmhpZ2ggJiBvdGhlci5oaWdoLCB0aGlzLnVuc2lnbmVkKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBSZXR1cm5zIHRoZSBiaXR3aXNlIE9SIG9mIHRoaXMgTG9uZyBhbmQgdGhlIHNwZWNpZmllZC5cclxuICogQHBhcmFtIHshTG9uZ3xudW1iZXJ8c3RyaW5nfSBvdGhlciBPdGhlciBMb25nXHJcbiAqIEByZXR1cm5zIHshTG9uZ31cclxuICovXHJcbkxvbmdQcm90b3R5cGUub3IgPSBmdW5jdGlvbiBvcihvdGhlcikge1xyXG4gICAgaWYgKCFpc0xvbmcob3RoZXIpKVxyXG4gICAgICAgIG90aGVyID0gZnJvbVZhbHVlKG90aGVyKTtcclxuICAgIHJldHVybiBmcm9tQml0cyh0aGlzLmxvdyB8IG90aGVyLmxvdywgdGhpcy5oaWdoIHwgb3RoZXIuaGlnaCwgdGhpcy51bnNpZ25lZCk7XHJcbn07XHJcblxyXG4vKipcclxuICogUmV0dXJucyB0aGUgYml0d2lzZSBYT1Igb2YgdGhpcyBMb25nIGFuZCB0aGUgZ2l2ZW4gb25lLlxyXG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxzdHJpbmd9IG90aGVyIE90aGVyIExvbmdcclxuICogQHJldHVybnMgeyFMb25nfVxyXG4gKi9cclxuTG9uZ1Byb3RvdHlwZS54b3IgPSBmdW5jdGlvbiB4b3Iob3RoZXIpIHtcclxuICAgIGlmICghaXNMb25nKG90aGVyKSlcclxuICAgICAgICBvdGhlciA9IGZyb21WYWx1ZShvdGhlcik7XHJcbiAgICByZXR1cm4gZnJvbUJpdHModGhpcy5sb3cgXiBvdGhlci5sb3csIHRoaXMuaGlnaCBeIG90aGVyLmhpZ2gsIHRoaXMudW5zaWduZWQpO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFJldHVybnMgdGhpcyBMb25nIHdpdGggYml0cyBzaGlmdGVkIHRvIHRoZSBsZWZ0IGJ5IHRoZSBnaXZlbiBhbW91bnQuXHJcbiAqIEBwYXJhbSB7bnVtYmVyfCFMb25nfSBudW1CaXRzIE51bWJlciBvZiBiaXRzXHJcbiAqIEByZXR1cm5zIHshTG9uZ30gU2hpZnRlZCBMb25nXHJcbiAqL1xyXG5Mb25nUHJvdG90eXBlLnNoaWZ0TGVmdCA9IGZ1bmN0aW9uIHNoaWZ0TGVmdChudW1CaXRzKSB7XHJcbiAgICBpZiAoaXNMb25nKG51bUJpdHMpKVxyXG4gICAgICAgIG51bUJpdHMgPSBudW1CaXRzLnRvSW50KCk7XHJcbiAgICBpZiAoKG51bUJpdHMgJj0gNjMpID09PSAwKVxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgZWxzZSBpZiAobnVtQml0cyA8IDMyKVxyXG4gICAgICAgIHJldHVybiBmcm9tQml0cyh0aGlzLmxvdyA8PCBudW1CaXRzLCAodGhpcy5oaWdoIDw8IG51bUJpdHMpIHwgKHRoaXMubG93ID4+PiAoMzIgLSBudW1CaXRzKSksIHRoaXMudW5zaWduZWQpO1xyXG4gICAgZWxzZVxyXG4gICAgICAgIHJldHVybiBmcm9tQml0cygwLCB0aGlzLmxvdyA8PCAobnVtQml0cyAtIDMyKSwgdGhpcy51bnNpZ25lZCk7XHJcbn07XHJcblxyXG4vKipcclxuICogUmV0dXJucyB0aGlzIExvbmcgd2l0aCBiaXRzIHNoaWZ0ZWQgdG8gdGhlIGxlZnQgYnkgdGhlIGdpdmVuIGFtb3VudC4gVGhpcyBpcyBhbiBhbGlhcyBvZiB7QGxpbmsgTG9uZyNzaGlmdExlZnR9LlxyXG4gKiBAZnVuY3Rpb25cclxuICogQHBhcmFtIHtudW1iZXJ8IUxvbmd9IG51bUJpdHMgTnVtYmVyIG9mIGJpdHNcclxuICogQHJldHVybnMgeyFMb25nfSBTaGlmdGVkIExvbmdcclxuICovXHJcbkxvbmdQcm90b3R5cGUuc2hsID0gTG9uZ1Byb3RvdHlwZS5zaGlmdExlZnQ7XHJcblxyXG4vKipcclxuICogUmV0dXJucyB0aGlzIExvbmcgd2l0aCBiaXRzIGFyaXRobWV0aWNhbGx5IHNoaWZ0ZWQgdG8gdGhlIHJpZ2h0IGJ5IHRoZSBnaXZlbiBhbW91bnQuXHJcbiAqIEBwYXJhbSB7bnVtYmVyfCFMb25nfSBudW1CaXRzIE51bWJlciBvZiBiaXRzXHJcbiAqIEByZXR1cm5zIHshTG9uZ30gU2hpZnRlZCBMb25nXHJcbiAqL1xyXG5Mb25nUHJvdG90eXBlLnNoaWZ0UmlnaHQgPSBmdW5jdGlvbiBzaGlmdFJpZ2h0KG51bUJpdHMpIHtcclxuICAgIGlmIChpc0xvbmcobnVtQml0cykpXHJcbiAgICAgICAgbnVtQml0cyA9IG51bUJpdHMudG9JbnQoKTtcclxuICAgIGlmICgobnVtQml0cyAmPSA2MykgPT09IDApXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICBlbHNlIGlmIChudW1CaXRzIDwgMzIpXHJcbiAgICAgICAgcmV0dXJuIGZyb21CaXRzKCh0aGlzLmxvdyA+Pj4gbnVtQml0cykgfCAodGhpcy5oaWdoIDw8ICgzMiAtIG51bUJpdHMpKSwgdGhpcy5oaWdoID4+IG51bUJpdHMsIHRoaXMudW5zaWduZWQpO1xyXG4gICAgZWxzZVxyXG4gICAgICAgIHJldHVybiBmcm9tQml0cyh0aGlzLmhpZ2ggPj4gKG51bUJpdHMgLSAzMiksIHRoaXMuaGlnaCA+PSAwID8gMCA6IC0xLCB0aGlzLnVuc2lnbmVkKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBSZXR1cm5zIHRoaXMgTG9uZyB3aXRoIGJpdHMgYXJpdGhtZXRpY2FsbHkgc2hpZnRlZCB0byB0aGUgcmlnaHQgYnkgdGhlIGdpdmVuIGFtb3VudC4gVGhpcyBpcyBhbiBhbGlhcyBvZiB7QGxpbmsgTG9uZyNzaGlmdFJpZ2h0fS5cclxuICogQGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSB7bnVtYmVyfCFMb25nfSBudW1CaXRzIE51bWJlciBvZiBiaXRzXHJcbiAqIEByZXR1cm5zIHshTG9uZ30gU2hpZnRlZCBMb25nXHJcbiAqL1xyXG5Mb25nUHJvdG90eXBlLnNociA9IExvbmdQcm90b3R5cGUuc2hpZnRSaWdodDtcclxuXHJcbi8qKlxyXG4gKiBSZXR1cm5zIHRoaXMgTG9uZyB3aXRoIGJpdHMgbG9naWNhbGx5IHNoaWZ0ZWQgdG8gdGhlIHJpZ2h0IGJ5IHRoZSBnaXZlbiBhbW91bnQuXHJcbiAqIEBwYXJhbSB7bnVtYmVyfCFMb25nfSBudW1CaXRzIE51bWJlciBvZiBiaXRzXHJcbiAqIEByZXR1cm5zIHshTG9uZ30gU2hpZnRlZCBMb25nXHJcbiAqL1xyXG5Mb25nUHJvdG90eXBlLnNoaWZ0UmlnaHRVbnNpZ25lZCA9IGZ1bmN0aW9uIHNoaWZ0UmlnaHRVbnNpZ25lZChudW1CaXRzKSB7XHJcbiAgICBpZiAoaXNMb25nKG51bUJpdHMpKVxyXG4gICAgICAgIG51bUJpdHMgPSBudW1CaXRzLnRvSW50KCk7XHJcbiAgICBudW1CaXRzICY9IDYzO1xyXG4gICAgaWYgKG51bUJpdHMgPT09IDApXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB2YXIgaGlnaCA9IHRoaXMuaGlnaDtcclxuICAgICAgICBpZiAobnVtQml0cyA8IDMyKSB7XHJcbiAgICAgICAgICAgIHZhciBsb3cgPSB0aGlzLmxvdztcclxuICAgICAgICAgICAgcmV0dXJuIGZyb21CaXRzKChsb3cgPj4+IG51bUJpdHMpIHwgKGhpZ2ggPDwgKDMyIC0gbnVtQml0cykpLCBoaWdoID4+PiBudW1CaXRzLCB0aGlzLnVuc2lnbmVkKTtcclxuICAgICAgICB9IGVsc2UgaWYgKG51bUJpdHMgPT09IDMyKVxyXG4gICAgICAgICAgICByZXR1cm4gZnJvbUJpdHMoaGlnaCwgMCwgdGhpcy51bnNpZ25lZCk7XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICByZXR1cm4gZnJvbUJpdHMoaGlnaCA+Pj4gKG51bUJpdHMgLSAzMiksIDAsIHRoaXMudW5zaWduZWQpO1xyXG4gICAgfVxyXG59O1xyXG5cclxuLyoqXHJcbiAqIFJldHVybnMgdGhpcyBMb25nIHdpdGggYml0cyBsb2dpY2FsbHkgc2hpZnRlZCB0byB0aGUgcmlnaHQgYnkgdGhlIGdpdmVuIGFtb3VudC4gVGhpcyBpcyBhbiBhbGlhcyBvZiB7QGxpbmsgTG9uZyNzaGlmdFJpZ2h0VW5zaWduZWR9LlxyXG4gKiBAZnVuY3Rpb25cclxuICogQHBhcmFtIHtudW1iZXJ8IUxvbmd9IG51bUJpdHMgTnVtYmVyIG9mIGJpdHNcclxuICogQHJldHVybnMgeyFMb25nfSBTaGlmdGVkIExvbmdcclxuICovXHJcbkxvbmdQcm90b3R5cGUuc2hydSA9IExvbmdQcm90b3R5cGUuc2hpZnRSaWdodFVuc2lnbmVkO1xyXG5cclxuLyoqXHJcbiAqIFJldHVybnMgdGhpcyBMb25nIHdpdGggYml0cyBsb2dpY2FsbHkgc2hpZnRlZCB0byB0aGUgcmlnaHQgYnkgdGhlIGdpdmVuIGFtb3VudC4gVGhpcyBpcyBhbiBhbGlhcyBvZiB7QGxpbmsgTG9uZyNzaGlmdFJpZ2h0VW5zaWduZWR9LlxyXG4gKiBAZnVuY3Rpb25cclxuICogQHBhcmFtIHtudW1iZXJ8IUxvbmd9IG51bUJpdHMgTnVtYmVyIG9mIGJpdHNcclxuICogQHJldHVybnMgeyFMb25nfSBTaGlmdGVkIExvbmdcclxuICovXHJcbkxvbmdQcm90b3R5cGUuc2hyX3UgPSBMb25nUHJvdG90eXBlLnNoaWZ0UmlnaHRVbnNpZ25lZDtcclxuXHJcbi8qKlxyXG4gKiBDb252ZXJ0cyB0aGlzIExvbmcgdG8gc2lnbmVkLlxyXG4gKiBAcmV0dXJucyB7IUxvbmd9IFNpZ25lZCBsb25nXHJcbiAqL1xyXG5Mb25nUHJvdG90eXBlLnRvU2lnbmVkID0gZnVuY3Rpb24gdG9TaWduZWQoKSB7XHJcbiAgICBpZiAoIXRoaXMudW5zaWduZWQpXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICByZXR1cm4gZnJvbUJpdHModGhpcy5sb3csIHRoaXMuaGlnaCwgZmFsc2UpO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIENvbnZlcnRzIHRoaXMgTG9uZyB0byB1bnNpZ25lZC5cclxuICogQHJldHVybnMgeyFMb25nfSBVbnNpZ25lZCBsb25nXHJcbiAqL1xyXG5Mb25nUHJvdG90eXBlLnRvVW5zaWduZWQgPSBmdW5jdGlvbiB0b1Vuc2lnbmVkKCkge1xyXG4gICAgaWYgKHRoaXMudW5zaWduZWQpXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICByZXR1cm4gZnJvbUJpdHModGhpcy5sb3csIHRoaXMuaGlnaCwgdHJ1ZSk7XHJcbn07XHJcblxyXG4vKipcclxuICogQ29udmVydHMgdGhpcyBMb25nIHRvIGl0cyBieXRlIHJlcHJlc2VudGF0aW9uLlxyXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBsZSBXaGV0aGVyIGxpdHRsZSBvciBiaWcgZW5kaWFuLCBkZWZhdWx0cyB0byBiaWcgZW5kaWFuXHJcbiAqIEByZXR1cm5zIHshQXJyYXkuPG51bWJlcj59IEJ5dGUgcmVwcmVzZW50YXRpb25cclxuICovXHJcbkxvbmdQcm90b3R5cGUudG9CeXRlcyA9IGZ1bmN0aW9uIHRvQnl0ZXMobGUpIHtcclxuICAgIHJldHVybiBsZSA/IHRoaXMudG9CeXRlc0xFKCkgOiB0aGlzLnRvQnl0ZXNCRSgpO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIENvbnZlcnRzIHRoaXMgTG9uZyB0byBpdHMgbGl0dGxlIGVuZGlhbiBieXRlIHJlcHJlc2VudGF0aW9uLlxyXG4gKiBAcmV0dXJucyB7IUFycmF5LjxudW1iZXI+fSBMaXR0bGUgZW5kaWFuIGJ5dGUgcmVwcmVzZW50YXRpb25cclxuICovXHJcbkxvbmdQcm90b3R5cGUudG9CeXRlc0xFID0gZnVuY3Rpb24gdG9CeXRlc0xFKCkge1xyXG4gICAgdmFyIGhpID0gdGhpcy5oaWdoLFxyXG4gICAgICAgIGxvID0gdGhpcy5sb3c7XHJcbiAgICByZXR1cm4gW1xyXG4gICAgICAgIGxvICAgICAgICAmIDB4ZmYsXHJcbiAgICAgICAgbG8gPj4+ICA4ICYgMHhmZixcclxuICAgICAgICBsbyA+Pj4gMTYgJiAweGZmLFxyXG4gICAgICAgIGxvID4+PiAyNCAgICAgICAsXHJcbiAgICAgICAgaGkgICAgICAgICYgMHhmZixcclxuICAgICAgICBoaSA+Pj4gIDggJiAweGZmLFxyXG4gICAgICAgIGhpID4+PiAxNiAmIDB4ZmYsXHJcbiAgICAgICAgaGkgPj4+IDI0XHJcbiAgICBdO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIENvbnZlcnRzIHRoaXMgTG9uZyB0byBpdHMgYmlnIGVuZGlhbiBieXRlIHJlcHJlc2VudGF0aW9uLlxyXG4gKiBAcmV0dXJucyB7IUFycmF5LjxudW1iZXI+fSBCaWcgZW5kaWFuIGJ5dGUgcmVwcmVzZW50YXRpb25cclxuICovXHJcbkxvbmdQcm90b3R5cGUudG9CeXRlc0JFID0gZnVuY3Rpb24gdG9CeXRlc0JFKCkge1xyXG4gICAgdmFyIGhpID0gdGhpcy5oaWdoLFxyXG4gICAgICAgIGxvID0gdGhpcy5sb3c7XHJcbiAgICByZXR1cm4gW1xyXG4gICAgICAgIGhpID4+PiAyNCAgICAgICAsXHJcbiAgICAgICAgaGkgPj4+IDE2ICYgMHhmZixcclxuICAgICAgICBoaSA+Pj4gIDggJiAweGZmLFxyXG4gICAgICAgIGhpICAgICAgICAmIDB4ZmYsXHJcbiAgICAgICAgbG8gPj4+IDI0ICAgICAgICxcclxuICAgICAgICBsbyA+Pj4gMTYgJiAweGZmLFxyXG4gICAgICAgIGxvID4+PiAgOCAmIDB4ZmYsXHJcbiAgICAgICAgbG8gICAgICAgICYgMHhmZlxyXG4gICAgXTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBDcmVhdGVzIGEgTG9uZyBmcm9tIGl0cyBieXRlIHJlcHJlc2VudGF0aW9uLlxyXG4gKiBAcGFyYW0geyFBcnJheS48bnVtYmVyPn0gYnl0ZXMgQnl0ZSByZXByZXNlbnRhdGlvblxyXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSB1bnNpZ25lZCBXaGV0aGVyIHVuc2lnbmVkIG9yIG5vdCwgZGVmYXVsdHMgdG8gc2lnbmVkXHJcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IGxlIFdoZXRoZXIgbGl0dGxlIG9yIGJpZyBlbmRpYW4sIGRlZmF1bHRzIHRvIGJpZyBlbmRpYW5cclxuICogQHJldHVybnMge0xvbmd9IFRoZSBjb3JyZXNwb25kaW5nIExvbmcgdmFsdWVcclxuICovXHJcbkxvbmcuZnJvbUJ5dGVzID0gZnVuY3Rpb24gZnJvbUJ5dGVzKGJ5dGVzLCB1bnNpZ25lZCwgbGUpIHtcclxuICAgIHJldHVybiBsZSA/IExvbmcuZnJvbUJ5dGVzTEUoYnl0ZXMsIHVuc2lnbmVkKSA6IExvbmcuZnJvbUJ5dGVzQkUoYnl0ZXMsIHVuc2lnbmVkKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBDcmVhdGVzIGEgTG9uZyBmcm9tIGl0cyBsaXR0bGUgZW5kaWFuIGJ5dGUgcmVwcmVzZW50YXRpb24uXHJcbiAqIEBwYXJhbSB7IUFycmF5LjxudW1iZXI+fSBieXRlcyBMaXR0bGUgZW5kaWFuIGJ5dGUgcmVwcmVzZW50YXRpb25cclxuICogQHBhcmFtIHtib29sZWFuPX0gdW5zaWduZWQgV2hldGhlciB1bnNpZ25lZCBvciBub3QsIGRlZmF1bHRzIHRvIHNpZ25lZFxyXG4gKiBAcmV0dXJucyB7TG9uZ30gVGhlIGNvcnJlc3BvbmRpbmcgTG9uZyB2YWx1ZVxyXG4gKi9cclxuTG9uZy5mcm9tQnl0ZXNMRSA9IGZ1bmN0aW9uIGZyb21CeXRlc0xFKGJ5dGVzLCB1bnNpZ25lZCkge1xyXG4gICAgcmV0dXJuIG5ldyBMb25nKFxyXG4gICAgICAgIGJ5dGVzWzBdICAgICAgIHxcclxuICAgICAgICBieXRlc1sxXSA8PCAgOCB8XHJcbiAgICAgICAgYnl0ZXNbMl0gPDwgMTYgfFxyXG4gICAgICAgIGJ5dGVzWzNdIDw8IDI0LFxyXG4gICAgICAgIGJ5dGVzWzRdICAgICAgIHxcclxuICAgICAgICBieXRlc1s1XSA8PCAgOCB8XHJcbiAgICAgICAgYnl0ZXNbNl0gPDwgMTYgfFxyXG4gICAgICAgIGJ5dGVzWzddIDw8IDI0LFxyXG4gICAgICAgIHVuc2lnbmVkXHJcbiAgICApO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIENyZWF0ZXMgYSBMb25nIGZyb20gaXRzIGJpZyBlbmRpYW4gYnl0ZSByZXByZXNlbnRhdGlvbi5cclxuICogQHBhcmFtIHshQXJyYXkuPG51bWJlcj59IGJ5dGVzIEJpZyBlbmRpYW4gYnl0ZSByZXByZXNlbnRhdGlvblxyXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSB1bnNpZ25lZCBXaGV0aGVyIHVuc2lnbmVkIG9yIG5vdCwgZGVmYXVsdHMgdG8gc2lnbmVkXHJcbiAqIEByZXR1cm5zIHtMb25nfSBUaGUgY29ycmVzcG9uZGluZyBMb25nIHZhbHVlXHJcbiAqL1xyXG5Mb25nLmZyb21CeXRlc0JFID0gZnVuY3Rpb24gZnJvbUJ5dGVzQkUoYnl0ZXMsIHVuc2lnbmVkKSB7XHJcbiAgICByZXR1cm4gbmV3IExvbmcoXHJcbiAgICAgICAgYnl0ZXNbNF0gPDwgMjQgfFxyXG4gICAgICAgIGJ5dGVzWzVdIDw8IDE2IHxcclxuICAgICAgICBieXRlc1s2XSA8PCAgOCB8XHJcbiAgICAgICAgYnl0ZXNbN10sXHJcbiAgICAgICAgYnl0ZXNbMF0gPDwgMjQgfFxyXG4gICAgICAgIGJ5dGVzWzFdIDw8IDE2IHxcclxuICAgICAgICBieXRlc1syXSA8PCAgOCB8XHJcbiAgICAgICAgYnl0ZXNbM10sXHJcbiAgICAgICAgdW5zaWduZWRcclxuICAgICk7XHJcbn07XHJcbiIsIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgTG9uZyBmcm9tIFwibG9uZ1wiO1xuaW1wb3J0ICogYXMgX20wIGZyb20gXCJwcm90b2J1ZmpzL21pbmltYWxcIjtcbmV4cG9ydCBjb25zdCBwcm90b2J1ZlBhY2thZ2UgPSBcImNvc21vcy5iYXNlLnF1ZXJ5LnYxYmV0YTFcIjtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQYWdlUmVxdWVzdCgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBrZXk6IG5ldyBVaW50OEFycmF5KCksXG4gICAgICAgIG9mZnNldDogXCIwXCIsXG4gICAgICAgIGxpbWl0OiBcIjBcIixcbiAgICAgICAgY291bnRUb3RhbDogZmFsc2UsXG4gICAgICAgIHJldmVyc2U6IGZhbHNlLFxuICAgIH07XG59XG5leHBvcnQgY29uc3QgUGFnZVJlcXVlc3QgPSB7XG4gICAgZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2Uua2V5Lmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxMCkuYnl0ZXMobWVzc2FnZS5rZXkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLm9mZnNldCAhPT0gXCIwXCIpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTYpLnVpbnQ2NChtZXNzYWdlLm9mZnNldCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UubGltaXQgIT09IFwiMFwiKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDI0KS51aW50NjQobWVzc2FnZS5saW1pdCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuY291bnRUb3RhbCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigzMikuYm9vbChtZXNzYWdlLmNvdW50VG90YWwpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnJldmVyc2UgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoNDApLmJvb2wobWVzc2FnZS5yZXZlcnNlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH0sXG4gICAgZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBhZ2VSZXF1ZXN0KCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5rZXkgPSByZWFkZXIuYnl0ZXMoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLm9mZnNldCA9IGxvbmdUb1N0cmluZyhyZWFkZXIudWludDY0KCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubGltaXQgPSBsb25nVG9TdHJpbmcocmVhZGVyLnVpbnQ2NCgpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmNvdW50VG90YWwgPSByZWFkZXIuYm9vbCgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucmV2ZXJzZSA9IHJlYWRlci5ib29sKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfSxcbiAgICBmcm9tSlNPTihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGtleTogaXNTZXQob2JqZWN0LmtleSkgPyBieXRlc0Zyb21CYXNlNjQob2JqZWN0LmtleSkgOiBuZXcgVWludDhBcnJheSgpLFxuICAgICAgICAgICAgb2Zmc2V0OiBpc1NldChvYmplY3Qub2Zmc2V0KSA/IFN0cmluZyhvYmplY3Qub2Zmc2V0KSA6IFwiMFwiLFxuICAgICAgICAgICAgbGltaXQ6IGlzU2V0KG9iamVjdC5saW1pdCkgPyBTdHJpbmcob2JqZWN0LmxpbWl0KSA6IFwiMFwiLFxuICAgICAgICAgICAgY291bnRUb3RhbDogaXNTZXQob2JqZWN0LmNvdW50VG90YWwpID8gQm9vbGVhbihvYmplY3QuY291bnRUb3RhbCkgOiBmYWxzZSxcbiAgICAgICAgICAgIHJldmVyc2U6IGlzU2V0KG9iamVjdC5yZXZlcnNlKSA/IEJvb2xlYW4ob2JqZWN0LnJldmVyc2UpIDogZmFsc2UsXG4gICAgICAgIH07XG4gICAgfSxcbiAgICB0b0pTT04obWVzc2FnZSkge1xuICAgICAgICBjb25zdCBvYmogPSB7fTtcbiAgICAgICAgbWVzc2FnZS5rZXkgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgKG9iai5rZXkgPSBiYXNlNjRGcm9tQnl0ZXMobWVzc2FnZS5rZXkgIT09IHVuZGVmaW5lZCA/IG1lc3NhZ2Uua2V5IDogbmV3IFVpbnQ4QXJyYXkoKSkpO1xuICAgICAgICBtZXNzYWdlLm9mZnNldCAhPT0gdW5kZWZpbmVkICYmIChvYmoub2Zmc2V0ID0gbWVzc2FnZS5vZmZzZXQpO1xuICAgICAgICBtZXNzYWdlLmxpbWl0ICE9PSB1bmRlZmluZWQgJiYgKG9iai5saW1pdCA9IG1lc3NhZ2UubGltaXQpO1xuICAgICAgICBtZXNzYWdlLmNvdW50VG90YWwgIT09IHVuZGVmaW5lZCAmJiAob2JqLmNvdW50VG90YWwgPSBtZXNzYWdlLmNvdW50VG90YWwpO1xuICAgICAgICBtZXNzYWdlLnJldmVyc2UgIT09IHVuZGVmaW5lZCAmJiAob2JqLnJldmVyc2UgPSBtZXNzYWdlLnJldmVyc2UpO1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH0sXG4gICAgZnJvbVBhcnRpYWwob2JqZWN0KSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUGFnZVJlcXVlc3QoKTtcbiAgICAgICAgbWVzc2FnZS5rZXkgPSBvYmplY3Qua2V5ID8/IG5ldyBVaW50OEFycmF5KCk7XG4gICAgICAgIG1lc3NhZ2Uub2Zmc2V0ID0gb2JqZWN0Lm9mZnNldCA/PyBcIjBcIjtcbiAgICAgICAgbWVzc2FnZS5saW1pdCA9IG9iamVjdC5saW1pdCA/PyBcIjBcIjtcbiAgICAgICAgbWVzc2FnZS5jb3VudFRvdGFsID0gb2JqZWN0LmNvdW50VG90YWwgPz8gZmFsc2U7XG4gICAgICAgIG1lc3NhZ2UucmV2ZXJzZSA9IG9iamVjdC5yZXZlcnNlID8/IGZhbHNlO1xuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9LFxufTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQYWdlUmVzcG9uc2UoKSB7XG4gICAgcmV0dXJuIHsgbmV4dEtleTogbmV3IFVpbnQ4QXJyYXkoKSwgdG90YWw6IFwiMFwiIH07XG59XG5leHBvcnQgY29uc3QgUGFnZVJlc3BvbnNlID0ge1xuICAgIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLm5leHRLZXkubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDEwKS5ieXRlcyhtZXNzYWdlLm5leHRLZXkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnRvdGFsICE9PSBcIjBcIikge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxNikudWludDY0KG1lc3NhZ2UudG90YWwpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfSxcbiAgICBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUGFnZVJlc3BvbnNlKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5uZXh0S2V5ID0gcmVhZGVyLmJ5dGVzKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50b3RhbCA9IGxvbmdUb1N0cmluZyhyZWFkZXIudWludDY0KCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG4gICAgZnJvbUpTT04ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBuZXh0S2V5OiBpc1NldChvYmplY3QubmV4dEtleSlcbiAgICAgICAgICAgICAgICA/IGJ5dGVzRnJvbUJhc2U2NChvYmplY3QubmV4dEtleSlcbiAgICAgICAgICAgICAgICA6IG5ldyBVaW50OEFycmF5KCksXG4gICAgICAgICAgICB0b3RhbDogaXNTZXQob2JqZWN0LnRvdGFsKSA/IFN0cmluZyhvYmplY3QudG90YWwpIDogXCIwXCIsXG4gICAgICAgIH07XG4gICAgfSxcbiAgICB0b0pTT04obWVzc2FnZSkge1xuICAgICAgICBjb25zdCBvYmogPSB7fTtcbiAgICAgICAgbWVzc2FnZS5uZXh0S2V5ICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIChvYmoubmV4dEtleSA9IGJhc2U2NEZyb21CeXRlcyhtZXNzYWdlLm5leHRLZXkgIT09IHVuZGVmaW5lZCA/IG1lc3NhZ2UubmV4dEtleSA6IG5ldyBVaW50OEFycmF5KCkpKTtcbiAgICAgICAgbWVzc2FnZS50b3RhbCAhPT0gdW5kZWZpbmVkICYmIChvYmoudG90YWwgPSBtZXNzYWdlLnRvdGFsKTtcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9LFxuICAgIGZyb21QYXJ0aWFsKG9iamVjdCkge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBhZ2VSZXNwb25zZSgpO1xuICAgICAgICBtZXNzYWdlLm5leHRLZXkgPSBvYmplY3QubmV4dEtleSA/PyBuZXcgVWludDhBcnJheSgpO1xuICAgICAgICBtZXNzYWdlLnRvdGFsID0gb2JqZWN0LnRvdGFsID8/IFwiMFwiO1xuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9LFxufTtcbnZhciBnbG9iYWxUaGlzID0gKCgpID0+IHtcbiAgICBpZiAodHlwZW9mIGdsb2JhbFRoaXMgIT09IFwidW5kZWZpbmVkXCIpXG4gICAgICAgIHJldHVybiBnbG9iYWxUaGlzO1xuICAgIGlmICh0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIilcbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIpXG4gICAgICAgIHJldHVybiB3aW5kb3c7XG4gICAgaWYgKHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIpXG4gICAgICAgIHJldHVybiBnbG9iYWw7XG4gICAgdGhyb3cgXCJVbmFibGUgdG8gbG9jYXRlIGdsb2JhbCBvYmplY3RcIjtcbn0pKCk7XG5jb25zdCBhdG9iID0gZ2xvYmFsVGhpcy5hdG9iIHx8XG4gICAgKChiNjQpID0+IGdsb2JhbFRoaXMuQnVmZmVyLmZyb20oYjY0LCBcImJhc2U2NFwiKS50b1N0cmluZyhcImJpbmFyeVwiKSk7XG5mdW5jdGlvbiBieXRlc0Zyb21CYXNlNjQoYjY0KSB7XG4gICAgY29uc3QgYmluID0gYXRvYihiNjQpO1xuICAgIGNvbnN0IGFyciA9IG5ldyBVaW50OEFycmF5KGJpbi5sZW5ndGgpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYmluLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGFycltpXSA9IGJpbi5jaGFyQ29kZUF0KGkpO1xuICAgIH1cbiAgICByZXR1cm4gYXJyO1xufVxuY29uc3QgYnRvYSA9IGdsb2JhbFRoaXMuYnRvYSB8fFxuICAgICgoYmluKSA9PiBnbG9iYWxUaGlzLkJ1ZmZlci5mcm9tKGJpbiwgXCJiaW5hcnlcIikudG9TdHJpbmcoXCJiYXNlNjRcIikpO1xuZnVuY3Rpb24gYmFzZTY0RnJvbUJ5dGVzKGFycikge1xuICAgIGNvbnN0IGJpbiA9IFtdO1xuICAgIGFyci5mb3JFYWNoKChieXRlKSA9PiB7XG4gICAgICAgIGJpbi5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUoYnl0ZSkpO1xuICAgIH0pO1xuICAgIHJldHVybiBidG9hKGJpbi5qb2luKFwiXCIpKTtcbn1cbmZ1bmN0aW9uIGxvbmdUb1N0cmluZyhsb25nKSB7XG4gICAgcmV0dXJuIGxvbmcudG9TdHJpbmcoKTtcbn1cbmlmIChfbTAudXRpbC5Mb25nICE9PSBMb25nKSB7XG4gICAgX20wLnV0aWwuTG9uZyA9IExvbmc7XG4gICAgX20wLmNvbmZpZ3VyZSgpO1xufVxuZnVuY3Rpb24gaXNTZXQodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09IHVuZGVmaW5lZDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2luYXRpb24uanMubWFwIiwiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCB7IENvaW4gfSBmcm9tIFwiLi4vLi4vYmFzZS92MWJldGExL2NvaW5cIjtcbmltcG9ydCAqIGFzIF9tMCBmcm9tIFwicHJvdG9idWZqcy9taW5pbWFsXCI7XG5leHBvcnQgY29uc3QgcHJvdG9idWZQYWNrYWdlID0gXCJjb3Ntb3MuYmFuay52MWJldGExXCI7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUGFyYW1zKCkge1xuICAgIHJldHVybiB7IHNlbmRFbmFibGVkOiBbXSwgZGVmYXVsdFNlbmRFbmFibGVkOiBmYWxzZSB9O1xufVxuZXhwb3J0IGNvbnN0IFBhcmFtcyA9IHtcbiAgICBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBmb3IgKGNvbnN0IHYgb2YgbWVzc2FnZS5zZW5kRW5hYmxlZCkge1xuICAgICAgICAgICAgU2VuZEVuYWJsZWQuZW5jb2RlKHYsIHdyaXRlci51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuZGVmYXVsdFNlbmRFbmFibGVkID09PSB0cnVlKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDE2KS5ib29sKG1lc3NhZ2UuZGVmYXVsdFNlbmRFbmFibGVkKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH0sXG4gICAgZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBhcmFtcygpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc2VuZEVuYWJsZWQucHVzaChTZW5kRW5hYmxlZC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmRlZmF1bHRTZW5kRW5hYmxlZCA9IHJlYWRlci5ib29sKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfSxcbiAgICBmcm9tSlNPTihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHNlbmRFbmFibGVkOiBBcnJheS5pc0FycmF5KG9iamVjdD8uc2VuZEVuYWJsZWQpXG4gICAgICAgICAgICAgICAgPyBvYmplY3Quc2VuZEVuYWJsZWQubWFwKChlKSA9PiBTZW5kRW5hYmxlZC5mcm9tSlNPTihlKSlcbiAgICAgICAgICAgICAgICA6IFtdLFxuICAgICAgICAgICAgZGVmYXVsdFNlbmRFbmFibGVkOiBpc1NldChvYmplY3QuZGVmYXVsdFNlbmRFbmFibGVkKVxuICAgICAgICAgICAgICAgID8gQm9vbGVhbihvYmplY3QuZGVmYXVsdFNlbmRFbmFibGVkKVxuICAgICAgICAgICAgICAgIDogZmFsc2UsXG4gICAgICAgIH07XG4gICAgfSxcbiAgICB0b0pTT04obWVzc2FnZSkge1xuICAgICAgICBjb25zdCBvYmogPSB7fTtcbiAgICAgICAgaWYgKG1lc3NhZ2Uuc2VuZEVuYWJsZWQpIHtcbiAgICAgICAgICAgIG9iai5zZW5kRW5hYmxlZCA9IG1lc3NhZ2Uuc2VuZEVuYWJsZWQubWFwKChlKSA9PiBlID8gU2VuZEVuYWJsZWQudG9KU09OKGUpIDogdW5kZWZpbmVkKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG9iai5zZW5kRW5hYmxlZCA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIG1lc3NhZ2UuZGVmYXVsdFNlbmRFbmFibGVkICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIChvYmouZGVmYXVsdFNlbmRFbmFibGVkID0gbWVzc2FnZS5kZWZhdWx0U2VuZEVuYWJsZWQpO1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH0sXG4gICAgZnJvbVBhcnRpYWwob2JqZWN0KSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUGFyYW1zKCk7XG4gICAgICAgIG1lc3NhZ2Uuc2VuZEVuYWJsZWQgPVxuICAgICAgICAgICAgb2JqZWN0LnNlbmRFbmFibGVkPy5tYXAoKGUpID0+IFNlbmRFbmFibGVkLmZyb21QYXJ0aWFsKGUpKSB8fCBbXTtcbiAgICAgICAgbWVzc2FnZS5kZWZhdWx0U2VuZEVuYWJsZWQgPSBvYmplY3QuZGVmYXVsdFNlbmRFbmFibGVkID8/IGZhbHNlO1xuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9LFxufTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VTZW5kRW5hYmxlZCgpIHtcbiAgICByZXR1cm4geyBkZW5vbTogXCJcIiwgZW5hYmxlZDogZmFsc2UgfTtcbn1cbmV4cG9ydCBjb25zdCBTZW5kRW5hYmxlZCA9IHtcbiAgICBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS5kZW5vbSAhPT0gXCJcIikge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxMCkuc3RyaW5nKG1lc3NhZ2UuZGVub20pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmVuYWJsZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTYpLmJvb2wobWVzc2FnZS5lbmFibGVkKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH0sXG4gICAgZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVNlbmRFbmFibGVkKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5kZW5vbSA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmVuYWJsZWQgPSByZWFkZXIuYm9vbCgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG4gICAgZnJvbUpTT04ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBkZW5vbTogaXNTZXQob2JqZWN0LmRlbm9tKSA/IFN0cmluZyhvYmplY3QuZGVub20pIDogXCJcIixcbiAgICAgICAgICAgIGVuYWJsZWQ6IGlzU2V0KG9iamVjdC5lbmFibGVkKSA/IEJvb2xlYW4ob2JqZWN0LmVuYWJsZWQpIDogZmFsc2UsXG4gICAgICAgIH07XG4gICAgfSxcbiAgICB0b0pTT04obWVzc2FnZSkge1xuICAgICAgICBjb25zdCBvYmogPSB7fTtcbiAgICAgICAgbWVzc2FnZS5kZW5vbSAhPT0gdW5kZWZpbmVkICYmIChvYmouZGVub20gPSBtZXNzYWdlLmRlbm9tKTtcbiAgICAgICAgbWVzc2FnZS5lbmFibGVkICE9PSB1bmRlZmluZWQgJiYgKG9iai5lbmFibGVkID0gbWVzc2FnZS5lbmFibGVkKTtcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9LFxuICAgIGZyb21QYXJ0aWFsKG9iamVjdCkge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVNlbmRFbmFibGVkKCk7XG4gICAgICAgIG1lc3NhZ2UuZGVub20gPSBvYmplY3QuZGVub20gPz8gXCJcIjtcbiAgICAgICAgbWVzc2FnZS5lbmFibGVkID0gb2JqZWN0LmVuYWJsZWQgPz8gZmFsc2U7XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG59O1xuZnVuY3Rpb24gY3JlYXRlQmFzZUlucHV0KCkge1xuICAgIHJldHVybiB7IGFkZHJlc3M6IFwiXCIsIGNvaW5zOiBbXSB9O1xufVxuZXhwb3J0IGNvbnN0IElucHV0ID0ge1xuICAgIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLmFkZHJlc3MgIT09IFwiXCIpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTApLnN0cmluZyhtZXNzYWdlLmFkZHJlc3MpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgdiBvZiBtZXNzYWdlLmNvaW5zKSB7XG4gICAgICAgICAgICBDb2luLmVuY29kZSh2LCB3cml0ZXIudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfSxcbiAgICBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlSW5wdXQoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmFkZHJlc3MgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5jb2lucy5wdXNoKENvaW4uZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfSxcbiAgICBmcm9tSlNPTihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGFkZHJlc3M6IGlzU2V0KG9iamVjdC5hZGRyZXNzKSA/IFN0cmluZyhvYmplY3QuYWRkcmVzcykgOiBcIlwiLFxuICAgICAgICAgICAgY29pbnM6IEFycmF5LmlzQXJyYXkob2JqZWN0Py5jb2lucylcbiAgICAgICAgICAgICAgICA/IG9iamVjdC5jb2lucy5tYXAoKGUpID0+IENvaW4uZnJvbUpTT04oZSkpXG4gICAgICAgICAgICAgICAgOiBbXSxcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIHRvSlNPTihtZXNzYWdlKSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgICAgICBtZXNzYWdlLmFkZHJlc3MgIT09IHVuZGVmaW5lZCAmJiAob2JqLmFkZHJlc3MgPSBtZXNzYWdlLmFkZHJlc3MpO1xuICAgICAgICBpZiAobWVzc2FnZS5jb2lucykge1xuICAgICAgICAgICAgb2JqLmNvaW5zID0gbWVzc2FnZS5jb2lucy5tYXAoKGUpID0+IChlID8gQ29pbi50b0pTT04oZSkgOiB1bmRlZmluZWQpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG9iai5jb2lucyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfSxcbiAgICBmcm9tUGFydGlhbChvYmplY3QpIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VJbnB1dCgpO1xuICAgICAgICBtZXNzYWdlLmFkZHJlc3MgPSBvYmplY3QuYWRkcmVzcyA/PyBcIlwiO1xuICAgICAgICBtZXNzYWdlLmNvaW5zID0gb2JqZWN0LmNvaW5zPy5tYXAoKGUpID0+IENvaW4uZnJvbVBhcnRpYWwoZSkpIHx8IFtdO1xuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9LFxufTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VPdXRwdXQoKSB7XG4gICAgcmV0dXJuIHsgYWRkcmVzczogXCJcIiwgY29pbnM6IFtdIH07XG59XG5leHBvcnQgY29uc3QgT3V0cHV0ID0ge1xuICAgIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLmFkZHJlc3MgIT09IFwiXCIpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTApLnN0cmluZyhtZXNzYWdlLmFkZHJlc3MpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgdiBvZiBtZXNzYWdlLmNvaW5zKSB7XG4gICAgICAgICAgICBDb2luLmVuY29kZSh2LCB3cml0ZXIudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfSxcbiAgICBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlT3V0cHV0KCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5hZGRyZXNzID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuY29pbnMucHVzaChDb2luLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG4gICAgZnJvbUpTT04ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBhZGRyZXNzOiBpc1NldChvYmplY3QuYWRkcmVzcykgPyBTdHJpbmcob2JqZWN0LmFkZHJlc3MpIDogXCJcIixcbiAgICAgICAgICAgIGNvaW5zOiBBcnJheS5pc0FycmF5KG9iamVjdD8uY29pbnMpXG4gICAgICAgICAgICAgICAgPyBvYmplY3QuY29pbnMubWFwKChlKSA9PiBDb2luLmZyb21KU09OKGUpKVxuICAgICAgICAgICAgICAgIDogW10sXG4gICAgICAgIH07XG4gICAgfSxcbiAgICB0b0pTT04obWVzc2FnZSkge1xuICAgICAgICBjb25zdCBvYmogPSB7fTtcbiAgICAgICAgbWVzc2FnZS5hZGRyZXNzICE9PSB1bmRlZmluZWQgJiYgKG9iai5hZGRyZXNzID0gbWVzc2FnZS5hZGRyZXNzKTtcbiAgICAgICAgaWYgKG1lc3NhZ2UuY29pbnMpIHtcbiAgICAgICAgICAgIG9iai5jb2lucyA9IG1lc3NhZ2UuY29pbnMubWFwKChlKSA9PiAoZSA/IENvaW4udG9KU09OKGUpIDogdW5kZWZpbmVkKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBvYmouY29pbnMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH0sXG4gICAgZnJvbVBhcnRpYWwob2JqZWN0KSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlT3V0cHV0KCk7XG4gICAgICAgIG1lc3NhZ2UuYWRkcmVzcyA9IG9iamVjdC5hZGRyZXNzID8/IFwiXCI7XG4gICAgICAgIG1lc3NhZ2UuY29pbnMgPSBvYmplY3QuY29pbnM/Lm1hcCgoZSkgPT4gQ29pbi5mcm9tUGFydGlhbChlKSkgfHwgW107XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG59O1xuZnVuY3Rpb24gY3JlYXRlQmFzZVN1cHBseSgpIHtcbiAgICByZXR1cm4geyB0b3RhbDogW10gfTtcbn1cbmV4cG9ydCBjb25zdCBTdXBwbHkgPSB7XG4gICAgZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgZm9yIChjb25zdCB2IG9mIG1lc3NhZ2UudG90YWwpIHtcbiAgICAgICAgICAgIENvaW4uZW5jb2RlKHYsIHdyaXRlci51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9LFxuICAgIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VTdXBwbHkoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRvdGFsLnB1c2goQ29pbi5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9LFxuICAgIGZyb21KU09OKG9iamVjdCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdG90YWw6IEFycmF5LmlzQXJyYXkob2JqZWN0Py50b3RhbClcbiAgICAgICAgICAgICAgICA/IG9iamVjdC50b3RhbC5tYXAoKGUpID0+IENvaW4uZnJvbUpTT04oZSkpXG4gICAgICAgICAgICAgICAgOiBbXSxcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIHRvSlNPTihtZXNzYWdlKSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgICAgICBpZiAobWVzc2FnZS50b3RhbCkge1xuICAgICAgICAgICAgb2JqLnRvdGFsID0gbWVzc2FnZS50b3RhbC5tYXAoKGUpID0+IChlID8gQ29pbi50b0pTT04oZSkgOiB1bmRlZmluZWQpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG9iai50b3RhbCA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfSxcbiAgICBmcm9tUGFydGlhbChvYmplY3QpIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VTdXBwbHkoKTtcbiAgICAgICAgbWVzc2FnZS50b3RhbCA9IG9iamVjdC50b3RhbD8ubWFwKChlKSA9PiBDb2luLmZyb21QYXJ0aWFsKGUpKSB8fCBbXTtcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfSxcbn07XG5mdW5jdGlvbiBjcmVhdGVCYXNlRGVub21Vbml0KCkge1xuICAgIHJldHVybiB7IGRlbm9tOiBcIlwiLCBleHBvbmVudDogMCwgYWxpYXNlczogW10gfTtcbn1cbmV4cG9ydCBjb25zdCBEZW5vbVVuaXQgPSB7XG4gICAgZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UuZGVub20gIT09IFwiXCIpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTApLnN0cmluZyhtZXNzYWdlLmRlbm9tKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5leHBvbmVudCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxNikudWludDMyKG1lc3NhZ2UuZXhwb25lbnQpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgdiBvZiBtZXNzYWdlLmFsaWFzZXMpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjYpLnN0cmluZyh2KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH0sXG4gICAgZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZURlbm9tVW5pdCgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZGVub20gPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5leHBvbmVudCA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmFsaWFzZXMucHVzaChyZWFkZXIuc3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG4gICAgZnJvbUpTT04ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBkZW5vbTogaXNTZXQob2JqZWN0LmRlbm9tKSA/IFN0cmluZyhvYmplY3QuZGVub20pIDogXCJcIixcbiAgICAgICAgICAgIGV4cG9uZW50OiBpc1NldChvYmplY3QuZXhwb25lbnQpID8gTnVtYmVyKG9iamVjdC5leHBvbmVudCkgOiAwLFxuICAgICAgICAgICAgYWxpYXNlczogQXJyYXkuaXNBcnJheShvYmplY3Q/LmFsaWFzZXMpXG4gICAgICAgICAgICAgICAgPyBvYmplY3QuYWxpYXNlcy5tYXAoKGUpID0+IFN0cmluZyhlKSlcbiAgICAgICAgICAgICAgICA6IFtdLFxuICAgICAgICB9O1xuICAgIH0sXG4gICAgdG9KU09OKG1lc3NhZ2UpIHtcbiAgICAgICAgY29uc3Qgb2JqID0ge307XG4gICAgICAgIG1lc3NhZ2UuZGVub20gIT09IHVuZGVmaW5lZCAmJiAob2JqLmRlbm9tID0gbWVzc2FnZS5kZW5vbSk7XG4gICAgICAgIG1lc3NhZ2UuZXhwb25lbnQgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgKG9iai5leHBvbmVudCA9IE1hdGgucm91bmQobWVzc2FnZS5leHBvbmVudCkpO1xuICAgICAgICBpZiAobWVzc2FnZS5hbGlhc2VzKSB7XG4gICAgICAgICAgICBvYmouYWxpYXNlcyA9IG1lc3NhZ2UuYWxpYXNlcy5tYXAoKGUpID0+IGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgb2JqLmFsaWFzZXMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH0sXG4gICAgZnJvbVBhcnRpYWwob2JqZWN0KSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlRGVub21Vbml0KCk7XG4gICAgICAgIG1lc3NhZ2UuZGVub20gPSBvYmplY3QuZGVub20gPz8gXCJcIjtcbiAgICAgICAgbWVzc2FnZS5leHBvbmVudCA9IG9iamVjdC5leHBvbmVudCA/PyAwO1xuICAgICAgICBtZXNzYWdlLmFsaWFzZXMgPSBvYmplY3QuYWxpYXNlcz8ubWFwKChlKSA9PiBlKSB8fCBbXTtcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfSxcbn07XG5mdW5jdGlvbiBjcmVhdGVCYXNlTWV0YWRhdGEoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZGVzY3JpcHRpb246IFwiXCIsXG4gICAgICAgIGRlbm9tVW5pdHM6IFtdLFxuICAgICAgICBiYXNlOiBcIlwiLFxuICAgICAgICBkaXNwbGF5OiBcIlwiLFxuICAgICAgICBuYW1lOiBcIlwiLFxuICAgICAgICBzeW1ib2w6IFwiXCIsXG4gICAgfTtcbn1cbmV4cG9ydCBjb25zdCBNZXRhZGF0YSA9IHtcbiAgICBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS5kZXNjcmlwdGlvbiAhPT0gXCJcIikge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxMCkuc3RyaW5nKG1lc3NhZ2UuZGVzY3JpcHRpb24pO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgdiBvZiBtZXNzYWdlLmRlbm9tVW5pdHMpIHtcbiAgICAgICAgICAgIERlbm9tVW5pdC5lbmNvZGUodiwgd3JpdGVyLnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5iYXNlICE9PSBcIlwiKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDI2KS5zdHJpbmcobWVzc2FnZS5iYXNlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5kaXNwbGF5ICE9PSBcIlwiKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDM0KS5zdHJpbmcobWVzc2FnZS5kaXNwbGF5KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5uYW1lICE9PSBcIlwiKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDQyKS5zdHJpbmcobWVzc2FnZS5uYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5zeW1ib2wgIT09IFwiXCIpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoNTApLnN0cmluZyhtZXNzYWdlLnN5bWJvbCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9LFxuICAgIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VNZXRhZGF0YSgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZGVzY3JpcHRpb24gPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5kZW5vbVVuaXRzLnB1c2goRGVub21Vbml0LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYmFzZSA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmRpc3BsYXkgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5uYW1lID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc3ltYm9sID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG4gICAgZnJvbUpTT04ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogaXNTZXQob2JqZWN0LmRlc2NyaXB0aW9uKSA/IFN0cmluZyhvYmplY3QuZGVzY3JpcHRpb24pIDogXCJcIixcbiAgICAgICAgICAgIGRlbm9tVW5pdHM6IEFycmF5LmlzQXJyYXkob2JqZWN0Py5kZW5vbVVuaXRzKVxuICAgICAgICAgICAgICAgID8gb2JqZWN0LmRlbm9tVW5pdHMubWFwKChlKSA9PiBEZW5vbVVuaXQuZnJvbUpTT04oZSkpXG4gICAgICAgICAgICAgICAgOiBbXSxcbiAgICAgICAgICAgIGJhc2U6IGlzU2V0KG9iamVjdC5iYXNlKSA/IFN0cmluZyhvYmplY3QuYmFzZSkgOiBcIlwiLFxuICAgICAgICAgICAgZGlzcGxheTogaXNTZXQob2JqZWN0LmRpc3BsYXkpID8gU3RyaW5nKG9iamVjdC5kaXNwbGF5KSA6IFwiXCIsXG4gICAgICAgICAgICBuYW1lOiBpc1NldChvYmplY3QubmFtZSkgPyBTdHJpbmcob2JqZWN0Lm5hbWUpIDogXCJcIixcbiAgICAgICAgICAgIHN5bWJvbDogaXNTZXQob2JqZWN0LnN5bWJvbCkgPyBTdHJpbmcob2JqZWN0LnN5bWJvbCkgOiBcIlwiLFxuICAgICAgICB9O1xuICAgIH0sXG4gICAgdG9KU09OKG1lc3NhZ2UpIHtcbiAgICAgICAgY29uc3Qgb2JqID0ge307XG4gICAgICAgIG1lc3NhZ2UuZGVzY3JpcHRpb24gIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgKG9iai5kZXNjcmlwdGlvbiA9IG1lc3NhZ2UuZGVzY3JpcHRpb24pO1xuICAgICAgICBpZiAobWVzc2FnZS5kZW5vbVVuaXRzKSB7XG4gICAgICAgICAgICBvYmouZGVub21Vbml0cyA9IG1lc3NhZ2UuZGVub21Vbml0cy5tYXAoKGUpID0+IGUgPyBEZW5vbVVuaXQudG9KU09OKGUpIDogdW5kZWZpbmVkKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG9iai5kZW5vbVVuaXRzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgbWVzc2FnZS5iYXNlICE9PSB1bmRlZmluZWQgJiYgKG9iai5iYXNlID0gbWVzc2FnZS5iYXNlKTtcbiAgICAgICAgbWVzc2FnZS5kaXNwbGF5ICE9PSB1bmRlZmluZWQgJiYgKG9iai5kaXNwbGF5ID0gbWVzc2FnZS5kaXNwbGF5KTtcbiAgICAgICAgbWVzc2FnZS5uYW1lICE9PSB1bmRlZmluZWQgJiYgKG9iai5uYW1lID0gbWVzc2FnZS5uYW1lKTtcbiAgICAgICAgbWVzc2FnZS5zeW1ib2wgIT09IHVuZGVmaW5lZCAmJiAob2JqLnN5bWJvbCA9IG1lc3NhZ2Uuc3ltYm9sKTtcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9LFxuICAgIGZyb21QYXJ0aWFsKG9iamVjdCkge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZU1ldGFkYXRhKCk7XG4gICAgICAgIG1lc3NhZ2UuZGVzY3JpcHRpb24gPSBvYmplY3QuZGVzY3JpcHRpb24gPz8gXCJcIjtcbiAgICAgICAgbWVzc2FnZS5kZW5vbVVuaXRzID1cbiAgICAgICAgICAgIG9iamVjdC5kZW5vbVVuaXRzPy5tYXAoKGUpID0+IERlbm9tVW5pdC5mcm9tUGFydGlhbChlKSkgfHwgW107XG4gICAgICAgIG1lc3NhZ2UuYmFzZSA9IG9iamVjdC5iYXNlID8/IFwiXCI7XG4gICAgICAgIG1lc3NhZ2UuZGlzcGxheSA9IG9iamVjdC5kaXNwbGF5ID8/IFwiXCI7XG4gICAgICAgIG1lc3NhZ2UubmFtZSA9IG9iamVjdC5uYW1lID8/IFwiXCI7XG4gICAgICAgIG1lc3NhZ2Uuc3ltYm9sID0gb2JqZWN0LnN5bWJvbCA/PyBcIlwiO1xuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9LFxufTtcbmZ1bmN0aW9uIGlzU2V0KHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlICE9PSBudWxsICYmIHZhbHVlICE9PSB1bmRlZmluZWQ7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1iYW5rLmpzLm1hcCIsIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtdLCBmYWN0b3J5KTtcblx0ZWxzZSB7XG5cdFx0dmFyIGEgPSBmYWN0b3J5KCk7XG5cdFx0Zm9yKHZhciBpIGluIGEpICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgPyBleHBvcnRzIDogcm9vdClbaV0gPSBhW2ldO1xuXHR9XG59KSh0aGlzLCBmdW5jdGlvbigpIHtcbnJldHVybiAvKioqKioqLyAoZnVuY3Rpb24obW9kdWxlcykgeyAvLyB3ZWJwYWNrQm9vdHN0cmFwXG4vKioqKioqLyBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4vKioqKioqLyBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4vKioqKioqLyBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbi8qKioqKiovIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuLyoqKioqKi8gXHRcdH1cbi8qKioqKiovIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuLyoqKioqKi8gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbi8qKioqKiovIFx0XHRcdGk6IG1vZHVsZUlkLFxuLyoqKioqKi8gXHRcdFx0bDogZmFsc2UsXG4vKioqKioqLyBcdFx0XHRleHBvcnRzOiB7fVxuLyoqKioqKi8gXHRcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuLyoqKioqKi8gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4vKioqKioqLyBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuLyoqKioqKi8gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbi8qKioqKiovIFx0fVxuLyoqKioqKi9cbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gaWRlbnRpdHkgZnVuY3Rpb24gZm9yIGNhbGxpbmcgaGFybW9ueSBpbXBvcnRzIHdpdGggdGhlIGNvcnJlY3QgY29udGV4dFxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmkgPSBmdW5jdGlvbih2YWx1ZSkgeyByZXR1cm4gdmFsdWU7IH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4vKioqKioqLyBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuLyoqKioqKi8gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHtcbi8qKioqKiovIFx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcbi8qKioqKiovIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcbi8qKioqKiovIFx0XHRcdFx0Z2V0OiBnZXR0ZXJcbi8qKioqKiovIFx0XHRcdH0pO1xuLyoqKioqKi8gXHRcdH1cbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuLyoqKioqKi8gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuLyoqKioqKi8gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbi8qKioqKiovIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4vKioqKioqLyBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuLyoqKioqKi8gXHRcdHJldHVybiBnZXR0ZXI7XG4vKioqKioqLyBcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLyoqKioqKi8gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAxKTtcbi8qKioqKiovIH0pXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKioqKi8gKFtcbi8qIDAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciB1dGlsXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuZnVuY3Rpb24gaXNCcm93c2VySGVhZGVycyhhcmcpIHtcbiAgICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgYXJnLmhlYWRlcnNNYXAgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIGFyZy5mb3JFYWNoID09PSBcImZ1bmN0aW9uXCI7XG59XG52YXIgQnJvd3NlckhlYWRlcnMgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEJyb3dzZXJIZWFkZXJzKGluaXQsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKGluaXQgPT09IHZvaWQgMCkgeyBpbml0ID0ge307IH1cbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0geyBzcGxpdFZhbHVlczogZmFsc2UgfTsgfVxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLmhlYWRlcnNNYXAgPSB7fTtcbiAgICAgICAgaWYgKGluaXQpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgSGVhZGVycyAhPT0gXCJ1bmRlZmluZWRcIiAmJiBpbml0IGluc3RhbmNlb2YgSGVhZGVycykge1xuICAgICAgICAgICAgICAgIHZhciBrZXlzID0gdXRpbF8xLmdldEhlYWRlcktleXMoaW5pdCk7XG4gICAgICAgICAgICAgICAga2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlcyA9IHV0aWxfMS5nZXRIZWFkZXJWYWx1ZXMoaW5pdCwga2V5KTtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVzLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5zcGxpdFZhbHVlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmFwcGVuZChrZXksIHV0aWxfMS5zcGxpdEhlYWRlclZhbHVlKHZhbHVlKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5hcHBlbmQoa2V5LCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNCcm93c2VySGVhZGVycyhpbml0KSkge1xuICAgICAgICAgICAgICAgIGluaXQuZm9yRWFjaChmdW5jdGlvbiAoa2V5LCB2YWx1ZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuYXBwZW5kKGtleSwgdmFsdWVzKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBNYXAgIT09IFwidW5kZWZpbmVkXCIgJiYgaW5pdCBpbnN0YW5jZW9mIE1hcCkge1xuICAgICAgICAgICAgICAgIHZhciBhc01hcCA9IGluaXQ7XG4gICAgICAgICAgICAgICAgYXNNYXAuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUsIGtleSkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5hcHBlbmQoa2V5LCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgaW5pdCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgIHRoaXMuYXBwZW5kRnJvbVN0cmluZyhpbml0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBpbml0ID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoaW5pdCkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhc09iamVjdCA9IGluaXQ7XG4gICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZXMgPSBhc09iamVjdFtrZXldO1xuICAgICAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZXMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXMuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5hcHBlbmQoa2V5LCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmFwcGVuZChrZXksIHZhbHVlcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBCcm93c2VySGVhZGVycy5wcm90b3R5cGUuYXBwZW5kRnJvbVN0cmluZyA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgICAgICAgdmFyIHBhaXJzID0gc3RyLnNwbGl0KFwiXFxyXFxuXCIpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhaXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgcCA9IHBhaXJzW2ldO1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gcC5pbmRleE9mKFwiOlwiKTtcbiAgICAgICAgICAgIGlmIChpbmRleCA+IDApIHtcbiAgICAgICAgICAgICAgICB2YXIga2V5ID0gcC5zdWJzdHJpbmcoMCwgaW5kZXgpLnRyaW0oKTtcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBwLnN1YnN0cmluZyhpbmRleCArIDEpLnRyaW0oKTtcbiAgICAgICAgICAgICAgICB0aGlzLmFwcGVuZChrZXksIHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgQnJvd3NlckhlYWRlcnMucHJvdG90eXBlLmRlbGV0ZSA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgICAgIHZhciBub3JtYWxpemVkS2V5ID0gdXRpbF8xLm5vcm1hbGl6ZU5hbWUoa2V5KTtcbiAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmhlYWRlcnNNYXBbbm9ybWFsaXplZEtleV07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgZXhpc3RpbmcgPSB0aGlzLmhlYWRlcnNNYXBbbm9ybWFsaXplZEtleV07XG4gICAgICAgICAgICBpZiAoZXhpc3RpbmcpIHtcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSBleGlzdGluZy5pbmRleE9mKHZhbHVlKTtcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICBleGlzdGluZy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZXhpc3RpbmcubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmhlYWRlcnNNYXBbbm9ybWFsaXplZEtleV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBCcm93c2VySGVhZGVycy5wcm90b3R5cGUuYXBwZW5kID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIG5vcm1hbGl6ZWRLZXkgPSB1dGlsXzEubm9ybWFsaXplTmFtZShrZXkpO1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkodGhpcy5oZWFkZXJzTWFwW25vcm1hbGl6ZWRLZXldKSkge1xuICAgICAgICAgICAgdGhpcy5oZWFkZXJzTWFwW25vcm1hbGl6ZWRLZXldID0gW107XG4gICAgICAgIH1cbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICB2YWx1ZS5mb3JFYWNoKGZ1bmN0aW9uIChhcnJheVZhbHVlKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuaGVhZGVyc01hcFtub3JtYWxpemVkS2V5XS5wdXNoKHV0aWxfMS5ub3JtYWxpemVWYWx1ZShhcnJheVZhbHVlKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuaGVhZGVyc01hcFtub3JtYWxpemVkS2V5XS5wdXNoKHV0aWxfMS5ub3JtYWxpemVWYWx1ZSh2YWx1ZSkpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBCcm93c2VySGVhZGVycy5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgICAgdmFyIG5vcm1hbGl6ZWRLZXkgPSB1dGlsXzEubm9ybWFsaXplTmFtZShrZXkpO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHZhciBub3JtYWxpemVkXzEgPSBbXTtcbiAgICAgICAgICAgIHZhbHVlLmZvckVhY2goZnVuY3Rpb24gKGFycmF5VmFsdWUpIHtcbiAgICAgICAgICAgICAgICBub3JtYWxpemVkXzEucHVzaCh1dGlsXzEubm9ybWFsaXplVmFsdWUoYXJyYXlWYWx1ZSkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLmhlYWRlcnNNYXBbbm9ybWFsaXplZEtleV0gPSBub3JtYWxpemVkXzE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmhlYWRlcnNNYXBbbm9ybWFsaXplZEtleV0gPSBbdXRpbF8xLm5vcm1hbGl6ZVZhbHVlKHZhbHVlKV07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEJyb3dzZXJIZWFkZXJzLnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgICAgICB2YXIga2V5QXJyYXkgPSB0aGlzLmhlYWRlcnNNYXBbdXRpbF8xLm5vcm1hbGl6ZU5hbWUoa2V5KV07XG4gICAgICAgIHZhciBrZXlFeGlzdHMgPSBBcnJheS5pc0FycmF5KGtleUFycmF5KTtcbiAgICAgICAgaWYgKCFrZXlFeGlzdHMpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdmFyIG5vcm1hbGl6ZWRWYWx1ZSA9IHV0aWxfMS5ub3JtYWxpemVWYWx1ZSh2YWx1ZSk7XG4gICAgICAgICAgICByZXR1cm4ga2V5QXJyYXkuaW5kZXhPZihub3JtYWxpemVkVmFsdWUpID49IDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQnJvd3NlckhlYWRlcnMucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgdmFyIHZhbHVlcyA9IHRoaXMuaGVhZGVyc01hcFt1dGlsXzEubm9ybWFsaXplTmFtZShrZXkpXTtcbiAgICAgICAgaWYgKHZhbHVlcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWVzLmNvbmNhdCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9O1xuICAgIEJyb3dzZXJIZWFkZXJzLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRoaXMuaGVhZGVyc01hcClcbiAgICAgICAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKGtleSwgX3RoaXMuaGVhZGVyc01hcFtrZXldKTtcbiAgICAgICAgfSwgdGhpcyk7XG4gICAgfTtcbiAgICBCcm93c2VySGVhZGVycy5wcm90b3R5cGUudG9IZWFkZXJzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodHlwZW9mIEhlYWRlcnMgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgIHZhciBoZWFkZXJzXzEgPSBuZXcgSGVhZGVycygpO1xuICAgICAgICAgICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uIChrZXksIHZhbHVlcykge1xuICAgICAgICAgICAgICAgIHZhbHVlcy5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzXzEuYXBwZW5kKGtleSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gaGVhZGVyc18xO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSGVhZGVycyBjbGFzcyBpcyBub3QgZGVmaW5lZFwiKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEJyb3dzZXJIZWFkZXJzO1xufSgpKTtcbmV4cG9ydHMuQnJvd3NlckhlYWRlcnMgPSBCcm93c2VySGVhZGVycztcblxuXG4vKioqLyB9KSxcbi8qIDEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBCcm93c2VySGVhZGVyc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbmV4cG9ydHMuQnJvd3NlckhlYWRlcnMgPSBCcm93c2VySGVhZGVyc18xLkJyb3dzZXJIZWFkZXJzO1xuXG5cbi8qKiovIH0pLFxuLyogMiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZnVuY3Rpb24gaXRlcmF0ZUhlYWRlcnMoaGVhZGVycywgY2FsbGJhY2spIHtcbiAgICB2YXIgaXRlcmF0b3IgPSBoZWFkZXJzW1N5bWJvbC5pdGVyYXRvcl0oKTtcbiAgICB2YXIgZW50cnkgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgd2hpbGUgKCFlbnRyeS5kb25lKSB7XG4gICAgICAgIGNhbGxiYWNrKGVudHJ5LnZhbHVlWzBdKTtcbiAgICAgICAgZW50cnkgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgfVxufVxuZXhwb3J0cy5pdGVyYXRlSGVhZGVycyA9IGl0ZXJhdGVIZWFkZXJzO1xuZnVuY3Rpb24gaXRlcmF0ZUhlYWRlcnNLZXlzKGhlYWRlcnMsIGNhbGxiYWNrKSB7XG4gICAgdmFyIGl0ZXJhdG9yID0gaGVhZGVycy5rZXlzKCk7XG4gICAgdmFyIGVudHJ5ID0gaXRlcmF0b3IubmV4dCgpO1xuICAgIHdoaWxlICghZW50cnkuZG9uZSkge1xuICAgICAgICBjYWxsYmFjayhlbnRyeS52YWx1ZSk7XG4gICAgICAgIGVudHJ5ID0gaXRlcmF0b3IubmV4dCgpO1xuICAgIH1cbn1cbmV4cG9ydHMuaXRlcmF0ZUhlYWRlcnNLZXlzID0gaXRlcmF0ZUhlYWRlcnNLZXlzO1xuXG5cbi8qKiovIH0pLFxuLyogMyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGl0ZXJhdGVIZWFkZXJzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuZnVuY3Rpb24gbm9ybWFsaXplTmFtZShuYW1lKSB7XG4gICAgaWYgKHR5cGVvZiBuYW1lICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIG5hbWUgPSBTdHJpbmcobmFtZSk7XG4gICAgfVxuICAgIGlmICgvW15hLXowLTlcXC0jJCUmJyorLlxcXl9gfH5dL2kudGVzdChuYW1lKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBjaGFyYWN0ZXIgaW4gaGVhZGVyIGZpZWxkIG5hbWVcIik7XG4gICAgfVxuICAgIHJldHVybiBuYW1lLnRvTG93ZXJDYXNlKCk7XG59XG5leHBvcnRzLm5vcm1hbGl6ZU5hbWUgPSBub3JtYWxpemVOYW1lO1xuZnVuY3Rpb24gbm9ybWFsaXplVmFsdWUodmFsdWUpIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHZhbHVlID0gU3RyaW5nKHZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xufVxuZXhwb3J0cy5ub3JtYWxpemVWYWx1ZSA9IG5vcm1hbGl6ZVZhbHVlO1xuZnVuY3Rpb24gZ2V0SGVhZGVyVmFsdWVzKGhlYWRlcnNBc05hdGl2ZSwga2V5KSB7XG4gICAgdmFyIGhlYWRlcnMgPSB0b1dpbmRvd0hlYWRlcnMoaGVhZGVyc0FzTmF0aXZlKTtcbiAgICBpZiAoaGVhZGVycyBpbnN0YW5jZW9mIEhlYWRlcnMgJiYgaGVhZGVycy5nZXRBbGwpIHtcbiAgICAgICAgcmV0dXJuIGhlYWRlcnMuZ2V0QWxsKGtleSk7XG4gICAgfVxuICAgIHZhciBnZXRWYWx1ZSA9IGhlYWRlcnMuZ2V0KGtleSk7XG4gICAgaWYgKGdldFZhbHVlICYmIHR5cGVvZiBnZXRWYWx1ZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICByZXR1cm4gW2dldFZhbHVlXTtcbiAgICB9XG4gICAgcmV0dXJuIGdldFZhbHVlO1xufVxuZXhwb3J0cy5nZXRIZWFkZXJWYWx1ZXMgPSBnZXRIZWFkZXJWYWx1ZXM7XG5mdW5jdGlvbiB0b1dpbmRvd0hlYWRlcnMoaGVhZGVyc0FzTmF0aXZlKSB7XG4gICAgcmV0dXJuIGhlYWRlcnNBc05hdGl2ZTtcbn1cbmZ1bmN0aW9uIGdldEhlYWRlcktleXMoaGVhZGVyc0FzTmF0aXZlKSB7XG4gICAgdmFyIGhlYWRlcnMgPSB0b1dpbmRvd0hlYWRlcnMoaGVhZGVyc0FzTmF0aXZlKTtcbiAgICB2YXIgYXNNYXAgPSB7fTtcbiAgICB2YXIga2V5cyA9IFtdO1xuICAgIGlmIChoZWFkZXJzLmtleXMpIHtcbiAgICAgICAgaXRlcmF0ZUhlYWRlcnNfMS5pdGVyYXRlSGVhZGVyc0tleXMoaGVhZGVycywgZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgaWYgKCFhc01hcFtrZXldKSB7XG4gICAgICAgICAgICAgICAgYXNNYXBba2V5XSA9IHRydWU7XG4gICAgICAgICAgICAgICAga2V5cy5wdXNoKGtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIGlmIChoZWFkZXJzLmZvckVhY2gpIHtcbiAgICAgICAgaGVhZGVycy5mb3JFYWNoKGZ1bmN0aW9uIChfLCBrZXkpIHtcbiAgICAgICAgICAgIGlmICghYXNNYXBba2V5XSkge1xuICAgICAgICAgICAgICAgIGFzTWFwW2tleV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgIGtleXMucHVzaChrZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGl0ZXJhdGVIZWFkZXJzXzEuaXRlcmF0ZUhlYWRlcnMoaGVhZGVycywgZnVuY3Rpb24gKGVudHJ5KSB7XG4gICAgICAgICAgICB2YXIga2V5ID0gZW50cnlbMF07XG4gICAgICAgICAgICBpZiAoIWFzTWFwW2tleV0pIHtcbiAgICAgICAgICAgICAgICBhc01hcFtrZXldID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBrZXlzLnB1c2goa2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBrZXlzO1xufVxuZXhwb3J0cy5nZXRIZWFkZXJLZXlzID0gZ2V0SGVhZGVyS2V5cztcbmZ1bmN0aW9uIHNwbGl0SGVhZGVyVmFsdWUoc3RyKSB7XG4gICAgdmFyIHZhbHVlcyA9IFtdO1xuICAgIHZhciBjb21tYVNwYWNlVmFsdWVzID0gc3RyLnNwbGl0KFwiLCBcIik7XG4gICAgY29tbWFTcGFjZVZhbHVlcy5mb3JFYWNoKGZ1bmN0aW9uIChjb21tYVNwYWNlVmFsdWUpIHtcbiAgICAgICAgY29tbWFTcGFjZVZhbHVlLnNwbGl0KFwiLFwiKS5mb3JFYWNoKGZ1bmN0aW9uIChjb21tYVZhbHVlKSB7XG4gICAgICAgICAgICB2YWx1ZXMucHVzaChjb21tYVZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHZhbHVlcztcbn1cbmV4cG9ydHMuc3BsaXRIZWFkZXJWYWx1ZSA9IHNwbGl0SGVhZGVyVmFsdWU7XG5cblxuLyoqKi8gfSlcbi8qKioqKiovIF0pO1xufSk7IiwiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCB7IGdycGMgfSBmcm9tIFwiQGltcHJvYmFibGUtZW5nL2dycGMtd2ViXCI7XG5pbXBvcnQgeyBDb2luIH0gZnJvbSBcIi4uLy4uL2Jhc2UvdjFiZXRhMS9jb2luXCI7XG5pbXBvcnQgeyBQYWdlUmVxdWVzdCwgUGFnZVJlc3BvbnNlIH0gZnJvbSBcIi4uLy4uL2Jhc2UvcXVlcnkvdjFiZXRhMS9wYWdpbmF0aW9uXCI7XG5pbXBvcnQgeyBQYXJhbXMsIE1ldGFkYXRhIH0gZnJvbSBcIi4vYmFua1wiO1xuaW1wb3J0IHsgQnJvd3NlckhlYWRlcnMgfSBmcm9tIFwiYnJvd3Nlci1oZWFkZXJzXCI7XG5pbXBvcnQgKiBhcyBfbTAgZnJvbSBcInByb3RvYnVmanMvbWluaW1hbFwiO1xuZXhwb3J0IGNvbnN0IHByb3RvYnVmUGFja2FnZSA9IFwiY29zbW9zLmJhbmsudjFiZXRhMVwiO1xuZnVuY3Rpb24gY3JlYXRlQmFzZVF1ZXJ5QmFsYW5jZVJlcXVlc3QoKSB7XG4gICAgcmV0dXJuIHsgYWRkcmVzczogXCJcIiwgZGVub206IFwiXCIgfTtcbn1cbmV4cG9ydCBjb25zdCBRdWVyeUJhbGFuY2VSZXF1ZXN0ID0ge1xuICAgIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLmFkZHJlc3MgIT09IFwiXCIpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTApLnN0cmluZyhtZXNzYWdlLmFkZHJlc3MpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmRlbm9tICE9PSBcIlwiKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDE4KS5zdHJpbmcobWVzc2FnZS5kZW5vbSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9LFxuICAgIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VRdWVyeUJhbGFuY2VSZXF1ZXN0KCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5hZGRyZXNzID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZGVub20gPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfSxcbiAgICBmcm9tSlNPTihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGFkZHJlc3M6IGlzU2V0KG9iamVjdC5hZGRyZXNzKSA/IFN0cmluZyhvYmplY3QuYWRkcmVzcykgOiBcIlwiLFxuICAgICAgICAgICAgZGVub206IGlzU2V0KG9iamVjdC5kZW5vbSkgPyBTdHJpbmcob2JqZWN0LmRlbm9tKSA6IFwiXCIsXG4gICAgICAgIH07XG4gICAgfSxcbiAgICB0b0pTT04obWVzc2FnZSkge1xuICAgICAgICBjb25zdCBvYmogPSB7fTtcbiAgICAgICAgbWVzc2FnZS5hZGRyZXNzICE9PSB1bmRlZmluZWQgJiYgKG9iai5hZGRyZXNzID0gbWVzc2FnZS5hZGRyZXNzKTtcbiAgICAgICAgbWVzc2FnZS5kZW5vbSAhPT0gdW5kZWZpbmVkICYmIChvYmouZGVub20gPSBtZXNzYWdlLmRlbm9tKTtcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9LFxuICAgIGZyb21QYXJ0aWFsKG9iamVjdCkge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVF1ZXJ5QmFsYW5jZVJlcXVlc3QoKTtcbiAgICAgICAgbWVzc2FnZS5hZGRyZXNzID0gb2JqZWN0LmFkZHJlc3MgPz8gXCJcIjtcbiAgICAgICAgbWVzc2FnZS5kZW5vbSA9IG9iamVjdC5kZW5vbSA/PyBcIlwiO1xuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9LFxufTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VRdWVyeUJhbGFuY2VSZXNwb25zZSgpIHtcbiAgICByZXR1cm4geyBiYWxhbmNlOiB1bmRlZmluZWQgfTtcbn1cbmV4cG9ydCBjb25zdCBRdWVyeUJhbGFuY2VSZXNwb25zZSA9IHtcbiAgICBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS5iYWxhbmNlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIENvaW4uZW5jb2RlKG1lc3NhZ2UuYmFsYW5jZSwgd3JpdGVyLnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH0sXG4gICAgZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVF1ZXJ5QmFsYW5jZVJlc3BvbnNlKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5iYWxhbmNlID0gQ29pbi5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG4gICAgZnJvbUpTT04ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBiYWxhbmNlOiBpc1NldChvYmplY3QuYmFsYW5jZSlcbiAgICAgICAgICAgICAgICA/IENvaW4uZnJvbUpTT04ob2JqZWN0LmJhbGFuY2UpXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgIH07XG4gICAgfSxcbiAgICB0b0pTT04obWVzc2FnZSkge1xuICAgICAgICBjb25zdCBvYmogPSB7fTtcbiAgICAgICAgbWVzc2FnZS5iYWxhbmNlICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIChvYmouYmFsYW5jZSA9IG1lc3NhZ2UuYmFsYW5jZVxuICAgICAgICAgICAgICAgID8gQ29pbi50b0pTT04obWVzc2FnZS5iYWxhbmNlKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkKTtcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9LFxuICAgIGZyb21QYXJ0aWFsKG9iamVjdCkge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVF1ZXJ5QmFsYW5jZVJlc3BvbnNlKCk7XG4gICAgICAgIG1lc3NhZ2UuYmFsYW5jZSA9XG4gICAgICAgICAgICBvYmplY3QuYmFsYW5jZSAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5iYWxhbmNlICE9PSBudWxsXG4gICAgICAgICAgICAgICAgPyBDb2luLmZyb21QYXJ0aWFsKG9iamVjdC5iYWxhbmNlKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9LFxufTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VRdWVyeUFsbEJhbGFuY2VzUmVxdWVzdCgpIHtcbiAgICByZXR1cm4geyBhZGRyZXNzOiBcIlwiLCBwYWdpbmF0aW9uOiB1bmRlZmluZWQgfTtcbn1cbmV4cG9ydCBjb25zdCBRdWVyeUFsbEJhbGFuY2VzUmVxdWVzdCA9IHtcbiAgICBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS5hZGRyZXNzICE9PSBcIlwiKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDEwKS5zdHJpbmcobWVzc2FnZS5hZGRyZXNzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5wYWdpbmF0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIFBhZ2VSZXF1ZXN0LmVuY29kZShtZXNzYWdlLnBhZ2luYXRpb24sIHdyaXRlci51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9LFxuICAgIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VRdWVyeUFsbEJhbGFuY2VzUmVxdWVzdCgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYWRkcmVzcyA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnBhZ2luYXRpb24gPSBQYWdlUmVxdWVzdC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG4gICAgZnJvbUpTT04ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBhZGRyZXNzOiBpc1NldChvYmplY3QuYWRkcmVzcykgPyBTdHJpbmcob2JqZWN0LmFkZHJlc3MpIDogXCJcIixcbiAgICAgICAgICAgIHBhZ2luYXRpb246IGlzU2V0KG9iamVjdC5wYWdpbmF0aW9uKVxuICAgICAgICAgICAgICAgID8gUGFnZVJlcXVlc3QuZnJvbUpTT04ob2JqZWN0LnBhZ2luYXRpb24pXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgIH07XG4gICAgfSxcbiAgICB0b0pTT04obWVzc2FnZSkge1xuICAgICAgICBjb25zdCBvYmogPSB7fTtcbiAgICAgICAgbWVzc2FnZS5hZGRyZXNzICE9PSB1bmRlZmluZWQgJiYgKG9iai5hZGRyZXNzID0gbWVzc2FnZS5hZGRyZXNzKTtcbiAgICAgICAgbWVzc2FnZS5wYWdpbmF0aW9uICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIChvYmoucGFnaW5hdGlvbiA9IG1lc3NhZ2UucGFnaW5hdGlvblxuICAgICAgICAgICAgICAgID8gUGFnZVJlcXVlc3QudG9KU09OKG1lc3NhZ2UucGFnaW5hdGlvbilcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCk7XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfSxcbiAgICBmcm9tUGFydGlhbChvYmplY3QpIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VRdWVyeUFsbEJhbGFuY2VzUmVxdWVzdCgpO1xuICAgICAgICBtZXNzYWdlLmFkZHJlc3MgPSBvYmplY3QuYWRkcmVzcyA/PyBcIlwiO1xuICAgICAgICBtZXNzYWdlLnBhZ2luYXRpb24gPVxuICAgICAgICAgICAgb2JqZWN0LnBhZ2luYXRpb24gIT09IHVuZGVmaW5lZCAmJiBvYmplY3QucGFnaW5hdGlvbiAhPT0gbnVsbFxuICAgICAgICAgICAgICAgID8gUGFnZVJlcXVlc3QuZnJvbVBhcnRpYWwob2JqZWN0LnBhZ2luYXRpb24pXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG59O1xuZnVuY3Rpb24gY3JlYXRlQmFzZVF1ZXJ5QWxsQmFsYW5jZXNSZXNwb25zZSgpIHtcbiAgICByZXR1cm4geyBiYWxhbmNlczogW10sIHBhZ2luYXRpb246IHVuZGVmaW5lZCB9O1xufVxuZXhwb3J0IGNvbnN0IFF1ZXJ5QWxsQmFsYW5jZXNSZXNwb25zZSA9IHtcbiAgICBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBmb3IgKGNvbnN0IHYgb2YgbWVzc2FnZS5iYWxhbmNlcykge1xuICAgICAgICAgICAgQ29pbi5lbmNvZGUodiwgd3JpdGVyLnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5wYWdpbmF0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIFBhZ2VSZXNwb25zZS5lbmNvZGUobWVzc2FnZS5wYWdpbmF0aW9uLCB3cml0ZXIudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfSxcbiAgICBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUXVlcnlBbGxCYWxhbmNlc1Jlc3BvbnNlKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5iYWxhbmNlcy5wdXNoKENvaW4uZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5wYWdpbmF0aW9uID0gUGFnZVJlc3BvbnNlLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfSxcbiAgICBmcm9tSlNPTihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGJhbGFuY2VzOiBBcnJheS5pc0FycmF5KG9iamVjdD8uYmFsYW5jZXMpXG4gICAgICAgICAgICAgICAgPyBvYmplY3QuYmFsYW5jZXMubWFwKChlKSA9PiBDb2luLmZyb21KU09OKGUpKVxuICAgICAgICAgICAgICAgIDogW10sXG4gICAgICAgICAgICBwYWdpbmF0aW9uOiBpc1NldChvYmplY3QucGFnaW5hdGlvbilcbiAgICAgICAgICAgICAgICA/IFBhZ2VSZXNwb25zZS5mcm9tSlNPTihvYmplY3QucGFnaW5hdGlvbilcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIHRvSlNPTihtZXNzYWdlKSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgICAgICBpZiAobWVzc2FnZS5iYWxhbmNlcykge1xuICAgICAgICAgICAgb2JqLmJhbGFuY2VzID0gbWVzc2FnZS5iYWxhbmNlcy5tYXAoKGUpID0+IGUgPyBDb2luLnRvSlNPTihlKSA6IHVuZGVmaW5lZCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBvYmouYmFsYW5jZXMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBtZXNzYWdlLnBhZ2luYXRpb24gIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgKG9iai5wYWdpbmF0aW9uID0gbWVzc2FnZS5wYWdpbmF0aW9uXG4gICAgICAgICAgICAgICAgPyBQYWdlUmVzcG9uc2UudG9KU09OKG1lc3NhZ2UucGFnaW5hdGlvbilcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCk7XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfSxcbiAgICBmcm9tUGFydGlhbChvYmplY3QpIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VRdWVyeUFsbEJhbGFuY2VzUmVzcG9uc2UoKTtcbiAgICAgICAgbWVzc2FnZS5iYWxhbmNlcyA9IG9iamVjdC5iYWxhbmNlcz8ubWFwKChlKSA9PiBDb2luLmZyb21QYXJ0aWFsKGUpKSB8fCBbXTtcbiAgICAgICAgbWVzc2FnZS5wYWdpbmF0aW9uID1cbiAgICAgICAgICAgIG9iamVjdC5wYWdpbmF0aW9uICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnBhZ2luYXRpb24gIT09IG51bGxcbiAgICAgICAgICAgICAgICA/IFBhZ2VSZXNwb25zZS5mcm9tUGFydGlhbChvYmplY3QucGFnaW5hdGlvbilcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfSxcbn07XG5mdW5jdGlvbiBjcmVhdGVCYXNlUXVlcnlUb3RhbFN1cHBseVJlcXVlc3QoKSB7XG4gICAgcmV0dXJuIHsgcGFnaW5hdGlvbjogdW5kZWZpbmVkIH07XG59XG5leHBvcnQgY29uc3QgUXVlcnlUb3RhbFN1cHBseVJlcXVlc3QgPSB7XG4gICAgZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UucGFnaW5hdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBQYWdlUmVxdWVzdC5lbmNvZGUobWVzc2FnZS5wYWdpbmF0aW9uLCB3cml0ZXIudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfSxcbiAgICBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUXVlcnlUb3RhbFN1cHBseVJlcXVlc3QoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnBhZ2luYXRpb24gPSBQYWdlUmVxdWVzdC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG4gICAgZnJvbUpTT04ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBwYWdpbmF0aW9uOiBpc1NldChvYmplY3QucGFnaW5hdGlvbilcbiAgICAgICAgICAgICAgICA/IFBhZ2VSZXF1ZXN0LmZyb21KU09OKG9iamVjdC5wYWdpbmF0aW9uKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICB9O1xuICAgIH0sXG4gICAgdG9KU09OKG1lc3NhZ2UpIHtcbiAgICAgICAgY29uc3Qgb2JqID0ge307XG4gICAgICAgIG1lc3NhZ2UucGFnaW5hdGlvbiAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAob2JqLnBhZ2luYXRpb24gPSBtZXNzYWdlLnBhZ2luYXRpb25cbiAgICAgICAgICAgICAgICA/IFBhZ2VSZXF1ZXN0LnRvSlNPTihtZXNzYWdlLnBhZ2luYXRpb24pXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQpO1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH0sXG4gICAgZnJvbVBhcnRpYWwob2JqZWN0KSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUXVlcnlUb3RhbFN1cHBseVJlcXVlc3QoKTtcbiAgICAgICAgbWVzc2FnZS5wYWdpbmF0aW9uID1cbiAgICAgICAgICAgIG9iamVjdC5wYWdpbmF0aW9uICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnBhZ2luYXRpb24gIT09IG51bGxcbiAgICAgICAgICAgICAgICA/IFBhZ2VSZXF1ZXN0LmZyb21QYXJ0aWFsKG9iamVjdC5wYWdpbmF0aW9uKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9LFxufTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VRdWVyeVRvdGFsU3VwcGx5UmVzcG9uc2UoKSB7XG4gICAgcmV0dXJuIHsgc3VwcGx5OiBbXSwgcGFnaW5hdGlvbjogdW5kZWZpbmVkIH07XG59XG5leHBvcnQgY29uc3QgUXVlcnlUb3RhbFN1cHBseVJlc3BvbnNlID0ge1xuICAgIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGZvciAoY29uc3QgdiBvZiBtZXNzYWdlLnN1cHBseSkge1xuICAgICAgICAgICAgQ29pbi5lbmNvZGUodiwgd3JpdGVyLnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5wYWdpbmF0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIFBhZ2VSZXNwb25zZS5lbmNvZGUobWVzc2FnZS5wYWdpbmF0aW9uLCB3cml0ZXIudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfSxcbiAgICBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUXVlcnlUb3RhbFN1cHBseVJlc3BvbnNlKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zdXBwbHkucHVzaChDb2luLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucGFnaW5hdGlvbiA9IFBhZ2VSZXNwb25zZS5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG4gICAgZnJvbUpTT04ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzdXBwbHk6IEFycmF5LmlzQXJyYXkob2JqZWN0Py5zdXBwbHkpXG4gICAgICAgICAgICAgICAgPyBvYmplY3Quc3VwcGx5Lm1hcCgoZSkgPT4gQ29pbi5mcm9tSlNPTihlKSlcbiAgICAgICAgICAgICAgICA6IFtdLFxuICAgICAgICAgICAgcGFnaW5hdGlvbjogaXNTZXQob2JqZWN0LnBhZ2luYXRpb24pXG4gICAgICAgICAgICAgICAgPyBQYWdlUmVzcG9uc2UuZnJvbUpTT04ob2JqZWN0LnBhZ2luYXRpb24pXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgIH07XG4gICAgfSxcbiAgICB0b0pTT04obWVzc2FnZSkge1xuICAgICAgICBjb25zdCBvYmogPSB7fTtcbiAgICAgICAgaWYgKG1lc3NhZ2Uuc3VwcGx5KSB7XG4gICAgICAgICAgICBvYmouc3VwcGx5ID0gbWVzc2FnZS5zdXBwbHkubWFwKChlKSA9PiAoZSA/IENvaW4udG9KU09OKGUpIDogdW5kZWZpbmVkKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBvYmouc3VwcGx5ID0gW107XG4gICAgICAgIH1cbiAgICAgICAgbWVzc2FnZS5wYWdpbmF0aW9uICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIChvYmoucGFnaW5hdGlvbiA9IG1lc3NhZ2UucGFnaW5hdGlvblxuICAgICAgICAgICAgICAgID8gUGFnZVJlc3BvbnNlLnRvSlNPTihtZXNzYWdlLnBhZ2luYXRpb24pXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQpO1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH0sXG4gICAgZnJvbVBhcnRpYWwob2JqZWN0KSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUXVlcnlUb3RhbFN1cHBseVJlc3BvbnNlKCk7XG4gICAgICAgIG1lc3NhZ2Uuc3VwcGx5ID0gb2JqZWN0LnN1cHBseT8ubWFwKChlKSA9PiBDb2luLmZyb21QYXJ0aWFsKGUpKSB8fCBbXTtcbiAgICAgICAgbWVzc2FnZS5wYWdpbmF0aW9uID1cbiAgICAgICAgICAgIG9iamVjdC5wYWdpbmF0aW9uICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnBhZ2luYXRpb24gIT09IG51bGxcbiAgICAgICAgICAgICAgICA/IFBhZ2VSZXNwb25zZS5mcm9tUGFydGlhbChvYmplY3QucGFnaW5hdGlvbilcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfSxcbn07XG5mdW5jdGlvbiBjcmVhdGVCYXNlUXVlcnlTdXBwbHlPZlJlcXVlc3QoKSB7XG4gICAgcmV0dXJuIHsgZGVub206IFwiXCIgfTtcbn1cbmV4cG9ydCBjb25zdCBRdWVyeVN1cHBseU9mUmVxdWVzdCA9IHtcbiAgICBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS5kZW5vbSAhPT0gXCJcIikge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxMCkuc3RyaW5nKG1lc3NhZ2UuZGVub20pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfSxcbiAgICBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUXVlcnlTdXBwbHlPZlJlcXVlc3QoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmRlbm9tID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG4gICAgZnJvbUpTT04ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBkZW5vbTogaXNTZXQob2JqZWN0LmRlbm9tKSA/IFN0cmluZyhvYmplY3QuZGVub20pIDogXCJcIixcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIHRvSlNPTihtZXNzYWdlKSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgICAgICBtZXNzYWdlLmRlbm9tICE9PSB1bmRlZmluZWQgJiYgKG9iai5kZW5vbSA9IG1lc3NhZ2UuZGVub20pO1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH0sXG4gICAgZnJvbVBhcnRpYWwob2JqZWN0KSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUXVlcnlTdXBwbHlPZlJlcXVlc3QoKTtcbiAgICAgICAgbWVzc2FnZS5kZW5vbSA9IG9iamVjdC5kZW5vbSA/PyBcIlwiO1xuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9LFxufTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VRdWVyeVN1cHBseU9mUmVzcG9uc2UoKSB7XG4gICAgcmV0dXJuIHsgYW1vdW50OiB1bmRlZmluZWQgfTtcbn1cbmV4cG9ydCBjb25zdCBRdWVyeVN1cHBseU9mUmVzcG9uc2UgPSB7XG4gICAgZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UuYW1vdW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIENvaW4uZW5jb2RlKG1lc3NhZ2UuYW1vdW50LCB3cml0ZXIudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfSxcbiAgICBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUXVlcnlTdXBwbHlPZlJlc3BvbnNlKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5hbW91bnQgPSBDb2luLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfSxcbiAgICBmcm9tSlNPTihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGFtb3VudDogaXNTZXQob2JqZWN0LmFtb3VudCkgPyBDb2luLmZyb21KU09OKG9iamVjdC5hbW91bnQpIDogdW5kZWZpbmVkLFxuICAgICAgICB9O1xuICAgIH0sXG4gICAgdG9KU09OKG1lc3NhZ2UpIHtcbiAgICAgICAgY29uc3Qgb2JqID0ge307XG4gICAgICAgIG1lc3NhZ2UuYW1vdW50ICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIChvYmouYW1vdW50ID0gbWVzc2FnZS5hbW91bnQgPyBDb2luLnRvSlNPTihtZXNzYWdlLmFtb3VudCkgOiB1bmRlZmluZWQpO1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH0sXG4gICAgZnJvbVBhcnRpYWwob2JqZWN0KSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUXVlcnlTdXBwbHlPZlJlc3BvbnNlKCk7XG4gICAgICAgIG1lc3NhZ2UuYW1vdW50ID1cbiAgICAgICAgICAgIG9iamVjdC5hbW91bnQgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QuYW1vdW50ICE9PSBudWxsXG4gICAgICAgICAgICAgICAgPyBDb2luLmZyb21QYXJ0aWFsKG9iamVjdC5hbW91bnQpXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG59O1xuZnVuY3Rpb24gY3JlYXRlQmFzZVF1ZXJ5UGFyYW1zUmVxdWVzdCgpIHtcbiAgICByZXR1cm4ge307XG59XG5leHBvcnQgY29uc3QgUXVlcnlQYXJhbXNSZXF1ZXN0ID0ge1xuICAgIGVuY29kZShfLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfSxcbiAgICBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUXVlcnlQYXJhbXNSZXF1ZXN0KCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfSxcbiAgICBmcm9tSlNPTihfKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9LFxuICAgIHRvSlNPTihfKSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH0sXG4gICAgZnJvbVBhcnRpYWwoXykge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVF1ZXJ5UGFyYW1zUmVxdWVzdCgpO1xuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9LFxufTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VRdWVyeVBhcmFtc1Jlc3BvbnNlKCkge1xuICAgIHJldHVybiB7IHBhcmFtczogdW5kZWZpbmVkIH07XG59XG5leHBvcnQgY29uc3QgUXVlcnlQYXJhbXNSZXNwb25zZSA9IHtcbiAgICBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS5wYXJhbXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgUGFyYW1zLmVuY29kZShtZXNzYWdlLnBhcmFtcywgd3JpdGVyLnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH0sXG4gICAgZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVF1ZXJ5UGFyYW1zUmVzcG9uc2UoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnBhcmFtcyA9IFBhcmFtcy5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG4gICAgZnJvbUpTT04ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBwYXJhbXM6IGlzU2V0KG9iamVjdC5wYXJhbXMpID8gUGFyYW1zLmZyb21KU09OKG9iamVjdC5wYXJhbXMpIDogdW5kZWZpbmVkLFxuICAgICAgICB9O1xuICAgIH0sXG4gICAgdG9KU09OKG1lc3NhZ2UpIHtcbiAgICAgICAgY29uc3Qgb2JqID0ge307XG4gICAgICAgIG1lc3NhZ2UucGFyYW1zICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIChvYmoucGFyYW1zID0gbWVzc2FnZS5wYXJhbXMgPyBQYXJhbXMudG9KU09OKG1lc3NhZ2UucGFyYW1zKSA6IHVuZGVmaW5lZCk7XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfSxcbiAgICBmcm9tUGFydGlhbChvYmplY3QpIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VRdWVyeVBhcmFtc1Jlc3BvbnNlKCk7XG4gICAgICAgIG1lc3NhZ2UucGFyYW1zID1cbiAgICAgICAgICAgIG9iamVjdC5wYXJhbXMgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QucGFyYW1zICE9PSBudWxsXG4gICAgICAgICAgICAgICAgPyBQYXJhbXMuZnJvbVBhcnRpYWwob2JqZWN0LnBhcmFtcylcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfSxcbn07XG5mdW5jdGlvbiBjcmVhdGVCYXNlUXVlcnlEZW5vbXNNZXRhZGF0YVJlcXVlc3QoKSB7XG4gICAgcmV0dXJuIHsgcGFnaW5hdGlvbjogdW5kZWZpbmVkIH07XG59XG5leHBvcnQgY29uc3QgUXVlcnlEZW5vbXNNZXRhZGF0YVJlcXVlc3QgPSB7XG4gICAgZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UucGFnaW5hdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBQYWdlUmVxdWVzdC5lbmNvZGUobWVzc2FnZS5wYWdpbmF0aW9uLCB3cml0ZXIudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfSxcbiAgICBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUXVlcnlEZW5vbXNNZXRhZGF0YVJlcXVlc3QoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnBhZ2luYXRpb24gPSBQYWdlUmVxdWVzdC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG4gICAgZnJvbUpTT04ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBwYWdpbmF0aW9uOiBpc1NldChvYmplY3QucGFnaW5hdGlvbilcbiAgICAgICAgICAgICAgICA/IFBhZ2VSZXF1ZXN0LmZyb21KU09OKG9iamVjdC5wYWdpbmF0aW9uKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICB9O1xuICAgIH0sXG4gICAgdG9KU09OKG1lc3NhZ2UpIHtcbiAgICAgICAgY29uc3Qgb2JqID0ge307XG4gICAgICAgIG1lc3NhZ2UucGFnaW5hdGlvbiAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAob2JqLnBhZ2luYXRpb24gPSBtZXNzYWdlLnBhZ2luYXRpb25cbiAgICAgICAgICAgICAgICA/IFBhZ2VSZXF1ZXN0LnRvSlNPTihtZXNzYWdlLnBhZ2luYXRpb24pXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQpO1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH0sXG4gICAgZnJvbVBhcnRpYWwob2JqZWN0KSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUXVlcnlEZW5vbXNNZXRhZGF0YVJlcXVlc3QoKTtcbiAgICAgICAgbWVzc2FnZS5wYWdpbmF0aW9uID1cbiAgICAgICAgICAgIG9iamVjdC5wYWdpbmF0aW9uICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnBhZ2luYXRpb24gIT09IG51bGxcbiAgICAgICAgICAgICAgICA/IFBhZ2VSZXF1ZXN0LmZyb21QYXJ0aWFsKG9iamVjdC5wYWdpbmF0aW9uKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9LFxufTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VRdWVyeURlbm9tc01ldGFkYXRhUmVzcG9uc2UoKSB7XG4gICAgcmV0dXJuIHsgbWV0YWRhdGFzOiBbXSwgcGFnaW5hdGlvbjogdW5kZWZpbmVkIH07XG59XG5leHBvcnQgY29uc3QgUXVlcnlEZW5vbXNNZXRhZGF0YVJlc3BvbnNlID0ge1xuICAgIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGZvciAoY29uc3QgdiBvZiBtZXNzYWdlLm1ldGFkYXRhcykge1xuICAgICAgICAgICAgTWV0YWRhdGEuZW5jb2RlKHYsIHdyaXRlci51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UucGFnaW5hdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBQYWdlUmVzcG9uc2UuZW5jb2RlKG1lc3NhZ2UucGFnaW5hdGlvbiwgd3JpdGVyLnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH0sXG4gICAgZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVF1ZXJ5RGVub21zTWV0YWRhdGFSZXNwb25zZSgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubWV0YWRhdGFzLnB1c2goTWV0YWRhdGEuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5wYWdpbmF0aW9uID0gUGFnZVJlc3BvbnNlLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfSxcbiAgICBmcm9tSlNPTihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1ldGFkYXRhczogQXJyYXkuaXNBcnJheShvYmplY3Q/Lm1ldGFkYXRhcylcbiAgICAgICAgICAgICAgICA/IG9iamVjdC5tZXRhZGF0YXMubWFwKChlKSA9PiBNZXRhZGF0YS5mcm9tSlNPTihlKSlcbiAgICAgICAgICAgICAgICA6IFtdLFxuICAgICAgICAgICAgcGFnaW5hdGlvbjogaXNTZXQob2JqZWN0LnBhZ2luYXRpb24pXG4gICAgICAgICAgICAgICAgPyBQYWdlUmVzcG9uc2UuZnJvbUpTT04ob2JqZWN0LnBhZ2luYXRpb24pXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgIH07XG4gICAgfSxcbiAgICB0b0pTT04obWVzc2FnZSkge1xuICAgICAgICBjb25zdCBvYmogPSB7fTtcbiAgICAgICAgaWYgKG1lc3NhZ2UubWV0YWRhdGFzKSB7XG4gICAgICAgICAgICBvYmoubWV0YWRhdGFzID0gbWVzc2FnZS5tZXRhZGF0YXMubWFwKChlKSA9PiBlID8gTWV0YWRhdGEudG9KU09OKGUpIDogdW5kZWZpbmVkKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG9iai5tZXRhZGF0YXMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBtZXNzYWdlLnBhZ2luYXRpb24gIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgKG9iai5wYWdpbmF0aW9uID0gbWVzc2FnZS5wYWdpbmF0aW9uXG4gICAgICAgICAgICAgICAgPyBQYWdlUmVzcG9uc2UudG9KU09OKG1lc3NhZ2UucGFnaW5hdGlvbilcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCk7XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfSxcbiAgICBmcm9tUGFydGlhbChvYmplY3QpIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VRdWVyeURlbm9tc01ldGFkYXRhUmVzcG9uc2UoKTtcbiAgICAgICAgbWVzc2FnZS5tZXRhZGF0YXMgPVxuICAgICAgICAgICAgb2JqZWN0Lm1ldGFkYXRhcz8ubWFwKChlKSA9PiBNZXRhZGF0YS5mcm9tUGFydGlhbChlKSkgfHwgW107XG4gICAgICAgIG1lc3NhZ2UucGFnaW5hdGlvbiA9XG4gICAgICAgICAgICBvYmplY3QucGFnaW5hdGlvbiAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5wYWdpbmF0aW9uICE9PSBudWxsXG4gICAgICAgICAgICAgICAgPyBQYWdlUmVzcG9uc2UuZnJvbVBhcnRpYWwob2JqZWN0LnBhZ2luYXRpb24pXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG59O1xuZnVuY3Rpb24gY3JlYXRlQmFzZVF1ZXJ5RGVub21NZXRhZGF0YVJlcXVlc3QoKSB7XG4gICAgcmV0dXJuIHsgZGVub206IFwiXCIgfTtcbn1cbmV4cG9ydCBjb25zdCBRdWVyeURlbm9tTWV0YWRhdGFSZXF1ZXN0ID0ge1xuICAgIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLmRlbm9tICE9PSBcIlwiKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDEwKS5zdHJpbmcobWVzc2FnZS5kZW5vbSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9LFxuICAgIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VRdWVyeURlbm9tTWV0YWRhdGFSZXF1ZXN0KCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5kZW5vbSA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9LFxuICAgIGZyb21KU09OKG9iamVjdCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZGVub206IGlzU2V0KG9iamVjdC5kZW5vbSkgPyBTdHJpbmcob2JqZWN0LmRlbm9tKSA6IFwiXCIsXG4gICAgICAgIH07XG4gICAgfSxcbiAgICB0b0pTT04obWVzc2FnZSkge1xuICAgICAgICBjb25zdCBvYmogPSB7fTtcbiAgICAgICAgbWVzc2FnZS5kZW5vbSAhPT0gdW5kZWZpbmVkICYmIChvYmouZGVub20gPSBtZXNzYWdlLmRlbm9tKTtcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9LFxuICAgIGZyb21QYXJ0aWFsKG9iamVjdCkge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVF1ZXJ5RGVub21NZXRhZGF0YVJlcXVlc3QoKTtcbiAgICAgICAgbWVzc2FnZS5kZW5vbSA9IG9iamVjdC5kZW5vbSA/PyBcIlwiO1xuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9LFxufTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VRdWVyeURlbm9tTWV0YWRhdGFSZXNwb25zZSgpIHtcbiAgICByZXR1cm4geyBtZXRhZGF0YTogdW5kZWZpbmVkIH07XG59XG5leHBvcnQgY29uc3QgUXVlcnlEZW5vbU1ldGFkYXRhUmVzcG9uc2UgPSB7XG4gICAgZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UubWV0YWRhdGEgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgTWV0YWRhdGEuZW5jb2RlKG1lc3NhZ2UubWV0YWRhdGEsIHdyaXRlci51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9LFxuICAgIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VRdWVyeURlbm9tTWV0YWRhdGFSZXNwb25zZSgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubWV0YWRhdGEgPSBNZXRhZGF0YS5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG4gICAgZnJvbUpTT04ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtZXRhZGF0YTogaXNTZXQob2JqZWN0Lm1ldGFkYXRhKVxuICAgICAgICAgICAgICAgID8gTWV0YWRhdGEuZnJvbUpTT04ob2JqZWN0Lm1ldGFkYXRhKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICB9O1xuICAgIH0sXG4gICAgdG9KU09OKG1lc3NhZ2UpIHtcbiAgICAgICAgY29uc3Qgb2JqID0ge307XG4gICAgICAgIG1lc3NhZ2UubWV0YWRhdGEgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgKG9iai5tZXRhZGF0YSA9IG1lc3NhZ2UubWV0YWRhdGFcbiAgICAgICAgICAgICAgICA/IE1ldGFkYXRhLnRvSlNPTihtZXNzYWdlLm1ldGFkYXRhKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkKTtcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9LFxuICAgIGZyb21QYXJ0aWFsKG9iamVjdCkge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVF1ZXJ5RGVub21NZXRhZGF0YVJlc3BvbnNlKCk7XG4gICAgICAgIG1lc3NhZ2UubWV0YWRhdGEgPVxuICAgICAgICAgICAgb2JqZWN0Lm1ldGFkYXRhICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0Lm1ldGFkYXRhICE9PSBudWxsXG4gICAgICAgICAgICAgICAgPyBNZXRhZGF0YS5mcm9tUGFydGlhbChvYmplY3QubWV0YWRhdGEpXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG59O1xuZXhwb3J0IGNsYXNzIFF1ZXJ5Q2xpZW50SW1wbCB7XG4gICAgcnBjO1xuICAgIGNvbnN0cnVjdG9yKHJwYykge1xuICAgICAgICB0aGlzLnJwYyA9IHJwYztcbiAgICAgICAgdGhpcy5iYWxhbmNlID0gdGhpcy5iYWxhbmNlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuYWxsQmFsYW5jZXMgPSB0aGlzLmFsbEJhbGFuY2VzLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMudG90YWxTdXBwbHkgPSB0aGlzLnRvdGFsU3VwcGx5LmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuc3VwcGx5T2YgPSB0aGlzLnN1cHBseU9mLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMucGFyYW1zID0gdGhpcy5wYXJhbXMuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5kZW5vbU1ldGFkYXRhID0gdGhpcy5kZW5vbU1ldGFkYXRhLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuZGVub21zTWV0YWRhdGEgPSB0aGlzLmRlbm9tc01ldGFkYXRhLmJpbmQodGhpcyk7XG4gICAgfVxuICAgIGJhbGFuY2UocmVxdWVzdCwgbWV0YWRhdGEpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucnBjLnVuYXJ5KFF1ZXJ5QmFsYW5jZURlc2MsIFF1ZXJ5QmFsYW5jZVJlcXVlc3QuZnJvbVBhcnRpYWwocmVxdWVzdCksIG1ldGFkYXRhKTtcbiAgICB9XG4gICAgYWxsQmFsYW5jZXMocmVxdWVzdCwgbWV0YWRhdGEpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucnBjLnVuYXJ5KFF1ZXJ5QWxsQmFsYW5jZXNEZXNjLCBRdWVyeUFsbEJhbGFuY2VzUmVxdWVzdC5mcm9tUGFydGlhbChyZXF1ZXN0KSwgbWV0YWRhdGEpO1xuICAgIH1cbiAgICB0b3RhbFN1cHBseShyZXF1ZXN0LCBtZXRhZGF0YSkge1xuICAgICAgICByZXR1cm4gdGhpcy5ycGMudW5hcnkoUXVlcnlUb3RhbFN1cHBseURlc2MsIFF1ZXJ5VG90YWxTdXBwbHlSZXF1ZXN0LmZyb21QYXJ0aWFsKHJlcXVlc3QpLCBtZXRhZGF0YSk7XG4gICAgfVxuICAgIHN1cHBseU9mKHJlcXVlc3QsIG1ldGFkYXRhKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJwYy51bmFyeShRdWVyeVN1cHBseU9mRGVzYywgUXVlcnlTdXBwbHlPZlJlcXVlc3QuZnJvbVBhcnRpYWwocmVxdWVzdCksIG1ldGFkYXRhKTtcbiAgICB9XG4gICAgcGFyYW1zKHJlcXVlc3QsIG1ldGFkYXRhKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJwYy51bmFyeShRdWVyeVBhcmFtc0Rlc2MsIFF1ZXJ5UGFyYW1zUmVxdWVzdC5mcm9tUGFydGlhbChyZXF1ZXN0KSwgbWV0YWRhdGEpO1xuICAgIH1cbiAgICBkZW5vbU1ldGFkYXRhKHJlcXVlc3QsIG1ldGFkYXRhKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJwYy51bmFyeShRdWVyeURlbm9tTWV0YWRhdGFEZXNjLCBRdWVyeURlbm9tTWV0YWRhdGFSZXF1ZXN0LmZyb21QYXJ0aWFsKHJlcXVlc3QpLCBtZXRhZGF0YSk7XG4gICAgfVxuICAgIGRlbm9tc01ldGFkYXRhKHJlcXVlc3QsIG1ldGFkYXRhKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJwYy51bmFyeShRdWVyeURlbm9tc01ldGFkYXRhRGVzYywgUXVlcnlEZW5vbXNNZXRhZGF0YVJlcXVlc3QuZnJvbVBhcnRpYWwocmVxdWVzdCksIG1ldGFkYXRhKTtcbiAgICB9XG59XG5leHBvcnQgY29uc3QgUXVlcnlEZXNjID0ge1xuICAgIHNlcnZpY2VOYW1lOiBcImNvc21vcy5iYW5rLnYxYmV0YTEuUXVlcnlcIixcbn07XG5leHBvcnQgY29uc3QgUXVlcnlCYWxhbmNlRGVzYyA9IHtcbiAgICBtZXRob2ROYW1lOiBcIkJhbGFuY2VcIixcbiAgICBzZXJ2aWNlOiBRdWVyeURlc2MsXG4gICAgcmVxdWVzdFN0cmVhbTogZmFsc2UsXG4gICAgcmVzcG9uc2VTdHJlYW06IGZhbHNlLFxuICAgIHJlcXVlc3RUeXBlOiB7XG4gICAgICAgIHNlcmlhbGl6ZUJpbmFyeSgpIHtcbiAgICAgICAgICAgIHJldHVybiBRdWVyeUJhbGFuY2VSZXF1ZXN0LmVuY29kZSh0aGlzKS5maW5pc2goKTtcbiAgICAgICAgfSxcbiAgICB9LFxuICAgIHJlc3BvbnNlVHlwZToge1xuICAgICAgICBkZXNlcmlhbGl6ZUJpbmFyeShkYXRhKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIC4uLlF1ZXJ5QmFsYW5jZVJlc3BvbnNlLmRlY29kZShkYXRhKSxcbiAgICAgICAgICAgICAgICB0b09iamVjdCgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgfSxcbn07XG5leHBvcnQgY29uc3QgUXVlcnlBbGxCYWxhbmNlc0Rlc2MgPSB7XG4gICAgbWV0aG9kTmFtZTogXCJBbGxCYWxhbmNlc1wiLFxuICAgIHNlcnZpY2U6IFF1ZXJ5RGVzYyxcbiAgICByZXF1ZXN0U3RyZWFtOiBmYWxzZSxcbiAgICByZXNwb25zZVN0cmVhbTogZmFsc2UsXG4gICAgcmVxdWVzdFR5cGU6IHtcbiAgICAgICAgc2VyaWFsaXplQmluYXJ5KCkge1xuICAgICAgICAgICAgcmV0dXJuIFF1ZXJ5QWxsQmFsYW5jZXNSZXF1ZXN0LmVuY29kZSh0aGlzKS5maW5pc2goKTtcbiAgICAgICAgfSxcbiAgICB9LFxuICAgIHJlc3BvbnNlVHlwZToge1xuICAgICAgICBkZXNlcmlhbGl6ZUJpbmFyeShkYXRhKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIC4uLlF1ZXJ5QWxsQmFsYW5jZXNSZXNwb25zZS5kZWNvZGUoZGF0YSksXG4gICAgICAgICAgICAgICAgdG9PYmplY3QoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgIH0sXG59O1xuZXhwb3J0IGNvbnN0IFF1ZXJ5VG90YWxTdXBwbHlEZXNjID0ge1xuICAgIG1ldGhvZE5hbWU6IFwiVG90YWxTdXBwbHlcIixcbiAgICBzZXJ2aWNlOiBRdWVyeURlc2MsXG4gICAgcmVxdWVzdFN0cmVhbTogZmFsc2UsXG4gICAgcmVzcG9uc2VTdHJlYW06IGZhbHNlLFxuICAgIHJlcXVlc3RUeXBlOiB7XG4gICAgICAgIHNlcmlhbGl6ZUJpbmFyeSgpIHtcbiAgICAgICAgICAgIHJldHVybiBRdWVyeVRvdGFsU3VwcGx5UmVxdWVzdC5lbmNvZGUodGhpcykuZmluaXNoKCk7XG4gICAgICAgIH0sXG4gICAgfSxcbiAgICByZXNwb25zZVR5cGU6IHtcbiAgICAgICAgZGVzZXJpYWxpemVCaW5hcnkoZGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAuLi5RdWVyeVRvdGFsU3VwcGx5UmVzcG9uc2UuZGVjb2RlKGRhdGEpLFxuICAgICAgICAgICAgICAgIHRvT2JqZWN0KCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICB9LFxufTtcbmV4cG9ydCBjb25zdCBRdWVyeVN1cHBseU9mRGVzYyA9IHtcbiAgICBtZXRob2ROYW1lOiBcIlN1cHBseU9mXCIsXG4gICAgc2VydmljZTogUXVlcnlEZXNjLFxuICAgIHJlcXVlc3RTdHJlYW06IGZhbHNlLFxuICAgIHJlc3BvbnNlU3RyZWFtOiBmYWxzZSxcbiAgICByZXF1ZXN0VHlwZToge1xuICAgICAgICBzZXJpYWxpemVCaW5hcnkoKSB7XG4gICAgICAgICAgICByZXR1cm4gUXVlcnlTdXBwbHlPZlJlcXVlc3QuZW5jb2RlKHRoaXMpLmZpbmlzaCgpO1xuICAgICAgICB9LFxuICAgIH0sXG4gICAgcmVzcG9uc2VUeXBlOiB7XG4gICAgICAgIGRlc2VyaWFsaXplQmluYXJ5KGRhdGEpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgLi4uUXVlcnlTdXBwbHlPZlJlc3BvbnNlLmRlY29kZShkYXRhKSxcbiAgICAgICAgICAgICAgICB0b09iamVjdCgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgfSxcbn07XG5leHBvcnQgY29uc3QgUXVlcnlQYXJhbXNEZXNjID0ge1xuICAgIG1ldGhvZE5hbWU6IFwiUGFyYW1zXCIsXG4gICAgc2VydmljZTogUXVlcnlEZXNjLFxuICAgIHJlcXVlc3RTdHJlYW06IGZhbHNlLFxuICAgIHJlc3BvbnNlU3RyZWFtOiBmYWxzZSxcbiAgICByZXF1ZXN0VHlwZToge1xuICAgICAgICBzZXJpYWxpemVCaW5hcnkoKSB7XG4gICAgICAgICAgICByZXR1cm4gUXVlcnlQYXJhbXNSZXF1ZXN0LmVuY29kZSh0aGlzKS5maW5pc2goKTtcbiAgICAgICAgfSxcbiAgICB9LFxuICAgIHJlc3BvbnNlVHlwZToge1xuICAgICAgICBkZXNlcmlhbGl6ZUJpbmFyeShkYXRhKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIC4uLlF1ZXJ5UGFyYW1zUmVzcG9uc2UuZGVjb2RlKGRhdGEpLFxuICAgICAgICAgICAgICAgIHRvT2JqZWN0KCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICB9LFxufTtcbmV4cG9ydCBjb25zdCBRdWVyeURlbm9tTWV0YWRhdGFEZXNjID0ge1xuICAgIG1ldGhvZE5hbWU6IFwiRGVub21NZXRhZGF0YVwiLFxuICAgIHNlcnZpY2U6IFF1ZXJ5RGVzYyxcbiAgICByZXF1ZXN0U3RyZWFtOiBmYWxzZSxcbiAgICByZXNwb25zZVN0cmVhbTogZmFsc2UsXG4gICAgcmVxdWVzdFR5cGU6IHtcbiAgICAgICAgc2VyaWFsaXplQmluYXJ5KCkge1xuICAgICAgICAgICAgcmV0dXJuIFF1ZXJ5RGVub21NZXRhZGF0YVJlcXVlc3QuZW5jb2RlKHRoaXMpLmZpbmlzaCgpO1xuICAgICAgICB9LFxuICAgIH0sXG4gICAgcmVzcG9uc2VUeXBlOiB7XG4gICAgICAgIGRlc2VyaWFsaXplQmluYXJ5KGRhdGEpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgLi4uUXVlcnlEZW5vbU1ldGFkYXRhUmVzcG9uc2UuZGVjb2RlKGRhdGEpLFxuICAgICAgICAgICAgICAgIHRvT2JqZWN0KCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICB9LFxufTtcbmV4cG9ydCBjb25zdCBRdWVyeURlbm9tc01ldGFkYXRhRGVzYyA9IHtcbiAgICBtZXRob2ROYW1lOiBcIkRlbm9tc01ldGFkYXRhXCIsXG4gICAgc2VydmljZTogUXVlcnlEZXNjLFxuICAgIHJlcXVlc3RTdHJlYW06IGZhbHNlLFxuICAgIHJlc3BvbnNlU3RyZWFtOiBmYWxzZSxcbiAgICByZXF1ZXN0VHlwZToge1xuICAgICAgICBzZXJpYWxpemVCaW5hcnkoKSB7XG4gICAgICAgICAgICByZXR1cm4gUXVlcnlEZW5vbXNNZXRhZGF0YVJlcXVlc3QuZW5jb2RlKHRoaXMpLmZpbmlzaCgpO1xuICAgICAgICB9LFxuICAgIH0sXG4gICAgcmVzcG9uc2VUeXBlOiB7XG4gICAgICAgIGRlc2VyaWFsaXplQmluYXJ5KGRhdGEpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgLi4uUXVlcnlEZW5vbXNNZXRhZGF0YVJlc3BvbnNlLmRlY29kZShkYXRhKSxcbiAgICAgICAgICAgICAgICB0b09iamVjdCgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgfSxcbn07XG5leHBvcnQgY2xhc3MgR3JwY1dlYkltcGwge1xuICAgIGhvc3Q7XG4gICAgb3B0aW9ucztcbiAgICBjb25zdHJ1Y3Rvcihob3N0LCBvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuaG9zdCA9IGhvc3Q7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgfVxuICAgIHVuYXJ5KG1ldGhvZERlc2MsIF9yZXF1ZXN0LCBtZXRhZGF0YSkge1xuICAgICAgICBjb25zdCByZXF1ZXN0ID0geyAuLi5fcmVxdWVzdCwgLi4ubWV0aG9kRGVzYy5yZXF1ZXN0VHlwZSB9O1xuICAgICAgICBjb25zdCBtYXliZUNvbWJpbmVkTWV0YWRhdGEgPSBtZXRhZGF0YSAmJiB0aGlzLm9wdGlvbnMubWV0YWRhdGFcbiAgICAgICAgICAgID8gbmV3IEJyb3dzZXJIZWFkZXJzKHtcbiAgICAgICAgICAgICAgICAuLi50aGlzLm9wdGlvbnM/Lm1ldGFkYXRhLmhlYWRlcnNNYXAsXG4gICAgICAgICAgICAgICAgLi4ubWV0YWRhdGE/LmhlYWRlcnNNYXAsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgOiBtZXRhZGF0YSB8fCB0aGlzLm9wdGlvbnMubWV0YWRhdGE7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBncnBjLnVuYXJ5KG1ldGhvZERlc2MsIHtcbiAgICAgICAgICAgICAgICByZXF1ZXN0LFxuICAgICAgICAgICAgICAgIGhvc3Q6IHRoaXMuaG9zdCxcbiAgICAgICAgICAgICAgICBtZXRhZGF0YTogbWF5YmVDb21iaW5lZE1ldGFkYXRhLFxuICAgICAgICAgICAgICAgIHRyYW5zcG9ydDogdGhpcy5vcHRpb25zLnRyYW5zcG9ydCxcbiAgICAgICAgICAgICAgICBkZWJ1ZzogdGhpcy5vcHRpb25zLmRlYnVnLFxuICAgICAgICAgICAgICAgIG9uRW5kOiBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gZ3JwYy5Db2RlLk9LKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3BvbnNlLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZXJyID0gbmV3IEVycm9yKHJlc3BvbnNlLnN0YXR1c01lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZXJyLmNvZGUgPSByZXNwb25zZS5zdGF0dXM7XG4gICAgICAgICAgICAgICAgICAgICAgICBlcnIubWV0YWRhdGEgPSByZXNwb25zZS50cmFpbGVycztcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5mdW5jdGlvbiBpc1NldCh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gdW5kZWZpbmVkO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cXVlcnkuanMubWFwIiwiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCAqIGFzIF9tMCBmcm9tIFwicHJvdG9idWZqcy9taW5pbWFsXCI7XG5leHBvcnQgY29uc3QgcHJvdG9idWZQYWNrYWdlID0gXCJnb29nbGUucHJvdG9idWZcIjtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VBbnkoKSB7XG4gICAgcmV0dXJuIHsgdHlwZVVybDogXCJcIiwgdmFsdWU6IG5ldyBVaW50OEFycmF5KCkgfTtcbn1cbmV4cG9ydCBjb25zdCBBbnkgPSB7XG4gICAgZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UudHlwZVVybCAhPT0gXCJcIikge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxMCkuc3RyaW5nKG1lc3NhZ2UudHlwZVVybCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UudmFsdWUubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDE4KS5ieXRlcyhtZXNzYWdlLnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH0sXG4gICAgZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUFueSgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudHlwZVVybCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnZhbHVlID0gcmVhZGVyLmJ5dGVzKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfSxcbiAgICBmcm9tSlNPTihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGVVcmw6IGlzU2V0KG9iamVjdC50eXBlVXJsKSA/IFN0cmluZyhvYmplY3QudHlwZVVybCkgOiBcIlwiLFxuICAgICAgICAgICAgdmFsdWU6IGlzU2V0KG9iamVjdC52YWx1ZSlcbiAgICAgICAgICAgICAgICA/IGJ5dGVzRnJvbUJhc2U2NChvYmplY3QudmFsdWUpXG4gICAgICAgICAgICAgICAgOiBuZXcgVWludDhBcnJheSgpLFxuICAgICAgICB9O1xuICAgIH0sXG4gICAgdG9KU09OKG1lc3NhZ2UpIHtcbiAgICAgICAgY29uc3Qgb2JqID0ge307XG4gICAgICAgIG1lc3NhZ2UudHlwZVVybCAhPT0gdW5kZWZpbmVkICYmIChvYmoudHlwZVVybCA9IG1lc3NhZ2UudHlwZVVybCk7XG4gICAgICAgIG1lc3NhZ2UudmFsdWUgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgKG9iai52YWx1ZSA9IGJhc2U2NEZyb21CeXRlcyhtZXNzYWdlLnZhbHVlICE9PSB1bmRlZmluZWQgPyBtZXNzYWdlLnZhbHVlIDogbmV3IFVpbnQ4QXJyYXkoKSkpO1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH0sXG4gICAgZnJvbVBhcnRpYWwob2JqZWN0KSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlQW55KCk7XG4gICAgICAgIG1lc3NhZ2UudHlwZVVybCA9IG9iamVjdC50eXBlVXJsID8/IFwiXCI7XG4gICAgICAgIG1lc3NhZ2UudmFsdWUgPSBvYmplY3QudmFsdWUgPz8gbmV3IFVpbnQ4QXJyYXkoKTtcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfSxcbn07XG52YXIgZ2xvYmFsVGhpcyA9ICgoKSA9PiB7XG4gICAgaWYgKHR5cGVvZiBnbG9iYWxUaGlzICE9PSBcInVuZGVmaW5lZFwiKVxuICAgICAgICByZXR1cm4gZ2xvYmFsVGhpcztcbiAgICBpZiAodHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIpXG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiKVxuICAgICAgICByZXR1cm4gd2luZG93O1xuICAgIGlmICh0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiKVxuICAgICAgICByZXR1cm4gZ2xvYmFsO1xuICAgIHRocm93IFwiVW5hYmxlIHRvIGxvY2F0ZSBnbG9iYWwgb2JqZWN0XCI7XG59KSgpO1xuY29uc3QgYXRvYiA9IGdsb2JhbFRoaXMuYXRvYiB8fFxuICAgICgoYjY0KSA9PiBnbG9iYWxUaGlzLkJ1ZmZlci5mcm9tKGI2NCwgXCJiYXNlNjRcIikudG9TdHJpbmcoXCJiaW5hcnlcIikpO1xuZnVuY3Rpb24gYnl0ZXNGcm9tQmFzZTY0KGI2NCkge1xuICAgIGNvbnN0IGJpbiA9IGF0b2IoYjY0KTtcbiAgICBjb25zdCBhcnIgPSBuZXcgVWludDhBcnJheShiaW4ubGVuZ3RoKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJpbi5sZW5ndGg7ICsraSkge1xuICAgICAgICBhcnJbaV0gPSBiaW4uY2hhckNvZGVBdChpKTtcbiAgICB9XG4gICAgcmV0dXJuIGFycjtcbn1cbmNvbnN0IGJ0b2EgPSBnbG9iYWxUaGlzLmJ0b2EgfHxcbiAgICAoKGJpbikgPT4gZ2xvYmFsVGhpcy5CdWZmZXIuZnJvbShiaW4sIFwiYmluYXJ5XCIpLnRvU3RyaW5nKFwiYmFzZTY0XCIpKTtcbmZ1bmN0aW9uIGJhc2U2NEZyb21CeXRlcyhhcnIpIHtcbiAgICBjb25zdCBiaW4gPSBbXTtcbiAgICBhcnIuZm9yRWFjaCgoYnl0ZSkgPT4ge1xuICAgICAgICBiaW4ucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKGJ5dGUpKTtcbiAgICB9KTtcbiAgICByZXR1cm4gYnRvYShiaW4uam9pbihcIlwiKSk7XG59XG5mdW5jdGlvbiBpc1NldCh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gdW5kZWZpbmVkO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YW55LmpzLm1hcCIsIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgTG9uZyBmcm9tIFwibG9uZ1wiO1xuaW1wb3J0ICogYXMgX20wIGZyb20gXCJwcm90b2J1ZmpzL21pbmltYWxcIjtcbmV4cG9ydCBjb25zdCBwcm90b2J1ZlBhY2thZ2UgPSBcImdvb2dsZS5wcm90b2J1ZlwiO1xuZnVuY3Rpb24gY3JlYXRlQmFzZVRpbWVzdGFtcCgpIHtcbiAgICByZXR1cm4geyBzZWNvbmRzOiBcIjBcIiwgbmFub3M6IDAgfTtcbn1cbmV4cG9ydCBjb25zdCBUaW1lc3RhbXAgPSB7XG4gICAgZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2Uuc2Vjb25kcyAhPT0gXCIwXCIpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoOCkuaW50NjQobWVzc2FnZS5zZWNvbmRzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5uYW5vcyAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxNikuaW50MzIobWVzc2FnZS5uYW5vcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9LFxuICAgIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VUaW1lc3RhbXAoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnNlY29uZHMgPSBsb25nVG9TdHJpbmcocmVhZGVyLmludDY0KCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubmFub3MgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9LFxuICAgIGZyb21KU09OKG9iamVjdCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc2Vjb25kczogaXNTZXQob2JqZWN0LnNlY29uZHMpID8gU3RyaW5nKG9iamVjdC5zZWNvbmRzKSA6IFwiMFwiLFxuICAgICAgICAgICAgbmFub3M6IGlzU2V0KG9iamVjdC5uYW5vcykgPyBOdW1iZXIob2JqZWN0Lm5hbm9zKSA6IDAsXG4gICAgICAgIH07XG4gICAgfSxcbiAgICB0b0pTT04obWVzc2FnZSkge1xuICAgICAgICBjb25zdCBvYmogPSB7fTtcbiAgICAgICAgbWVzc2FnZS5zZWNvbmRzICE9PSB1bmRlZmluZWQgJiYgKG9iai5zZWNvbmRzID0gbWVzc2FnZS5zZWNvbmRzKTtcbiAgICAgICAgbWVzc2FnZS5uYW5vcyAhPT0gdW5kZWZpbmVkICYmIChvYmoubmFub3MgPSBNYXRoLnJvdW5kKG1lc3NhZ2UubmFub3MpKTtcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9LFxuICAgIGZyb21QYXJ0aWFsKG9iamVjdCkge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVRpbWVzdGFtcCgpO1xuICAgICAgICBtZXNzYWdlLnNlY29uZHMgPSBvYmplY3Quc2Vjb25kcyA/PyBcIjBcIjtcbiAgICAgICAgbWVzc2FnZS5uYW5vcyA9IG9iamVjdC5uYW5vcyA/PyAwO1xuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9LFxufTtcbmZ1bmN0aW9uIGxvbmdUb1N0cmluZyhsb25nKSB7XG4gICAgcmV0dXJuIGxvbmcudG9TdHJpbmcoKTtcbn1cbmlmIChfbTAudXRpbC5Mb25nICE9PSBMb25nKSB7XG4gICAgX20wLnV0aWwuTG9uZyA9IExvbmc7XG4gICAgX20wLmNvbmZpZ3VyZSgpO1xufVxuZnVuY3Rpb24gaXNTZXQodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09IHVuZGVmaW5lZDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRpbWVzdGFtcC5qcy5tYXAiLCIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuaW1wb3J0IExvbmcgZnJvbSBcImxvbmdcIjtcbmltcG9ydCAqIGFzIF9tMCBmcm9tIFwicHJvdG9idWZqcy9taW5pbWFsXCI7XG5leHBvcnQgY29uc3QgcHJvdG9idWZQYWNrYWdlID0gXCJ0ZW5kZXJtaW50LmNyeXB0b1wiO1xuZnVuY3Rpb24gY3JlYXRlQmFzZVByb29mKCkge1xuICAgIHJldHVybiB7IHRvdGFsOiBcIjBcIiwgaW5kZXg6IFwiMFwiLCBsZWFmSGFzaDogbmV3IFVpbnQ4QXJyYXkoKSwgYXVudHM6IFtdIH07XG59XG5leHBvcnQgY29uc3QgUHJvb2YgPSB7XG4gICAgZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UudG90YWwgIT09IFwiMFwiKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDgpLmludDY0KG1lc3NhZ2UudG90YWwpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmluZGV4ICE9PSBcIjBcIikge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxNikuaW50NjQobWVzc2FnZS5pbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UubGVhZkhhc2gubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDI2KS5ieXRlcyhtZXNzYWdlLmxlYWZIYXNoKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IHYgb2YgbWVzc2FnZS5hdW50cykge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigzNCkuYnl0ZXModik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9LFxuICAgIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQcm9vZigpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudG90YWwgPSBsb25nVG9TdHJpbmcocmVhZGVyLmludDY0KCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuaW5kZXggPSBsb25nVG9TdHJpbmcocmVhZGVyLmludDY0KCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubGVhZkhhc2ggPSByZWFkZXIuYnl0ZXMoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmF1bnRzLnB1c2gocmVhZGVyLmJ5dGVzKCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG4gICAgZnJvbUpTT04ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0b3RhbDogaXNTZXQob2JqZWN0LnRvdGFsKSA/IFN0cmluZyhvYmplY3QudG90YWwpIDogXCIwXCIsXG4gICAgICAgICAgICBpbmRleDogaXNTZXQob2JqZWN0LmluZGV4KSA/IFN0cmluZyhvYmplY3QuaW5kZXgpIDogXCIwXCIsXG4gICAgICAgICAgICBsZWFmSGFzaDogaXNTZXQob2JqZWN0LmxlYWZIYXNoKVxuICAgICAgICAgICAgICAgID8gYnl0ZXNGcm9tQmFzZTY0KG9iamVjdC5sZWFmSGFzaClcbiAgICAgICAgICAgICAgICA6IG5ldyBVaW50OEFycmF5KCksXG4gICAgICAgICAgICBhdW50czogQXJyYXkuaXNBcnJheShvYmplY3Q/LmF1bnRzKVxuICAgICAgICAgICAgICAgID8gb2JqZWN0LmF1bnRzLm1hcCgoZSkgPT4gYnl0ZXNGcm9tQmFzZTY0KGUpKVxuICAgICAgICAgICAgICAgIDogW10sXG4gICAgICAgIH07XG4gICAgfSxcbiAgICB0b0pTT04obWVzc2FnZSkge1xuICAgICAgICBjb25zdCBvYmogPSB7fTtcbiAgICAgICAgbWVzc2FnZS50b3RhbCAhPT0gdW5kZWZpbmVkICYmIChvYmoudG90YWwgPSBtZXNzYWdlLnRvdGFsKTtcbiAgICAgICAgbWVzc2FnZS5pbmRleCAhPT0gdW5kZWZpbmVkICYmIChvYmouaW5kZXggPSBtZXNzYWdlLmluZGV4KTtcbiAgICAgICAgbWVzc2FnZS5sZWFmSGFzaCAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAob2JqLmxlYWZIYXNoID0gYmFzZTY0RnJvbUJ5dGVzKG1lc3NhZ2UubGVhZkhhc2ggIT09IHVuZGVmaW5lZCA/IG1lc3NhZ2UubGVhZkhhc2ggOiBuZXcgVWludDhBcnJheSgpKSk7XG4gICAgICAgIGlmIChtZXNzYWdlLmF1bnRzKSB7XG4gICAgICAgICAgICBvYmouYXVudHMgPSBtZXNzYWdlLmF1bnRzLm1hcCgoZSkgPT4gYmFzZTY0RnJvbUJ5dGVzKGUgIT09IHVuZGVmaW5lZCA/IGUgOiBuZXcgVWludDhBcnJheSgpKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBvYmouYXVudHMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH0sXG4gICAgZnJvbVBhcnRpYWwob2JqZWN0KSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUHJvb2YoKTtcbiAgICAgICAgbWVzc2FnZS50b3RhbCA9IG9iamVjdC50b3RhbCA/PyBcIjBcIjtcbiAgICAgICAgbWVzc2FnZS5pbmRleCA9IG9iamVjdC5pbmRleCA/PyBcIjBcIjtcbiAgICAgICAgbWVzc2FnZS5sZWFmSGFzaCA9IG9iamVjdC5sZWFmSGFzaCA/PyBuZXcgVWludDhBcnJheSgpO1xuICAgICAgICBtZXNzYWdlLmF1bnRzID0gb2JqZWN0LmF1bnRzPy5tYXAoKGUpID0+IGUpIHx8IFtdO1xuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9LFxufTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VWYWx1ZU9wKCkge1xuICAgIHJldHVybiB7IGtleTogbmV3IFVpbnQ4QXJyYXkoKSwgcHJvb2Y6IHVuZGVmaW5lZCB9O1xufVxuZXhwb3J0IGNvbnN0IFZhbHVlT3AgPSB7XG4gICAgZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2Uua2V5Lmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxMCkuYnl0ZXMobWVzc2FnZS5rZXkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnByb29mICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIFByb29mLmVuY29kZShtZXNzYWdlLnByb29mLCB3cml0ZXIudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfSxcbiAgICBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlVmFsdWVPcCgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uua2V5ID0gcmVhZGVyLmJ5dGVzKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5wcm9vZiA9IFByb29mLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfSxcbiAgICBmcm9tSlNPTihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGtleTogaXNTZXQob2JqZWN0LmtleSkgPyBieXRlc0Zyb21CYXNlNjQob2JqZWN0LmtleSkgOiBuZXcgVWludDhBcnJheSgpLFxuICAgICAgICAgICAgcHJvb2Y6IGlzU2V0KG9iamVjdC5wcm9vZikgPyBQcm9vZi5mcm9tSlNPTihvYmplY3QucHJvb2YpIDogdW5kZWZpbmVkLFxuICAgICAgICB9O1xuICAgIH0sXG4gICAgdG9KU09OKG1lc3NhZ2UpIHtcbiAgICAgICAgY29uc3Qgb2JqID0ge307XG4gICAgICAgIG1lc3NhZ2Uua2V5ICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIChvYmoua2V5ID0gYmFzZTY0RnJvbUJ5dGVzKG1lc3NhZ2Uua2V5ICE9PSB1bmRlZmluZWQgPyBtZXNzYWdlLmtleSA6IG5ldyBVaW50OEFycmF5KCkpKTtcbiAgICAgICAgbWVzc2FnZS5wcm9vZiAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAob2JqLnByb29mID0gbWVzc2FnZS5wcm9vZiA/IFByb29mLnRvSlNPTihtZXNzYWdlLnByb29mKSA6IHVuZGVmaW5lZCk7XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfSxcbiAgICBmcm9tUGFydGlhbChvYmplY3QpIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VWYWx1ZU9wKCk7XG4gICAgICAgIG1lc3NhZ2Uua2V5ID0gb2JqZWN0LmtleSA/PyBuZXcgVWludDhBcnJheSgpO1xuICAgICAgICBtZXNzYWdlLnByb29mID1cbiAgICAgICAgICAgIG9iamVjdC5wcm9vZiAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5wcm9vZiAhPT0gbnVsbFxuICAgICAgICAgICAgICAgID8gUHJvb2YuZnJvbVBhcnRpYWwob2JqZWN0LnByb29mKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9LFxufTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VEb21pbm9PcCgpIHtcbiAgICByZXR1cm4geyBrZXk6IFwiXCIsIGlucHV0OiBcIlwiLCBvdXRwdXQ6IFwiXCIgfTtcbn1cbmV4cG9ydCBjb25zdCBEb21pbm9PcCA9IHtcbiAgICBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS5rZXkgIT09IFwiXCIpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTApLnN0cmluZyhtZXNzYWdlLmtleSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuaW5wdXQgIT09IFwiXCIpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTgpLnN0cmluZyhtZXNzYWdlLmlucHV0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5vdXRwdXQgIT09IFwiXCIpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjYpLnN0cmluZyhtZXNzYWdlLm91dHB1dCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9LFxuICAgIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VEb21pbm9PcCgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uua2V5ID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuaW5wdXQgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5vdXRwdXQgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfSxcbiAgICBmcm9tSlNPTihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGtleTogaXNTZXQob2JqZWN0LmtleSkgPyBTdHJpbmcob2JqZWN0LmtleSkgOiBcIlwiLFxuICAgICAgICAgICAgaW5wdXQ6IGlzU2V0KG9iamVjdC5pbnB1dCkgPyBTdHJpbmcob2JqZWN0LmlucHV0KSA6IFwiXCIsXG4gICAgICAgICAgICBvdXRwdXQ6IGlzU2V0KG9iamVjdC5vdXRwdXQpID8gU3RyaW5nKG9iamVjdC5vdXRwdXQpIDogXCJcIixcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIHRvSlNPTihtZXNzYWdlKSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgICAgICBtZXNzYWdlLmtleSAhPT0gdW5kZWZpbmVkICYmIChvYmoua2V5ID0gbWVzc2FnZS5rZXkpO1xuICAgICAgICBtZXNzYWdlLmlucHV0ICE9PSB1bmRlZmluZWQgJiYgKG9iai5pbnB1dCA9IG1lc3NhZ2UuaW5wdXQpO1xuICAgICAgICBtZXNzYWdlLm91dHB1dCAhPT0gdW5kZWZpbmVkICYmIChvYmoub3V0cHV0ID0gbWVzc2FnZS5vdXRwdXQpO1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH0sXG4gICAgZnJvbVBhcnRpYWwob2JqZWN0KSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlRG9taW5vT3AoKTtcbiAgICAgICAgbWVzc2FnZS5rZXkgPSBvYmplY3Qua2V5ID8/IFwiXCI7XG4gICAgICAgIG1lc3NhZ2UuaW5wdXQgPSBvYmplY3QuaW5wdXQgPz8gXCJcIjtcbiAgICAgICAgbWVzc2FnZS5vdXRwdXQgPSBvYmplY3Qub3V0cHV0ID8/IFwiXCI7XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG59O1xuZnVuY3Rpb24gY3JlYXRlQmFzZVByb29mT3AoKSB7XG4gICAgcmV0dXJuIHsgdHlwZTogXCJcIiwga2V5OiBuZXcgVWludDhBcnJheSgpLCBkYXRhOiBuZXcgVWludDhBcnJheSgpIH07XG59XG5leHBvcnQgY29uc3QgUHJvb2ZPcCA9IHtcbiAgICBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS50eXBlICE9PSBcIlwiKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDEwKS5zdHJpbmcobWVzc2FnZS50eXBlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5rZXkubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDE4KS5ieXRlcyhtZXNzYWdlLmtleSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuZGF0YS5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjYpLmJ5dGVzKG1lc3NhZ2UuZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9LFxuICAgIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQcm9vZk9wKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50eXBlID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uua2V5ID0gcmVhZGVyLmJ5dGVzKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5kYXRhID0gcmVhZGVyLmJ5dGVzKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfSxcbiAgICBmcm9tSlNPTihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6IGlzU2V0KG9iamVjdC50eXBlKSA/IFN0cmluZyhvYmplY3QudHlwZSkgOiBcIlwiLFxuICAgICAgICAgICAga2V5OiBpc1NldChvYmplY3Qua2V5KSA/IGJ5dGVzRnJvbUJhc2U2NChvYmplY3Qua2V5KSA6IG5ldyBVaW50OEFycmF5KCksXG4gICAgICAgICAgICBkYXRhOiBpc1NldChvYmplY3QuZGF0YSlcbiAgICAgICAgICAgICAgICA/IGJ5dGVzRnJvbUJhc2U2NChvYmplY3QuZGF0YSlcbiAgICAgICAgICAgICAgICA6IG5ldyBVaW50OEFycmF5KCksXG4gICAgICAgIH07XG4gICAgfSxcbiAgICB0b0pTT04obWVzc2FnZSkge1xuICAgICAgICBjb25zdCBvYmogPSB7fTtcbiAgICAgICAgbWVzc2FnZS50eXBlICE9PSB1bmRlZmluZWQgJiYgKG9iai50eXBlID0gbWVzc2FnZS50eXBlKTtcbiAgICAgICAgbWVzc2FnZS5rZXkgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgKG9iai5rZXkgPSBiYXNlNjRGcm9tQnl0ZXMobWVzc2FnZS5rZXkgIT09IHVuZGVmaW5lZCA/IG1lc3NhZ2Uua2V5IDogbmV3IFVpbnQ4QXJyYXkoKSkpO1xuICAgICAgICBtZXNzYWdlLmRhdGEgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgKG9iai5kYXRhID0gYmFzZTY0RnJvbUJ5dGVzKG1lc3NhZ2UuZGF0YSAhPT0gdW5kZWZpbmVkID8gbWVzc2FnZS5kYXRhIDogbmV3IFVpbnQ4QXJyYXkoKSkpO1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH0sXG4gICAgZnJvbVBhcnRpYWwob2JqZWN0KSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUHJvb2ZPcCgpO1xuICAgICAgICBtZXNzYWdlLnR5cGUgPSBvYmplY3QudHlwZSA/PyBcIlwiO1xuICAgICAgICBtZXNzYWdlLmtleSA9IG9iamVjdC5rZXkgPz8gbmV3IFVpbnQ4QXJyYXkoKTtcbiAgICAgICAgbWVzc2FnZS5kYXRhID0gb2JqZWN0LmRhdGEgPz8gbmV3IFVpbnQ4QXJyYXkoKTtcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfSxcbn07XG5mdW5jdGlvbiBjcmVhdGVCYXNlUHJvb2ZPcHMoKSB7XG4gICAgcmV0dXJuIHsgb3BzOiBbXSB9O1xufVxuZXhwb3J0IGNvbnN0IFByb29mT3BzID0ge1xuICAgIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGZvciAoY29uc3QgdiBvZiBtZXNzYWdlLm9wcykge1xuICAgICAgICAgICAgUHJvb2ZPcC5lbmNvZGUodiwgd3JpdGVyLnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH0sXG4gICAgZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVByb29mT3BzKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5vcHMucHVzaChQcm9vZk9wLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG4gICAgZnJvbUpTT04ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBvcHM6IEFycmF5LmlzQXJyYXkob2JqZWN0Py5vcHMpXG4gICAgICAgICAgICAgICAgPyBvYmplY3Qub3BzLm1hcCgoZSkgPT4gUHJvb2ZPcC5mcm9tSlNPTihlKSlcbiAgICAgICAgICAgICAgICA6IFtdLFxuICAgICAgICB9O1xuICAgIH0sXG4gICAgdG9KU09OKG1lc3NhZ2UpIHtcbiAgICAgICAgY29uc3Qgb2JqID0ge307XG4gICAgICAgIGlmIChtZXNzYWdlLm9wcykge1xuICAgICAgICAgICAgb2JqLm9wcyA9IG1lc3NhZ2Uub3BzLm1hcCgoZSkgPT4gKGUgPyBQcm9vZk9wLnRvSlNPTihlKSA6IHVuZGVmaW5lZCkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgb2JqLm9wcyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfSxcbiAgICBmcm9tUGFydGlhbChvYmplY3QpIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQcm9vZk9wcygpO1xuICAgICAgICBtZXNzYWdlLm9wcyA9IG9iamVjdC5vcHM/Lm1hcCgoZSkgPT4gUHJvb2ZPcC5mcm9tUGFydGlhbChlKSkgfHwgW107XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG59O1xudmFyIGdsb2JhbFRoaXMgPSAoKCkgPT4ge1xuICAgIGlmICh0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gXCJ1bmRlZmluZWRcIilcbiAgICAgICAgcmV0dXJuIGdsb2JhbFRoaXM7XG4gICAgaWYgKHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiKVxuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIilcbiAgICAgICAgcmV0dXJuIHdpbmRvdztcbiAgICBpZiAodHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIilcbiAgICAgICAgcmV0dXJuIGdsb2JhbDtcbiAgICB0aHJvdyBcIlVuYWJsZSB0byBsb2NhdGUgZ2xvYmFsIG9iamVjdFwiO1xufSkoKTtcbmNvbnN0IGF0b2IgPSBnbG9iYWxUaGlzLmF0b2IgfHxcbiAgICAoKGI2NCkgPT4gZ2xvYmFsVGhpcy5CdWZmZXIuZnJvbShiNjQsIFwiYmFzZTY0XCIpLnRvU3RyaW5nKFwiYmluYXJ5XCIpKTtcbmZ1bmN0aW9uIGJ5dGVzRnJvbUJhc2U2NChiNjQpIHtcbiAgICBjb25zdCBiaW4gPSBhdG9iKGI2NCk7XG4gICAgY29uc3QgYXJyID0gbmV3IFVpbnQ4QXJyYXkoYmluLmxlbmd0aCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBiaW4ubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgYXJyW2ldID0gYmluLmNoYXJDb2RlQXQoaSk7XG4gICAgfVxuICAgIHJldHVybiBhcnI7XG59XG5jb25zdCBidG9hID0gZ2xvYmFsVGhpcy5idG9hIHx8XG4gICAgKChiaW4pID0+IGdsb2JhbFRoaXMuQnVmZmVyLmZyb20oYmluLCBcImJpbmFyeVwiKS50b1N0cmluZyhcImJhc2U2NFwiKSk7XG5mdW5jdGlvbiBiYXNlNjRGcm9tQnl0ZXMoYXJyKSB7XG4gICAgY29uc3QgYmluID0gW107XG4gICAgYXJyLmZvckVhY2goKGJ5dGUpID0+IHtcbiAgICAgICAgYmluLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZShieXRlKSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGJ0b2EoYmluLmpvaW4oXCJcIikpO1xufVxuZnVuY3Rpb24gbG9uZ1RvU3RyaW5nKGxvbmcpIHtcbiAgICByZXR1cm4gbG9uZy50b1N0cmluZygpO1xufVxuaWYgKF9tMC51dGlsLkxvbmcgIT09IExvbmcpIHtcbiAgICBfbTAudXRpbC5Mb25nID0gTG9uZztcbiAgICBfbTAuY29uZmlndXJlKCk7XG59XG5mdW5jdGlvbiBpc1NldCh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gdW5kZWZpbmVkO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cHJvb2YuanMubWFwIiwiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCBMb25nIGZyb20gXCJsb25nXCI7XG5pbXBvcnQgKiBhcyBfbTAgZnJvbSBcInByb3RvYnVmanMvbWluaW1hbFwiO1xuZXhwb3J0IGNvbnN0IHByb3RvYnVmUGFja2FnZSA9IFwidGVuZGVybWludC52ZXJzaW9uXCI7XG5mdW5jdGlvbiBjcmVhdGVCYXNlQXBwKCkge1xuICAgIHJldHVybiB7IHByb3RvY29sOiBcIjBcIiwgc29mdHdhcmU6IFwiXCIgfTtcbn1cbmV4cG9ydCBjb25zdCBBcHAgPSB7XG4gICAgZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UucHJvdG9jb2wgIT09IFwiMFwiKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDgpLnVpbnQ2NChtZXNzYWdlLnByb3RvY29sKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5zb2Z0d2FyZSAhPT0gXCJcIikge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxOCkuc3RyaW5nKG1lc3NhZ2Uuc29mdHdhcmUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfSxcbiAgICBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlQXBwKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5wcm90b2NvbCA9IGxvbmdUb1N0cmluZyhyZWFkZXIudWludDY0KCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc29mdHdhcmUgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfSxcbiAgICBmcm9tSlNPTihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHByb3RvY29sOiBpc1NldChvYmplY3QucHJvdG9jb2wpID8gU3RyaW5nKG9iamVjdC5wcm90b2NvbCkgOiBcIjBcIixcbiAgICAgICAgICAgIHNvZnR3YXJlOiBpc1NldChvYmplY3Quc29mdHdhcmUpID8gU3RyaW5nKG9iamVjdC5zb2Z0d2FyZSkgOiBcIlwiLFxuICAgICAgICB9O1xuICAgIH0sXG4gICAgdG9KU09OKG1lc3NhZ2UpIHtcbiAgICAgICAgY29uc3Qgb2JqID0ge307XG4gICAgICAgIG1lc3NhZ2UucHJvdG9jb2wgIT09IHVuZGVmaW5lZCAmJiAob2JqLnByb3RvY29sID0gbWVzc2FnZS5wcm90b2NvbCk7XG4gICAgICAgIG1lc3NhZ2Uuc29mdHdhcmUgIT09IHVuZGVmaW5lZCAmJiAob2JqLnNvZnR3YXJlID0gbWVzc2FnZS5zb2Z0d2FyZSk7XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfSxcbiAgICBmcm9tUGFydGlhbChvYmplY3QpIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VBcHAoKTtcbiAgICAgICAgbWVzc2FnZS5wcm90b2NvbCA9IG9iamVjdC5wcm90b2NvbCA/PyBcIjBcIjtcbiAgICAgICAgbWVzc2FnZS5zb2Z0d2FyZSA9IG9iamVjdC5zb2Z0d2FyZSA/PyBcIlwiO1xuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9LFxufTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VDb25zZW5zdXMoKSB7XG4gICAgcmV0dXJuIHsgYmxvY2s6IFwiMFwiLCBhcHA6IFwiMFwiIH07XG59XG5leHBvcnQgY29uc3QgQ29uc2Vuc3VzID0ge1xuICAgIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLmJsb2NrICE9PSBcIjBcIikge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig4KS51aW50NjQobWVzc2FnZS5ibG9jayk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuYXBwICE9PSBcIjBcIikge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxNikudWludDY0KG1lc3NhZ2UuYXBwKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH0sXG4gICAgZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUNvbnNlbnN1cygpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYmxvY2sgPSBsb25nVG9TdHJpbmcocmVhZGVyLnVpbnQ2NCgpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmFwcCA9IGxvbmdUb1N0cmluZyhyZWFkZXIudWludDY0KCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG4gICAgZnJvbUpTT04ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBibG9jazogaXNTZXQob2JqZWN0LmJsb2NrKSA/IFN0cmluZyhvYmplY3QuYmxvY2spIDogXCIwXCIsXG4gICAgICAgICAgICBhcHA6IGlzU2V0KG9iamVjdC5hcHApID8gU3RyaW5nKG9iamVjdC5hcHApIDogXCIwXCIsXG4gICAgICAgIH07XG4gICAgfSxcbiAgICB0b0pTT04obWVzc2FnZSkge1xuICAgICAgICBjb25zdCBvYmogPSB7fTtcbiAgICAgICAgbWVzc2FnZS5ibG9jayAhPT0gdW5kZWZpbmVkICYmIChvYmouYmxvY2sgPSBtZXNzYWdlLmJsb2NrKTtcbiAgICAgICAgbWVzc2FnZS5hcHAgIT09IHVuZGVmaW5lZCAmJiAob2JqLmFwcCA9IG1lc3NhZ2UuYXBwKTtcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9LFxuICAgIGZyb21QYXJ0aWFsKG9iamVjdCkge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUNvbnNlbnN1cygpO1xuICAgICAgICBtZXNzYWdlLmJsb2NrID0gb2JqZWN0LmJsb2NrID8/IFwiMFwiO1xuICAgICAgICBtZXNzYWdlLmFwcCA9IG9iamVjdC5hcHAgPz8gXCIwXCI7XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG59O1xuZnVuY3Rpb24gbG9uZ1RvU3RyaW5nKGxvbmcpIHtcbiAgICByZXR1cm4gbG9uZy50b1N0cmluZygpO1xufVxuaWYgKF9tMC51dGlsLkxvbmcgIT09IExvbmcpIHtcbiAgICBfbTAudXRpbC5Mb25nID0gTG9uZztcbiAgICBfbTAuY29uZmlndXJlKCk7XG59XG5mdW5jdGlvbiBpc1NldCh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gdW5kZWZpbmVkO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dHlwZXMuanMubWFwIiwiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCAqIGFzIF9tMCBmcm9tIFwicHJvdG9idWZqcy9taW5pbWFsXCI7XG5leHBvcnQgY29uc3QgcHJvdG9idWZQYWNrYWdlID0gXCJ0ZW5kZXJtaW50LmNyeXB0b1wiO1xuZnVuY3Rpb24gY3JlYXRlQmFzZVB1YmxpY0tleSgpIHtcbiAgICByZXR1cm4geyBlZDI1NTE5OiB1bmRlZmluZWQsIHNlY3AyNTZrMTogdW5kZWZpbmVkIH07XG59XG5leHBvcnQgY29uc3QgUHVibGljS2V5ID0ge1xuICAgIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLmVkMjU1MTkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxMCkuYnl0ZXMobWVzc2FnZS5lZDI1NTE5KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5zZWNwMjU2azEgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxOCkuYnl0ZXMobWVzc2FnZS5zZWNwMjU2azEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfSxcbiAgICBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUHVibGljS2V5KCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5lZDI1NTE5ID0gcmVhZGVyLmJ5dGVzKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zZWNwMjU2azEgPSByZWFkZXIuYnl0ZXMoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9LFxuICAgIGZyb21KU09OKG9iamVjdCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZWQyNTUxOTogaXNTZXQob2JqZWN0LmVkMjU1MTkpXG4gICAgICAgICAgICAgICAgPyBieXRlc0Zyb21CYXNlNjQob2JqZWN0LmVkMjU1MTkpXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBzZWNwMjU2azE6IGlzU2V0KG9iamVjdC5zZWNwMjU2azEpXG4gICAgICAgICAgICAgICAgPyBieXRlc0Zyb21CYXNlNjQob2JqZWN0LnNlY3AyNTZrMSlcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIHRvSlNPTihtZXNzYWdlKSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgICAgICBtZXNzYWdlLmVkMjU1MTkgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgKG9iai5lZDI1NTE5ID1cbiAgICAgICAgICAgICAgICBtZXNzYWdlLmVkMjU1MTkgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICA/IGJhc2U2NEZyb21CeXRlcyhtZXNzYWdlLmVkMjU1MTkpXG4gICAgICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkKTtcbiAgICAgICAgbWVzc2FnZS5zZWNwMjU2azEgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgKG9iai5zZWNwMjU2azEgPVxuICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc2VjcDI1NmsxICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgPyBiYXNlNjRGcm9tQnl0ZXMobWVzc2FnZS5zZWNwMjU2azEpXG4gICAgICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkKTtcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9LFxuICAgIGZyb21QYXJ0aWFsKG9iamVjdCkge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVB1YmxpY0tleSgpO1xuICAgICAgICBtZXNzYWdlLmVkMjU1MTkgPSBvYmplY3QuZWQyNTUxOSA/PyB1bmRlZmluZWQ7XG4gICAgICAgIG1lc3NhZ2Uuc2VjcDI1NmsxID0gb2JqZWN0LnNlY3AyNTZrMSA/PyB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG59O1xudmFyIGdsb2JhbFRoaXMgPSAoKCkgPT4ge1xuICAgIGlmICh0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gXCJ1bmRlZmluZWRcIilcbiAgICAgICAgcmV0dXJuIGdsb2JhbFRoaXM7XG4gICAgaWYgKHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiKVxuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIilcbiAgICAgICAgcmV0dXJuIHdpbmRvdztcbiAgICBpZiAodHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIilcbiAgICAgICAgcmV0dXJuIGdsb2JhbDtcbiAgICB0aHJvdyBcIlVuYWJsZSB0byBsb2NhdGUgZ2xvYmFsIG9iamVjdFwiO1xufSkoKTtcbmNvbnN0IGF0b2IgPSBnbG9iYWxUaGlzLmF0b2IgfHxcbiAgICAoKGI2NCkgPT4gZ2xvYmFsVGhpcy5CdWZmZXIuZnJvbShiNjQsIFwiYmFzZTY0XCIpLnRvU3RyaW5nKFwiYmluYXJ5XCIpKTtcbmZ1bmN0aW9uIGJ5dGVzRnJvbUJhc2U2NChiNjQpIHtcbiAgICBjb25zdCBiaW4gPSBhdG9iKGI2NCk7XG4gICAgY29uc3QgYXJyID0gbmV3IFVpbnQ4QXJyYXkoYmluLmxlbmd0aCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBiaW4ubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgYXJyW2ldID0gYmluLmNoYXJDb2RlQXQoaSk7XG4gICAgfVxuICAgIHJldHVybiBhcnI7XG59XG5jb25zdCBidG9hID0gZ2xvYmFsVGhpcy5idG9hIHx8XG4gICAgKChiaW4pID0+IGdsb2JhbFRoaXMuQnVmZmVyLmZyb20oYmluLCBcImJpbmFyeVwiKS50b1N0cmluZyhcImJhc2U2NFwiKSk7XG5mdW5jdGlvbiBiYXNlNjRGcm9tQnl0ZXMoYXJyKSB7XG4gICAgY29uc3QgYmluID0gW107XG4gICAgYXJyLmZvckVhY2goKGJ5dGUpID0+IHtcbiAgICAgICAgYmluLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZShieXRlKSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGJ0b2EoYmluLmpvaW4oXCJcIikpO1xufVxuZnVuY3Rpb24gaXNTZXQodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09IHVuZGVmaW5lZDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWtleXMuanMubWFwIiwiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCB7IFB1YmxpY0tleSB9IGZyb20gXCIuLi9jcnlwdG8va2V5c1wiO1xuaW1wb3J0IExvbmcgZnJvbSBcImxvbmdcIjtcbmltcG9ydCAqIGFzIF9tMCBmcm9tIFwicHJvdG9idWZqcy9taW5pbWFsXCI7XG5leHBvcnQgY29uc3QgcHJvdG9idWZQYWNrYWdlID0gXCJ0ZW5kZXJtaW50LnR5cGVzXCI7XG5mdW5jdGlvbiBjcmVhdGVCYXNlVmFsaWRhdG9yU2V0KCkge1xuICAgIHJldHVybiB7IHZhbGlkYXRvcnM6IFtdLCBwcm9wb3NlcjogdW5kZWZpbmVkLCB0b3RhbFZvdGluZ1Bvd2VyOiBcIjBcIiB9O1xufVxuZXhwb3J0IGNvbnN0IFZhbGlkYXRvclNldCA9IHtcbiAgICBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBmb3IgKGNvbnN0IHYgb2YgbWVzc2FnZS52YWxpZGF0b3JzKSB7XG4gICAgICAgICAgICBWYWxpZGF0b3IuZW5jb2RlKHYsIHdyaXRlci51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UucHJvcG9zZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgVmFsaWRhdG9yLmVuY29kZShtZXNzYWdlLnByb3Bvc2VyLCB3cml0ZXIudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnRvdGFsVm90aW5nUG93ZXIgIT09IFwiMFwiKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDI0KS5pbnQ2NChtZXNzYWdlLnRvdGFsVm90aW5nUG93ZXIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfSxcbiAgICBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlVmFsaWRhdG9yU2V0KCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS52YWxpZGF0b3JzLnB1c2goVmFsaWRhdG9yLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucHJvcG9zZXIgPSBWYWxpZGF0b3IuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRvdGFsVm90aW5nUG93ZXIgPSBsb25nVG9TdHJpbmcocmVhZGVyLmludDY0KCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG4gICAgZnJvbUpTT04ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB2YWxpZGF0b3JzOiBBcnJheS5pc0FycmF5KG9iamVjdD8udmFsaWRhdG9ycylcbiAgICAgICAgICAgICAgICA/IG9iamVjdC52YWxpZGF0b3JzLm1hcCgoZSkgPT4gVmFsaWRhdG9yLmZyb21KU09OKGUpKVxuICAgICAgICAgICAgICAgIDogW10sXG4gICAgICAgICAgICBwcm9wb3NlcjogaXNTZXQob2JqZWN0LnByb3Bvc2VyKVxuICAgICAgICAgICAgICAgID8gVmFsaWRhdG9yLmZyb21KU09OKG9iamVjdC5wcm9wb3NlcilcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHRvdGFsVm90aW5nUG93ZXI6IGlzU2V0KG9iamVjdC50b3RhbFZvdGluZ1Bvd2VyKVxuICAgICAgICAgICAgICAgID8gU3RyaW5nKG9iamVjdC50b3RhbFZvdGluZ1Bvd2VyKVxuICAgICAgICAgICAgICAgIDogXCIwXCIsXG4gICAgICAgIH07XG4gICAgfSxcbiAgICB0b0pTT04obWVzc2FnZSkge1xuICAgICAgICBjb25zdCBvYmogPSB7fTtcbiAgICAgICAgaWYgKG1lc3NhZ2UudmFsaWRhdG9ycykge1xuICAgICAgICAgICAgb2JqLnZhbGlkYXRvcnMgPSBtZXNzYWdlLnZhbGlkYXRvcnMubWFwKChlKSA9PiBlID8gVmFsaWRhdG9yLnRvSlNPTihlKSA6IHVuZGVmaW5lZCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBvYmoudmFsaWRhdG9ycyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIG1lc3NhZ2UucHJvcG9zZXIgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgKG9iai5wcm9wb3NlciA9IG1lc3NhZ2UucHJvcG9zZXJcbiAgICAgICAgICAgICAgICA/IFZhbGlkYXRvci50b0pTT04obWVzc2FnZS5wcm9wb3NlcilcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCk7XG4gICAgICAgIG1lc3NhZ2UudG90YWxWb3RpbmdQb3dlciAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAob2JqLnRvdGFsVm90aW5nUG93ZXIgPSBtZXNzYWdlLnRvdGFsVm90aW5nUG93ZXIpO1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH0sXG4gICAgZnJvbVBhcnRpYWwob2JqZWN0KSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlVmFsaWRhdG9yU2V0KCk7XG4gICAgICAgIG1lc3NhZ2UudmFsaWRhdG9ycyA9XG4gICAgICAgICAgICBvYmplY3QudmFsaWRhdG9ycz8ubWFwKChlKSA9PiBWYWxpZGF0b3IuZnJvbVBhcnRpYWwoZSkpIHx8IFtdO1xuICAgICAgICBtZXNzYWdlLnByb3Bvc2VyID1cbiAgICAgICAgICAgIG9iamVjdC5wcm9wb3NlciAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5wcm9wb3NlciAhPT0gbnVsbFxuICAgICAgICAgICAgICAgID8gVmFsaWRhdG9yLmZyb21QYXJ0aWFsKG9iamVjdC5wcm9wb3NlcilcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgbWVzc2FnZS50b3RhbFZvdGluZ1Bvd2VyID0gb2JqZWN0LnRvdGFsVm90aW5nUG93ZXIgPz8gXCIwXCI7XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG59O1xuZnVuY3Rpb24gY3JlYXRlQmFzZVZhbGlkYXRvcigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBhZGRyZXNzOiBuZXcgVWludDhBcnJheSgpLFxuICAgICAgICBwdWJLZXk6IHVuZGVmaW5lZCxcbiAgICAgICAgdm90aW5nUG93ZXI6IFwiMFwiLFxuICAgICAgICBwcm9wb3NlclByaW9yaXR5OiBcIjBcIixcbiAgICB9O1xufVxuZXhwb3J0IGNvbnN0IFZhbGlkYXRvciA9IHtcbiAgICBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS5hZGRyZXNzLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxMCkuYnl0ZXMobWVzc2FnZS5hZGRyZXNzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5wdWJLZXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgUHVibGljS2V5LmVuY29kZShtZXNzYWdlLnB1YktleSwgd3JpdGVyLnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS52b3RpbmdQb3dlciAhPT0gXCIwXCIpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjQpLmludDY0KG1lc3NhZ2Uudm90aW5nUG93ZXIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnByb3Bvc2VyUHJpb3JpdHkgIT09IFwiMFwiKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDMyKS5pbnQ2NChtZXNzYWdlLnByb3Bvc2VyUHJpb3JpdHkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfSxcbiAgICBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlVmFsaWRhdG9yKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5hZGRyZXNzID0gcmVhZGVyLmJ5dGVzKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5wdWJLZXkgPSBQdWJsaWNLZXkuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnZvdGluZ1Bvd2VyID0gbG9uZ1RvU3RyaW5nKHJlYWRlci5pbnQ2NCgpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnByb3Bvc2VyUHJpb3JpdHkgPSBsb25nVG9TdHJpbmcocmVhZGVyLmludDY0KCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG4gICAgZnJvbUpTT04ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBhZGRyZXNzOiBpc1NldChvYmplY3QuYWRkcmVzcylcbiAgICAgICAgICAgICAgICA/IGJ5dGVzRnJvbUJhc2U2NChvYmplY3QuYWRkcmVzcylcbiAgICAgICAgICAgICAgICA6IG5ldyBVaW50OEFycmF5KCksXG4gICAgICAgICAgICBwdWJLZXk6IGlzU2V0KG9iamVjdC5wdWJLZXkpXG4gICAgICAgICAgICAgICAgPyBQdWJsaWNLZXkuZnJvbUpTT04ob2JqZWN0LnB1YktleSlcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHZvdGluZ1Bvd2VyOiBpc1NldChvYmplY3Qudm90aW5nUG93ZXIpID8gU3RyaW5nKG9iamVjdC52b3RpbmdQb3dlcikgOiBcIjBcIixcbiAgICAgICAgICAgIHByb3Bvc2VyUHJpb3JpdHk6IGlzU2V0KG9iamVjdC5wcm9wb3NlclByaW9yaXR5KVxuICAgICAgICAgICAgICAgID8gU3RyaW5nKG9iamVjdC5wcm9wb3NlclByaW9yaXR5KVxuICAgICAgICAgICAgICAgIDogXCIwXCIsXG4gICAgICAgIH07XG4gICAgfSxcbiAgICB0b0pTT04obWVzc2FnZSkge1xuICAgICAgICBjb25zdCBvYmogPSB7fTtcbiAgICAgICAgbWVzc2FnZS5hZGRyZXNzICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIChvYmouYWRkcmVzcyA9IGJhc2U2NEZyb21CeXRlcyhtZXNzYWdlLmFkZHJlc3MgIT09IHVuZGVmaW5lZCA/IG1lc3NhZ2UuYWRkcmVzcyA6IG5ldyBVaW50OEFycmF5KCkpKTtcbiAgICAgICAgbWVzc2FnZS5wdWJLZXkgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgKG9iai5wdWJLZXkgPSBtZXNzYWdlLnB1YktleVxuICAgICAgICAgICAgICAgID8gUHVibGljS2V5LnRvSlNPTihtZXNzYWdlLnB1YktleSlcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCk7XG4gICAgICAgIG1lc3NhZ2Uudm90aW5nUG93ZXIgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgKG9iai52b3RpbmdQb3dlciA9IG1lc3NhZ2Uudm90aW5nUG93ZXIpO1xuICAgICAgICBtZXNzYWdlLnByb3Bvc2VyUHJpb3JpdHkgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgKG9iai5wcm9wb3NlclByaW9yaXR5ID0gbWVzc2FnZS5wcm9wb3NlclByaW9yaXR5KTtcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9LFxuICAgIGZyb21QYXJ0aWFsKG9iamVjdCkge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVZhbGlkYXRvcigpO1xuICAgICAgICBtZXNzYWdlLmFkZHJlc3MgPSBvYmplY3QuYWRkcmVzcyA/PyBuZXcgVWludDhBcnJheSgpO1xuICAgICAgICBtZXNzYWdlLnB1YktleSA9XG4gICAgICAgICAgICBvYmplY3QucHViS2V5ICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnB1YktleSAhPT0gbnVsbFxuICAgICAgICAgICAgICAgID8gUHVibGljS2V5LmZyb21QYXJ0aWFsKG9iamVjdC5wdWJLZXkpXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgIG1lc3NhZ2Uudm90aW5nUG93ZXIgPSBvYmplY3Qudm90aW5nUG93ZXIgPz8gXCIwXCI7XG4gICAgICAgIG1lc3NhZ2UucHJvcG9zZXJQcmlvcml0eSA9IG9iamVjdC5wcm9wb3NlclByaW9yaXR5ID8/IFwiMFwiO1xuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9LFxufTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VTaW1wbGVWYWxpZGF0b3IoKSB7XG4gICAgcmV0dXJuIHsgcHViS2V5OiB1bmRlZmluZWQsIHZvdGluZ1Bvd2VyOiBcIjBcIiB9O1xufVxuZXhwb3J0IGNvbnN0IFNpbXBsZVZhbGlkYXRvciA9IHtcbiAgICBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS5wdWJLZXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgUHVibGljS2V5LmVuY29kZShtZXNzYWdlLnB1YktleSwgd3JpdGVyLnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS52b3RpbmdQb3dlciAhPT0gXCIwXCIpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTYpLmludDY0KG1lc3NhZ2Uudm90aW5nUG93ZXIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfSxcbiAgICBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlU2ltcGxlVmFsaWRhdG9yKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5wdWJLZXkgPSBQdWJsaWNLZXkuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnZvdGluZ1Bvd2VyID0gbG9uZ1RvU3RyaW5nKHJlYWRlci5pbnQ2NCgpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9LFxuICAgIGZyb21KU09OKG9iamVjdCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcHViS2V5OiBpc1NldChvYmplY3QucHViS2V5KVxuICAgICAgICAgICAgICAgID8gUHVibGljS2V5LmZyb21KU09OKG9iamVjdC5wdWJLZXkpXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICB2b3RpbmdQb3dlcjogaXNTZXQob2JqZWN0LnZvdGluZ1Bvd2VyKSA/IFN0cmluZyhvYmplY3Qudm90aW5nUG93ZXIpIDogXCIwXCIsXG4gICAgICAgIH07XG4gICAgfSxcbiAgICB0b0pTT04obWVzc2FnZSkge1xuICAgICAgICBjb25zdCBvYmogPSB7fTtcbiAgICAgICAgbWVzc2FnZS5wdWJLZXkgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgKG9iai5wdWJLZXkgPSBtZXNzYWdlLnB1YktleVxuICAgICAgICAgICAgICAgID8gUHVibGljS2V5LnRvSlNPTihtZXNzYWdlLnB1YktleSlcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCk7XG4gICAgICAgIG1lc3NhZ2Uudm90aW5nUG93ZXIgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgKG9iai52b3RpbmdQb3dlciA9IG1lc3NhZ2Uudm90aW5nUG93ZXIpO1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH0sXG4gICAgZnJvbVBhcnRpYWwob2JqZWN0KSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlU2ltcGxlVmFsaWRhdG9yKCk7XG4gICAgICAgIG1lc3NhZ2UucHViS2V5ID1cbiAgICAgICAgICAgIG9iamVjdC5wdWJLZXkgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QucHViS2V5ICE9PSBudWxsXG4gICAgICAgICAgICAgICAgPyBQdWJsaWNLZXkuZnJvbVBhcnRpYWwob2JqZWN0LnB1YktleSlcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgbWVzc2FnZS52b3RpbmdQb3dlciA9IG9iamVjdC52b3RpbmdQb3dlciA/PyBcIjBcIjtcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfSxcbn07XG52YXIgZ2xvYmFsVGhpcyA9ICgoKSA9PiB7XG4gICAgaWYgKHR5cGVvZiBnbG9iYWxUaGlzICE9PSBcInVuZGVmaW5lZFwiKVxuICAgICAgICByZXR1cm4gZ2xvYmFsVGhpcztcbiAgICBpZiAodHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIpXG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiKVxuICAgICAgICByZXR1cm4gd2luZG93O1xuICAgIGlmICh0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiKVxuICAgICAgICByZXR1cm4gZ2xvYmFsO1xuICAgIHRocm93IFwiVW5hYmxlIHRvIGxvY2F0ZSBnbG9iYWwgb2JqZWN0XCI7XG59KSgpO1xuY29uc3QgYXRvYiA9IGdsb2JhbFRoaXMuYXRvYiB8fFxuICAgICgoYjY0KSA9PiBnbG9iYWxUaGlzLkJ1ZmZlci5mcm9tKGI2NCwgXCJiYXNlNjRcIikudG9TdHJpbmcoXCJiaW5hcnlcIikpO1xuZnVuY3Rpb24gYnl0ZXNGcm9tQmFzZTY0KGI2NCkge1xuICAgIGNvbnN0IGJpbiA9IGF0b2IoYjY0KTtcbiAgICBjb25zdCBhcnIgPSBuZXcgVWludDhBcnJheShiaW4ubGVuZ3RoKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJpbi5sZW5ndGg7ICsraSkge1xuICAgICAgICBhcnJbaV0gPSBiaW4uY2hhckNvZGVBdChpKTtcbiAgICB9XG4gICAgcmV0dXJuIGFycjtcbn1cbmNvbnN0IGJ0b2EgPSBnbG9iYWxUaGlzLmJ0b2EgfHxcbiAgICAoKGJpbikgPT4gZ2xvYmFsVGhpcy5CdWZmZXIuZnJvbShiaW4sIFwiYmluYXJ5XCIpLnRvU3RyaW5nKFwiYmFzZTY0XCIpKTtcbmZ1bmN0aW9uIGJhc2U2NEZyb21CeXRlcyhhcnIpIHtcbiAgICBjb25zdCBiaW4gPSBbXTtcbiAgICBhcnIuZm9yRWFjaCgoYnl0ZSkgPT4ge1xuICAgICAgICBiaW4ucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKGJ5dGUpKTtcbiAgICB9KTtcbiAgICByZXR1cm4gYnRvYShiaW4uam9pbihcIlwiKSk7XG59XG5mdW5jdGlvbiBsb25nVG9TdHJpbmcobG9uZykge1xuICAgIHJldHVybiBsb25nLnRvU3RyaW5nKCk7XG59XG5pZiAoX20wLnV0aWwuTG9uZyAhPT0gTG9uZykge1xuICAgIF9tMC51dGlsLkxvbmcgPSBMb25nO1xuICAgIF9tMC5jb25maWd1cmUoKTtcbn1cbmZ1bmN0aW9uIGlzU2V0KHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlICE9PSBudWxsICYmIHZhbHVlICE9PSB1bmRlZmluZWQ7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD12YWxpZGF0b3IuanMubWFwIiwiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCB7IFByb29mIH0gZnJvbSBcIi4uL2NyeXB0by9wcm9vZlwiO1xuaW1wb3J0IHsgQ29uc2Vuc3VzIH0gZnJvbSBcIi4uL3ZlcnNpb24vdHlwZXNcIjtcbmltcG9ydCB7IFRpbWVzdGFtcCB9IGZyb20gXCIuLi8uLi9nb29nbGUvcHJvdG9idWYvdGltZXN0YW1wXCI7XG5pbXBvcnQgeyBWYWxpZGF0b3JTZXQgfSBmcm9tIFwiLi92YWxpZGF0b3JcIjtcbmltcG9ydCBMb25nIGZyb20gXCJsb25nXCI7XG5pbXBvcnQgKiBhcyBfbTAgZnJvbSBcInByb3RvYnVmanMvbWluaW1hbFwiO1xuZXhwb3J0IGNvbnN0IHByb3RvYnVmUGFja2FnZSA9IFwidGVuZGVybWludC50eXBlc1wiO1xuLyoqIEJsb2NrSWRGbGFnIGluZGljYXRlcyB3aGljaCBCbGNva0lEIHRoZSBzaWduYXR1cmUgaXMgZm9yICovXG5leHBvcnQgdmFyIEJsb2NrSURGbGFnO1xuKGZ1bmN0aW9uIChCbG9ja0lERmxhZykge1xuICAgIEJsb2NrSURGbGFnW0Jsb2NrSURGbGFnW1wiQkxPQ0tfSURfRkxBR19VTktOT1dOXCJdID0gMF0gPSBcIkJMT0NLX0lEX0ZMQUdfVU5LTk9XTlwiO1xuICAgIEJsb2NrSURGbGFnW0Jsb2NrSURGbGFnW1wiQkxPQ0tfSURfRkxBR19BQlNFTlRcIl0gPSAxXSA9IFwiQkxPQ0tfSURfRkxBR19BQlNFTlRcIjtcbiAgICBCbG9ja0lERmxhZ1tCbG9ja0lERmxhZ1tcIkJMT0NLX0lEX0ZMQUdfQ09NTUlUXCJdID0gMl0gPSBcIkJMT0NLX0lEX0ZMQUdfQ09NTUlUXCI7XG4gICAgQmxvY2tJREZsYWdbQmxvY2tJREZsYWdbXCJCTE9DS19JRF9GTEFHX05JTFwiXSA9IDNdID0gXCJCTE9DS19JRF9GTEFHX05JTFwiO1xuICAgIEJsb2NrSURGbGFnW0Jsb2NrSURGbGFnW1wiVU5SRUNPR05JWkVEXCJdID0gLTFdID0gXCJVTlJFQ09HTklaRURcIjtcbn0pKEJsb2NrSURGbGFnIHx8IChCbG9ja0lERmxhZyA9IHt9KSk7XG5leHBvcnQgZnVuY3Rpb24gYmxvY2tJREZsYWdGcm9tSlNPTihvYmplY3QpIHtcbiAgICBzd2l0Y2ggKG9iamVjdCkge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgIGNhc2UgXCJCTE9DS19JRF9GTEFHX1VOS05PV05cIjpcbiAgICAgICAgICAgIHJldHVybiBCbG9ja0lERmxhZy5CTE9DS19JRF9GTEFHX1VOS05PV047XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgY2FzZSBcIkJMT0NLX0lEX0ZMQUdfQUJTRU5UXCI6XG4gICAgICAgICAgICByZXR1cm4gQmxvY2tJREZsYWcuQkxPQ0tfSURfRkxBR19BQlNFTlQ7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgY2FzZSBcIkJMT0NLX0lEX0ZMQUdfQ09NTUlUXCI6XG4gICAgICAgICAgICByZXR1cm4gQmxvY2tJREZsYWcuQkxPQ0tfSURfRkxBR19DT01NSVQ7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgY2FzZSBcIkJMT0NLX0lEX0ZMQUdfTklMXCI6XG4gICAgICAgICAgICByZXR1cm4gQmxvY2tJREZsYWcuQkxPQ0tfSURfRkxBR19OSUw7XG4gICAgICAgIGNhc2UgLTE6XG4gICAgICAgIGNhc2UgXCJVTlJFQ09HTklaRURcIjpcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBCbG9ja0lERmxhZy5VTlJFQ09HTklaRUQ7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGJsb2NrSURGbGFnVG9KU09OKG9iamVjdCkge1xuICAgIHN3aXRjaCAob2JqZWN0KSB7XG4gICAgICAgIGNhc2UgQmxvY2tJREZsYWcuQkxPQ0tfSURfRkxBR19VTktOT1dOOlxuICAgICAgICAgICAgcmV0dXJuIFwiQkxPQ0tfSURfRkxBR19VTktOT1dOXCI7XG4gICAgICAgIGNhc2UgQmxvY2tJREZsYWcuQkxPQ0tfSURfRkxBR19BQlNFTlQ6XG4gICAgICAgICAgICByZXR1cm4gXCJCTE9DS19JRF9GTEFHX0FCU0VOVFwiO1xuICAgICAgICBjYXNlIEJsb2NrSURGbGFnLkJMT0NLX0lEX0ZMQUdfQ09NTUlUOlxuICAgICAgICAgICAgcmV0dXJuIFwiQkxPQ0tfSURfRkxBR19DT01NSVRcIjtcbiAgICAgICAgY2FzZSBCbG9ja0lERmxhZy5CTE9DS19JRF9GTEFHX05JTDpcbiAgICAgICAgICAgIHJldHVybiBcIkJMT0NLX0lEX0ZMQUdfTklMXCI7XG4gICAgICAgIGNhc2UgQmxvY2tJREZsYWcuVU5SRUNPR05JWkVEOlxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIFwiVU5SRUNPR05JWkVEXCI7XG4gICAgfVxufVxuLyoqIFNpZ25lZE1zZ1R5cGUgaXMgYSB0eXBlIG9mIHNpZ25lZCBtZXNzYWdlIGluIHRoZSBjb25zZW5zdXMuICovXG5leHBvcnQgdmFyIFNpZ25lZE1zZ1R5cGU7XG4oZnVuY3Rpb24gKFNpZ25lZE1zZ1R5cGUpIHtcbiAgICBTaWduZWRNc2dUeXBlW1NpZ25lZE1zZ1R5cGVbXCJTSUdORURfTVNHX1RZUEVfVU5LTk9XTlwiXSA9IDBdID0gXCJTSUdORURfTVNHX1RZUEVfVU5LTk9XTlwiO1xuICAgIC8qKiBTSUdORURfTVNHX1RZUEVfUFJFVk9URSAtIFZvdGVzICovXG4gICAgU2lnbmVkTXNnVHlwZVtTaWduZWRNc2dUeXBlW1wiU0lHTkVEX01TR19UWVBFX1BSRVZPVEVcIl0gPSAxXSA9IFwiU0lHTkVEX01TR19UWVBFX1BSRVZPVEVcIjtcbiAgICBTaWduZWRNc2dUeXBlW1NpZ25lZE1zZ1R5cGVbXCJTSUdORURfTVNHX1RZUEVfUFJFQ09NTUlUXCJdID0gMl0gPSBcIlNJR05FRF9NU0dfVFlQRV9QUkVDT01NSVRcIjtcbiAgICAvKiogU0lHTkVEX01TR19UWVBFX1BST1BPU0FMIC0gUHJvcG9zYWxzICovXG4gICAgU2lnbmVkTXNnVHlwZVtTaWduZWRNc2dUeXBlW1wiU0lHTkVEX01TR19UWVBFX1BST1BPU0FMXCJdID0gMzJdID0gXCJTSUdORURfTVNHX1RZUEVfUFJPUE9TQUxcIjtcbiAgICBTaWduZWRNc2dUeXBlW1NpZ25lZE1zZ1R5cGVbXCJVTlJFQ09HTklaRURcIl0gPSAtMV0gPSBcIlVOUkVDT0dOSVpFRFwiO1xufSkoU2lnbmVkTXNnVHlwZSB8fCAoU2lnbmVkTXNnVHlwZSA9IHt9KSk7XG5leHBvcnQgZnVuY3Rpb24gc2lnbmVkTXNnVHlwZUZyb21KU09OKG9iamVjdCkge1xuICAgIHN3aXRjaCAob2JqZWN0KSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgY2FzZSBcIlNJR05FRF9NU0dfVFlQRV9VTktOT1dOXCI6XG4gICAgICAgICAgICByZXR1cm4gU2lnbmVkTXNnVHlwZS5TSUdORURfTVNHX1RZUEVfVU5LTk9XTjtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICBjYXNlIFwiU0lHTkVEX01TR19UWVBFX1BSRVZPVEVcIjpcbiAgICAgICAgICAgIHJldHVybiBTaWduZWRNc2dUeXBlLlNJR05FRF9NU0dfVFlQRV9QUkVWT1RFO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgIGNhc2UgXCJTSUdORURfTVNHX1RZUEVfUFJFQ09NTUlUXCI6XG4gICAgICAgICAgICByZXR1cm4gU2lnbmVkTXNnVHlwZS5TSUdORURfTVNHX1RZUEVfUFJFQ09NTUlUO1xuICAgICAgICBjYXNlIDMyOlxuICAgICAgICBjYXNlIFwiU0lHTkVEX01TR19UWVBFX1BST1BPU0FMXCI6XG4gICAgICAgICAgICByZXR1cm4gU2lnbmVkTXNnVHlwZS5TSUdORURfTVNHX1RZUEVfUFJPUE9TQUw7XG4gICAgICAgIGNhc2UgLTE6XG4gICAgICAgIGNhc2UgXCJVTlJFQ09HTklaRURcIjpcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBTaWduZWRNc2dUeXBlLlVOUkVDT0dOSVpFRDtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gc2lnbmVkTXNnVHlwZVRvSlNPTihvYmplY3QpIHtcbiAgICBzd2l0Y2ggKG9iamVjdCkge1xuICAgICAgICBjYXNlIFNpZ25lZE1zZ1R5cGUuU0lHTkVEX01TR19UWVBFX1VOS05PV046XG4gICAgICAgICAgICByZXR1cm4gXCJTSUdORURfTVNHX1RZUEVfVU5LTk9XTlwiO1xuICAgICAgICBjYXNlIFNpZ25lZE1zZ1R5cGUuU0lHTkVEX01TR19UWVBFX1BSRVZPVEU6XG4gICAgICAgICAgICByZXR1cm4gXCJTSUdORURfTVNHX1RZUEVfUFJFVk9URVwiO1xuICAgICAgICBjYXNlIFNpZ25lZE1zZ1R5cGUuU0lHTkVEX01TR19UWVBFX1BSRUNPTU1JVDpcbiAgICAgICAgICAgIHJldHVybiBcIlNJR05FRF9NU0dfVFlQRV9QUkVDT01NSVRcIjtcbiAgICAgICAgY2FzZSBTaWduZWRNc2dUeXBlLlNJR05FRF9NU0dfVFlQRV9QUk9QT1NBTDpcbiAgICAgICAgICAgIHJldHVybiBcIlNJR05FRF9NU0dfVFlQRV9QUk9QT1NBTFwiO1xuICAgICAgICBjYXNlIFNpZ25lZE1zZ1R5cGUuVU5SRUNPR05JWkVEOlxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIFwiVU5SRUNPR05JWkVEXCI7XG4gICAgfVxufVxuZnVuY3Rpb24gY3JlYXRlQmFzZVBhcnRTZXRIZWFkZXIoKSB7XG4gICAgcmV0dXJuIHsgdG90YWw6IDAsIGhhc2g6IG5ldyBVaW50OEFycmF5KCkgfTtcbn1cbmV4cG9ydCBjb25zdCBQYXJ0U2V0SGVhZGVyID0ge1xuICAgIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLnRvdGFsICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDgpLnVpbnQzMihtZXNzYWdlLnRvdGFsKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5oYXNoLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxOCkuYnl0ZXMobWVzc2FnZS5oYXNoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH0sXG4gICAgZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBhcnRTZXRIZWFkZXIoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRvdGFsID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuaGFzaCA9IHJlYWRlci5ieXRlcygpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG4gICAgZnJvbUpTT04ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0b3RhbDogaXNTZXQob2JqZWN0LnRvdGFsKSA/IE51bWJlcihvYmplY3QudG90YWwpIDogMCxcbiAgICAgICAgICAgIGhhc2g6IGlzU2V0KG9iamVjdC5oYXNoKVxuICAgICAgICAgICAgICAgID8gYnl0ZXNGcm9tQmFzZTY0KG9iamVjdC5oYXNoKVxuICAgICAgICAgICAgICAgIDogbmV3IFVpbnQ4QXJyYXkoKSxcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIHRvSlNPTihtZXNzYWdlKSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgICAgICBtZXNzYWdlLnRvdGFsICE9PSB1bmRlZmluZWQgJiYgKG9iai50b3RhbCA9IE1hdGgucm91bmQobWVzc2FnZS50b3RhbCkpO1xuICAgICAgICBtZXNzYWdlLmhhc2ggIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgKG9iai5oYXNoID0gYmFzZTY0RnJvbUJ5dGVzKG1lc3NhZ2UuaGFzaCAhPT0gdW5kZWZpbmVkID8gbWVzc2FnZS5oYXNoIDogbmV3IFVpbnQ4QXJyYXkoKSkpO1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH0sXG4gICAgZnJvbVBhcnRpYWwob2JqZWN0KSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUGFydFNldEhlYWRlcigpO1xuICAgICAgICBtZXNzYWdlLnRvdGFsID0gb2JqZWN0LnRvdGFsID8/IDA7XG4gICAgICAgIG1lc3NhZ2UuaGFzaCA9IG9iamVjdC5oYXNoID8/IG5ldyBVaW50OEFycmF5KCk7XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG59O1xuZnVuY3Rpb24gY3JlYXRlQmFzZVBhcnQoKSB7XG4gICAgcmV0dXJuIHsgaW5kZXg6IDAsIGJ5dGVzOiBuZXcgVWludDhBcnJheSgpLCBwcm9vZjogdW5kZWZpbmVkIH07XG59XG5leHBvcnQgY29uc3QgUGFydCA9IHtcbiAgICBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS5pbmRleCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig4KS51aW50MzIobWVzc2FnZS5pbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuYnl0ZXMubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDE4KS5ieXRlcyhtZXNzYWdlLmJ5dGVzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5wcm9vZiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBQcm9vZi5lbmNvZGUobWVzc2FnZS5wcm9vZiwgd3JpdGVyLnVpbnQzMigyNikuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH0sXG4gICAgZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBhcnQoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmluZGV4ID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYnl0ZXMgPSByZWFkZXIuYnl0ZXMoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnByb29mID0gUHJvb2YuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9LFxuICAgIGZyb21KU09OKG9iamVjdCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaW5kZXg6IGlzU2V0KG9iamVjdC5pbmRleCkgPyBOdW1iZXIob2JqZWN0LmluZGV4KSA6IDAsXG4gICAgICAgICAgICBieXRlczogaXNTZXQob2JqZWN0LmJ5dGVzKVxuICAgICAgICAgICAgICAgID8gYnl0ZXNGcm9tQmFzZTY0KG9iamVjdC5ieXRlcylcbiAgICAgICAgICAgICAgICA6IG5ldyBVaW50OEFycmF5KCksXG4gICAgICAgICAgICBwcm9vZjogaXNTZXQob2JqZWN0LnByb29mKSA/IFByb29mLmZyb21KU09OKG9iamVjdC5wcm9vZikgOiB1bmRlZmluZWQsXG4gICAgICAgIH07XG4gICAgfSxcbiAgICB0b0pTT04obWVzc2FnZSkge1xuICAgICAgICBjb25zdCBvYmogPSB7fTtcbiAgICAgICAgbWVzc2FnZS5pbmRleCAhPT0gdW5kZWZpbmVkICYmIChvYmouaW5kZXggPSBNYXRoLnJvdW5kKG1lc3NhZ2UuaW5kZXgpKTtcbiAgICAgICAgbWVzc2FnZS5ieXRlcyAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAob2JqLmJ5dGVzID0gYmFzZTY0RnJvbUJ5dGVzKG1lc3NhZ2UuYnl0ZXMgIT09IHVuZGVmaW5lZCA/IG1lc3NhZ2UuYnl0ZXMgOiBuZXcgVWludDhBcnJheSgpKSk7XG4gICAgICAgIG1lc3NhZ2UucHJvb2YgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgKG9iai5wcm9vZiA9IG1lc3NhZ2UucHJvb2YgPyBQcm9vZi50b0pTT04obWVzc2FnZS5wcm9vZikgOiB1bmRlZmluZWQpO1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH0sXG4gICAgZnJvbVBhcnRpYWwob2JqZWN0KSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUGFydCgpO1xuICAgICAgICBtZXNzYWdlLmluZGV4ID0gb2JqZWN0LmluZGV4ID8/IDA7XG4gICAgICAgIG1lc3NhZ2UuYnl0ZXMgPSBvYmplY3QuYnl0ZXMgPz8gbmV3IFVpbnQ4QXJyYXkoKTtcbiAgICAgICAgbWVzc2FnZS5wcm9vZiA9XG4gICAgICAgICAgICBvYmplY3QucHJvb2YgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QucHJvb2YgIT09IG51bGxcbiAgICAgICAgICAgICAgICA/IFByb29mLmZyb21QYXJ0aWFsKG9iamVjdC5wcm9vZilcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfSxcbn07XG5mdW5jdGlvbiBjcmVhdGVCYXNlQmxvY2tJRCgpIHtcbiAgICByZXR1cm4geyBoYXNoOiBuZXcgVWludDhBcnJheSgpLCBwYXJ0U2V0SGVhZGVyOiB1bmRlZmluZWQgfTtcbn1cbmV4cG9ydCBjb25zdCBCbG9ja0lEID0ge1xuICAgIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLmhhc2gubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDEwKS5ieXRlcyhtZXNzYWdlLmhhc2gpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnBhcnRTZXRIZWFkZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgUGFydFNldEhlYWRlci5lbmNvZGUobWVzc2FnZS5wYXJ0U2V0SGVhZGVyLCB3cml0ZXIudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfSxcbiAgICBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlQmxvY2tJRCgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuaGFzaCA9IHJlYWRlci5ieXRlcygpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucGFydFNldEhlYWRlciA9IFBhcnRTZXRIZWFkZXIuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9LFxuICAgIGZyb21KU09OKG9iamVjdCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaGFzaDogaXNTZXQob2JqZWN0Lmhhc2gpXG4gICAgICAgICAgICAgICAgPyBieXRlc0Zyb21CYXNlNjQob2JqZWN0Lmhhc2gpXG4gICAgICAgICAgICAgICAgOiBuZXcgVWludDhBcnJheSgpLFxuICAgICAgICAgICAgcGFydFNldEhlYWRlcjogaXNTZXQob2JqZWN0LnBhcnRTZXRIZWFkZXIpXG4gICAgICAgICAgICAgICAgPyBQYXJ0U2V0SGVhZGVyLmZyb21KU09OKG9iamVjdC5wYXJ0U2V0SGVhZGVyKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICB9O1xuICAgIH0sXG4gICAgdG9KU09OKG1lc3NhZ2UpIHtcbiAgICAgICAgY29uc3Qgb2JqID0ge307XG4gICAgICAgIG1lc3NhZ2UuaGFzaCAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAob2JqLmhhc2ggPSBiYXNlNjRGcm9tQnl0ZXMobWVzc2FnZS5oYXNoICE9PSB1bmRlZmluZWQgPyBtZXNzYWdlLmhhc2ggOiBuZXcgVWludDhBcnJheSgpKSk7XG4gICAgICAgIG1lc3NhZ2UucGFydFNldEhlYWRlciAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAob2JqLnBhcnRTZXRIZWFkZXIgPSBtZXNzYWdlLnBhcnRTZXRIZWFkZXJcbiAgICAgICAgICAgICAgICA/IFBhcnRTZXRIZWFkZXIudG9KU09OKG1lc3NhZ2UucGFydFNldEhlYWRlcilcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCk7XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfSxcbiAgICBmcm9tUGFydGlhbChvYmplY3QpIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VCbG9ja0lEKCk7XG4gICAgICAgIG1lc3NhZ2UuaGFzaCA9IG9iamVjdC5oYXNoID8/IG5ldyBVaW50OEFycmF5KCk7XG4gICAgICAgIG1lc3NhZ2UucGFydFNldEhlYWRlciA9XG4gICAgICAgICAgICBvYmplY3QucGFydFNldEhlYWRlciAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5wYXJ0U2V0SGVhZGVyICE9PSBudWxsXG4gICAgICAgICAgICAgICAgPyBQYXJ0U2V0SGVhZGVyLmZyb21QYXJ0aWFsKG9iamVjdC5wYXJ0U2V0SGVhZGVyKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9LFxufTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VIZWFkZXIoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdmVyc2lvbjogdW5kZWZpbmVkLFxuICAgICAgICBjaGFpbklkOiBcIlwiLFxuICAgICAgICBoZWlnaHQ6IFwiMFwiLFxuICAgICAgICB0aW1lOiB1bmRlZmluZWQsXG4gICAgICAgIGxhc3RCbG9ja0lkOiB1bmRlZmluZWQsXG4gICAgICAgIGxhc3RDb21taXRIYXNoOiBuZXcgVWludDhBcnJheSgpLFxuICAgICAgICBkYXRhSGFzaDogbmV3IFVpbnQ4QXJyYXkoKSxcbiAgICAgICAgdmFsaWRhdG9yc0hhc2g6IG5ldyBVaW50OEFycmF5KCksXG4gICAgICAgIG5leHRWYWxpZGF0b3JzSGFzaDogbmV3IFVpbnQ4QXJyYXkoKSxcbiAgICAgICAgY29uc2Vuc3VzSGFzaDogbmV3IFVpbnQ4QXJyYXkoKSxcbiAgICAgICAgYXBwSGFzaDogbmV3IFVpbnQ4QXJyYXkoKSxcbiAgICAgICAgbGFzdFJlc3VsdHNIYXNoOiBuZXcgVWludDhBcnJheSgpLFxuICAgICAgICBldmlkZW5jZUhhc2g6IG5ldyBVaW50OEFycmF5KCksXG4gICAgICAgIHByb3Bvc2VyQWRkcmVzczogbmV3IFVpbnQ4QXJyYXkoKSxcbiAgICB9O1xufVxuZXhwb3J0IGNvbnN0IEhlYWRlciA9IHtcbiAgICBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS52ZXJzaW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIENvbnNlbnN1cy5lbmNvZGUobWVzc2FnZS52ZXJzaW9uLCB3cml0ZXIudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmNoYWluSWQgIT09IFwiXCIpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTgpLnN0cmluZyhtZXNzYWdlLmNoYWluSWQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmhlaWdodCAhPT0gXCIwXCIpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjQpLmludDY0KG1lc3NhZ2UuaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS50aW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIFRpbWVzdGFtcC5lbmNvZGUobWVzc2FnZS50aW1lLCB3cml0ZXIudWludDMyKDM0KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmxhc3RCbG9ja0lkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIEJsb2NrSUQuZW5jb2RlKG1lc3NhZ2UubGFzdEJsb2NrSWQsIHdyaXRlci51aW50MzIoNDIpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UubGFzdENvbW1pdEhhc2gubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDUwKS5ieXRlcyhtZXNzYWdlLmxhc3RDb21taXRIYXNoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5kYXRhSGFzaC5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoNTgpLmJ5dGVzKG1lc3NhZ2UuZGF0YUhhc2gpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnZhbGlkYXRvcnNIYXNoLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig2NikuYnl0ZXMobWVzc2FnZS52YWxpZGF0b3JzSGFzaCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UubmV4dFZhbGlkYXRvcnNIYXNoLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig3NCkuYnl0ZXMobWVzc2FnZS5uZXh0VmFsaWRhdG9yc0hhc2gpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmNvbnNlbnN1c0hhc2gubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDgyKS5ieXRlcyhtZXNzYWdlLmNvbnNlbnN1c0hhc2gpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmFwcEhhc2gubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDkwKS5ieXRlcyhtZXNzYWdlLmFwcEhhc2gpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmxhc3RSZXN1bHRzSGFzaC5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoOTgpLmJ5dGVzKG1lc3NhZ2UubGFzdFJlc3VsdHNIYXNoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5ldmlkZW5jZUhhc2gubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDEwNikuYnl0ZXMobWVzc2FnZS5ldmlkZW5jZUhhc2gpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnByb3Bvc2VyQWRkcmVzcy5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTE0KS5ieXRlcyhtZXNzYWdlLnByb3Bvc2VyQWRkcmVzcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9LFxuICAgIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VIZWFkZXIoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnZlcnNpb24gPSBDb25zZW5zdXMuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmNoYWluSWQgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5oZWlnaHQgPSBsb25nVG9TdHJpbmcocmVhZGVyLmludDY0KCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudGltZSA9IFRpbWVzdGFtcC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubGFzdEJsb2NrSWQgPSBCbG9ja0lELmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5sYXN0Q29tbWl0SGFzaCA9IHJlYWRlci5ieXRlcygpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZGF0YUhhc2ggPSByZWFkZXIuYnl0ZXMoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA4OlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnZhbGlkYXRvcnNIYXNoID0gcmVhZGVyLmJ5dGVzKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgOTpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5uZXh0VmFsaWRhdG9yc0hhc2ggPSByZWFkZXIuYnl0ZXMoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAxMDpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5jb25zZW5zdXNIYXNoID0gcmVhZGVyLmJ5dGVzKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMTE6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYXBwSGFzaCA9IHJlYWRlci5ieXRlcygpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDEyOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmxhc3RSZXN1bHRzSGFzaCA9IHJlYWRlci5ieXRlcygpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmV2aWRlbmNlSGFzaCA9IHJlYWRlci5ieXRlcygpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDE0OlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnByb3Bvc2VyQWRkcmVzcyA9IHJlYWRlci5ieXRlcygpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG4gICAgZnJvbUpTT04ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB2ZXJzaW9uOiBpc1NldChvYmplY3QudmVyc2lvbilcbiAgICAgICAgICAgICAgICA/IENvbnNlbnN1cy5mcm9tSlNPTihvYmplY3QudmVyc2lvbilcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGNoYWluSWQ6IGlzU2V0KG9iamVjdC5jaGFpbklkKSA/IFN0cmluZyhvYmplY3QuY2hhaW5JZCkgOiBcIlwiLFxuICAgICAgICAgICAgaGVpZ2h0OiBpc1NldChvYmplY3QuaGVpZ2h0KSA/IFN0cmluZyhvYmplY3QuaGVpZ2h0KSA6IFwiMFwiLFxuICAgICAgICAgICAgdGltZTogaXNTZXQob2JqZWN0LnRpbWUpID8gZnJvbUpzb25UaW1lc3RhbXAob2JqZWN0LnRpbWUpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgbGFzdEJsb2NrSWQ6IGlzU2V0KG9iamVjdC5sYXN0QmxvY2tJZClcbiAgICAgICAgICAgICAgICA/IEJsb2NrSUQuZnJvbUpTT04ob2JqZWN0Lmxhc3RCbG9ja0lkKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgbGFzdENvbW1pdEhhc2g6IGlzU2V0KG9iamVjdC5sYXN0Q29tbWl0SGFzaClcbiAgICAgICAgICAgICAgICA/IGJ5dGVzRnJvbUJhc2U2NChvYmplY3QubGFzdENvbW1pdEhhc2gpXG4gICAgICAgICAgICAgICAgOiBuZXcgVWludDhBcnJheSgpLFxuICAgICAgICAgICAgZGF0YUhhc2g6IGlzU2V0KG9iamVjdC5kYXRhSGFzaClcbiAgICAgICAgICAgICAgICA/IGJ5dGVzRnJvbUJhc2U2NChvYmplY3QuZGF0YUhhc2gpXG4gICAgICAgICAgICAgICAgOiBuZXcgVWludDhBcnJheSgpLFxuICAgICAgICAgICAgdmFsaWRhdG9yc0hhc2g6IGlzU2V0KG9iamVjdC52YWxpZGF0b3JzSGFzaClcbiAgICAgICAgICAgICAgICA/IGJ5dGVzRnJvbUJhc2U2NChvYmplY3QudmFsaWRhdG9yc0hhc2gpXG4gICAgICAgICAgICAgICAgOiBuZXcgVWludDhBcnJheSgpLFxuICAgICAgICAgICAgbmV4dFZhbGlkYXRvcnNIYXNoOiBpc1NldChvYmplY3QubmV4dFZhbGlkYXRvcnNIYXNoKVxuICAgICAgICAgICAgICAgID8gYnl0ZXNGcm9tQmFzZTY0KG9iamVjdC5uZXh0VmFsaWRhdG9yc0hhc2gpXG4gICAgICAgICAgICAgICAgOiBuZXcgVWludDhBcnJheSgpLFxuICAgICAgICAgICAgY29uc2Vuc3VzSGFzaDogaXNTZXQob2JqZWN0LmNvbnNlbnN1c0hhc2gpXG4gICAgICAgICAgICAgICAgPyBieXRlc0Zyb21CYXNlNjQob2JqZWN0LmNvbnNlbnN1c0hhc2gpXG4gICAgICAgICAgICAgICAgOiBuZXcgVWludDhBcnJheSgpLFxuICAgICAgICAgICAgYXBwSGFzaDogaXNTZXQob2JqZWN0LmFwcEhhc2gpXG4gICAgICAgICAgICAgICAgPyBieXRlc0Zyb21CYXNlNjQob2JqZWN0LmFwcEhhc2gpXG4gICAgICAgICAgICAgICAgOiBuZXcgVWludDhBcnJheSgpLFxuICAgICAgICAgICAgbGFzdFJlc3VsdHNIYXNoOiBpc1NldChvYmplY3QubGFzdFJlc3VsdHNIYXNoKVxuICAgICAgICAgICAgICAgID8gYnl0ZXNGcm9tQmFzZTY0KG9iamVjdC5sYXN0UmVzdWx0c0hhc2gpXG4gICAgICAgICAgICAgICAgOiBuZXcgVWludDhBcnJheSgpLFxuICAgICAgICAgICAgZXZpZGVuY2VIYXNoOiBpc1NldChvYmplY3QuZXZpZGVuY2VIYXNoKVxuICAgICAgICAgICAgICAgID8gYnl0ZXNGcm9tQmFzZTY0KG9iamVjdC5ldmlkZW5jZUhhc2gpXG4gICAgICAgICAgICAgICAgOiBuZXcgVWludDhBcnJheSgpLFxuICAgICAgICAgICAgcHJvcG9zZXJBZGRyZXNzOiBpc1NldChvYmplY3QucHJvcG9zZXJBZGRyZXNzKVxuICAgICAgICAgICAgICAgID8gYnl0ZXNGcm9tQmFzZTY0KG9iamVjdC5wcm9wb3NlckFkZHJlc3MpXG4gICAgICAgICAgICAgICAgOiBuZXcgVWludDhBcnJheSgpLFxuICAgICAgICB9O1xuICAgIH0sXG4gICAgdG9KU09OKG1lc3NhZ2UpIHtcbiAgICAgICAgY29uc3Qgb2JqID0ge307XG4gICAgICAgIG1lc3NhZ2UudmVyc2lvbiAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAob2JqLnZlcnNpb24gPSBtZXNzYWdlLnZlcnNpb25cbiAgICAgICAgICAgICAgICA/IENvbnNlbnN1cy50b0pTT04obWVzc2FnZS52ZXJzaW9uKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkKTtcbiAgICAgICAgbWVzc2FnZS5jaGFpbklkICE9PSB1bmRlZmluZWQgJiYgKG9iai5jaGFpbklkID0gbWVzc2FnZS5jaGFpbklkKTtcbiAgICAgICAgbWVzc2FnZS5oZWlnaHQgIT09IHVuZGVmaW5lZCAmJiAob2JqLmhlaWdodCA9IG1lc3NhZ2UuaGVpZ2h0KTtcbiAgICAgICAgbWVzc2FnZS50aW1lICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIChvYmoudGltZSA9IGZyb21UaW1lc3RhbXAobWVzc2FnZS50aW1lKS50b0lTT1N0cmluZygpKTtcbiAgICAgICAgbWVzc2FnZS5sYXN0QmxvY2tJZCAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAob2JqLmxhc3RCbG9ja0lkID0gbWVzc2FnZS5sYXN0QmxvY2tJZFxuICAgICAgICAgICAgICAgID8gQmxvY2tJRC50b0pTT04obWVzc2FnZS5sYXN0QmxvY2tJZClcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCk7XG4gICAgICAgIG1lc3NhZ2UubGFzdENvbW1pdEhhc2ggIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgKG9iai5sYXN0Q29tbWl0SGFzaCA9IGJhc2U2NEZyb21CeXRlcyhtZXNzYWdlLmxhc3RDb21taXRIYXNoICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICA/IG1lc3NhZ2UubGFzdENvbW1pdEhhc2hcbiAgICAgICAgICAgICAgICA6IG5ldyBVaW50OEFycmF5KCkpKTtcbiAgICAgICAgbWVzc2FnZS5kYXRhSGFzaCAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAob2JqLmRhdGFIYXNoID0gYmFzZTY0RnJvbUJ5dGVzKG1lc3NhZ2UuZGF0YUhhc2ggIT09IHVuZGVmaW5lZCA/IG1lc3NhZ2UuZGF0YUhhc2ggOiBuZXcgVWludDhBcnJheSgpKSk7XG4gICAgICAgIG1lc3NhZ2UudmFsaWRhdG9yc0hhc2ggIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgKG9iai52YWxpZGF0b3JzSGFzaCA9IGJhc2U2NEZyb21CeXRlcyhtZXNzYWdlLnZhbGlkYXRvcnNIYXNoICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICA/IG1lc3NhZ2UudmFsaWRhdG9yc0hhc2hcbiAgICAgICAgICAgICAgICA6IG5ldyBVaW50OEFycmF5KCkpKTtcbiAgICAgICAgbWVzc2FnZS5uZXh0VmFsaWRhdG9yc0hhc2ggIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgKG9iai5uZXh0VmFsaWRhdG9yc0hhc2ggPSBiYXNlNjRGcm9tQnl0ZXMobWVzc2FnZS5uZXh0VmFsaWRhdG9yc0hhc2ggIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgID8gbWVzc2FnZS5uZXh0VmFsaWRhdG9yc0hhc2hcbiAgICAgICAgICAgICAgICA6IG5ldyBVaW50OEFycmF5KCkpKTtcbiAgICAgICAgbWVzc2FnZS5jb25zZW5zdXNIYXNoICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIChvYmouY29uc2Vuc3VzSGFzaCA9IGJhc2U2NEZyb21CeXRlcyhtZXNzYWdlLmNvbnNlbnN1c0hhc2ggIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgID8gbWVzc2FnZS5jb25zZW5zdXNIYXNoXG4gICAgICAgICAgICAgICAgOiBuZXcgVWludDhBcnJheSgpKSk7XG4gICAgICAgIG1lc3NhZ2UuYXBwSGFzaCAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAob2JqLmFwcEhhc2ggPSBiYXNlNjRGcm9tQnl0ZXMobWVzc2FnZS5hcHBIYXNoICE9PSB1bmRlZmluZWQgPyBtZXNzYWdlLmFwcEhhc2ggOiBuZXcgVWludDhBcnJheSgpKSk7XG4gICAgICAgIG1lc3NhZ2UubGFzdFJlc3VsdHNIYXNoICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIChvYmoubGFzdFJlc3VsdHNIYXNoID0gYmFzZTY0RnJvbUJ5dGVzKG1lc3NhZ2UubGFzdFJlc3VsdHNIYXNoICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICA/IG1lc3NhZ2UubGFzdFJlc3VsdHNIYXNoXG4gICAgICAgICAgICAgICAgOiBuZXcgVWludDhBcnJheSgpKSk7XG4gICAgICAgIG1lc3NhZ2UuZXZpZGVuY2VIYXNoICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIChvYmouZXZpZGVuY2VIYXNoID0gYmFzZTY0RnJvbUJ5dGVzKG1lc3NhZ2UuZXZpZGVuY2VIYXNoICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICA/IG1lc3NhZ2UuZXZpZGVuY2VIYXNoXG4gICAgICAgICAgICAgICAgOiBuZXcgVWludDhBcnJheSgpKSk7XG4gICAgICAgIG1lc3NhZ2UucHJvcG9zZXJBZGRyZXNzICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIChvYmoucHJvcG9zZXJBZGRyZXNzID0gYmFzZTY0RnJvbUJ5dGVzKG1lc3NhZ2UucHJvcG9zZXJBZGRyZXNzICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICA/IG1lc3NhZ2UucHJvcG9zZXJBZGRyZXNzXG4gICAgICAgICAgICAgICAgOiBuZXcgVWludDhBcnJheSgpKSk7XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfSxcbiAgICBmcm9tUGFydGlhbChvYmplY3QpIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VIZWFkZXIoKTtcbiAgICAgICAgbWVzc2FnZS52ZXJzaW9uID1cbiAgICAgICAgICAgIG9iamVjdC52ZXJzaW9uICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnZlcnNpb24gIT09IG51bGxcbiAgICAgICAgICAgICAgICA/IENvbnNlbnN1cy5mcm9tUGFydGlhbChvYmplY3QudmVyc2lvbilcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgbWVzc2FnZS5jaGFpbklkID0gb2JqZWN0LmNoYWluSWQgPz8gXCJcIjtcbiAgICAgICAgbWVzc2FnZS5oZWlnaHQgPSBvYmplY3QuaGVpZ2h0ID8/IFwiMFwiO1xuICAgICAgICBtZXNzYWdlLnRpbWUgPVxuICAgICAgICAgICAgb2JqZWN0LnRpbWUgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QudGltZSAhPT0gbnVsbFxuICAgICAgICAgICAgICAgID8gVGltZXN0YW1wLmZyb21QYXJ0aWFsKG9iamVjdC50aW1lKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICBtZXNzYWdlLmxhc3RCbG9ja0lkID1cbiAgICAgICAgICAgIG9iamVjdC5sYXN0QmxvY2tJZCAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5sYXN0QmxvY2tJZCAhPT0gbnVsbFxuICAgICAgICAgICAgICAgID8gQmxvY2tJRC5mcm9tUGFydGlhbChvYmplY3QubGFzdEJsb2NrSWQpXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgIG1lc3NhZ2UubGFzdENvbW1pdEhhc2ggPSBvYmplY3QubGFzdENvbW1pdEhhc2ggPz8gbmV3IFVpbnQ4QXJyYXkoKTtcbiAgICAgICAgbWVzc2FnZS5kYXRhSGFzaCA9IG9iamVjdC5kYXRhSGFzaCA/PyBuZXcgVWludDhBcnJheSgpO1xuICAgICAgICBtZXNzYWdlLnZhbGlkYXRvcnNIYXNoID0gb2JqZWN0LnZhbGlkYXRvcnNIYXNoID8/IG5ldyBVaW50OEFycmF5KCk7XG4gICAgICAgIG1lc3NhZ2UubmV4dFZhbGlkYXRvcnNIYXNoID0gb2JqZWN0Lm5leHRWYWxpZGF0b3JzSGFzaCA/PyBuZXcgVWludDhBcnJheSgpO1xuICAgICAgICBtZXNzYWdlLmNvbnNlbnN1c0hhc2ggPSBvYmplY3QuY29uc2Vuc3VzSGFzaCA/PyBuZXcgVWludDhBcnJheSgpO1xuICAgICAgICBtZXNzYWdlLmFwcEhhc2ggPSBvYmplY3QuYXBwSGFzaCA/PyBuZXcgVWludDhBcnJheSgpO1xuICAgICAgICBtZXNzYWdlLmxhc3RSZXN1bHRzSGFzaCA9IG9iamVjdC5sYXN0UmVzdWx0c0hhc2ggPz8gbmV3IFVpbnQ4QXJyYXkoKTtcbiAgICAgICAgbWVzc2FnZS5ldmlkZW5jZUhhc2ggPSBvYmplY3QuZXZpZGVuY2VIYXNoID8/IG5ldyBVaW50OEFycmF5KCk7XG4gICAgICAgIG1lc3NhZ2UucHJvcG9zZXJBZGRyZXNzID0gb2JqZWN0LnByb3Bvc2VyQWRkcmVzcyA/PyBuZXcgVWludDhBcnJheSgpO1xuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9LFxufTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VEYXRhKCkge1xuICAgIHJldHVybiB7IHR4czogW10gfTtcbn1cbmV4cG9ydCBjb25zdCBEYXRhID0ge1xuICAgIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGZvciAoY29uc3QgdiBvZiBtZXNzYWdlLnR4cykge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxMCkuYnl0ZXModik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9LFxuICAgIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VEYXRhKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50eHMucHVzaChyZWFkZXIuYnl0ZXMoKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfSxcbiAgICBmcm9tSlNPTihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR4czogQXJyYXkuaXNBcnJheShvYmplY3Q/LnR4cylcbiAgICAgICAgICAgICAgICA/IG9iamVjdC50eHMubWFwKChlKSA9PiBieXRlc0Zyb21CYXNlNjQoZSkpXG4gICAgICAgICAgICAgICAgOiBbXSxcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIHRvSlNPTihtZXNzYWdlKSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgICAgICBpZiAobWVzc2FnZS50eHMpIHtcbiAgICAgICAgICAgIG9iai50eHMgPSBtZXNzYWdlLnR4cy5tYXAoKGUpID0+IGJhc2U2NEZyb21CeXRlcyhlICE9PSB1bmRlZmluZWQgPyBlIDogbmV3IFVpbnQ4QXJyYXkoKSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgb2JqLnR4cyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfSxcbiAgICBmcm9tUGFydGlhbChvYmplY3QpIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VEYXRhKCk7XG4gICAgICAgIG1lc3NhZ2UudHhzID0gb2JqZWN0LnR4cz8ubWFwKChlKSA9PiBlKSB8fCBbXTtcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfSxcbn07XG5mdW5jdGlvbiBjcmVhdGVCYXNlVm90ZSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiAwLFxuICAgICAgICBoZWlnaHQ6IFwiMFwiLFxuICAgICAgICByb3VuZDogMCxcbiAgICAgICAgYmxvY2tJZDogdW5kZWZpbmVkLFxuICAgICAgICB0aW1lc3RhbXA6IHVuZGVmaW5lZCxcbiAgICAgICAgdmFsaWRhdG9yQWRkcmVzczogbmV3IFVpbnQ4QXJyYXkoKSxcbiAgICAgICAgdmFsaWRhdG9ySW5kZXg6IDAsXG4gICAgICAgIHNpZ25hdHVyZTogbmV3IFVpbnQ4QXJyYXkoKSxcbiAgICB9O1xufVxuZXhwb3J0IGNvbnN0IFZvdGUgPSB7XG4gICAgZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UudHlwZSAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig4KS5pbnQzMihtZXNzYWdlLnR5cGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmhlaWdodCAhPT0gXCIwXCIpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTYpLmludDY0KG1lc3NhZ2UuaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5yb3VuZCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyNCkuaW50MzIobWVzc2FnZS5yb3VuZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuYmxvY2tJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBCbG9ja0lELmVuY29kZShtZXNzYWdlLmJsb2NrSWQsIHdyaXRlci51aW50MzIoMzQpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UudGltZXN0YW1wICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIFRpbWVzdGFtcC5lbmNvZGUobWVzc2FnZS50aW1lc3RhbXAsIHdyaXRlci51aW50MzIoNDIpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UudmFsaWRhdG9yQWRkcmVzcy5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoNTApLmJ5dGVzKG1lc3NhZ2UudmFsaWRhdG9yQWRkcmVzcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UudmFsaWRhdG9ySW5kZXggIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoNTYpLmludDMyKG1lc3NhZ2UudmFsaWRhdG9ySW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnNpZ25hdHVyZS5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoNjYpLmJ5dGVzKG1lc3NhZ2Uuc2lnbmF0dXJlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH0sXG4gICAgZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVZvdGUoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnR5cGUgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmhlaWdodCA9IGxvbmdUb1N0cmluZyhyZWFkZXIuaW50NjQoKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5yb3VuZCA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYmxvY2tJZCA9IEJsb2NrSUQuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRpbWVzdGFtcCA9IFRpbWVzdGFtcC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudmFsaWRhdG9yQWRkcmVzcyA9IHJlYWRlci5ieXRlcygpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudmFsaWRhdG9ySW5kZXggPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA4OlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnNpZ25hdHVyZSA9IHJlYWRlci5ieXRlcygpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG4gICAgZnJvbUpTT04ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiBpc1NldChvYmplY3QudHlwZSkgPyBzaWduZWRNc2dUeXBlRnJvbUpTT04ob2JqZWN0LnR5cGUpIDogMCxcbiAgICAgICAgICAgIGhlaWdodDogaXNTZXQob2JqZWN0LmhlaWdodCkgPyBTdHJpbmcob2JqZWN0LmhlaWdodCkgOiBcIjBcIixcbiAgICAgICAgICAgIHJvdW5kOiBpc1NldChvYmplY3Qucm91bmQpID8gTnVtYmVyKG9iamVjdC5yb3VuZCkgOiAwLFxuICAgICAgICAgICAgYmxvY2tJZDogaXNTZXQob2JqZWN0LmJsb2NrSWQpXG4gICAgICAgICAgICAgICAgPyBCbG9ja0lELmZyb21KU09OKG9iamVjdC5ibG9ja0lkKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgdGltZXN0YW1wOiBpc1NldChvYmplY3QudGltZXN0YW1wKVxuICAgICAgICAgICAgICAgID8gZnJvbUpzb25UaW1lc3RhbXAob2JqZWN0LnRpbWVzdGFtcClcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHZhbGlkYXRvckFkZHJlc3M6IGlzU2V0KG9iamVjdC52YWxpZGF0b3JBZGRyZXNzKVxuICAgICAgICAgICAgICAgID8gYnl0ZXNGcm9tQmFzZTY0KG9iamVjdC52YWxpZGF0b3JBZGRyZXNzKVxuICAgICAgICAgICAgICAgIDogbmV3IFVpbnQ4QXJyYXkoKSxcbiAgICAgICAgICAgIHZhbGlkYXRvckluZGV4OiBpc1NldChvYmplY3QudmFsaWRhdG9ySW5kZXgpXG4gICAgICAgICAgICAgICAgPyBOdW1iZXIob2JqZWN0LnZhbGlkYXRvckluZGV4KVxuICAgICAgICAgICAgICAgIDogMCxcbiAgICAgICAgICAgIHNpZ25hdHVyZTogaXNTZXQob2JqZWN0LnNpZ25hdHVyZSlcbiAgICAgICAgICAgICAgICA/IGJ5dGVzRnJvbUJhc2U2NChvYmplY3Quc2lnbmF0dXJlKVxuICAgICAgICAgICAgICAgIDogbmV3IFVpbnQ4QXJyYXkoKSxcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIHRvSlNPTihtZXNzYWdlKSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgICAgICBtZXNzYWdlLnR5cGUgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgKG9iai50eXBlID0gc2lnbmVkTXNnVHlwZVRvSlNPTihtZXNzYWdlLnR5cGUpKTtcbiAgICAgICAgbWVzc2FnZS5oZWlnaHQgIT09IHVuZGVmaW5lZCAmJiAob2JqLmhlaWdodCA9IG1lc3NhZ2UuaGVpZ2h0KTtcbiAgICAgICAgbWVzc2FnZS5yb3VuZCAhPT0gdW5kZWZpbmVkICYmIChvYmoucm91bmQgPSBNYXRoLnJvdW5kKG1lc3NhZ2Uucm91bmQpKTtcbiAgICAgICAgbWVzc2FnZS5ibG9ja0lkICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIChvYmouYmxvY2tJZCA9IG1lc3NhZ2UuYmxvY2tJZFxuICAgICAgICAgICAgICAgID8gQmxvY2tJRC50b0pTT04obWVzc2FnZS5ibG9ja0lkKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkKTtcbiAgICAgICAgbWVzc2FnZS50aW1lc3RhbXAgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgKG9iai50aW1lc3RhbXAgPSBmcm9tVGltZXN0YW1wKG1lc3NhZ2UudGltZXN0YW1wKS50b0lTT1N0cmluZygpKTtcbiAgICAgICAgbWVzc2FnZS52YWxpZGF0b3JBZGRyZXNzICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIChvYmoudmFsaWRhdG9yQWRkcmVzcyA9IGJhc2U2NEZyb21CeXRlcyhtZXNzYWdlLnZhbGlkYXRvckFkZHJlc3MgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgID8gbWVzc2FnZS52YWxpZGF0b3JBZGRyZXNzXG4gICAgICAgICAgICAgICAgOiBuZXcgVWludDhBcnJheSgpKSk7XG4gICAgICAgIG1lc3NhZ2UudmFsaWRhdG9ySW5kZXggIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgKG9iai52YWxpZGF0b3JJbmRleCA9IE1hdGgucm91bmQobWVzc2FnZS52YWxpZGF0b3JJbmRleCkpO1xuICAgICAgICBtZXNzYWdlLnNpZ25hdHVyZSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAob2JqLnNpZ25hdHVyZSA9IGJhc2U2NEZyb21CeXRlcyhtZXNzYWdlLnNpZ25hdHVyZSAhPT0gdW5kZWZpbmVkID8gbWVzc2FnZS5zaWduYXR1cmUgOiBuZXcgVWludDhBcnJheSgpKSk7XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfSxcbiAgICBmcm9tUGFydGlhbChvYmplY3QpIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VWb3RlKCk7XG4gICAgICAgIG1lc3NhZ2UudHlwZSA9IG9iamVjdC50eXBlID8/IDA7XG4gICAgICAgIG1lc3NhZ2UuaGVpZ2h0ID0gb2JqZWN0LmhlaWdodCA/PyBcIjBcIjtcbiAgICAgICAgbWVzc2FnZS5yb3VuZCA9IG9iamVjdC5yb3VuZCA/PyAwO1xuICAgICAgICBtZXNzYWdlLmJsb2NrSWQgPVxuICAgICAgICAgICAgb2JqZWN0LmJsb2NrSWQgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QuYmxvY2tJZCAhPT0gbnVsbFxuICAgICAgICAgICAgICAgID8gQmxvY2tJRC5mcm9tUGFydGlhbChvYmplY3QuYmxvY2tJZClcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgbWVzc2FnZS50aW1lc3RhbXAgPVxuICAgICAgICAgICAgb2JqZWN0LnRpbWVzdGFtcCAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC50aW1lc3RhbXAgIT09IG51bGxcbiAgICAgICAgICAgICAgICA/IFRpbWVzdGFtcC5mcm9tUGFydGlhbChvYmplY3QudGltZXN0YW1wKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICBtZXNzYWdlLnZhbGlkYXRvckFkZHJlc3MgPSBvYmplY3QudmFsaWRhdG9yQWRkcmVzcyA/PyBuZXcgVWludDhBcnJheSgpO1xuICAgICAgICBtZXNzYWdlLnZhbGlkYXRvckluZGV4ID0gb2JqZWN0LnZhbGlkYXRvckluZGV4ID8/IDA7XG4gICAgICAgIG1lc3NhZ2Uuc2lnbmF0dXJlID0gb2JqZWN0LnNpZ25hdHVyZSA/PyBuZXcgVWludDhBcnJheSgpO1xuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9LFxufTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VDb21taXQoKSB7XG4gICAgcmV0dXJuIHsgaGVpZ2h0OiBcIjBcIiwgcm91bmQ6IDAsIGJsb2NrSWQ6IHVuZGVmaW5lZCwgc2lnbmF0dXJlczogW10gfTtcbn1cbmV4cG9ydCBjb25zdCBDb21taXQgPSB7XG4gICAgZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UuaGVpZ2h0ICE9PSBcIjBcIikge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig4KS5pbnQ2NChtZXNzYWdlLmhlaWdodCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2Uucm91bmQgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTYpLmludDMyKG1lc3NhZ2Uucm91bmQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmJsb2NrSWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgQmxvY2tJRC5lbmNvZGUobWVzc2FnZS5ibG9ja0lkLCB3cml0ZXIudWludDMyKDI2KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgdiBvZiBtZXNzYWdlLnNpZ25hdHVyZXMpIHtcbiAgICAgICAgICAgIENvbW1pdFNpZy5lbmNvZGUodiwgd3JpdGVyLnVpbnQzMigzNCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH0sXG4gICAgZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUNvbW1pdCgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuaGVpZ2h0ID0gbG9uZ1RvU3RyaW5nKHJlYWRlci5pbnQ2NCgpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnJvdW5kID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5ibG9ja0lkID0gQmxvY2tJRC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc2lnbmF0dXJlcy5wdXNoKENvbW1pdFNpZy5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9LFxuICAgIGZyb21KU09OKG9iamVjdCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaGVpZ2h0OiBpc1NldChvYmplY3QuaGVpZ2h0KSA/IFN0cmluZyhvYmplY3QuaGVpZ2h0KSA6IFwiMFwiLFxuICAgICAgICAgICAgcm91bmQ6IGlzU2V0KG9iamVjdC5yb3VuZCkgPyBOdW1iZXIob2JqZWN0LnJvdW5kKSA6IDAsXG4gICAgICAgICAgICBibG9ja0lkOiBpc1NldChvYmplY3QuYmxvY2tJZClcbiAgICAgICAgICAgICAgICA/IEJsb2NrSUQuZnJvbUpTT04ob2JqZWN0LmJsb2NrSWQpXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBzaWduYXR1cmVzOiBBcnJheS5pc0FycmF5KG9iamVjdD8uc2lnbmF0dXJlcylcbiAgICAgICAgICAgICAgICA/IG9iamVjdC5zaWduYXR1cmVzLm1hcCgoZSkgPT4gQ29tbWl0U2lnLmZyb21KU09OKGUpKVxuICAgICAgICAgICAgICAgIDogW10sXG4gICAgICAgIH07XG4gICAgfSxcbiAgICB0b0pTT04obWVzc2FnZSkge1xuICAgICAgICBjb25zdCBvYmogPSB7fTtcbiAgICAgICAgbWVzc2FnZS5oZWlnaHQgIT09IHVuZGVmaW5lZCAmJiAob2JqLmhlaWdodCA9IG1lc3NhZ2UuaGVpZ2h0KTtcbiAgICAgICAgbWVzc2FnZS5yb3VuZCAhPT0gdW5kZWZpbmVkICYmIChvYmoucm91bmQgPSBNYXRoLnJvdW5kKG1lc3NhZ2Uucm91bmQpKTtcbiAgICAgICAgbWVzc2FnZS5ibG9ja0lkICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIChvYmouYmxvY2tJZCA9IG1lc3NhZ2UuYmxvY2tJZFxuICAgICAgICAgICAgICAgID8gQmxvY2tJRC50b0pTT04obWVzc2FnZS5ibG9ja0lkKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkKTtcbiAgICAgICAgaWYgKG1lc3NhZ2Uuc2lnbmF0dXJlcykge1xuICAgICAgICAgICAgb2JqLnNpZ25hdHVyZXMgPSBtZXNzYWdlLnNpZ25hdHVyZXMubWFwKChlKSA9PiBlID8gQ29tbWl0U2lnLnRvSlNPTihlKSA6IHVuZGVmaW5lZCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBvYmouc2lnbmF0dXJlcyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfSxcbiAgICBmcm9tUGFydGlhbChvYmplY3QpIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VDb21taXQoKTtcbiAgICAgICAgbWVzc2FnZS5oZWlnaHQgPSBvYmplY3QuaGVpZ2h0ID8/IFwiMFwiO1xuICAgICAgICBtZXNzYWdlLnJvdW5kID0gb2JqZWN0LnJvdW5kID8/IDA7XG4gICAgICAgIG1lc3NhZ2UuYmxvY2tJZCA9XG4gICAgICAgICAgICBvYmplY3QuYmxvY2tJZCAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5ibG9ja0lkICE9PSBudWxsXG4gICAgICAgICAgICAgICAgPyBCbG9ja0lELmZyb21QYXJ0aWFsKG9iamVjdC5ibG9ja0lkKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICBtZXNzYWdlLnNpZ25hdHVyZXMgPVxuICAgICAgICAgICAgb2JqZWN0LnNpZ25hdHVyZXM/Lm1hcCgoZSkgPT4gQ29tbWl0U2lnLmZyb21QYXJ0aWFsKGUpKSB8fCBbXTtcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfSxcbn07XG5mdW5jdGlvbiBjcmVhdGVCYXNlQ29tbWl0U2lnKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGJsb2NrSWRGbGFnOiAwLFxuICAgICAgICB2YWxpZGF0b3JBZGRyZXNzOiBuZXcgVWludDhBcnJheSgpLFxuICAgICAgICB0aW1lc3RhbXA6IHVuZGVmaW5lZCxcbiAgICAgICAgc2lnbmF0dXJlOiBuZXcgVWludDhBcnJheSgpLFxuICAgIH07XG59XG5leHBvcnQgY29uc3QgQ29tbWl0U2lnID0ge1xuICAgIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLmJsb2NrSWRGbGFnICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDgpLmludDMyKG1lc3NhZ2UuYmxvY2tJZEZsYWcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnZhbGlkYXRvckFkZHJlc3MubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDE4KS5ieXRlcyhtZXNzYWdlLnZhbGlkYXRvckFkZHJlc3MpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnRpbWVzdGFtcCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBUaW1lc3RhbXAuZW5jb2RlKG1lc3NhZ2UudGltZXN0YW1wLCB3cml0ZXIudWludDMyKDI2KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnNpZ25hdHVyZS5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMzQpLmJ5dGVzKG1lc3NhZ2Uuc2lnbmF0dXJlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH0sXG4gICAgZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUNvbW1pdFNpZygpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYmxvY2tJZEZsYWcgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnZhbGlkYXRvckFkZHJlc3MgPSByZWFkZXIuYnl0ZXMoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRpbWVzdGFtcCA9IFRpbWVzdGFtcC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc2lnbmF0dXJlID0gcmVhZGVyLmJ5dGVzKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfSxcbiAgICBmcm9tSlNPTihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGJsb2NrSWRGbGFnOiBpc1NldChvYmplY3QuYmxvY2tJZEZsYWcpXG4gICAgICAgICAgICAgICAgPyBibG9ja0lERmxhZ0Zyb21KU09OKG9iamVjdC5ibG9ja0lkRmxhZylcbiAgICAgICAgICAgICAgICA6IDAsXG4gICAgICAgICAgICB2YWxpZGF0b3JBZGRyZXNzOiBpc1NldChvYmplY3QudmFsaWRhdG9yQWRkcmVzcylcbiAgICAgICAgICAgICAgICA/IGJ5dGVzRnJvbUJhc2U2NChvYmplY3QudmFsaWRhdG9yQWRkcmVzcylcbiAgICAgICAgICAgICAgICA6IG5ldyBVaW50OEFycmF5KCksXG4gICAgICAgICAgICB0aW1lc3RhbXA6IGlzU2V0KG9iamVjdC50aW1lc3RhbXApXG4gICAgICAgICAgICAgICAgPyBmcm9tSnNvblRpbWVzdGFtcChvYmplY3QudGltZXN0YW1wKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgc2lnbmF0dXJlOiBpc1NldChvYmplY3Quc2lnbmF0dXJlKVxuICAgICAgICAgICAgICAgID8gYnl0ZXNGcm9tQmFzZTY0KG9iamVjdC5zaWduYXR1cmUpXG4gICAgICAgICAgICAgICAgOiBuZXcgVWludDhBcnJheSgpLFxuICAgICAgICB9O1xuICAgIH0sXG4gICAgdG9KU09OKG1lc3NhZ2UpIHtcbiAgICAgICAgY29uc3Qgb2JqID0ge307XG4gICAgICAgIG1lc3NhZ2UuYmxvY2tJZEZsYWcgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgKG9iai5ibG9ja0lkRmxhZyA9IGJsb2NrSURGbGFnVG9KU09OKG1lc3NhZ2UuYmxvY2tJZEZsYWcpKTtcbiAgICAgICAgbWVzc2FnZS52YWxpZGF0b3JBZGRyZXNzICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIChvYmoudmFsaWRhdG9yQWRkcmVzcyA9IGJhc2U2NEZyb21CeXRlcyhtZXNzYWdlLnZhbGlkYXRvckFkZHJlc3MgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgID8gbWVzc2FnZS52YWxpZGF0b3JBZGRyZXNzXG4gICAgICAgICAgICAgICAgOiBuZXcgVWludDhBcnJheSgpKSk7XG4gICAgICAgIG1lc3NhZ2UudGltZXN0YW1wICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIChvYmoudGltZXN0YW1wID0gZnJvbVRpbWVzdGFtcChtZXNzYWdlLnRpbWVzdGFtcCkudG9JU09TdHJpbmcoKSk7XG4gICAgICAgIG1lc3NhZ2Uuc2lnbmF0dXJlICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIChvYmouc2lnbmF0dXJlID0gYmFzZTY0RnJvbUJ5dGVzKG1lc3NhZ2Uuc2lnbmF0dXJlICE9PSB1bmRlZmluZWQgPyBtZXNzYWdlLnNpZ25hdHVyZSA6IG5ldyBVaW50OEFycmF5KCkpKTtcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9LFxuICAgIGZyb21QYXJ0aWFsKG9iamVjdCkge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUNvbW1pdFNpZygpO1xuICAgICAgICBtZXNzYWdlLmJsb2NrSWRGbGFnID0gb2JqZWN0LmJsb2NrSWRGbGFnID8/IDA7XG4gICAgICAgIG1lc3NhZ2UudmFsaWRhdG9yQWRkcmVzcyA9IG9iamVjdC52YWxpZGF0b3JBZGRyZXNzID8/IG5ldyBVaW50OEFycmF5KCk7XG4gICAgICAgIG1lc3NhZ2UudGltZXN0YW1wID1cbiAgICAgICAgICAgIG9iamVjdC50aW1lc3RhbXAgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QudGltZXN0YW1wICE9PSBudWxsXG4gICAgICAgICAgICAgICAgPyBUaW1lc3RhbXAuZnJvbVBhcnRpYWwob2JqZWN0LnRpbWVzdGFtcClcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgbWVzc2FnZS5zaWduYXR1cmUgPSBvYmplY3Quc2lnbmF0dXJlID8/IG5ldyBVaW50OEFycmF5KCk7XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG59O1xuZnVuY3Rpb24gY3JlYXRlQmFzZVByb3Bvc2FsKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IDAsXG4gICAgICAgIGhlaWdodDogXCIwXCIsXG4gICAgICAgIHJvdW5kOiAwLFxuICAgICAgICBwb2xSb3VuZDogMCxcbiAgICAgICAgYmxvY2tJZDogdW5kZWZpbmVkLFxuICAgICAgICB0aW1lc3RhbXA6IHVuZGVmaW5lZCxcbiAgICAgICAgc2lnbmF0dXJlOiBuZXcgVWludDhBcnJheSgpLFxuICAgIH07XG59XG5leHBvcnQgY29uc3QgUHJvcG9zYWwgPSB7XG4gICAgZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UudHlwZSAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig4KS5pbnQzMihtZXNzYWdlLnR5cGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmhlaWdodCAhPT0gXCIwXCIpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTYpLmludDY0KG1lc3NhZ2UuaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5yb3VuZCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyNCkuaW50MzIobWVzc2FnZS5yb3VuZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UucG9sUm91bmQgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMzIpLmludDMyKG1lc3NhZ2UucG9sUm91bmQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmJsb2NrSWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgQmxvY2tJRC5lbmNvZGUobWVzc2FnZS5ibG9ja0lkLCB3cml0ZXIudWludDMyKDQyKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnRpbWVzdGFtcCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBUaW1lc3RhbXAuZW5jb2RlKG1lc3NhZ2UudGltZXN0YW1wLCB3cml0ZXIudWludDMyKDUwKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnNpZ25hdHVyZS5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoNTgpLmJ5dGVzKG1lc3NhZ2Uuc2lnbmF0dXJlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH0sXG4gICAgZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVByb3Bvc2FsKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50eXBlID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5oZWlnaHQgPSBsb25nVG9TdHJpbmcocmVhZGVyLmludDY0KCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uucm91bmQgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnBvbFJvdW5kID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5ibG9ja0lkID0gQmxvY2tJRC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudGltZXN0YW1wID0gVGltZXN0YW1wLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zaWduYXR1cmUgPSByZWFkZXIuYnl0ZXMoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9LFxuICAgIGZyb21KU09OKG9iamVjdCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogaXNTZXQob2JqZWN0LnR5cGUpID8gc2lnbmVkTXNnVHlwZUZyb21KU09OKG9iamVjdC50eXBlKSA6IDAsXG4gICAgICAgICAgICBoZWlnaHQ6IGlzU2V0KG9iamVjdC5oZWlnaHQpID8gU3RyaW5nKG9iamVjdC5oZWlnaHQpIDogXCIwXCIsXG4gICAgICAgICAgICByb3VuZDogaXNTZXQob2JqZWN0LnJvdW5kKSA/IE51bWJlcihvYmplY3Qucm91bmQpIDogMCxcbiAgICAgICAgICAgIHBvbFJvdW5kOiBpc1NldChvYmplY3QucG9sUm91bmQpID8gTnVtYmVyKG9iamVjdC5wb2xSb3VuZCkgOiAwLFxuICAgICAgICAgICAgYmxvY2tJZDogaXNTZXQob2JqZWN0LmJsb2NrSWQpXG4gICAgICAgICAgICAgICAgPyBCbG9ja0lELmZyb21KU09OKG9iamVjdC5ibG9ja0lkKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgdGltZXN0YW1wOiBpc1NldChvYmplY3QudGltZXN0YW1wKVxuICAgICAgICAgICAgICAgID8gZnJvbUpzb25UaW1lc3RhbXAob2JqZWN0LnRpbWVzdGFtcClcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHNpZ25hdHVyZTogaXNTZXQob2JqZWN0LnNpZ25hdHVyZSlcbiAgICAgICAgICAgICAgICA/IGJ5dGVzRnJvbUJhc2U2NChvYmplY3Quc2lnbmF0dXJlKVxuICAgICAgICAgICAgICAgIDogbmV3IFVpbnQ4QXJyYXkoKSxcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIHRvSlNPTihtZXNzYWdlKSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgICAgICBtZXNzYWdlLnR5cGUgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgKG9iai50eXBlID0gc2lnbmVkTXNnVHlwZVRvSlNPTihtZXNzYWdlLnR5cGUpKTtcbiAgICAgICAgbWVzc2FnZS5oZWlnaHQgIT09IHVuZGVmaW5lZCAmJiAob2JqLmhlaWdodCA9IG1lc3NhZ2UuaGVpZ2h0KTtcbiAgICAgICAgbWVzc2FnZS5yb3VuZCAhPT0gdW5kZWZpbmVkICYmIChvYmoucm91bmQgPSBNYXRoLnJvdW5kKG1lc3NhZ2Uucm91bmQpKTtcbiAgICAgICAgbWVzc2FnZS5wb2xSb3VuZCAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAob2JqLnBvbFJvdW5kID0gTWF0aC5yb3VuZChtZXNzYWdlLnBvbFJvdW5kKSk7XG4gICAgICAgIG1lc3NhZ2UuYmxvY2tJZCAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAob2JqLmJsb2NrSWQgPSBtZXNzYWdlLmJsb2NrSWRcbiAgICAgICAgICAgICAgICA/IEJsb2NrSUQudG9KU09OKG1lc3NhZ2UuYmxvY2tJZClcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCk7XG4gICAgICAgIG1lc3NhZ2UudGltZXN0YW1wICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIChvYmoudGltZXN0YW1wID0gZnJvbVRpbWVzdGFtcChtZXNzYWdlLnRpbWVzdGFtcCkudG9JU09TdHJpbmcoKSk7XG4gICAgICAgIG1lc3NhZ2Uuc2lnbmF0dXJlICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIChvYmouc2lnbmF0dXJlID0gYmFzZTY0RnJvbUJ5dGVzKG1lc3NhZ2Uuc2lnbmF0dXJlICE9PSB1bmRlZmluZWQgPyBtZXNzYWdlLnNpZ25hdHVyZSA6IG5ldyBVaW50OEFycmF5KCkpKTtcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9LFxuICAgIGZyb21QYXJ0aWFsKG9iamVjdCkge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVByb3Bvc2FsKCk7XG4gICAgICAgIG1lc3NhZ2UudHlwZSA9IG9iamVjdC50eXBlID8/IDA7XG4gICAgICAgIG1lc3NhZ2UuaGVpZ2h0ID0gb2JqZWN0LmhlaWdodCA/PyBcIjBcIjtcbiAgICAgICAgbWVzc2FnZS5yb3VuZCA9IG9iamVjdC5yb3VuZCA/PyAwO1xuICAgICAgICBtZXNzYWdlLnBvbFJvdW5kID0gb2JqZWN0LnBvbFJvdW5kID8/IDA7XG4gICAgICAgIG1lc3NhZ2UuYmxvY2tJZCA9XG4gICAgICAgICAgICBvYmplY3QuYmxvY2tJZCAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5ibG9ja0lkICE9PSBudWxsXG4gICAgICAgICAgICAgICAgPyBCbG9ja0lELmZyb21QYXJ0aWFsKG9iamVjdC5ibG9ja0lkKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICBtZXNzYWdlLnRpbWVzdGFtcCA9XG4gICAgICAgICAgICBvYmplY3QudGltZXN0YW1wICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnRpbWVzdGFtcCAhPT0gbnVsbFxuICAgICAgICAgICAgICAgID8gVGltZXN0YW1wLmZyb21QYXJ0aWFsKG9iamVjdC50aW1lc3RhbXApXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgIG1lc3NhZ2Uuc2lnbmF0dXJlID0gb2JqZWN0LnNpZ25hdHVyZSA/PyBuZXcgVWludDhBcnJheSgpO1xuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9LFxufTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VTaWduZWRIZWFkZXIoKSB7XG4gICAgcmV0dXJuIHsgaGVhZGVyOiB1bmRlZmluZWQsIGNvbW1pdDogdW5kZWZpbmVkIH07XG59XG5leHBvcnQgY29uc3QgU2lnbmVkSGVhZGVyID0ge1xuICAgIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLmhlYWRlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBIZWFkZXIuZW5jb2RlKG1lc3NhZ2UuaGVhZGVyLCB3cml0ZXIudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmNvbW1pdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBDb21taXQuZW5jb2RlKG1lc3NhZ2UuY29tbWl0LCB3cml0ZXIudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfSxcbiAgICBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlU2lnbmVkSGVhZGVyKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5oZWFkZXIgPSBIZWFkZXIuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmNvbW1pdCA9IENvbW1pdC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG4gICAgZnJvbUpTT04ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBoZWFkZXI6IGlzU2V0KG9iamVjdC5oZWFkZXIpID8gSGVhZGVyLmZyb21KU09OKG9iamVjdC5oZWFkZXIpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgY29tbWl0OiBpc1NldChvYmplY3QuY29tbWl0KSA/IENvbW1pdC5mcm9tSlNPTihvYmplY3QuY29tbWl0KSA6IHVuZGVmaW5lZCxcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIHRvSlNPTihtZXNzYWdlKSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgICAgICBtZXNzYWdlLmhlYWRlciAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAob2JqLmhlYWRlciA9IG1lc3NhZ2UuaGVhZGVyID8gSGVhZGVyLnRvSlNPTihtZXNzYWdlLmhlYWRlcikgOiB1bmRlZmluZWQpO1xuICAgICAgICBtZXNzYWdlLmNvbW1pdCAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAob2JqLmNvbW1pdCA9IG1lc3NhZ2UuY29tbWl0ID8gQ29tbWl0LnRvSlNPTihtZXNzYWdlLmNvbW1pdCkgOiB1bmRlZmluZWQpO1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH0sXG4gICAgZnJvbVBhcnRpYWwob2JqZWN0KSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlU2lnbmVkSGVhZGVyKCk7XG4gICAgICAgIG1lc3NhZ2UuaGVhZGVyID1cbiAgICAgICAgICAgIG9iamVjdC5oZWFkZXIgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QuaGVhZGVyICE9PSBudWxsXG4gICAgICAgICAgICAgICAgPyBIZWFkZXIuZnJvbVBhcnRpYWwob2JqZWN0LmhlYWRlcilcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgbWVzc2FnZS5jb21taXQgPVxuICAgICAgICAgICAgb2JqZWN0LmNvbW1pdCAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5jb21taXQgIT09IG51bGxcbiAgICAgICAgICAgICAgICA/IENvbW1pdC5mcm9tUGFydGlhbChvYmplY3QuY29tbWl0KVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9LFxufTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VMaWdodEJsb2NrKCkge1xuICAgIHJldHVybiB7IHNpZ25lZEhlYWRlcjogdW5kZWZpbmVkLCB2YWxpZGF0b3JTZXQ6IHVuZGVmaW5lZCB9O1xufVxuZXhwb3J0IGNvbnN0IExpZ2h0QmxvY2sgPSB7XG4gICAgZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2Uuc2lnbmVkSGVhZGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIFNpZ25lZEhlYWRlci5lbmNvZGUobWVzc2FnZS5zaWduZWRIZWFkZXIsIHdyaXRlci51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UudmFsaWRhdG9yU2V0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIFZhbGlkYXRvclNldC5lbmNvZGUobWVzc2FnZS52YWxpZGF0b3JTZXQsIHdyaXRlci51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9LFxuICAgIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VMaWdodEJsb2NrKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zaWduZWRIZWFkZXIgPSBTaWduZWRIZWFkZXIuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnZhbGlkYXRvclNldCA9IFZhbGlkYXRvclNldC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG4gICAgZnJvbUpTT04ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzaWduZWRIZWFkZXI6IGlzU2V0KG9iamVjdC5zaWduZWRIZWFkZXIpXG4gICAgICAgICAgICAgICAgPyBTaWduZWRIZWFkZXIuZnJvbUpTT04ob2JqZWN0LnNpZ25lZEhlYWRlcilcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHZhbGlkYXRvclNldDogaXNTZXQob2JqZWN0LnZhbGlkYXRvclNldClcbiAgICAgICAgICAgICAgICA/IFZhbGlkYXRvclNldC5mcm9tSlNPTihvYmplY3QudmFsaWRhdG9yU2V0KVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICB9O1xuICAgIH0sXG4gICAgdG9KU09OKG1lc3NhZ2UpIHtcbiAgICAgICAgY29uc3Qgb2JqID0ge307XG4gICAgICAgIG1lc3NhZ2Uuc2lnbmVkSGVhZGVyICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIChvYmouc2lnbmVkSGVhZGVyID0gbWVzc2FnZS5zaWduZWRIZWFkZXJcbiAgICAgICAgICAgICAgICA/IFNpZ25lZEhlYWRlci50b0pTT04obWVzc2FnZS5zaWduZWRIZWFkZXIpXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQpO1xuICAgICAgICBtZXNzYWdlLnZhbGlkYXRvclNldCAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAob2JqLnZhbGlkYXRvclNldCA9IG1lc3NhZ2UudmFsaWRhdG9yU2V0XG4gICAgICAgICAgICAgICAgPyBWYWxpZGF0b3JTZXQudG9KU09OKG1lc3NhZ2UudmFsaWRhdG9yU2V0KVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkKTtcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9LFxuICAgIGZyb21QYXJ0aWFsKG9iamVjdCkge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUxpZ2h0QmxvY2soKTtcbiAgICAgICAgbWVzc2FnZS5zaWduZWRIZWFkZXIgPVxuICAgICAgICAgICAgb2JqZWN0LnNpZ25lZEhlYWRlciAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5zaWduZWRIZWFkZXIgIT09IG51bGxcbiAgICAgICAgICAgICAgICA/IFNpZ25lZEhlYWRlci5mcm9tUGFydGlhbChvYmplY3Quc2lnbmVkSGVhZGVyKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICBtZXNzYWdlLnZhbGlkYXRvclNldCA9XG4gICAgICAgICAgICBvYmplY3QudmFsaWRhdG9yU2V0ICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnZhbGlkYXRvclNldCAhPT0gbnVsbFxuICAgICAgICAgICAgICAgID8gVmFsaWRhdG9yU2V0LmZyb21QYXJ0aWFsKG9iamVjdC52YWxpZGF0b3JTZXQpXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG59O1xuZnVuY3Rpb24gY3JlYXRlQmFzZUJsb2NrTWV0YSgpIHtcbiAgICByZXR1cm4geyBibG9ja0lkOiB1bmRlZmluZWQsIGJsb2NrU2l6ZTogXCIwXCIsIGhlYWRlcjogdW5kZWZpbmVkLCBudW1UeHM6IFwiMFwiIH07XG59XG5leHBvcnQgY29uc3QgQmxvY2tNZXRhID0ge1xuICAgIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLmJsb2NrSWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgQmxvY2tJRC5lbmNvZGUobWVzc2FnZS5ibG9ja0lkLCB3cml0ZXIudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmJsb2NrU2l6ZSAhPT0gXCIwXCIpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTYpLmludDY0KG1lc3NhZ2UuYmxvY2tTaXplKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5oZWFkZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgSGVhZGVyLmVuY29kZShtZXNzYWdlLmhlYWRlciwgd3JpdGVyLnVpbnQzMigyNikuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5udW1UeHMgIT09IFwiMFwiKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDMyKS5pbnQ2NChtZXNzYWdlLm51bVR4cyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9LFxuICAgIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VCbG9ja01ldGEoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmJsb2NrSWQgPSBCbG9ja0lELmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5ibG9ja1NpemUgPSBsb25nVG9TdHJpbmcocmVhZGVyLmludDY0KCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuaGVhZGVyID0gSGVhZGVyLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5udW1UeHMgPSBsb25nVG9TdHJpbmcocmVhZGVyLmludDY0KCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG4gICAgZnJvbUpTT04ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBibG9ja0lkOiBpc1NldChvYmplY3QuYmxvY2tJZClcbiAgICAgICAgICAgICAgICA/IEJsb2NrSUQuZnJvbUpTT04ob2JqZWN0LmJsb2NrSWQpXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBibG9ja1NpemU6IGlzU2V0KG9iamVjdC5ibG9ja1NpemUpID8gU3RyaW5nKG9iamVjdC5ibG9ja1NpemUpIDogXCIwXCIsXG4gICAgICAgICAgICBoZWFkZXI6IGlzU2V0KG9iamVjdC5oZWFkZXIpID8gSGVhZGVyLmZyb21KU09OKG9iamVjdC5oZWFkZXIpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgbnVtVHhzOiBpc1NldChvYmplY3QubnVtVHhzKSA/IFN0cmluZyhvYmplY3QubnVtVHhzKSA6IFwiMFwiLFxuICAgICAgICB9O1xuICAgIH0sXG4gICAgdG9KU09OKG1lc3NhZ2UpIHtcbiAgICAgICAgY29uc3Qgb2JqID0ge307XG4gICAgICAgIG1lc3NhZ2UuYmxvY2tJZCAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAob2JqLmJsb2NrSWQgPSBtZXNzYWdlLmJsb2NrSWRcbiAgICAgICAgICAgICAgICA/IEJsb2NrSUQudG9KU09OKG1lc3NhZ2UuYmxvY2tJZClcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCk7XG4gICAgICAgIG1lc3NhZ2UuYmxvY2tTaXplICE9PSB1bmRlZmluZWQgJiYgKG9iai5ibG9ja1NpemUgPSBtZXNzYWdlLmJsb2NrU2l6ZSk7XG4gICAgICAgIG1lc3NhZ2UuaGVhZGVyICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIChvYmouaGVhZGVyID0gbWVzc2FnZS5oZWFkZXIgPyBIZWFkZXIudG9KU09OKG1lc3NhZ2UuaGVhZGVyKSA6IHVuZGVmaW5lZCk7XG4gICAgICAgIG1lc3NhZ2UubnVtVHhzICE9PSB1bmRlZmluZWQgJiYgKG9iai5udW1UeHMgPSBtZXNzYWdlLm51bVR4cyk7XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfSxcbiAgICBmcm9tUGFydGlhbChvYmplY3QpIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VCbG9ja01ldGEoKTtcbiAgICAgICAgbWVzc2FnZS5ibG9ja0lkID1cbiAgICAgICAgICAgIG9iamVjdC5ibG9ja0lkICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LmJsb2NrSWQgIT09IG51bGxcbiAgICAgICAgICAgICAgICA/IEJsb2NrSUQuZnJvbVBhcnRpYWwob2JqZWN0LmJsb2NrSWQpXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgIG1lc3NhZ2UuYmxvY2tTaXplID0gb2JqZWN0LmJsb2NrU2l6ZSA/PyBcIjBcIjtcbiAgICAgICAgbWVzc2FnZS5oZWFkZXIgPVxuICAgICAgICAgICAgb2JqZWN0LmhlYWRlciAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5oZWFkZXIgIT09IG51bGxcbiAgICAgICAgICAgICAgICA/IEhlYWRlci5mcm9tUGFydGlhbChvYmplY3QuaGVhZGVyKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICBtZXNzYWdlLm51bVR4cyA9IG9iamVjdC5udW1UeHMgPz8gXCIwXCI7XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG59O1xuZnVuY3Rpb24gY3JlYXRlQmFzZVR4UHJvb2YoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcm9vdEhhc2g6IG5ldyBVaW50OEFycmF5KCksXG4gICAgICAgIGRhdGE6IG5ldyBVaW50OEFycmF5KCksXG4gICAgICAgIHByb29mOiB1bmRlZmluZWQsXG4gICAgfTtcbn1cbmV4cG9ydCBjb25zdCBUeFByb29mID0ge1xuICAgIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLnJvb3RIYXNoLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxMCkuYnl0ZXMobWVzc2FnZS5yb290SGFzaCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuZGF0YS5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTgpLmJ5dGVzKG1lc3NhZ2UuZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UucHJvb2YgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgUHJvb2YuZW5jb2RlKG1lc3NhZ2UucHJvb2YsIHdyaXRlci51aW50MzIoMjYpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9LFxuICAgIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VUeFByb29mKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5yb290SGFzaCA9IHJlYWRlci5ieXRlcygpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZGF0YSA9IHJlYWRlci5ieXRlcygpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucHJvb2YgPSBQcm9vZi5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG4gICAgZnJvbUpTT04ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByb290SGFzaDogaXNTZXQob2JqZWN0LnJvb3RIYXNoKVxuICAgICAgICAgICAgICAgID8gYnl0ZXNGcm9tQmFzZTY0KG9iamVjdC5yb290SGFzaClcbiAgICAgICAgICAgICAgICA6IG5ldyBVaW50OEFycmF5KCksXG4gICAgICAgICAgICBkYXRhOiBpc1NldChvYmplY3QuZGF0YSlcbiAgICAgICAgICAgICAgICA/IGJ5dGVzRnJvbUJhc2U2NChvYmplY3QuZGF0YSlcbiAgICAgICAgICAgICAgICA6IG5ldyBVaW50OEFycmF5KCksXG4gICAgICAgICAgICBwcm9vZjogaXNTZXQob2JqZWN0LnByb29mKSA/IFByb29mLmZyb21KU09OKG9iamVjdC5wcm9vZikgOiB1bmRlZmluZWQsXG4gICAgICAgIH07XG4gICAgfSxcbiAgICB0b0pTT04obWVzc2FnZSkge1xuICAgICAgICBjb25zdCBvYmogPSB7fTtcbiAgICAgICAgbWVzc2FnZS5yb290SGFzaCAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAob2JqLnJvb3RIYXNoID0gYmFzZTY0RnJvbUJ5dGVzKG1lc3NhZ2Uucm9vdEhhc2ggIT09IHVuZGVmaW5lZCA/IG1lc3NhZ2Uucm9vdEhhc2ggOiBuZXcgVWludDhBcnJheSgpKSk7XG4gICAgICAgIG1lc3NhZ2UuZGF0YSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAob2JqLmRhdGEgPSBiYXNlNjRGcm9tQnl0ZXMobWVzc2FnZS5kYXRhICE9PSB1bmRlZmluZWQgPyBtZXNzYWdlLmRhdGEgOiBuZXcgVWludDhBcnJheSgpKSk7XG4gICAgICAgIG1lc3NhZ2UucHJvb2YgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgKG9iai5wcm9vZiA9IG1lc3NhZ2UucHJvb2YgPyBQcm9vZi50b0pTT04obWVzc2FnZS5wcm9vZikgOiB1bmRlZmluZWQpO1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH0sXG4gICAgZnJvbVBhcnRpYWwob2JqZWN0KSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlVHhQcm9vZigpO1xuICAgICAgICBtZXNzYWdlLnJvb3RIYXNoID0gb2JqZWN0LnJvb3RIYXNoID8/IG5ldyBVaW50OEFycmF5KCk7XG4gICAgICAgIG1lc3NhZ2UuZGF0YSA9IG9iamVjdC5kYXRhID8/IG5ldyBVaW50OEFycmF5KCk7XG4gICAgICAgIG1lc3NhZ2UucHJvb2YgPVxuICAgICAgICAgICAgb2JqZWN0LnByb29mICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnByb29mICE9PSBudWxsXG4gICAgICAgICAgICAgICAgPyBQcm9vZi5mcm9tUGFydGlhbChvYmplY3QucHJvb2YpXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG59O1xudmFyIGdsb2JhbFRoaXMgPSAoKCkgPT4ge1xuICAgIGlmICh0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gXCJ1bmRlZmluZWRcIilcbiAgICAgICAgcmV0dXJuIGdsb2JhbFRoaXM7XG4gICAgaWYgKHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiKVxuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIilcbiAgICAgICAgcmV0dXJuIHdpbmRvdztcbiAgICBpZiAodHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIilcbiAgICAgICAgcmV0dXJuIGdsb2JhbDtcbiAgICB0aHJvdyBcIlVuYWJsZSB0byBsb2NhdGUgZ2xvYmFsIG9iamVjdFwiO1xufSkoKTtcbmNvbnN0IGF0b2IgPSBnbG9iYWxUaGlzLmF0b2IgfHxcbiAgICAoKGI2NCkgPT4gZ2xvYmFsVGhpcy5CdWZmZXIuZnJvbShiNjQsIFwiYmFzZTY0XCIpLnRvU3RyaW5nKFwiYmluYXJ5XCIpKTtcbmZ1bmN0aW9uIGJ5dGVzRnJvbUJhc2U2NChiNjQpIHtcbiAgICBjb25zdCBiaW4gPSBhdG9iKGI2NCk7XG4gICAgY29uc3QgYXJyID0gbmV3IFVpbnQ4QXJyYXkoYmluLmxlbmd0aCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBiaW4ubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgYXJyW2ldID0gYmluLmNoYXJDb2RlQXQoaSk7XG4gICAgfVxuICAgIHJldHVybiBhcnI7XG59XG5jb25zdCBidG9hID0gZ2xvYmFsVGhpcy5idG9hIHx8XG4gICAgKChiaW4pID0+IGdsb2JhbFRoaXMuQnVmZmVyLmZyb20oYmluLCBcImJpbmFyeVwiKS50b1N0cmluZyhcImJhc2U2NFwiKSk7XG5mdW5jdGlvbiBiYXNlNjRGcm9tQnl0ZXMoYXJyKSB7XG4gICAgY29uc3QgYmluID0gW107XG4gICAgYXJyLmZvckVhY2goKGJ5dGUpID0+IHtcbiAgICAgICAgYmluLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZShieXRlKSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGJ0b2EoYmluLmpvaW4oXCJcIikpO1xufVxuZnVuY3Rpb24gdG9UaW1lc3RhbXAoZGF0ZSkge1xuICAgIGNvbnN0IHNlY29uZHMgPSBNYXRoLnRydW5jKGRhdGUuZ2V0VGltZSgpIC8gMTAwMCkudG9TdHJpbmcoKTtcbiAgICBjb25zdCBuYW5vcyA9IChkYXRlLmdldFRpbWUoKSAlIDEwMDApICogMTAwMDAwMDtcbiAgICByZXR1cm4geyBzZWNvbmRzLCBuYW5vcyB9O1xufVxuZnVuY3Rpb24gZnJvbVRpbWVzdGFtcCh0KSB7XG4gICAgbGV0IG1pbGxpcyA9IE51bWJlcih0LnNlY29uZHMpICogMTAwMDtcbiAgICBtaWxsaXMgKz0gdC5uYW5vcyAvIDEwMDAwMDA7XG4gICAgcmV0dXJuIG5ldyBEYXRlKG1pbGxpcyk7XG59XG5mdW5jdGlvbiBmcm9tSnNvblRpbWVzdGFtcChvKSB7XG4gICAgaWYgKG8gaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgICAgIHJldHVybiB0b1RpbWVzdGFtcChvKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgcmV0dXJuIHRvVGltZXN0YW1wKG5ldyBEYXRlKG8pKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBUaW1lc3RhbXAuZnJvbUpTT04obyk7XG4gICAgfVxufVxuZnVuY3Rpb24gbG9uZ1RvU3RyaW5nKGxvbmcpIHtcbiAgICByZXR1cm4gbG9uZy50b1N0cmluZygpO1xufVxuaWYgKF9tMC51dGlsLkxvbmcgIT09IExvbmcpIHtcbiAgICBfbTAudXRpbC5Mb25nID0gTG9uZztcbiAgICBfbTAuY29uZmlndXJlKCk7XG59XG5mdW5jdGlvbiBpc1NldCh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gdW5kZWZpbmVkO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dHlwZXMuanMubWFwIiwiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCBMb25nIGZyb20gXCJsb25nXCI7XG5pbXBvcnQgKiBhcyBfbTAgZnJvbSBcInByb3RvYnVmanMvbWluaW1hbFwiO1xuZXhwb3J0IGNvbnN0IHByb3RvYnVmUGFja2FnZSA9IFwiZ29vZ2xlLnByb3RvYnVmXCI7XG5mdW5jdGlvbiBjcmVhdGVCYXNlRHVyYXRpb24oKSB7XG4gICAgcmV0dXJuIHsgc2Vjb25kczogXCIwXCIsIG5hbm9zOiAwIH07XG59XG5leHBvcnQgY29uc3QgRHVyYXRpb24gPSB7XG4gICAgZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2Uuc2Vjb25kcyAhPT0gXCIwXCIpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoOCkuaW50NjQobWVzc2FnZS5zZWNvbmRzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5uYW5vcyAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxNikuaW50MzIobWVzc2FnZS5uYW5vcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9LFxuICAgIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VEdXJhdGlvbigpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc2Vjb25kcyA9IGxvbmdUb1N0cmluZyhyZWFkZXIuaW50NjQoKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5uYW5vcyA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG4gICAgZnJvbUpTT04ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzZWNvbmRzOiBpc1NldChvYmplY3Quc2Vjb25kcykgPyBTdHJpbmcob2JqZWN0LnNlY29uZHMpIDogXCIwXCIsXG4gICAgICAgICAgICBuYW5vczogaXNTZXQob2JqZWN0Lm5hbm9zKSA/IE51bWJlcihvYmplY3QubmFub3MpIDogMCxcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIHRvSlNPTihtZXNzYWdlKSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgICAgICBtZXNzYWdlLnNlY29uZHMgIT09IHVuZGVmaW5lZCAmJiAob2JqLnNlY29uZHMgPSBtZXNzYWdlLnNlY29uZHMpO1xuICAgICAgICBtZXNzYWdlLm5hbm9zICE9PSB1bmRlZmluZWQgJiYgKG9iai5uYW5vcyA9IE1hdGgucm91bmQobWVzc2FnZS5uYW5vcykpO1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH0sXG4gICAgZnJvbVBhcnRpYWwob2JqZWN0KSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlRHVyYXRpb24oKTtcbiAgICAgICAgbWVzc2FnZS5zZWNvbmRzID0gb2JqZWN0LnNlY29uZHMgPz8gXCIwXCI7XG4gICAgICAgIG1lc3NhZ2UubmFub3MgPSBvYmplY3QubmFub3MgPz8gMDtcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfSxcbn07XG5mdW5jdGlvbiBsb25nVG9TdHJpbmcobG9uZykge1xuICAgIHJldHVybiBsb25nLnRvU3RyaW5nKCk7XG59XG5pZiAoX20wLnV0aWwuTG9uZyAhPT0gTG9uZykge1xuICAgIF9tMC51dGlsLkxvbmcgPSBMb25nO1xuICAgIF9tMC5jb25maWd1cmUoKTtcbn1cbmZ1bmN0aW9uIGlzU2V0KHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlICE9PSBudWxsICYmIHZhbHVlICE9PSB1bmRlZmluZWQ7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kdXJhdGlvbi5qcy5tYXAiLCIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuaW1wb3J0IHsgRHVyYXRpb24gfSBmcm9tIFwiLi4vLi4vZ29vZ2xlL3Byb3RvYnVmL2R1cmF0aW9uXCI7XG5pbXBvcnQgTG9uZyBmcm9tIFwibG9uZ1wiO1xuaW1wb3J0ICogYXMgX20wIGZyb20gXCJwcm90b2J1ZmpzL21pbmltYWxcIjtcbmV4cG9ydCBjb25zdCBwcm90b2J1ZlBhY2thZ2UgPSBcInRlbmRlcm1pbnQudHlwZXNcIjtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VDb25zZW5zdXNQYXJhbXMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgYmxvY2s6IHVuZGVmaW5lZCxcbiAgICAgICAgZXZpZGVuY2U6IHVuZGVmaW5lZCxcbiAgICAgICAgdmFsaWRhdG9yOiB1bmRlZmluZWQsXG4gICAgICAgIHZlcnNpb246IHVuZGVmaW5lZCxcbiAgICB9O1xufVxuZXhwb3J0IGNvbnN0IENvbnNlbnN1c1BhcmFtcyA9IHtcbiAgICBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS5ibG9jayAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBCbG9ja1BhcmFtcy5lbmNvZGUobWVzc2FnZS5ibG9jaywgd3JpdGVyLnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5ldmlkZW5jZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBFdmlkZW5jZVBhcmFtcy5lbmNvZGUobWVzc2FnZS5ldmlkZW5jZSwgd3JpdGVyLnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS52YWxpZGF0b3IgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgVmFsaWRhdG9yUGFyYW1zLmVuY29kZShtZXNzYWdlLnZhbGlkYXRvciwgd3JpdGVyLnVpbnQzMigyNikuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS52ZXJzaW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIFZlcnNpb25QYXJhbXMuZW5jb2RlKG1lc3NhZ2UudmVyc2lvbiwgd3JpdGVyLnVpbnQzMigzNCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH0sXG4gICAgZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUNvbnNlbnN1c1BhcmFtcygpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYmxvY2sgPSBCbG9ja1BhcmFtcy5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZXZpZGVuY2UgPSBFdmlkZW5jZVBhcmFtcy5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudmFsaWRhdG9yID0gVmFsaWRhdG9yUGFyYW1zLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS52ZXJzaW9uID0gVmVyc2lvblBhcmFtcy5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG4gICAgZnJvbUpTT04ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBibG9jazogaXNTZXQob2JqZWN0LmJsb2NrKVxuICAgICAgICAgICAgICAgID8gQmxvY2tQYXJhbXMuZnJvbUpTT04ob2JqZWN0LmJsb2NrKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgZXZpZGVuY2U6IGlzU2V0KG9iamVjdC5ldmlkZW5jZSlcbiAgICAgICAgICAgICAgICA/IEV2aWRlbmNlUGFyYW1zLmZyb21KU09OKG9iamVjdC5ldmlkZW5jZSlcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHZhbGlkYXRvcjogaXNTZXQob2JqZWN0LnZhbGlkYXRvcilcbiAgICAgICAgICAgICAgICA/IFZhbGlkYXRvclBhcmFtcy5mcm9tSlNPTihvYmplY3QudmFsaWRhdG9yKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgdmVyc2lvbjogaXNTZXQob2JqZWN0LnZlcnNpb24pXG4gICAgICAgICAgICAgICAgPyBWZXJzaW9uUGFyYW1zLmZyb21KU09OKG9iamVjdC52ZXJzaW9uKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICB9O1xuICAgIH0sXG4gICAgdG9KU09OKG1lc3NhZ2UpIHtcbiAgICAgICAgY29uc3Qgb2JqID0ge307XG4gICAgICAgIG1lc3NhZ2UuYmxvY2sgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgKG9iai5ibG9jayA9IG1lc3NhZ2UuYmxvY2tcbiAgICAgICAgICAgICAgICA/IEJsb2NrUGFyYW1zLnRvSlNPTihtZXNzYWdlLmJsb2NrKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkKTtcbiAgICAgICAgbWVzc2FnZS5ldmlkZW5jZSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAob2JqLmV2aWRlbmNlID0gbWVzc2FnZS5ldmlkZW5jZVxuICAgICAgICAgICAgICAgID8gRXZpZGVuY2VQYXJhbXMudG9KU09OKG1lc3NhZ2UuZXZpZGVuY2UpXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQpO1xuICAgICAgICBtZXNzYWdlLnZhbGlkYXRvciAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAob2JqLnZhbGlkYXRvciA9IG1lc3NhZ2UudmFsaWRhdG9yXG4gICAgICAgICAgICAgICAgPyBWYWxpZGF0b3JQYXJhbXMudG9KU09OKG1lc3NhZ2UudmFsaWRhdG9yKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkKTtcbiAgICAgICAgbWVzc2FnZS52ZXJzaW9uICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIChvYmoudmVyc2lvbiA9IG1lc3NhZ2UudmVyc2lvblxuICAgICAgICAgICAgICAgID8gVmVyc2lvblBhcmFtcy50b0pTT04obWVzc2FnZS52ZXJzaW9uKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkKTtcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9LFxuICAgIGZyb21QYXJ0aWFsKG9iamVjdCkge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUNvbnNlbnN1c1BhcmFtcygpO1xuICAgICAgICBtZXNzYWdlLmJsb2NrID1cbiAgICAgICAgICAgIG9iamVjdC5ibG9jayAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5ibG9jayAhPT0gbnVsbFxuICAgICAgICAgICAgICAgID8gQmxvY2tQYXJhbXMuZnJvbVBhcnRpYWwob2JqZWN0LmJsb2NrKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICBtZXNzYWdlLmV2aWRlbmNlID1cbiAgICAgICAgICAgIG9iamVjdC5ldmlkZW5jZSAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5ldmlkZW5jZSAhPT0gbnVsbFxuICAgICAgICAgICAgICAgID8gRXZpZGVuY2VQYXJhbXMuZnJvbVBhcnRpYWwob2JqZWN0LmV2aWRlbmNlKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICBtZXNzYWdlLnZhbGlkYXRvciA9XG4gICAgICAgICAgICBvYmplY3QudmFsaWRhdG9yICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnZhbGlkYXRvciAhPT0gbnVsbFxuICAgICAgICAgICAgICAgID8gVmFsaWRhdG9yUGFyYW1zLmZyb21QYXJ0aWFsKG9iamVjdC52YWxpZGF0b3IpXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgIG1lc3NhZ2UudmVyc2lvbiA9XG4gICAgICAgICAgICBvYmplY3QudmVyc2lvbiAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC52ZXJzaW9uICE9PSBudWxsXG4gICAgICAgICAgICAgICAgPyBWZXJzaW9uUGFyYW1zLmZyb21QYXJ0aWFsKG9iamVjdC52ZXJzaW9uKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9LFxufTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VCbG9ja1BhcmFtcygpIHtcbiAgICByZXR1cm4geyBtYXhCeXRlczogXCIwXCIsIG1heEdhczogXCIwXCIsIHRpbWVJb3RhTXM6IFwiMFwiIH07XG59XG5leHBvcnQgY29uc3QgQmxvY2tQYXJhbXMgPSB7XG4gICAgZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UubWF4Qnl0ZXMgIT09IFwiMFwiKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDgpLmludDY0KG1lc3NhZ2UubWF4Qnl0ZXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLm1heEdhcyAhPT0gXCIwXCIpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTYpLmludDY0KG1lc3NhZ2UubWF4R2FzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS50aW1lSW90YU1zICE9PSBcIjBcIikge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyNCkuaW50NjQobWVzc2FnZS50aW1lSW90YU1zKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH0sXG4gICAgZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUJsb2NrUGFyYW1zKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5tYXhCeXRlcyA9IGxvbmdUb1N0cmluZyhyZWFkZXIuaW50NjQoKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5tYXhHYXMgPSBsb25nVG9TdHJpbmcocmVhZGVyLmludDY0KCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudGltZUlvdGFNcyA9IGxvbmdUb1N0cmluZyhyZWFkZXIuaW50NjQoKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfSxcbiAgICBmcm9tSlNPTihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1heEJ5dGVzOiBpc1NldChvYmplY3QubWF4Qnl0ZXMpID8gU3RyaW5nKG9iamVjdC5tYXhCeXRlcykgOiBcIjBcIixcbiAgICAgICAgICAgIG1heEdhczogaXNTZXQob2JqZWN0Lm1heEdhcykgPyBTdHJpbmcob2JqZWN0Lm1heEdhcykgOiBcIjBcIixcbiAgICAgICAgICAgIHRpbWVJb3RhTXM6IGlzU2V0KG9iamVjdC50aW1lSW90YU1zKSA/IFN0cmluZyhvYmplY3QudGltZUlvdGFNcykgOiBcIjBcIixcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIHRvSlNPTihtZXNzYWdlKSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgICAgICBtZXNzYWdlLm1heEJ5dGVzICE9PSB1bmRlZmluZWQgJiYgKG9iai5tYXhCeXRlcyA9IG1lc3NhZ2UubWF4Qnl0ZXMpO1xuICAgICAgICBtZXNzYWdlLm1heEdhcyAhPT0gdW5kZWZpbmVkICYmIChvYmoubWF4R2FzID0gbWVzc2FnZS5tYXhHYXMpO1xuICAgICAgICBtZXNzYWdlLnRpbWVJb3RhTXMgIT09IHVuZGVmaW5lZCAmJiAob2JqLnRpbWVJb3RhTXMgPSBtZXNzYWdlLnRpbWVJb3RhTXMpO1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH0sXG4gICAgZnJvbVBhcnRpYWwob2JqZWN0KSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlQmxvY2tQYXJhbXMoKTtcbiAgICAgICAgbWVzc2FnZS5tYXhCeXRlcyA9IG9iamVjdC5tYXhCeXRlcyA/PyBcIjBcIjtcbiAgICAgICAgbWVzc2FnZS5tYXhHYXMgPSBvYmplY3QubWF4R2FzID8/IFwiMFwiO1xuICAgICAgICBtZXNzYWdlLnRpbWVJb3RhTXMgPSBvYmplY3QudGltZUlvdGFNcyA/PyBcIjBcIjtcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfSxcbn07XG5mdW5jdGlvbiBjcmVhdGVCYXNlRXZpZGVuY2VQYXJhbXMoKSB7XG4gICAgcmV0dXJuIHsgbWF4QWdlTnVtQmxvY2tzOiBcIjBcIiwgbWF4QWdlRHVyYXRpb246IHVuZGVmaW5lZCwgbWF4Qnl0ZXM6IFwiMFwiIH07XG59XG5leHBvcnQgY29uc3QgRXZpZGVuY2VQYXJhbXMgPSB7XG4gICAgZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UubWF4QWdlTnVtQmxvY2tzICE9PSBcIjBcIikge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig4KS5pbnQ2NChtZXNzYWdlLm1heEFnZU51bUJsb2Nrcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UubWF4QWdlRHVyYXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgRHVyYXRpb24uZW5jb2RlKG1lc3NhZ2UubWF4QWdlRHVyYXRpb24sIHdyaXRlci51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UubWF4Qnl0ZXMgIT09IFwiMFwiKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDI0KS5pbnQ2NChtZXNzYWdlLm1heEJ5dGVzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH0sXG4gICAgZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUV2aWRlbmNlUGFyYW1zKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5tYXhBZ2VOdW1CbG9ja3MgPSBsb25nVG9TdHJpbmcocmVhZGVyLmludDY0KCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubWF4QWdlRHVyYXRpb24gPSBEdXJhdGlvbi5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubWF4Qnl0ZXMgPSBsb25nVG9TdHJpbmcocmVhZGVyLmludDY0KCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG4gICAgZnJvbUpTT04ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtYXhBZ2VOdW1CbG9ja3M6IGlzU2V0KG9iamVjdC5tYXhBZ2VOdW1CbG9ja3MpXG4gICAgICAgICAgICAgICAgPyBTdHJpbmcob2JqZWN0Lm1heEFnZU51bUJsb2NrcylcbiAgICAgICAgICAgICAgICA6IFwiMFwiLFxuICAgICAgICAgICAgbWF4QWdlRHVyYXRpb246IGlzU2V0KG9iamVjdC5tYXhBZ2VEdXJhdGlvbilcbiAgICAgICAgICAgICAgICA/IER1cmF0aW9uLmZyb21KU09OKG9iamVjdC5tYXhBZ2VEdXJhdGlvbilcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIG1heEJ5dGVzOiBpc1NldChvYmplY3QubWF4Qnl0ZXMpID8gU3RyaW5nKG9iamVjdC5tYXhCeXRlcykgOiBcIjBcIixcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIHRvSlNPTihtZXNzYWdlKSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgICAgICBtZXNzYWdlLm1heEFnZU51bUJsb2NrcyAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAob2JqLm1heEFnZU51bUJsb2NrcyA9IG1lc3NhZ2UubWF4QWdlTnVtQmxvY2tzKTtcbiAgICAgICAgbWVzc2FnZS5tYXhBZ2VEdXJhdGlvbiAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAob2JqLm1heEFnZUR1cmF0aW9uID0gbWVzc2FnZS5tYXhBZ2VEdXJhdGlvblxuICAgICAgICAgICAgICAgID8gRHVyYXRpb24udG9KU09OKG1lc3NhZ2UubWF4QWdlRHVyYXRpb24pXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQpO1xuICAgICAgICBtZXNzYWdlLm1heEJ5dGVzICE9PSB1bmRlZmluZWQgJiYgKG9iai5tYXhCeXRlcyA9IG1lc3NhZ2UubWF4Qnl0ZXMpO1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH0sXG4gICAgZnJvbVBhcnRpYWwob2JqZWN0KSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlRXZpZGVuY2VQYXJhbXMoKTtcbiAgICAgICAgbWVzc2FnZS5tYXhBZ2VOdW1CbG9ja3MgPSBvYmplY3QubWF4QWdlTnVtQmxvY2tzID8/IFwiMFwiO1xuICAgICAgICBtZXNzYWdlLm1heEFnZUR1cmF0aW9uID1cbiAgICAgICAgICAgIG9iamVjdC5tYXhBZ2VEdXJhdGlvbiAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5tYXhBZ2VEdXJhdGlvbiAhPT0gbnVsbFxuICAgICAgICAgICAgICAgID8gRHVyYXRpb24uZnJvbVBhcnRpYWwob2JqZWN0Lm1heEFnZUR1cmF0aW9uKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICBtZXNzYWdlLm1heEJ5dGVzID0gb2JqZWN0Lm1heEJ5dGVzID8/IFwiMFwiO1xuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9LFxufTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VWYWxpZGF0b3JQYXJhbXMoKSB7XG4gICAgcmV0dXJuIHsgcHViS2V5VHlwZXM6IFtdIH07XG59XG5leHBvcnQgY29uc3QgVmFsaWRhdG9yUGFyYW1zID0ge1xuICAgIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGZvciAoY29uc3QgdiBvZiBtZXNzYWdlLnB1YktleVR5cGVzKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDEwKS5zdHJpbmcodik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9LFxuICAgIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VWYWxpZGF0b3JQYXJhbXMoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnB1YktleVR5cGVzLnB1c2gocmVhZGVyLnN0cmluZygpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9LFxuICAgIGZyb21KU09OKG9iamVjdCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcHViS2V5VHlwZXM6IEFycmF5LmlzQXJyYXkob2JqZWN0Py5wdWJLZXlUeXBlcylcbiAgICAgICAgICAgICAgICA/IG9iamVjdC5wdWJLZXlUeXBlcy5tYXAoKGUpID0+IFN0cmluZyhlKSlcbiAgICAgICAgICAgICAgICA6IFtdLFxuICAgICAgICB9O1xuICAgIH0sXG4gICAgdG9KU09OKG1lc3NhZ2UpIHtcbiAgICAgICAgY29uc3Qgb2JqID0ge307XG4gICAgICAgIGlmIChtZXNzYWdlLnB1YktleVR5cGVzKSB7XG4gICAgICAgICAgICBvYmoucHViS2V5VHlwZXMgPSBtZXNzYWdlLnB1YktleVR5cGVzLm1hcCgoZSkgPT4gZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBvYmoucHViS2V5VHlwZXMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH0sXG4gICAgZnJvbVBhcnRpYWwob2JqZWN0KSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlVmFsaWRhdG9yUGFyYW1zKCk7XG4gICAgICAgIG1lc3NhZ2UucHViS2V5VHlwZXMgPSBvYmplY3QucHViS2V5VHlwZXM/Lm1hcCgoZSkgPT4gZSkgfHwgW107XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG59O1xuZnVuY3Rpb24gY3JlYXRlQmFzZVZlcnNpb25QYXJhbXMoKSB7XG4gICAgcmV0dXJuIHsgYXBwVmVyc2lvbjogXCIwXCIgfTtcbn1cbmV4cG9ydCBjb25zdCBWZXJzaW9uUGFyYW1zID0ge1xuICAgIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLmFwcFZlcnNpb24gIT09IFwiMFwiKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDgpLnVpbnQ2NChtZXNzYWdlLmFwcFZlcnNpb24pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfSxcbiAgICBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlVmVyc2lvblBhcmFtcygpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYXBwVmVyc2lvbiA9IGxvbmdUb1N0cmluZyhyZWFkZXIudWludDY0KCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG4gICAgZnJvbUpTT04ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBhcHBWZXJzaW9uOiBpc1NldChvYmplY3QuYXBwVmVyc2lvbikgPyBTdHJpbmcob2JqZWN0LmFwcFZlcnNpb24pIDogXCIwXCIsXG4gICAgICAgIH07XG4gICAgfSxcbiAgICB0b0pTT04obWVzc2FnZSkge1xuICAgICAgICBjb25zdCBvYmogPSB7fTtcbiAgICAgICAgbWVzc2FnZS5hcHBWZXJzaW9uICE9PSB1bmRlZmluZWQgJiYgKG9iai5hcHBWZXJzaW9uID0gbWVzc2FnZS5hcHBWZXJzaW9uKTtcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9LFxuICAgIGZyb21QYXJ0aWFsKG9iamVjdCkge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVZlcnNpb25QYXJhbXMoKTtcbiAgICAgICAgbWVzc2FnZS5hcHBWZXJzaW9uID0gb2JqZWN0LmFwcFZlcnNpb24gPz8gXCIwXCI7XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG59O1xuZnVuY3Rpb24gY3JlYXRlQmFzZUhhc2hlZFBhcmFtcygpIHtcbiAgICByZXR1cm4geyBibG9ja01heEJ5dGVzOiBcIjBcIiwgYmxvY2tNYXhHYXM6IFwiMFwiIH07XG59XG5leHBvcnQgY29uc3QgSGFzaGVkUGFyYW1zID0ge1xuICAgIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLmJsb2NrTWF4Qnl0ZXMgIT09IFwiMFwiKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDgpLmludDY0KG1lc3NhZ2UuYmxvY2tNYXhCeXRlcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuYmxvY2tNYXhHYXMgIT09IFwiMFwiKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDE2KS5pbnQ2NChtZXNzYWdlLmJsb2NrTWF4R2FzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH0sXG4gICAgZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUhhc2hlZFBhcmFtcygpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYmxvY2tNYXhCeXRlcyA9IGxvbmdUb1N0cmluZyhyZWFkZXIuaW50NjQoKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5ibG9ja01heEdhcyA9IGxvbmdUb1N0cmluZyhyZWFkZXIuaW50NjQoKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfSxcbiAgICBmcm9tSlNPTihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGJsb2NrTWF4Qnl0ZXM6IGlzU2V0KG9iamVjdC5ibG9ja01heEJ5dGVzKVxuICAgICAgICAgICAgICAgID8gU3RyaW5nKG9iamVjdC5ibG9ja01heEJ5dGVzKVxuICAgICAgICAgICAgICAgIDogXCIwXCIsXG4gICAgICAgICAgICBibG9ja01heEdhczogaXNTZXQob2JqZWN0LmJsb2NrTWF4R2FzKSA/IFN0cmluZyhvYmplY3QuYmxvY2tNYXhHYXMpIDogXCIwXCIsXG4gICAgICAgIH07XG4gICAgfSxcbiAgICB0b0pTT04obWVzc2FnZSkge1xuICAgICAgICBjb25zdCBvYmogPSB7fTtcbiAgICAgICAgbWVzc2FnZS5ibG9ja01heEJ5dGVzICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIChvYmouYmxvY2tNYXhCeXRlcyA9IG1lc3NhZ2UuYmxvY2tNYXhCeXRlcyk7XG4gICAgICAgIG1lc3NhZ2UuYmxvY2tNYXhHYXMgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgKG9iai5ibG9ja01heEdhcyA9IG1lc3NhZ2UuYmxvY2tNYXhHYXMpO1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH0sXG4gICAgZnJvbVBhcnRpYWwob2JqZWN0KSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlSGFzaGVkUGFyYW1zKCk7XG4gICAgICAgIG1lc3NhZ2UuYmxvY2tNYXhCeXRlcyA9IG9iamVjdC5ibG9ja01heEJ5dGVzID8/IFwiMFwiO1xuICAgICAgICBtZXNzYWdlLmJsb2NrTWF4R2FzID0gb2JqZWN0LmJsb2NrTWF4R2FzID8/IFwiMFwiO1xuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9LFxufTtcbmZ1bmN0aW9uIGxvbmdUb1N0cmluZyhsb25nKSB7XG4gICAgcmV0dXJuIGxvbmcudG9TdHJpbmcoKTtcbn1cbmlmIChfbTAudXRpbC5Mb25nICE9PSBMb25nKSB7XG4gICAgX20wLnV0aWwuTG9uZyA9IExvbmc7XG4gICAgX20wLmNvbmZpZ3VyZSgpO1xufVxuZnVuY3Rpb24gaXNTZXQodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09IHVuZGVmaW5lZDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhcmFtcy5qcy5tYXAiLCIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuaW1wb3J0IHsgZ3JwYyB9IGZyb20gXCJAaW1wcm9iYWJsZS1lbmcvZ3JwYy13ZWJcIjtcbmltcG9ydCB7IFRpbWVzdGFtcCB9IGZyb20gXCIuLi8uLi9nb29nbGUvcHJvdG9idWYvdGltZXN0YW1wXCI7XG5pbXBvcnQgeyBIZWFkZXIgfSBmcm9tIFwiLi4vdHlwZXMvdHlwZXNcIjtcbmltcG9ydCB7IFByb29mT3BzIH0gZnJvbSBcIi4uL2NyeXB0by9wcm9vZlwiO1xuaW1wb3J0IHsgRXZpZGVuY2VQYXJhbXMsIFZhbGlkYXRvclBhcmFtcywgVmVyc2lvblBhcmFtcywgfSBmcm9tIFwiLi4vdHlwZXMvcGFyYW1zXCI7XG5pbXBvcnQgeyBQdWJsaWNLZXkgfSBmcm9tIFwiLi4vY3J5cHRvL2tleXNcIjtcbmltcG9ydCB7IEJyb3dzZXJIZWFkZXJzIH0gZnJvbSBcImJyb3dzZXItaGVhZGVyc1wiO1xuaW1wb3J0IExvbmcgZnJvbSBcImxvbmdcIjtcbmltcG9ydCAqIGFzIF9tMCBmcm9tIFwicHJvdG9idWZqcy9taW5pbWFsXCI7XG5leHBvcnQgY29uc3QgcHJvdG9idWZQYWNrYWdlID0gXCJ0ZW5kZXJtaW50LmFiY2lcIjtcbmV4cG9ydCB2YXIgQ2hlY2tUeFR5cGU7XG4oZnVuY3Rpb24gKENoZWNrVHhUeXBlKSB7XG4gICAgQ2hlY2tUeFR5cGVbQ2hlY2tUeFR5cGVbXCJORVdcIl0gPSAwXSA9IFwiTkVXXCI7XG4gICAgQ2hlY2tUeFR5cGVbQ2hlY2tUeFR5cGVbXCJSRUNIRUNLXCJdID0gMV0gPSBcIlJFQ0hFQ0tcIjtcbiAgICBDaGVja1R4VHlwZVtDaGVja1R4VHlwZVtcIlVOUkVDT0dOSVpFRFwiXSA9IC0xXSA9IFwiVU5SRUNPR05JWkVEXCI7XG59KShDaGVja1R4VHlwZSB8fCAoQ2hlY2tUeFR5cGUgPSB7fSkpO1xuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrVHhUeXBlRnJvbUpTT04ob2JqZWN0KSB7XG4gICAgc3dpdGNoIChvYmplY3QpIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICBjYXNlIFwiTkVXXCI6XG4gICAgICAgICAgICByZXR1cm4gQ2hlY2tUeFR5cGUuTkVXO1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgIGNhc2UgXCJSRUNIRUNLXCI6XG4gICAgICAgICAgICByZXR1cm4gQ2hlY2tUeFR5cGUuUkVDSEVDSztcbiAgICAgICAgY2FzZSAtMTpcbiAgICAgICAgY2FzZSBcIlVOUkVDT0dOSVpFRFwiOlxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIENoZWNrVHhUeXBlLlVOUkVDT0dOSVpFRDtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gY2hlY2tUeFR5cGVUb0pTT04ob2JqZWN0KSB7XG4gICAgc3dpdGNoIChvYmplY3QpIHtcbiAgICAgICAgY2FzZSBDaGVja1R4VHlwZS5ORVc6XG4gICAgICAgICAgICByZXR1cm4gXCJORVdcIjtcbiAgICAgICAgY2FzZSBDaGVja1R4VHlwZS5SRUNIRUNLOlxuICAgICAgICAgICAgcmV0dXJuIFwiUkVDSEVDS1wiO1xuICAgICAgICBjYXNlIENoZWNrVHhUeXBlLlVOUkVDT0dOSVpFRDpcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBcIlVOUkVDT0dOSVpFRFwiO1xuICAgIH1cbn1cbmV4cG9ydCB2YXIgRXZpZGVuY2VUeXBlO1xuKGZ1bmN0aW9uIChFdmlkZW5jZVR5cGUpIHtcbiAgICBFdmlkZW5jZVR5cGVbRXZpZGVuY2VUeXBlW1wiVU5LTk9XTlwiXSA9IDBdID0gXCJVTktOT1dOXCI7XG4gICAgRXZpZGVuY2VUeXBlW0V2aWRlbmNlVHlwZVtcIkRVUExJQ0FURV9WT1RFXCJdID0gMV0gPSBcIkRVUExJQ0FURV9WT1RFXCI7XG4gICAgRXZpZGVuY2VUeXBlW0V2aWRlbmNlVHlwZVtcIkxJR0hUX0NMSUVOVF9BVFRBQ0tcIl0gPSAyXSA9IFwiTElHSFRfQ0xJRU5UX0FUVEFDS1wiO1xuICAgIEV2aWRlbmNlVHlwZVtFdmlkZW5jZVR5cGVbXCJVTlJFQ09HTklaRURcIl0gPSAtMV0gPSBcIlVOUkVDT0dOSVpFRFwiO1xufSkoRXZpZGVuY2VUeXBlIHx8IChFdmlkZW5jZVR5cGUgPSB7fSkpO1xuZXhwb3J0IGZ1bmN0aW9uIGV2aWRlbmNlVHlwZUZyb21KU09OKG9iamVjdCkge1xuICAgIHN3aXRjaCAob2JqZWN0KSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgY2FzZSBcIlVOS05PV05cIjpcbiAgICAgICAgICAgIHJldHVybiBFdmlkZW5jZVR5cGUuVU5LTk9XTjtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICBjYXNlIFwiRFVQTElDQVRFX1ZPVEVcIjpcbiAgICAgICAgICAgIHJldHVybiBFdmlkZW5jZVR5cGUuRFVQTElDQVRFX1ZPVEU7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgY2FzZSBcIkxJR0hUX0NMSUVOVF9BVFRBQ0tcIjpcbiAgICAgICAgICAgIHJldHVybiBFdmlkZW5jZVR5cGUuTElHSFRfQ0xJRU5UX0FUVEFDSztcbiAgICAgICAgY2FzZSAtMTpcbiAgICAgICAgY2FzZSBcIlVOUkVDT0dOSVpFRFwiOlxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIEV2aWRlbmNlVHlwZS5VTlJFQ09HTklaRUQ7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGV2aWRlbmNlVHlwZVRvSlNPTihvYmplY3QpIHtcbiAgICBzd2l0Y2ggKG9iamVjdCkge1xuICAgICAgICBjYXNlIEV2aWRlbmNlVHlwZS5VTktOT1dOOlxuICAgICAgICAgICAgcmV0dXJuIFwiVU5LTk9XTlwiO1xuICAgICAgICBjYXNlIEV2aWRlbmNlVHlwZS5EVVBMSUNBVEVfVk9URTpcbiAgICAgICAgICAgIHJldHVybiBcIkRVUExJQ0FURV9WT1RFXCI7XG4gICAgICAgIGNhc2UgRXZpZGVuY2VUeXBlLkxJR0hUX0NMSUVOVF9BVFRBQ0s6XG4gICAgICAgICAgICByZXR1cm4gXCJMSUdIVF9DTElFTlRfQVRUQUNLXCI7XG4gICAgICAgIGNhc2UgRXZpZGVuY2VUeXBlLlVOUkVDT0dOSVpFRDpcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBcIlVOUkVDT0dOSVpFRFwiO1xuICAgIH1cbn1cbmV4cG9ydCB2YXIgUmVzcG9uc2VPZmZlclNuYXBzaG90X1Jlc3VsdDtcbihmdW5jdGlvbiAoUmVzcG9uc2VPZmZlclNuYXBzaG90X1Jlc3VsdCkge1xuICAgIC8qKiBVTktOT1dOIC0gVW5rbm93biByZXN1bHQsIGFib3J0IGFsbCBzbmFwc2hvdCByZXN0b3JhdGlvbiAqL1xuICAgIFJlc3BvbnNlT2ZmZXJTbmFwc2hvdF9SZXN1bHRbUmVzcG9uc2VPZmZlclNuYXBzaG90X1Jlc3VsdFtcIlVOS05PV05cIl0gPSAwXSA9IFwiVU5LTk9XTlwiO1xuICAgIC8qKiBBQ0NFUFQgLSBTbmFwc2hvdCBhY2NlcHRlZCwgYXBwbHkgY2h1bmtzICovXG4gICAgUmVzcG9uc2VPZmZlclNuYXBzaG90X1Jlc3VsdFtSZXNwb25zZU9mZmVyU25hcHNob3RfUmVzdWx0W1wiQUNDRVBUXCJdID0gMV0gPSBcIkFDQ0VQVFwiO1xuICAgIC8qKiBBQk9SVCAtIEFib3J0IGFsbCBzbmFwc2hvdCByZXN0b3JhdGlvbiAqL1xuICAgIFJlc3BvbnNlT2ZmZXJTbmFwc2hvdF9SZXN1bHRbUmVzcG9uc2VPZmZlclNuYXBzaG90X1Jlc3VsdFtcIkFCT1JUXCJdID0gMl0gPSBcIkFCT1JUXCI7XG4gICAgLyoqIFJFSkVDVCAtIFJlamVjdCB0aGlzIHNwZWNpZmljIHNuYXBzaG90LCB0cnkgb3RoZXJzICovXG4gICAgUmVzcG9uc2VPZmZlclNuYXBzaG90X1Jlc3VsdFtSZXNwb25zZU9mZmVyU25hcHNob3RfUmVzdWx0W1wiUkVKRUNUXCJdID0gM10gPSBcIlJFSkVDVFwiO1xuICAgIC8qKiBSRUpFQ1RfRk9STUFUIC0gUmVqZWN0IGFsbCBzbmFwc2hvdHMgb2YgdGhpcyBmb3JtYXQsIHRyeSBvdGhlcnMgKi9cbiAgICBSZXNwb25zZU9mZmVyU25hcHNob3RfUmVzdWx0W1Jlc3BvbnNlT2ZmZXJTbmFwc2hvdF9SZXN1bHRbXCJSRUpFQ1RfRk9STUFUXCJdID0gNF0gPSBcIlJFSkVDVF9GT1JNQVRcIjtcbiAgICAvKiogUkVKRUNUX1NFTkRFUiAtIFJlamVjdCBhbGwgc25hcHNob3RzIGZyb20gdGhlIHNlbmRlcihzKSwgdHJ5IG90aGVycyAqL1xuICAgIFJlc3BvbnNlT2ZmZXJTbmFwc2hvdF9SZXN1bHRbUmVzcG9uc2VPZmZlclNuYXBzaG90X1Jlc3VsdFtcIlJFSkVDVF9TRU5ERVJcIl0gPSA1XSA9IFwiUkVKRUNUX1NFTkRFUlwiO1xuICAgIFJlc3BvbnNlT2ZmZXJTbmFwc2hvdF9SZXN1bHRbUmVzcG9uc2VPZmZlclNuYXBzaG90X1Jlc3VsdFtcIlVOUkVDT0dOSVpFRFwiXSA9IC0xXSA9IFwiVU5SRUNPR05JWkVEXCI7XG59KShSZXNwb25zZU9mZmVyU25hcHNob3RfUmVzdWx0IHx8IChSZXNwb25zZU9mZmVyU25hcHNob3RfUmVzdWx0ID0ge30pKTtcbmV4cG9ydCBmdW5jdGlvbiByZXNwb25zZU9mZmVyU25hcHNob3RfUmVzdWx0RnJvbUpTT04ob2JqZWN0KSB7XG4gICAgc3dpdGNoIChvYmplY3QpIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICBjYXNlIFwiVU5LTk9XTlwiOlxuICAgICAgICAgICAgcmV0dXJuIFJlc3BvbnNlT2ZmZXJTbmFwc2hvdF9SZXN1bHQuVU5LTk9XTjtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICBjYXNlIFwiQUNDRVBUXCI6XG4gICAgICAgICAgICByZXR1cm4gUmVzcG9uc2VPZmZlclNuYXBzaG90X1Jlc3VsdC5BQ0NFUFQ7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgY2FzZSBcIkFCT1JUXCI6XG4gICAgICAgICAgICByZXR1cm4gUmVzcG9uc2VPZmZlclNuYXBzaG90X1Jlc3VsdC5BQk9SVDtcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICBjYXNlIFwiUkVKRUNUXCI6XG4gICAgICAgICAgICByZXR1cm4gUmVzcG9uc2VPZmZlclNuYXBzaG90X1Jlc3VsdC5SRUpFQ1Q7XG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgY2FzZSBcIlJFSkVDVF9GT1JNQVRcIjpcbiAgICAgICAgICAgIHJldHVybiBSZXNwb25zZU9mZmVyU25hcHNob3RfUmVzdWx0LlJFSkVDVF9GT1JNQVQ7XG4gICAgICAgIGNhc2UgNTpcbiAgICAgICAgY2FzZSBcIlJFSkVDVF9TRU5ERVJcIjpcbiAgICAgICAgICAgIHJldHVybiBSZXNwb25zZU9mZmVyU25hcHNob3RfUmVzdWx0LlJFSkVDVF9TRU5ERVI7XG4gICAgICAgIGNhc2UgLTE6XG4gICAgICAgIGNhc2UgXCJVTlJFQ09HTklaRURcIjpcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBSZXNwb25zZU9mZmVyU25hcHNob3RfUmVzdWx0LlVOUkVDT0dOSVpFRDtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gcmVzcG9uc2VPZmZlclNuYXBzaG90X1Jlc3VsdFRvSlNPTihvYmplY3QpIHtcbiAgICBzd2l0Y2ggKG9iamVjdCkge1xuICAgICAgICBjYXNlIFJlc3BvbnNlT2ZmZXJTbmFwc2hvdF9SZXN1bHQuVU5LTk9XTjpcbiAgICAgICAgICAgIHJldHVybiBcIlVOS05PV05cIjtcbiAgICAgICAgY2FzZSBSZXNwb25zZU9mZmVyU25hcHNob3RfUmVzdWx0LkFDQ0VQVDpcbiAgICAgICAgICAgIHJldHVybiBcIkFDQ0VQVFwiO1xuICAgICAgICBjYXNlIFJlc3BvbnNlT2ZmZXJTbmFwc2hvdF9SZXN1bHQuQUJPUlQ6XG4gICAgICAgICAgICByZXR1cm4gXCJBQk9SVFwiO1xuICAgICAgICBjYXNlIFJlc3BvbnNlT2ZmZXJTbmFwc2hvdF9SZXN1bHQuUkVKRUNUOlxuICAgICAgICAgICAgcmV0dXJuIFwiUkVKRUNUXCI7XG4gICAgICAgIGNhc2UgUmVzcG9uc2VPZmZlclNuYXBzaG90X1Jlc3VsdC5SRUpFQ1RfRk9STUFUOlxuICAgICAgICAgICAgcmV0dXJuIFwiUkVKRUNUX0ZPUk1BVFwiO1xuICAgICAgICBjYXNlIFJlc3BvbnNlT2ZmZXJTbmFwc2hvdF9SZXN1bHQuUkVKRUNUX1NFTkRFUjpcbiAgICAgICAgICAgIHJldHVybiBcIlJFSkVDVF9TRU5ERVJcIjtcbiAgICAgICAgY2FzZSBSZXNwb25zZU9mZmVyU25hcHNob3RfUmVzdWx0LlVOUkVDT0dOSVpFRDpcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBcIlVOUkVDT0dOSVpFRFwiO1xuICAgIH1cbn1cbmV4cG9ydCB2YXIgUmVzcG9uc2VBcHBseVNuYXBzaG90Q2h1bmtfUmVzdWx0O1xuKGZ1bmN0aW9uIChSZXNwb25zZUFwcGx5U25hcHNob3RDaHVua19SZXN1bHQpIHtcbiAgICAvKiogVU5LTk9XTiAtIFVua25vd24gcmVzdWx0LCBhYm9ydCBhbGwgc25hcHNob3QgcmVzdG9yYXRpb24gKi9cbiAgICBSZXNwb25zZUFwcGx5U25hcHNob3RDaHVua19SZXN1bHRbUmVzcG9uc2VBcHBseVNuYXBzaG90Q2h1bmtfUmVzdWx0W1wiVU5LTk9XTlwiXSA9IDBdID0gXCJVTktOT1dOXCI7XG4gICAgLyoqIEFDQ0VQVCAtIENodW5rIHN1Y2Nlc3NmdWxseSBhY2NlcHRlZCAqL1xuICAgIFJlc3BvbnNlQXBwbHlTbmFwc2hvdENodW5rX1Jlc3VsdFtSZXNwb25zZUFwcGx5U25hcHNob3RDaHVua19SZXN1bHRbXCJBQ0NFUFRcIl0gPSAxXSA9IFwiQUNDRVBUXCI7XG4gICAgLyoqIEFCT1JUIC0gQWJvcnQgYWxsIHNuYXBzaG90IHJlc3RvcmF0aW9uICovXG4gICAgUmVzcG9uc2VBcHBseVNuYXBzaG90Q2h1bmtfUmVzdWx0W1Jlc3BvbnNlQXBwbHlTbmFwc2hvdENodW5rX1Jlc3VsdFtcIkFCT1JUXCJdID0gMl0gPSBcIkFCT1JUXCI7XG4gICAgLyoqIFJFVFJZIC0gUmV0cnkgY2h1bmsgKGNvbWJpbmUgd2l0aCByZWZldGNoIGFuZCByZWplY3QpICovXG4gICAgUmVzcG9uc2VBcHBseVNuYXBzaG90Q2h1bmtfUmVzdWx0W1Jlc3BvbnNlQXBwbHlTbmFwc2hvdENodW5rX1Jlc3VsdFtcIlJFVFJZXCJdID0gM10gPSBcIlJFVFJZXCI7XG4gICAgLyoqIFJFVFJZX1NOQVBTSE9UIC0gUmV0cnkgc25hcHNob3QgKGNvbWJpbmUgd2l0aCByZWZldGNoIGFuZCByZWplY3QpICovXG4gICAgUmVzcG9uc2VBcHBseVNuYXBzaG90Q2h1bmtfUmVzdWx0W1Jlc3BvbnNlQXBwbHlTbmFwc2hvdENodW5rX1Jlc3VsdFtcIlJFVFJZX1NOQVBTSE9UXCJdID0gNF0gPSBcIlJFVFJZX1NOQVBTSE9UXCI7XG4gICAgLyoqIFJFSkVDVF9TTkFQU0hPVCAtIFJlamVjdCB0aGlzIHNuYXBzaG90LCB0cnkgb3RoZXJzICovXG4gICAgUmVzcG9uc2VBcHBseVNuYXBzaG90Q2h1bmtfUmVzdWx0W1Jlc3BvbnNlQXBwbHlTbmFwc2hvdENodW5rX1Jlc3VsdFtcIlJFSkVDVF9TTkFQU0hPVFwiXSA9IDVdID0gXCJSRUpFQ1RfU05BUFNIT1RcIjtcbiAgICBSZXNwb25zZUFwcGx5U25hcHNob3RDaHVua19SZXN1bHRbUmVzcG9uc2VBcHBseVNuYXBzaG90Q2h1bmtfUmVzdWx0W1wiVU5SRUNPR05JWkVEXCJdID0gLTFdID0gXCJVTlJFQ09HTklaRURcIjtcbn0pKFJlc3BvbnNlQXBwbHlTbmFwc2hvdENodW5rX1Jlc3VsdCB8fCAoUmVzcG9uc2VBcHBseVNuYXBzaG90Q2h1bmtfUmVzdWx0ID0ge30pKTtcbmV4cG9ydCBmdW5jdGlvbiByZXNwb25zZUFwcGx5U25hcHNob3RDaHVua19SZXN1bHRGcm9tSlNPTihvYmplY3QpIHtcbiAgICBzd2l0Y2ggKG9iamVjdCkge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgIGNhc2UgXCJVTktOT1dOXCI6XG4gICAgICAgICAgICByZXR1cm4gUmVzcG9uc2VBcHBseVNuYXBzaG90Q2h1bmtfUmVzdWx0LlVOS05PV047XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgY2FzZSBcIkFDQ0VQVFwiOlxuICAgICAgICAgICAgcmV0dXJuIFJlc3BvbnNlQXBwbHlTbmFwc2hvdENodW5rX1Jlc3VsdC5BQ0NFUFQ7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgY2FzZSBcIkFCT1JUXCI6XG4gICAgICAgICAgICByZXR1cm4gUmVzcG9uc2VBcHBseVNuYXBzaG90Q2h1bmtfUmVzdWx0LkFCT1JUO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgIGNhc2UgXCJSRVRSWVwiOlxuICAgICAgICAgICAgcmV0dXJuIFJlc3BvbnNlQXBwbHlTbmFwc2hvdENodW5rX1Jlc3VsdC5SRVRSWTtcbiAgICAgICAgY2FzZSA0OlxuICAgICAgICBjYXNlIFwiUkVUUllfU05BUFNIT1RcIjpcbiAgICAgICAgICAgIHJldHVybiBSZXNwb25zZUFwcGx5U25hcHNob3RDaHVua19SZXN1bHQuUkVUUllfU05BUFNIT1Q7XG4gICAgICAgIGNhc2UgNTpcbiAgICAgICAgY2FzZSBcIlJFSkVDVF9TTkFQU0hPVFwiOlxuICAgICAgICAgICAgcmV0dXJuIFJlc3BvbnNlQXBwbHlTbmFwc2hvdENodW5rX1Jlc3VsdC5SRUpFQ1RfU05BUFNIT1Q7XG4gICAgICAgIGNhc2UgLTE6XG4gICAgICAgIGNhc2UgXCJVTlJFQ09HTklaRURcIjpcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBSZXNwb25zZUFwcGx5U25hcHNob3RDaHVua19SZXN1bHQuVU5SRUNPR05JWkVEO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiByZXNwb25zZUFwcGx5U25hcHNob3RDaHVua19SZXN1bHRUb0pTT04ob2JqZWN0KSB7XG4gICAgc3dpdGNoIChvYmplY3QpIHtcbiAgICAgICAgY2FzZSBSZXNwb25zZUFwcGx5U25hcHNob3RDaHVua19SZXN1bHQuVU5LTk9XTjpcbiAgICAgICAgICAgIHJldHVybiBcIlVOS05PV05cIjtcbiAgICAgICAgY2FzZSBSZXNwb25zZUFwcGx5U25hcHNob3RDaHVua19SZXN1bHQuQUNDRVBUOlxuICAgICAgICAgICAgcmV0dXJuIFwiQUNDRVBUXCI7XG4gICAgICAgIGNhc2UgUmVzcG9uc2VBcHBseVNuYXBzaG90Q2h1bmtfUmVzdWx0LkFCT1JUOlxuICAgICAgICAgICAgcmV0dXJuIFwiQUJPUlRcIjtcbiAgICAgICAgY2FzZSBSZXNwb25zZUFwcGx5U25hcHNob3RDaHVua19SZXN1bHQuUkVUUlk6XG4gICAgICAgICAgICByZXR1cm4gXCJSRVRSWVwiO1xuICAgICAgICBjYXNlIFJlc3BvbnNlQXBwbHlTbmFwc2hvdENodW5rX1Jlc3VsdC5SRVRSWV9TTkFQU0hPVDpcbiAgICAgICAgICAgIHJldHVybiBcIlJFVFJZX1NOQVBTSE9UXCI7XG4gICAgICAgIGNhc2UgUmVzcG9uc2VBcHBseVNuYXBzaG90Q2h1bmtfUmVzdWx0LlJFSkVDVF9TTkFQU0hPVDpcbiAgICAgICAgICAgIHJldHVybiBcIlJFSkVDVF9TTkFQU0hPVFwiO1xuICAgICAgICBjYXNlIFJlc3BvbnNlQXBwbHlTbmFwc2hvdENodW5rX1Jlc3VsdC5VTlJFQ09HTklaRUQ6XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gXCJVTlJFQ09HTklaRURcIjtcbiAgICB9XG59XG5mdW5jdGlvbiBjcmVhdGVCYXNlUmVxdWVzdCgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBlY2hvOiB1bmRlZmluZWQsXG4gICAgICAgIGZsdXNoOiB1bmRlZmluZWQsXG4gICAgICAgIGluZm86IHVuZGVmaW5lZCxcbiAgICAgICAgc2V0T3B0aW9uOiB1bmRlZmluZWQsXG4gICAgICAgIGluaXRDaGFpbjogdW5kZWZpbmVkLFxuICAgICAgICBxdWVyeTogdW5kZWZpbmVkLFxuICAgICAgICBiZWdpbkJsb2NrOiB1bmRlZmluZWQsXG4gICAgICAgIGNoZWNrVHg6IHVuZGVmaW5lZCxcbiAgICAgICAgZGVsaXZlclR4OiB1bmRlZmluZWQsXG4gICAgICAgIGVuZEJsb2NrOiB1bmRlZmluZWQsXG4gICAgICAgIGNvbW1pdDogdW5kZWZpbmVkLFxuICAgICAgICBsaXN0U25hcHNob3RzOiB1bmRlZmluZWQsXG4gICAgICAgIG9mZmVyU25hcHNob3Q6IHVuZGVmaW5lZCxcbiAgICAgICAgbG9hZFNuYXBzaG90Q2h1bms6IHVuZGVmaW5lZCxcbiAgICAgICAgYXBwbHlTbmFwc2hvdENodW5rOiB1bmRlZmluZWQsXG4gICAgfTtcbn1cbmV4cG9ydCBjb25zdCBSZXF1ZXN0ID0ge1xuICAgIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLmVjaG8gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgUmVxdWVzdEVjaG8uZW5jb2RlKG1lc3NhZ2UuZWNobywgd3JpdGVyLnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5mbHVzaCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBSZXF1ZXN0Rmx1c2guZW5jb2RlKG1lc3NhZ2UuZmx1c2gsIHdyaXRlci51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuaW5mbyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBSZXF1ZXN0SW5mby5lbmNvZGUobWVzc2FnZS5pbmZvLCB3cml0ZXIudWludDMyKDI2KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnNldE9wdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBSZXF1ZXN0U2V0T3B0aW9uLmVuY29kZShtZXNzYWdlLnNldE9wdGlvbiwgd3JpdGVyLnVpbnQzMigzNCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5pbml0Q2hhaW4gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgUmVxdWVzdEluaXRDaGFpbi5lbmNvZGUobWVzc2FnZS5pbml0Q2hhaW4sIHdyaXRlci51aW50MzIoNDIpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UucXVlcnkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgUmVxdWVzdFF1ZXJ5LmVuY29kZShtZXNzYWdlLnF1ZXJ5LCB3cml0ZXIudWludDMyKDUwKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmJlZ2luQmxvY2sgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgUmVxdWVzdEJlZ2luQmxvY2suZW5jb2RlKG1lc3NhZ2UuYmVnaW5CbG9jaywgd3JpdGVyLnVpbnQzMig1OCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5jaGVja1R4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIFJlcXVlc3RDaGVja1R4LmVuY29kZShtZXNzYWdlLmNoZWNrVHgsIHdyaXRlci51aW50MzIoNjYpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuZGVsaXZlclR4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIFJlcXVlc3REZWxpdmVyVHguZW5jb2RlKG1lc3NhZ2UuZGVsaXZlclR4LCB3cml0ZXIudWludDMyKDc0KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmVuZEJsb2NrICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIFJlcXVlc3RFbmRCbG9jay5lbmNvZGUobWVzc2FnZS5lbmRCbG9jaywgd3JpdGVyLnVpbnQzMig4MikuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5jb21taXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgUmVxdWVzdENvbW1pdC5lbmNvZGUobWVzc2FnZS5jb21taXQsIHdyaXRlci51aW50MzIoOTApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UubGlzdFNuYXBzaG90cyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBSZXF1ZXN0TGlzdFNuYXBzaG90cy5lbmNvZGUobWVzc2FnZS5saXN0U25hcHNob3RzLCB3cml0ZXIudWludDMyKDk4KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLm9mZmVyU25hcHNob3QgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgUmVxdWVzdE9mZmVyU25hcHNob3QuZW5jb2RlKG1lc3NhZ2Uub2ZmZXJTbmFwc2hvdCwgd3JpdGVyLnVpbnQzMigxMDYpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UubG9hZFNuYXBzaG90Q2h1bmsgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgUmVxdWVzdExvYWRTbmFwc2hvdENodW5rLmVuY29kZShtZXNzYWdlLmxvYWRTbmFwc2hvdENodW5rLCB3cml0ZXIudWludDMyKDExNCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5hcHBseVNuYXBzaG90Q2h1bmsgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgUmVxdWVzdEFwcGx5U25hcHNob3RDaHVuay5lbmNvZGUobWVzc2FnZS5hcHBseVNuYXBzaG90Q2h1bmssIHdyaXRlci51aW50MzIoMTIyKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfSxcbiAgICBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUmVxdWVzdCgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZWNobyA9IFJlcXVlc3RFY2hvLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5mbHVzaCA9IFJlcXVlc3RGbHVzaC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuaW5mbyA9IFJlcXVlc3RJbmZvLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zZXRPcHRpb24gPSBSZXF1ZXN0U2V0T3B0aW9uLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5pbml0Q2hhaW4gPSBSZXF1ZXN0SW5pdENoYWluLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5xdWVyeSA9IFJlcXVlc3RRdWVyeS5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYmVnaW5CbG9jayA9IFJlcXVlc3RCZWdpbkJsb2NrLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5jaGVja1R4ID0gUmVxdWVzdENoZWNrVHguZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA5OlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmRlbGl2ZXJUeCA9IFJlcXVlc3REZWxpdmVyVHguZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAxMDpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5lbmRCbG9jayA9IFJlcXVlc3RFbmRCbG9jay5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDExOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmNvbW1pdCA9IFJlcXVlc3RDb21taXQuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5saXN0U25hcHNob3RzID0gUmVxdWVzdExpc3RTbmFwc2hvdHMuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAxMzpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5vZmZlclNuYXBzaG90ID0gUmVxdWVzdE9mZmVyU25hcHNob3QuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAxNDpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5sb2FkU25hcHNob3RDaHVuayA9IFJlcXVlc3RMb2FkU25hcHNob3RDaHVuay5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDE1OlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmFwcGx5U25hcHNob3RDaHVuayA9IFJlcXVlc3RBcHBseVNuYXBzaG90Q2h1bmsuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9LFxuICAgIGZyb21KU09OKG9iamVjdCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZWNobzogaXNTZXQob2JqZWN0LmVjaG8pID8gUmVxdWVzdEVjaG8uZnJvbUpTT04ob2JqZWN0LmVjaG8pIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgZmx1c2g6IGlzU2V0KG9iamVjdC5mbHVzaClcbiAgICAgICAgICAgICAgICA/IFJlcXVlc3RGbHVzaC5mcm9tSlNPTihvYmplY3QuZmx1c2gpXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBpbmZvOiBpc1NldChvYmplY3QuaW5mbykgPyBSZXF1ZXN0SW5mby5mcm9tSlNPTihvYmplY3QuaW5mbykgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBzZXRPcHRpb246IGlzU2V0KG9iamVjdC5zZXRPcHRpb24pXG4gICAgICAgICAgICAgICAgPyBSZXF1ZXN0U2V0T3B0aW9uLmZyb21KU09OKG9iamVjdC5zZXRPcHRpb24pXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBpbml0Q2hhaW46IGlzU2V0KG9iamVjdC5pbml0Q2hhaW4pXG4gICAgICAgICAgICAgICAgPyBSZXF1ZXN0SW5pdENoYWluLmZyb21KU09OKG9iamVjdC5pbml0Q2hhaW4pXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBxdWVyeTogaXNTZXQob2JqZWN0LnF1ZXJ5KVxuICAgICAgICAgICAgICAgID8gUmVxdWVzdFF1ZXJ5LmZyb21KU09OKG9iamVjdC5xdWVyeSlcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGJlZ2luQmxvY2s6IGlzU2V0KG9iamVjdC5iZWdpbkJsb2NrKVxuICAgICAgICAgICAgICAgID8gUmVxdWVzdEJlZ2luQmxvY2suZnJvbUpTT04ob2JqZWN0LmJlZ2luQmxvY2spXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBjaGVja1R4OiBpc1NldChvYmplY3QuY2hlY2tUeClcbiAgICAgICAgICAgICAgICA/IFJlcXVlc3RDaGVja1R4LmZyb21KU09OKG9iamVjdC5jaGVja1R4KVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgZGVsaXZlclR4OiBpc1NldChvYmplY3QuZGVsaXZlclR4KVxuICAgICAgICAgICAgICAgID8gUmVxdWVzdERlbGl2ZXJUeC5mcm9tSlNPTihvYmplY3QuZGVsaXZlclR4KVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgZW5kQmxvY2s6IGlzU2V0KG9iamVjdC5lbmRCbG9jaylcbiAgICAgICAgICAgICAgICA/IFJlcXVlc3RFbmRCbG9jay5mcm9tSlNPTihvYmplY3QuZW5kQmxvY2spXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBjb21taXQ6IGlzU2V0KG9iamVjdC5jb21taXQpXG4gICAgICAgICAgICAgICAgPyBSZXF1ZXN0Q29tbWl0LmZyb21KU09OKG9iamVjdC5jb21taXQpXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBsaXN0U25hcHNob3RzOiBpc1NldChvYmplY3QubGlzdFNuYXBzaG90cylcbiAgICAgICAgICAgICAgICA/IFJlcXVlc3RMaXN0U25hcHNob3RzLmZyb21KU09OKG9iamVjdC5saXN0U25hcHNob3RzKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgb2ZmZXJTbmFwc2hvdDogaXNTZXQob2JqZWN0Lm9mZmVyU25hcHNob3QpXG4gICAgICAgICAgICAgICAgPyBSZXF1ZXN0T2ZmZXJTbmFwc2hvdC5mcm9tSlNPTihvYmplY3Qub2ZmZXJTbmFwc2hvdClcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGxvYWRTbmFwc2hvdENodW5rOiBpc1NldChvYmplY3QubG9hZFNuYXBzaG90Q2h1bmspXG4gICAgICAgICAgICAgICAgPyBSZXF1ZXN0TG9hZFNuYXBzaG90Q2h1bmsuZnJvbUpTT04ob2JqZWN0LmxvYWRTbmFwc2hvdENodW5rKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgYXBwbHlTbmFwc2hvdENodW5rOiBpc1NldChvYmplY3QuYXBwbHlTbmFwc2hvdENodW5rKVxuICAgICAgICAgICAgICAgID8gUmVxdWVzdEFwcGx5U25hcHNob3RDaHVuay5mcm9tSlNPTihvYmplY3QuYXBwbHlTbmFwc2hvdENodW5rKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICB9O1xuICAgIH0sXG4gICAgdG9KU09OKG1lc3NhZ2UpIHtcbiAgICAgICAgY29uc3Qgb2JqID0ge307XG4gICAgICAgIG1lc3NhZ2UuZWNobyAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAob2JqLmVjaG8gPSBtZXNzYWdlLmVjaG8gPyBSZXF1ZXN0RWNoby50b0pTT04obWVzc2FnZS5lY2hvKSA6IHVuZGVmaW5lZCk7XG4gICAgICAgIG1lc3NhZ2UuZmx1c2ggIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgKG9iai5mbHVzaCA9IG1lc3NhZ2UuZmx1c2hcbiAgICAgICAgICAgICAgICA/IFJlcXVlc3RGbHVzaC50b0pTT04obWVzc2FnZS5mbHVzaClcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCk7XG4gICAgICAgIG1lc3NhZ2UuaW5mbyAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAob2JqLmluZm8gPSBtZXNzYWdlLmluZm8gPyBSZXF1ZXN0SW5mby50b0pTT04obWVzc2FnZS5pbmZvKSA6IHVuZGVmaW5lZCk7XG4gICAgICAgIG1lc3NhZ2Uuc2V0T3B0aW9uICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIChvYmouc2V0T3B0aW9uID0gbWVzc2FnZS5zZXRPcHRpb25cbiAgICAgICAgICAgICAgICA/IFJlcXVlc3RTZXRPcHRpb24udG9KU09OKG1lc3NhZ2Uuc2V0T3B0aW9uKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkKTtcbiAgICAgICAgbWVzc2FnZS5pbml0Q2hhaW4gIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgKG9iai5pbml0Q2hhaW4gPSBtZXNzYWdlLmluaXRDaGFpblxuICAgICAgICAgICAgICAgID8gUmVxdWVzdEluaXRDaGFpbi50b0pTT04obWVzc2FnZS5pbml0Q2hhaW4pXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQpO1xuICAgICAgICBtZXNzYWdlLnF1ZXJ5ICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIChvYmoucXVlcnkgPSBtZXNzYWdlLnF1ZXJ5XG4gICAgICAgICAgICAgICAgPyBSZXF1ZXN0UXVlcnkudG9KU09OKG1lc3NhZ2UucXVlcnkpXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQpO1xuICAgICAgICBtZXNzYWdlLmJlZ2luQmxvY2sgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgKG9iai5iZWdpbkJsb2NrID0gbWVzc2FnZS5iZWdpbkJsb2NrXG4gICAgICAgICAgICAgICAgPyBSZXF1ZXN0QmVnaW5CbG9jay50b0pTT04obWVzc2FnZS5iZWdpbkJsb2NrKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkKTtcbiAgICAgICAgbWVzc2FnZS5jaGVja1R4ICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIChvYmouY2hlY2tUeCA9IG1lc3NhZ2UuY2hlY2tUeFxuICAgICAgICAgICAgICAgID8gUmVxdWVzdENoZWNrVHgudG9KU09OKG1lc3NhZ2UuY2hlY2tUeClcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCk7XG4gICAgICAgIG1lc3NhZ2UuZGVsaXZlclR4ICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIChvYmouZGVsaXZlclR4ID0gbWVzc2FnZS5kZWxpdmVyVHhcbiAgICAgICAgICAgICAgICA/IFJlcXVlc3REZWxpdmVyVHgudG9KU09OKG1lc3NhZ2UuZGVsaXZlclR4KVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkKTtcbiAgICAgICAgbWVzc2FnZS5lbmRCbG9jayAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAob2JqLmVuZEJsb2NrID0gbWVzc2FnZS5lbmRCbG9ja1xuICAgICAgICAgICAgICAgID8gUmVxdWVzdEVuZEJsb2NrLnRvSlNPTihtZXNzYWdlLmVuZEJsb2NrKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkKTtcbiAgICAgICAgbWVzc2FnZS5jb21taXQgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgKG9iai5jb21taXQgPSBtZXNzYWdlLmNvbW1pdFxuICAgICAgICAgICAgICAgID8gUmVxdWVzdENvbW1pdC50b0pTT04obWVzc2FnZS5jb21taXQpXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQpO1xuICAgICAgICBtZXNzYWdlLmxpc3RTbmFwc2hvdHMgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgKG9iai5saXN0U25hcHNob3RzID0gbWVzc2FnZS5saXN0U25hcHNob3RzXG4gICAgICAgICAgICAgICAgPyBSZXF1ZXN0TGlzdFNuYXBzaG90cy50b0pTT04obWVzc2FnZS5saXN0U25hcHNob3RzKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkKTtcbiAgICAgICAgbWVzc2FnZS5vZmZlclNuYXBzaG90ICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIChvYmoub2ZmZXJTbmFwc2hvdCA9IG1lc3NhZ2Uub2ZmZXJTbmFwc2hvdFxuICAgICAgICAgICAgICAgID8gUmVxdWVzdE9mZmVyU25hcHNob3QudG9KU09OKG1lc3NhZ2Uub2ZmZXJTbmFwc2hvdClcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCk7XG4gICAgICAgIG1lc3NhZ2UubG9hZFNuYXBzaG90Q2h1bmsgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgKG9iai5sb2FkU25hcHNob3RDaHVuayA9IG1lc3NhZ2UubG9hZFNuYXBzaG90Q2h1bmtcbiAgICAgICAgICAgICAgICA/IFJlcXVlc3RMb2FkU25hcHNob3RDaHVuay50b0pTT04obWVzc2FnZS5sb2FkU25hcHNob3RDaHVuaylcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCk7XG4gICAgICAgIG1lc3NhZ2UuYXBwbHlTbmFwc2hvdENodW5rICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIChvYmouYXBwbHlTbmFwc2hvdENodW5rID0gbWVzc2FnZS5hcHBseVNuYXBzaG90Q2h1bmtcbiAgICAgICAgICAgICAgICA/IFJlcXVlc3RBcHBseVNuYXBzaG90Q2h1bmsudG9KU09OKG1lc3NhZ2UuYXBwbHlTbmFwc2hvdENodW5rKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkKTtcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9LFxuICAgIGZyb21QYXJ0aWFsKG9iamVjdCkge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVJlcXVlc3QoKTtcbiAgICAgICAgbWVzc2FnZS5lY2hvID1cbiAgICAgICAgICAgIG9iamVjdC5lY2hvICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LmVjaG8gIT09IG51bGxcbiAgICAgICAgICAgICAgICA/IFJlcXVlc3RFY2hvLmZyb21QYXJ0aWFsKG9iamVjdC5lY2hvKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICBtZXNzYWdlLmZsdXNoID1cbiAgICAgICAgICAgIG9iamVjdC5mbHVzaCAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5mbHVzaCAhPT0gbnVsbFxuICAgICAgICAgICAgICAgID8gUmVxdWVzdEZsdXNoLmZyb21QYXJ0aWFsKG9iamVjdC5mbHVzaClcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgbWVzc2FnZS5pbmZvID1cbiAgICAgICAgICAgIG9iamVjdC5pbmZvICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LmluZm8gIT09IG51bGxcbiAgICAgICAgICAgICAgICA/IFJlcXVlc3RJbmZvLmZyb21QYXJ0aWFsKG9iamVjdC5pbmZvKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICBtZXNzYWdlLnNldE9wdGlvbiA9XG4gICAgICAgICAgICBvYmplY3Quc2V0T3B0aW9uICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnNldE9wdGlvbiAhPT0gbnVsbFxuICAgICAgICAgICAgICAgID8gUmVxdWVzdFNldE9wdGlvbi5mcm9tUGFydGlhbChvYmplY3Quc2V0T3B0aW9uKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICBtZXNzYWdlLmluaXRDaGFpbiA9XG4gICAgICAgICAgICBvYmplY3QuaW5pdENoYWluICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LmluaXRDaGFpbiAhPT0gbnVsbFxuICAgICAgICAgICAgICAgID8gUmVxdWVzdEluaXRDaGFpbi5mcm9tUGFydGlhbChvYmplY3QuaW5pdENoYWluKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICBtZXNzYWdlLnF1ZXJ5ID1cbiAgICAgICAgICAgIG9iamVjdC5xdWVyeSAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5xdWVyeSAhPT0gbnVsbFxuICAgICAgICAgICAgICAgID8gUmVxdWVzdFF1ZXJ5LmZyb21QYXJ0aWFsKG9iamVjdC5xdWVyeSlcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgbWVzc2FnZS5iZWdpbkJsb2NrID1cbiAgICAgICAgICAgIG9iamVjdC5iZWdpbkJsb2NrICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LmJlZ2luQmxvY2sgIT09IG51bGxcbiAgICAgICAgICAgICAgICA/IFJlcXVlc3RCZWdpbkJsb2NrLmZyb21QYXJ0aWFsKG9iamVjdC5iZWdpbkJsb2NrKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICBtZXNzYWdlLmNoZWNrVHggPVxuICAgICAgICAgICAgb2JqZWN0LmNoZWNrVHggIT09IHVuZGVmaW5lZCAmJiBvYmplY3QuY2hlY2tUeCAhPT0gbnVsbFxuICAgICAgICAgICAgICAgID8gUmVxdWVzdENoZWNrVHguZnJvbVBhcnRpYWwob2JqZWN0LmNoZWNrVHgpXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgIG1lc3NhZ2UuZGVsaXZlclR4ID1cbiAgICAgICAgICAgIG9iamVjdC5kZWxpdmVyVHggIT09IHVuZGVmaW5lZCAmJiBvYmplY3QuZGVsaXZlclR4ICE9PSBudWxsXG4gICAgICAgICAgICAgICAgPyBSZXF1ZXN0RGVsaXZlclR4LmZyb21QYXJ0aWFsKG9iamVjdC5kZWxpdmVyVHgpXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgIG1lc3NhZ2UuZW5kQmxvY2sgPVxuICAgICAgICAgICAgb2JqZWN0LmVuZEJsb2NrICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LmVuZEJsb2NrICE9PSBudWxsXG4gICAgICAgICAgICAgICAgPyBSZXF1ZXN0RW5kQmxvY2suZnJvbVBhcnRpYWwob2JqZWN0LmVuZEJsb2NrKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICBtZXNzYWdlLmNvbW1pdCA9XG4gICAgICAgICAgICBvYmplY3QuY29tbWl0ICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LmNvbW1pdCAhPT0gbnVsbFxuICAgICAgICAgICAgICAgID8gUmVxdWVzdENvbW1pdC5mcm9tUGFydGlhbChvYmplY3QuY29tbWl0KVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICBtZXNzYWdlLmxpc3RTbmFwc2hvdHMgPVxuICAgICAgICAgICAgb2JqZWN0Lmxpc3RTbmFwc2hvdHMgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QubGlzdFNuYXBzaG90cyAhPT0gbnVsbFxuICAgICAgICAgICAgICAgID8gUmVxdWVzdExpc3RTbmFwc2hvdHMuZnJvbVBhcnRpYWwob2JqZWN0Lmxpc3RTbmFwc2hvdHMpXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgIG1lc3NhZ2Uub2ZmZXJTbmFwc2hvdCA9XG4gICAgICAgICAgICBvYmplY3Qub2ZmZXJTbmFwc2hvdCAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5vZmZlclNuYXBzaG90ICE9PSBudWxsXG4gICAgICAgICAgICAgICAgPyBSZXF1ZXN0T2ZmZXJTbmFwc2hvdC5mcm9tUGFydGlhbChvYmplY3Qub2ZmZXJTbmFwc2hvdClcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgbWVzc2FnZS5sb2FkU25hcHNob3RDaHVuayA9XG4gICAgICAgICAgICBvYmplY3QubG9hZFNuYXBzaG90Q2h1bmsgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgICAgIG9iamVjdC5sb2FkU25hcHNob3RDaHVuayAhPT0gbnVsbFxuICAgICAgICAgICAgICAgID8gUmVxdWVzdExvYWRTbmFwc2hvdENodW5rLmZyb21QYXJ0aWFsKG9iamVjdC5sb2FkU25hcHNob3RDaHVuaylcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgbWVzc2FnZS5hcHBseVNuYXBzaG90Q2h1bmsgPVxuICAgICAgICAgICAgb2JqZWN0LmFwcGx5U25hcHNob3RDaHVuayAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAgICAgb2JqZWN0LmFwcGx5U25hcHNob3RDaHVuayAhPT0gbnVsbFxuICAgICAgICAgICAgICAgID8gUmVxdWVzdEFwcGx5U25hcHNob3RDaHVuay5mcm9tUGFydGlhbChvYmplY3QuYXBwbHlTbmFwc2hvdENodW5rKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9LFxufTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VSZXF1ZXN0RWNobygpIHtcbiAgICByZXR1cm4geyBtZXNzYWdlOiBcIlwiIH07XG59XG5leHBvcnQgY29uc3QgUmVxdWVzdEVjaG8gPSB7XG4gICAgZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UubWVzc2FnZSAhPT0gXCJcIikge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxMCkuc3RyaW5nKG1lc3NhZ2UubWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9LFxuICAgIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VSZXF1ZXN0RWNobygpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubWVzc2FnZSA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9LFxuICAgIGZyb21KU09OKG9iamVjdCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWVzc2FnZTogaXNTZXQob2JqZWN0Lm1lc3NhZ2UpID8gU3RyaW5nKG9iamVjdC5tZXNzYWdlKSA6IFwiXCIsXG4gICAgICAgIH07XG4gICAgfSxcbiAgICB0b0pTT04obWVzc2FnZSkge1xuICAgICAgICBjb25zdCBvYmogPSB7fTtcbiAgICAgICAgbWVzc2FnZS5tZXNzYWdlICE9PSB1bmRlZmluZWQgJiYgKG9iai5tZXNzYWdlID0gbWVzc2FnZS5tZXNzYWdlKTtcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9LFxuICAgIGZyb21QYXJ0aWFsKG9iamVjdCkge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVJlcXVlc3RFY2hvKCk7XG4gICAgICAgIG1lc3NhZ2UubWVzc2FnZSA9IG9iamVjdC5tZXNzYWdlID8/IFwiXCI7XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG59O1xuZnVuY3Rpb24gY3JlYXRlQmFzZVJlcXVlc3RGbHVzaCgpIHtcbiAgICByZXR1cm4ge307XG59XG5leHBvcnQgY29uc3QgUmVxdWVzdEZsdXNoID0ge1xuICAgIGVuY29kZShfLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfSxcbiAgICBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUmVxdWVzdEZsdXNoKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfSxcbiAgICBmcm9tSlNPTihfKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9LFxuICAgIHRvSlNPTihfKSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH0sXG4gICAgZnJvbVBhcnRpYWwoXykge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVJlcXVlc3RGbHVzaCgpO1xuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9LFxufTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VSZXF1ZXN0SW5mbygpIHtcbiAgICByZXR1cm4geyB2ZXJzaW9uOiBcIlwiLCBibG9ja1ZlcnNpb246IFwiMFwiLCBwMnBWZXJzaW9uOiBcIjBcIiB9O1xufVxuZXhwb3J0IGNvbnN0IFJlcXVlc3RJbmZvID0ge1xuICAgIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLnZlcnNpb24gIT09IFwiXCIpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTApLnN0cmluZyhtZXNzYWdlLnZlcnNpb24pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmJsb2NrVmVyc2lvbiAhPT0gXCIwXCIpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTYpLnVpbnQ2NChtZXNzYWdlLmJsb2NrVmVyc2lvbik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UucDJwVmVyc2lvbiAhPT0gXCIwXCIpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjQpLnVpbnQ2NChtZXNzYWdlLnAycFZlcnNpb24pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfSxcbiAgICBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUmVxdWVzdEluZm8oKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnZlcnNpb24gPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5ibG9ja1ZlcnNpb24gPSBsb25nVG9TdHJpbmcocmVhZGVyLnVpbnQ2NCgpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnAycFZlcnNpb24gPSBsb25nVG9TdHJpbmcocmVhZGVyLnVpbnQ2NCgpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9LFxuICAgIGZyb21KU09OKG9iamVjdCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmVyc2lvbjogaXNTZXQob2JqZWN0LnZlcnNpb24pID8gU3RyaW5nKG9iamVjdC52ZXJzaW9uKSA6IFwiXCIsXG4gICAgICAgICAgICBibG9ja1ZlcnNpb246IGlzU2V0KG9iamVjdC5ibG9ja1ZlcnNpb24pXG4gICAgICAgICAgICAgICAgPyBTdHJpbmcob2JqZWN0LmJsb2NrVmVyc2lvbilcbiAgICAgICAgICAgICAgICA6IFwiMFwiLFxuICAgICAgICAgICAgcDJwVmVyc2lvbjogaXNTZXQob2JqZWN0LnAycFZlcnNpb24pID8gU3RyaW5nKG9iamVjdC5wMnBWZXJzaW9uKSA6IFwiMFwiLFxuICAgICAgICB9O1xuICAgIH0sXG4gICAgdG9KU09OKG1lc3NhZ2UpIHtcbiAgICAgICAgY29uc3Qgb2JqID0ge307XG4gICAgICAgIG1lc3NhZ2UudmVyc2lvbiAhPT0gdW5kZWZpbmVkICYmIChvYmoudmVyc2lvbiA9IG1lc3NhZ2UudmVyc2lvbik7XG4gICAgICAgIG1lc3NhZ2UuYmxvY2tWZXJzaW9uICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIChvYmouYmxvY2tWZXJzaW9uID0gbWVzc2FnZS5ibG9ja1ZlcnNpb24pO1xuICAgICAgICBtZXNzYWdlLnAycFZlcnNpb24gIT09IHVuZGVmaW5lZCAmJiAob2JqLnAycFZlcnNpb24gPSBtZXNzYWdlLnAycFZlcnNpb24pO1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH0sXG4gICAgZnJvbVBhcnRpYWwob2JqZWN0KSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUmVxdWVzdEluZm8oKTtcbiAgICAgICAgbWVzc2FnZS52ZXJzaW9uID0gb2JqZWN0LnZlcnNpb24gPz8gXCJcIjtcbiAgICAgICAgbWVzc2FnZS5ibG9ja1ZlcnNpb24gPSBvYmplY3QuYmxvY2tWZXJzaW9uID8/IFwiMFwiO1xuICAgICAgICBtZXNzYWdlLnAycFZlcnNpb24gPSBvYmplY3QucDJwVmVyc2lvbiA/PyBcIjBcIjtcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfSxcbn07XG5mdW5jdGlvbiBjcmVhdGVCYXNlUmVxdWVzdFNldE9wdGlvbigpIHtcbiAgICByZXR1cm4geyBrZXk6IFwiXCIsIHZhbHVlOiBcIlwiIH07XG59XG5leHBvcnQgY29uc3QgUmVxdWVzdFNldE9wdGlvbiA9IHtcbiAgICBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS5rZXkgIT09IFwiXCIpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTApLnN0cmluZyhtZXNzYWdlLmtleSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UudmFsdWUgIT09IFwiXCIpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTgpLnN0cmluZyhtZXNzYWdlLnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH0sXG4gICAgZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVJlcXVlc3RTZXRPcHRpb24oKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmtleSA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnZhbHVlID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG4gICAgZnJvbUpTT04ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBrZXk6IGlzU2V0KG9iamVjdC5rZXkpID8gU3RyaW5nKG9iamVjdC5rZXkpIDogXCJcIixcbiAgICAgICAgICAgIHZhbHVlOiBpc1NldChvYmplY3QudmFsdWUpID8gU3RyaW5nKG9iamVjdC52YWx1ZSkgOiBcIlwiLFxuICAgICAgICB9O1xuICAgIH0sXG4gICAgdG9KU09OKG1lc3NhZ2UpIHtcbiAgICAgICAgY29uc3Qgb2JqID0ge307XG4gICAgICAgIG1lc3NhZ2Uua2V5ICE9PSB1bmRlZmluZWQgJiYgKG9iai5rZXkgPSBtZXNzYWdlLmtleSk7XG4gICAgICAgIG1lc3NhZ2UudmFsdWUgIT09IHVuZGVmaW5lZCAmJiAob2JqLnZhbHVlID0gbWVzc2FnZS52YWx1ZSk7XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfSxcbiAgICBmcm9tUGFydGlhbChvYmplY3QpIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VSZXF1ZXN0U2V0T3B0aW9uKCk7XG4gICAgICAgIG1lc3NhZ2Uua2V5ID0gb2JqZWN0LmtleSA/PyBcIlwiO1xuICAgICAgICBtZXNzYWdlLnZhbHVlID0gb2JqZWN0LnZhbHVlID8/IFwiXCI7XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG59O1xuZnVuY3Rpb24gY3JlYXRlQmFzZVJlcXVlc3RJbml0Q2hhaW4oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdGltZTogdW5kZWZpbmVkLFxuICAgICAgICBjaGFpbklkOiBcIlwiLFxuICAgICAgICBjb25zZW5zdXNQYXJhbXM6IHVuZGVmaW5lZCxcbiAgICAgICAgdmFsaWRhdG9yczogW10sXG4gICAgICAgIGFwcFN0YXRlQnl0ZXM6IG5ldyBVaW50OEFycmF5KCksXG4gICAgICAgIGluaXRpYWxIZWlnaHQ6IFwiMFwiLFxuICAgIH07XG59XG5leHBvcnQgY29uc3QgUmVxdWVzdEluaXRDaGFpbiA9IHtcbiAgICBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS50aW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIFRpbWVzdGFtcC5lbmNvZGUobWVzc2FnZS50aW1lLCB3cml0ZXIudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmNoYWluSWQgIT09IFwiXCIpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTgpLnN0cmluZyhtZXNzYWdlLmNoYWluSWQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmNvbnNlbnN1c1BhcmFtcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBDb25zZW5zdXNQYXJhbXMuZW5jb2RlKG1lc3NhZ2UuY29uc2Vuc3VzUGFyYW1zLCB3cml0ZXIudWludDMyKDI2KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgdiBvZiBtZXNzYWdlLnZhbGlkYXRvcnMpIHtcbiAgICAgICAgICAgIFZhbGlkYXRvclVwZGF0ZS5lbmNvZGUodiwgd3JpdGVyLnVpbnQzMigzNCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5hcHBTdGF0ZUJ5dGVzLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig0MikuYnl0ZXMobWVzc2FnZS5hcHBTdGF0ZUJ5dGVzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5pbml0aWFsSGVpZ2h0ICE9PSBcIjBcIikge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig0OCkuaW50NjQobWVzc2FnZS5pbml0aWFsSGVpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH0sXG4gICAgZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVJlcXVlc3RJbml0Q2hhaW4oKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRpbWUgPSBUaW1lc3RhbXAuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmNoYWluSWQgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5jb25zZW5zdXNQYXJhbXMgPSBDb25zZW5zdXNQYXJhbXMuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnZhbGlkYXRvcnMucHVzaChWYWxpZGF0b3JVcGRhdGUuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5hcHBTdGF0ZUJ5dGVzID0gcmVhZGVyLmJ5dGVzKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5pbml0aWFsSGVpZ2h0ID0gbG9uZ1RvU3RyaW5nKHJlYWRlci5pbnQ2NCgpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9LFxuICAgIGZyb21KU09OKG9iamVjdCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdGltZTogaXNTZXQob2JqZWN0LnRpbWUpID8gZnJvbUpzb25UaW1lc3RhbXAob2JqZWN0LnRpbWUpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgY2hhaW5JZDogaXNTZXQob2JqZWN0LmNoYWluSWQpID8gU3RyaW5nKG9iamVjdC5jaGFpbklkKSA6IFwiXCIsXG4gICAgICAgICAgICBjb25zZW5zdXNQYXJhbXM6IGlzU2V0KG9iamVjdC5jb25zZW5zdXNQYXJhbXMpXG4gICAgICAgICAgICAgICAgPyBDb25zZW5zdXNQYXJhbXMuZnJvbUpTT04ob2JqZWN0LmNvbnNlbnN1c1BhcmFtcylcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHZhbGlkYXRvcnM6IEFycmF5LmlzQXJyYXkob2JqZWN0Py52YWxpZGF0b3JzKVxuICAgICAgICAgICAgICAgID8gb2JqZWN0LnZhbGlkYXRvcnMubWFwKChlKSA9PiBWYWxpZGF0b3JVcGRhdGUuZnJvbUpTT04oZSkpXG4gICAgICAgICAgICAgICAgOiBbXSxcbiAgICAgICAgICAgIGFwcFN0YXRlQnl0ZXM6IGlzU2V0KG9iamVjdC5hcHBTdGF0ZUJ5dGVzKVxuICAgICAgICAgICAgICAgID8gYnl0ZXNGcm9tQmFzZTY0KG9iamVjdC5hcHBTdGF0ZUJ5dGVzKVxuICAgICAgICAgICAgICAgIDogbmV3IFVpbnQ4QXJyYXkoKSxcbiAgICAgICAgICAgIGluaXRpYWxIZWlnaHQ6IGlzU2V0KG9iamVjdC5pbml0aWFsSGVpZ2h0KVxuICAgICAgICAgICAgICAgID8gU3RyaW5nKG9iamVjdC5pbml0aWFsSGVpZ2h0KVxuICAgICAgICAgICAgICAgIDogXCIwXCIsXG4gICAgICAgIH07XG4gICAgfSxcbiAgICB0b0pTT04obWVzc2FnZSkge1xuICAgICAgICBjb25zdCBvYmogPSB7fTtcbiAgICAgICAgbWVzc2FnZS50aW1lICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIChvYmoudGltZSA9IGZyb21UaW1lc3RhbXAobWVzc2FnZS50aW1lKS50b0lTT1N0cmluZygpKTtcbiAgICAgICAgbWVzc2FnZS5jaGFpbklkICE9PSB1bmRlZmluZWQgJiYgKG9iai5jaGFpbklkID0gbWVzc2FnZS5jaGFpbklkKTtcbiAgICAgICAgbWVzc2FnZS5jb25zZW5zdXNQYXJhbXMgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgKG9iai5jb25zZW5zdXNQYXJhbXMgPSBtZXNzYWdlLmNvbnNlbnN1c1BhcmFtc1xuICAgICAgICAgICAgICAgID8gQ29uc2Vuc3VzUGFyYW1zLnRvSlNPTihtZXNzYWdlLmNvbnNlbnN1c1BhcmFtcylcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCk7XG4gICAgICAgIGlmIChtZXNzYWdlLnZhbGlkYXRvcnMpIHtcbiAgICAgICAgICAgIG9iai52YWxpZGF0b3JzID0gbWVzc2FnZS52YWxpZGF0b3JzLm1hcCgoZSkgPT4gZSA/IFZhbGlkYXRvclVwZGF0ZS50b0pTT04oZSkgOiB1bmRlZmluZWQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgb2JqLnZhbGlkYXRvcnMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBtZXNzYWdlLmFwcFN0YXRlQnl0ZXMgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgKG9iai5hcHBTdGF0ZUJ5dGVzID0gYmFzZTY0RnJvbUJ5dGVzKG1lc3NhZ2UuYXBwU3RhdGVCeXRlcyAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgPyBtZXNzYWdlLmFwcFN0YXRlQnl0ZXNcbiAgICAgICAgICAgICAgICA6IG5ldyBVaW50OEFycmF5KCkpKTtcbiAgICAgICAgbWVzc2FnZS5pbml0aWFsSGVpZ2h0ICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIChvYmouaW5pdGlhbEhlaWdodCA9IG1lc3NhZ2UuaW5pdGlhbEhlaWdodCk7XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfSxcbiAgICBmcm9tUGFydGlhbChvYmplY3QpIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VSZXF1ZXN0SW5pdENoYWluKCk7XG4gICAgICAgIG1lc3NhZ2UudGltZSA9XG4gICAgICAgICAgICBvYmplY3QudGltZSAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC50aW1lICE9PSBudWxsXG4gICAgICAgICAgICAgICAgPyBUaW1lc3RhbXAuZnJvbVBhcnRpYWwob2JqZWN0LnRpbWUpXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgIG1lc3NhZ2UuY2hhaW5JZCA9IG9iamVjdC5jaGFpbklkID8/IFwiXCI7XG4gICAgICAgIG1lc3NhZ2UuY29uc2Vuc3VzUGFyYW1zID1cbiAgICAgICAgICAgIG9iamVjdC5jb25zZW5zdXNQYXJhbXMgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QuY29uc2Vuc3VzUGFyYW1zICE9PSBudWxsXG4gICAgICAgICAgICAgICAgPyBDb25zZW5zdXNQYXJhbXMuZnJvbVBhcnRpYWwob2JqZWN0LmNvbnNlbnN1c1BhcmFtcylcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgbWVzc2FnZS52YWxpZGF0b3JzID1cbiAgICAgICAgICAgIG9iamVjdC52YWxpZGF0b3JzPy5tYXAoKGUpID0+IFZhbGlkYXRvclVwZGF0ZS5mcm9tUGFydGlhbChlKSkgfHwgW107XG4gICAgICAgIG1lc3NhZ2UuYXBwU3RhdGVCeXRlcyA9IG9iamVjdC5hcHBTdGF0ZUJ5dGVzID8/IG5ldyBVaW50OEFycmF5KCk7XG4gICAgICAgIG1lc3NhZ2UuaW5pdGlhbEhlaWdodCA9IG9iamVjdC5pbml0aWFsSGVpZ2h0ID8/IFwiMFwiO1xuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9LFxufTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VSZXF1ZXN0UXVlcnkoKSB7XG4gICAgcmV0dXJuIHsgZGF0YTogbmV3IFVpbnQ4QXJyYXkoKSwgcGF0aDogXCJcIiwgaGVpZ2h0OiBcIjBcIiwgcHJvdmU6IGZhbHNlIH07XG59XG5leHBvcnQgY29uc3QgUmVxdWVzdFF1ZXJ5ID0ge1xuICAgIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLmRhdGEubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDEwKS5ieXRlcyhtZXNzYWdlLmRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnBhdGggIT09IFwiXCIpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTgpLnN0cmluZyhtZXNzYWdlLnBhdGgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmhlaWdodCAhPT0gXCIwXCIpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjQpLmludDY0KG1lc3NhZ2UuaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5wcm92ZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigzMikuYm9vbChtZXNzYWdlLnByb3ZlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH0sXG4gICAgZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVJlcXVlc3RRdWVyeSgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZGF0YSA9IHJlYWRlci5ieXRlcygpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucGF0aCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmhlaWdodCA9IGxvbmdUb1N0cmluZyhyZWFkZXIuaW50NjQoKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5wcm92ZSA9IHJlYWRlci5ib29sKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfSxcbiAgICBmcm9tSlNPTihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGRhdGE6IGlzU2V0KG9iamVjdC5kYXRhKVxuICAgICAgICAgICAgICAgID8gYnl0ZXNGcm9tQmFzZTY0KG9iamVjdC5kYXRhKVxuICAgICAgICAgICAgICAgIDogbmV3IFVpbnQ4QXJyYXkoKSxcbiAgICAgICAgICAgIHBhdGg6IGlzU2V0KG9iamVjdC5wYXRoKSA/IFN0cmluZyhvYmplY3QucGF0aCkgOiBcIlwiLFxuICAgICAgICAgICAgaGVpZ2h0OiBpc1NldChvYmplY3QuaGVpZ2h0KSA/IFN0cmluZyhvYmplY3QuaGVpZ2h0KSA6IFwiMFwiLFxuICAgICAgICAgICAgcHJvdmU6IGlzU2V0KG9iamVjdC5wcm92ZSkgPyBCb29sZWFuKG9iamVjdC5wcm92ZSkgOiBmYWxzZSxcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIHRvSlNPTihtZXNzYWdlKSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgICAgICBtZXNzYWdlLmRhdGEgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgKG9iai5kYXRhID0gYmFzZTY0RnJvbUJ5dGVzKG1lc3NhZ2UuZGF0YSAhPT0gdW5kZWZpbmVkID8gbWVzc2FnZS5kYXRhIDogbmV3IFVpbnQ4QXJyYXkoKSkpO1xuICAgICAgICBtZXNzYWdlLnBhdGggIT09IHVuZGVmaW5lZCAmJiAob2JqLnBhdGggPSBtZXNzYWdlLnBhdGgpO1xuICAgICAgICBtZXNzYWdlLmhlaWdodCAhPT0gdW5kZWZpbmVkICYmIChvYmouaGVpZ2h0ID0gbWVzc2FnZS5oZWlnaHQpO1xuICAgICAgICBtZXNzYWdlLnByb3ZlICE9PSB1bmRlZmluZWQgJiYgKG9iai5wcm92ZSA9IG1lc3NhZ2UucHJvdmUpO1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH0sXG4gICAgZnJvbVBhcnRpYWwob2JqZWN0KSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUmVxdWVzdFF1ZXJ5KCk7XG4gICAgICAgIG1lc3NhZ2UuZGF0YSA9IG9iamVjdC5kYXRhID8/IG5ldyBVaW50OEFycmF5KCk7XG4gICAgICAgIG1lc3NhZ2UucGF0aCA9IG9iamVjdC5wYXRoID8/IFwiXCI7XG4gICAgICAgIG1lc3NhZ2UuaGVpZ2h0ID0gb2JqZWN0LmhlaWdodCA/PyBcIjBcIjtcbiAgICAgICAgbWVzc2FnZS5wcm92ZSA9IG9iamVjdC5wcm92ZSA/PyBmYWxzZTtcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfSxcbn07XG5mdW5jdGlvbiBjcmVhdGVCYXNlUmVxdWVzdEJlZ2luQmxvY2soKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaGFzaDogbmV3IFVpbnQ4QXJyYXkoKSxcbiAgICAgICAgaGVhZGVyOiB1bmRlZmluZWQsXG4gICAgICAgIGxhc3RDb21taXRJbmZvOiB1bmRlZmluZWQsXG4gICAgICAgIGJ5emFudGluZVZhbGlkYXRvcnM6IFtdLFxuICAgIH07XG59XG5leHBvcnQgY29uc3QgUmVxdWVzdEJlZ2luQmxvY2sgPSB7XG4gICAgZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UuaGFzaC5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTApLmJ5dGVzKG1lc3NhZ2UuaGFzaCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuaGVhZGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIEhlYWRlci5lbmNvZGUobWVzc2FnZS5oZWFkZXIsIHdyaXRlci51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UubGFzdENvbW1pdEluZm8gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgTGFzdENvbW1pdEluZm8uZW5jb2RlKG1lc3NhZ2UubGFzdENvbW1pdEluZm8sIHdyaXRlci51aW50MzIoMjYpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCB2IG9mIG1lc3NhZ2UuYnl6YW50aW5lVmFsaWRhdG9ycykge1xuICAgICAgICAgICAgRXZpZGVuY2UuZW5jb2RlKHYsIHdyaXRlci51aW50MzIoMzQpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9LFxuICAgIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VSZXF1ZXN0QmVnaW5CbG9jaygpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuaGFzaCA9IHJlYWRlci5ieXRlcygpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuaGVhZGVyID0gSGVhZGVyLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5sYXN0Q29tbWl0SW5mbyA9IExhc3RDb21taXRJbmZvLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5ieXphbnRpbmVWYWxpZGF0b3JzLnB1c2goRXZpZGVuY2UuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfSxcbiAgICBmcm9tSlNPTihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGhhc2g6IGlzU2V0KG9iamVjdC5oYXNoKVxuICAgICAgICAgICAgICAgID8gYnl0ZXNGcm9tQmFzZTY0KG9iamVjdC5oYXNoKVxuICAgICAgICAgICAgICAgIDogbmV3IFVpbnQ4QXJyYXkoKSxcbiAgICAgICAgICAgIGhlYWRlcjogaXNTZXQob2JqZWN0LmhlYWRlcikgPyBIZWFkZXIuZnJvbUpTT04ob2JqZWN0LmhlYWRlcikgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBsYXN0Q29tbWl0SW5mbzogaXNTZXQob2JqZWN0Lmxhc3RDb21taXRJbmZvKVxuICAgICAgICAgICAgICAgID8gTGFzdENvbW1pdEluZm8uZnJvbUpTT04ob2JqZWN0Lmxhc3RDb21taXRJbmZvKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgYnl6YW50aW5lVmFsaWRhdG9yczogQXJyYXkuaXNBcnJheShvYmplY3Q/LmJ5emFudGluZVZhbGlkYXRvcnMpXG4gICAgICAgICAgICAgICAgPyBvYmplY3QuYnl6YW50aW5lVmFsaWRhdG9ycy5tYXAoKGUpID0+IEV2aWRlbmNlLmZyb21KU09OKGUpKVxuICAgICAgICAgICAgICAgIDogW10sXG4gICAgICAgIH07XG4gICAgfSxcbiAgICB0b0pTT04obWVzc2FnZSkge1xuICAgICAgICBjb25zdCBvYmogPSB7fTtcbiAgICAgICAgbWVzc2FnZS5oYXNoICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIChvYmouaGFzaCA9IGJhc2U2NEZyb21CeXRlcyhtZXNzYWdlLmhhc2ggIT09IHVuZGVmaW5lZCA/IG1lc3NhZ2UuaGFzaCA6IG5ldyBVaW50OEFycmF5KCkpKTtcbiAgICAgICAgbWVzc2FnZS5oZWFkZXIgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgKG9iai5oZWFkZXIgPSBtZXNzYWdlLmhlYWRlciA/IEhlYWRlci50b0pTT04obWVzc2FnZS5oZWFkZXIpIDogdW5kZWZpbmVkKTtcbiAgICAgICAgbWVzc2FnZS5sYXN0Q29tbWl0SW5mbyAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAob2JqLmxhc3RDb21taXRJbmZvID0gbWVzc2FnZS5sYXN0Q29tbWl0SW5mb1xuICAgICAgICAgICAgICAgID8gTGFzdENvbW1pdEluZm8udG9KU09OKG1lc3NhZ2UubGFzdENvbW1pdEluZm8pXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQpO1xuICAgICAgICBpZiAobWVzc2FnZS5ieXphbnRpbmVWYWxpZGF0b3JzKSB7XG4gICAgICAgICAgICBvYmouYnl6YW50aW5lVmFsaWRhdG9ycyA9IG1lc3NhZ2UuYnl6YW50aW5lVmFsaWRhdG9ycy5tYXAoKGUpID0+IGUgPyBFdmlkZW5jZS50b0pTT04oZSkgOiB1bmRlZmluZWQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgb2JqLmJ5emFudGluZVZhbGlkYXRvcnMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH0sXG4gICAgZnJvbVBhcnRpYWwob2JqZWN0KSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUmVxdWVzdEJlZ2luQmxvY2soKTtcbiAgICAgICAgbWVzc2FnZS5oYXNoID0gb2JqZWN0Lmhhc2ggPz8gbmV3IFVpbnQ4QXJyYXkoKTtcbiAgICAgICAgbWVzc2FnZS5oZWFkZXIgPVxuICAgICAgICAgICAgb2JqZWN0LmhlYWRlciAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5oZWFkZXIgIT09IG51bGxcbiAgICAgICAgICAgICAgICA/IEhlYWRlci5mcm9tUGFydGlhbChvYmplY3QuaGVhZGVyKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICBtZXNzYWdlLmxhc3RDb21taXRJbmZvID1cbiAgICAgICAgICAgIG9iamVjdC5sYXN0Q29tbWl0SW5mbyAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5sYXN0Q29tbWl0SW5mbyAhPT0gbnVsbFxuICAgICAgICAgICAgICAgID8gTGFzdENvbW1pdEluZm8uZnJvbVBhcnRpYWwob2JqZWN0Lmxhc3RDb21taXRJbmZvKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICBtZXNzYWdlLmJ5emFudGluZVZhbGlkYXRvcnMgPVxuICAgICAgICAgICAgb2JqZWN0LmJ5emFudGluZVZhbGlkYXRvcnM/Lm1hcCgoZSkgPT4gRXZpZGVuY2UuZnJvbVBhcnRpYWwoZSkpIHx8IFtdO1xuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9LFxufTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VSZXF1ZXN0Q2hlY2tUeCgpIHtcbiAgICByZXR1cm4geyB0eDogbmV3IFVpbnQ4QXJyYXkoKSwgdHlwZTogMCB9O1xufVxuZXhwb3J0IGNvbnN0IFJlcXVlc3RDaGVja1R4ID0ge1xuICAgIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLnR4Lmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxMCkuYnl0ZXMobWVzc2FnZS50eCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UudHlwZSAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxNikuaW50MzIobWVzc2FnZS50eXBlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH0sXG4gICAgZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVJlcXVlc3RDaGVja1R4KCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50eCA9IHJlYWRlci5ieXRlcygpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudHlwZSA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG4gICAgZnJvbUpTT04ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eDogaXNTZXQob2JqZWN0LnR4KSA/IGJ5dGVzRnJvbUJhc2U2NChvYmplY3QudHgpIDogbmV3IFVpbnQ4QXJyYXkoKSxcbiAgICAgICAgICAgIHR5cGU6IGlzU2V0KG9iamVjdC50eXBlKSA/IGNoZWNrVHhUeXBlRnJvbUpTT04ob2JqZWN0LnR5cGUpIDogMCxcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIHRvSlNPTihtZXNzYWdlKSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgICAgICBtZXNzYWdlLnR4ICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIChvYmoudHggPSBiYXNlNjRGcm9tQnl0ZXMobWVzc2FnZS50eCAhPT0gdW5kZWZpbmVkID8gbWVzc2FnZS50eCA6IG5ldyBVaW50OEFycmF5KCkpKTtcbiAgICAgICAgbWVzc2FnZS50eXBlICE9PSB1bmRlZmluZWQgJiYgKG9iai50eXBlID0gY2hlY2tUeFR5cGVUb0pTT04obWVzc2FnZS50eXBlKSk7XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfSxcbiAgICBmcm9tUGFydGlhbChvYmplY3QpIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VSZXF1ZXN0Q2hlY2tUeCgpO1xuICAgICAgICBtZXNzYWdlLnR4ID0gb2JqZWN0LnR4ID8/IG5ldyBVaW50OEFycmF5KCk7XG4gICAgICAgIG1lc3NhZ2UudHlwZSA9IG9iamVjdC50eXBlID8/IDA7XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG59O1xuZnVuY3Rpb24gY3JlYXRlQmFzZVJlcXVlc3REZWxpdmVyVHgoKSB7XG4gICAgcmV0dXJuIHsgdHg6IG5ldyBVaW50OEFycmF5KCkgfTtcbn1cbmV4cG9ydCBjb25zdCBSZXF1ZXN0RGVsaXZlclR4ID0ge1xuICAgIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLnR4Lmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxMCkuYnl0ZXMobWVzc2FnZS50eCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9LFxuICAgIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VSZXF1ZXN0RGVsaXZlclR4KCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50eCA9IHJlYWRlci5ieXRlcygpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG4gICAgZnJvbUpTT04ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eDogaXNTZXQob2JqZWN0LnR4KSA/IGJ5dGVzRnJvbUJhc2U2NChvYmplY3QudHgpIDogbmV3IFVpbnQ4QXJyYXkoKSxcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIHRvSlNPTihtZXNzYWdlKSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgICAgICBtZXNzYWdlLnR4ICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIChvYmoudHggPSBiYXNlNjRGcm9tQnl0ZXMobWVzc2FnZS50eCAhPT0gdW5kZWZpbmVkID8gbWVzc2FnZS50eCA6IG5ldyBVaW50OEFycmF5KCkpKTtcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9LFxuICAgIGZyb21QYXJ0aWFsKG9iamVjdCkge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVJlcXVlc3REZWxpdmVyVHgoKTtcbiAgICAgICAgbWVzc2FnZS50eCA9IG9iamVjdC50eCA/PyBuZXcgVWludDhBcnJheSgpO1xuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9LFxufTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VSZXF1ZXN0RW5kQmxvY2soKSB7XG4gICAgcmV0dXJuIHsgaGVpZ2h0OiBcIjBcIiB9O1xufVxuZXhwb3J0IGNvbnN0IFJlcXVlc3RFbmRCbG9jayA9IHtcbiAgICBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS5oZWlnaHQgIT09IFwiMFwiKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDgpLmludDY0KG1lc3NhZ2UuaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH0sXG4gICAgZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVJlcXVlc3RFbmRCbG9jaygpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuaGVpZ2h0ID0gbG9uZ1RvU3RyaW5nKHJlYWRlci5pbnQ2NCgpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9LFxuICAgIGZyb21KU09OKG9iamVjdCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaGVpZ2h0OiBpc1NldChvYmplY3QuaGVpZ2h0KSA/IFN0cmluZyhvYmplY3QuaGVpZ2h0KSA6IFwiMFwiLFxuICAgICAgICB9O1xuICAgIH0sXG4gICAgdG9KU09OKG1lc3NhZ2UpIHtcbiAgICAgICAgY29uc3Qgb2JqID0ge307XG4gICAgICAgIG1lc3NhZ2UuaGVpZ2h0ICE9PSB1bmRlZmluZWQgJiYgKG9iai5oZWlnaHQgPSBtZXNzYWdlLmhlaWdodCk7XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfSxcbiAgICBmcm9tUGFydGlhbChvYmplY3QpIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VSZXF1ZXN0RW5kQmxvY2soKTtcbiAgICAgICAgbWVzc2FnZS5oZWlnaHQgPSBvYmplY3QuaGVpZ2h0ID8/IFwiMFwiO1xuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9LFxufTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VSZXF1ZXN0Q29tbWl0KCkge1xuICAgIHJldHVybiB7fTtcbn1cbmV4cG9ydCBjb25zdCBSZXF1ZXN0Q29tbWl0ID0ge1xuICAgIGVuY29kZShfLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfSxcbiAgICBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUmVxdWVzdENvbW1pdCgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG4gICAgZnJvbUpTT04oXykge1xuICAgICAgICByZXR1cm4ge307XG4gICAgfSxcbiAgICB0b0pTT04oXykge1xuICAgICAgICBjb25zdCBvYmogPSB7fTtcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9LFxuICAgIGZyb21QYXJ0aWFsKF8pIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VSZXF1ZXN0Q29tbWl0KCk7XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG59O1xuZnVuY3Rpb24gY3JlYXRlQmFzZVJlcXVlc3RMaXN0U25hcHNob3RzKCkge1xuICAgIHJldHVybiB7fTtcbn1cbmV4cG9ydCBjb25zdCBSZXF1ZXN0TGlzdFNuYXBzaG90cyA9IHtcbiAgICBlbmNvZGUoXywgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH0sXG4gICAgZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVJlcXVlc3RMaXN0U25hcHNob3RzKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfSxcbiAgICBmcm9tSlNPTihfKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9LFxuICAgIHRvSlNPTihfKSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH0sXG4gICAgZnJvbVBhcnRpYWwoXykge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVJlcXVlc3RMaXN0U25hcHNob3RzKCk7XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG59O1xuZnVuY3Rpb24gY3JlYXRlQmFzZVJlcXVlc3RPZmZlclNuYXBzaG90KCkge1xuICAgIHJldHVybiB7IHNuYXBzaG90OiB1bmRlZmluZWQsIGFwcEhhc2g6IG5ldyBVaW50OEFycmF5KCkgfTtcbn1cbmV4cG9ydCBjb25zdCBSZXF1ZXN0T2ZmZXJTbmFwc2hvdCA9IHtcbiAgICBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS5zbmFwc2hvdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBTbmFwc2hvdC5lbmNvZGUobWVzc2FnZS5zbmFwc2hvdCwgd3JpdGVyLnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5hcHBIYXNoLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxOCkuYnl0ZXMobWVzc2FnZS5hcHBIYXNoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH0sXG4gICAgZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVJlcXVlc3RPZmZlclNuYXBzaG90KCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zbmFwc2hvdCA9IFNuYXBzaG90LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5hcHBIYXNoID0gcmVhZGVyLmJ5dGVzKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfSxcbiAgICBmcm9tSlNPTihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHNuYXBzaG90OiBpc1NldChvYmplY3Quc25hcHNob3QpXG4gICAgICAgICAgICAgICAgPyBTbmFwc2hvdC5mcm9tSlNPTihvYmplY3Quc25hcHNob3QpXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBhcHBIYXNoOiBpc1NldChvYmplY3QuYXBwSGFzaClcbiAgICAgICAgICAgICAgICA/IGJ5dGVzRnJvbUJhc2U2NChvYmplY3QuYXBwSGFzaClcbiAgICAgICAgICAgICAgICA6IG5ldyBVaW50OEFycmF5KCksXG4gICAgICAgIH07XG4gICAgfSxcbiAgICB0b0pTT04obWVzc2FnZSkge1xuICAgICAgICBjb25zdCBvYmogPSB7fTtcbiAgICAgICAgbWVzc2FnZS5zbmFwc2hvdCAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAob2JqLnNuYXBzaG90ID0gbWVzc2FnZS5zbmFwc2hvdFxuICAgICAgICAgICAgICAgID8gU25hcHNob3QudG9KU09OKG1lc3NhZ2Uuc25hcHNob3QpXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQpO1xuICAgICAgICBtZXNzYWdlLmFwcEhhc2ggIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgKG9iai5hcHBIYXNoID0gYmFzZTY0RnJvbUJ5dGVzKG1lc3NhZ2UuYXBwSGFzaCAhPT0gdW5kZWZpbmVkID8gbWVzc2FnZS5hcHBIYXNoIDogbmV3IFVpbnQ4QXJyYXkoKSkpO1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH0sXG4gICAgZnJvbVBhcnRpYWwob2JqZWN0KSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUmVxdWVzdE9mZmVyU25hcHNob3QoKTtcbiAgICAgICAgbWVzc2FnZS5zbmFwc2hvdCA9XG4gICAgICAgICAgICBvYmplY3Quc25hcHNob3QgIT09IHVuZGVmaW5lZCAmJiBvYmplY3Quc25hcHNob3QgIT09IG51bGxcbiAgICAgICAgICAgICAgICA/IFNuYXBzaG90LmZyb21QYXJ0aWFsKG9iamVjdC5zbmFwc2hvdClcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgbWVzc2FnZS5hcHBIYXNoID0gb2JqZWN0LmFwcEhhc2ggPz8gbmV3IFVpbnQ4QXJyYXkoKTtcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfSxcbn07XG5mdW5jdGlvbiBjcmVhdGVCYXNlUmVxdWVzdExvYWRTbmFwc2hvdENodW5rKCkge1xuICAgIHJldHVybiB7IGhlaWdodDogXCIwXCIsIGZvcm1hdDogMCwgY2h1bms6IDAgfTtcbn1cbmV4cG9ydCBjb25zdCBSZXF1ZXN0TG9hZFNuYXBzaG90Q2h1bmsgPSB7XG4gICAgZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UuaGVpZ2h0ICE9PSBcIjBcIikge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig4KS51aW50NjQobWVzc2FnZS5oZWlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmZvcm1hdCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxNikudWludDMyKG1lc3NhZ2UuZm9ybWF0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5jaHVuayAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyNCkudWludDMyKG1lc3NhZ2UuY2h1bmspO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfSxcbiAgICBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUmVxdWVzdExvYWRTbmFwc2hvdENodW5rKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5oZWlnaHQgPSBsb25nVG9TdHJpbmcocmVhZGVyLnVpbnQ2NCgpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmZvcm1hdCA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmNodW5rID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG4gICAgZnJvbUpTT04ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBoZWlnaHQ6IGlzU2V0KG9iamVjdC5oZWlnaHQpID8gU3RyaW5nKG9iamVjdC5oZWlnaHQpIDogXCIwXCIsXG4gICAgICAgICAgICBmb3JtYXQ6IGlzU2V0KG9iamVjdC5mb3JtYXQpID8gTnVtYmVyKG9iamVjdC5mb3JtYXQpIDogMCxcbiAgICAgICAgICAgIGNodW5rOiBpc1NldChvYmplY3QuY2h1bmspID8gTnVtYmVyKG9iamVjdC5jaHVuaykgOiAwLFxuICAgICAgICB9O1xuICAgIH0sXG4gICAgdG9KU09OKG1lc3NhZ2UpIHtcbiAgICAgICAgY29uc3Qgb2JqID0ge307XG4gICAgICAgIG1lc3NhZ2UuaGVpZ2h0ICE9PSB1bmRlZmluZWQgJiYgKG9iai5oZWlnaHQgPSBtZXNzYWdlLmhlaWdodCk7XG4gICAgICAgIG1lc3NhZ2UuZm9ybWF0ICE9PSB1bmRlZmluZWQgJiYgKG9iai5mb3JtYXQgPSBNYXRoLnJvdW5kKG1lc3NhZ2UuZm9ybWF0KSk7XG4gICAgICAgIG1lc3NhZ2UuY2h1bmsgIT09IHVuZGVmaW5lZCAmJiAob2JqLmNodW5rID0gTWF0aC5yb3VuZChtZXNzYWdlLmNodW5rKSk7XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfSxcbiAgICBmcm9tUGFydGlhbChvYmplY3QpIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VSZXF1ZXN0TG9hZFNuYXBzaG90Q2h1bmsoKTtcbiAgICAgICAgbWVzc2FnZS5oZWlnaHQgPSBvYmplY3QuaGVpZ2h0ID8/IFwiMFwiO1xuICAgICAgICBtZXNzYWdlLmZvcm1hdCA9IG9iamVjdC5mb3JtYXQgPz8gMDtcbiAgICAgICAgbWVzc2FnZS5jaHVuayA9IG9iamVjdC5jaHVuayA/PyAwO1xuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9LFxufTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VSZXF1ZXN0QXBwbHlTbmFwc2hvdENodW5rKCkge1xuICAgIHJldHVybiB7IGluZGV4OiAwLCBjaHVuazogbmV3IFVpbnQ4QXJyYXkoKSwgc2VuZGVyOiBcIlwiIH07XG59XG5leHBvcnQgY29uc3QgUmVxdWVzdEFwcGx5U25hcHNob3RDaHVuayA9IHtcbiAgICBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS5pbmRleCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig4KS51aW50MzIobWVzc2FnZS5pbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuY2h1bmsubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDE4KS5ieXRlcyhtZXNzYWdlLmNodW5rKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5zZW5kZXIgIT09IFwiXCIpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjYpLnN0cmluZyhtZXNzYWdlLnNlbmRlcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9LFxuICAgIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VSZXF1ZXN0QXBwbHlTbmFwc2hvdENodW5rKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5pbmRleCA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmNodW5rID0gcmVhZGVyLmJ5dGVzKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zZW5kZXIgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfSxcbiAgICBmcm9tSlNPTihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGluZGV4OiBpc1NldChvYmplY3QuaW5kZXgpID8gTnVtYmVyKG9iamVjdC5pbmRleCkgOiAwLFxuICAgICAgICAgICAgY2h1bms6IGlzU2V0KG9iamVjdC5jaHVuaylcbiAgICAgICAgICAgICAgICA/IGJ5dGVzRnJvbUJhc2U2NChvYmplY3QuY2h1bmspXG4gICAgICAgICAgICAgICAgOiBuZXcgVWludDhBcnJheSgpLFxuICAgICAgICAgICAgc2VuZGVyOiBpc1NldChvYmplY3Quc2VuZGVyKSA/IFN0cmluZyhvYmplY3Quc2VuZGVyKSA6IFwiXCIsXG4gICAgICAgIH07XG4gICAgfSxcbiAgICB0b0pTT04obWVzc2FnZSkge1xuICAgICAgICBjb25zdCBvYmogPSB7fTtcbiAgICAgICAgbWVzc2FnZS5pbmRleCAhPT0gdW5kZWZpbmVkICYmIChvYmouaW5kZXggPSBNYXRoLnJvdW5kKG1lc3NhZ2UuaW5kZXgpKTtcbiAgICAgICAgbWVzc2FnZS5jaHVuayAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAob2JqLmNodW5rID0gYmFzZTY0RnJvbUJ5dGVzKG1lc3NhZ2UuY2h1bmsgIT09IHVuZGVmaW5lZCA/IG1lc3NhZ2UuY2h1bmsgOiBuZXcgVWludDhBcnJheSgpKSk7XG4gICAgICAgIG1lc3NhZ2Uuc2VuZGVyICE9PSB1bmRlZmluZWQgJiYgKG9iai5zZW5kZXIgPSBtZXNzYWdlLnNlbmRlcik7XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfSxcbiAgICBmcm9tUGFydGlhbChvYmplY3QpIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VSZXF1ZXN0QXBwbHlTbmFwc2hvdENodW5rKCk7XG4gICAgICAgIG1lc3NhZ2UuaW5kZXggPSBvYmplY3QuaW5kZXggPz8gMDtcbiAgICAgICAgbWVzc2FnZS5jaHVuayA9IG9iamVjdC5jaHVuayA/PyBuZXcgVWludDhBcnJheSgpO1xuICAgICAgICBtZXNzYWdlLnNlbmRlciA9IG9iamVjdC5zZW5kZXIgPz8gXCJcIjtcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfSxcbn07XG5mdW5jdGlvbiBjcmVhdGVCYXNlUmVzcG9uc2UoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZXhjZXB0aW9uOiB1bmRlZmluZWQsXG4gICAgICAgIGVjaG86IHVuZGVmaW5lZCxcbiAgICAgICAgZmx1c2g6IHVuZGVmaW5lZCxcbiAgICAgICAgaW5mbzogdW5kZWZpbmVkLFxuICAgICAgICBzZXRPcHRpb246IHVuZGVmaW5lZCxcbiAgICAgICAgaW5pdENoYWluOiB1bmRlZmluZWQsXG4gICAgICAgIHF1ZXJ5OiB1bmRlZmluZWQsXG4gICAgICAgIGJlZ2luQmxvY2s6IHVuZGVmaW5lZCxcbiAgICAgICAgY2hlY2tUeDogdW5kZWZpbmVkLFxuICAgICAgICBkZWxpdmVyVHg6IHVuZGVmaW5lZCxcbiAgICAgICAgZW5kQmxvY2s6IHVuZGVmaW5lZCxcbiAgICAgICAgY29tbWl0OiB1bmRlZmluZWQsXG4gICAgICAgIGxpc3RTbmFwc2hvdHM6IHVuZGVmaW5lZCxcbiAgICAgICAgb2ZmZXJTbmFwc2hvdDogdW5kZWZpbmVkLFxuICAgICAgICBsb2FkU25hcHNob3RDaHVuazogdW5kZWZpbmVkLFxuICAgICAgICBhcHBseVNuYXBzaG90Q2h1bms6IHVuZGVmaW5lZCxcbiAgICB9O1xufVxuZXhwb3J0IGNvbnN0IFJlc3BvbnNlID0ge1xuICAgIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLmV4Y2VwdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBSZXNwb25zZUV4Y2VwdGlvbi5lbmNvZGUobWVzc2FnZS5leGNlcHRpb24sIHdyaXRlci51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuZWNobyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBSZXNwb25zZUVjaG8uZW5jb2RlKG1lc3NhZ2UuZWNobywgd3JpdGVyLnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5mbHVzaCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBSZXNwb25zZUZsdXNoLmVuY29kZShtZXNzYWdlLmZsdXNoLCB3cml0ZXIudWludDMyKDI2KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmluZm8gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgUmVzcG9uc2VJbmZvLmVuY29kZShtZXNzYWdlLmluZm8sIHdyaXRlci51aW50MzIoMzQpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2Uuc2V0T3B0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIFJlc3BvbnNlU2V0T3B0aW9uLmVuY29kZShtZXNzYWdlLnNldE9wdGlvbiwgd3JpdGVyLnVpbnQzMig0MikuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5pbml0Q2hhaW4gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgUmVzcG9uc2VJbml0Q2hhaW4uZW5jb2RlKG1lc3NhZ2UuaW5pdENoYWluLCB3cml0ZXIudWludDMyKDUwKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnF1ZXJ5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIFJlc3BvbnNlUXVlcnkuZW5jb2RlKG1lc3NhZ2UucXVlcnksIHdyaXRlci51aW50MzIoNTgpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuYmVnaW5CbG9jayAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBSZXNwb25zZUJlZ2luQmxvY2suZW5jb2RlKG1lc3NhZ2UuYmVnaW5CbG9jaywgd3JpdGVyLnVpbnQzMig2NikuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5jaGVja1R4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIFJlc3BvbnNlQ2hlY2tUeC5lbmNvZGUobWVzc2FnZS5jaGVja1R4LCB3cml0ZXIudWludDMyKDc0KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmRlbGl2ZXJUeCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBSZXNwb25zZURlbGl2ZXJUeC5lbmNvZGUobWVzc2FnZS5kZWxpdmVyVHgsIHdyaXRlci51aW50MzIoODIpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuZW5kQmxvY2sgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgUmVzcG9uc2VFbmRCbG9jay5lbmNvZGUobWVzc2FnZS5lbmRCbG9jaywgd3JpdGVyLnVpbnQzMig5MCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5jb21taXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgUmVzcG9uc2VDb21taXQuZW5jb2RlKG1lc3NhZ2UuY29tbWl0LCB3cml0ZXIudWludDMyKDk4KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmxpc3RTbmFwc2hvdHMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgUmVzcG9uc2VMaXN0U25hcHNob3RzLmVuY29kZShtZXNzYWdlLmxpc3RTbmFwc2hvdHMsIHdyaXRlci51aW50MzIoMTA2KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLm9mZmVyU25hcHNob3QgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgUmVzcG9uc2VPZmZlclNuYXBzaG90LmVuY29kZShtZXNzYWdlLm9mZmVyU25hcHNob3QsIHdyaXRlci51aW50MzIoMTE0KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmxvYWRTbmFwc2hvdENodW5rICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIFJlc3BvbnNlTG9hZFNuYXBzaG90Q2h1bmsuZW5jb2RlKG1lc3NhZ2UubG9hZFNuYXBzaG90Q2h1bmssIHdyaXRlci51aW50MzIoMTIyKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmFwcGx5U25hcHNob3RDaHVuayAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBSZXNwb25zZUFwcGx5U25hcHNob3RDaHVuay5lbmNvZGUobWVzc2FnZS5hcHBseVNuYXBzaG90Q2h1bmssIHdyaXRlci51aW50MzIoMTMwKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfSxcbiAgICBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUmVzcG9uc2UoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmV4Y2VwdGlvbiA9IFJlc3BvbnNlRXhjZXB0aW9uLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5lY2hvID0gUmVzcG9uc2VFY2hvLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5mbHVzaCA9IFJlc3BvbnNlRmx1c2guZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmluZm8gPSBSZXNwb25zZUluZm8uZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnNldE9wdGlvbiA9IFJlc3BvbnNlU2V0T3B0aW9uLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5pbml0Q2hhaW4gPSBSZXNwb25zZUluaXRDaGFpbi5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucXVlcnkgPSBSZXNwb25zZVF1ZXJ5LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5iZWdpbkJsb2NrID0gUmVzcG9uc2VCZWdpbkJsb2NrLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgOTpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5jaGVja1R4ID0gUmVzcG9uc2VDaGVja1R4LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMTA6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZGVsaXZlclR4ID0gUmVzcG9uc2VEZWxpdmVyVHguZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5lbmRCbG9jayA9IFJlc3BvbnNlRW5kQmxvY2suZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5jb21taXQgPSBSZXNwb25zZUNvbW1pdC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmxpc3RTbmFwc2hvdHMgPSBSZXNwb25zZUxpc3RTbmFwc2hvdHMuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAxNDpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5vZmZlclNuYXBzaG90ID0gUmVzcG9uc2VPZmZlclNuYXBzaG90LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMTU6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubG9hZFNuYXBzaG90Q2h1bmsgPSBSZXNwb25zZUxvYWRTbmFwc2hvdENodW5rLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMTY6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYXBwbHlTbmFwc2hvdENodW5rID0gUmVzcG9uc2VBcHBseVNuYXBzaG90Q2h1bmsuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9LFxuICAgIGZyb21KU09OKG9iamVjdCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZXhjZXB0aW9uOiBpc1NldChvYmplY3QuZXhjZXB0aW9uKVxuICAgICAgICAgICAgICAgID8gUmVzcG9uc2VFeGNlcHRpb24uZnJvbUpTT04ob2JqZWN0LmV4Y2VwdGlvbilcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGVjaG86IGlzU2V0KG9iamVjdC5lY2hvKSA/IFJlc3BvbnNlRWNoby5mcm9tSlNPTihvYmplY3QuZWNobykgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBmbHVzaDogaXNTZXQob2JqZWN0LmZsdXNoKVxuICAgICAgICAgICAgICAgID8gUmVzcG9uc2VGbHVzaC5mcm9tSlNPTihvYmplY3QuZmx1c2gpXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBpbmZvOiBpc1NldChvYmplY3QuaW5mbykgPyBSZXNwb25zZUluZm8uZnJvbUpTT04ob2JqZWN0LmluZm8pIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgc2V0T3B0aW9uOiBpc1NldChvYmplY3Quc2V0T3B0aW9uKVxuICAgICAgICAgICAgICAgID8gUmVzcG9uc2VTZXRPcHRpb24uZnJvbUpTT04ob2JqZWN0LnNldE9wdGlvbilcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGluaXRDaGFpbjogaXNTZXQob2JqZWN0LmluaXRDaGFpbilcbiAgICAgICAgICAgICAgICA/IFJlc3BvbnNlSW5pdENoYWluLmZyb21KU09OKG9iamVjdC5pbml0Q2hhaW4pXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBxdWVyeTogaXNTZXQob2JqZWN0LnF1ZXJ5KVxuICAgICAgICAgICAgICAgID8gUmVzcG9uc2VRdWVyeS5mcm9tSlNPTihvYmplY3QucXVlcnkpXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBiZWdpbkJsb2NrOiBpc1NldChvYmplY3QuYmVnaW5CbG9jaylcbiAgICAgICAgICAgICAgICA/IFJlc3BvbnNlQmVnaW5CbG9jay5mcm9tSlNPTihvYmplY3QuYmVnaW5CbG9jaylcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGNoZWNrVHg6IGlzU2V0KG9iamVjdC5jaGVja1R4KVxuICAgICAgICAgICAgICAgID8gUmVzcG9uc2VDaGVja1R4LmZyb21KU09OKG9iamVjdC5jaGVja1R4KVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgZGVsaXZlclR4OiBpc1NldChvYmplY3QuZGVsaXZlclR4KVxuICAgICAgICAgICAgICAgID8gUmVzcG9uc2VEZWxpdmVyVHguZnJvbUpTT04ob2JqZWN0LmRlbGl2ZXJUeClcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGVuZEJsb2NrOiBpc1NldChvYmplY3QuZW5kQmxvY2spXG4gICAgICAgICAgICAgICAgPyBSZXNwb25zZUVuZEJsb2NrLmZyb21KU09OKG9iamVjdC5lbmRCbG9jaylcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGNvbW1pdDogaXNTZXQob2JqZWN0LmNvbW1pdClcbiAgICAgICAgICAgICAgICA/IFJlc3BvbnNlQ29tbWl0LmZyb21KU09OKG9iamVjdC5jb21taXQpXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBsaXN0U25hcHNob3RzOiBpc1NldChvYmplY3QubGlzdFNuYXBzaG90cylcbiAgICAgICAgICAgICAgICA/IFJlc3BvbnNlTGlzdFNuYXBzaG90cy5mcm9tSlNPTihvYmplY3QubGlzdFNuYXBzaG90cylcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIG9mZmVyU25hcHNob3Q6IGlzU2V0KG9iamVjdC5vZmZlclNuYXBzaG90KVxuICAgICAgICAgICAgICAgID8gUmVzcG9uc2VPZmZlclNuYXBzaG90LmZyb21KU09OKG9iamVjdC5vZmZlclNuYXBzaG90KVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgbG9hZFNuYXBzaG90Q2h1bms6IGlzU2V0KG9iamVjdC5sb2FkU25hcHNob3RDaHVuaylcbiAgICAgICAgICAgICAgICA/IFJlc3BvbnNlTG9hZFNuYXBzaG90Q2h1bmsuZnJvbUpTT04ob2JqZWN0LmxvYWRTbmFwc2hvdENodW5rKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgYXBwbHlTbmFwc2hvdENodW5rOiBpc1NldChvYmplY3QuYXBwbHlTbmFwc2hvdENodW5rKVxuICAgICAgICAgICAgICAgID8gUmVzcG9uc2VBcHBseVNuYXBzaG90Q2h1bmsuZnJvbUpTT04ob2JqZWN0LmFwcGx5U25hcHNob3RDaHVuaylcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIHRvSlNPTihtZXNzYWdlKSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgICAgICBtZXNzYWdlLmV4Y2VwdGlvbiAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAob2JqLmV4Y2VwdGlvbiA9IG1lc3NhZ2UuZXhjZXB0aW9uXG4gICAgICAgICAgICAgICAgPyBSZXNwb25zZUV4Y2VwdGlvbi50b0pTT04obWVzc2FnZS5leGNlcHRpb24pXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQpO1xuICAgICAgICBtZXNzYWdlLmVjaG8gIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgKG9iai5lY2hvID0gbWVzc2FnZS5lY2hvID8gUmVzcG9uc2VFY2hvLnRvSlNPTihtZXNzYWdlLmVjaG8pIDogdW5kZWZpbmVkKTtcbiAgICAgICAgbWVzc2FnZS5mbHVzaCAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAob2JqLmZsdXNoID0gbWVzc2FnZS5mbHVzaFxuICAgICAgICAgICAgICAgID8gUmVzcG9uc2VGbHVzaC50b0pTT04obWVzc2FnZS5mbHVzaClcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCk7XG4gICAgICAgIG1lc3NhZ2UuaW5mbyAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAob2JqLmluZm8gPSBtZXNzYWdlLmluZm8gPyBSZXNwb25zZUluZm8udG9KU09OKG1lc3NhZ2UuaW5mbykgOiB1bmRlZmluZWQpO1xuICAgICAgICBtZXNzYWdlLnNldE9wdGlvbiAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAob2JqLnNldE9wdGlvbiA9IG1lc3NhZ2Uuc2V0T3B0aW9uXG4gICAgICAgICAgICAgICAgPyBSZXNwb25zZVNldE9wdGlvbi50b0pTT04obWVzc2FnZS5zZXRPcHRpb24pXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQpO1xuICAgICAgICBtZXNzYWdlLmluaXRDaGFpbiAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAob2JqLmluaXRDaGFpbiA9IG1lc3NhZ2UuaW5pdENoYWluXG4gICAgICAgICAgICAgICAgPyBSZXNwb25zZUluaXRDaGFpbi50b0pTT04obWVzc2FnZS5pbml0Q2hhaW4pXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQpO1xuICAgICAgICBtZXNzYWdlLnF1ZXJ5ICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIChvYmoucXVlcnkgPSBtZXNzYWdlLnF1ZXJ5XG4gICAgICAgICAgICAgICAgPyBSZXNwb25zZVF1ZXJ5LnRvSlNPTihtZXNzYWdlLnF1ZXJ5KVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkKTtcbiAgICAgICAgbWVzc2FnZS5iZWdpbkJsb2NrICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIChvYmouYmVnaW5CbG9jayA9IG1lc3NhZ2UuYmVnaW5CbG9ja1xuICAgICAgICAgICAgICAgID8gUmVzcG9uc2VCZWdpbkJsb2NrLnRvSlNPTihtZXNzYWdlLmJlZ2luQmxvY2spXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQpO1xuICAgICAgICBtZXNzYWdlLmNoZWNrVHggIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgKG9iai5jaGVja1R4ID0gbWVzc2FnZS5jaGVja1R4XG4gICAgICAgICAgICAgICAgPyBSZXNwb25zZUNoZWNrVHgudG9KU09OKG1lc3NhZ2UuY2hlY2tUeClcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCk7XG4gICAgICAgIG1lc3NhZ2UuZGVsaXZlclR4ICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIChvYmouZGVsaXZlclR4ID0gbWVzc2FnZS5kZWxpdmVyVHhcbiAgICAgICAgICAgICAgICA/IFJlc3BvbnNlRGVsaXZlclR4LnRvSlNPTihtZXNzYWdlLmRlbGl2ZXJUeClcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCk7XG4gICAgICAgIG1lc3NhZ2UuZW5kQmxvY2sgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgKG9iai5lbmRCbG9jayA9IG1lc3NhZ2UuZW5kQmxvY2tcbiAgICAgICAgICAgICAgICA/IFJlc3BvbnNlRW5kQmxvY2sudG9KU09OKG1lc3NhZ2UuZW5kQmxvY2spXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQpO1xuICAgICAgICBtZXNzYWdlLmNvbW1pdCAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAob2JqLmNvbW1pdCA9IG1lc3NhZ2UuY29tbWl0XG4gICAgICAgICAgICAgICAgPyBSZXNwb25zZUNvbW1pdC50b0pTT04obWVzc2FnZS5jb21taXQpXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQpO1xuICAgICAgICBtZXNzYWdlLmxpc3RTbmFwc2hvdHMgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgKG9iai5saXN0U25hcHNob3RzID0gbWVzc2FnZS5saXN0U25hcHNob3RzXG4gICAgICAgICAgICAgICAgPyBSZXNwb25zZUxpc3RTbmFwc2hvdHMudG9KU09OKG1lc3NhZ2UubGlzdFNuYXBzaG90cylcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCk7XG4gICAgICAgIG1lc3NhZ2Uub2ZmZXJTbmFwc2hvdCAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAob2JqLm9mZmVyU25hcHNob3QgPSBtZXNzYWdlLm9mZmVyU25hcHNob3RcbiAgICAgICAgICAgICAgICA/IFJlc3BvbnNlT2ZmZXJTbmFwc2hvdC50b0pTT04obWVzc2FnZS5vZmZlclNuYXBzaG90KVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkKTtcbiAgICAgICAgbWVzc2FnZS5sb2FkU25hcHNob3RDaHVuayAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAob2JqLmxvYWRTbmFwc2hvdENodW5rID0gbWVzc2FnZS5sb2FkU25hcHNob3RDaHVua1xuICAgICAgICAgICAgICAgID8gUmVzcG9uc2VMb2FkU25hcHNob3RDaHVuay50b0pTT04obWVzc2FnZS5sb2FkU25hcHNob3RDaHVuaylcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCk7XG4gICAgICAgIG1lc3NhZ2UuYXBwbHlTbmFwc2hvdENodW5rICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIChvYmouYXBwbHlTbmFwc2hvdENodW5rID0gbWVzc2FnZS5hcHBseVNuYXBzaG90Q2h1bmtcbiAgICAgICAgICAgICAgICA/IFJlc3BvbnNlQXBwbHlTbmFwc2hvdENodW5rLnRvSlNPTihtZXNzYWdlLmFwcGx5U25hcHNob3RDaHVuaylcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCk7XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfSxcbiAgICBmcm9tUGFydGlhbChvYmplY3QpIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VSZXNwb25zZSgpO1xuICAgICAgICBtZXNzYWdlLmV4Y2VwdGlvbiA9XG4gICAgICAgICAgICBvYmplY3QuZXhjZXB0aW9uICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LmV4Y2VwdGlvbiAhPT0gbnVsbFxuICAgICAgICAgICAgICAgID8gUmVzcG9uc2VFeGNlcHRpb24uZnJvbVBhcnRpYWwob2JqZWN0LmV4Y2VwdGlvbilcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgbWVzc2FnZS5lY2hvID1cbiAgICAgICAgICAgIG9iamVjdC5lY2hvICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LmVjaG8gIT09IG51bGxcbiAgICAgICAgICAgICAgICA/IFJlc3BvbnNlRWNoby5mcm9tUGFydGlhbChvYmplY3QuZWNobylcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgbWVzc2FnZS5mbHVzaCA9XG4gICAgICAgICAgICBvYmplY3QuZmx1c2ggIT09IHVuZGVmaW5lZCAmJiBvYmplY3QuZmx1c2ggIT09IG51bGxcbiAgICAgICAgICAgICAgICA/IFJlc3BvbnNlRmx1c2guZnJvbVBhcnRpYWwob2JqZWN0LmZsdXNoKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICBtZXNzYWdlLmluZm8gPVxuICAgICAgICAgICAgb2JqZWN0LmluZm8gIT09IHVuZGVmaW5lZCAmJiBvYmplY3QuaW5mbyAhPT0gbnVsbFxuICAgICAgICAgICAgICAgID8gUmVzcG9uc2VJbmZvLmZyb21QYXJ0aWFsKG9iamVjdC5pbmZvKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICBtZXNzYWdlLnNldE9wdGlvbiA9XG4gICAgICAgICAgICBvYmplY3Quc2V0T3B0aW9uICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnNldE9wdGlvbiAhPT0gbnVsbFxuICAgICAgICAgICAgICAgID8gUmVzcG9uc2VTZXRPcHRpb24uZnJvbVBhcnRpYWwob2JqZWN0LnNldE9wdGlvbilcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgbWVzc2FnZS5pbml0Q2hhaW4gPVxuICAgICAgICAgICAgb2JqZWN0LmluaXRDaGFpbiAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5pbml0Q2hhaW4gIT09IG51bGxcbiAgICAgICAgICAgICAgICA/IFJlc3BvbnNlSW5pdENoYWluLmZyb21QYXJ0aWFsKG9iamVjdC5pbml0Q2hhaW4pXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgIG1lc3NhZ2UucXVlcnkgPVxuICAgICAgICAgICAgb2JqZWN0LnF1ZXJ5ICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnF1ZXJ5ICE9PSBudWxsXG4gICAgICAgICAgICAgICAgPyBSZXNwb25zZVF1ZXJ5LmZyb21QYXJ0aWFsKG9iamVjdC5xdWVyeSlcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgbWVzc2FnZS5iZWdpbkJsb2NrID1cbiAgICAgICAgICAgIG9iamVjdC5iZWdpbkJsb2NrICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LmJlZ2luQmxvY2sgIT09IG51bGxcbiAgICAgICAgICAgICAgICA/IFJlc3BvbnNlQmVnaW5CbG9jay5mcm9tUGFydGlhbChvYmplY3QuYmVnaW5CbG9jaylcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgbWVzc2FnZS5jaGVja1R4ID1cbiAgICAgICAgICAgIG9iamVjdC5jaGVja1R4ICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LmNoZWNrVHggIT09IG51bGxcbiAgICAgICAgICAgICAgICA/IFJlc3BvbnNlQ2hlY2tUeC5mcm9tUGFydGlhbChvYmplY3QuY2hlY2tUeClcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgbWVzc2FnZS5kZWxpdmVyVHggPVxuICAgICAgICAgICAgb2JqZWN0LmRlbGl2ZXJUeCAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5kZWxpdmVyVHggIT09IG51bGxcbiAgICAgICAgICAgICAgICA/IFJlc3BvbnNlRGVsaXZlclR4LmZyb21QYXJ0aWFsKG9iamVjdC5kZWxpdmVyVHgpXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgIG1lc3NhZ2UuZW5kQmxvY2sgPVxuICAgICAgICAgICAgb2JqZWN0LmVuZEJsb2NrICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LmVuZEJsb2NrICE9PSBudWxsXG4gICAgICAgICAgICAgICAgPyBSZXNwb25zZUVuZEJsb2NrLmZyb21QYXJ0aWFsKG9iamVjdC5lbmRCbG9jaylcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgbWVzc2FnZS5jb21taXQgPVxuICAgICAgICAgICAgb2JqZWN0LmNvbW1pdCAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5jb21taXQgIT09IG51bGxcbiAgICAgICAgICAgICAgICA/IFJlc3BvbnNlQ29tbWl0LmZyb21QYXJ0aWFsKG9iamVjdC5jb21taXQpXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgIG1lc3NhZ2UubGlzdFNuYXBzaG90cyA9XG4gICAgICAgICAgICBvYmplY3QubGlzdFNuYXBzaG90cyAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5saXN0U25hcHNob3RzICE9PSBudWxsXG4gICAgICAgICAgICAgICAgPyBSZXNwb25zZUxpc3RTbmFwc2hvdHMuZnJvbVBhcnRpYWwob2JqZWN0Lmxpc3RTbmFwc2hvdHMpXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgIG1lc3NhZ2Uub2ZmZXJTbmFwc2hvdCA9XG4gICAgICAgICAgICBvYmplY3Qub2ZmZXJTbmFwc2hvdCAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5vZmZlclNuYXBzaG90ICE9PSBudWxsXG4gICAgICAgICAgICAgICAgPyBSZXNwb25zZU9mZmVyU25hcHNob3QuZnJvbVBhcnRpYWwob2JqZWN0Lm9mZmVyU25hcHNob3QpXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgIG1lc3NhZ2UubG9hZFNuYXBzaG90Q2h1bmsgPVxuICAgICAgICAgICAgb2JqZWN0LmxvYWRTbmFwc2hvdENodW5rICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgICAgICBvYmplY3QubG9hZFNuYXBzaG90Q2h1bmsgIT09IG51bGxcbiAgICAgICAgICAgICAgICA/IFJlc3BvbnNlTG9hZFNuYXBzaG90Q2h1bmsuZnJvbVBhcnRpYWwob2JqZWN0LmxvYWRTbmFwc2hvdENodW5rKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICBtZXNzYWdlLmFwcGx5U25hcHNob3RDaHVuayA9XG4gICAgICAgICAgICBvYmplY3QuYXBwbHlTbmFwc2hvdENodW5rICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgICAgICBvYmplY3QuYXBwbHlTbmFwc2hvdENodW5rICE9PSBudWxsXG4gICAgICAgICAgICAgICAgPyBSZXNwb25zZUFwcGx5U25hcHNob3RDaHVuay5mcm9tUGFydGlhbChvYmplY3QuYXBwbHlTbmFwc2hvdENodW5rKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9LFxufTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VSZXNwb25zZUV4Y2VwdGlvbigpIHtcbiAgICByZXR1cm4geyBlcnJvcjogXCJcIiB9O1xufVxuZXhwb3J0IGNvbnN0IFJlc3BvbnNlRXhjZXB0aW9uID0ge1xuICAgIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLmVycm9yICE9PSBcIlwiKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDEwKS5zdHJpbmcobWVzc2FnZS5lcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9LFxuICAgIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VSZXNwb25zZUV4Y2VwdGlvbigpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZXJyb3IgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfSxcbiAgICBmcm9tSlNPTihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGVycm9yOiBpc1NldChvYmplY3QuZXJyb3IpID8gU3RyaW5nKG9iamVjdC5lcnJvcikgOiBcIlwiLFxuICAgICAgICB9O1xuICAgIH0sXG4gICAgdG9KU09OKG1lc3NhZ2UpIHtcbiAgICAgICAgY29uc3Qgb2JqID0ge307XG4gICAgICAgIG1lc3NhZ2UuZXJyb3IgIT09IHVuZGVmaW5lZCAmJiAob2JqLmVycm9yID0gbWVzc2FnZS5lcnJvcik7XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfSxcbiAgICBmcm9tUGFydGlhbChvYmplY3QpIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VSZXNwb25zZUV4Y2VwdGlvbigpO1xuICAgICAgICBtZXNzYWdlLmVycm9yID0gb2JqZWN0LmVycm9yID8/IFwiXCI7XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG59O1xuZnVuY3Rpb24gY3JlYXRlQmFzZVJlc3BvbnNlRWNobygpIHtcbiAgICByZXR1cm4geyBtZXNzYWdlOiBcIlwiIH07XG59XG5leHBvcnQgY29uc3QgUmVzcG9uc2VFY2hvID0ge1xuICAgIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLm1lc3NhZ2UgIT09IFwiXCIpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTApLnN0cmluZyhtZXNzYWdlLm1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfSxcbiAgICBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUmVzcG9uc2VFY2hvKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5tZXNzYWdlID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG4gICAgZnJvbUpTT04ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtZXNzYWdlOiBpc1NldChvYmplY3QubWVzc2FnZSkgPyBTdHJpbmcob2JqZWN0Lm1lc3NhZ2UpIDogXCJcIixcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIHRvSlNPTihtZXNzYWdlKSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgICAgICBtZXNzYWdlLm1lc3NhZ2UgIT09IHVuZGVmaW5lZCAmJiAob2JqLm1lc3NhZ2UgPSBtZXNzYWdlLm1lc3NhZ2UpO1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH0sXG4gICAgZnJvbVBhcnRpYWwob2JqZWN0KSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUmVzcG9uc2VFY2hvKCk7XG4gICAgICAgIG1lc3NhZ2UubWVzc2FnZSA9IG9iamVjdC5tZXNzYWdlID8/IFwiXCI7XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG59O1xuZnVuY3Rpb24gY3JlYXRlQmFzZVJlc3BvbnNlRmx1c2goKSB7XG4gICAgcmV0dXJuIHt9O1xufVxuZXhwb3J0IGNvbnN0IFJlc3BvbnNlRmx1c2ggPSB7XG4gICAgZW5jb2RlKF8sIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9LFxuICAgIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VSZXNwb25zZUZsdXNoKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfSxcbiAgICBmcm9tSlNPTihfKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9LFxuICAgIHRvSlNPTihfKSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH0sXG4gICAgZnJvbVBhcnRpYWwoXykge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVJlc3BvbnNlRmx1c2goKTtcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfSxcbn07XG5mdW5jdGlvbiBjcmVhdGVCYXNlUmVzcG9uc2VJbmZvKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGRhdGE6IFwiXCIsXG4gICAgICAgIHZlcnNpb246IFwiXCIsXG4gICAgICAgIGFwcFZlcnNpb246IFwiMFwiLFxuICAgICAgICBsYXN0QmxvY2tIZWlnaHQ6IFwiMFwiLFxuICAgICAgICBsYXN0QmxvY2tBcHBIYXNoOiBuZXcgVWludDhBcnJheSgpLFxuICAgIH07XG59XG5leHBvcnQgY29uc3QgUmVzcG9uc2VJbmZvID0ge1xuICAgIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLmRhdGEgIT09IFwiXCIpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTApLnN0cmluZyhtZXNzYWdlLmRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnZlcnNpb24gIT09IFwiXCIpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTgpLnN0cmluZyhtZXNzYWdlLnZlcnNpb24pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmFwcFZlcnNpb24gIT09IFwiMFwiKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDI0KS51aW50NjQobWVzc2FnZS5hcHBWZXJzaW9uKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5sYXN0QmxvY2tIZWlnaHQgIT09IFwiMFwiKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDMyKS5pbnQ2NChtZXNzYWdlLmxhc3RCbG9ja0hlaWdodCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UubGFzdEJsb2NrQXBwSGFzaC5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoNDIpLmJ5dGVzKG1lc3NhZ2UubGFzdEJsb2NrQXBwSGFzaCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9LFxuICAgIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VSZXNwb25zZUluZm8oKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmRhdGEgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS52ZXJzaW9uID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYXBwVmVyc2lvbiA9IGxvbmdUb1N0cmluZyhyZWFkZXIudWludDY0KCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubGFzdEJsb2NrSGVpZ2h0ID0gbG9uZ1RvU3RyaW5nKHJlYWRlci5pbnQ2NCgpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmxhc3RCbG9ja0FwcEhhc2ggPSByZWFkZXIuYnl0ZXMoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9LFxuICAgIGZyb21KU09OKG9iamVjdCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZGF0YTogaXNTZXQob2JqZWN0LmRhdGEpID8gU3RyaW5nKG9iamVjdC5kYXRhKSA6IFwiXCIsXG4gICAgICAgICAgICB2ZXJzaW9uOiBpc1NldChvYmplY3QudmVyc2lvbikgPyBTdHJpbmcob2JqZWN0LnZlcnNpb24pIDogXCJcIixcbiAgICAgICAgICAgIGFwcFZlcnNpb246IGlzU2V0KG9iamVjdC5hcHBWZXJzaW9uKSA/IFN0cmluZyhvYmplY3QuYXBwVmVyc2lvbikgOiBcIjBcIixcbiAgICAgICAgICAgIGxhc3RCbG9ja0hlaWdodDogaXNTZXQob2JqZWN0Lmxhc3RCbG9ja0hlaWdodClcbiAgICAgICAgICAgICAgICA/IFN0cmluZyhvYmplY3QubGFzdEJsb2NrSGVpZ2h0KVxuICAgICAgICAgICAgICAgIDogXCIwXCIsXG4gICAgICAgICAgICBsYXN0QmxvY2tBcHBIYXNoOiBpc1NldChvYmplY3QubGFzdEJsb2NrQXBwSGFzaClcbiAgICAgICAgICAgICAgICA/IGJ5dGVzRnJvbUJhc2U2NChvYmplY3QubGFzdEJsb2NrQXBwSGFzaClcbiAgICAgICAgICAgICAgICA6IG5ldyBVaW50OEFycmF5KCksXG4gICAgICAgIH07XG4gICAgfSxcbiAgICB0b0pTT04obWVzc2FnZSkge1xuICAgICAgICBjb25zdCBvYmogPSB7fTtcbiAgICAgICAgbWVzc2FnZS5kYXRhICE9PSB1bmRlZmluZWQgJiYgKG9iai5kYXRhID0gbWVzc2FnZS5kYXRhKTtcbiAgICAgICAgbWVzc2FnZS52ZXJzaW9uICE9PSB1bmRlZmluZWQgJiYgKG9iai52ZXJzaW9uID0gbWVzc2FnZS52ZXJzaW9uKTtcbiAgICAgICAgbWVzc2FnZS5hcHBWZXJzaW9uICE9PSB1bmRlZmluZWQgJiYgKG9iai5hcHBWZXJzaW9uID0gbWVzc2FnZS5hcHBWZXJzaW9uKTtcbiAgICAgICAgbWVzc2FnZS5sYXN0QmxvY2tIZWlnaHQgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgKG9iai5sYXN0QmxvY2tIZWlnaHQgPSBtZXNzYWdlLmxhc3RCbG9ja0hlaWdodCk7XG4gICAgICAgIG1lc3NhZ2UubGFzdEJsb2NrQXBwSGFzaCAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAob2JqLmxhc3RCbG9ja0FwcEhhc2ggPSBiYXNlNjRGcm9tQnl0ZXMobWVzc2FnZS5sYXN0QmxvY2tBcHBIYXNoICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICA/IG1lc3NhZ2UubGFzdEJsb2NrQXBwSGFzaFxuICAgICAgICAgICAgICAgIDogbmV3IFVpbnQ4QXJyYXkoKSkpO1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH0sXG4gICAgZnJvbVBhcnRpYWwob2JqZWN0KSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUmVzcG9uc2VJbmZvKCk7XG4gICAgICAgIG1lc3NhZ2UuZGF0YSA9IG9iamVjdC5kYXRhID8/IFwiXCI7XG4gICAgICAgIG1lc3NhZ2UudmVyc2lvbiA9IG9iamVjdC52ZXJzaW9uID8/IFwiXCI7XG4gICAgICAgIG1lc3NhZ2UuYXBwVmVyc2lvbiA9IG9iamVjdC5hcHBWZXJzaW9uID8/IFwiMFwiO1xuICAgICAgICBtZXNzYWdlLmxhc3RCbG9ja0hlaWdodCA9IG9iamVjdC5sYXN0QmxvY2tIZWlnaHQgPz8gXCIwXCI7XG4gICAgICAgIG1lc3NhZ2UubGFzdEJsb2NrQXBwSGFzaCA9IG9iamVjdC5sYXN0QmxvY2tBcHBIYXNoID8/IG5ldyBVaW50OEFycmF5KCk7XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG59O1xuZnVuY3Rpb24gY3JlYXRlQmFzZVJlc3BvbnNlU2V0T3B0aW9uKCkge1xuICAgIHJldHVybiB7IGNvZGU6IDAsIGxvZzogXCJcIiwgaW5mbzogXCJcIiB9O1xufVxuZXhwb3J0IGNvbnN0IFJlc3BvbnNlU2V0T3B0aW9uID0ge1xuICAgIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLmNvZGUgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoOCkudWludDMyKG1lc3NhZ2UuY29kZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UubG9nICE9PSBcIlwiKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDI2KS5zdHJpbmcobWVzc2FnZS5sb2cpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmluZm8gIT09IFwiXCIpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMzQpLnN0cmluZyhtZXNzYWdlLmluZm8pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfSxcbiAgICBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUmVzcG9uc2VTZXRPcHRpb24oKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmNvZGUgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5sb2cgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5pbmZvID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG4gICAgZnJvbUpTT04ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjb2RlOiBpc1NldChvYmplY3QuY29kZSkgPyBOdW1iZXIob2JqZWN0LmNvZGUpIDogMCxcbiAgICAgICAgICAgIGxvZzogaXNTZXQob2JqZWN0LmxvZykgPyBTdHJpbmcob2JqZWN0LmxvZykgOiBcIlwiLFxuICAgICAgICAgICAgaW5mbzogaXNTZXQob2JqZWN0LmluZm8pID8gU3RyaW5nKG9iamVjdC5pbmZvKSA6IFwiXCIsXG4gICAgICAgIH07XG4gICAgfSxcbiAgICB0b0pTT04obWVzc2FnZSkge1xuICAgICAgICBjb25zdCBvYmogPSB7fTtcbiAgICAgICAgbWVzc2FnZS5jb2RlICE9PSB1bmRlZmluZWQgJiYgKG9iai5jb2RlID0gTWF0aC5yb3VuZChtZXNzYWdlLmNvZGUpKTtcbiAgICAgICAgbWVzc2FnZS5sb2cgIT09IHVuZGVmaW5lZCAmJiAob2JqLmxvZyA9IG1lc3NhZ2UubG9nKTtcbiAgICAgICAgbWVzc2FnZS5pbmZvICE9PSB1bmRlZmluZWQgJiYgKG9iai5pbmZvID0gbWVzc2FnZS5pbmZvKTtcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9LFxuICAgIGZyb21QYXJ0aWFsKG9iamVjdCkge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVJlc3BvbnNlU2V0T3B0aW9uKCk7XG4gICAgICAgIG1lc3NhZ2UuY29kZSA9IG9iamVjdC5jb2RlID8/IDA7XG4gICAgICAgIG1lc3NhZ2UubG9nID0gb2JqZWN0LmxvZyA/PyBcIlwiO1xuICAgICAgICBtZXNzYWdlLmluZm8gPSBvYmplY3QuaW5mbyA/PyBcIlwiO1xuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9LFxufTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VSZXNwb25zZUluaXRDaGFpbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBjb25zZW5zdXNQYXJhbXM6IHVuZGVmaW5lZCxcbiAgICAgICAgdmFsaWRhdG9yczogW10sXG4gICAgICAgIGFwcEhhc2g6IG5ldyBVaW50OEFycmF5KCksXG4gICAgfTtcbn1cbmV4cG9ydCBjb25zdCBSZXNwb25zZUluaXRDaGFpbiA9IHtcbiAgICBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS5jb25zZW5zdXNQYXJhbXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgQ29uc2Vuc3VzUGFyYW1zLmVuY29kZShtZXNzYWdlLmNvbnNlbnN1c1BhcmFtcywgd3JpdGVyLnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IHYgb2YgbWVzc2FnZS52YWxpZGF0b3JzKSB7XG4gICAgICAgICAgICBWYWxpZGF0b3JVcGRhdGUuZW5jb2RlKHYsIHdyaXRlci51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuYXBwSGFzaC5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjYpLmJ5dGVzKG1lc3NhZ2UuYXBwSGFzaCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9LFxuICAgIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VSZXNwb25zZUluaXRDaGFpbigpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuY29uc2Vuc3VzUGFyYW1zID0gQ29uc2Vuc3VzUGFyYW1zLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS52YWxpZGF0b3JzLnB1c2goVmFsaWRhdG9yVXBkYXRlLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYXBwSGFzaCA9IHJlYWRlci5ieXRlcygpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG4gICAgZnJvbUpTT04ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjb25zZW5zdXNQYXJhbXM6IGlzU2V0KG9iamVjdC5jb25zZW5zdXNQYXJhbXMpXG4gICAgICAgICAgICAgICAgPyBDb25zZW5zdXNQYXJhbXMuZnJvbUpTT04ob2JqZWN0LmNvbnNlbnN1c1BhcmFtcylcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHZhbGlkYXRvcnM6IEFycmF5LmlzQXJyYXkob2JqZWN0Py52YWxpZGF0b3JzKVxuICAgICAgICAgICAgICAgID8gb2JqZWN0LnZhbGlkYXRvcnMubWFwKChlKSA9PiBWYWxpZGF0b3JVcGRhdGUuZnJvbUpTT04oZSkpXG4gICAgICAgICAgICAgICAgOiBbXSxcbiAgICAgICAgICAgIGFwcEhhc2g6IGlzU2V0KG9iamVjdC5hcHBIYXNoKVxuICAgICAgICAgICAgICAgID8gYnl0ZXNGcm9tQmFzZTY0KG9iamVjdC5hcHBIYXNoKVxuICAgICAgICAgICAgICAgIDogbmV3IFVpbnQ4QXJyYXkoKSxcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIHRvSlNPTihtZXNzYWdlKSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgICAgICBtZXNzYWdlLmNvbnNlbnN1c1BhcmFtcyAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAob2JqLmNvbnNlbnN1c1BhcmFtcyA9IG1lc3NhZ2UuY29uc2Vuc3VzUGFyYW1zXG4gICAgICAgICAgICAgICAgPyBDb25zZW5zdXNQYXJhbXMudG9KU09OKG1lc3NhZ2UuY29uc2Vuc3VzUGFyYW1zKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkKTtcbiAgICAgICAgaWYgKG1lc3NhZ2UudmFsaWRhdG9ycykge1xuICAgICAgICAgICAgb2JqLnZhbGlkYXRvcnMgPSBtZXNzYWdlLnZhbGlkYXRvcnMubWFwKChlKSA9PiBlID8gVmFsaWRhdG9yVXBkYXRlLnRvSlNPTihlKSA6IHVuZGVmaW5lZCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBvYmoudmFsaWRhdG9ycyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIG1lc3NhZ2UuYXBwSGFzaCAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAob2JqLmFwcEhhc2ggPSBiYXNlNjRGcm9tQnl0ZXMobWVzc2FnZS5hcHBIYXNoICE9PSB1bmRlZmluZWQgPyBtZXNzYWdlLmFwcEhhc2ggOiBuZXcgVWludDhBcnJheSgpKSk7XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfSxcbiAgICBmcm9tUGFydGlhbChvYmplY3QpIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VSZXNwb25zZUluaXRDaGFpbigpO1xuICAgICAgICBtZXNzYWdlLmNvbnNlbnN1c1BhcmFtcyA9XG4gICAgICAgICAgICBvYmplY3QuY29uc2Vuc3VzUGFyYW1zICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LmNvbnNlbnN1c1BhcmFtcyAhPT0gbnVsbFxuICAgICAgICAgICAgICAgID8gQ29uc2Vuc3VzUGFyYW1zLmZyb21QYXJ0aWFsKG9iamVjdC5jb25zZW5zdXNQYXJhbXMpXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgIG1lc3NhZ2UudmFsaWRhdG9ycyA9XG4gICAgICAgICAgICBvYmplY3QudmFsaWRhdG9ycz8ubWFwKChlKSA9PiBWYWxpZGF0b3JVcGRhdGUuZnJvbVBhcnRpYWwoZSkpIHx8IFtdO1xuICAgICAgICBtZXNzYWdlLmFwcEhhc2ggPSBvYmplY3QuYXBwSGFzaCA/PyBuZXcgVWludDhBcnJheSgpO1xuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9LFxufTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VSZXNwb25zZVF1ZXJ5KCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGNvZGU6IDAsXG4gICAgICAgIGxvZzogXCJcIixcbiAgICAgICAgaW5mbzogXCJcIixcbiAgICAgICAgaW5kZXg6IFwiMFwiLFxuICAgICAgICBrZXk6IG5ldyBVaW50OEFycmF5KCksXG4gICAgICAgIHZhbHVlOiBuZXcgVWludDhBcnJheSgpLFxuICAgICAgICBwcm9vZk9wczogdW5kZWZpbmVkLFxuICAgICAgICBoZWlnaHQ6IFwiMFwiLFxuICAgICAgICBjb2Rlc3BhY2U6IFwiXCIsXG4gICAgfTtcbn1cbmV4cG9ydCBjb25zdCBSZXNwb25zZVF1ZXJ5ID0ge1xuICAgIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLmNvZGUgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoOCkudWludDMyKG1lc3NhZ2UuY29kZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UubG9nICE9PSBcIlwiKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDI2KS5zdHJpbmcobWVzc2FnZS5sb2cpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmluZm8gIT09IFwiXCIpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMzQpLnN0cmluZyhtZXNzYWdlLmluZm8pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmluZGV4ICE9PSBcIjBcIikge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig0MCkuaW50NjQobWVzc2FnZS5pbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2Uua2V5Lmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig1MCkuYnl0ZXMobWVzc2FnZS5rZXkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnZhbHVlLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig1OCkuYnl0ZXMobWVzc2FnZS52YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UucHJvb2ZPcHMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgUHJvb2ZPcHMuZW5jb2RlKG1lc3NhZ2UucHJvb2ZPcHMsIHdyaXRlci51aW50MzIoNjYpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuaGVpZ2h0ICE9PSBcIjBcIikge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig3MikuaW50NjQobWVzc2FnZS5oZWlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmNvZGVzcGFjZSAhPT0gXCJcIikge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig4Mikuc3RyaW5nKG1lc3NhZ2UuY29kZXNwYWNlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH0sXG4gICAgZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVJlc3BvbnNlUXVlcnkoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmNvZGUgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5sb2cgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5pbmZvID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuaW5kZXggPSBsb25nVG9TdHJpbmcocmVhZGVyLmludDY0KCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uua2V5ID0gcmVhZGVyLmJ5dGVzKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS52YWx1ZSA9IHJlYWRlci5ieXRlcygpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucHJvb2ZPcHMgPSBQcm9vZk9wcy5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuaGVpZ2h0ID0gbG9uZ1RvU3RyaW5nKHJlYWRlci5pbnQ2NCgpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAxMDpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5jb2Rlc3BhY2UgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfSxcbiAgICBmcm9tSlNPTihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNvZGU6IGlzU2V0KG9iamVjdC5jb2RlKSA/IE51bWJlcihvYmplY3QuY29kZSkgOiAwLFxuICAgICAgICAgICAgbG9nOiBpc1NldChvYmplY3QubG9nKSA/IFN0cmluZyhvYmplY3QubG9nKSA6IFwiXCIsXG4gICAgICAgICAgICBpbmZvOiBpc1NldChvYmplY3QuaW5mbykgPyBTdHJpbmcob2JqZWN0LmluZm8pIDogXCJcIixcbiAgICAgICAgICAgIGluZGV4OiBpc1NldChvYmplY3QuaW5kZXgpID8gU3RyaW5nKG9iamVjdC5pbmRleCkgOiBcIjBcIixcbiAgICAgICAgICAgIGtleTogaXNTZXQob2JqZWN0LmtleSkgPyBieXRlc0Zyb21CYXNlNjQob2JqZWN0LmtleSkgOiBuZXcgVWludDhBcnJheSgpLFxuICAgICAgICAgICAgdmFsdWU6IGlzU2V0KG9iamVjdC52YWx1ZSlcbiAgICAgICAgICAgICAgICA/IGJ5dGVzRnJvbUJhc2U2NChvYmplY3QudmFsdWUpXG4gICAgICAgICAgICAgICAgOiBuZXcgVWludDhBcnJheSgpLFxuICAgICAgICAgICAgcHJvb2ZPcHM6IGlzU2V0KG9iamVjdC5wcm9vZk9wcylcbiAgICAgICAgICAgICAgICA/IFByb29mT3BzLmZyb21KU09OKG9iamVjdC5wcm9vZk9wcylcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGhlaWdodDogaXNTZXQob2JqZWN0LmhlaWdodCkgPyBTdHJpbmcob2JqZWN0LmhlaWdodCkgOiBcIjBcIixcbiAgICAgICAgICAgIGNvZGVzcGFjZTogaXNTZXQob2JqZWN0LmNvZGVzcGFjZSkgPyBTdHJpbmcob2JqZWN0LmNvZGVzcGFjZSkgOiBcIlwiLFxuICAgICAgICB9O1xuICAgIH0sXG4gICAgdG9KU09OKG1lc3NhZ2UpIHtcbiAgICAgICAgY29uc3Qgb2JqID0ge307XG4gICAgICAgIG1lc3NhZ2UuY29kZSAhPT0gdW5kZWZpbmVkICYmIChvYmouY29kZSA9IE1hdGgucm91bmQobWVzc2FnZS5jb2RlKSk7XG4gICAgICAgIG1lc3NhZ2UubG9nICE9PSB1bmRlZmluZWQgJiYgKG9iai5sb2cgPSBtZXNzYWdlLmxvZyk7XG4gICAgICAgIG1lc3NhZ2UuaW5mbyAhPT0gdW5kZWZpbmVkICYmIChvYmouaW5mbyA9IG1lc3NhZ2UuaW5mbyk7XG4gICAgICAgIG1lc3NhZ2UuaW5kZXggIT09IHVuZGVmaW5lZCAmJiAob2JqLmluZGV4ID0gbWVzc2FnZS5pbmRleCk7XG4gICAgICAgIG1lc3NhZ2Uua2V5ICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIChvYmoua2V5ID0gYmFzZTY0RnJvbUJ5dGVzKG1lc3NhZ2Uua2V5ICE9PSB1bmRlZmluZWQgPyBtZXNzYWdlLmtleSA6IG5ldyBVaW50OEFycmF5KCkpKTtcbiAgICAgICAgbWVzc2FnZS52YWx1ZSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAob2JqLnZhbHVlID0gYmFzZTY0RnJvbUJ5dGVzKG1lc3NhZ2UudmFsdWUgIT09IHVuZGVmaW5lZCA/IG1lc3NhZ2UudmFsdWUgOiBuZXcgVWludDhBcnJheSgpKSk7XG4gICAgICAgIG1lc3NhZ2UucHJvb2ZPcHMgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgKG9iai5wcm9vZk9wcyA9IG1lc3NhZ2UucHJvb2ZPcHNcbiAgICAgICAgICAgICAgICA/IFByb29mT3BzLnRvSlNPTihtZXNzYWdlLnByb29mT3BzKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkKTtcbiAgICAgICAgbWVzc2FnZS5oZWlnaHQgIT09IHVuZGVmaW5lZCAmJiAob2JqLmhlaWdodCA9IG1lc3NhZ2UuaGVpZ2h0KTtcbiAgICAgICAgbWVzc2FnZS5jb2Rlc3BhY2UgIT09IHVuZGVmaW5lZCAmJiAob2JqLmNvZGVzcGFjZSA9IG1lc3NhZ2UuY29kZXNwYWNlKTtcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9LFxuICAgIGZyb21QYXJ0aWFsKG9iamVjdCkge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVJlc3BvbnNlUXVlcnkoKTtcbiAgICAgICAgbWVzc2FnZS5jb2RlID0gb2JqZWN0LmNvZGUgPz8gMDtcbiAgICAgICAgbWVzc2FnZS5sb2cgPSBvYmplY3QubG9nID8/IFwiXCI7XG4gICAgICAgIG1lc3NhZ2UuaW5mbyA9IG9iamVjdC5pbmZvID8/IFwiXCI7XG4gICAgICAgIG1lc3NhZ2UuaW5kZXggPSBvYmplY3QuaW5kZXggPz8gXCIwXCI7XG4gICAgICAgIG1lc3NhZ2Uua2V5ID0gb2JqZWN0LmtleSA/PyBuZXcgVWludDhBcnJheSgpO1xuICAgICAgICBtZXNzYWdlLnZhbHVlID0gb2JqZWN0LnZhbHVlID8/IG5ldyBVaW50OEFycmF5KCk7XG4gICAgICAgIG1lc3NhZ2UucHJvb2ZPcHMgPVxuICAgICAgICAgICAgb2JqZWN0LnByb29mT3BzICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnByb29mT3BzICE9PSBudWxsXG4gICAgICAgICAgICAgICAgPyBQcm9vZk9wcy5mcm9tUGFydGlhbChvYmplY3QucHJvb2ZPcHMpXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgIG1lc3NhZ2UuaGVpZ2h0ID0gb2JqZWN0LmhlaWdodCA/PyBcIjBcIjtcbiAgICAgICAgbWVzc2FnZS5jb2Rlc3BhY2UgPSBvYmplY3QuY29kZXNwYWNlID8/IFwiXCI7XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG59O1xuZnVuY3Rpb24gY3JlYXRlQmFzZVJlc3BvbnNlQmVnaW5CbG9jaygpIHtcbiAgICByZXR1cm4geyBldmVudHM6IFtdIH07XG59XG5leHBvcnQgY29uc3QgUmVzcG9uc2VCZWdpbkJsb2NrID0ge1xuICAgIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGZvciAoY29uc3QgdiBvZiBtZXNzYWdlLmV2ZW50cykge1xuICAgICAgICAgICAgRXZlbnQuZW5jb2RlKHYsIHdyaXRlci51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9LFxuICAgIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VSZXNwb25zZUJlZ2luQmxvY2soKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmV2ZW50cy5wdXNoKEV2ZW50LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG4gICAgZnJvbUpTT04ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBldmVudHM6IEFycmF5LmlzQXJyYXkob2JqZWN0Py5ldmVudHMpXG4gICAgICAgICAgICAgICAgPyBvYmplY3QuZXZlbnRzLm1hcCgoZSkgPT4gRXZlbnQuZnJvbUpTT04oZSkpXG4gICAgICAgICAgICAgICAgOiBbXSxcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIHRvSlNPTihtZXNzYWdlKSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgICAgICBpZiAobWVzc2FnZS5ldmVudHMpIHtcbiAgICAgICAgICAgIG9iai5ldmVudHMgPSBtZXNzYWdlLmV2ZW50cy5tYXAoKGUpID0+IChlID8gRXZlbnQudG9KU09OKGUpIDogdW5kZWZpbmVkKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBvYmouZXZlbnRzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9LFxuICAgIGZyb21QYXJ0aWFsKG9iamVjdCkge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVJlc3BvbnNlQmVnaW5CbG9jaygpO1xuICAgICAgICBtZXNzYWdlLmV2ZW50cyA9IG9iamVjdC5ldmVudHM/Lm1hcCgoZSkgPT4gRXZlbnQuZnJvbVBhcnRpYWwoZSkpIHx8IFtdO1xuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9LFxufTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VSZXNwb25zZUNoZWNrVHgoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgY29kZTogMCxcbiAgICAgICAgZGF0YTogbmV3IFVpbnQ4QXJyYXkoKSxcbiAgICAgICAgbG9nOiBcIlwiLFxuICAgICAgICBpbmZvOiBcIlwiLFxuICAgICAgICBnYXNXYW50ZWQ6IFwiMFwiLFxuICAgICAgICBnYXNVc2VkOiBcIjBcIixcbiAgICAgICAgZXZlbnRzOiBbXSxcbiAgICAgICAgY29kZXNwYWNlOiBcIlwiLFxuICAgIH07XG59XG5leHBvcnQgY29uc3QgUmVzcG9uc2VDaGVja1R4ID0ge1xuICAgIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLmNvZGUgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoOCkudWludDMyKG1lc3NhZ2UuY29kZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuZGF0YS5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTgpLmJ5dGVzKG1lc3NhZ2UuZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UubG9nICE9PSBcIlwiKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDI2KS5zdHJpbmcobWVzc2FnZS5sb2cpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmluZm8gIT09IFwiXCIpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMzQpLnN0cmluZyhtZXNzYWdlLmluZm8pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmdhc1dhbnRlZCAhPT0gXCIwXCIpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoNDApLmludDY0KG1lc3NhZ2UuZ2FzV2FudGVkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5nYXNVc2VkICE9PSBcIjBcIikge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig0OCkuaW50NjQobWVzc2FnZS5nYXNVc2VkKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IHYgb2YgbWVzc2FnZS5ldmVudHMpIHtcbiAgICAgICAgICAgIEV2ZW50LmVuY29kZSh2LCB3cml0ZXIudWludDMyKDU4KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmNvZGVzcGFjZSAhPT0gXCJcIikge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig2Nikuc3RyaW5nKG1lc3NhZ2UuY29kZXNwYWNlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH0sXG4gICAgZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVJlc3BvbnNlQ2hlY2tUeCgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuY29kZSA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmRhdGEgPSByZWFkZXIuYnl0ZXMoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmxvZyA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmluZm8gPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5nYXNXYW50ZWQgPSBsb25nVG9TdHJpbmcocmVhZGVyLmludDY0KCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZ2FzVXNlZCA9IGxvbmdUb1N0cmluZyhyZWFkZXIuaW50NjQoKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5ldmVudHMucHVzaChFdmVudC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA4OlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmNvZGVzcGFjZSA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9LFxuICAgIGZyb21KU09OKG9iamVjdCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY29kZTogaXNTZXQob2JqZWN0LmNvZGUpID8gTnVtYmVyKG9iamVjdC5jb2RlKSA6IDAsXG4gICAgICAgICAgICBkYXRhOiBpc1NldChvYmplY3QuZGF0YSlcbiAgICAgICAgICAgICAgICA/IGJ5dGVzRnJvbUJhc2U2NChvYmplY3QuZGF0YSlcbiAgICAgICAgICAgICAgICA6IG5ldyBVaW50OEFycmF5KCksXG4gICAgICAgICAgICBsb2c6IGlzU2V0KG9iamVjdC5sb2cpID8gU3RyaW5nKG9iamVjdC5sb2cpIDogXCJcIixcbiAgICAgICAgICAgIGluZm86IGlzU2V0KG9iamVjdC5pbmZvKSA/IFN0cmluZyhvYmplY3QuaW5mbykgOiBcIlwiLFxuICAgICAgICAgICAgZ2FzV2FudGVkOiBpc1NldChvYmplY3QuZ2FzX3dhbnRlZCkgPyBTdHJpbmcob2JqZWN0Lmdhc193YW50ZWQpIDogXCIwXCIsXG4gICAgICAgICAgICBnYXNVc2VkOiBpc1NldChvYmplY3QuZ2FzX3VzZWQpID8gU3RyaW5nKG9iamVjdC5nYXNfdXNlZCkgOiBcIjBcIixcbiAgICAgICAgICAgIGV2ZW50czogQXJyYXkuaXNBcnJheShvYmplY3Q/LmV2ZW50cylcbiAgICAgICAgICAgICAgICA/IG9iamVjdC5ldmVudHMubWFwKChlKSA9PiBFdmVudC5mcm9tSlNPTihlKSlcbiAgICAgICAgICAgICAgICA6IFtdLFxuICAgICAgICAgICAgY29kZXNwYWNlOiBpc1NldChvYmplY3QuY29kZXNwYWNlKSA/IFN0cmluZyhvYmplY3QuY29kZXNwYWNlKSA6IFwiXCIsXG4gICAgICAgIH07XG4gICAgfSxcbiAgICB0b0pTT04obWVzc2FnZSkge1xuICAgICAgICBjb25zdCBvYmogPSB7fTtcbiAgICAgICAgbWVzc2FnZS5jb2RlICE9PSB1bmRlZmluZWQgJiYgKG9iai5jb2RlID0gTWF0aC5yb3VuZChtZXNzYWdlLmNvZGUpKTtcbiAgICAgICAgbWVzc2FnZS5kYXRhICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIChvYmouZGF0YSA9IGJhc2U2NEZyb21CeXRlcyhtZXNzYWdlLmRhdGEgIT09IHVuZGVmaW5lZCA/IG1lc3NhZ2UuZGF0YSA6IG5ldyBVaW50OEFycmF5KCkpKTtcbiAgICAgICAgbWVzc2FnZS5sb2cgIT09IHVuZGVmaW5lZCAmJiAob2JqLmxvZyA9IG1lc3NhZ2UubG9nKTtcbiAgICAgICAgbWVzc2FnZS5pbmZvICE9PSB1bmRlZmluZWQgJiYgKG9iai5pbmZvID0gbWVzc2FnZS5pbmZvKTtcbiAgICAgICAgbWVzc2FnZS5nYXNXYW50ZWQgIT09IHVuZGVmaW5lZCAmJiAob2JqLmdhc193YW50ZWQgPSBtZXNzYWdlLmdhc1dhbnRlZCk7XG4gICAgICAgIG1lc3NhZ2UuZ2FzVXNlZCAhPT0gdW5kZWZpbmVkICYmIChvYmouZ2FzX3VzZWQgPSBtZXNzYWdlLmdhc1VzZWQpO1xuICAgICAgICBpZiAobWVzc2FnZS5ldmVudHMpIHtcbiAgICAgICAgICAgIG9iai5ldmVudHMgPSBtZXNzYWdlLmV2ZW50cy5tYXAoKGUpID0+IChlID8gRXZlbnQudG9KU09OKGUpIDogdW5kZWZpbmVkKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBvYmouZXZlbnRzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgbWVzc2FnZS5jb2Rlc3BhY2UgIT09IHVuZGVmaW5lZCAmJiAob2JqLmNvZGVzcGFjZSA9IG1lc3NhZ2UuY29kZXNwYWNlKTtcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9LFxuICAgIGZyb21QYXJ0aWFsKG9iamVjdCkge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVJlc3BvbnNlQ2hlY2tUeCgpO1xuICAgICAgICBtZXNzYWdlLmNvZGUgPSBvYmplY3QuY29kZSA/PyAwO1xuICAgICAgICBtZXNzYWdlLmRhdGEgPSBvYmplY3QuZGF0YSA/PyBuZXcgVWludDhBcnJheSgpO1xuICAgICAgICBtZXNzYWdlLmxvZyA9IG9iamVjdC5sb2cgPz8gXCJcIjtcbiAgICAgICAgbWVzc2FnZS5pbmZvID0gb2JqZWN0LmluZm8gPz8gXCJcIjtcbiAgICAgICAgbWVzc2FnZS5nYXNXYW50ZWQgPSBvYmplY3QuZ2FzV2FudGVkID8/IFwiMFwiO1xuICAgICAgICBtZXNzYWdlLmdhc1VzZWQgPSBvYmplY3QuZ2FzVXNlZCA/PyBcIjBcIjtcbiAgICAgICAgbWVzc2FnZS5ldmVudHMgPSBvYmplY3QuZXZlbnRzPy5tYXAoKGUpID0+IEV2ZW50LmZyb21QYXJ0aWFsKGUpKSB8fCBbXTtcbiAgICAgICAgbWVzc2FnZS5jb2Rlc3BhY2UgPSBvYmplY3QuY29kZXNwYWNlID8/IFwiXCI7XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG59O1xuZnVuY3Rpb24gY3JlYXRlQmFzZVJlc3BvbnNlRGVsaXZlclR4KCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGNvZGU6IDAsXG4gICAgICAgIGRhdGE6IG5ldyBVaW50OEFycmF5KCksXG4gICAgICAgIGxvZzogXCJcIixcbiAgICAgICAgaW5mbzogXCJcIixcbiAgICAgICAgZ2FzV2FudGVkOiBcIjBcIixcbiAgICAgICAgZ2FzVXNlZDogXCIwXCIsXG4gICAgICAgIGV2ZW50czogW10sXG4gICAgICAgIGNvZGVzcGFjZTogXCJcIixcbiAgICB9O1xufVxuZXhwb3J0IGNvbnN0IFJlc3BvbnNlRGVsaXZlclR4ID0ge1xuICAgIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLmNvZGUgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoOCkudWludDMyKG1lc3NhZ2UuY29kZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuZGF0YS5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTgpLmJ5dGVzKG1lc3NhZ2UuZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UubG9nICE9PSBcIlwiKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDI2KS5zdHJpbmcobWVzc2FnZS5sb2cpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmluZm8gIT09IFwiXCIpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMzQpLnN0cmluZyhtZXNzYWdlLmluZm8pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmdhc1dhbnRlZCAhPT0gXCIwXCIpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoNDApLmludDY0KG1lc3NhZ2UuZ2FzV2FudGVkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5nYXNVc2VkICE9PSBcIjBcIikge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig0OCkuaW50NjQobWVzc2FnZS5nYXNVc2VkKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IHYgb2YgbWVzc2FnZS5ldmVudHMpIHtcbiAgICAgICAgICAgIEV2ZW50LmVuY29kZSh2LCB3cml0ZXIudWludDMyKDU4KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmNvZGVzcGFjZSAhPT0gXCJcIikge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig2Nikuc3RyaW5nKG1lc3NhZ2UuY29kZXNwYWNlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH0sXG4gICAgZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVJlc3BvbnNlRGVsaXZlclR4KCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5jb2RlID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZGF0YSA9IHJlYWRlci5ieXRlcygpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubG9nID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuaW5mbyA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmdhc1dhbnRlZCA9IGxvbmdUb1N0cmluZyhyZWFkZXIuaW50NjQoKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5nYXNVc2VkID0gbG9uZ1RvU3RyaW5nKHJlYWRlci5pbnQ2NCgpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmV2ZW50cy5wdXNoKEV2ZW50LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuY29kZXNwYWNlID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG4gICAgZnJvbUpTT04ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjb2RlOiBpc1NldChvYmplY3QuY29kZSkgPyBOdW1iZXIob2JqZWN0LmNvZGUpIDogMCxcbiAgICAgICAgICAgIGRhdGE6IGlzU2V0KG9iamVjdC5kYXRhKVxuICAgICAgICAgICAgICAgID8gYnl0ZXNGcm9tQmFzZTY0KG9iamVjdC5kYXRhKVxuICAgICAgICAgICAgICAgIDogbmV3IFVpbnQ4QXJyYXkoKSxcbiAgICAgICAgICAgIGxvZzogaXNTZXQob2JqZWN0LmxvZykgPyBTdHJpbmcob2JqZWN0LmxvZykgOiBcIlwiLFxuICAgICAgICAgICAgaW5mbzogaXNTZXQob2JqZWN0LmluZm8pID8gU3RyaW5nKG9iamVjdC5pbmZvKSA6IFwiXCIsXG4gICAgICAgICAgICBnYXNXYW50ZWQ6IGlzU2V0KG9iamVjdC5nYXNfd2FudGVkKSA/IFN0cmluZyhvYmplY3QuZ2FzX3dhbnRlZCkgOiBcIjBcIixcbiAgICAgICAgICAgIGdhc1VzZWQ6IGlzU2V0KG9iamVjdC5nYXNfdXNlZCkgPyBTdHJpbmcob2JqZWN0Lmdhc191c2VkKSA6IFwiMFwiLFxuICAgICAgICAgICAgZXZlbnRzOiBBcnJheS5pc0FycmF5KG9iamVjdD8uZXZlbnRzKVxuICAgICAgICAgICAgICAgID8gb2JqZWN0LmV2ZW50cy5tYXAoKGUpID0+IEV2ZW50LmZyb21KU09OKGUpKVxuICAgICAgICAgICAgICAgIDogW10sXG4gICAgICAgICAgICBjb2Rlc3BhY2U6IGlzU2V0KG9iamVjdC5jb2Rlc3BhY2UpID8gU3RyaW5nKG9iamVjdC5jb2Rlc3BhY2UpIDogXCJcIixcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIHRvSlNPTihtZXNzYWdlKSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgICAgICBtZXNzYWdlLmNvZGUgIT09IHVuZGVmaW5lZCAmJiAob2JqLmNvZGUgPSBNYXRoLnJvdW5kKG1lc3NhZ2UuY29kZSkpO1xuICAgICAgICBtZXNzYWdlLmRhdGEgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgKG9iai5kYXRhID0gYmFzZTY0RnJvbUJ5dGVzKG1lc3NhZ2UuZGF0YSAhPT0gdW5kZWZpbmVkID8gbWVzc2FnZS5kYXRhIDogbmV3IFVpbnQ4QXJyYXkoKSkpO1xuICAgICAgICBtZXNzYWdlLmxvZyAhPT0gdW5kZWZpbmVkICYmIChvYmoubG9nID0gbWVzc2FnZS5sb2cpO1xuICAgICAgICBtZXNzYWdlLmluZm8gIT09IHVuZGVmaW5lZCAmJiAob2JqLmluZm8gPSBtZXNzYWdlLmluZm8pO1xuICAgICAgICBtZXNzYWdlLmdhc1dhbnRlZCAhPT0gdW5kZWZpbmVkICYmIChvYmouZ2FzX3dhbnRlZCA9IG1lc3NhZ2UuZ2FzV2FudGVkKTtcbiAgICAgICAgbWVzc2FnZS5nYXNVc2VkICE9PSB1bmRlZmluZWQgJiYgKG9iai5nYXNfdXNlZCA9IG1lc3NhZ2UuZ2FzVXNlZCk7XG4gICAgICAgIGlmIChtZXNzYWdlLmV2ZW50cykge1xuICAgICAgICAgICAgb2JqLmV2ZW50cyA9IG1lc3NhZ2UuZXZlbnRzLm1hcCgoZSkgPT4gKGUgPyBFdmVudC50b0pTT04oZSkgOiB1bmRlZmluZWQpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG9iai5ldmVudHMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBtZXNzYWdlLmNvZGVzcGFjZSAhPT0gdW5kZWZpbmVkICYmIChvYmouY29kZXNwYWNlID0gbWVzc2FnZS5jb2Rlc3BhY2UpO1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH0sXG4gICAgZnJvbVBhcnRpYWwob2JqZWN0KSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUmVzcG9uc2VEZWxpdmVyVHgoKTtcbiAgICAgICAgbWVzc2FnZS5jb2RlID0gb2JqZWN0LmNvZGUgPz8gMDtcbiAgICAgICAgbWVzc2FnZS5kYXRhID0gb2JqZWN0LmRhdGEgPz8gbmV3IFVpbnQ4QXJyYXkoKTtcbiAgICAgICAgbWVzc2FnZS5sb2cgPSBvYmplY3QubG9nID8/IFwiXCI7XG4gICAgICAgIG1lc3NhZ2UuaW5mbyA9IG9iamVjdC5pbmZvID8/IFwiXCI7XG4gICAgICAgIG1lc3NhZ2UuZ2FzV2FudGVkID0gb2JqZWN0Lmdhc1dhbnRlZCA/PyBcIjBcIjtcbiAgICAgICAgbWVzc2FnZS5nYXNVc2VkID0gb2JqZWN0Lmdhc1VzZWQgPz8gXCIwXCI7XG4gICAgICAgIG1lc3NhZ2UuZXZlbnRzID0gb2JqZWN0LmV2ZW50cz8ubWFwKChlKSA9PiBFdmVudC5mcm9tUGFydGlhbChlKSkgfHwgW107XG4gICAgICAgIG1lc3NhZ2UuY29kZXNwYWNlID0gb2JqZWN0LmNvZGVzcGFjZSA/PyBcIlwiO1xuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9LFxufTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VSZXNwb25zZUVuZEJsb2NrKCkge1xuICAgIHJldHVybiB7IHZhbGlkYXRvclVwZGF0ZXM6IFtdLCBjb25zZW5zdXNQYXJhbVVwZGF0ZXM6IHVuZGVmaW5lZCwgZXZlbnRzOiBbXSB9O1xufVxuZXhwb3J0IGNvbnN0IFJlc3BvbnNlRW5kQmxvY2sgPSB7XG4gICAgZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgZm9yIChjb25zdCB2IG9mIG1lc3NhZ2UudmFsaWRhdG9yVXBkYXRlcykge1xuICAgICAgICAgICAgVmFsaWRhdG9yVXBkYXRlLmVuY29kZSh2LCB3cml0ZXIudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmNvbnNlbnN1c1BhcmFtVXBkYXRlcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBDb25zZW5zdXNQYXJhbXMuZW5jb2RlKG1lc3NhZ2UuY29uc2Vuc3VzUGFyYW1VcGRhdGVzLCB3cml0ZXIudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgdiBvZiBtZXNzYWdlLmV2ZW50cykge1xuICAgICAgICAgICAgRXZlbnQuZW5jb2RlKHYsIHdyaXRlci51aW50MzIoMjYpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9LFxuICAgIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VSZXNwb25zZUVuZEJsb2NrKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS52YWxpZGF0b3JVcGRhdGVzLnB1c2goVmFsaWRhdG9yVXBkYXRlLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuY29uc2Vuc3VzUGFyYW1VcGRhdGVzID0gQ29uc2Vuc3VzUGFyYW1zLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5ldmVudHMucHVzaChFdmVudC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9LFxuICAgIGZyb21KU09OKG9iamVjdCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmFsaWRhdG9yVXBkYXRlczogQXJyYXkuaXNBcnJheShvYmplY3Q/LnZhbGlkYXRvclVwZGF0ZXMpXG4gICAgICAgICAgICAgICAgPyBvYmplY3QudmFsaWRhdG9yVXBkYXRlcy5tYXAoKGUpID0+IFZhbGlkYXRvclVwZGF0ZS5mcm9tSlNPTihlKSlcbiAgICAgICAgICAgICAgICA6IFtdLFxuICAgICAgICAgICAgY29uc2Vuc3VzUGFyYW1VcGRhdGVzOiBpc1NldChvYmplY3QuY29uc2Vuc3VzUGFyYW1VcGRhdGVzKVxuICAgICAgICAgICAgICAgID8gQ29uc2Vuc3VzUGFyYW1zLmZyb21KU09OKG9iamVjdC5jb25zZW5zdXNQYXJhbVVwZGF0ZXMpXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBldmVudHM6IEFycmF5LmlzQXJyYXkob2JqZWN0Py5ldmVudHMpXG4gICAgICAgICAgICAgICAgPyBvYmplY3QuZXZlbnRzLm1hcCgoZSkgPT4gRXZlbnQuZnJvbUpTT04oZSkpXG4gICAgICAgICAgICAgICAgOiBbXSxcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIHRvSlNPTihtZXNzYWdlKSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgICAgICBpZiAobWVzc2FnZS52YWxpZGF0b3JVcGRhdGVzKSB7XG4gICAgICAgICAgICBvYmoudmFsaWRhdG9yVXBkYXRlcyA9IG1lc3NhZ2UudmFsaWRhdG9yVXBkYXRlcy5tYXAoKGUpID0+IGUgPyBWYWxpZGF0b3JVcGRhdGUudG9KU09OKGUpIDogdW5kZWZpbmVkKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG9iai52YWxpZGF0b3JVcGRhdGVzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgbWVzc2FnZS5jb25zZW5zdXNQYXJhbVVwZGF0ZXMgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgKG9iai5jb25zZW5zdXNQYXJhbVVwZGF0ZXMgPSBtZXNzYWdlLmNvbnNlbnN1c1BhcmFtVXBkYXRlc1xuICAgICAgICAgICAgICAgID8gQ29uc2Vuc3VzUGFyYW1zLnRvSlNPTihtZXNzYWdlLmNvbnNlbnN1c1BhcmFtVXBkYXRlcylcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCk7XG4gICAgICAgIGlmIChtZXNzYWdlLmV2ZW50cykge1xuICAgICAgICAgICAgb2JqLmV2ZW50cyA9IG1lc3NhZ2UuZXZlbnRzLm1hcCgoZSkgPT4gKGUgPyBFdmVudC50b0pTT04oZSkgOiB1bmRlZmluZWQpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG9iai5ldmVudHMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH0sXG4gICAgZnJvbVBhcnRpYWwob2JqZWN0KSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUmVzcG9uc2VFbmRCbG9jaygpO1xuICAgICAgICBtZXNzYWdlLnZhbGlkYXRvclVwZGF0ZXMgPVxuICAgICAgICAgICAgb2JqZWN0LnZhbGlkYXRvclVwZGF0ZXM/Lm1hcCgoZSkgPT4gVmFsaWRhdG9yVXBkYXRlLmZyb21QYXJ0aWFsKGUpKSB8fCBbXTtcbiAgICAgICAgbWVzc2FnZS5jb25zZW5zdXNQYXJhbVVwZGF0ZXMgPVxuICAgICAgICAgICAgb2JqZWN0LmNvbnNlbnN1c1BhcmFtVXBkYXRlcyAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAgICAgb2JqZWN0LmNvbnNlbnN1c1BhcmFtVXBkYXRlcyAhPT0gbnVsbFxuICAgICAgICAgICAgICAgID8gQ29uc2Vuc3VzUGFyYW1zLmZyb21QYXJ0aWFsKG9iamVjdC5jb25zZW5zdXNQYXJhbVVwZGF0ZXMpXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgIG1lc3NhZ2UuZXZlbnRzID0gb2JqZWN0LmV2ZW50cz8ubWFwKChlKSA9PiBFdmVudC5mcm9tUGFydGlhbChlKSkgfHwgW107XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG59O1xuZnVuY3Rpb24gY3JlYXRlQmFzZVJlc3BvbnNlQ29tbWl0KCkge1xuICAgIHJldHVybiB7IGRhdGE6IG5ldyBVaW50OEFycmF5KCksIHJldGFpbkhlaWdodDogXCIwXCIgfTtcbn1cbmV4cG9ydCBjb25zdCBSZXNwb25zZUNvbW1pdCA9IHtcbiAgICBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS5kYXRhLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxOCkuYnl0ZXMobWVzc2FnZS5kYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5yZXRhaW5IZWlnaHQgIT09IFwiMFwiKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDI0KS5pbnQ2NChtZXNzYWdlLnJldGFpbkhlaWdodCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9LFxuICAgIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VSZXNwb25zZUNvbW1pdCgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZGF0YSA9IHJlYWRlci5ieXRlcygpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucmV0YWluSGVpZ2h0ID0gbG9uZ1RvU3RyaW5nKHJlYWRlci5pbnQ2NCgpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9LFxuICAgIGZyb21KU09OKG9iamVjdCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZGF0YTogaXNTZXQob2JqZWN0LmRhdGEpXG4gICAgICAgICAgICAgICAgPyBieXRlc0Zyb21CYXNlNjQob2JqZWN0LmRhdGEpXG4gICAgICAgICAgICAgICAgOiBuZXcgVWludDhBcnJheSgpLFxuICAgICAgICAgICAgcmV0YWluSGVpZ2h0OiBpc1NldChvYmplY3QucmV0YWluSGVpZ2h0KVxuICAgICAgICAgICAgICAgID8gU3RyaW5nKG9iamVjdC5yZXRhaW5IZWlnaHQpXG4gICAgICAgICAgICAgICAgOiBcIjBcIixcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIHRvSlNPTihtZXNzYWdlKSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgICAgICBtZXNzYWdlLmRhdGEgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgKG9iai5kYXRhID0gYmFzZTY0RnJvbUJ5dGVzKG1lc3NhZ2UuZGF0YSAhPT0gdW5kZWZpbmVkID8gbWVzc2FnZS5kYXRhIDogbmV3IFVpbnQ4QXJyYXkoKSkpO1xuICAgICAgICBtZXNzYWdlLnJldGFpbkhlaWdodCAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAob2JqLnJldGFpbkhlaWdodCA9IG1lc3NhZ2UucmV0YWluSGVpZ2h0KTtcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9LFxuICAgIGZyb21QYXJ0aWFsKG9iamVjdCkge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVJlc3BvbnNlQ29tbWl0KCk7XG4gICAgICAgIG1lc3NhZ2UuZGF0YSA9IG9iamVjdC5kYXRhID8/IG5ldyBVaW50OEFycmF5KCk7XG4gICAgICAgIG1lc3NhZ2UucmV0YWluSGVpZ2h0ID0gb2JqZWN0LnJldGFpbkhlaWdodCA/PyBcIjBcIjtcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfSxcbn07XG5mdW5jdGlvbiBjcmVhdGVCYXNlUmVzcG9uc2VMaXN0U25hcHNob3RzKCkge1xuICAgIHJldHVybiB7IHNuYXBzaG90czogW10gfTtcbn1cbmV4cG9ydCBjb25zdCBSZXNwb25zZUxpc3RTbmFwc2hvdHMgPSB7XG4gICAgZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgZm9yIChjb25zdCB2IG9mIG1lc3NhZ2Uuc25hcHNob3RzKSB7XG4gICAgICAgICAgICBTbmFwc2hvdC5lbmNvZGUodiwgd3JpdGVyLnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH0sXG4gICAgZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVJlc3BvbnNlTGlzdFNuYXBzaG90cygpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc25hcHNob3RzLnB1c2goU25hcHNob3QuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfSxcbiAgICBmcm9tSlNPTihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHNuYXBzaG90czogQXJyYXkuaXNBcnJheShvYmplY3Q/LnNuYXBzaG90cylcbiAgICAgICAgICAgICAgICA/IG9iamVjdC5zbmFwc2hvdHMubWFwKChlKSA9PiBTbmFwc2hvdC5mcm9tSlNPTihlKSlcbiAgICAgICAgICAgICAgICA6IFtdLFxuICAgICAgICB9O1xuICAgIH0sXG4gICAgdG9KU09OKG1lc3NhZ2UpIHtcbiAgICAgICAgY29uc3Qgb2JqID0ge307XG4gICAgICAgIGlmIChtZXNzYWdlLnNuYXBzaG90cykge1xuICAgICAgICAgICAgb2JqLnNuYXBzaG90cyA9IG1lc3NhZ2Uuc25hcHNob3RzLm1hcCgoZSkgPT4gZSA/IFNuYXBzaG90LnRvSlNPTihlKSA6IHVuZGVmaW5lZCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBvYmouc25hcHNob3RzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9LFxuICAgIGZyb21QYXJ0aWFsKG9iamVjdCkge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVJlc3BvbnNlTGlzdFNuYXBzaG90cygpO1xuICAgICAgICBtZXNzYWdlLnNuYXBzaG90cyA9XG4gICAgICAgICAgICBvYmplY3Quc25hcHNob3RzPy5tYXAoKGUpID0+IFNuYXBzaG90LmZyb21QYXJ0aWFsKGUpKSB8fCBbXTtcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfSxcbn07XG5mdW5jdGlvbiBjcmVhdGVCYXNlUmVzcG9uc2VPZmZlclNuYXBzaG90KCkge1xuICAgIHJldHVybiB7IHJlc3VsdDogMCB9O1xufVxuZXhwb3J0IGNvbnN0IFJlc3BvbnNlT2ZmZXJTbmFwc2hvdCA9IHtcbiAgICBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS5yZXN1bHQgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoOCkuaW50MzIobWVzc2FnZS5yZXN1bHQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfSxcbiAgICBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUmVzcG9uc2VPZmZlclNuYXBzaG90KCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5yZXN1bHQgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9LFxuICAgIGZyb21KU09OKG9iamVjdCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmVzdWx0OiBpc1NldChvYmplY3QucmVzdWx0KVxuICAgICAgICAgICAgICAgID8gcmVzcG9uc2VPZmZlclNuYXBzaG90X1Jlc3VsdEZyb21KU09OKG9iamVjdC5yZXN1bHQpXG4gICAgICAgICAgICAgICAgOiAwLFxuICAgICAgICB9O1xuICAgIH0sXG4gICAgdG9KU09OKG1lc3NhZ2UpIHtcbiAgICAgICAgY29uc3Qgb2JqID0ge307XG4gICAgICAgIG1lc3NhZ2UucmVzdWx0ICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIChvYmoucmVzdWx0ID0gcmVzcG9uc2VPZmZlclNuYXBzaG90X1Jlc3VsdFRvSlNPTihtZXNzYWdlLnJlc3VsdCkpO1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH0sXG4gICAgZnJvbVBhcnRpYWwob2JqZWN0KSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUmVzcG9uc2VPZmZlclNuYXBzaG90KCk7XG4gICAgICAgIG1lc3NhZ2UucmVzdWx0ID0gb2JqZWN0LnJlc3VsdCA/PyAwO1xuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9LFxufTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VSZXNwb25zZUxvYWRTbmFwc2hvdENodW5rKCkge1xuICAgIHJldHVybiB7IGNodW5rOiBuZXcgVWludDhBcnJheSgpIH07XG59XG5leHBvcnQgY29uc3QgUmVzcG9uc2VMb2FkU25hcHNob3RDaHVuayA9IHtcbiAgICBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS5jaHVuay5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTApLmJ5dGVzKG1lc3NhZ2UuY2h1bmspO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfSxcbiAgICBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUmVzcG9uc2VMb2FkU25hcHNob3RDaHVuaygpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuY2h1bmsgPSByZWFkZXIuYnl0ZXMoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9LFxuICAgIGZyb21KU09OKG9iamVjdCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY2h1bms6IGlzU2V0KG9iamVjdC5jaHVuaylcbiAgICAgICAgICAgICAgICA/IGJ5dGVzRnJvbUJhc2U2NChvYmplY3QuY2h1bmspXG4gICAgICAgICAgICAgICAgOiBuZXcgVWludDhBcnJheSgpLFxuICAgICAgICB9O1xuICAgIH0sXG4gICAgdG9KU09OKG1lc3NhZ2UpIHtcbiAgICAgICAgY29uc3Qgb2JqID0ge307XG4gICAgICAgIG1lc3NhZ2UuY2h1bmsgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgKG9iai5jaHVuayA9IGJhc2U2NEZyb21CeXRlcyhtZXNzYWdlLmNodW5rICE9PSB1bmRlZmluZWQgPyBtZXNzYWdlLmNodW5rIDogbmV3IFVpbnQ4QXJyYXkoKSkpO1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH0sXG4gICAgZnJvbVBhcnRpYWwob2JqZWN0KSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUmVzcG9uc2VMb2FkU25hcHNob3RDaHVuaygpO1xuICAgICAgICBtZXNzYWdlLmNodW5rID0gb2JqZWN0LmNodW5rID8/IG5ldyBVaW50OEFycmF5KCk7XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG59O1xuZnVuY3Rpb24gY3JlYXRlQmFzZVJlc3BvbnNlQXBwbHlTbmFwc2hvdENodW5rKCkge1xuICAgIHJldHVybiB7IHJlc3VsdDogMCwgcmVmZXRjaENodW5rczogW10sIHJlamVjdFNlbmRlcnM6IFtdIH07XG59XG5leHBvcnQgY29uc3QgUmVzcG9uc2VBcHBseVNuYXBzaG90Q2h1bmsgPSB7XG4gICAgZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UucmVzdWx0ICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDgpLmludDMyKG1lc3NhZ2UucmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgICB3cml0ZXIudWludDMyKDE4KS5mb3JrKCk7XG4gICAgICAgIGZvciAoY29uc3QgdiBvZiBtZXNzYWdlLnJlZmV0Y2hDaHVua3MpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIodik7XG4gICAgICAgIH1cbiAgICAgICAgd3JpdGVyLmxkZWxpbSgpO1xuICAgICAgICBmb3IgKGNvbnN0IHYgb2YgbWVzc2FnZS5yZWplY3RTZW5kZXJzKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDI2KS5zdHJpbmcodik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9LFxuICAgIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VSZXNwb25zZUFwcGx5U25hcHNob3RDaHVuaygpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucmVzdWx0ID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZW5kMiA9IHJlYWRlci51aW50MzIoKSArIHJlYWRlci5wb3M7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnJlZmV0Y2hDaHVua3MucHVzaChyZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5yZWZldGNoQ2h1bmtzLnB1c2gocmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucmVqZWN0U2VuZGVycy5wdXNoKHJlYWRlci5zdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfSxcbiAgICBmcm9tSlNPTihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlc3VsdDogaXNTZXQob2JqZWN0LnJlc3VsdClcbiAgICAgICAgICAgICAgICA/IHJlc3BvbnNlQXBwbHlTbmFwc2hvdENodW5rX1Jlc3VsdEZyb21KU09OKG9iamVjdC5yZXN1bHQpXG4gICAgICAgICAgICAgICAgOiAwLFxuICAgICAgICAgICAgcmVmZXRjaENodW5rczogQXJyYXkuaXNBcnJheShvYmplY3Q/LnJlZmV0Y2hDaHVua3MpXG4gICAgICAgICAgICAgICAgPyBvYmplY3QucmVmZXRjaENodW5rcy5tYXAoKGUpID0+IE51bWJlcihlKSlcbiAgICAgICAgICAgICAgICA6IFtdLFxuICAgICAgICAgICAgcmVqZWN0U2VuZGVyczogQXJyYXkuaXNBcnJheShvYmplY3Q/LnJlamVjdFNlbmRlcnMpXG4gICAgICAgICAgICAgICAgPyBvYmplY3QucmVqZWN0U2VuZGVycy5tYXAoKGUpID0+IFN0cmluZyhlKSlcbiAgICAgICAgICAgICAgICA6IFtdLFxuICAgICAgICB9O1xuICAgIH0sXG4gICAgdG9KU09OKG1lc3NhZ2UpIHtcbiAgICAgICAgY29uc3Qgb2JqID0ge307XG4gICAgICAgIG1lc3NhZ2UucmVzdWx0ICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIChvYmoucmVzdWx0ID0gcmVzcG9uc2VBcHBseVNuYXBzaG90Q2h1bmtfUmVzdWx0VG9KU09OKG1lc3NhZ2UucmVzdWx0KSk7XG4gICAgICAgIGlmIChtZXNzYWdlLnJlZmV0Y2hDaHVua3MpIHtcbiAgICAgICAgICAgIG9iai5yZWZldGNoQ2h1bmtzID0gbWVzc2FnZS5yZWZldGNoQ2h1bmtzLm1hcCgoZSkgPT4gTWF0aC5yb3VuZChlKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBvYmoucmVmZXRjaENodW5rcyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnJlamVjdFNlbmRlcnMpIHtcbiAgICAgICAgICAgIG9iai5yZWplY3RTZW5kZXJzID0gbWVzc2FnZS5yZWplY3RTZW5kZXJzLm1hcCgoZSkgPT4gZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBvYmoucmVqZWN0U2VuZGVycyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfSxcbiAgICBmcm9tUGFydGlhbChvYmplY3QpIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VSZXNwb25zZUFwcGx5U25hcHNob3RDaHVuaygpO1xuICAgICAgICBtZXNzYWdlLnJlc3VsdCA9IG9iamVjdC5yZXN1bHQgPz8gMDtcbiAgICAgICAgbWVzc2FnZS5yZWZldGNoQ2h1bmtzID0gb2JqZWN0LnJlZmV0Y2hDaHVua3M/Lm1hcCgoZSkgPT4gZSkgfHwgW107XG4gICAgICAgIG1lc3NhZ2UucmVqZWN0U2VuZGVycyA9IG9iamVjdC5yZWplY3RTZW5kZXJzPy5tYXAoKGUpID0+IGUpIHx8IFtdO1xuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9LFxufTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VDb25zZW5zdXNQYXJhbXMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgYmxvY2s6IHVuZGVmaW5lZCxcbiAgICAgICAgZXZpZGVuY2U6IHVuZGVmaW5lZCxcbiAgICAgICAgdmFsaWRhdG9yOiB1bmRlZmluZWQsXG4gICAgICAgIHZlcnNpb246IHVuZGVmaW5lZCxcbiAgICB9O1xufVxuZXhwb3J0IGNvbnN0IENvbnNlbnN1c1BhcmFtcyA9IHtcbiAgICBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS5ibG9jayAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBCbG9ja1BhcmFtcy5lbmNvZGUobWVzc2FnZS5ibG9jaywgd3JpdGVyLnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5ldmlkZW5jZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBFdmlkZW5jZVBhcmFtcy5lbmNvZGUobWVzc2FnZS5ldmlkZW5jZSwgd3JpdGVyLnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS52YWxpZGF0b3IgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgVmFsaWRhdG9yUGFyYW1zLmVuY29kZShtZXNzYWdlLnZhbGlkYXRvciwgd3JpdGVyLnVpbnQzMigyNikuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS52ZXJzaW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIFZlcnNpb25QYXJhbXMuZW5jb2RlKG1lc3NhZ2UudmVyc2lvbiwgd3JpdGVyLnVpbnQzMigzNCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH0sXG4gICAgZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUNvbnNlbnN1c1BhcmFtcygpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYmxvY2sgPSBCbG9ja1BhcmFtcy5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZXZpZGVuY2UgPSBFdmlkZW5jZVBhcmFtcy5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudmFsaWRhdG9yID0gVmFsaWRhdG9yUGFyYW1zLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS52ZXJzaW9uID0gVmVyc2lvblBhcmFtcy5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG4gICAgZnJvbUpTT04ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBibG9jazogaXNTZXQob2JqZWN0LmJsb2NrKVxuICAgICAgICAgICAgICAgID8gQmxvY2tQYXJhbXMuZnJvbUpTT04ob2JqZWN0LmJsb2NrKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgZXZpZGVuY2U6IGlzU2V0KG9iamVjdC5ldmlkZW5jZSlcbiAgICAgICAgICAgICAgICA/IEV2aWRlbmNlUGFyYW1zLmZyb21KU09OKG9iamVjdC5ldmlkZW5jZSlcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHZhbGlkYXRvcjogaXNTZXQob2JqZWN0LnZhbGlkYXRvcilcbiAgICAgICAgICAgICAgICA/IFZhbGlkYXRvclBhcmFtcy5mcm9tSlNPTihvYmplY3QudmFsaWRhdG9yKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgdmVyc2lvbjogaXNTZXQob2JqZWN0LnZlcnNpb24pXG4gICAgICAgICAgICAgICAgPyBWZXJzaW9uUGFyYW1zLmZyb21KU09OKG9iamVjdC52ZXJzaW9uKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICB9O1xuICAgIH0sXG4gICAgdG9KU09OKG1lc3NhZ2UpIHtcbiAgICAgICAgY29uc3Qgb2JqID0ge307XG4gICAgICAgIG1lc3NhZ2UuYmxvY2sgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgKG9iai5ibG9jayA9IG1lc3NhZ2UuYmxvY2tcbiAgICAgICAgICAgICAgICA/IEJsb2NrUGFyYW1zLnRvSlNPTihtZXNzYWdlLmJsb2NrKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkKTtcbiAgICAgICAgbWVzc2FnZS5ldmlkZW5jZSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAob2JqLmV2aWRlbmNlID0gbWVzc2FnZS5ldmlkZW5jZVxuICAgICAgICAgICAgICAgID8gRXZpZGVuY2VQYXJhbXMudG9KU09OKG1lc3NhZ2UuZXZpZGVuY2UpXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQpO1xuICAgICAgICBtZXNzYWdlLnZhbGlkYXRvciAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAob2JqLnZhbGlkYXRvciA9IG1lc3NhZ2UudmFsaWRhdG9yXG4gICAgICAgICAgICAgICAgPyBWYWxpZGF0b3JQYXJhbXMudG9KU09OKG1lc3NhZ2UudmFsaWRhdG9yKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkKTtcbiAgICAgICAgbWVzc2FnZS52ZXJzaW9uICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIChvYmoudmVyc2lvbiA9IG1lc3NhZ2UudmVyc2lvblxuICAgICAgICAgICAgICAgID8gVmVyc2lvblBhcmFtcy50b0pTT04obWVzc2FnZS52ZXJzaW9uKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkKTtcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9LFxuICAgIGZyb21QYXJ0aWFsKG9iamVjdCkge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUNvbnNlbnN1c1BhcmFtcygpO1xuICAgICAgICBtZXNzYWdlLmJsb2NrID1cbiAgICAgICAgICAgIG9iamVjdC5ibG9jayAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5ibG9jayAhPT0gbnVsbFxuICAgICAgICAgICAgICAgID8gQmxvY2tQYXJhbXMuZnJvbVBhcnRpYWwob2JqZWN0LmJsb2NrKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICBtZXNzYWdlLmV2aWRlbmNlID1cbiAgICAgICAgICAgIG9iamVjdC5ldmlkZW5jZSAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5ldmlkZW5jZSAhPT0gbnVsbFxuICAgICAgICAgICAgICAgID8gRXZpZGVuY2VQYXJhbXMuZnJvbVBhcnRpYWwob2JqZWN0LmV2aWRlbmNlKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICBtZXNzYWdlLnZhbGlkYXRvciA9XG4gICAgICAgICAgICBvYmplY3QudmFsaWRhdG9yICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnZhbGlkYXRvciAhPT0gbnVsbFxuICAgICAgICAgICAgICAgID8gVmFsaWRhdG9yUGFyYW1zLmZyb21QYXJ0aWFsKG9iamVjdC52YWxpZGF0b3IpXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgIG1lc3NhZ2UudmVyc2lvbiA9XG4gICAgICAgICAgICBvYmplY3QudmVyc2lvbiAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC52ZXJzaW9uICE9PSBudWxsXG4gICAgICAgICAgICAgICAgPyBWZXJzaW9uUGFyYW1zLmZyb21QYXJ0aWFsKG9iamVjdC52ZXJzaW9uKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9LFxufTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VCbG9ja1BhcmFtcygpIHtcbiAgICByZXR1cm4geyBtYXhCeXRlczogXCIwXCIsIG1heEdhczogXCIwXCIgfTtcbn1cbmV4cG9ydCBjb25zdCBCbG9ja1BhcmFtcyA9IHtcbiAgICBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS5tYXhCeXRlcyAhPT0gXCIwXCIpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoOCkuaW50NjQobWVzc2FnZS5tYXhCeXRlcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UubWF4R2FzICE9PSBcIjBcIikge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxNikuaW50NjQobWVzc2FnZS5tYXhHYXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfSxcbiAgICBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlQmxvY2tQYXJhbXMoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLm1heEJ5dGVzID0gbG9uZ1RvU3RyaW5nKHJlYWRlci5pbnQ2NCgpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLm1heEdhcyA9IGxvbmdUb1N0cmluZyhyZWFkZXIuaW50NjQoKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfSxcbiAgICBmcm9tSlNPTihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1heEJ5dGVzOiBpc1NldChvYmplY3QubWF4Qnl0ZXMpID8gU3RyaW5nKG9iamVjdC5tYXhCeXRlcykgOiBcIjBcIixcbiAgICAgICAgICAgIG1heEdhczogaXNTZXQob2JqZWN0Lm1heEdhcykgPyBTdHJpbmcob2JqZWN0Lm1heEdhcykgOiBcIjBcIixcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIHRvSlNPTihtZXNzYWdlKSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgICAgICBtZXNzYWdlLm1heEJ5dGVzICE9PSB1bmRlZmluZWQgJiYgKG9iai5tYXhCeXRlcyA9IG1lc3NhZ2UubWF4Qnl0ZXMpO1xuICAgICAgICBtZXNzYWdlLm1heEdhcyAhPT0gdW5kZWZpbmVkICYmIChvYmoubWF4R2FzID0gbWVzc2FnZS5tYXhHYXMpO1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH0sXG4gICAgZnJvbVBhcnRpYWwob2JqZWN0KSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlQmxvY2tQYXJhbXMoKTtcbiAgICAgICAgbWVzc2FnZS5tYXhCeXRlcyA9IG9iamVjdC5tYXhCeXRlcyA/PyBcIjBcIjtcbiAgICAgICAgbWVzc2FnZS5tYXhHYXMgPSBvYmplY3QubWF4R2FzID8/IFwiMFwiO1xuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9LFxufTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VMYXN0Q29tbWl0SW5mbygpIHtcbiAgICByZXR1cm4geyByb3VuZDogMCwgdm90ZXM6IFtdIH07XG59XG5leHBvcnQgY29uc3QgTGFzdENvbW1pdEluZm8gPSB7XG4gICAgZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2Uucm91bmQgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoOCkuaW50MzIobWVzc2FnZS5yb3VuZCk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCB2IG9mIG1lc3NhZ2Uudm90ZXMpIHtcbiAgICAgICAgICAgIFZvdGVJbmZvLmVuY29kZSh2LCB3cml0ZXIudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfSxcbiAgICBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlTGFzdENvbW1pdEluZm8oKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnJvdW5kID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS52b3Rlcy5wdXNoKFZvdGVJbmZvLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG4gICAgZnJvbUpTT04ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByb3VuZDogaXNTZXQob2JqZWN0LnJvdW5kKSA/IE51bWJlcihvYmplY3Qucm91bmQpIDogMCxcbiAgICAgICAgICAgIHZvdGVzOiBBcnJheS5pc0FycmF5KG9iamVjdD8udm90ZXMpXG4gICAgICAgICAgICAgICAgPyBvYmplY3Qudm90ZXMubWFwKChlKSA9PiBWb3RlSW5mby5mcm9tSlNPTihlKSlcbiAgICAgICAgICAgICAgICA6IFtdLFxuICAgICAgICB9O1xuICAgIH0sXG4gICAgdG9KU09OKG1lc3NhZ2UpIHtcbiAgICAgICAgY29uc3Qgb2JqID0ge307XG4gICAgICAgIG1lc3NhZ2Uucm91bmQgIT09IHVuZGVmaW5lZCAmJiAob2JqLnJvdW5kID0gTWF0aC5yb3VuZChtZXNzYWdlLnJvdW5kKSk7XG4gICAgICAgIGlmIChtZXNzYWdlLnZvdGVzKSB7XG4gICAgICAgICAgICBvYmoudm90ZXMgPSBtZXNzYWdlLnZvdGVzLm1hcCgoZSkgPT4gZSA/IFZvdGVJbmZvLnRvSlNPTihlKSA6IHVuZGVmaW5lZCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBvYmoudm90ZXMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH0sXG4gICAgZnJvbVBhcnRpYWwob2JqZWN0KSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlTGFzdENvbW1pdEluZm8oKTtcbiAgICAgICAgbWVzc2FnZS5yb3VuZCA9IG9iamVjdC5yb3VuZCA/PyAwO1xuICAgICAgICBtZXNzYWdlLnZvdGVzID0gb2JqZWN0LnZvdGVzPy5tYXAoKGUpID0+IFZvdGVJbmZvLmZyb21QYXJ0aWFsKGUpKSB8fCBbXTtcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfSxcbn07XG5mdW5jdGlvbiBjcmVhdGVCYXNlRXZlbnQoKSB7XG4gICAgcmV0dXJuIHsgdHlwZTogXCJcIiwgYXR0cmlidXRlczogW10gfTtcbn1cbmV4cG9ydCBjb25zdCBFdmVudCA9IHtcbiAgICBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS50eXBlICE9PSBcIlwiKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDEwKS5zdHJpbmcobWVzc2FnZS50eXBlKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IHYgb2YgbWVzc2FnZS5hdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICBFdmVudEF0dHJpYnV0ZS5lbmNvZGUodiwgd3JpdGVyLnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH0sXG4gICAgZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUV2ZW50KCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50eXBlID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYXR0cmlidXRlcy5wdXNoKEV2ZW50QXR0cmlidXRlLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG4gICAgZnJvbUpTT04ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiBpc1NldChvYmplY3QudHlwZSkgPyBTdHJpbmcob2JqZWN0LnR5cGUpIDogXCJcIixcbiAgICAgICAgICAgIGF0dHJpYnV0ZXM6IEFycmF5LmlzQXJyYXkob2JqZWN0Py5hdHRyaWJ1dGVzKVxuICAgICAgICAgICAgICAgID8gb2JqZWN0LmF0dHJpYnV0ZXMubWFwKChlKSA9PiBFdmVudEF0dHJpYnV0ZS5mcm9tSlNPTihlKSlcbiAgICAgICAgICAgICAgICA6IFtdLFxuICAgICAgICB9O1xuICAgIH0sXG4gICAgdG9KU09OKG1lc3NhZ2UpIHtcbiAgICAgICAgY29uc3Qgb2JqID0ge307XG4gICAgICAgIG1lc3NhZ2UudHlwZSAhPT0gdW5kZWZpbmVkICYmIChvYmoudHlwZSA9IG1lc3NhZ2UudHlwZSk7XG4gICAgICAgIGlmIChtZXNzYWdlLmF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICAgIG9iai5hdHRyaWJ1dGVzID0gbWVzc2FnZS5hdHRyaWJ1dGVzLm1hcCgoZSkgPT4gZSA/IEV2ZW50QXR0cmlidXRlLnRvSlNPTihlKSA6IHVuZGVmaW5lZCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBvYmouYXR0cmlidXRlcyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfSxcbiAgICBmcm9tUGFydGlhbChvYmplY3QpIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VFdmVudCgpO1xuICAgICAgICBtZXNzYWdlLnR5cGUgPSBvYmplY3QudHlwZSA/PyBcIlwiO1xuICAgICAgICBtZXNzYWdlLmF0dHJpYnV0ZXMgPVxuICAgICAgICAgICAgb2JqZWN0LmF0dHJpYnV0ZXM/Lm1hcCgoZSkgPT4gRXZlbnRBdHRyaWJ1dGUuZnJvbVBhcnRpYWwoZSkpIHx8IFtdO1xuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9LFxufTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VFdmVudEF0dHJpYnV0ZSgpIHtcbiAgICByZXR1cm4geyBrZXk6IG5ldyBVaW50OEFycmF5KCksIHZhbHVlOiBuZXcgVWludDhBcnJheSgpLCBpbmRleDogZmFsc2UgfTtcbn1cbmV4cG9ydCBjb25zdCBFdmVudEF0dHJpYnV0ZSA9IHtcbiAgICBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS5rZXkubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDEwKS5ieXRlcyhtZXNzYWdlLmtleSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UudmFsdWUubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDE4KS5ieXRlcyhtZXNzYWdlLnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5pbmRleCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyNCkuYm9vbChtZXNzYWdlLmluZGV4KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH0sXG4gICAgZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUV2ZW50QXR0cmlidXRlKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5rZXkgPSByZWFkZXIuYnl0ZXMoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnZhbHVlID0gcmVhZGVyLmJ5dGVzKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5pbmRleCA9IHJlYWRlci5ib29sKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfSxcbiAgICBmcm9tSlNPTihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGtleTogaXNTZXQob2JqZWN0LmtleSkgPyBieXRlc0Zyb21CYXNlNjQob2JqZWN0LmtleSkgOiBuZXcgVWludDhBcnJheSgpLFxuICAgICAgICAgICAgdmFsdWU6IGlzU2V0KG9iamVjdC52YWx1ZSlcbiAgICAgICAgICAgICAgICA/IGJ5dGVzRnJvbUJhc2U2NChvYmplY3QudmFsdWUpXG4gICAgICAgICAgICAgICAgOiBuZXcgVWludDhBcnJheSgpLFxuICAgICAgICAgICAgaW5kZXg6IGlzU2V0KG9iamVjdC5pbmRleCkgPyBCb29sZWFuKG9iamVjdC5pbmRleCkgOiBmYWxzZSxcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIHRvSlNPTihtZXNzYWdlKSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgICAgICBtZXNzYWdlLmtleSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAob2JqLmtleSA9IGJhc2U2NEZyb21CeXRlcyhtZXNzYWdlLmtleSAhPT0gdW5kZWZpbmVkID8gbWVzc2FnZS5rZXkgOiBuZXcgVWludDhBcnJheSgpKSk7XG4gICAgICAgIG1lc3NhZ2UudmFsdWUgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgKG9iai52YWx1ZSA9IGJhc2U2NEZyb21CeXRlcyhtZXNzYWdlLnZhbHVlICE9PSB1bmRlZmluZWQgPyBtZXNzYWdlLnZhbHVlIDogbmV3IFVpbnQ4QXJyYXkoKSkpO1xuICAgICAgICBtZXNzYWdlLmluZGV4ICE9PSB1bmRlZmluZWQgJiYgKG9iai5pbmRleCA9IG1lc3NhZ2UuaW5kZXgpO1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH0sXG4gICAgZnJvbVBhcnRpYWwob2JqZWN0KSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlRXZlbnRBdHRyaWJ1dGUoKTtcbiAgICAgICAgbWVzc2FnZS5rZXkgPSBvYmplY3Qua2V5ID8/IG5ldyBVaW50OEFycmF5KCk7XG4gICAgICAgIG1lc3NhZ2UudmFsdWUgPSBvYmplY3QudmFsdWUgPz8gbmV3IFVpbnQ4QXJyYXkoKTtcbiAgICAgICAgbWVzc2FnZS5pbmRleCA9IG9iamVjdC5pbmRleCA/PyBmYWxzZTtcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfSxcbn07XG5mdW5jdGlvbiBjcmVhdGVCYXNlVHhSZXN1bHQoKSB7XG4gICAgcmV0dXJuIHsgaGVpZ2h0OiBcIjBcIiwgaW5kZXg6IDAsIHR4OiBuZXcgVWludDhBcnJheSgpLCByZXN1bHQ6IHVuZGVmaW5lZCB9O1xufVxuZXhwb3J0IGNvbnN0IFR4UmVzdWx0ID0ge1xuICAgIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLmhlaWdodCAhPT0gXCIwXCIpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoOCkuaW50NjQobWVzc2FnZS5oZWlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmluZGV4ICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDE2KS51aW50MzIobWVzc2FnZS5pbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UudHgubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDI2KS5ieXRlcyhtZXNzYWdlLnR4KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5yZXN1bHQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgUmVzcG9uc2VEZWxpdmVyVHguZW5jb2RlKG1lc3NhZ2UucmVzdWx0LCB3cml0ZXIudWludDMyKDM0KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfSxcbiAgICBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlVHhSZXN1bHQoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmhlaWdodCA9IGxvbmdUb1N0cmluZyhyZWFkZXIuaW50NjQoKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5pbmRleCA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnR4ID0gcmVhZGVyLmJ5dGVzKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5yZXN1bHQgPSBSZXNwb25zZURlbGl2ZXJUeC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG4gICAgZnJvbUpTT04ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBoZWlnaHQ6IGlzU2V0KG9iamVjdC5oZWlnaHQpID8gU3RyaW5nKG9iamVjdC5oZWlnaHQpIDogXCIwXCIsXG4gICAgICAgICAgICBpbmRleDogaXNTZXQob2JqZWN0LmluZGV4KSA/IE51bWJlcihvYmplY3QuaW5kZXgpIDogMCxcbiAgICAgICAgICAgIHR4OiBpc1NldChvYmplY3QudHgpID8gYnl0ZXNGcm9tQmFzZTY0KG9iamVjdC50eCkgOiBuZXcgVWludDhBcnJheSgpLFxuICAgICAgICAgICAgcmVzdWx0OiBpc1NldChvYmplY3QucmVzdWx0KVxuICAgICAgICAgICAgICAgID8gUmVzcG9uc2VEZWxpdmVyVHguZnJvbUpTT04ob2JqZWN0LnJlc3VsdClcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIHRvSlNPTihtZXNzYWdlKSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgICAgICBtZXNzYWdlLmhlaWdodCAhPT0gdW5kZWZpbmVkICYmIChvYmouaGVpZ2h0ID0gbWVzc2FnZS5oZWlnaHQpO1xuICAgICAgICBtZXNzYWdlLmluZGV4ICE9PSB1bmRlZmluZWQgJiYgKG9iai5pbmRleCA9IE1hdGgucm91bmQobWVzc2FnZS5pbmRleCkpO1xuICAgICAgICBtZXNzYWdlLnR4ICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIChvYmoudHggPSBiYXNlNjRGcm9tQnl0ZXMobWVzc2FnZS50eCAhPT0gdW5kZWZpbmVkID8gbWVzc2FnZS50eCA6IG5ldyBVaW50OEFycmF5KCkpKTtcbiAgICAgICAgbWVzc2FnZS5yZXN1bHQgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgKG9iai5yZXN1bHQgPSBtZXNzYWdlLnJlc3VsdFxuICAgICAgICAgICAgICAgID8gUmVzcG9uc2VEZWxpdmVyVHgudG9KU09OKG1lc3NhZ2UucmVzdWx0KVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkKTtcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9LFxuICAgIGZyb21QYXJ0aWFsKG9iamVjdCkge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVR4UmVzdWx0KCk7XG4gICAgICAgIG1lc3NhZ2UuaGVpZ2h0ID0gb2JqZWN0LmhlaWdodCA/PyBcIjBcIjtcbiAgICAgICAgbWVzc2FnZS5pbmRleCA9IG9iamVjdC5pbmRleCA/PyAwO1xuICAgICAgICBtZXNzYWdlLnR4ID0gb2JqZWN0LnR4ID8/IG5ldyBVaW50OEFycmF5KCk7XG4gICAgICAgIG1lc3NhZ2UucmVzdWx0ID1cbiAgICAgICAgICAgIG9iamVjdC5yZXN1bHQgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QucmVzdWx0ICE9PSBudWxsXG4gICAgICAgICAgICAgICAgPyBSZXNwb25zZURlbGl2ZXJUeC5mcm9tUGFydGlhbChvYmplY3QucmVzdWx0KVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9LFxufTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VWYWxpZGF0b3IoKSB7XG4gICAgcmV0dXJuIHsgYWRkcmVzczogbmV3IFVpbnQ4QXJyYXkoKSwgcG93ZXI6IFwiMFwiIH07XG59XG5leHBvcnQgY29uc3QgVmFsaWRhdG9yID0ge1xuICAgIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLmFkZHJlc3MubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDEwKS5ieXRlcyhtZXNzYWdlLmFkZHJlc3MpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnBvd2VyICE9PSBcIjBcIikge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyNCkuaW50NjQobWVzc2FnZS5wb3dlcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9LFxuICAgIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VWYWxpZGF0b3IoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmFkZHJlc3MgPSByZWFkZXIuYnl0ZXMoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnBvd2VyID0gbG9uZ1RvU3RyaW5nKHJlYWRlci5pbnQ2NCgpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9LFxuICAgIGZyb21KU09OKG9iamVjdCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYWRkcmVzczogaXNTZXQob2JqZWN0LmFkZHJlc3MpXG4gICAgICAgICAgICAgICAgPyBieXRlc0Zyb21CYXNlNjQob2JqZWN0LmFkZHJlc3MpXG4gICAgICAgICAgICAgICAgOiBuZXcgVWludDhBcnJheSgpLFxuICAgICAgICAgICAgcG93ZXI6IGlzU2V0KG9iamVjdC5wb3dlcikgPyBTdHJpbmcob2JqZWN0LnBvd2VyKSA6IFwiMFwiLFxuICAgICAgICB9O1xuICAgIH0sXG4gICAgdG9KU09OKG1lc3NhZ2UpIHtcbiAgICAgICAgY29uc3Qgb2JqID0ge307XG4gICAgICAgIG1lc3NhZ2UuYWRkcmVzcyAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAob2JqLmFkZHJlc3MgPSBiYXNlNjRGcm9tQnl0ZXMobWVzc2FnZS5hZGRyZXNzICE9PSB1bmRlZmluZWQgPyBtZXNzYWdlLmFkZHJlc3MgOiBuZXcgVWludDhBcnJheSgpKSk7XG4gICAgICAgIG1lc3NhZ2UucG93ZXIgIT09IHVuZGVmaW5lZCAmJiAob2JqLnBvd2VyID0gbWVzc2FnZS5wb3dlcik7XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfSxcbiAgICBmcm9tUGFydGlhbChvYmplY3QpIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VWYWxpZGF0b3IoKTtcbiAgICAgICAgbWVzc2FnZS5hZGRyZXNzID0gb2JqZWN0LmFkZHJlc3MgPz8gbmV3IFVpbnQ4QXJyYXkoKTtcbiAgICAgICAgbWVzc2FnZS5wb3dlciA9IG9iamVjdC5wb3dlciA/PyBcIjBcIjtcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfSxcbn07XG5mdW5jdGlvbiBjcmVhdGVCYXNlVmFsaWRhdG9yVXBkYXRlKCkge1xuICAgIHJldHVybiB7IHB1YktleTogdW5kZWZpbmVkLCBwb3dlcjogXCIwXCIgfTtcbn1cbmV4cG9ydCBjb25zdCBWYWxpZGF0b3JVcGRhdGUgPSB7XG4gICAgZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UucHViS2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIFB1YmxpY0tleS5lbmNvZGUobWVzc2FnZS5wdWJLZXksIHdyaXRlci51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UucG93ZXIgIT09IFwiMFwiKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDE2KS5pbnQ2NChtZXNzYWdlLnBvd2VyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH0sXG4gICAgZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVZhbGlkYXRvclVwZGF0ZSgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucHViS2V5ID0gUHVibGljS2V5LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5wb3dlciA9IGxvbmdUb1N0cmluZyhyZWFkZXIuaW50NjQoKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfSxcbiAgICBmcm9tSlNPTihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHB1YktleTogaXNTZXQob2JqZWN0LnB1YktleSlcbiAgICAgICAgICAgICAgICA/IFB1YmxpY0tleS5mcm9tSlNPTihvYmplY3QucHViS2V5KVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgcG93ZXI6IGlzU2V0KG9iamVjdC5wb3dlcikgPyBTdHJpbmcob2JqZWN0LnBvd2VyKSA6IFwiMFwiLFxuICAgICAgICB9O1xuICAgIH0sXG4gICAgdG9KU09OKG1lc3NhZ2UpIHtcbiAgICAgICAgY29uc3Qgb2JqID0ge307XG4gICAgICAgIG1lc3NhZ2UucHViS2V5ICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIChvYmoucHViS2V5ID0gbWVzc2FnZS5wdWJLZXlcbiAgICAgICAgICAgICAgICA/IFB1YmxpY0tleS50b0pTT04obWVzc2FnZS5wdWJLZXkpXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQpO1xuICAgICAgICBtZXNzYWdlLnBvd2VyICE9PSB1bmRlZmluZWQgJiYgKG9iai5wb3dlciA9IG1lc3NhZ2UucG93ZXIpO1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH0sXG4gICAgZnJvbVBhcnRpYWwob2JqZWN0KSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlVmFsaWRhdG9yVXBkYXRlKCk7XG4gICAgICAgIG1lc3NhZ2UucHViS2V5ID1cbiAgICAgICAgICAgIG9iamVjdC5wdWJLZXkgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QucHViS2V5ICE9PSBudWxsXG4gICAgICAgICAgICAgICAgPyBQdWJsaWNLZXkuZnJvbVBhcnRpYWwob2JqZWN0LnB1YktleSlcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgbWVzc2FnZS5wb3dlciA9IG9iamVjdC5wb3dlciA/PyBcIjBcIjtcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfSxcbn07XG5mdW5jdGlvbiBjcmVhdGVCYXNlVm90ZUluZm8oKSB7XG4gICAgcmV0dXJuIHsgdmFsaWRhdG9yOiB1bmRlZmluZWQsIHNpZ25lZExhc3RCbG9jazogZmFsc2UgfTtcbn1cbmV4cG9ydCBjb25zdCBWb3RlSW5mbyA9IHtcbiAgICBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS52YWxpZGF0b3IgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgVmFsaWRhdG9yLmVuY29kZShtZXNzYWdlLnZhbGlkYXRvciwgd3JpdGVyLnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5zaWduZWRMYXN0QmxvY2sgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTYpLmJvb2wobWVzc2FnZS5zaWduZWRMYXN0QmxvY2spO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfSxcbiAgICBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlVm90ZUluZm8oKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnZhbGlkYXRvciA9IFZhbGlkYXRvci5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc2lnbmVkTGFzdEJsb2NrID0gcmVhZGVyLmJvb2woKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9LFxuICAgIGZyb21KU09OKG9iamVjdCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmFsaWRhdG9yOiBpc1NldChvYmplY3QudmFsaWRhdG9yKVxuICAgICAgICAgICAgICAgID8gVmFsaWRhdG9yLmZyb21KU09OKG9iamVjdC52YWxpZGF0b3IpXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBzaWduZWRMYXN0QmxvY2s6IGlzU2V0KG9iamVjdC5zaWduZWRMYXN0QmxvY2spXG4gICAgICAgICAgICAgICAgPyBCb29sZWFuKG9iamVjdC5zaWduZWRMYXN0QmxvY2spXG4gICAgICAgICAgICAgICAgOiBmYWxzZSxcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIHRvSlNPTihtZXNzYWdlKSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgICAgICBtZXNzYWdlLnZhbGlkYXRvciAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAob2JqLnZhbGlkYXRvciA9IG1lc3NhZ2UudmFsaWRhdG9yXG4gICAgICAgICAgICAgICAgPyBWYWxpZGF0b3IudG9KU09OKG1lc3NhZ2UudmFsaWRhdG9yKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkKTtcbiAgICAgICAgbWVzc2FnZS5zaWduZWRMYXN0QmxvY2sgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgKG9iai5zaWduZWRMYXN0QmxvY2sgPSBtZXNzYWdlLnNpZ25lZExhc3RCbG9jayk7XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfSxcbiAgICBmcm9tUGFydGlhbChvYmplY3QpIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VWb3RlSW5mbygpO1xuICAgICAgICBtZXNzYWdlLnZhbGlkYXRvciA9XG4gICAgICAgICAgICBvYmplY3QudmFsaWRhdG9yICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnZhbGlkYXRvciAhPT0gbnVsbFxuICAgICAgICAgICAgICAgID8gVmFsaWRhdG9yLmZyb21QYXJ0aWFsKG9iamVjdC52YWxpZGF0b3IpXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgIG1lc3NhZ2Uuc2lnbmVkTGFzdEJsb2NrID0gb2JqZWN0LnNpZ25lZExhc3RCbG9jayA/PyBmYWxzZTtcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfSxcbn07XG5mdW5jdGlvbiBjcmVhdGVCYXNlRXZpZGVuY2UoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogMCxcbiAgICAgICAgdmFsaWRhdG9yOiB1bmRlZmluZWQsXG4gICAgICAgIGhlaWdodDogXCIwXCIsXG4gICAgICAgIHRpbWU6IHVuZGVmaW5lZCxcbiAgICAgICAgdG90YWxWb3RpbmdQb3dlcjogXCIwXCIsXG4gICAgfTtcbn1cbmV4cG9ydCBjb25zdCBFdmlkZW5jZSA9IHtcbiAgICBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS50eXBlICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDgpLmludDMyKG1lc3NhZ2UudHlwZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UudmFsaWRhdG9yICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIFZhbGlkYXRvci5lbmNvZGUobWVzc2FnZS52YWxpZGF0b3IsIHdyaXRlci51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuaGVpZ2h0ICE9PSBcIjBcIikge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyNCkuaW50NjQobWVzc2FnZS5oZWlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnRpbWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgVGltZXN0YW1wLmVuY29kZShtZXNzYWdlLnRpbWUsIHdyaXRlci51aW50MzIoMzQpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UudG90YWxWb3RpbmdQb3dlciAhPT0gXCIwXCIpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoNDApLmludDY0KG1lc3NhZ2UudG90YWxWb3RpbmdQb3dlcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9LFxuICAgIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VFdmlkZW5jZSgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudHlwZSA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudmFsaWRhdG9yID0gVmFsaWRhdG9yLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5oZWlnaHQgPSBsb25nVG9TdHJpbmcocmVhZGVyLmludDY0KCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudGltZSA9IFRpbWVzdGFtcC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudG90YWxWb3RpbmdQb3dlciA9IGxvbmdUb1N0cmluZyhyZWFkZXIuaW50NjQoKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfSxcbiAgICBmcm9tSlNPTihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6IGlzU2V0KG9iamVjdC50eXBlKSA/IGV2aWRlbmNlVHlwZUZyb21KU09OKG9iamVjdC50eXBlKSA6IDAsXG4gICAgICAgICAgICB2YWxpZGF0b3I6IGlzU2V0KG9iamVjdC52YWxpZGF0b3IpXG4gICAgICAgICAgICAgICAgPyBWYWxpZGF0b3IuZnJvbUpTT04ob2JqZWN0LnZhbGlkYXRvcilcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGhlaWdodDogaXNTZXQob2JqZWN0LmhlaWdodCkgPyBTdHJpbmcob2JqZWN0LmhlaWdodCkgOiBcIjBcIixcbiAgICAgICAgICAgIHRpbWU6IGlzU2V0KG9iamVjdC50aW1lKSA/IGZyb21Kc29uVGltZXN0YW1wKG9iamVjdC50aW1lKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHRvdGFsVm90aW5nUG93ZXI6IGlzU2V0KG9iamVjdC50b3RhbFZvdGluZ1Bvd2VyKVxuICAgICAgICAgICAgICAgID8gU3RyaW5nKG9iamVjdC50b3RhbFZvdGluZ1Bvd2VyKVxuICAgICAgICAgICAgICAgIDogXCIwXCIsXG4gICAgICAgIH07XG4gICAgfSxcbiAgICB0b0pTT04obWVzc2FnZSkge1xuICAgICAgICBjb25zdCBvYmogPSB7fTtcbiAgICAgICAgbWVzc2FnZS50eXBlICE9PSB1bmRlZmluZWQgJiYgKG9iai50eXBlID0gZXZpZGVuY2VUeXBlVG9KU09OKG1lc3NhZ2UudHlwZSkpO1xuICAgICAgICBtZXNzYWdlLnZhbGlkYXRvciAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAob2JqLnZhbGlkYXRvciA9IG1lc3NhZ2UudmFsaWRhdG9yXG4gICAgICAgICAgICAgICAgPyBWYWxpZGF0b3IudG9KU09OKG1lc3NhZ2UudmFsaWRhdG9yKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkKTtcbiAgICAgICAgbWVzc2FnZS5oZWlnaHQgIT09IHVuZGVmaW5lZCAmJiAob2JqLmhlaWdodCA9IG1lc3NhZ2UuaGVpZ2h0KTtcbiAgICAgICAgbWVzc2FnZS50aW1lICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIChvYmoudGltZSA9IGZyb21UaW1lc3RhbXAobWVzc2FnZS50aW1lKS50b0lTT1N0cmluZygpKTtcbiAgICAgICAgbWVzc2FnZS50b3RhbFZvdGluZ1Bvd2VyICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIChvYmoudG90YWxWb3RpbmdQb3dlciA9IG1lc3NhZ2UudG90YWxWb3RpbmdQb3dlcik7XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfSxcbiAgICBmcm9tUGFydGlhbChvYmplY3QpIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VFdmlkZW5jZSgpO1xuICAgICAgICBtZXNzYWdlLnR5cGUgPSBvYmplY3QudHlwZSA/PyAwO1xuICAgICAgICBtZXNzYWdlLnZhbGlkYXRvciA9XG4gICAgICAgICAgICBvYmplY3QudmFsaWRhdG9yICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnZhbGlkYXRvciAhPT0gbnVsbFxuICAgICAgICAgICAgICAgID8gVmFsaWRhdG9yLmZyb21QYXJ0aWFsKG9iamVjdC52YWxpZGF0b3IpXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgIG1lc3NhZ2UuaGVpZ2h0ID0gb2JqZWN0LmhlaWdodCA/PyBcIjBcIjtcbiAgICAgICAgbWVzc2FnZS50aW1lID1cbiAgICAgICAgICAgIG9iamVjdC50aW1lICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnRpbWUgIT09IG51bGxcbiAgICAgICAgICAgICAgICA/IFRpbWVzdGFtcC5mcm9tUGFydGlhbChvYmplY3QudGltZSlcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgbWVzc2FnZS50b3RhbFZvdGluZ1Bvd2VyID0gb2JqZWN0LnRvdGFsVm90aW5nUG93ZXIgPz8gXCIwXCI7XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG59O1xuZnVuY3Rpb24gY3JlYXRlQmFzZVNuYXBzaG90KCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGhlaWdodDogXCIwXCIsXG4gICAgICAgIGZvcm1hdDogMCxcbiAgICAgICAgY2h1bmtzOiAwLFxuICAgICAgICBoYXNoOiBuZXcgVWludDhBcnJheSgpLFxuICAgICAgICBtZXRhZGF0YTogbmV3IFVpbnQ4QXJyYXkoKSxcbiAgICB9O1xufVxuZXhwb3J0IGNvbnN0IFNuYXBzaG90ID0ge1xuICAgIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLmhlaWdodCAhPT0gXCIwXCIpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoOCkudWludDY0KG1lc3NhZ2UuaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5mb3JtYXQgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTYpLnVpbnQzMihtZXNzYWdlLmZvcm1hdCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuY2h1bmtzICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDI0KS51aW50MzIobWVzc2FnZS5jaHVua3MpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmhhc2gubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDM0KS5ieXRlcyhtZXNzYWdlLmhhc2gpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLm1ldGFkYXRhLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig0MikuYnl0ZXMobWVzc2FnZS5tZXRhZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9LFxuICAgIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VTbmFwc2hvdCgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuaGVpZ2h0ID0gbG9uZ1RvU3RyaW5nKHJlYWRlci51aW50NjQoKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5mb3JtYXQgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5jaHVua3MgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5oYXNoID0gcmVhZGVyLmJ5dGVzKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5tZXRhZGF0YSA9IHJlYWRlci5ieXRlcygpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG4gICAgZnJvbUpTT04ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBoZWlnaHQ6IGlzU2V0KG9iamVjdC5oZWlnaHQpID8gU3RyaW5nKG9iamVjdC5oZWlnaHQpIDogXCIwXCIsXG4gICAgICAgICAgICBmb3JtYXQ6IGlzU2V0KG9iamVjdC5mb3JtYXQpID8gTnVtYmVyKG9iamVjdC5mb3JtYXQpIDogMCxcbiAgICAgICAgICAgIGNodW5rczogaXNTZXQob2JqZWN0LmNodW5rcykgPyBOdW1iZXIob2JqZWN0LmNodW5rcykgOiAwLFxuICAgICAgICAgICAgaGFzaDogaXNTZXQob2JqZWN0Lmhhc2gpXG4gICAgICAgICAgICAgICAgPyBieXRlc0Zyb21CYXNlNjQob2JqZWN0Lmhhc2gpXG4gICAgICAgICAgICAgICAgOiBuZXcgVWludDhBcnJheSgpLFxuICAgICAgICAgICAgbWV0YWRhdGE6IGlzU2V0KG9iamVjdC5tZXRhZGF0YSlcbiAgICAgICAgICAgICAgICA/IGJ5dGVzRnJvbUJhc2U2NChvYmplY3QubWV0YWRhdGEpXG4gICAgICAgICAgICAgICAgOiBuZXcgVWludDhBcnJheSgpLFxuICAgICAgICB9O1xuICAgIH0sXG4gICAgdG9KU09OKG1lc3NhZ2UpIHtcbiAgICAgICAgY29uc3Qgb2JqID0ge307XG4gICAgICAgIG1lc3NhZ2UuaGVpZ2h0ICE9PSB1bmRlZmluZWQgJiYgKG9iai5oZWlnaHQgPSBtZXNzYWdlLmhlaWdodCk7XG4gICAgICAgIG1lc3NhZ2UuZm9ybWF0ICE9PSB1bmRlZmluZWQgJiYgKG9iai5mb3JtYXQgPSBNYXRoLnJvdW5kKG1lc3NhZ2UuZm9ybWF0KSk7XG4gICAgICAgIG1lc3NhZ2UuY2h1bmtzICE9PSB1bmRlZmluZWQgJiYgKG9iai5jaHVua3MgPSBNYXRoLnJvdW5kKG1lc3NhZ2UuY2h1bmtzKSk7XG4gICAgICAgIG1lc3NhZ2UuaGFzaCAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAob2JqLmhhc2ggPSBiYXNlNjRGcm9tQnl0ZXMobWVzc2FnZS5oYXNoICE9PSB1bmRlZmluZWQgPyBtZXNzYWdlLmhhc2ggOiBuZXcgVWludDhBcnJheSgpKSk7XG4gICAgICAgIG1lc3NhZ2UubWV0YWRhdGEgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgKG9iai5tZXRhZGF0YSA9IGJhc2U2NEZyb21CeXRlcyhtZXNzYWdlLm1ldGFkYXRhICE9PSB1bmRlZmluZWQgPyBtZXNzYWdlLm1ldGFkYXRhIDogbmV3IFVpbnQ4QXJyYXkoKSkpO1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH0sXG4gICAgZnJvbVBhcnRpYWwob2JqZWN0KSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlU25hcHNob3QoKTtcbiAgICAgICAgbWVzc2FnZS5oZWlnaHQgPSBvYmplY3QuaGVpZ2h0ID8/IFwiMFwiO1xuICAgICAgICBtZXNzYWdlLmZvcm1hdCA9IG9iamVjdC5mb3JtYXQgPz8gMDtcbiAgICAgICAgbWVzc2FnZS5jaHVua3MgPSBvYmplY3QuY2h1bmtzID8/IDA7XG4gICAgICAgIG1lc3NhZ2UuaGFzaCA9IG9iamVjdC5oYXNoID8/IG5ldyBVaW50OEFycmF5KCk7XG4gICAgICAgIG1lc3NhZ2UubWV0YWRhdGEgPSBvYmplY3QubWV0YWRhdGEgPz8gbmV3IFVpbnQ4QXJyYXkoKTtcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfSxcbn07XG5leHBvcnQgY2xhc3MgQUJDSUFwcGxpY2F0aW9uQ2xpZW50SW1wbCB7XG4gICAgcnBjO1xuICAgIGNvbnN0cnVjdG9yKHJwYykge1xuICAgICAgICB0aGlzLnJwYyA9IHJwYztcbiAgICAgICAgdGhpcy5lY2hvID0gdGhpcy5lY2hvLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuZmx1c2ggPSB0aGlzLmZsdXNoLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuaW5mbyA9IHRoaXMuaW5mby5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnNldE9wdGlvbiA9IHRoaXMuc2V0T3B0aW9uLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuZGVsaXZlclR4ID0gdGhpcy5kZWxpdmVyVHguYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5jaGVja1R4ID0gdGhpcy5jaGVja1R4LmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMucXVlcnkgPSB0aGlzLnF1ZXJ5LmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuY29tbWl0ID0gdGhpcy5jb21taXQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5pbml0Q2hhaW4gPSB0aGlzLmluaXRDaGFpbi5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmJlZ2luQmxvY2sgPSB0aGlzLmJlZ2luQmxvY2suYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5lbmRCbG9jayA9IHRoaXMuZW5kQmxvY2suYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5saXN0U25hcHNob3RzID0gdGhpcy5saXN0U25hcHNob3RzLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMub2ZmZXJTbmFwc2hvdCA9IHRoaXMub2ZmZXJTbmFwc2hvdC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmxvYWRTbmFwc2hvdENodW5rID0gdGhpcy5sb2FkU25hcHNob3RDaHVuay5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmFwcGx5U25hcHNob3RDaHVuayA9IHRoaXMuYXBwbHlTbmFwc2hvdENodW5rLmJpbmQodGhpcyk7XG4gICAgfVxuICAgIGVjaG8ocmVxdWVzdCwgbWV0YWRhdGEpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucnBjLnVuYXJ5KEFCQ0lBcHBsaWNhdGlvbkVjaG9EZXNjLCBSZXF1ZXN0RWNoby5mcm9tUGFydGlhbChyZXF1ZXN0KSwgbWV0YWRhdGEpO1xuICAgIH1cbiAgICBmbHVzaChyZXF1ZXN0LCBtZXRhZGF0YSkge1xuICAgICAgICByZXR1cm4gdGhpcy5ycGMudW5hcnkoQUJDSUFwcGxpY2F0aW9uRmx1c2hEZXNjLCBSZXF1ZXN0Rmx1c2guZnJvbVBhcnRpYWwocmVxdWVzdCksIG1ldGFkYXRhKTtcbiAgICB9XG4gICAgaW5mbyhyZXF1ZXN0LCBtZXRhZGF0YSkge1xuICAgICAgICByZXR1cm4gdGhpcy5ycGMudW5hcnkoQUJDSUFwcGxpY2F0aW9uSW5mb0Rlc2MsIFJlcXVlc3RJbmZvLmZyb21QYXJ0aWFsKHJlcXVlc3QpLCBtZXRhZGF0YSk7XG4gICAgfVxuICAgIHNldE9wdGlvbihyZXF1ZXN0LCBtZXRhZGF0YSkge1xuICAgICAgICByZXR1cm4gdGhpcy5ycGMudW5hcnkoQUJDSUFwcGxpY2F0aW9uU2V0T3B0aW9uRGVzYywgUmVxdWVzdFNldE9wdGlvbi5mcm9tUGFydGlhbChyZXF1ZXN0KSwgbWV0YWRhdGEpO1xuICAgIH1cbiAgICBkZWxpdmVyVHgocmVxdWVzdCwgbWV0YWRhdGEpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucnBjLnVuYXJ5KEFCQ0lBcHBsaWNhdGlvbkRlbGl2ZXJUeERlc2MsIFJlcXVlc3REZWxpdmVyVHguZnJvbVBhcnRpYWwocmVxdWVzdCksIG1ldGFkYXRhKTtcbiAgICB9XG4gICAgY2hlY2tUeChyZXF1ZXN0LCBtZXRhZGF0YSkge1xuICAgICAgICByZXR1cm4gdGhpcy5ycGMudW5hcnkoQUJDSUFwcGxpY2F0aW9uQ2hlY2tUeERlc2MsIFJlcXVlc3RDaGVja1R4LmZyb21QYXJ0aWFsKHJlcXVlc3QpLCBtZXRhZGF0YSk7XG4gICAgfVxuICAgIHF1ZXJ5KHJlcXVlc3QsIG1ldGFkYXRhKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJwYy51bmFyeShBQkNJQXBwbGljYXRpb25RdWVyeURlc2MsIFJlcXVlc3RRdWVyeS5mcm9tUGFydGlhbChyZXF1ZXN0KSwgbWV0YWRhdGEpO1xuICAgIH1cbiAgICBjb21taXQocmVxdWVzdCwgbWV0YWRhdGEpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucnBjLnVuYXJ5KEFCQ0lBcHBsaWNhdGlvbkNvbW1pdERlc2MsIFJlcXVlc3RDb21taXQuZnJvbVBhcnRpYWwocmVxdWVzdCksIG1ldGFkYXRhKTtcbiAgICB9XG4gICAgaW5pdENoYWluKHJlcXVlc3QsIG1ldGFkYXRhKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJwYy51bmFyeShBQkNJQXBwbGljYXRpb25Jbml0Q2hhaW5EZXNjLCBSZXF1ZXN0SW5pdENoYWluLmZyb21QYXJ0aWFsKHJlcXVlc3QpLCBtZXRhZGF0YSk7XG4gICAgfVxuICAgIGJlZ2luQmxvY2socmVxdWVzdCwgbWV0YWRhdGEpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucnBjLnVuYXJ5KEFCQ0lBcHBsaWNhdGlvbkJlZ2luQmxvY2tEZXNjLCBSZXF1ZXN0QmVnaW5CbG9jay5mcm9tUGFydGlhbChyZXF1ZXN0KSwgbWV0YWRhdGEpO1xuICAgIH1cbiAgICBlbmRCbG9jayhyZXF1ZXN0LCBtZXRhZGF0YSkge1xuICAgICAgICByZXR1cm4gdGhpcy5ycGMudW5hcnkoQUJDSUFwcGxpY2F0aW9uRW5kQmxvY2tEZXNjLCBSZXF1ZXN0RW5kQmxvY2suZnJvbVBhcnRpYWwocmVxdWVzdCksIG1ldGFkYXRhKTtcbiAgICB9XG4gICAgbGlzdFNuYXBzaG90cyhyZXF1ZXN0LCBtZXRhZGF0YSkge1xuICAgICAgICByZXR1cm4gdGhpcy5ycGMudW5hcnkoQUJDSUFwcGxpY2F0aW9uTGlzdFNuYXBzaG90c0Rlc2MsIFJlcXVlc3RMaXN0U25hcHNob3RzLmZyb21QYXJ0aWFsKHJlcXVlc3QpLCBtZXRhZGF0YSk7XG4gICAgfVxuICAgIG9mZmVyU25hcHNob3QocmVxdWVzdCwgbWV0YWRhdGEpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucnBjLnVuYXJ5KEFCQ0lBcHBsaWNhdGlvbk9mZmVyU25hcHNob3REZXNjLCBSZXF1ZXN0T2ZmZXJTbmFwc2hvdC5mcm9tUGFydGlhbChyZXF1ZXN0KSwgbWV0YWRhdGEpO1xuICAgIH1cbiAgICBsb2FkU25hcHNob3RDaHVuayhyZXF1ZXN0LCBtZXRhZGF0YSkge1xuICAgICAgICByZXR1cm4gdGhpcy5ycGMudW5hcnkoQUJDSUFwcGxpY2F0aW9uTG9hZFNuYXBzaG90Q2h1bmtEZXNjLCBSZXF1ZXN0TG9hZFNuYXBzaG90Q2h1bmsuZnJvbVBhcnRpYWwocmVxdWVzdCksIG1ldGFkYXRhKTtcbiAgICB9XG4gICAgYXBwbHlTbmFwc2hvdENodW5rKHJlcXVlc3QsIG1ldGFkYXRhKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJwYy51bmFyeShBQkNJQXBwbGljYXRpb25BcHBseVNuYXBzaG90Q2h1bmtEZXNjLCBSZXF1ZXN0QXBwbHlTbmFwc2hvdENodW5rLmZyb21QYXJ0aWFsKHJlcXVlc3QpLCBtZXRhZGF0YSk7XG4gICAgfVxufVxuZXhwb3J0IGNvbnN0IEFCQ0lBcHBsaWNhdGlvbkRlc2MgPSB7XG4gICAgc2VydmljZU5hbWU6IFwidGVuZGVybWludC5hYmNpLkFCQ0lBcHBsaWNhdGlvblwiLFxufTtcbmV4cG9ydCBjb25zdCBBQkNJQXBwbGljYXRpb25FY2hvRGVzYyA9IHtcbiAgICBtZXRob2ROYW1lOiBcIkVjaG9cIixcbiAgICBzZXJ2aWNlOiBBQkNJQXBwbGljYXRpb25EZXNjLFxuICAgIHJlcXVlc3RTdHJlYW06IGZhbHNlLFxuICAgIHJlc3BvbnNlU3RyZWFtOiBmYWxzZSxcbiAgICByZXF1ZXN0VHlwZToge1xuICAgICAgICBzZXJpYWxpemVCaW5hcnkoKSB7XG4gICAgICAgICAgICByZXR1cm4gUmVxdWVzdEVjaG8uZW5jb2RlKHRoaXMpLmZpbmlzaCgpO1xuICAgICAgICB9LFxuICAgIH0sXG4gICAgcmVzcG9uc2VUeXBlOiB7XG4gICAgICAgIGRlc2VyaWFsaXplQmluYXJ5KGRhdGEpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgLi4uUmVzcG9uc2VFY2hvLmRlY29kZShkYXRhKSxcbiAgICAgICAgICAgICAgICB0b09iamVjdCgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgfSxcbn07XG5leHBvcnQgY29uc3QgQUJDSUFwcGxpY2F0aW9uRmx1c2hEZXNjID0ge1xuICAgIG1ldGhvZE5hbWU6IFwiRmx1c2hcIixcbiAgICBzZXJ2aWNlOiBBQkNJQXBwbGljYXRpb25EZXNjLFxuICAgIHJlcXVlc3RTdHJlYW06IGZhbHNlLFxuICAgIHJlc3BvbnNlU3RyZWFtOiBmYWxzZSxcbiAgICByZXF1ZXN0VHlwZToge1xuICAgICAgICBzZXJpYWxpemVCaW5hcnkoKSB7XG4gICAgICAgICAgICByZXR1cm4gUmVxdWVzdEZsdXNoLmVuY29kZSh0aGlzKS5maW5pc2goKTtcbiAgICAgICAgfSxcbiAgICB9LFxuICAgIHJlc3BvbnNlVHlwZToge1xuICAgICAgICBkZXNlcmlhbGl6ZUJpbmFyeShkYXRhKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIC4uLlJlc3BvbnNlRmx1c2guZGVjb2RlKGRhdGEpLFxuICAgICAgICAgICAgICAgIHRvT2JqZWN0KCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICB9LFxufTtcbmV4cG9ydCBjb25zdCBBQkNJQXBwbGljYXRpb25JbmZvRGVzYyA9IHtcbiAgICBtZXRob2ROYW1lOiBcIkluZm9cIixcbiAgICBzZXJ2aWNlOiBBQkNJQXBwbGljYXRpb25EZXNjLFxuICAgIHJlcXVlc3RTdHJlYW06IGZhbHNlLFxuICAgIHJlc3BvbnNlU3RyZWFtOiBmYWxzZSxcbiAgICByZXF1ZXN0VHlwZToge1xuICAgICAgICBzZXJpYWxpemVCaW5hcnkoKSB7XG4gICAgICAgICAgICByZXR1cm4gUmVxdWVzdEluZm8uZW5jb2RlKHRoaXMpLmZpbmlzaCgpO1xuICAgICAgICB9LFxuICAgIH0sXG4gICAgcmVzcG9uc2VUeXBlOiB7XG4gICAgICAgIGRlc2VyaWFsaXplQmluYXJ5KGRhdGEpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgLi4uUmVzcG9uc2VJbmZvLmRlY29kZShkYXRhKSxcbiAgICAgICAgICAgICAgICB0b09iamVjdCgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgfSxcbn07XG5leHBvcnQgY29uc3QgQUJDSUFwcGxpY2F0aW9uU2V0T3B0aW9uRGVzYyA9IHtcbiAgICBtZXRob2ROYW1lOiBcIlNldE9wdGlvblwiLFxuICAgIHNlcnZpY2U6IEFCQ0lBcHBsaWNhdGlvbkRlc2MsXG4gICAgcmVxdWVzdFN0cmVhbTogZmFsc2UsXG4gICAgcmVzcG9uc2VTdHJlYW06IGZhbHNlLFxuICAgIHJlcXVlc3RUeXBlOiB7XG4gICAgICAgIHNlcmlhbGl6ZUJpbmFyeSgpIHtcbiAgICAgICAgICAgIHJldHVybiBSZXF1ZXN0U2V0T3B0aW9uLmVuY29kZSh0aGlzKS5maW5pc2goKTtcbiAgICAgICAgfSxcbiAgICB9LFxuICAgIHJlc3BvbnNlVHlwZToge1xuICAgICAgICBkZXNlcmlhbGl6ZUJpbmFyeShkYXRhKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIC4uLlJlc3BvbnNlU2V0T3B0aW9uLmRlY29kZShkYXRhKSxcbiAgICAgICAgICAgICAgICB0b09iamVjdCgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgfSxcbn07XG5leHBvcnQgY29uc3QgQUJDSUFwcGxpY2F0aW9uRGVsaXZlclR4RGVzYyA9IHtcbiAgICBtZXRob2ROYW1lOiBcIkRlbGl2ZXJUeFwiLFxuICAgIHNlcnZpY2U6IEFCQ0lBcHBsaWNhdGlvbkRlc2MsXG4gICAgcmVxdWVzdFN0cmVhbTogZmFsc2UsXG4gICAgcmVzcG9uc2VTdHJlYW06IGZhbHNlLFxuICAgIHJlcXVlc3RUeXBlOiB7XG4gICAgICAgIHNlcmlhbGl6ZUJpbmFyeSgpIHtcbiAgICAgICAgICAgIHJldHVybiBSZXF1ZXN0RGVsaXZlclR4LmVuY29kZSh0aGlzKS5maW5pc2goKTtcbiAgICAgICAgfSxcbiAgICB9LFxuICAgIHJlc3BvbnNlVHlwZToge1xuICAgICAgICBkZXNlcmlhbGl6ZUJpbmFyeShkYXRhKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIC4uLlJlc3BvbnNlRGVsaXZlclR4LmRlY29kZShkYXRhKSxcbiAgICAgICAgICAgICAgICB0b09iamVjdCgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgfSxcbn07XG5leHBvcnQgY29uc3QgQUJDSUFwcGxpY2F0aW9uQ2hlY2tUeERlc2MgPSB7XG4gICAgbWV0aG9kTmFtZTogXCJDaGVja1R4XCIsXG4gICAgc2VydmljZTogQUJDSUFwcGxpY2F0aW9uRGVzYyxcbiAgICByZXF1ZXN0U3RyZWFtOiBmYWxzZSxcbiAgICByZXNwb25zZVN0cmVhbTogZmFsc2UsXG4gICAgcmVxdWVzdFR5cGU6IHtcbiAgICAgICAgc2VyaWFsaXplQmluYXJ5KCkge1xuICAgICAgICAgICAgcmV0dXJuIFJlcXVlc3RDaGVja1R4LmVuY29kZSh0aGlzKS5maW5pc2goKTtcbiAgICAgICAgfSxcbiAgICB9LFxuICAgIHJlc3BvbnNlVHlwZToge1xuICAgICAgICBkZXNlcmlhbGl6ZUJpbmFyeShkYXRhKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIC4uLlJlc3BvbnNlQ2hlY2tUeC5kZWNvZGUoZGF0YSksXG4gICAgICAgICAgICAgICAgdG9PYmplY3QoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgIH0sXG59O1xuZXhwb3J0IGNvbnN0IEFCQ0lBcHBsaWNhdGlvblF1ZXJ5RGVzYyA9IHtcbiAgICBtZXRob2ROYW1lOiBcIlF1ZXJ5XCIsXG4gICAgc2VydmljZTogQUJDSUFwcGxpY2F0aW9uRGVzYyxcbiAgICByZXF1ZXN0U3RyZWFtOiBmYWxzZSxcbiAgICByZXNwb25zZVN0cmVhbTogZmFsc2UsXG4gICAgcmVxdWVzdFR5cGU6IHtcbiAgICAgICAgc2VyaWFsaXplQmluYXJ5KCkge1xuICAgICAgICAgICAgcmV0dXJuIFJlcXVlc3RRdWVyeS5lbmNvZGUodGhpcykuZmluaXNoKCk7XG4gICAgICAgIH0sXG4gICAgfSxcbiAgICByZXNwb25zZVR5cGU6IHtcbiAgICAgICAgZGVzZXJpYWxpemVCaW5hcnkoZGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAuLi5SZXNwb25zZVF1ZXJ5LmRlY29kZShkYXRhKSxcbiAgICAgICAgICAgICAgICB0b09iamVjdCgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgfSxcbn07XG5leHBvcnQgY29uc3QgQUJDSUFwcGxpY2F0aW9uQ29tbWl0RGVzYyA9IHtcbiAgICBtZXRob2ROYW1lOiBcIkNvbW1pdFwiLFxuICAgIHNlcnZpY2U6IEFCQ0lBcHBsaWNhdGlvbkRlc2MsXG4gICAgcmVxdWVzdFN0cmVhbTogZmFsc2UsXG4gICAgcmVzcG9uc2VTdHJlYW06IGZhbHNlLFxuICAgIHJlcXVlc3RUeXBlOiB7XG4gICAgICAgIHNlcmlhbGl6ZUJpbmFyeSgpIHtcbiAgICAgICAgICAgIHJldHVybiBSZXF1ZXN0Q29tbWl0LmVuY29kZSh0aGlzKS5maW5pc2goKTtcbiAgICAgICAgfSxcbiAgICB9LFxuICAgIHJlc3BvbnNlVHlwZToge1xuICAgICAgICBkZXNlcmlhbGl6ZUJpbmFyeShkYXRhKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIC4uLlJlc3BvbnNlQ29tbWl0LmRlY29kZShkYXRhKSxcbiAgICAgICAgICAgICAgICB0b09iamVjdCgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgfSxcbn07XG5leHBvcnQgY29uc3QgQUJDSUFwcGxpY2F0aW9uSW5pdENoYWluRGVzYyA9IHtcbiAgICBtZXRob2ROYW1lOiBcIkluaXRDaGFpblwiLFxuICAgIHNlcnZpY2U6IEFCQ0lBcHBsaWNhdGlvbkRlc2MsXG4gICAgcmVxdWVzdFN0cmVhbTogZmFsc2UsXG4gICAgcmVzcG9uc2VTdHJlYW06IGZhbHNlLFxuICAgIHJlcXVlc3RUeXBlOiB7XG4gICAgICAgIHNlcmlhbGl6ZUJpbmFyeSgpIHtcbiAgICAgICAgICAgIHJldHVybiBSZXF1ZXN0SW5pdENoYWluLmVuY29kZSh0aGlzKS5maW5pc2goKTtcbiAgICAgICAgfSxcbiAgICB9LFxuICAgIHJlc3BvbnNlVHlwZToge1xuICAgICAgICBkZXNlcmlhbGl6ZUJpbmFyeShkYXRhKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIC4uLlJlc3BvbnNlSW5pdENoYWluLmRlY29kZShkYXRhKSxcbiAgICAgICAgICAgICAgICB0b09iamVjdCgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgfSxcbn07XG5leHBvcnQgY29uc3QgQUJDSUFwcGxpY2F0aW9uQmVnaW5CbG9ja0Rlc2MgPSB7XG4gICAgbWV0aG9kTmFtZTogXCJCZWdpbkJsb2NrXCIsXG4gICAgc2VydmljZTogQUJDSUFwcGxpY2F0aW9uRGVzYyxcbiAgICByZXF1ZXN0U3RyZWFtOiBmYWxzZSxcbiAgICByZXNwb25zZVN0cmVhbTogZmFsc2UsXG4gICAgcmVxdWVzdFR5cGU6IHtcbiAgICAgICAgc2VyaWFsaXplQmluYXJ5KCkge1xuICAgICAgICAgICAgcmV0dXJuIFJlcXVlc3RCZWdpbkJsb2NrLmVuY29kZSh0aGlzKS5maW5pc2goKTtcbiAgICAgICAgfSxcbiAgICB9LFxuICAgIHJlc3BvbnNlVHlwZToge1xuICAgICAgICBkZXNlcmlhbGl6ZUJpbmFyeShkYXRhKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIC4uLlJlc3BvbnNlQmVnaW5CbG9jay5kZWNvZGUoZGF0YSksXG4gICAgICAgICAgICAgICAgdG9PYmplY3QoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgIH0sXG59O1xuZXhwb3J0IGNvbnN0IEFCQ0lBcHBsaWNhdGlvbkVuZEJsb2NrRGVzYyA9IHtcbiAgICBtZXRob2ROYW1lOiBcIkVuZEJsb2NrXCIsXG4gICAgc2VydmljZTogQUJDSUFwcGxpY2F0aW9uRGVzYyxcbiAgICByZXF1ZXN0U3RyZWFtOiBmYWxzZSxcbiAgICByZXNwb25zZVN0cmVhbTogZmFsc2UsXG4gICAgcmVxdWVzdFR5cGU6IHtcbiAgICAgICAgc2VyaWFsaXplQmluYXJ5KCkge1xuICAgICAgICAgICAgcmV0dXJuIFJlcXVlc3RFbmRCbG9jay5lbmNvZGUodGhpcykuZmluaXNoKCk7XG4gICAgICAgIH0sXG4gICAgfSxcbiAgICByZXNwb25zZVR5cGU6IHtcbiAgICAgICAgZGVzZXJpYWxpemVCaW5hcnkoZGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAuLi5SZXNwb25zZUVuZEJsb2NrLmRlY29kZShkYXRhKSxcbiAgICAgICAgICAgICAgICB0b09iamVjdCgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgfSxcbn07XG5leHBvcnQgY29uc3QgQUJDSUFwcGxpY2F0aW9uTGlzdFNuYXBzaG90c0Rlc2MgPSB7XG4gICAgbWV0aG9kTmFtZTogXCJMaXN0U25hcHNob3RzXCIsXG4gICAgc2VydmljZTogQUJDSUFwcGxpY2F0aW9uRGVzYyxcbiAgICByZXF1ZXN0U3RyZWFtOiBmYWxzZSxcbiAgICByZXNwb25zZVN0cmVhbTogZmFsc2UsXG4gICAgcmVxdWVzdFR5cGU6IHtcbiAgICAgICAgc2VyaWFsaXplQmluYXJ5KCkge1xuICAgICAgICAgICAgcmV0dXJuIFJlcXVlc3RMaXN0U25hcHNob3RzLmVuY29kZSh0aGlzKS5maW5pc2goKTtcbiAgICAgICAgfSxcbiAgICB9LFxuICAgIHJlc3BvbnNlVHlwZToge1xuICAgICAgICBkZXNlcmlhbGl6ZUJpbmFyeShkYXRhKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIC4uLlJlc3BvbnNlTGlzdFNuYXBzaG90cy5kZWNvZGUoZGF0YSksXG4gICAgICAgICAgICAgICAgdG9PYmplY3QoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgIH0sXG59O1xuZXhwb3J0IGNvbnN0IEFCQ0lBcHBsaWNhdGlvbk9mZmVyU25hcHNob3REZXNjID0ge1xuICAgIG1ldGhvZE5hbWU6IFwiT2ZmZXJTbmFwc2hvdFwiLFxuICAgIHNlcnZpY2U6IEFCQ0lBcHBsaWNhdGlvbkRlc2MsXG4gICAgcmVxdWVzdFN0cmVhbTogZmFsc2UsXG4gICAgcmVzcG9uc2VTdHJlYW06IGZhbHNlLFxuICAgIHJlcXVlc3RUeXBlOiB7XG4gICAgICAgIHNlcmlhbGl6ZUJpbmFyeSgpIHtcbiAgICAgICAgICAgIHJldHVybiBSZXF1ZXN0T2ZmZXJTbmFwc2hvdC5lbmNvZGUodGhpcykuZmluaXNoKCk7XG4gICAgICAgIH0sXG4gICAgfSxcbiAgICByZXNwb25zZVR5cGU6IHtcbiAgICAgICAgZGVzZXJpYWxpemVCaW5hcnkoZGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAuLi5SZXNwb25zZU9mZmVyU25hcHNob3QuZGVjb2RlKGRhdGEpLFxuICAgICAgICAgICAgICAgIHRvT2JqZWN0KCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICB9LFxufTtcbmV4cG9ydCBjb25zdCBBQkNJQXBwbGljYXRpb25Mb2FkU25hcHNob3RDaHVua0Rlc2MgPSB7XG4gICAgbWV0aG9kTmFtZTogXCJMb2FkU25hcHNob3RDaHVua1wiLFxuICAgIHNlcnZpY2U6IEFCQ0lBcHBsaWNhdGlvbkRlc2MsXG4gICAgcmVxdWVzdFN0cmVhbTogZmFsc2UsXG4gICAgcmVzcG9uc2VTdHJlYW06IGZhbHNlLFxuICAgIHJlcXVlc3RUeXBlOiB7XG4gICAgICAgIHNlcmlhbGl6ZUJpbmFyeSgpIHtcbiAgICAgICAgICAgIHJldHVybiBSZXF1ZXN0TG9hZFNuYXBzaG90Q2h1bmsuZW5jb2RlKHRoaXMpLmZpbmlzaCgpO1xuICAgICAgICB9LFxuICAgIH0sXG4gICAgcmVzcG9uc2VUeXBlOiB7XG4gICAgICAgIGRlc2VyaWFsaXplQmluYXJ5KGRhdGEpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgLi4uUmVzcG9uc2VMb2FkU25hcHNob3RDaHVuay5kZWNvZGUoZGF0YSksXG4gICAgICAgICAgICAgICAgdG9PYmplY3QoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgIH0sXG59O1xuZXhwb3J0IGNvbnN0IEFCQ0lBcHBsaWNhdGlvbkFwcGx5U25hcHNob3RDaHVua0Rlc2MgPSB7XG4gICAgbWV0aG9kTmFtZTogXCJBcHBseVNuYXBzaG90Q2h1bmtcIixcbiAgICBzZXJ2aWNlOiBBQkNJQXBwbGljYXRpb25EZXNjLFxuICAgIHJlcXVlc3RTdHJlYW06IGZhbHNlLFxuICAgIHJlc3BvbnNlU3RyZWFtOiBmYWxzZSxcbiAgICByZXF1ZXN0VHlwZToge1xuICAgICAgICBzZXJpYWxpemVCaW5hcnkoKSB7XG4gICAgICAgICAgICByZXR1cm4gUmVxdWVzdEFwcGx5U25hcHNob3RDaHVuay5lbmNvZGUodGhpcykuZmluaXNoKCk7XG4gICAgICAgIH0sXG4gICAgfSxcbiAgICByZXNwb25zZVR5cGU6IHtcbiAgICAgICAgZGVzZXJpYWxpemVCaW5hcnkoZGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAuLi5SZXNwb25zZUFwcGx5U25hcHNob3RDaHVuay5kZWNvZGUoZGF0YSksXG4gICAgICAgICAgICAgICAgdG9PYmplY3QoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgIH0sXG59O1xuZXhwb3J0IGNsYXNzIEdycGNXZWJJbXBsIHtcbiAgICBob3N0O1xuICAgIG9wdGlvbnM7XG4gICAgY29uc3RydWN0b3IoaG9zdCwgb3B0aW9ucykge1xuICAgICAgICB0aGlzLmhvc3QgPSBob3N0O1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIH1cbiAgICB1bmFyeShtZXRob2REZXNjLCBfcmVxdWVzdCwgbWV0YWRhdGEpIHtcbiAgICAgICAgY29uc3QgcmVxdWVzdCA9IHsgLi4uX3JlcXVlc3QsIC4uLm1ldGhvZERlc2MucmVxdWVzdFR5cGUgfTtcbiAgICAgICAgY29uc3QgbWF5YmVDb21iaW5lZE1ldGFkYXRhID0gbWV0YWRhdGEgJiYgdGhpcy5vcHRpb25zLm1ldGFkYXRhXG4gICAgICAgICAgICA/IG5ldyBCcm93c2VySGVhZGVycyh7XG4gICAgICAgICAgICAgICAgLi4udGhpcy5vcHRpb25zPy5tZXRhZGF0YS5oZWFkZXJzTWFwLFxuICAgICAgICAgICAgICAgIC4uLm1ldGFkYXRhPy5oZWFkZXJzTWFwLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIDogbWV0YWRhdGEgfHwgdGhpcy5vcHRpb25zLm1ldGFkYXRhO1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgZ3JwYy51bmFyeShtZXRob2REZXNjLCB7XG4gICAgICAgICAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgICAgICAgICBob3N0OiB0aGlzLmhvc3QsXG4gICAgICAgICAgICAgICAgbWV0YWRhdGE6IG1heWJlQ29tYmluZWRNZXRhZGF0YSxcbiAgICAgICAgICAgICAgICB0cmFuc3BvcnQ6IHRoaXMub3B0aW9ucy50cmFuc3BvcnQsXG4gICAgICAgICAgICAgICAgZGVidWc6IHRoaXMub3B0aW9ucy5kZWJ1ZyxcbiAgICAgICAgICAgICAgICBvbkVuZDogZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IGdycGMuQ29kZS5PSykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXNwb25zZS5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVyciA9IG5ldyBFcnJvcihyZXNwb25zZS5zdGF0dXNNZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVyci5jb2RlID0gcmVzcG9uc2Uuc3RhdHVzO1xuICAgICAgICAgICAgICAgICAgICAgICAgZXJyLm1ldGFkYXRhID0gcmVzcG9uc2UudHJhaWxlcnM7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxudmFyIGdsb2JhbFRoaXMgPSAoKCkgPT4ge1xuICAgIGlmICh0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gXCJ1bmRlZmluZWRcIilcbiAgICAgICAgcmV0dXJuIGdsb2JhbFRoaXM7XG4gICAgaWYgKHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiKVxuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIilcbiAgICAgICAgcmV0dXJuIHdpbmRvdztcbiAgICBpZiAodHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIilcbiAgICAgICAgcmV0dXJuIGdsb2JhbDtcbiAgICB0aHJvdyBcIlVuYWJsZSB0byBsb2NhdGUgZ2xvYmFsIG9iamVjdFwiO1xufSkoKTtcbmNvbnN0IGF0b2IgPSBnbG9iYWxUaGlzLmF0b2IgfHxcbiAgICAoKGI2NCkgPT4gZ2xvYmFsVGhpcy5CdWZmZXIuZnJvbShiNjQsIFwiYmFzZTY0XCIpLnRvU3RyaW5nKFwiYmluYXJ5XCIpKTtcbmZ1bmN0aW9uIGJ5dGVzRnJvbUJhc2U2NChiNjQpIHtcbiAgICBjb25zdCBiaW4gPSBhdG9iKGI2NCk7XG4gICAgY29uc3QgYXJyID0gbmV3IFVpbnQ4QXJyYXkoYmluLmxlbmd0aCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBiaW4ubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgYXJyW2ldID0gYmluLmNoYXJDb2RlQXQoaSk7XG4gICAgfVxuICAgIHJldHVybiBhcnI7XG59XG5jb25zdCBidG9hID0gZ2xvYmFsVGhpcy5idG9hIHx8XG4gICAgKChiaW4pID0+IGdsb2JhbFRoaXMuQnVmZmVyLmZyb20oYmluLCBcImJpbmFyeVwiKS50b1N0cmluZyhcImJhc2U2NFwiKSk7XG5mdW5jdGlvbiBiYXNlNjRGcm9tQnl0ZXMoYXJyKSB7XG4gICAgY29uc3QgYmluID0gW107XG4gICAgYXJyLmZvckVhY2goKGJ5dGUpID0+IHtcbiAgICAgICAgYmluLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZShieXRlKSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGJ0b2EoYmluLmpvaW4oXCJcIikpO1xufVxuZnVuY3Rpb24gdG9UaW1lc3RhbXAoZGF0ZSkge1xuICAgIGNvbnN0IHNlY29uZHMgPSBNYXRoLnRydW5jKGRhdGUuZ2V0VGltZSgpIC8gMTAwMCkudG9TdHJpbmcoKTtcbiAgICBjb25zdCBuYW5vcyA9IChkYXRlLmdldFRpbWUoKSAlIDEwMDApICogMTAwMDAwMDtcbiAgICByZXR1cm4geyBzZWNvbmRzLCBuYW5vcyB9O1xufVxuZnVuY3Rpb24gZnJvbVRpbWVzdGFtcCh0KSB7XG4gICAgbGV0IG1pbGxpcyA9IE51bWJlcih0LnNlY29uZHMpICogMTAwMDtcbiAgICBtaWxsaXMgKz0gdC5uYW5vcyAvIDEwMDAwMDA7XG4gICAgcmV0dXJuIG5ldyBEYXRlKG1pbGxpcyk7XG59XG5mdW5jdGlvbiBmcm9tSnNvblRpbWVzdGFtcChvKSB7XG4gICAgaWYgKG8gaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgICAgIHJldHVybiB0b1RpbWVzdGFtcChvKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgcmV0dXJuIHRvVGltZXN0YW1wKG5ldyBEYXRlKG8pKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBUaW1lc3RhbXAuZnJvbUpTT04obyk7XG4gICAgfVxufVxuZnVuY3Rpb24gbG9uZ1RvU3RyaW5nKGxvbmcpIHtcbiAgICByZXR1cm4gbG9uZy50b1N0cmluZygpO1xufVxuaWYgKF9tMC51dGlsLkxvbmcgIT09IExvbmcpIHtcbiAgICBfbTAudXRpbC5Mb25nID0gTG9uZztcbiAgICBfbTAuY29uZmlndXJlKCk7XG59XG5mdW5jdGlvbiBpc1NldCh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gdW5kZWZpbmVkO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dHlwZXMuanMubWFwIiwiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCB7IEFueSB9IGZyb20gXCIuLi8uLi8uLi8uLi9nb29nbGUvcHJvdG9idWYvYW55XCI7XG5pbXBvcnQgTG9uZyBmcm9tIFwibG9uZ1wiO1xuaW1wb3J0IHsgRXZlbnQgfSBmcm9tIFwiLi4vLi4vLi4vLi4vdGVuZGVybWludC9hYmNpL3R5cGVzXCI7XG5pbXBvcnQgKiBhcyBfbTAgZnJvbSBcInByb3RvYnVmanMvbWluaW1hbFwiO1xuZXhwb3J0IGNvbnN0IHByb3RvYnVmUGFja2FnZSA9IFwiY29zbW9zLmJhc2UuYWJjaS52MWJldGExXCI7XG5mdW5jdGlvbiBjcmVhdGVCYXNlVHhSZXNwb25zZSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBoZWlnaHQ6IFwiMFwiLFxuICAgICAgICB0eGhhc2g6IFwiXCIsXG4gICAgICAgIGNvZGVzcGFjZTogXCJcIixcbiAgICAgICAgY29kZTogMCxcbiAgICAgICAgZGF0YTogXCJcIixcbiAgICAgICAgcmF3TG9nOiBcIlwiLFxuICAgICAgICBsb2dzOiBbXSxcbiAgICAgICAgaW5mbzogXCJcIixcbiAgICAgICAgZ2FzV2FudGVkOiBcIjBcIixcbiAgICAgICAgZ2FzVXNlZDogXCIwXCIsXG4gICAgICAgIHR4OiB1bmRlZmluZWQsXG4gICAgICAgIHRpbWVzdGFtcDogXCJcIixcbiAgICAgICAgZXZlbnRzOiBbXSxcbiAgICB9O1xufVxuZXhwb3J0IGNvbnN0IFR4UmVzcG9uc2UgPSB7XG4gICAgZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UuaGVpZ2h0ICE9PSBcIjBcIikge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig4KS5pbnQ2NChtZXNzYWdlLmhlaWdodCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UudHhoYXNoICE9PSBcIlwiKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDE4KS5zdHJpbmcobWVzc2FnZS50eGhhc2gpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmNvZGVzcGFjZSAhPT0gXCJcIikge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyNikuc3RyaW5nKG1lc3NhZ2UuY29kZXNwYWNlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5jb2RlICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDMyKS51aW50MzIobWVzc2FnZS5jb2RlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5kYXRhICE9PSBcIlwiKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDQyKS5zdHJpbmcobWVzc2FnZS5kYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5yYXdMb2cgIT09IFwiXCIpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoNTApLnN0cmluZyhtZXNzYWdlLnJhd0xvZyk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCB2IG9mIG1lc3NhZ2UubG9ncykge1xuICAgICAgICAgICAgQUJDSU1lc3NhZ2VMb2cuZW5jb2RlKHYsIHdyaXRlci51aW50MzIoNTgpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuaW5mbyAhPT0gXCJcIikge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig2Nikuc3RyaW5nKG1lc3NhZ2UuaW5mbyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuZ2FzV2FudGVkICE9PSBcIjBcIikge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig3MikuaW50NjQobWVzc2FnZS5nYXNXYW50ZWQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmdhc1VzZWQgIT09IFwiMFwiKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDgwKS5pbnQ2NChtZXNzYWdlLmdhc1VzZWQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnR4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIEFueS5lbmNvZGUobWVzc2FnZS50eCwgd3JpdGVyLnVpbnQzMig5MCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS50aW1lc3RhbXAgIT09IFwiXCIpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoOTgpLnN0cmluZyhtZXNzYWdlLnRpbWVzdGFtcCk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCB2IG9mIG1lc3NhZ2UuZXZlbnRzKSB7XG4gICAgICAgICAgICBFdmVudC5lbmNvZGUodiwgd3JpdGVyLnVpbnQzMigxMDYpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9LFxuICAgIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VUeFJlc3BvbnNlKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5oZWlnaHQgPSBsb25nVG9TdHJpbmcocmVhZGVyLmludDY0KCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudHhoYXNoID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuY29kZXNwYWNlID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuY29kZSA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmRhdGEgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5yYXdMb2cgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5sb2dzLnB1c2goQUJDSU1lc3NhZ2VMb2cuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5pbmZvID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZ2FzV2FudGVkID0gbG9uZ1RvU3RyaW5nKHJlYWRlci5pbnQ2NCgpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAxMDpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5nYXNVc2VkID0gbG9uZ1RvU3RyaW5nKHJlYWRlci5pbnQ2NCgpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50eCA9IEFueS5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDEyOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRpbWVzdGFtcCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAxMzpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5ldmVudHMucHVzaChFdmVudC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9LFxuICAgIGZyb21KU09OKG9iamVjdCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaGVpZ2h0OiBpc1NldChvYmplY3QuaGVpZ2h0KSA/IFN0cmluZyhvYmplY3QuaGVpZ2h0KSA6IFwiMFwiLFxuICAgICAgICAgICAgdHhoYXNoOiBpc1NldChvYmplY3QudHhoYXNoKSA/IFN0cmluZyhvYmplY3QudHhoYXNoKSA6IFwiXCIsXG4gICAgICAgICAgICBjb2Rlc3BhY2U6IGlzU2V0KG9iamVjdC5jb2Rlc3BhY2UpID8gU3RyaW5nKG9iamVjdC5jb2Rlc3BhY2UpIDogXCJcIixcbiAgICAgICAgICAgIGNvZGU6IGlzU2V0KG9iamVjdC5jb2RlKSA/IE51bWJlcihvYmplY3QuY29kZSkgOiAwLFxuICAgICAgICAgICAgZGF0YTogaXNTZXQob2JqZWN0LmRhdGEpID8gU3RyaW5nKG9iamVjdC5kYXRhKSA6IFwiXCIsXG4gICAgICAgICAgICByYXdMb2c6IGlzU2V0KG9iamVjdC5yYXdMb2cpID8gU3RyaW5nKG9iamVjdC5yYXdMb2cpIDogXCJcIixcbiAgICAgICAgICAgIGxvZ3M6IEFycmF5LmlzQXJyYXkob2JqZWN0Py5sb2dzKVxuICAgICAgICAgICAgICAgID8gb2JqZWN0LmxvZ3MubWFwKChlKSA9PiBBQkNJTWVzc2FnZUxvZy5mcm9tSlNPTihlKSlcbiAgICAgICAgICAgICAgICA6IFtdLFxuICAgICAgICAgICAgaW5mbzogaXNTZXQob2JqZWN0LmluZm8pID8gU3RyaW5nKG9iamVjdC5pbmZvKSA6IFwiXCIsXG4gICAgICAgICAgICBnYXNXYW50ZWQ6IGlzU2V0KG9iamVjdC5nYXNXYW50ZWQpID8gU3RyaW5nKG9iamVjdC5nYXNXYW50ZWQpIDogXCIwXCIsXG4gICAgICAgICAgICBnYXNVc2VkOiBpc1NldChvYmplY3QuZ2FzVXNlZCkgPyBTdHJpbmcob2JqZWN0Lmdhc1VzZWQpIDogXCIwXCIsXG4gICAgICAgICAgICB0eDogaXNTZXQob2JqZWN0LnR4KSA/IEFueS5mcm9tSlNPTihvYmplY3QudHgpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgdGltZXN0YW1wOiBpc1NldChvYmplY3QudGltZXN0YW1wKSA/IFN0cmluZyhvYmplY3QudGltZXN0YW1wKSA6IFwiXCIsXG4gICAgICAgICAgICBldmVudHM6IEFycmF5LmlzQXJyYXkob2JqZWN0Py5ldmVudHMpXG4gICAgICAgICAgICAgICAgPyBvYmplY3QuZXZlbnRzLm1hcCgoZSkgPT4gRXZlbnQuZnJvbUpTT04oZSkpXG4gICAgICAgICAgICAgICAgOiBbXSxcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIHRvSlNPTihtZXNzYWdlKSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgICAgICBtZXNzYWdlLmhlaWdodCAhPT0gdW5kZWZpbmVkICYmIChvYmouaGVpZ2h0ID0gbWVzc2FnZS5oZWlnaHQpO1xuICAgICAgICBtZXNzYWdlLnR4aGFzaCAhPT0gdW5kZWZpbmVkICYmIChvYmoudHhoYXNoID0gbWVzc2FnZS50eGhhc2gpO1xuICAgICAgICBtZXNzYWdlLmNvZGVzcGFjZSAhPT0gdW5kZWZpbmVkICYmIChvYmouY29kZXNwYWNlID0gbWVzc2FnZS5jb2Rlc3BhY2UpO1xuICAgICAgICBtZXNzYWdlLmNvZGUgIT09IHVuZGVmaW5lZCAmJiAob2JqLmNvZGUgPSBNYXRoLnJvdW5kKG1lc3NhZ2UuY29kZSkpO1xuICAgICAgICBtZXNzYWdlLmRhdGEgIT09IHVuZGVmaW5lZCAmJiAob2JqLmRhdGEgPSBtZXNzYWdlLmRhdGEpO1xuICAgICAgICBtZXNzYWdlLnJhd0xvZyAhPT0gdW5kZWZpbmVkICYmIChvYmoucmF3TG9nID0gbWVzc2FnZS5yYXdMb2cpO1xuICAgICAgICBpZiAobWVzc2FnZS5sb2dzKSB7XG4gICAgICAgICAgICBvYmoubG9ncyA9IG1lc3NhZ2UubG9ncy5tYXAoKGUpID0+IGUgPyBBQkNJTWVzc2FnZUxvZy50b0pTT04oZSkgOiB1bmRlZmluZWQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgb2JqLmxvZ3MgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBtZXNzYWdlLmluZm8gIT09IHVuZGVmaW5lZCAmJiAob2JqLmluZm8gPSBtZXNzYWdlLmluZm8pO1xuICAgICAgICBtZXNzYWdlLmdhc1dhbnRlZCAhPT0gdW5kZWZpbmVkICYmIChvYmouZ2FzV2FudGVkID0gbWVzc2FnZS5nYXNXYW50ZWQpO1xuICAgICAgICBtZXNzYWdlLmdhc1VzZWQgIT09IHVuZGVmaW5lZCAmJiAob2JqLmdhc1VzZWQgPSBtZXNzYWdlLmdhc1VzZWQpO1xuICAgICAgICBtZXNzYWdlLnR4ICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIChvYmoudHggPSBtZXNzYWdlLnR4ID8gQW55LnRvSlNPTihtZXNzYWdlLnR4KSA6IHVuZGVmaW5lZCk7XG4gICAgICAgIG1lc3NhZ2UudGltZXN0YW1wICE9PSB1bmRlZmluZWQgJiYgKG9iai50aW1lc3RhbXAgPSBtZXNzYWdlLnRpbWVzdGFtcCk7XG4gICAgICAgIGlmIChtZXNzYWdlLmV2ZW50cykge1xuICAgICAgICAgICAgb2JqLmV2ZW50cyA9IG1lc3NhZ2UuZXZlbnRzLm1hcCgoZSkgPT4gKGUgPyBFdmVudC50b0pTT04oZSkgOiB1bmRlZmluZWQpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG9iai5ldmVudHMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH0sXG4gICAgZnJvbVBhcnRpYWwob2JqZWN0KSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlVHhSZXNwb25zZSgpO1xuICAgICAgICBtZXNzYWdlLmhlaWdodCA9IG9iamVjdC5oZWlnaHQgPz8gXCIwXCI7XG4gICAgICAgIG1lc3NhZ2UudHhoYXNoID0gb2JqZWN0LnR4aGFzaCA/PyBcIlwiO1xuICAgICAgICBtZXNzYWdlLmNvZGVzcGFjZSA9IG9iamVjdC5jb2Rlc3BhY2UgPz8gXCJcIjtcbiAgICAgICAgbWVzc2FnZS5jb2RlID0gb2JqZWN0LmNvZGUgPz8gMDtcbiAgICAgICAgbWVzc2FnZS5kYXRhID0gb2JqZWN0LmRhdGEgPz8gXCJcIjtcbiAgICAgICAgbWVzc2FnZS5yYXdMb2cgPSBvYmplY3QucmF3TG9nID8/IFwiXCI7XG4gICAgICAgIG1lc3NhZ2UubG9ncyA9IG9iamVjdC5sb2dzPy5tYXAoKGUpID0+IEFCQ0lNZXNzYWdlTG9nLmZyb21QYXJ0aWFsKGUpKSB8fCBbXTtcbiAgICAgICAgbWVzc2FnZS5pbmZvID0gb2JqZWN0LmluZm8gPz8gXCJcIjtcbiAgICAgICAgbWVzc2FnZS5nYXNXYW50ZWQgPSBvYmplY3QuZ2FzV2FudGVkID8/IFwiMFwiO1xuICAgICAgICBtZXNzYWdlLmdhc1VzZWQgPSBvYmplY3QuZ2FzVXNlZCA/PyBcIjBcIjtcbiAgICAgICAgbWVzc2FnZS50eCA9XG4gICAgICAgICAgICBvYmplY3QudHggIT09IHVuZGVmaW5lZCAmJiBvYmplY3QudHggIT09IG51bGxcbiAgICAgICAgICAgICAgICA/IEFueS5mcm9tUGFydGlhbChvYmplY3QudHgpXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgIG1lc3NhZ2UudGltZXN0YW1wID0gb2JqZWN0LnRpbWVzdGFtcCA/PyBcIlwiO1xuICAgICAgICBtZXNzYWdlLmV2ZW50cyA9IG9iamVjdC5ldmVudHM/Lm1hcCgoZSkgPT4gRXZlbnQuZnJvbVBhcnRpYWwoZSkpIHx8IFtdO1xuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9LFxufTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VBQkNJTWVzc2FnZUxvZygpIHtcbiAgICByZXR1cm4geyBtc2dJbmRleDogMCwgbG9nOiBcIlwiLCBldmVudHM6IFtdIH07XG59XG5leHBvcnQgY29uc3QgQUJDSU1lc3NhZ2VMb2cgPSB7XG4gICAgZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UubXNnSW5kZXggIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoOCkudWludDMyKG1lc3NhZ2UubXNnSW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmxvZyAhPT0gXCJcIikge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxOCkuc3RyaW5nKG1lc3NhZ2UubG9nKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IHYgb2YgbWVzc2FnZS5ldmVudHMpIHtcbiAgICAgICAgICAgIFN0cmluZ0V2ZW50LmVuY29kZSh2LCB3cml0ZXIudWludDMyKDI2KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfSxcbiAgICBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlQUJDSU1lc3NhZ2VMb2coKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLm1zZ0luZGV4ID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubG9nID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZXZlbnRzLnB1c2goU3RyaW5nRXZlbnQuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfSxcbiAgICBmcm9tSlNPTihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1zZ0luZGV4OiBpc1NldChvYmplY3QubXNnSW5kZXgpID8gTnVtYmVyKG9iamVjdC5tc2dJbmRleCkgOiAwLFxuICAgICAgICAgICAgbG9nOiBpc1NldChvYmplY3QubG9nKSA/IFN0cmluZyhvYmplY3QubG9nKSA6IFwiXCIsXG4gICAgICAgICAgICBldmVudHM6IEFycmF5LmlzQXJyYXkob2JqZWN0Py5ldmVudHMpXG4gICAgICAgICAgICAgICAgPyBvYmplY3QuZXZlbnRzLm1hcCgoZSkgPT4gU3RyaW5nRXZlbnQuZnJvbUpTT04oZSkpXG4gICAgICAgICAgICAgICAgOiBbXSxcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIHRvSlNPTihtZXNzYWdlKSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgICAgICBtZXNzYWdlLm1zZ0luZGV4ICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIChvYmoubXNnSW5kZXggPSBNYXRoLnJvdW5kKG1lc3NhZ2UubXNnSW5kZXgpKTtcbiAgICAgICAgbWVzc2FnZS5sb2cgIT09IHVuZGVmaW5lZCAmJiAob2JqLmxvZyA9IG1lc3NhZ2UubG9nKTtcbiAgICAgICAgaWYgKG1lc3NhZ2UuZXZlbnRzKSB7XG4gICAgICAgICAgICBvYmouZXZlbnRzID0gbWVzc2FnZS5ldmVudHMubWFwKChlKSA9PiBlID8gU3RyaW5nRXZlbnQudG9KU09OKGUpIDogdW5kZWZpbmVkKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG9iai5ldmVudHMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH0sXG4gICAgZnJvbVBhcnRpYWwob2JqZWN0KSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlQUJDSU1lc3NhZ2VMb2coKTtcbiAgICAgICAgbWVzc2FnZS5tc2dJbmRleCA9IG9iamVjdC5tc2dJbmRleCA/PyAwO1xuICAgICAgICBtZXNzYWdlLmxvZyA9IG9iamVjdC5sb2cgPz8gXCJcIjtcbiAgICAgICAgbWVzc2FnZS5ldmVudHMgPVxuICAgICAgICAgICAgb2JqZWN0LmV2ZW50cz8ubWFwKChlKSA9PiBTdHJpbmdFdmVudC5mcm9tUGFydGlhbChlKSkgfHwgW107XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG59O1xuZnVuY3Rpb24gY3JlYXRlQmFzZVN0cmluZ0V2ZW50KCkge1xuICAgIHJldHVybiB7IHR5cGU6IFwiXCIsIGF0dHJpYnV0ZXM6IFtdIH07XG59XG5leHBvcnQgY29uc3QgU3RyaW5nRXZlbnQgPSB7XG4gICAgZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UudHlwZSAhPT0gXCJcIikge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxMCkuc3RyaW5nKG1lc3NhZ2UudHlwZSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCB2IG9mIG1lc3NhZ2UuYXR0cmlidXRlcykge1xuICAgICAgICAgICAgQXR0cmlidXRlLmVuY29kZSh2LCB3cml0ZXIudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfSxcbiAgICBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlU3RyaW5nRXZlbnQoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnR5cGUgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5hdHRyaWJ1dGVzLnB1c2goQXR0cmlidXRlLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG4gICAgZnJvbUpTT04ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiBpc1NldChvYmplY3QudHlwZSkgPyBTdHJpbmcob2JqZWN0LnR5cGUpIDogXCJcIixcbiAgICAgICAgICAgIGF0dHJpYnV0ZXM6IEFycmF5LmlzQXJyYXkob2JqZWN0Py5hdHRyaWJ1dGVzKVxuICAgICAgICAgICAgICAgID8gb2JqZWN0LmF0dHJpYnV0ZXMubWFwKChlKSA9PiBBdHRyaWJ1dGUuZnJvbUpTT04oZSkpXG4gICAgICAgICAgICAgICAgOiBbXSxcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIHRvSlNPTihtZXNzYWdlKSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgICAgICBtZXNzYWdlLnR5cGUgIT09IHVuZGVmaW5lZCAmJiAob2JqLnR5cGUgPSBtZXNzYWdlLnR5cGUpO1xuICAgICAgICBpZiAobWVzc2FnZS5hdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICBvYmouYXR0cmlidXRlcyA9IG1lc3NhZ2UuYXR0cmlidXRlcy5tYXAoKGUpID0+IGUgPyBBdHRyaWJ1dGUudG9KU09OKGUpIDogdW5kZWZpbmVkKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG9iai5hdHRyaWJ1dGVzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9LFxuICAgIGZyb21QYXJ0aWFsKG9iamVjdCkge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVN0cmluZ0V2ZW50KCk7XG4gICAgICAgIG1lc3NhZ2UudHlwZSA9IG9iamVjdC50eXBlID8/IFwiXCI7XG4gICAgICAgIG1lc3NhZ2UuYXR0cmlidXRlcyA9XG4gICAgICAgICAgICBvYmplY3QuYXR0cmlidXRlcz8ubWFwKChlKSA9PiBBdHRyaWJ1dGUuZnJvbVBhcnRpYWwoZSkpIHx8IFtdO1xuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9LFxufTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VBdHRyaWJ1dGUoKSB7XG4gICAgcmV0dXJuIHsga2V5OiBcIlwiLCB2YWx1ZTogXCJcIiB9O1xufVxuZXhwb3J0IGNvbnN0IEF0dHJpYnV0ZSA9IHtcbiAgICBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS5rZXkgIT09IFwiXCIpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTApLnN0cmluZyhtZXNzYWdlLmtleSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UudmFsdWUgIT09IFwiXCIpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTgpLnN0cmluZyhtZXNzYWdlLnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH0sXG4gICAgZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUF0dHJpYnV0ZSgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uua2V5ID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudmFsdWUgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfSxcbiAgICBmcm9tSlNPTihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGtleTogaXNTZXQob2JqZWN0LmtleSkgPyBTdHJpbmcob2JqZWN0LmtleSkgOiBcIlwiLFxuICAgICAgICAgICAgdmFsdWU6IGlzU2V0KG9iamVjdC52YWx1ZSkgPyBTdHJpbmcob2JqZWN0LnZhbHVlKSA6IFwiXCIsXG4gICAgICAgIH07XG4gICAgfSxcbiAgICB0b0pTT04obWVzc2FnZSkge1xuICAgICAgICBjb25zdCBvYmogPSB7fTtcbiAgICAgICAgbWVzc2FnZS5rZXkgIT09IHVuZGVmaW5lZCAmJiAob2JqLmtleSA9IG1lc3NhZ2Uua2V5KTtcbiAgICAgICAgbWVzc2FnZS52YWx1ZSAhPT0gdW5kZWZpbmVkICYmIChvYmoudmFsdWUgPSBtZXNzYWdlLnZhbHVlKTtcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9LFxuICAgIGZyb21QYXJ0aWFsKG9iamVjdCkge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUF0dHJpYnV0ZSgpO1xuICAgICAgICBtZXNzYWdlLmtleSA9IG9iamVjdC5rZXkgPz8gXCJcIjtcbiAgICAgICAgbWVzc2FnZS52YWx1ZSA9IG9iamVjdC52YWx1ZSA/PyBcIlwiO1xuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9LFxufTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VHYXNJbmZvKCkge1xuICAgIHJldHVybiB7IGdhc1dhbnRlZDogXCIwXCIsIGdhc1VzZWQ6IFwiMFwiIH07XG59XG5leHBvcnQgY29uc3QgR2FzSW5mbyA9IHtcbiAgICBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS5nYXNXYW50ZWQgIT09IFwiMFwiKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDgpLnVpbnQ2NChtZXNzYWdlLmdhc1dhbnRlZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuZ2FzVXNlZCAhPT0gXCIwXCIpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTYpLnVpbnQ2NChtZXNzYWdlLmdhc1VzZWQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfSxcbiAgICBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlR2FzSW5mbygpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZ2FzV2FudGVkID0gbG9uZ1RvU3RyaW5nKHJlYWRlci51aW50NjQoKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5nYXNVc2VkID0gbG9uZ1RvU3RyaW5nKHJlYWRlci51aW50NjQoKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfSxcbiAgICBmcm9tSlNPTihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGdhc1dhbnRlZDogaXNTZXQob2JqZWN0Lmdhc1dhbnRlZCkgPyBTdHJpbmcob2JqZWN0Lmdhc1dhbnRlZCkgOiBcIjBcIixcbiAgICAgICAgICAgIGdhc1VzZWQ6IGlzU2V0KG9iamVjdC5nYXNVc2VkKSA/IFN0cmluZyhvYmplY3QuZ2FzVXNlZCkgOiBcIjBcIixcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIHRvSlNPTihtZXNzYWdlKSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgICAgICBtZXNzYWdlLmdhc1dhbnRlZCAhPT0gdW5kZWZpbmVkICYmIChvYmouZ2FzV2FudGVkID0gbWVzc2FnZS5nYXNXYW50ZWQpO1xuICAgICAgICBtZXNzYWdlLmdhc1VzZWQgIT09IHVuZGVmaW5lZCAmJiAob2JqLmdhc1VzZWQgPSBtZXNzYWdlLmdhc1VzZWQpO1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH0sXG4gICAgZnJvbVBhcnRpYWwob2JqZWN0KSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlR2FzSW5mbygpO1xuICAgICAgICBtZXNzYWdlLmdhc1dhbnRlZCA9IG9iamVjdC5nYXNXYW50ZWQgPz8gXCIwXCI7XG4gICAgICAgIG1lc3NhZ2UuZ2FzVXNlZCA9IG9iamVjdC5nYXNVc2VkID8/IFwiMFwiO1xuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9LFxufTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VSZXN1bHQoKSB7XG4gICAgcmV0dXJuIHsgZGF0YTogbmV3IFVpbnQ4QXJyYXkoKSwgbG9nOiBcIlwiLCBldmVudHM6IFtdIH07XG59XG5leHBvcnQgY29uc3QgUmVzdWx0ID0ge1xuICAgIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLmRhdGEubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDEwKS5ieXRlcyhtZXNzYWdlLmRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmxvZyAhPT0gXCJcIikge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxOCkuc3RyaW5nKG1lc3NhZ2UubG9nKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IHYgb2YgbWVzc2FnZS5ldmVudHMpIHtcbiAgICAgICAgICAgIEV2ZW50LmVuY29kZSh2LCB3cml0ZXIudWludDMyKDI2KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfSxcbiAgICBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUmVzdWx0KCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5kYXRhID0gcmVhZGVyLmJ5dGVzKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5sb2cgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5ldmVudHMucHVzaChFdmVudC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9LFxuICAgIGZyb21KU09OKG9iamVjdCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZGF0YTogaXNTZXQob2JqZWN0LmRhdGEpXG4gICAgICAgICAgICAgICAgPyBieXRlc0Zyb21CYXNlNjQob2JqZWN0LmRhdGEpXG4gICAgICAgICAgICAgICAgOiBuZXcgVWludDhBcnJheSgpLFxuICAgICAgICAgICAgbG9nOiBpc1NldChvYmplY3QubG9nKSA/IFN0cmluZyhvYmplY3QubG9nKSA6IFwiXCIsXG4gICAgICAgICAgICBldmVudHM6IEFycmF5LmlzQXJyYXkob2JqZWN0Py5ldmVudHMpXG4gICAgICAgICAgICAgICAgPyBvYmplY3QuZXZlbnRzLm1hcCgoZSkgPT4gRXZlbnQuZnJvbUpTT04oZSkpXG4gICAgICAgICAgICAgICAgOiBbXSxcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIHRvSlNPTihtZXNzYWdlKSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgICAgICBtZXNzYWdlLmRhdGEgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgKG9iai5kYXRhID0gYmFzZTY0RnJvbUJ5dGVzKG1lc3NhZ2UuZGF0YSAhPT0gdW5kZWZpbmVkID8gbWVzc2FnZS5kYXRhIDogbmV3IFVpbnQ4QXJyYXkoKSkpO1xuICAgICAgICBtZXNzYWdlLmxvZyAhPT0gdW5kZWZpbmVkICYmIChvYmoubG9nID0gbWVzc2FnZS5sb2cpO1xuICAgICAgICBpZiAobWVzc2FnZS5ldmVudHMpIHtcbiAgICAgICAgICAgIG9iai5ldmVudHMgPSBtZXNzYWdlLmV2ZW50cy5tYXAoKGUpID0+IChlID8gRXZlbnQudG9KU09OKGUpIDogdW5kZWZpbmVkKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBvYmouZXZlbnRzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9LFxuICAgIGZyb21QYXJ0aWFsKG9iamVjdCkge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVJlc3VsdCgpO1xuICAgICAgICBtZXNzYWdlLmRhdGEgPSBvYmplY3QuZGF0YSA/PyBuZXcgVWludDhBcnJheSgpO1xuICAgICAgICBtZXNzYWdlLmxvZyA9IG9iamVjdC5sb2cgPz8gXCJcIjtcbiAgICAgICAgbWVzc2FnZS5ldmVudHMgPSBvYmplY3QuZXZlbnRzPy5tYXAoKGUpID0+IEV2ZW50LmZyb21QYXJ0aWFsKGUpKSB8fCBbXTtcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfSxcbn07XG5mdW5jdGlvbiBjcmVhdGVCYXNlU2ltdWxhdGlvblJlc3BvbnNlKCkge1xuICAgIHJldHVybiB7IGdhc0luZm86IHVuZGVmaW5lZCwgcmVzdWx0OiB1bmRlZmluZWQgfTtcbn1cbmV4cG9ydCBjb25zdCBTaW11bGF0aW9uUmVzcG9uc2UgPSB7XG4gICAgZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UuZ2FzSW5mbyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBHYXNJbmZvLmVuY29kZShtZXNzYWdlLmdhc0luZm8sIHdyaXRlci51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UucmVzdWx0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIFJlc3VsdC5lbmNvZGUobWVzc2FnZS5yZXN1bHQsIHdyaXRlci51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9LFxuICAgIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VTaW11bGF0aW9uUmVzcG9uc2UoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmdhc0luZm8gPSBHYXNJbmZvLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5yZXN1bHQgPSBSZXN1bHQuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9LFxuICAgIGZyb21KU09OKG9iamVjdCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZ2FzSW5mbzogaXNTZXQob2JqZWN0Lmdhc0luZm8pXG4gICAgICAgICAgICAgICAgPyBHYXNJbmZvLmZyb21KU09OKG9iamVjdC5nYXNJbmZvKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgcmVzdWx0OiBpc1NldChvYmplY3QucmVzdWx0KSA/IFJlc3VsdC5mcm9tSlNPTihvYmplY3QucmVzdWx0KSA6IHVuZGVmaW5lZCxcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIHRvSlNPTihtZXNzYWdlKSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgICAgICBtZXNzYWdlLmdhc0luZm8gIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgKG9iai5nYXNJbmZvID0gbWVzc2FnZS5nYXNJbmZvXG4gICAgICAgICAgICAgICAgPyBHYXNJbmZvLnRvSlNPTihtZXNzYWdlLmdhc0luZm8pXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQpO1xuICAgICAgICBtZXNzYWdlLnJlc3VsdCAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAob2JqLnJlc3VsdCA9IG1lc3NhZ2UucmVzdWx0ID8gUmVzdWx0LnRvSlNPTihtZXNzYWdlLnJlc3VsdCkgOiB1bmRlZmluZWQpO1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH0sXG4gICAgZnJvbVBhcnRpYWwob2JqZWN0KSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlU2ltdWxhdGlvblJlc3BvbnNlKCk7XG4gICAgICAgIG1lc3NhZ2UuZ2FzSW5mbyA9XG4gICAgICAgICAgICBvYmplY3QuZ2FzSW5mbyAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5nYXNJbmZvICE9PSBudWxsXG4gICAgICAgICAgICAgICAgPyBHYXNJbmZvLmZyb21QYXJ0aWFsKG9iamVjdC5nYXNJbmZvKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICBtZXNzYWdlLnJlc3VsdCA9XG4gICAgICAgICAgICBvYmplY3QucmVzdWx0ICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnJlc3VsdCAhPT0gbnVsbFxuICAgICAgICAgICAgICAgID8gUmVzdWx0LmZyb21QYXJ0aWFsKG9iamVjdC5yZXN1bHQpXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG59O1xuZnVuY3Rpb24gY3JlYXRlQmFzZU1zZ0RhdGEoKSB7XG4gICAgcmV0dXJuIHsgbXNnVHlwZTogXCJcIiwgZGF0YTogbmV3IFVpbnQ4QXJyYXkoKSB9O1xufVxuZXhwb3J0IGNvbnN0IE1zZ0RhdGEgPSB7XG4gICAgZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UubXNnVHlwZSAhPT0gXCJcIikge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxMCkuc3RyaW5nKG1lc3NhZ2UubXNnVHlwZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuZGF0YS5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTgpLmJ5dGVzKG1lc3NhZ2UuZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9LFxuICAgIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VNc2dEYXRhKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5tc2dUeXBlID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZGF0YSA9IHJlYWRlci5ieXRlcygpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG4gICAgZnJvbUpTT04ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtc2dUeXBlOiBpc1NldChvYmplY3QubXNnVHlwZSkgPyBTdHJpbmcob2JqZWN0Lm1zZ1R5cGUpIDogXCJcIixcbiAgICAgICAgICAgIGRhdGE6IGlzU2V0KG9iamVjdC5kYXRhKVxuICAgICAgICAgICAgICAgID8gYnl0ZXNGcm9tQmFzZTY0KG9iamVjdC5kYXRhKVxuICAgICAgICAgICAgICAgIDogbmV3IFVpbnQ4QXJyYXkoKSxcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIHRvSlNPTihtZXNzYWdlKSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgICAgICBtZXNzYWdlLm1zZ1R5cGUgIT09IHVuZGVmaW5lZCAmJiAob2JqLm1zZ1R5cGUgPSBtZXNzYWdlLm1zZ1R5cGUpO1xuICAgICAgICBtZXNzYWdlLmRhdGEgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgKG9iai5kYXRhID0gYmFzZTY0RnJvbUJ5dGVzKG1lc3NhZ2UuZGF0YSAhPT0gdW5kZWZpbmVkID8gbWVzc2FnZS5kYXRhIDogbmV3IFVpbnQ4QXJyYXkoKSkpO1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH0sXG4gICAgZnJvbVBhcnRpYWwob2JqZWN0KSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlTXNnRGF0YSgpO1xuICAgICAgICBtZXNzYWdlLm1zZ1R5cGUgPSBvYmplY3QubXNnVHlwZSA/PyBcIlwiO1xuICAgICAgICBtZXNzYWdlLmRhdGEgPSBvYmplY3QuZGF0YSA/PyBuZXcgVWludDhBcnJheSgpO1xuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9LFxufTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VUeE1zZ0RhdGEoKSB7XG4gICAgcmV0dXJuIHsgZGF0YTogW10gfTtcbn1cbmV4cG9ydCBjb25zdCBUeE1zZ0RhdGEgPSB7XG4gICAgZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgZm9yIChjb25zdCB2IG9mIG1lc3NhZ2UuZGF0YSkge1xuICAgICAgICAgICAgTXNnRGF0YS5lbmNvZGUodiwgd3JpdGVyLnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH0sXG4gICAgZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVR4TXNnRGF0YSgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZGF0YS5wdXNoKE1zZ0RhdGEuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfSxcbiAgICBmcm9tSlNPTihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGRhdGE6IEFycmF5LmlzQXJyYXkob2JqZWN0Py5kYXRhKVxuICAgICAgICAgICAgICAgID8gb2JqZWN0LmRhdGEubWFwKChlKSA9PiBNc2dEYXRhLmZyb21KU09OKGUpKVxuICAgICAgICAgICAgICAgIDogW10sXG4gICAgICAgIH07XG4gICAgfSxcbiAgICB0b0pTT04obWVzc2FnZSkge1xuICAgICAgICBjb25zdCBvYmogPSB7fTtcbiAgICAgICAgaWYgKG1lc3NhZ2UuZGF0YSkge1xuICAgICAgICAgICAgb2JqLmRhdGEgPSBtZXNzYWdlLmRhdGEubWFwKChlKSA9PiAoZSA/IE1zZ0RhdGEudG9KU09OKGUpIDogdW5kZWZpbmVkKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBvYmouZGF0YSA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfSxcbiAgICBmcm9tUGFydGlhbChvYmplY3QpIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VUeE1zZ0RhdGEoKTtcbiAgICAgICAgbWVzc2FnZS5kYXRhID0gb2JqZWN0LmRhdGE/Lm1hcCgoZSkgPT4gTXNnRGF0YS5mcm9tUGFydGlhbChlKSkgfHwgW107XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG59O1xuZnVuY3Rpb24gY3JlYXRlQmFzZVNlYXJjaFR4c1Jlc3VsdCgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB0b3RhbENvdW50OiBcIjBcIixcbiAgICAgICAgY291bnQ6IFwiMFwiLFxuICAgICAgICBwYWdlTnVtYmVyOiBcIjBcIixcbiAgICAgICAgcGFnZVRvdGFsOiBcIjBcIixcbiAgICAgICAgbGltaXQ6IFwiMFwiLFxuICAgICAgICB0eHM6IFtdLFxuICAgIH07XG59XG5leHBvcnQgY29uc3QgU2VhcmNoVHhzUmVzdWx0ID0ge1xuICAgIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLnRvdGFsQ291bnQgIT09IFwiMFwiKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDgpLnVpbnQ2NChtZXNzYWdlLnRvdGFsQ291bnQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmNvdW50ICE9PSBcIjBcIikge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxNikudWludDY0KG1lc3NhZ2UuY291bnQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnBhZ2VOdW1iZXIgIT09IFwiMFwiKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDI0KS51aW50NjQobWVzc2FnZS5wYWdlTnVtYmVyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5wYWdlVG90YWwgIT09IFwiMFwiKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDMyKS51aW50NjQobWVzc2FnZS5wYWdlVG90YWwpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmxpbWl0ICE9PSBcIjBcIikge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig0MCkudWludDY0KG1lc3NhZ2UubGltaXQpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgdiBvZiBtZXNzYWdlLnR4cykge1xuICAgICAgICAgICAgVHhSZXNwb25zZS5lbmNvZGUodiwgd3JpdGVyLnVpbnQzMig1MCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH0sXG4gICAgZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVNlYXJjaFR4c1Jlc3VsdCgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudG90YWxDb3VudCA9IGxvbmdUb1N0cmluZyhyZWFkZXIudWludDY0KCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuY291bnQgPSBsb25nVG9TdHJpbmcocmVhZGVyLnVpbnQ2NCgpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnBhZ2VOdW1iZXIgPSBsb25nVG9TdHJpbmcocmVhZGVyLnVpbnQ2NCgpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnBhZ2VUb3RhbCA9IGxvbmdUb1N0cmluZyhyZWFkZXIudWludDY0KCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubGltaXQgPSBsb25nVG9TdHJpbmcocmVhZGVyLnVpbnQ2NCgpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnR4cy5wdXNoKFR4UmVzcG9uc2UuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfSxcbiAgICBmcm9tSlNPTihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRvdGFsQ291bnQ6IGlzU2V0KG9iamVjdC50b3RhbENvdW50KSA/IFN0cmluZyhvYmplY3QudG90YWxDb3VudCkgOiBcIjBcIixcbiAgICAgICAgICAgIGNvdW50OiBpc1NldChvYmplY3QuY291bnQpID8gU3RyaW5nKG9iamVjdC5jb3VudCkgOiBcIjBcIixcbiAgICAgICAgICAgIHBhZ2VOdW1iZXI6IGlzU2V0KG9iamVjdC5wYWdlTnVtYmVyKSA/IFN0cmluZyhvYmplY3QucGFnZU51bWJlcikgOiBcIjBcIixcbiAgICAgICAgICAgIHBhZ2VUb3RhbDogaXNTZXQob2JqZWN0LnBhZ2VUb3RhbCkgPyBTdHJpbmcob2JqZWN0LnBhZ2VUb3RhbCkgOiBcIjBcIixcbiAgICAgICAgICAgIGxpbWl0OiBpc1NldChvYmplY3QubGltaXQpID8gU3RyaW5nKG9iamVjdC5saW1pdCkgOiBcIjBcIixcbiAgICAgICAgICAgIHR4czogQXJyYXkuaXNBcnJheShvYmplY3Q/LnR4cylcbiAgICAgICAgICAgICAgICA/IG9iamVjdC50eHMubWFwKChlKSA9PiBUeFJlc3BvbnNlLmZyb21KU09OKGUpKVxuICAgICAgICAgICAgICAgIDogW10sXG4gICAgICAgIH07XG4gICAgfSxcbiAgICB0b0pTT04obWVzc2FnZSkge1xuICAgICAgICBjb25zdCBvYmogPSB7fTtcbiAgICAgICAgbWVzc2FnZS50b3RhbENvdW50ICE9PSB1bmRlZmluZWQgJiYgKG9iai50b3RhbENvdW50ID0gbWVzc2FnZS50b3RhbENvdW50KTtcbiAgICAgICAgbWVzc2FnZS5jb3VudCAhPT0gdW5kZWZpbmVkICYmIChvYmouY291bnQgPSBtZXNzYWdlLmNvdW50KTtcbiAgICAgICAgbWVzc2FnZS5wYWdlTnVtYmVyICE9PSB1bmRlZmluZWQgJiYgKG9iai5wYWdlTnVtYmVyID0gbWVzc2FnZS5wYWdlTnVtYmVyKTtcbiAgICAgICAgbWVzc2FnZS5wYWdlVG90YWwgIT09IHVuZGVmaW5lZCAmJiAob2JqLnBhZ2VUb3RhbCA9IG1lc3NhZ2UucGFnZVRvdGFsKTtcbiAgICAgICAgbWVzc2FnZS5saW1pdCAhPT0gdW5kZWZpbmVkICYmIChvYmoubGltaXQgPSBtZXNzYWdlLmxpbWl0KTtcbiAgICAgICAgaWYgKG1lc3NhZ2UudHhzKSB7XG4gICAgICAgICAgICBvYmoudHhzID0gbWVzc2FnZS50eHMubWFwKChlKSA9PiAoZSA/IFR4UmVzcG9uc2UudG9KU09OKGUpIDogdW5kZWZpbmVkKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBvYmoudHhzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9LFxuICAgIGZyb21QYXJ0aWFsKG9iamVjdCkge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVNlYXJjaFR4c1Jlc3VsdCgpO1xuICAgICAgICBtZXNzYWdlLnRvdGFsQ291bnQgPSBvYmplY3QudG90YWxDb3VudCA/PyBcIjBcIjtcbiAgICAgICAgbWVzc2FnZS5jb3VudCA9IG9iamVjdC5jb3VudCA/PyBcIjBcIjtcbiAgICAgICAgbWVzc2FnZS5wYWdlTnVtYmVyID0gb2JqZWN0LnBhZ2VOdW1iZXIgPz8gXCIwXCI7XG4gICAgICAgIG1lc3NhZ2UucGFnZVRvdGFsID0gb2JqZWN0LnBhZ2VUb3RhbCA/PyBcIjBcIjtcbiAgICAgICAgbWVzc2FnZS5saW1pdCA9IG9iamVjdC5saW1pdCA/PyBcIjBcIjtcbiAgICAgICAgbWVzc2FnZS50eHMgPSBvYmplY3QudHhzPy5tYXAoKGUpID0+IFR4UmVzcG9uc2UuZnJvbVBhcnRpYWwoZSkpIHx8IFtdO1xuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9LFxufTtcbnZhciBnbG9iYWxUaGlzID0gKCgpID0+IHtcbiAgICBpZiAodHlwZW9mIGdsb2JhbFRoaXMgIT09IFwidW5kZWZpbmVkXCIpXG4gICAgICAgIHJldHVybiBnbG9iYWxUaGlzO1xuICAgIGlmICh0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIilcbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIpXG4gICAgICAgIHJldHVybiB3aW5kb3c7XG4gICAgaWYgKHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIpXG4gICAgICAgIHJldHVybiBnbG9iYWw7XG4gICAgdGhyb3cgXCJVbmFibGUgdG8gbG9jYXRlIGdsb2JhbCBvYmplY3RcIjtcbn0pKCk7XG5jb25zdCBhdG9iID0gZ2xvYmFsVGhpcy5hdG9iIHx8XG4gICAgKChiNjQpID0+IGdsb2JhbFRoaXMuQnVmZmVyLmZyb20oYjY0LCBcImJhc2U2NFwiKS50b1N0cmluZyhcImJpbmFyeVwiKSk7XG5mdW5jdGlvbiBieXRlc0Zyb21CYXNlNjQoYjY0KSB7XG4gICAgY29uc3QgYmluID0gYXRvYihiNjQpO1xuICAgIGNvbnN0IGFyciA9IG5ldyBVaW50OEFycmF5KGJpbi5sZW5ndGgpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYmluLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGFycltpXSA9IGJpbi5jaGFyQ29kZUF0KGkpO1xuICAgIH1cbiAgICByZXR1cm4gYXJyO1xufVxuY29uc3QgYnRvYSA9IGdsb2JhbFRoaXMuYnRvYSB8fFxuICAgICgoYmluKSA9PiBnbG9iYWxUaGlzLkJ1ZmZlci5mcm9tKGJpbiwgXCJiaW5hcnlcIikudG9TdHJpbmcoXCJiYXNlNjRcIikpO1xuZnVuY3Rpb24gYmFzZTY0RnJvbUJ5dGVzKGFycikge1xuICAgIGNvbnN0IGJpbiA9IFtdO1xuICAgIGFyci5mb3JFYWNoKChieXRlKSA9PiB7XG4gICAgICAgIGJpbi5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUoYnl0ZSkpO1xuICAgIH0pO1xuICAgIHJldHVybiBidG9hKGJpbi5qb2luKFwiXCIpKTtcbn1cbmZ1bmN0aW9uIGxvbmdUb1N0cmluZyhsb25nKSB7XG4gICAgcmV0dXJuIGxvbmcudG9TdHJpbmcoKTtcbn1cbmlmIChfbTAudXRpbC5Mb25nICE9PSBMb25nKSB7XG4gICAgX20wLnV0aWwuTG9uZyA9IExvbmc7XG4gICAgX20wLmNvbmZpZ3VyZSgpO1xufVxuZnVuY3Rpb24gaXNTZXQodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09IHVuZGVmaW5lZDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFiY2kuanMubWFwIiwiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCAqIGFzIF9tMCBmcm9tIFwicHJvdG9idWZqcy9taW5pbWFsXCI7XG5leHBvcnQgY29uc3QgcHJvdG9idWZQYWNrYWdlID0gXCJjb3Ntb3MuY3J5cHRvLm11bHRpc2lnLnYxYmV0YTFcIjtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VNdWx0aVNpZ25hdHVyZSgpIHtcbiAgICByZXR1cm4geyBzaWduYXR1cmVzOiBbXSB9O1xufVxuZXhwb3J0IGNvbnN0IE11bHRpU2lnbmF0dXJlID0ge1xuICAgIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGZvciAoY29uc3QgdiBvZiBtZXNzYWdlLnNpZ25hdHVyZXMpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTApLmJ5dGVzKHYpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfSxcbiAgICBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlTXVsdGlTaWduYXR1cmUoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnNpZ25hdHVyZXMucHVzaChyZWFkZXIuYnl0ZXMoKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfSxcbiAgICBmcm9tSlNPTihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHNpZ25hdHVyZXM6IEFycmF5LmlzQXJyYXkob2JqZWN0Py5zaWduYXR1cmVzKVxuICAgICAgICAgICAgICAgID8gb2JqZWN0LnNpZ25hdHVyZXMubWFwKChlKSA9PiBieXRlc0Zyb21CYXNlNjQoZSkpXG4gICAgICAgICAgICAgICAgOiBbXSxcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIHRvSlNPTihtZXNzYWdlKSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgICAgICBpZiAobWVzc2FnZS5zaWduYXR1cmVzKSB7XG4gICAgICAgICAgICBvYmouc2lnbmF0dXJlcyA9IG1lc3NhZ2Uuc2lnbmF0dXJlcy5tYXAoKGUpID0+IGJhc2U2NEZyb21CeXRlcyhlICE9PSB1bmRlZmluZWQgPyBlIDogbmV3IFVpbnQ4QXJyYXkoKSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgb2JqLnNpZ25hdHVyZXMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH0sXG4gICAgZnJvbVBhcnRpYWwob2JqZWN0KSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlTXVsdGlTaWduYXR1cmUoKTtcbiAgICAgICAgbWVzc2FnZS5zaWduYXR1cmVzID0gb2JqZWN0LnNpZ25hdHVyZXM/Lm1hcCgoZSkgPT4gZSkgfHwgW107XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG59O1xuZnVuY3Rpb24gY3JlYXRlQmFzZUNvbXBhY3RCaXRBcnJheSgpIHtcbiAgICByZXR1cm4geyBleHRyYUJpdHNTdG9yZWQ6IDAsIGVsZW1zOiBuZXcgVWludDhBcnJheSgpIH07XG59XG5leHBvcnQgY29uc3QgQ29tcGFjdEJpdEFycmF5ID0ge1xuICAgIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLmV4dHJhQml0c1N0b3JlZCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig4KS51aW50MzIobWVzc2FnZS5leHRyYUJpdHNTdG9yZWQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmVsZW1zLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxOCkuYnl0ZXMobWVzc2FnZS5lbGVtcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9LFxuICAgIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VDb21wYWN0Qml0QXJyYXkoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmV4dHJhQml0c1N0b3JlZCA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmVsZW1zID0gcmVhZGVyLmJ5dGVzKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfSxcbiAgICBmcm9tSlNPTihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGV4dHJhQml0c1N0b3JlZDogaXNTZXQob2JqZWN0LmV4dHJhQml0c1N0b3JlZClcbiAgICAgICAgICAgICAgICA/IE51bWJlcihvYmplY3QuZXh0cmFCaXRzU3RvcmVkKVxuICAgICAgICAgICAgICAgIDogMCxcbiAgICAgICAgICAgIGVsZW1zOiBpc1NldChvYmplY3QuZWxlbXMpXG4gICAgICAgICAgICAgICAgPyBieXRlc0Zyb21CYXNlNjQob2JqZWN0LmVsZW1zKVxuICAgICAgICAgICAgICAgIDogbmV3IFVpbnQ4QXJyYXkoKSxcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIHRvSlNPTihtZXNzYWdlKSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgICAgICBtZXNzYWdlLmV4dHJhQml0c1N0b3JlZCAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAob2JqLmV4dHJhQml0c1N0b3JlZCA9IE1hdGgucm91bmQobWVzc2FnZS5leHRyYUJpdHNTdG9yZWQpKTtcbiAgICAgICAgbWVzc2FnZS5lbGVtcyAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAob2JqLmVsZW1zID0gYmFzZTY0RnJvbUJ5dGVzKG1lc3NhZ2UuZWxlbXMgIT09IHVuZGVmaW5lZCA/IG1lc3NhZ2UuZWxlbXMgOiBuZXcgVWludDhBcnJheSgpKSk7XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfSxcbiAgICBmcm9tUGFydGlhbChvYmplY3QpIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VDb21wYWN0Qml0QXJyYXkoKTtcbiAgICAgICAgbWVzc2FnZS5leHRyYUJpdHNTdG9yZWQgPSBvYmplY3QuZXh0cmFCaXRzU3RvcmVkID8/IDA7XG4gICAgICAgIG1lc3NhZ2UuZWxlbXMgPSBvYmplY3QuZWxlbXMgPz8gbmV3IFVpbnQ4QXJyYXkoKTtcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfSxcbn07XG52YXIgZ2xvYmFsVGhpcyA9ICgoKSA9PiB7XG4gICAgaWYgKHR5cGVvZiBnbG9iYWxUaGlzICE9PSBcInVuZGVmaW5lZFwiKVxuICAgICAgICByZXR1cm4gZ2xvYmFsVGhpcztcbiAgICBpZiAodHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIpXG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiKVxuICAgICAgICByZXR1cm4gd2luZG93O1xuICAgIGlmICh0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiKVxuICAgICAgICByZXR1cm4gZ2xvYmFsO1xuICAgIHRocm93IFwiVW5hYmxlIHRvIGxvY2F0ZSBnbG9iYWwgb2JqZWN0XCI7XG59KSgpO1xuY29uc3QgYXRvYiA9IGdsb2JhbFRoaXMuYXRvYiB8fFxuICAgICgoYjY0KSA9PiBnbG9iYWxUaGlzLkJ1ZmZlci5mcm9tKGI2NCwgXCJiYXNlNjRcIikudG9TdHJpbmcoXCJiaW5hcnlcIikpO1xuZnVuY3Rpb24gYnl0ZXNGcm9tQmFzZTY0KGI2NCkge1xuICAgIGNvbnN0IGJpbiA9IGF0b2IoYjY0KTtcbiAgICBjb25zdCBhcnIgPSBuZXcgVWludDhBcnJheShiaW4ubGVuZ3RoKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJpbi5sZW5ndGg7ICsraSkge1xuICAgICAgICBhcnJbaV0gPSBiaW4uY2hhckNvZGVBdChpKTtcbiAgICB9XG4gICAgcmV0dXJuIGFycjtcbn1cbmNvbnN0IGJ0b2EgPSBnbG9iYWxUaGlzLmJ0b2EgfHxcbiAgICAoKGJpbikgPT4gZ2xvYmFsVGhpcy5CdWZmZXIuZnJvbShiaW4sIFwiYmluYXJ5XCIpLnRvU3RyaW5nKFwiYmFzZTY0XCIpKTtcbmZ1bmN0aW9uIGJhc2U2NEZyb21CeXRlcyhhcnIpIHtcbiAgICBjb25zdCBiaW4gPSBbXTtcbiAgICBhcnIuZm9yRWFjaCgoYnl0ZSkgPT4ge1xuICAgICAgICBiaW4ucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKGJ5dGUpKTtcbiAgICB9KTtcbiAgICByZXR1cm4gYnRvYShiaW4uam9pbihcIlwiKSk7XG59XG5mdW5jdGlvbiBpc1NldCh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gdW5kZWZpbmVkO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bXVsdGlzaWcuanMubWFwIiwiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCB7IEFueSB9IGZyb20gXCIuLi8uLi8uLi8uLi9nb29nbGUvcHJvdG9idWYvYW55XCI7XG5pbXBvcnQgeyBDb21wYWN0Qml0QXJyYXkgfSBmcm9tIFwiLi4vLi4vLi4vY3J5cHRvL211bHRpc2lnL3YxYmV0YTEvbXVsdGlzaWdcIjtcbmltcG9ydCBMb25nIGZyb20gXCJsb25nXCI7XG5pbXBvcnQgKiBhcyBfbTAgZnJvbSBcInByb3RvYnVmanMvbWluaW1hbFwiO1xuZXhwb3J0IGNvbnN0IHByb3RvYnVmUGFja2FnZSA9IFwiY29zbW9zLnR4LnNpZ25pbmcudjFiZXRhMVwiO1xuLyoqIFNpZ25Nb2RlIHJlcHJlc2VudHMgYSBzaWduaW5nIG1vZGUgd2l0aCBpdHMgb3duIHNlY3VyaXR5IGd1YXJhbnRlZXMuICovXG5leHBvcnQgdmFyIFNpZ25Nb2RlO1xuKGZ1bmN0aW9uIChTaWduTW9kZSkge1xuICAgIC8qKlxuICAgICAqIFNJR05fTU9ERV9VTlNQRUNJRklFRCAtIFNJR05fTU9ERV9VTlNQRUNJRklFRCBzcGVjaWZpZXMgYW4gdW5rbm93biBzaWduaW5nIG1vZGUgYW5kIHdpbGwgYmVcbiAgICAgKiByZWplY3RlZFxuICAgICAqL1xuICAgIFNpZ25Nb2RlW1NpZ25Nb2RlW1wiU0lHTl9NT0RFX1VOU1BFQ0lGSUVEXCJdID0gMF0gPSBcIlNJR05fTU9ERV9VTlNQRUNJRklFRFwiO1xuICAgIC8qKlxuICAgICAqIFNJR05fTU9ERV9ESVJFQ1QgLSBTSUdOX01PREVfRElSRUNUIHNwZWNpZmllcyBhIHNpZ25pbmcgbW9kZSB3aGljaCB1c2VzIFNpZ25Eb2MgYW5kIGlzXG4gICAgICogdmVyaWZpZWQgd2l0aCByYXcgYnl0ZXMgZnJvbSBUeFxuICAgICAqL1xuICAgIFNpZ25Nb2RlW1NpZ25Nb2RlW1wiU0lHTl9NT0RFX0RJUkVDVFwiXSA9IDFdID0gXCJTSUdOX01PREVfRElSRUNUXCI7XG4gICAgLyoqXG4gICAgICogU0lHTl9NT0RFX1RFWFRVQUwgLSBTSUdOX01PREVfVEVYVFVBTCBpcyBhIGZ1dHVyZSBzaWduaW5nIG1vZGUgdGhhdCB3aWxsIHZlcmlmeSBzb21lXG4gICAgICogaHVtYW4tcmVhZGFibGUgdGV4dHVhbCByZXByZXNlbnRhdGlvbiBvbiB0b3Agb2YgdGhlIGJpbmFyeSByZXByZXNlbnRhdGlvblxuICAgICAqIGZyb20gU0lHTl9NT0RFX0RJUkVDVFxuICAgICAqL1xuICAgIFNpZ25Nb2RlW1NpZ25Nb2RlW1wiU0lHTl9NT0RFX1RFWFRVQUxcIl0gPSAyXSA9IFwiU0lHTl9NT0RFX1RFWFRVQUxcIjtcbiAgICAvKipcbiAgICAgKiBTSUdOX01PREVfTEVHQUNZX0FNSU5PX0pTT04gLSBTSUdOX01PREVfTEVHQUNZX0FNSU5PX0pTT04gaXMgYSBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSBtb2RlIHdoaWNoIHVzZXNcbiAgICAgKiBBbWlubyBKU09OIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIGZ1dHVyZVxuICAgICAqL1xuICAgIFNpZ25Nb2RlW1NpZ25Nb2RlW1wiU0lHTl9NT0RFX0xFR0FDWV9BTUlOT19KU09OXCJdID0gMTI3XSA9IFwiU0lHTl9NT0RFX0xFR0FDWV9BTUlOT19KU09OXCI7XG4gICAgU2lnbk1vZGVbU2lnbk1vZGVbXCJVTlJFQ09HTklaRURcIl0gPSAtMV0gPSBcIlVOUkVDT0dOSVpFRFwiO1xufSkoU2lnbk1vZGUgfHwgKFNpZ25Nb2RlID0ge30pKTtcbmV4cG9ydCBmdW5jdGlvbiBzaWduTW9kZUZyb21KU09OKG9iamVjdCkge1xuICAgIHN3aXRjaCAob2JqZWN0KSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgY2FzZSBcIlNJR05fTU9ERV9VTlNQRUNJRklFRFwiOlxuICAgICAgICAgICAgcmV0dXJuIFNpZ25Nb2RlLlNJR05fTU9ERV9VTlNQRUNJRklFRDtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICBjYXNlIFwiU0lHTl9NT0RFX0RJUkVDVFwiOlxuICAgICAgICAgICAgcmV0dXJuIFNpZ25Nb2RlLlNJR05fTU9ERV9ESVJFQ1Q7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgY2FzZSBcIlNJR05fTU9ERV9URVhUVUFMXCI6XG4gICAgICAgICAgICByZXR1cm4gU2lnbk1vZGUuU0lHTl9NT0RFX1RFWFRVQUw7XG4gICAgICAgIGNhc2UgMTI3OlxuICAgICAgICBjYXNlIFwiU0lHTl9NT0RFX0xFR0FDWV9BTUlOT19KU09OXCI6XG4gICAgICAgICAgICByZXR1cm4gU2lnbk1vZGUuU0lHTl9NT0RFX0xFR0FDWV9BTUlOT19KU09OO1xuICAgICAgICBjYXNlIC0xOlxuICAgICAgICBjYXNlIFwiVU5SRUNPR05JWkVEXCI6XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gU2lnbk1vZGUuVU5SRUNPR05JWkVEO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBzaWduTW9kZVRvSlNPTihvYmplY3QpIHtcbiAgICBzd2l0Y2ggKG9iamVjdCkge1xuICAgICAgICBjYXNlIFNpZ25Nb2RlLlNJR05fTU9ERV9VTlNQRUNJRklFRDpcbiAgICAgICAgICAgIHJldHVybiBcIlNJR05fTU9ERV9VTlNQRUNJRklFRFwiO1xuICAgICAgICBjYXNlIFNpZ25Nb2RlLlNJR05fTU9ERV9ESVJFQ1Q6XG4gICAgICAgICAgICByZXR1cm4gXCJTSUdOX01PREVfRElSRUNUXCI7XG4gICAgICAgIGNhc2UgU2lnbk1vZGUuU0lHTl9NT0RFX1RFWFRVQUw6XG4gICAgICAgICAgICByZXR1cm4gXCJTSUdOX01PREVfVEVYVFVBTFwiO1xuICAgICAgICBjYXNlIFNpZ25Nb2RlLlNJR05fTU9ERV9MRUdBQ1lfQU1JTk9fSlNPTjpcbiAgICAgICAgICAgIHJldHVybiBcIlNJR05fTU9ERV9MRUdBQ1lfQU1JTk9fSlNPTlwiO1xuICAgICAgICBjYXNlIFNpZ25Nb2RlLlVOUkVDT0dOSVpFRDpcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBcIlVOUkVDT0dOSVpFRFwiO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNyZWF0ZUJhc2VTaWduYXR1cmVEZXNjcmlwdG9ycygpIHtcbiAgICByZXR1cm4geyBzaWduYXR1cmVzOiBbXSB9O1xufVxuZXhwb3J0IGNvbnN0IFNpZ25hdHVyZURlc2NyaXB0b3JzID0ge1xuICAgIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGZvciAoY29uc3QgdiBvZiBtZXNzYWdlLnNpZ25hdHVyZXMpIHtcbiAgICAgICAgICAgIFNpZ25hdHVyZURlc2NyaXB0b3IuZW5jb2RlKHYsIHdyaXRlci51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9LFxuICAgIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VTaWduYXR1cmVEZXNjcmlwdG9ycygpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc2lnbmF0dXJlcy5wdXNoKFNpZ25hdHVyZURlc2NyaXB0b3IuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfSxcbiAgICBmcm9tSlNPTihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHNpZ25hdHVyZXM6IEFycmF5LmlzQXJyYXkob2JqZWN0Py5zaWduYXR1cmVzKVxuICAgICAgICAgICAgICAgID8gb2JqZWN0LnNpZ25hdHVyZXMubWFwKChlKSA9PiBTaWduYXR1cmVEZXNjcmlwdG9yLmZyb21KU09OKGUpKVxuICAgICAgICAgICAgICAgIDogW10sXG4gICAgICAgIH07XG4gICAgfSxcbiAgICB0b0pTT04obWVzc2FnZSkge1xuICAgICAgICBjb25zdCBvYmogPSB7fTtcbiAgICAgICAgaWYgKG1lc3NhZ2Uuc2lnbmF0dXJlcykge1xuICAgICAgICAgICAgb2JqLnNpZ25hdHVyZXMgPSBtZXNzYWdlLnNpZ25hdHVyZXMubWFwKChlKSA9PiBlID8gU2lnbmF0dXJlRGVzY3JpcHRvci50b0pTT04oZSkgOiB1bmRlZmluZWQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgb2JqLnNpZ25hdHVyZXMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH0sXG4gICAgZnJvbVBhcnRpYWwob2JqZWN0KSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlU2lnbmF0dXJlRGVzY3JpcHRvcnMoKTtcbiAgICAgICAgbWVzc2FnZS5zaWduYXR1cmVzID1cbiAgICAgICAgICAgIG9iamVjdC5zaWduYXR1cmVzPy5tYXAoKGUpID0+IFNpZ25hdHVyZURlc2NyaXB0b3IuZnJvbVBhcnRpYWwoZSkpIHx8IFtdO1xuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9LFxufTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VTaWduYXR1cmVEZXNjcmlwdG9yKCkge1xuICAgIHJldHVybiB7IHB1YmxpY0tleTogdW5kZWZpbmVkLCBkYXRhOiB1bmRlZmluZWQsIHNlcXVlbmNlOiBcIjBcIiB9O1xufVxuZXhwb3J0IGNvbnN0IFNpZ25hdHVyZURlc2NyaXB0b3IgPSB7XG4gICAgZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UucHVibGljS2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIEFueS5lbmNvZGUobWVzc2FnZS5wdWJsaWNLZXksIHdyaXRlci51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuZGF0YSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBTaWduYXR1cmVEZXNjcmlwdG9yX0RhdGEuZW5jb2RlKG1lc3NhZ2UuZGF0YSwgd3JpdGVyLnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5zZXF1ZW5jZSAhPT0gXCIwXCIpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjQpLnVpbnQ2NChtZXNzYWdlLnNlcXVlbmNlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH0sXG4gICAgZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVNpZ25hdHVyZURlc2NyaXB0b3IoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnB1YmxpY0tleSA9IEFueS5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZGF0YSA9IFNpZ25hdHVyZURlc2NyaXB0b3JfRGF0YS5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc2VxdWVuY2UgPSBsb25nVG9TdHJpbmcocmVhZGVyLnVpbnQ2NCgpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9LFxuICAgIGZyb21KU09OKG9iamVjdCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcHVibGljS2V5OiBpc1NldChvYmplY3QucHVibGljS2V5KVxuICAgICAgICAgICAgICAgID8gQW55LmZyb21KU09OKG9iamVjdC5wdWJsaWNLZXkpXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBkYXRhOiBpc1NldChvYmplY3QuZGF0YSlcbiAgICAgICAgICAgICAgICA/IFNpZ25hdHVyZURlc2NyaXB0b3JfRGF0YS5mcm9tSlNPTihvYmplY3QuZGF0YSlcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHNlcXVlbmNlOiBpc1NldChvYmplY3Quc2VxdWVuY2UpID8gU3RyaW5nKG9iamVjdC5zZXF1ZW5jZSkgOiBcIjBcIixcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIHRvSlNPTihtZXNzYWdlKSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgICAgICBtZXNzYWdlLnB1YmxpY0tleSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAob2JqLnB1YmxpY0tleSA9IG1lc3NhZ2UucHVibGljS2V5XG4gICAgICAgICAgICAgICAgPyBBbnkudG9KU09OKG1lc3NhZ2UucHVibGljS2V5KVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkKTtcbiAgICAgICAgbWVzc2FnZS5kYXRhICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIChvYmouZGF0YSA9IG1lc3NhZ2UuZGF0YVxuICAgICAgICAgICAgICAgID8gU2lnbmF0dXJlRGVzY3JpcHRvcl9EYXRhLnRvSlNPTihtZXNzYWdlLmRhdGEpXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQpO1xuICAgICAgICBtZXNzYWdlLnNlcXVlbmNlICE9PSB1bmRlZmluZWQgJiYgKG9iai5zZXF1ZW5jZSA9IG1lc3NhZ2Uuc2VxdWVuY2UpO1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH0sXG4gICAgZnJvbVBhcnRpYWwob2JqZWN0KSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlU2lnbmF0dXJlRGVzY3JpcHRvcigpO1xuICAgICAgICBtZXNzYWdlLnB1YmxpY0tleSA9XG4gICAgICAgICAgICBvYmplY3QucHVibGljS2V5ICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnB1YmxpY0tleSAhPT0gbnVsbFxuICAgICAgICAgICAgICAgID8gQW55LmZyb21QYXJ0aWFsKG9iamVjdC5wdWJsaWNLZXkpXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgIG1lc3NhZ2UuZGF0YSA9XG4gICAgICAgICAgICBvYmplY3QuZGF0YSAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5kYXRhICE9PSBudWxsXG4gICAgICAgICAgICAgICAgPyBTaWduYXR1cmVEZXNjcmlwdG9yX0RhdGEuZnJvbVBhcnRpYWwob2JqZWN0LmRhdGEpXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgIG1lc3NhZ2Uuc2VxdWVuY2UgPSBvYmplY3Quc2VxdWVuY2UgPz8gXCIwXCI7XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG59O1xuZnVuY3Rpb24gY3JlYXRlQmFzZVNpZ25hdHVyZURlc2NyaXB0b3JfRGF0YSgpIHtcbiAgICByZXR1cm4geyBzaW5nbGU6IHVuZGVmaW5lZCwgbXVsdGk6IHVuZGVmaW5lZCB9O1xufVxuZXhwb3J0IGNvbnN0IFNpZ25hdHVyZURlc2NyaXB0b3JfRGF0YSA9IHtcbiAgICBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS5zaW5nbGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgU2lnbmF0dXJlRGVzY3JpcHRvcl9EYXRhX1NpbmdsZS5lbmNvZGUobWVzc2FnZS5zaW5nbGUsIHdyaXRlci51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UubXVsdGkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgU2lnbmF0dXJlRGVzY3JpcHRvcl9EYXRhX011bHRpLmVuY29kZShtZXNzYWdlLm11bHRpLCB3cml0ZXIudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfSxcbiAgICBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlU2lnbmF0dXJlRGVzY3JpcHRvcl9EYXRhKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zaW5nbGUgPSBTaWduYXR1cmVEZXNjcmlwdG9yX0RhdGFfU2luZ2xlLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5tdWx0aSA9IFNpZ25hdHVyZURlc2NyaXB0b3JfRGF0YV9NdWx0aS5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG4gICAgZnJvbUpTT04ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzaW5nbGU6IGlzU2V0KG9iamVjdC5zaW5nbGUpXG4gICAgICAgICAgICAgICAgPyBTaWduYXR1cmVEZXNjcmlwdG9yX0RhdGFfU2luZ2xlLmZyb21KU09OKG9iamVjdC5zaW5nbGUpXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBtdWx0aTogaXNTZXQob2JqZWN0Lm11bHRpKVxuICAgICAgICAgICAgICAgID8gU2lnbmF0dXJlRGVzY3JpcHRvcl9EYXRhX011bHRpLmZyb21KU09OKG9iamVjdC5tdWx0aSlcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIHRvSlNPTihtZXNzYWdlKSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgICAgICBtZXNzYWdlLnNpbmdsZSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAob2JqLnNpbmdsZSA9IG1lc3NhZ2Uuc2luZ2xlXG4gICAgICAgICAgICAgICAgPyBTaWduYXR1cmVEZXNjcmlwdG9yX0RhdGFfU2luZ2xlLnRvSlNPTihtZXNzYWdlLnNpbmdsZSlcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCk7XG4gICAgICAgIG1lc3NhZ2UubXVsdGkgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgKG9iai5tdWx0aSA9IG1lc3NhZ2UubXVsdGlcbiAgICAgICAgICAgICAgICA/IFNpZ25hdHVyZURlc2NyaXB0b3JfRGF0YV9NdWx0aS50b0pTT04obWVzc2FnZS5tdWx0aSlcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCk7XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfSxcbiAgICBmcm9tUGFydGlhbChvYmplY3QpIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VTaWduYXR1cmVEZXNjcmlwdG9yX0RhdGEoKTtcbiAgICAgICAgbWVzc2FnZS5zaW5nbGUgPVxuICAgICAgICAgICAgb2JqZWN0LnNpbmdsZSAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5zaW5nbGUgIT09IG51bGxcbiAgICAgICAgICAgICAgICA/IFNpZ25hdHVyZURlc2NyaXB0b3JfRGF0YV9TaW5nbGUuZnJvbVBhcnRpYWwob2JqZWN0LnNpbmdsZSlcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgbWVzc2FnZS5tdWx0aSA9XG4gICAgICAgICAgICBvYmplY3QubXVsdGkgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QubXVsdGkgIT09IG51bGxcbiAgICAgICAgICAgICAgICA/IFNpZ25hdHVyZURlc2NyaXB0b3JfRGF0YV9NdWx0aS5mcm9tUGFydGlhbChvYmplY3QubXVsdGkpXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG59O1xuZnVuY3Rpb24gY3JlYXRlQmFzZVNpZ25hdHVyZURlc2NyaXB0b3JfRGF0YV9TaW5nbGUoKSB7XG4gICAgcmV0dXJuIHsgbW9kZTogMCwgc2lnbmF0dXJlOiBuZXcgVWludDhBcnJheSgpIH07XG59XG5leHBvcnQgY29uc3QgU2lnbmF0dXJlRGVzY3JpcHRvcl9EYXRhX1NpbmdsZSA9IHtcbiAgICBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS5tb2RlICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDgpLmludDMyKG1lc3NhZ2UubW9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2Uuc2lnbmF0dXJlLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxOCkuYnl0ZXMobWVzc2FnZS5zaWduYXR1cmUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfSxcbiAgICBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlU2lnbmF0dXJlRGVzY3JpcHRvcl9EYXRhX1NpbmdsZSgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubW9kZSA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc2lnbmF0dXJlID0gcmVhZGVyLmJ5dGVzKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfSxcbiAgICBmcm9tSlNPTihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1vZGU6IGlzU2V0KG9iamVjdC5tb2RlKSA/IHNpZ25Nb2RlRnJvbUpTT04ob2JqZWN0Lm1vZGUpIDogMCxcbiAgICAgICAgICAgIHNpZ25hdHVyZTogaXNTZXQob2JqZWN0LnNpZ25hdHVyZSlcbiAgICAgICAgICAgICAgICA/IGJ5dGVzRnJvbUJhc2U2NChvYmplY3Quc2lnbmF0dXJlKVxuICAgICAgICAgICAgICAgIDogbmV3IFVpbnQ4QXJyYXkoKSxcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIHRvSlNPTihtZXNzYWdlKSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgICAgICBtZXNzYWdlLm1vZGUgIT09IHVuZGVmaW5lZCAmJiAob2JqLm1vZGUgPSBzaWduTW9kZVRvSlNPTihtZXNzYWdlLm1vZGUpKTtcbiAgICAgICAgbWVzc2FnZS5zaWduYXR1cmUgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgKG9iai5zaWduYXR1cmUgPSBiYXNlNjRGcm9tQnl0ZXMobWVzc2FnZS5zaWduYXR1cmUgIT09IHVuZGVmaW5lZCA/IG1lc3NhZ2Uuc2lnbmF0dXJlIDogbmV3IFVpbnQ4QXJyYXkoKSkpO1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH0sXG4gICAgZnJvbVBhcnRpYWwob2JqZWN0KSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlU2lnbmF0dXJlRGVzY3JpcHRvcl9EYXRhX1NpbmdsZSgpO1xuICAgICAgICBtZXNzYWdlLm1vZGUgPSBvYmplY3QubW9kZSA/PyAwO1xuICAgICAgICBtZXNzYWdlLnNpZ25hdHVyZSA9IG9iamVjdC5zaWduYXR1cmUgPz8gbmV3IFVpbnQ4QXJyYXkoKTtcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfSxcbn07XG5mdW5jdGlvbiBjcmVhdGVCYXNlU2lnbmF0dXJlRGVzY3JpcHRvcl9EYXRhX011bHRpKCkge1xuICAgIHJldHVybiB7IGJpdGFycmF5OiB1bmRlZmluZWQsIHNpZ25hdHVyZXM6IFtdIH07XG59XG5leHBvcnQgY29uc3QgU2lnbmF0dXJlRGVzY3JpcHRvcl9EYXRhX011bHRpID0ge1xuICAgIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLmJpdGFycmF5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIENvbXBhY3RCaXRBcnJheS5lbmNvZGUobWVzc2FnZS5iaXRhcnJheSwgd3JpdGVyLnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IHYgb2YgbWVzc2FnZS5zaWduYXR1cmVzKSB7XG4gICAgICAgICAgICBTaWduYXR1cmVEZXNjcmlwdG9yX0RhdGEuZW5jb2RlKHYsIHdyaXRlci51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9LFxuICAgIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VTaWduYXR1cmVEZXNjcmlwdG9yX0RhdGFfTXVsdGkoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmJpdGFycmF5ID0gQ29tcGFjdEJpdEFycmF5LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zaWduYXR1cmVzLnB1c2goU2lnbmF0dXJlRGVzY3JpcHRvcl9EYXRhLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG4gICAgZnJvbUpTT04ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBiaXRhcnJheTogaXNTZXQob2JqZWN0LmJpdGFycmF5KVxuICAgICAgICAgICAgICAgID8gQ29tcGFjdEJpdEFycmF5LmZyb21KU09OKG9iamVjdC5iaXRhcnJheSlcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHNpZ25hdHVyZXM6IEFycmF5LmlzQXJyYXkob2JqZWN0Py5zaWduYXR1cmVzKVxuICAgICAgICAgICAgICAgID8gb2JqZWN0LnNpZ25hdHVyZXMubWFwKChlKSA9PiBTaWduYXR1cmVEZXNjcmlwdG9yX0RhdGEuZnJvbUpTT04oZSkpXG4gICAgICAgICAgICAgICAgOiBbXSxcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIHRvSlNPTihtZXNzYWdlKSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgICAgICBtZXNzYWdlLmJpdGFycmF5ICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIChvYmouYml0YXJyYXkgPSBtZXNzYWdlLmJpdGFycmF5XG4gICAgICAgICAgICAgICAgPyBDb21wYWN0Qml0QXJyYXkudG9KU09OKG1lc3NhZ2UuYml0YXJyYXkpXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQpO1xuICAgICAgICBpZiAobWVzc2FnZS5zaWduYXR1cmVzKSB7XG4gICAgICAgICAgICBvYmouc2lnbmF0dXJlcyA9IG1lc3NhZ2Uuc2lnbmF0dXJlcy5tYXAoKGUpID0+IGUgPyBTaWduYXR1cmVEZXNjcmlwdG9yX0RhdGEudG9KU09OKGUpIDogdW5kZWZpbmVkKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG9iai5zaWduYXR1cmVzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9LFxuICAgIGZyb21QYXJ0aWFsKG9iamVjdCkge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVNpZ25hdHVyZURlc2NyaXB0b3JfRGF0YV9NdWx0aSgpO1xuICAgICAgICBtZXNzYWdlLmJpdGFycmF5ID1cbiAgICAgICAgICAgIG9iamVjdC5iaXRhcnJheSAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5iaXRhcnJheSAhPT0gbnVsbFxuICAgICAgICAgICAgICAgID8gQ29tcGFjdEJpdEFycmF5LmZyb21QYXJ0aWFsKG9iamVjdC5iaXRhcnJheSlcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgbWVzc2FnZS5zaWduYXR1cmVzID1cbiAgICAgICAgICAgIG9iamVjdC5zaWduYXR1cmVzPy5tYXAoKGUpID0+IFNpZ25hdHVyZURlc2NyaXB0b3JfRGF0YS5mcm9tUGFydGlhbChlKSkgfHxcbiAgICAgICAgICAgICAgICBbXTtcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfSxcbn07XG52YXIgZ2xvYmFsVGhpcyA9ICgoKSA9PiB7XG4gICAgaWYgKHR5cGVvZiBnbG9iYWxUaGlzICE9PSBcInVuZGVmaW5lZFwiKVxuICAgICAgICByZXR1cm4gZ2xvYmFsVGhpcztcbiAgICBpZiAodHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIpXG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiKVxuICAgICAgICByZXR1cm4gd2luZG93O1xuICAgIGlmICh0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiKVxuICAgICAgICByZXR1cm4gZ2xvYmFsO1xuICAgIHRocm93IFwiVW5hYmxlIHRvIGxvY2F0ZSBnbG9iYWwgb2JqZWN0XCI7XG59KSgpO1xuY29uc3QgYXRvYiA9IGdsb2JhbFRoaXMuYXRvYiB8fFxuICAgICgoYjY0KSA9PiBnbG9iYWxUaGlzLkJ1ZmZlci5mcm9tKGI2NCwgXCJiYXNlNjRcIikudG9TdHJpbmcoXCJiaW5hcnlcIikpO1xuZnVuY3Rpb24gYnl0ZXNGcm9tQmFzZTY0KGI2NCkge1xuICAgIGNvbnN0IGJpbiA9IGF0b2IoYjY0KTtcbiAgICBjb25zdCBhcnIgPSBuZXcgVWludDhBcnJheShiaW4ubGVuZ3RoKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJpbi5sZW5ndGg7ICsraSkge1xuICAgICAgICBhcnJbaV0gPSBiaW4uY2hhckNvZGVBdChpKTtcbiAgICB9XG4gICAgcmV0dXJuIGFycjtcbn1cbmNvbnN0IGJ0b2EgPSBnbG9iYWxUaGlzLmJ0b2EgfHxcbiAgICAoKGJpbikgPT4gZ2xvYmFsVGhpcy5CdWZmZXIuZnJvbShiaW4sIFwiYmluYXJ5XCIpLnRvU3RyaW5nKFwiYmFzZTY0XCIpKTtcbmZ1bmN0aW9uIGJhc2U2NEZyb21CeXRlcyhhcnIpIHtcbiAgICBjb25zdCBiaW4gPSBbXTtcbiAgICBhcnIuZm9yRWFjaCgoYnl0ZSkgPT4ge1xuICAgICAgICBiaW4ucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKGJ5dGUpKTtcbiAgICB9KTtcbiAgICByZXR1cm4gYnRvYShiaW4uam9pbihcIlwiKSk7XG59XG5mdW5jdGlvbiBsb25nVG9TdHJpbmcobG9uZykge1xuICAgIHJldHVybiBsb25nLnRvU3RyaW5nKCk7XG59XG5pZiAoX20wLnV0aWwuTG9uZyAhPT0gTG9uZykge1xuICAgIF9tMC51dGlsLkxvbmcgPSBMb25nO1xuICAgIF9tMC5jb25maWd1cmUoKTtcbn1cbmZ1bmN0aW9uIGlzU2V0KHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlICE9PSBudWxsICYmIHZhbHVlICE9PSB1bmRlZmluZWQ7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zaWduaW5nLmpzLm1hcCIsIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgeyBBbnkgfSBmcm9tIFwiLi4vLi4vLi4vZ29vZ2xlL3Byb3RvYnVmL2FueVwiO1xuaW1wb3J0IHsgc2lnbk1vZGVGcm9tSlNPTiwgc2lnbk1vZGVUb0pTT04sIH0gZnJvbSBcIi4uL3NpZ25pbmcvdjFiZXRhMS9zaWduaW5nXCI7XG5pbXBvcnQgeyBDb21wYWN0Qml0QXJyYXkgfSBmcm9tIFwiLi4vLi4vY3J5cHRvL211bHRpc2lnL3YxYmV0YTEvbXVsdGlzaWdcIjtcbmltcG9ydCBMb25nIGZyb20gXCJsb25nXCI7XG5pbXBvcnQgeyBDb2luIH0gZnJvbSBcIi4uLy4uL2Jhc2UvdjFiZXRhMS9jb2luXCI7XG5pbXBvcnQgKiBhcyBfbTAgZnJvbSBcInByb3RvYnVmanMvbWluaW1hbFwiO1xuZXhwb3J0IGNvbnN0IHByb3RvYnVmUGFja2FnZSA9IFwiY29zbW9zLnR4LnYxYmV0YTFcIjtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VUeCgpIHtcbiAgICByZXR1cm4geyBib2R5OiB1bmRlZmluZWQsIGF1dGhJbmZvOiB1bmRlZmluZWQsIHNpZ25hdHVyZXM6IFtdIH07XG59XG5leHBvcnQgY29uc3QgVHggPSB7XG4gICAgZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UuYm9keSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBUeEJvZHkuZW5jb2RlKG1lc3NhZ2UuYm9keSwgd3JpdGVyLnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5hdXRoSW5mbyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBBdXRoSW5mby5lbmNvZGUobWVzc2FnZS5hdXRoSW5mbywgd3JpdGVyLnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IHYgb2YgbWVzc2FnZS5zaWduYXR1cmVzKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDI2KS5ieXRlcyh2KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH0sXG4gICAgZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVR4KCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5ib2R5ID0gVHhCb2R5LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5hdXRoSW5mbyA9IEF1dGhJbmZvLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zaWduYXR1cmVzLnB1c2gocmVhZGVyLmJ5dGVzKCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG4gICAgZnJvbUpTT04ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBib2R5OiBpc1NldChvYmplY3QuYm9keSkgPyBUeEJvZHkuZnJvbUpTT04ob2JqZWN0LmJvZHkpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgYXV0aEluZm86IGlzU2V0KG9iamVjdC5hdXRoSW5mbylcbiAgICAgICAgICAgICAgICA/IEF1dGhJbmZvLmZyb21KU09OKG9iamVjdC5hdXRoSW5mbylcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHNpZ25hdHVyZXM6IEFycmF5LmlzQXJyYXkob2JqZWN0Py5zaWduYXR1cmVzKVxuICAgICAgICAgICAgICAgID8gb2JqZWN0LnNpZ25hdHVyZXMubWFwKChlKSA9PiBieXRlc0Zyb21CYXNlNjQoZSkpXG4gICAgICAgICAgICAgICAgOiBbXSxcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIHRvSlNPTihtZXNzYWdlKSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgICAgICBtZXNzYWdlLmJvZHkgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgKG9iai5ib2R5ID0gbWVzc2FnZS5ib2R5ID8gVHhCb2R5LnRvSlNPTihtZXNzYWdlLmJvZHkpIDogdW5kZWZpbmVkKTtcbiAgICAgICAgbWVzc2FnZS5hdXRoSW5mbyAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAob2JqLmF1dGhJbmZvID0gbWVzc2FnZS5hdXRoSW5mb1xuICAgICAgICAgICAgICAgID8gQXV0aEluZm8udG9KU09OKG1lc3NhZ2UuYXV0aEluZm8pXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQpO1xuICAgICAgICBpZiAobWVzc2FnZS5zaWduYXR1cmVzKSB7XG4gICAgICAgICAgICBvYmouc2lnbmF0dXJlcyA9IG1lc3NhZ2Uuc2lnbmF0dXJlcy5tYXAoKGUpID0+IGJhc2U2NEZyb21CeXRlcyhlICE9PSB1bmRlZmluZWQgPyBlIDogbmV3IFVpbnQ4QXJyYXkoKSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgb2JqLnNpZ25hdHVyZXMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH0sXG4gICAgZnJvbVBhcnRpYWwob2JqZWN0KSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlVHgoKTtcbiAgICAgICAgbWVzc2FnZS5ib2R5ID1cbiAgICAgICAgICAgIG9iamVjdC5ib2R5ICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LmJvZHkgIT09IG51bGxcbiAgICAgICAgICAgICAgICA/IFR4Qm9keS5mcm9tUGFydGlhbChvYmplY3QuYm9keSlcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgbWVzc2FnZS5hdXRoSW5mbyA9XG4gICAgICAgICAgICBvYmplY3QuYXV0aEluZm8gIT09IHVuZGVmaW5lZCAmJiBvYmplY3QuYXV0aEluZm8gIT09IG51bGxcbiAgICAgICAgICAgICAgICA/IEF1dGhJbmZvLmZyb21QYXJ0aWFsKG9iamVjdC5hdXRoSW5mbylcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgbWVzc2FnZS5zaWduYXR1cmVzID0gb2JqZWN0LnNpZ25hdHVyZXM/Lm1hcCgoZSkgPT4gZSkgfHwgW107XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG59O1xuZnVuY3Rpb24gY3JlYXRlQmFzZVR4UmF3KCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGJvZHlCeXRlczogbmV3IFVpbnQ4QXJyYXkoKSxcbiAgICAgICAgYXV0aEluZm9CeXRlczogbmV3IFVpbnQ4QXJyYXkoKSxcbiAgICAgICAgc2lnbmF0dXJlczogW10sXG4gICAgfTtcbn1cbmV4cG9ydCBjb25zdCBUeFJhdyA9IHtcbiAgICBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS5ib2R5Qnl0ZXMubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDEwKS5ieXRlcyhtZXNzYWdlLmJvZHlCeXRlcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuYXV0aEluZm9CeXRlcy5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTgpLmJ5dGVzKG1lc3NhZ2UuYXV0aEluZm9CeXRlcyk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCB2IG9mIG1lc3NhZ2Uuc2lnbmF0dXJlcykge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyNikuYnl0ZXModik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9LFxuICAgIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VUeFJhdygpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYm9keUJ5dGVzID0gcmVhZGVyLmJ5dGVzKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5hdXRoSW5mb0J5dGVzID0gcmVhZGVyLmJ5dGVzKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zaWduYXR1cmVzLnB1c2gocmVhZGVyLmJ5dGVzKCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG4gICAgZnJvbUpTT04ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBib2R5Qnl0ZXM6IGlzU2V0KG9iamVjdC5ib2R5Qnl0ZXMpXG4gICAgICAgICAgICAgICAgPyBieXRlc0Zyb21CYXNlNjQob2JqZWN0LmJvZHlCeXRlcylcbiAgICAgICAgICAgICAgICA6IG5ldyBVaW50OEFycmF5KCksXG4gICAgICAgICAgICBhdXRoSW5mb0J5dGVzOiBpc1NldChvYmplY3QuYXV0aEluZm9CeXRlcylcbiAgICAgICAgICAgICAgICA/IGJ5dGVzRnJvbUJhc2U2NChvYmplY3QuYXV0aEluZm9CeXRlcylcbiAgICAgICAgICAgICAgICA6IG5ldyBVaW50OEFycmF5KCksXG4gICAgICAgICAgICBzaWduYXR1cmVzOiBBcnJheS5pc0FycmF5KG9iamVjdD8uc2lnbmF0dXJlcylcbiAgICAgICAgICAgICAgICA/IG9iamVjdC5zaWduYXR1cmVzLm1hcCgoZSkgPT4gYnl0ZXNGcm9tQmFzZTY0KGUpKVxuICAgICAgICAgICAgICAgIDogW10sXG4gICAgICAgIH07XG4gICAgfSxcbiAgICB0b0pTT04obWVzc2FnZSkge1xuICAgICAgICBjb25zdCBvYmogPSB7fTtcbiAgICAgICAgbWVzc2FnZS5ib2R5Qnl0ZXMgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgKG9iai5ib2R5Qnl0ZXMgPSBiYXNlNjRGcm9tQnl0ZXMobWVzc2FnZS5ib2R5Qnl0ZXMgIT09IHVuZGVmaW5lZCA/IG1lc3NhZ2UuYm9keUJ5dGVzIDogbmV3IFVpbnQ4QXJyYXkoKSkpO1xuICAgICAgICBtZXNzYWdlLmF1dGhJbmZvQnl0ZXMgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgKG9iai5hdXRoSW5mb0J5dGVzID0gYmFzZTY0RnJvbUJ5dGVzKG1lc3NhZ2UuYXV0aEluZm9CeXRlcyAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgPyBtZXNzYWdlLmF1dGhJbmZvQnl0ZXNcbiAgICAgICAgICAgICAgICA6IG5ldyBVaW50OEFycmF5KCkpKTtcbiAgICAgICAgaWYgKG1lc3NhZ2Uuc2lnbmF0dXJlcykge1xuICAgICAgICAgICAgb2JqLnNpZ25hdHVyZXMgPSBtZXNzYWdlLnNpZ25hdHVyZXMubWFwKChlKSA9PiBiYXNlNjRGcm9tQnl0ZXMoZSAhPT0gdW5kZWZpbmVkID8gZSA6IG5ldyBVaW50OEFycmF5KCkpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG9iai5zaWduYXR1cmVzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9LFxuICAgIGZyb21QYXJ0aWFsKG9iamVjdCkge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVR4UmF3KCk7XG4gICAgICAgIG1lc3NhZ2UuYm9keUJ5dGVzID0gb2JqZWN0LmJvZHlCeXRlcyA/PyBuZXcgVWludDhBcnJheSgpO1xuICAgICAgICBtZXNzYWdlLmF1dGhJbmZvQnl0ZXMgPSBvYmplY3QuYXV0aEluZm9CeXRlcyA/PyBuZXcgVWludDhBcnJheSgpO1xuICAgICAgICBtZXNzYWdlLnNpZ25hdHVyZXMgPSBvYmplY3Quc2lnbmF0dXJlcz8ubWFwKChlKSA9PiBlKSB8fCBbXTtcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfSxcbn07XG5mdW5jdGlvbiBjcmVhdGVCYXNlU2lnbkRvYygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBib2R5Qnl0ZXM6IG5ldyBVaW50OEFycmF5KCksXG4gICAgICAgIGF1dGhJbmZvQnl0ZXM6IG5ldyBVaW50OEFycmF5KCksXG4gICAgICAgIGNoYWluSWQ6IFwiXCIsXG4gICAgICAgIGFjY291bnROdW1iZXI6IFwiMFwiLFxuICAgIH07XG59XG5leHBvcnQgY29uc3QgU2lnbkRvYyA9IHtcbiAgICBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS5ib2R5Qnl0ZXMubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDEwKS5ieXRlcyhtZXNzYWdlLmJvZHlCeXRlcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuYXV0aEluZm9CeXRlcy5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTgpLmJ5dGVzKG1lc3NhZ2UuYXV0aEluZm9CeXRlcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuY2hhaW5JZCAhPT0gXCJcIikge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyNikuc3RyaW5nKG1lc3NhZ2UuY2hhaW5JZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuYWNjb3VudE51bWJlciAhPT0gXCIwXCIpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMzIpLnVpbnQ2NChtZXNzYWdlLmFjY291bnROdW1iZXIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfSxcbiAgICBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlU2lnbkRvYygpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYm9keUJ5dGVzID0gcmVhZGVyLmJ5dGVzKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5hdXRoSW5mb0J5dGVzID0gcmVhZGVyLmJ5dGVzKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5jaGFpbklkID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYWNjb3VudE51bWJlciA9IGxvbmdUb1N0cmluZyhyZWFkZXIudWludDY0KCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG4gICAgZnJvbUpTT04ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBib2R5Qnl0ZXM6IGlzU2V0KG9iamVjdC5ib2R5Qnl0ZXMpXG4gICAgICAgICAgICAgICAgPyBieXRlc0Zyb21CYXNlNjQob2JqZWN0LmJvZHlCeXRlcylcbiAgICAgICAgICAgICAgICA6IG5ldyBVaW50OEFycmF5KCksXG4gICAgICAgICAgICBhdXRoSW5mb0J5dGVzOiBpc1NldChvYmplY3QuYXV0aEluZm9CeXRlcylcbiAgICAgICAgICAgICAgICA/IGJ5dGVzRnJvbUJhc2U2NChvYmplY3QuYXV0aEluZm9CeXRlcylcbiAgICAgICAgICAgICAgICA6IG5ldyBVaW50OEFycmF5KCksXG4gICAgICAgICAgICBjaGFpbklkOiBpc1NldChvYmplY3QuY2hhaW5JZCkgPyBTdHJpbmcob2JqZWN0LmNoYWluSWQpIDogXCJcIixcbiAgICAgICAgICAgIGFjY291bnROdW1iZXI6IGlzU2V0KG9iamVjdC5hY2NvdW50TnVtYmVyKVxuICAgICAgICAgICAgICAgID8gU3RyaW5nKG9iamVjdC5hY2NvdW50TnVtYmVyKVxuICAgICAgICAgICAgICAgIDogXCIwXCIsXG4gICAgICAgIH07XG4gICAgfSxcbiAgICB0b0pTT04obWVzc2FnZSkge1xuICAgICAgICBjb25zdCBvYmogPSB7fTtcbiAgICAgICAgbWVzc2FnZS5ib2R5Qnl0ZXMgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgKG9iai5ib2R5Qnl0ZXMgPSBiYXNlNjRGcm9tQnl0ZXMobWVzc2FnZS5ib2R5Qnl0ZXMgIT09IHVuZGVmaW5lZCA/IG1lc3NhZ2UuYm9keUJ5dGVzIDogbmV3IFVpbnQ4QXJyYXkoKSkpO1xuICAgICAgICBtZXNzYWdlLmF1dGhJbmZvQnl0ZXMgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgKG9iai5hdXRoSW5mb0J5dGVzID0gYmFzZTY0RnJvbUJ5dGVzKG1lc3NhZ2UuYXV0aEluZm9CeXRlcyAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgPyBtZXNzYWdlLmF1dGhJbmZvQnl0ZXNcbiAgICAgICAgICAgICAgICA6IG5ldyBVaW50OEFycmF5KCkpKTtcbiAgICAgICAgbWVzc2FnZS5jaGFpbklkICE9PSB1bmRlZmluZWQgJiYgKG9iai5jaGFpbklkID0gbWVzc2FnZS5jaGFpbklkKTtcbiAgICAgICAgbWVzc2FnZS5hY2NvdW50TnVtYmVyICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIChvYmouYWNjb3VudE51bWJlciA9IG1lc3NhZ2UuYWNjb3VudE51bWJlcik7XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfSxcbiAgICBmcm9tUGFydGlhbChvYmplY3QpIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VTaWduRG9jKCk7XG4gICAgICAgIG1lc3NhZ2UuYm9keUJ5dGVzID0gb2JqZWN0LmJvZHlCeXRlcyA/PyBuZXcgVWludDhBcnJheSgpO1xuICAgICAgICBtZXNzYWdlLmF1dGhJbmZvQnl0ZXMgPSBvYmplY3QuYXV0aEluZm9CeXRlcyA/PyBuZXcgVWludDhBcnJheSgpO1xuICAgICAgICBtZXNzYWdlLmNoYWluSWQgPSBvYmplY3QuY2hhaW5JZCA/PyBcIlwiO1xuICAgICAgICBtZXNzYWdlLmFjY291bnROdW1iZXIgPSBvYmplY3QuYWNjb3VudE51bWJlciA/PyBcIjBcIjtcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfSxcbn07XG5mdW5jdGlvbiBjcmVhdGVCYXNlVHhCb2R5KCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIG1lc3NhZ2VzOiBbXSxcbiAgICAgICAgbWVtbzogXCJcIixcbiAgICAgICAgdGltZW91dEhlaWdodDogXCIwXCIsXG4gICAgICAgIGV4dGVuc2lvbk9wdGlvbnM6IFtdLFxuICAgICAgICBub25Dcml0aWNhbEV4dGVuc2lvbk9wdGlvbnM6IFtdLFxuICAgIH07XG59XG5leHBvcnQgY29uc3QgVHhCb2R5ID0ge1xuICAgIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGZvciAoY29uc3QgdiBvZiBtZXNzYWdlLm1lc3NhZ2VzKSB7XG4gICAgICAgICAgICBBbnkuZW5jb2RlKHYsIHdyaXRlci51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UubWVtbyAhPT0gXCJcIikge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxOCkuc3RyaW5nKG1lc3NhZ2UubWVtbyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UudGltZW91dEhlaWdodCAhPT0gXCIwXCIpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjQpLnVpbnQ2NChtZXNzYWdlLnRpbWVvdXRIZWlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgdiBvZiBtZXNzYWdlLmV4dGVuc2lvbk9wdGlvbnMpIHtcbiAgICAgICAgICAgIEFueS5lbmNvZGUodiwgd3JpdGVyLnVpbnQzMig4MTg2KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgdiBvZiBtZXNzYWdlLm5vbkNyaXRpY2FsRXh0ZW5zaW9uT3B0aW9ucykge1xuICAgICAgICAgICAgQW55LmVuY29kZSh2LCB3cml0ZXIudWludDMyKDE2Mzc4KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfSxcbiAgICBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlVHhCb2R5KCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5tZXNzYWdlcy5wdXNoKEFueS5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLm1lbW8gPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50aW1lb3V0SGVpZ2h0ID0gbG9uZ1RvU3RyaW5nKHJlYWRlci51aW50NjQoKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMTAyMzpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5leHRlbnNpb25PcHRpb25zLnB1c2goQW55LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDIwNDc6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uubm9uQ3JpdGljYWxFeHRlbnNpb25PcHRpb25zLnB1c2goQW55LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG4gICAgZnJvbUpTT04ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtZXNzYWdlczogQXJyYXkuaXNBcnJheShvYmplY3Q/Lm1lc3NhZ2VzKVxuICAgICAgICAgICAgICAgID8gb2JqZWN0Lm1lc3NhZ2VzLm1hcCgoZSkgPT4gQW55LmZyb21KU09OKGUpKVxuICAgICAgICAgICAgICAgIDogW10sXG4gICAgICAgICAgICBtZW1vOiBpc1NldChvYmplY3QubWVtbykgPyBTdHJpbmcob2JqZWN0Lm1lbW8pIDogXCJcIixcbiAgICAgICAgICAgIHRpbWVvdXRIZWlnaHQ6IGlzU2V0KG9iamVjdC50aW1lb3V0SGVpZ2h0KVxuICAgICAgICAgICAgICAgID8gU3RyaW5nKG9iamVjdC50aW1lb3V0SGVpZ2h0KVxuICAgICAgICAgICAgICAgIDogXCIwXCIsXG4gICAgICAgICAgICBleHRlbnNpb25PcHRpb25zOiBBcnJheS5pc0FycmF5KG9iamVjdD8uZXh0ZW5zaW9uT3B0aW9ucylcbiAgICAgICAgICAgICAgICA/IG9iamVjdC5leHRlbnNpb25PcHRpb25zLm1hcCgoZSkgPT4gQW55LmZyb21KU09OKGUpKVxuICAgICAgICAgICAgICAgIDogW10sXG4gICAgICAgICAgICBub25Dcml0aWNhbEV4dGVuc2lvbk9wdGlvbnM6IEFycmF5LmlzQXJyYXkob2JqZWN0Py5ub25Dcml0aWNhbEV4dGVuc2lvbk9wdGlvbnMpXG4gICAgICAgICAgICAgICAgPyBvYmplY3Qubm9uQ3JpdGljYWxFeHRlbnNpb25PcHRpb25zLm1hcCgoZSkgPT4gQW55LmZyb21KU09OKGUpKVxuICAgICAgICAgICAgICAgIDogW10sXG4gICAgICAgIH07XG4gICAgfSxcbiAgICB0b0pTT04obWVzc2FnZSkge1xuICAgICAgICBjb25zdCBvYmogPSB7fTtcbiAgICAgICAgaWYgKG1lc3NhZ2UubWVzc2FnZXMpIHtcbiAgICAgICAgICAgIG9iai5tZXNzYWdlcyA9IG1lc3NhZ2UubWVzc2FnZXMubWFwKChlKSA9PiBlID8gQW55LnRvSlNPTihlKSA6IHVuZGVmaW5lZCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBvYmoubWVzc2FnZXMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBtZXNzYWdlLm1lbW8gIT09IHVuZGVmaW5lZCAmJiAob2JqLm1lbW8gPSBtZXNzYWdlLm1lbW8pO1xuICAgICAgICBtZXNzYWdlLnRpbWVvdXRIZWlnaHQgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgKG9iai50aW1lb3V0SGVpZ2h0ID0gbWVzc2FnZS50aW1lb3V0SGVpZ2h0KTtcbiAgICAgICAgaWYgKG1lc3NhZ2UuZXh0ZW5zaW9uT3B0aW9ucykge1xuICAgICAgICAgICAgb2JqLmV4dGVuc2lvbk9wdGlvbnMgPSBtZXNzYWdlLmV4dGVuc2lvbk9wdGlvbnMubWFwKChlKSA9PiBlID8gQW55LnRvSlNPTihlKSA6IHVuZGVmaW5lZCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBvYmouZXh0ZW5zaW9uT3B0aW9ucyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLm5vbkNyaXRpY2FsRXh0ZW5zaW9uT3B0aW9ucykge1xuICAgICAgICAgICAgb2JqLm5vbkNyaXRpY2FsRXh0ZW5zaW9uT3B0aW9ucyA9IG1lc3NhZ2Uubm9uQ3JpdGljYWxFeHRlbnNpb25PcHRpb25zLm1hcCgoZSkgPT4gKGUgPyBBbnkudG9KU09OKGUpIDogdW5kZWZpbmVkKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBvYmoubm9uQ3JpdGljYWxFeHRlbnNpb25PcHRpb25zID0gW107XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9LFxuICAgIGZyb21QYXJ0aWFsKG9iamVjdCkge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVR4Qm9keSgpO1xuICAgICAgICBtZXNzYWdlLm1lc3NhZ2VzID0gb2JqZWN0Lm1lc3NhZ2VzPy5tYXAoKGUpID0+IEFueS5mcm9tUGFydGlhbChlKSkgfHwgW107XG4gICAgICAgIG1lc3NhZ2UubWVtbyA9IG9iamVjdC5tZW1vID8/IFwiXCI7XG4gICAgICAgIG1lc3NhZ2UudGltZW91dEhlaWdodCA9IG9iamVjdC50aW1lb3V0SGVpZ2h0ID8/IFwiMFwiO1xuICAgICAgICBtZXNzYWdlLmV4dGVuc2lvbk9wdGlvbnMgPVxuICAgICAgICAgICAgb2JqZWN0LmV4dGVuc2lvbk9wdGlvbnM/Lm1hcCgoZSkgPT4gQW55LmZyb21QYXJ0aWFsKGUpKSB8fCBbXTtcbiAgICAgICAgbWVzc2FnZS5ub25Dcml0aWNhbEV4dGVuc2lvbk9wdGlvbnMgPVxuICAgICAgICAgICAgb2JqZWN0Lm5vbkNyaXRpY2FsRXh0ZW5zaW9uT3B0aW9ucz8ubWFwKChlKSA9PiBBbnkuZnJvbVBhcnRpYWwoZSkpIHx8IFtdO1xuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9LFxufTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VBdXRoSW5mbygpIHtcbiAgICByZXR1cm4geyBzaWduZXJJbmZvczogW10sIGZlZTogdW5kZWZpbmVkIH07XG59XG5leHBvcnQgY29uc3QgQXV0aEluZm8gPSB7XG4gICAgZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgZm9yIChjb25zdCB2IG9mIG1lc3NhZ2Uuc2lnbmVySW5mb3MpIHtcbiAgICAgICAgICAgIFNpZ25lckluZm8uZW5jb2RlKHYsIHdyaXRlci51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuZmVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIEZlZS5lbmNvZGUobWVzc2FnZS5mZWUsIHdyaXRlci51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9LFxuICAgIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VBdXRoSW5mbygpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc2lnbmVySW5mb3MucHVzaChTaWduZXJJbmZvLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZmVlID0gRmVlLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfSxcbiAgICBmcm9tSlNPTihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHNpZ25lckluZm9zOiBBcnJheS5pc0FycmF5KG9iamVjdD8uc2lnbmVySW5mb3MpXG4gICAgICAgICAgICAgICAgPyBvYmplY3Quc2lnbmVySW5mb3MubWFwKChlKSA9PiBTaWduZXJJbmZvLmZyb21KU09OKGUpKVxuICAgICAgICAgICAgICAgIDogW10sXG4gICAgICAgICAgICBmZWU6IGlzU2V0KG9iamVjdC5mZWUpID8gRmVlLmZyb21KU09OKG9iamVjdC5mZWUpIDogdW5kZWZpbmVkLFxuICAgICAgICB9O1xuICAgIH0sXG4gICAgdG9KU09OKG1lc3NhZ2UpIHtcbiAgICAgICAgY29uc3Qgb2JqID0ge307XG4gICAgICAgIGlmIChtZXNzYWdlLnNpZ25lckluZm9zKSB7XG4gICAgICAgICAgICBvYmouc2lnbmVySW5mb3MgPSBtZXNzYWdlLnNpZ25lckluZm9zLm1hcCgoZSkgPT4gZSA/IFNpZ25lckluZm8udG9KU09OKGUpIDogdW5kZWZpbmVkKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG9iai5zaWduZXJJbmZvcyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIG1lc3NhZ2UuZmVlICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIChvYmouZmVlID0gbWVzc2FnZS5mZWUgPyBGZWUudG9KU09OKG1lc3NhZ2UuZmVlKSA6IHVuZGVmaW5lZCk7XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfSxcbiAgICBmcm9tUGFydGlhbChvYmplY3QpIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VBdXRoSW5mbygpO1xuICAgICAgICBtZXNzYWdlLnNpZ25lckluZm9zID1cbiAgICAgICAgICAgIG9iamVjdC5zaWduZXJJbmZvcz8ubWFwKChlKSA9PiBTaWduZXJJbmZvLmZyb21QYXJ0aWFsKGUpKSB8fCBbXTtcbiAgICAgICAgbWVzc2FnZS5mZWUgPVxuICAgICAgICAgICAgb2JqZWN0LmZlZSAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5mZWUgIT09IG51bGxcbiAgICAgICAgICAgICAgICA/IEZlZS5mcm9tUGFydGlhbChvYmplY3QuZmVlKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9LFxufTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VTaWduZXJJbmZvKCkge1xuICAgIHJldHVybiB7IHB1YmxpY0tleTogdW5kZWZpbmVkLCBtb2RlSW5mbzogdW5kZWZpbmVkLCBzZXF1ZW5jZTogXCIwXCIgfTtcbn1cbmV4cG9ydCBjb25zdCBTaWduZXJJbmZvID0ge1xuICAgIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLnB1YmxpY0tleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBBbnkuZW5jb2RlKG1lc3NhZ2UucHVibGljS2V5LCB3cml0ZXIudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLm1vZGVJbmZvICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIE1vZGVJbmZvLmVuY29kZShtZXNzYWdlLm1vZGVJbmZvLCB3cml0ZXIudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnNlcXVlbmNlICE9PSBcIjBcIikge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyNCkudWludDY0KG1lc3NhZ2Uuc2VxdWVuY2UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfSxcbiAgICBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlU2lnbmVySW5mbygpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucHVibGljS2V5ID0gQW55LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5tb2RlSW5mbyA9IE1vZGVJbmZvLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zZXF1ZW5jZSA9IGxvbmdUb1N0cmluZyhyZWFkZXIudWludDY0KCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG4gICAgZnJvbUpTT04ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBwdWJsaWNLZXk6IGlzU2V0KG9iamVjdC5wdWJsaWNLZXkpXG4gICAgICAgICAgICAgICAgPyBBbnkuZnJvbUpTT04ob2JqZWN0LnB1YmxpY0tleSlcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIG1vZGVJbmZvOiBpc1NldChvYmplY3QubW9kZUluZm8pXG4gICAgICAgICAgICAgICAgPyBNb2RlSW5mby5mcm9tSlNPTihvYmplY3QubW9kZUluZm8pXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBzZXF1ZW5jZTogaXNTZXQob2JqZWN0LnNlcXVlbmNlKSA/IFN0cmluZyhvYmplY3Quc2VxdWVuY2UpIDogXCIwXCIsXG4gICAgICAgIH07XG4gICAgfSxcbiAgICB0b0pTT04obWVzc2FnZSkge1xuICAgICAgICBjb25zdCBvYmogPSB7fTtcbiAgICAgICAgbWVzc2FnZS5wdWJsaWNLZXkgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgKG9iai5wdWJsaWNLZXkgPSBtZXNzYWdlLnB1YmxpY0tleVxuICAgICAgICAgICAgICAgID8gQW55LnRvSlNPTihtZXNzYWdlLnB1YmxpY0tleSlcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCk7XG4gICAgICAgIG1lc3NhZ2UubW9kZUluZm8gIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgKG9iai5tb2RlSW5mbyA9IG1lc3NhZ2UubW9kZUluZm9cbiAgICAgICAgICAgICAgICA/IE1vZGVJbmZvLnRvSlNPTihtZXNzYWdlLm1vZGVJbmZvKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkKTtcbiAgICAgICAgbWVzc2FnZS5zZXF1ZW5jZSAhPT0gdW5kZWZpbmVkICYmIChvYmouc2VxdWVuY2UgPSBtZXNzYWdlLnNlcXVlbmNlKTtcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9LFxuICAgIGZyb21QYXJ0aWFsKG9iamVjdCkge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVNpZ25lckluZm8oKTtcbiAgICAgICAgbWVzc2FnZS5wdWJsaWNLZXkgPVxuICAgICAgICAgICAgb2JqZWN0LnB1YmxpY0tleSAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5wdWJsaWNLZXkgIT09IG51bGxcbiAgICAgICAgICAgICAgICA/IEFueS5mcm9tUGFydGlhbChvYmplY3QucHVibGljS2V5KVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICBtZXNzYWdlLm1vZGVJbmZvID1cbiAgICAgICAgICAgIG9iamVjdC5tb2RlSW5mbyAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5tb2RlSW5mbyAhPT0gbnVsbFxuICAgICAgICAgICAgICAgID8gTW9kZUluZm8uZnJvbVBhcnRpYWwob2JqZWN0Lm1vZGVJbmZvKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICBtZXNzYWdlLnNlcXVlbmNlID0gb2JqZWN0LnNlcXVlbmNlID8/IFwiMFwiO1xuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9LFxufTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VNb2RlSW5mbygpIHtcbiAgICByZXR1cm4geyBzaW5nbGU6IHVuZGVmaW5lZCwgbXVsdGk6IHVuZGVmaW5lZCB9O1xufVxuZXhwb3J0IGNvbnN0IE1vZGVJbmZvID0ge1xuICAgIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLnNpbmdsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBNb2RlSW5mb19TaW5nbGUuZW5jb2RlKG1lc3NhZ2Uuc2luZ2xlLCB3cml0ZXIudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLm11bHRpICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIE1vZGVJbmZvX011bHRpLmVuY29kZShtZXNzYWdlLm11bHRpLCB3cml0ZXIudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfSxcbiAgICBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlTW9kZUluZm8oKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnNpbmdsZSA9IE1vZGVJbmZvX1NpbmdsZS5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubXVsdGkgPSBNb2RlSW5mb19NdWx0aS5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG4gICAgZnJvbUpTT04ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzaW5nbGU6IGlzU2V0KG9iamVjdC5zaW5nbGUpXG4gICAgICAgICAgICAgICAgPyBNb2RlSW5mb19TaW5nbGUuZnJvbUpTT04ob2JqZWN0LnNpbmdsZSlcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIG11bHRpOiBpc1NldChvYmplY3QubXVsdGkpXG4gICAgICAgICAgICAgICAgPyBNb2RlSW5mb19NdWx0aS5mcm9tSlNPTihvYmplY3QubXVsdGkpXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgIH07XG4gICAgfSxcbiAgICB0b0pTT04obWVzc2FnZSkge1xuICAgICAgICBjb25zdCBvYmogPSB7fTtcbiAgICAgICAgbWVzc2FnZS5zaW5nbGUgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgKG9iai5zaW5nbGUgPSBtZXNzYWdlLnNpbmdsZVxuICAgICAgICAgICAgICAgID8gTW9kZUluZm9fU2luZ2xlLnRvSlNPTihtZXNzYWdlLnNpbmdsZSlcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCk7XG4gICAgICAgIG1lc3NhZ2UubXVsdGkgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgKG9iai5tdWx0aSA9IG1lc3NhZ2UubXVsdGlcbiAgICAgICAgICAgICAgICA/IE1vZGVJbmZvX011bHRpLnRvSlNPTihtZXNzYWdlLm11bHRpKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkKTtcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9LFxuICAgIGZyb21QYXJ0aWFsKG9iamVjdCkge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZU1vZGVJbmZvKCk7XG4gICAgICAgIG1lc3NhZ2Uuc2luZ2xlID1cbiAgICAgICAgICAgIG9iamVjdC5zaW5nbGUgIT09IHVuZGVmaW5lZCAmJiBvYmplY3Quc2luZ2xlICE9PSBudWxsXG4gICAgICAgICAgICAgICAgPyBNb2RlSW5mb19TaW5nbGUuZnJvbVBhcnRpYWwob2JqZWN0LnNpbmdsZSlcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgbWVzc2FnZS5tdWx0aSA9XG4gICAgICAgICAgICBvYmplY3QubXVsdGkgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QubXVsdGkgIT09IG51bGxcbiAgICAgICAgICAgICAgICA/IE1vZGVJbmZvX011bHRpLmZyb21QYXJ0aWFsKG9iamVjdC5tdWx0aSlcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfSxcbn07XG5mdW5jdGlvbiBjcmVhdGVCYXNlTW9kZUluZm9fU2luZ2xlKCkge1xuICAgIHJldHVybiB7IG1vZGU6IDAgfTtcbn1cbmV4cG9ydCBjb25zdCBNb2RlSW5mb19TaW5nbGUgPSB7XG4gICAgZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UubW9kZSAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig4KS5pbnQzMihtZXNzYWdlLm1vZGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfSxcbiAgICBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlTW9kZUluZm9fU2luZ2xlKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5tb2RlID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfSxcbiAgICBmcm9tSlNPTihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1vZGU6IGlzU2V0KG9iamVjdC5tb2RlKSA/IHNpZ25Nb2RlRnJvbUpTT04ob2JqZWN0Lm1vZGUpIDogMCxcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIHRvSlNPTihtZXNzYWdlKSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgICAgICBtZXNzYWdlLm1vZGUgIT09IHVuZGVmaW5lZCAmJiAob2JqLm1vZGUgPSBzaWduTW9kZVRvSlNPTihtZXNzYWdlLm1vZGUpKTtcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9LFxuICAgIGZyb21QYXJ0aWFsKG9iamVjdCkge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZU1vZGVJbmZvX1NpbmdsZSgpO1xuICAgICAgICBtZXNzYWdlLm1vZGUgPSBvYmplY3QubW9kZSA/PyAwO1xuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9LFxufTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VNb2RlSW5mb19NdWx0aSgpIHtcbiAgICByZXR1cm4geyBiaXRhcnJheTogdW5kZWZpbmVkLCBtb2RlSW5mb3M6IFtdIH07XG59XG5leHBvcnQgY29uc3QgTW9kZUluZm9fTXVsdGkgPSB7XG4gICAgZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UuYml0YXJyYXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgQ29tcGFjdEJpdEFycmF5LmVuY29kZShtZXNzYWdlLmJpdGFycmF5LCB3cml0ZXIudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgdiBvZiBtZXNzYWdlLm1vZGVJbmZvcykge1xuICAgICAgICAgICAgTW9kZUluZm8uZW5jb2RlKHYsIHdyaXRlci51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9LFxuICAgIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VNb2RlSW5mb19NdWx0aSgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYml0YXJyYXkgPSBDb21wYWN0Qml0QXJyYXkuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLm1vZGVJbmZvcy5wdXNoKE1vZGVJbmZvLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG4gICAgZnJvbUpTT04ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBiaXRhcnJheTogaXNTZXQob2JqZWN0LmJpdGFycmF5KVxuICAgICAgICAgICAgICAgID8gQ29tcGFjdEJpdEFycmF5LmZyb21KU09OKG9iamVjdC5iaXRhcnJheSlcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIG1vZGVJbmZvczogQXJyYXkuaXNBcnJheShvYmplY3Q/Lm1vZGVJbmZvcylcbiAgICAgICAgICAgICAgICA/IG9iamVjdC5tb2RlSW5mb3MubWFwKChlKSA9PiBNb2RlSW5mby5mcm9tSlNPTihlKSlcbiAgICAgICAgICAgICAgICA6IFtdLFxuICAgICAgICB9O1xuICAgIH0sXG4gICAgdG9KU09OKG1lc3NhZ2UpIHtcbiAgICAgICAgY29uc3Qgb2JqID0ge307XG4gICAgICAgIG1lc3NhZ2UuYml0YXJyYXkgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgKG9iai5iaXRhcnJheSA9IG1lc3NhZ2UuYml0YXJyYXlcbiAgICAgICAgICAgICAgICA/IENvbXBhY3RCaXRBcnJheS50b0pTT04obWVzc2FnZS5iaXRhcnJheSlcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCk7XG4gICAgICAgIGlmIChtZXNzYWdlLm1vZGVJbmZvcykge1xuICAgICAgICAgICAgb2JqLm1vZGVJbmZvcyA9IG1lc3NhZ2UubW9kZUluZm9zLm1hcCgoZSkgPT4gZSA/IE1vZGVJbmZvLnRvSlNPTihlKSA6IHVuZGVmaW5lZCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBvYmoubW9kZUluZm9zID0gW107XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9LFxuICAgIGZyb21QYXJ0aWFsKG9iamVjdCkge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZU1vZGVJbmZvX011bHRpKCk7XG4gICAgICAgIG1lc3NhZ2UuYml0YXJyYXkgPVxuICAgICAgICAgICAgb2JqZWN0LmJpdGFycmF5ICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LmJpdGFycmF5ICE9PSBudWxsXG4gICAgICAgICAgICAgICAgPyBDb21wYWN0Qml0QXJyYXkuZnJvbVBhcnRpYWwob2JqZWN0LmJpdGFycmF5KVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICBtZXNzYWdlLm1vZGVJbmZvcyA9XG4gICAgICAgICAgICBvYmplY3QubW9kZUluZm9zPy5tYXAoKGUpID0+IE1vZGVJbmZvLmZyb21QYXJ0aWFsKGUpKSB8fCBbXTtcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfSxcbn07XG5mdW5jdGlvbiBjcmVhdGVCYXNlRmVlKCkge1xuICAgIHJldHVybiB7IGFtb3VudDogW10sIGdhc0xpbWl0OiBcIjBcIiwgcGF5ZXI6IFwiXCIsIGdyYW50ZXI6IFwiXCIgfTtcbn1cbmV4cG9ydCBjb25zdCBGZWUgPSB7XG4gICAgZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgZm9yIChjb25zdCB2IG9mIG1lc3NhZ2UuYW1vdW50KSB7XG4gICAgICAgICAgICBDb2luLmVuY29kZSh2LCB3cml0ZXIudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmdhc0xpbWl0ICE9PSBcIjBcIikge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxNikudWludDY0KG1lc3NhZ2UuZ2FzTGltaXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnBheWVyICE9PSBcIlwiKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDI2KS5zdHJpbmcobWVzc2FnZS5wYXllcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuZ3JhbnRlciAhPT0gXCJcIikge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigzNCkuc3RyaW5nKG1lc3NhZ2UuZ3JhbnRlcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9LFxuICAgIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VGZWUoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmFtb3VudC5wdXNoKENvaW4uZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5nYXNMaW1pdCA9IGxvbmdUb1N0cmluZyhyZWFkZXIudWludDY0KCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucGF5ZXIgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5ncmFudGVyID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG4gICAgZnJvbUpTT04ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBhbW91bnQ6IEFycmF5LmlzQXJyYXkob2JqZWN0Py5hbW91bnQpXG4gICAgICAgICAgICAgICAgPyBvYmplY3QuYW1vdW50Lm1hcCgoZSkgPT4gQ29pbi5mcm9tSlNPTihlKSlcbiAgICAgICAgICAgICAgICA6IFtdLFxuICAgICAgICAgICAgZ2FzTGltaXQ6IGlzU2V0KG9iamVjdC5nYXNMaW1pdCkgPyBTdHJpbmcob2JqZWN0Lmdhc0xpbWl0KSA6IFwiMFwiLFxuICAgICAgICAgICAgcGF5ZXI6IGlzU2V0KG9iamVjdC5wYXllcikgPyBTdHJpbmcob2JqZWN0LnBheWVyKSA6IFwiXCIsXG4gICAgICAgICAgICBncmFudGVyOiBpc1NldChvYmplY3QuZ3JhbnRlcikgPyBTdHJpbmcob2JqZWN0LmdyYW50ZXIpIDogXCJcIixcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIHRvSlNPTihtZXNzYWdlKSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgICAgICBpZiAobWVzc2FnZS5hbW91bnQpIHtcbiAgICAgICAgICAgIG9iai5hbW91bnQgPSBtZXNzYWdlLmFtb3VudC5tYXAoKGUpID0+IChlID8gQ29pbi50b0pTT04oZSkgOiB1bmRlZmluZWQpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG9iai5hbW91bnQgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBtZXNzYWdlLmdhc0xpbWl0ICE9PSB1bmRlZmluZWQgJiYgKG9iai5nYXNMaW1pdCA9IG1lc3NhZ2UuZ2FzTGltaXQpO1xuICAgICAgICBtZXNzYWdlLnBheWVyICE9PSB1bmRlZmluZWQgJiYgKG9iai5wYXllciA9IG1lc3NhZ2UucGF5ZXIpO1xuICAgICAgICBtZXNzYWdlLmdyYW50ZXIgIT09IHVuZGVmaW5lZCAmJiAob2JqLmdyYW50ZXIgPSBtZXNzYWdlLmdyYW50ZXIpO1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH0sXG4gICAgZnJvbVBhcnRpYWwob2JqZWN0KSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlRmVlKCk7XG4gICAgICAgIG1lc3NhZ2UuYW1vdW50ID0gb2JqZWN0LmFtb3VudD8ubWFwKChlKSA9PiBDb2luLmZyb21QYXJ0aWFsKGUpKSB8fCBbXTtcbiAgICAgICAgbWVzc2FnZS5nYXNMaW1pdCA9IG9iamVjdC5nYXNMaW1pdCA/PyBcIjBcIjtcbiAgICAgICAgbWVzc2FnZS5wYXllciA9IG9iamVjdC5wYXllciA/PyBcIlwiO1xuICAgICAgICBtZXNzYWdlLmdyYW50ZXIgPSBvYmplY3QuZ3JhbnRlciA/PyBcIlwiO1xuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9LFxufTtcbnZhciBnbG9iYWxUaGlzID0gKCgpID0+IHtcbiAgICBpZiAodHlwZW9mIGdsb2JhbFRoaXMgIT09IFwidW5kZWZpbmVkXCIpXG4gICAgICAgIHJldHVybiBnbG9iYWxUaGlzO1xuICAgIGlmICh0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIilcbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIpXG4gICAgICAgIHJldHVybiB3aW5kb3c7XG4gICAgaWYgKHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIpXG4gICAgICAgIHJldHVybiBnbG9iYWw7XG4gICAgdGhyb3cgXCJVbmFibGUgdG8gbG9jYXRlIGdsb2JhbCBvYmplY3RcIjtcbn0pKCk7XG5jb25zdCBhdG9iID0gZ2xvYmFsVGhpcy5hdG9iIHx8XG4gICAgKChiNjQpID0+IGdsb2JhbFRoaXMuQnVmZmVyLmZyb20oYjY0LCBcImJhc2U2NFwiKS50b1N0cmluZyhcImJpbmFyeVwiKSk7XG5mdW5jdGlvbiBieXRlc0Zyb21CYXNlNjQoYjY0KSB7XG4gICAgY29uc3QgYmluID0gYXRvYihiNjQpO1xuICAgIGNvbnN0IGFyciA9IG5ldyBVaW50OEFycmF5KGJpbi5sZW5ndGgpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYmluLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGFycltpXSA9IGJpbi5jaGFyQ29kZUF0KGkpO1xuICAgIH1cbiAgICByZXR1cm4gYXJyO1xufVxuY29uc3QgYnRvYSA9IGdsb2JhbFRoaXMuYnRvYSB8fFxuICAgICgoYmluKSA9PiBnbG9iYWxUaGlzLkJ1ZmZlci5mcm9tKGJpbiwgXCJiaW5hcnlcIikudG9TdHJpbmcoXCJiYXNlNjRcIikpO1xuZnVuY3Rpb24gYmFzZTY0RnJvbUJ5dGVzKGFycikge1xuICAgIGNvbnN0IGJpbiA9IFtdO1xuICAgIGFyci5mb3JFYWNoKChieXRlKSA9PiB7XG4gICAgICAgIGJpbi5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUoYnl0ZSkpO1xuICAgIH0pO1xuICAgIHJldHVybiBidG9hKGJpbi5qb2luKFwiXCIpKTtcbn1cbmZ1bmN0aW9uIGxvbmdUb1N0cmluZyhsb25nKSB7XG4gICAgcmV0dXJuIGxvbmcudG9TdHJpbmcoKTtcbn1cbmlmIChfbTAudXRpbC5Mb25nICE9PSBMb25nKSB7XG4gICAgX20wLnV0aWwuTG9uZyA9IExvbmc7XG4gICAgX20wLmNvbmZpZ3VyZSgpO1xufVxuZnVuY3Rpb24gaXNTZXQodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09IHVuZGVmaW5lZDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXR4LmpzLm1hcCIsIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgeyBncnBjIH0gZnJvbSBcIkBpbXByb2JhYmxlLWVuZy9ncnBjLXdlYlwiO1xuaW1wb3J0IHsgUGFnZVJlcXVlc3QsIFBhZ2VSZXNwb25zZSB9IGZyb20gXCIuLi8uLi9iYXNlL3F1ZXJ5L3YxYmV0YTEvcGFnaW5hdGlvblwiO1xuaW1wb3J0IHsgVHhSZXNwb25zZSwgR2FzSW5mbywgUmVzdWx0IH0gZnJvbSBcIi4uLy4uL2Jhc2UvYWJjaS92MWJldGExL2FiY2lcIjtcbmltcG9ydCB7IFR4IH0gZnJvbSBcIi4vdHhcIjtcbmltcG9ydCB7IEJyb3dzZXJIZWFkZXJzIH0gZnJvbSBcImJyb3dzZXItaGVhZGVyc1wiO1xuaW1wb3J0ICogYXMgX20wIGZyb20gXCJwcm90b2J1ZmpzL21pbmltYWxcIjtcbmV4cG9ydCBjb25zdCBwcm90b2J1ZlBhY2thZ2UgPSBcImNvc21vcy50eC52MWJldGExXCI7XG4vKiogT3JkZXJCeSBkZWZpbmVzIHRoZSBzb3J0aW5nIG9yZGVyICovXG5leHBvcnQgdmFyIE9yZGVyQnk7XG4oZnVuY3Rpb24gKE9yZGVyQnkpIHtcbiAgICAvKiogT1JERVJfQllfVU5TUEVDSUZJRUQgLSBPUkRFUl9CWV9VTlNQRUNJRklFRCBzcGVjaWZpZXMgYW4gdW5rbm93biBzb3J0aW5nIG9yZGVyLiBPcmRlckJ5IGRlZmF1bHRzIHRvIEFTQyBpbiB0aGlzIGNhc2UuICovXG4gICAgT3JkZXJCeVtPcmRlckJ5W1wiT1JERVJfQllfVU5TUEVDSUZJRURcIl0gPSAwXSA9IFwiT1JERVJfQllfVU5TUEVDSUZJRURcIjtcbiAgICAvKiogT1JERVJfQllfQVNDIC0gT1JERVJfQllfQVNDIGRlZmluZXMgYXNjZW5kaW5nIG9yZGVyICovXG4gICAgT3JkZXJCeVtPcmRlckJ5W1wiT1JERVJfQllfQVNDXCJdID0gMV0gPSBcIk9SREVSX0JZX0FTQ1wiO1xuICAgIC8qKiBPUkRFUl9CWV9ERVNDIC0gT1JERVJfQllfREVTQyBkZWZpbmVzIGRlc2NlbmRpbmcgb3JkZXIgKi9cbiAgICBPcmRlckJ5W09yZGVyQnlbXCJPUkRFUl9CWV9ERVNDXCJdID0gMl0gPSBcIk9SREVSX0JZX0RFU0NcIjtcbiAgICBPcmRlckJ5W09yZGVyQnlbXCJVTlJFQ09HTklaRURcIl0gPSAtMV0gPSBcIlVOUkVDT0dOSVpFRFwiO1xufSkoT3JkZXJCeSB8fCAoT3JkZXJCeSA9IHt9KSk7XG5leHBvcnQgZnVuY3Rpb24gb3JkZXJCeUZyb21KU09OKG9iamVjdCkge1xuICAgIHN3aXRjaCAob2JqZWN0KSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgY2FzZSBcIk9SREVSX0JZX1VOU1BFQ0lGSUVEXCI6XG4gICAgICAgICAgICByZXR1cm4gT3JkZXJCeS5PUkRFUl9CWV9VTlNQRUNJRklFRDtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICBjYXNlIFwiT1JERVJfQllfQVNDXCI6XG4gICAgICAgICAgICByZXR1cm4gT3JkZXJCeS5PUkRFUl9CWV9BU0M7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgY2FzZSBcIk9SREVSX0JZX0RFU0NcIjpcbiAgICAgICAgICAgIHJldHVybiBPcmRlckJ5Lk9SREVSX0JZX0RFU0M7XG4gICAgICAgIGNhc2UgLTE6XG4gICAgICAgIGNhc2UgXCJVTlJFQ09HTklaRURcIjpcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBPcmRlckJ5LlVOUkVDT0dOSVpFRDtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gb3JkZXJCeVRvSlNPTihvYmplY3QpIHtcbiAgICBzd2l0Y2ggKG9iamVjdCkge1xuICAgICAgICBjYXNlIE9yZGVyQnkuT1JERVJfQllfVU5TUEVDSUZJRUQ6XG4gICAgICAgICAgICByZXR1cm4gXCJPUkRFUl9CWV9VTlNQRUNJRklFRFwiO1xuICAgICAgICBjYXNlIE9yZGVyQnkuT1JERVJfQllfQVNDOlxuICAgICAgICAgICAgcmV0dXJuIFwiT1JERVJfQllfQVNDXCI7XG4gICAgICAgIGNhc2UgT3JkZXJCeS5PUkRFUl9CWV9ERVNDOlxuICAgICAgICAgICAgcmV0dXJuIFwiT1JERVJfQllfREVTQ1wiO1xuICAgICAgICBjYXNlIE9yZGVyQnkuVU5SRUNPR05JWkVEOlxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIFwiVU5SRUNPR05JWkVEXCI7XG4gICAgfVxufVxuLyoqIEJyb2FkY2FzdE1vZGUgc3BlY2lmaWVzIHRoZSBicm9hZGNhc3QgbW9kZSBmb3IgdGhlIFR4U2VydmljZS5Ccm9hZGNhc3QgUlBDIG1ldGhvZC4gKi9cbmV4cG9ydCB2YXIgQnJvYWRjYXN0TW9kZTtcbihmdW5jdGlvbiAoQnJvYWRjYXN0TW9kZSkge1xuICAgIC8qKiBCUk9BRENBU1RfTU9ERV9VTlNQRUNJRklFRCAtIHplcm8tdmFsdWUgZm9yIG1vZGUgb3JkZXJpbmcgKi9cbiAgICBCcm9hZGNhc3RNb2RlW0Jyb2FkY2FzdE1vZGVbXCJCUk9BRENBU1RfTU9ERV9VTlNQRUNJRklFRFwiXSA9IDBdID0gXCJCUk9BRENBU1RfTU9ERV9VTlNQRUNJRklFRFwiO1xuICAgIC8qKlxuICAgICAqIEJST0FEQ0FTVF9NT0RFX0JMT0NLIC0gQlJPQURDQVNUX01PREVfQkxPQ0sgZGVmaW5lcyBhIHR4IGJyb2FkY2FzdGluZyBtb2RlIHdoZXJlIHRoZSBjbGllbnQgd2FpdHMgZm9yXG4gICAgICogdGhlIHR4IHRvIGJlIGNvbW1pdHRlZCBpbiBhIGJsb2NrLlxuICAgICAqL1xuICAgIEJyb2FkY2FzdE1vZGVbQnJvYWRjYXN0TW9kZVtcIkJST0FEQ0FTVF9NT0RFX0JMT0NLXCJdID0gMV0gPSBcIkJST0FEQ0FTVF9NT0RFX0JMT0NLXCI7XG4gICAgLyoqXG4gICAgICogQlJPQURDQVNUX01PREVfU1lOQyAtIEJST0FEQ0FTVF9NT0RFX1NZTkMgZGVmaW5lcyBhIHR4IGJyb2FkY2FzdGluZyBtb2RlIHdoZXJlIHRoZSBjbGllbnQgd2FpdHMgZm9yXG4gICAgICogYSBDaGVja1R4IGV4ZWN1dGlvbiByZXNwb25zZSBvbmx5LlxuICAgICAqL1xuICAgIEJyb2FkY2FzdE1vZGVbQnJvYWRjYXN0TW9kZVtcIkJST0FEQ0FTVF9NT0RFX1NZTkNcIl0gPSAyXSA9IFwiQlJPQURDQVNUX01PREVfU1lOQ1wiO1xuICAgIC8qKlxuICAgICAqIEJST0FEQ0FTVF9NT0RFX0FTWU5DIC0gQlJPQURDQVNUX01PREVfQVNZTkMgZGVmaW5lcyBhIHR4IGJyb2FkY2FzdGluZyBtb2RlIHdoZXJlIHRoZSBjbGllbnQgcmV0dXJuc1xuICAgICAqIGltbWVkaWF0ZWx5LlxuICAgICAqL1xuICAgIEJyb2FkY2FzdE1vZGVbQnJvYWRjYXN0TW9kZVtcIkJST0FEQ0FTVF9NT0RFX0FTWU5DXCJdID0gM10gPSBcIkJST0FEQ0FTVF9NT0RFX0FTWU5DXCI7XG4gICAgQnJvYWRjYXN0TW9kZVtCcm9hZGNhc3RNb2RlW1wiVU5SRUNPR05JWkVEXCJdID0gLTFdID0gXCJVTlJFQ09HTklaRURcIjtcbn0pKEJyb2FkY2FzdE1vZGUgfHwgKEJyb2FkY2FzdE1vZGUgPSB7fSkpO1xuZXhwb3J0IGZ1bmN0aW9uIGJyb2FkY2FzdE1vZGVGcm9tSlNPTihvYmplY3QpIHtcbiAgICBzd2l0Y2ggKG9iamVjdCkge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgIGNhc2UgXCJCUk9BRENBU1RfTU9ERV9VTlNQRUNJRklFRFwiOlxuICAgICAgICAgICAgcmV0dXJuIEJyb2FkY2FzdE1vZGUuQlJPQURDQVNUX01PREVfVU5TUEVDSUZJRUQ7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgY2FzZSBcIkJST0FEQ0FTVF9NT0RFX0JMT0NLXCI6XG4gICAgICAgICAgICByZXR1cm4gQnJvYWRjYXN0TW9kZS5CUk9BRENBU1RfTU9ERV9CTE9DSztcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICBjYXNlIFwiQlJPQURDQVNUX01PREVfU1lOQ1wiOlxuICAgICAgICAgICAgcmV0dXJuIEJyb2FkY2FzdE1vZGUuQlJPQURDQVNUX01PREVfU1lOQztcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICBjYXNlIFwiQlJPQURDQVNUX01PREVfQVNZTkNcIjpcbiAgICAgICAgICAgIHJldHVybiBCcm9hZGNhc3RNb2RlLkJST0FEQ0FTVF9NT0RFX0FTWU5DO1xuICAgICAgICBjYXNlIC0xOlxuICAgICAgICBjYXNlIFwiVU5SRUNPR05JWkVEXCI6XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gQnJvYWRjYXN0TW9kZS5VTlJFQ09HTklaRUQ7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGJyb2FkY2FzdE1vZGVUb0pTT04ob2JqZWN0KSB7XG4gICAgc3dpdGNoIChvYmplY3QpIHtcbiAgICAgICAgY2FzZSBCcm9hZGNhc3RNb2RlLkJST0FEQ0FTVF9NT0RFX1VOU1BFQ0lGSUVEOlxuICAgICAgICAgICAgcmV0dXJuIFwiQlJPQURDQVNUX01PREVfVU5TUEVDSUZJRURcIjtcbiAgICAgICAgY2FzZSBCcm9hZGNhc3RNb2RlLkJST0FEQ0FTVF9NT0RFX0JMT0NLOlxuICAgICAgICAgICAgcmV0dXJuIFwiQlJPQURDQVNUX01PREVfQkxPQ0tcIjtcbiAgICAgICAgY2FzZSBCcm9hZGNhc3RNb2RlLkJST0FEQ0FTVF9NT0RFX1NZTkM6XG4gICAgICAgICAgICByZXR1cm4gXCJCUk9BRENBU1RfTU9ERV9TWU5DXCI7XG4gICAgICAgIGNhc2UgQnJvYWRjYXN0TW9kZS5CUk9BRENBU1RfTU9ERV9BU1lOQzpcbiAgICAgICAgICAgIHJldHVybiBcIkJST0FEQ0FTVF9NT0RFX0FTWU5DXCI7XG4gICAgICAgIGNhc2UgQnJvYWRjYXN0TW9kZS5VTlJFQ09HTklaRUQ6XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gXCJVTlJFQ09HTklaRURcIjtcbiAgICB9XG59XG5mdW5jdGlvbiBjcmVhdGVCYXNlR2V0VHhzRXZlbnRSZXF1ZXN0KCkge1xuICAgIHJldHVybiB7IGV2ZW50czogW10sIHBhZ2luYXRpb246IHVuZGVmaW5lZCwgb3JkZXJCeTogMCB9O1xufVxuZXhwb3J0IGNvbnN0IEdldFR4c0V2ZW50UmVxdWVzdCA9IHtcbiAgICBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBmb3IgKGNvbnN0IHYgb2YgbWVzc2FnZS5ldmVudHMpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTApLnN0cmluZyh2KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5wYWdpbmF0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIFBhZ2VSZXF1ZXN0LmVuY29kZShtZXNzYWdlLnBhZ2luYXRpb24sIHdyaXRlci51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2Uub3JkZXJCeSAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyNCkuaW50MzIobWVzc2FnZS5vcmRlckJ5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH0sXG4gICAgZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUdldFR4c0V2ZW50UmVxdWVzdCgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZXZlbnRzLnB1c2gocmVhZGVyLnN0cmluZygpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnBhZ2luYXRpb24gPSBQYWdlUmVxdWVzdC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uub3JkZXJCeSA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG4gICAgZnJvbUpTT04ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBldmVudHM6IEFycmF5LmlzQXJyYXkob2JqZWN0Py5ldmVudHMpXG4gICAgICAgICAgICAgICAgPyBvYmplY3QuZXZlbnRzLm1hcCgoZSkgPT4gU3RyaW5nKGUpKVxuICAgICAgICAgICAgICAgIDogW10sXG4gICAgICAgICAgICBwYWdpbmF0aW9uOiBpc1NldChvYmplY3QucGFnaW5hdGlvbilcbiAgICAgICAgICAgICAgICA/IFBhZ2VSZXF1ZXN0LmZyb21KU09OKG9iamVjdC5wYWdpbmF0aW9uKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgb3JkZXJCeTogaXNTZXQob2JqZWN0Lm9yZGVyQnkpID8gb3JkZXJCeUZyb21KU09OKG9iamVjdC5vcmRlckJ5KSA6IDAsXG4gICAgICAgIH07XG4gICAgfSxcbiAgICB0b0pTT04obWVzc2FnZSkge1xuICAgICAgICBjb25zdCBvYmogPSB7fTtcbiAgICAgICAgaWYgKG1lc3NhZ2UuZXZlbnRzKSB7XG4gICAgICAgICAgICBvYmouZXZlbnRzID0gbWVzc2FnZS5ldmVudHMubWFwKChlKSA9PiBlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG9iai5ldmVudHMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBtZXNzYWdlLnBhZ2luYXRpb24gIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgKG9iai5wYWdpbmF0aW9uID0gbWVzc2FnZS5wYWdpbmF0aW9uXG4gICAgICAgICAgICAgICAgPyBQYWdlUmVxdWVzdC50b0pTT04obWVzc2FnZS5wYWdpbmF0aW9uKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkKTtcbiAgICAgICAgbWVzc2FnZS5vcmRlckJ5ICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIChvYmoub3JkZXJCeSA9IG9yZGVyQnlUb0pTT04obWVzc2FnZS5vcmRlckJ5KSk7XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfSxcbiAgICBmcm9tUGFydGlhbChvYmplY3QpIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VHZXRUeHNFdmVudFJlcXVlc3QoKTtcbiAgICAgICAgbWVzc2FnZS5ldmVudHMgPSBvYmplY3QuZXZlbnRzPy5tYXAoKGUpID0+IGUpIHx8IFtdO1xuICAgICAgICBtZXNzYWdlLnBhZ2luYXRpb24gPVxuICAgICAgICAgICAgb2JqZWN0LnBhZ2luYXRpb24gIT09IHVuZGVmaW5lZCAmJiBvYmplY3QucGFnaW5hdGlvbiAhPT0gbnVsbFxuICAgICAgICAgICAgICAgID8gUGFnZVJlcXVlc3QuZnJvbVBhcnRpYWwob2JqZWN0LnBhZ2luYXRpb24pXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgIG1lc3NhZ2Uub3JkZXJCeSA9IG9iamVjdC5vcmRlckJ5ID8/IDA7XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG59O1xuZnVuY3Rpb24gY3JlYXRlQmFzZUdldFR4c0V2ZW50UmVzcG9uc2UoKSB7XG4gICAgcmV0dXJuIHsgdHhzOiBbXSwgdHhSZXNwb25zZXM6IFtdLCBwYWdpbmF0aW9uOiB1bmRlZmluZWQgfTtcbn1cbmV4cG9ydCBjb25zdCBHZXRUeHNFdmVudFJlc3BvbnNlID0ge1xuICAgIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGZvciAoY29uc3QgdiBvZiBtZXNzYWdlLnR4cykge1xuICAgICAgICAgICAgVHguZW5jb2RlKHYsIHdyaXRlci51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCB2IG9mIG1lc3NhZ2UudHhSZXNwb25zZXMpIHtcbiAgICAgICAgICAgIFR4UmVzcG9uc2UuZW5jb2RlKHYsIHdyaXRlci51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UucGFnaW5hdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBQYWdlUmVzcG9uc2UuZW5jb2RlKG1lc3NhZ2UucGFnaW5hdGlvbiwgd3JpdGVyLnVpbnQzMigyNikuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH0sXG4gICAgZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUdldFR4c0V2ZW50UmVzcG9uc2UoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnR4cy5wdXNoKFR4LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudHhSZXNwb25zZXMucHVzaChUeFJlc3BvbnNlLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucGFnaW5hdGlvbiA9IFBhZ2VSZXNwb25zZS5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG4gICAgZnJvbUpTT04ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eHM6IEFycmF5LmlzQXJyYXkob2JqZWN0Py50eHMpXG4gICAgICAgICAgICAgICAgPyBvYmplY3QudHhzLm1hcCgoZSkgPT4gVHguZnJvbUpTT04oZSkpXG4gICAgICAgICAgICAgICAgOiBbXSxcbiAgICAgICAgICAgIHR4UmVzcG9uc2VzOiBBcnJheS5pc0FycmF5KG9iamVjdD8udHhSZXNwb25zZXMpXG4gICAgICAgICAgICAgICAgPyBvYmplY3QudHhSZXNwb25zZXMubWFwKChlKSA9PiBUeFJlc3BvbnNlLmZyb21KU09OKGUpKVxuICAgICAgICAgICAgICAgIDogW10sXG4gICAgICAgICAgICBwYWdpbmF0aW9uOiBpc1NldChvYmplY3QucGFnaW5hdGlvbilcbiAgICAgICAgICAgICAgICA/IFBhZ2VSZXNwb25zZS5mcm9tSlNPTihvYmplY3QucGFnaW5hdGlvbilcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIHRvSlNPTihtZXNzYWdlKSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgICAgICBpZiAobWVzc2FnZS50eHMpIHtcbiAgICAgICAgICAgIG9iai50eHMgPSBtZXNzYWdlLnR4cy5tYXAoKGUpID0+IChlID8gVHgudG9KU09OKGUpIDogdW5kZWZpbmVkKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBvYmoudHhzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UudHhSZXNwb25zZXMpIHtcbiAgICAgICAgICAgIG9iai50eFJlc3BvbnNlcyA9IG1lc3NhZ2UudHhSZXNwb25zZXMubWFwKChlKSA9PiBlID8gVHhSZXNwb25zZS50b0pTT04oZSkgOiB1bmRlZmluZWQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgb2JqLnR4UmVzcG9uc2VzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgbWVzc2FnZS5wYWdpbmF0aW9uICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIChvYmoucGFnaW5hdGlvbiA9IG1lc3NhZ2UucGFnaW5hdGlvblxuICAgICAgICAgICAgICAgID8gUGFnZVJlc3BvbnNlLnRvSlNPTihtZXNzYWdlLnBhZ2luYXRpb24pXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQpO1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH0sXG4gICAgZnJvbVBhcnRpYWwob2JqZWN0KSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlR2V0VHhzRXZlbnRSZXNwb25zZSgpO1xuICAgICAgICBtZXNzYWdlLnR4cyA9IG9iamVjdC50eHM/Lm1hcCgoZSkgPT4gVHguZnJvbVBhcnRpYWwoZSkpIHx8IFtdO1xuICAgICAgICBtZXNzYWdlLnR4UmVzcG9uc2VzID1cbiAgICAgICAgICAgIG9iamVjdC50eFJlc3BvbnNlcz8ubWFwKChlKSA9PiBUeFJlc3BvbnNlLmZyb21QYXJ0aWFsKGUpKSB8fCBbXTtcbiAgICAgICAgbWVzc2FnZS5wYWdpbmF0aW9uID1cbiAgICAgICAgICAgIG9iamVjdC5wYWdpbmF0aW9uICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnBhZ2luYXRpb24gIT09IG51bGxcbiAgICAgICAgICAgICAgICA/IFBhZ2VSZXNwb25zZS5mcm9tUGFydGlhbChvYmplY3QucGFnaW5hdGlvbilcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfSxcbn07XG5mdW5jdGlvbiBjcmVhdGVCYXNlQnJvYWRjYXN0VHhSZXF1ZXN0KCkge1xuICAgIHJldHVybiB7IHR4Qnl0ZXM6IG5ldyBVaW50OEFycmF5KCksIG1vZGU6IDAgfTtcbn1cbmV4cG9ydCBjb25zdCBCcm9hZGNhc3RUeFJlcXVlc3QgPSB7XG4gICAgZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UudHhCeXRlcy5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTApLmJ5dGVzKG1lc3NhZ2UudHhCeXRlcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UubW9kZSAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxNikuaW50MzIobWVzc2FnZS5tb2RlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH0sXG4gICAgZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUJyb2FkY2FzdFR4UmVxdWVzdCgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudHhCeXRlcyA9IHJlYWRlci5ieXRlcygpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubW9kZSA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG4gICAgZnJvbUpTT04ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eEJ5dGVzOiBpc1NldChvYmplY3QudHhCeXRlcylcbiAgICAgICAgICAgICAgICA/IGJ5dGVzRnJvbUJhc2U2NChvYmplY3QudHhCeXRlcylcbiAgICAgICAgICAgICAgICA6IG5ldyBVaW50OEFycmF5KCksXG4gICAgICAgICAgICBtb2RlOiBpc1NldChvYmplY3QubW9kZSkgPyBicm9hZGNhc3RNb2RlRnJvbUpTT04ob2JqZWN0Lm1vZGUpIDogMCxcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIHRvSlNPTihtZXNzYWdlKSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgICAgICBtZXNzYWdlLnR4Qnl0ZXMgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgKG9iai50eEJ5dGVzID0gYmFzZTY0RnJvbUJ5dGVzKG1lc3NhZ2UudHhCeXRlcyAhPT0gdW5kZWZpbmVkID8gbWVzc2FnZS50eEJ5dGVzIDogbmV3IFVpbnQ4QXJyYXkoKSkpO1xuICAgICAgICBtZXNzYWdlLm1vZGUgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgKG9iai5tb2RlID0gYnJvYWRjYXN0TW9kZVRvSlNPTihtZXNzYWdlLm1vZGUpKTtcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9LFxuICAgIGZyb21QYXJ0aWFsKG9iamVjdCkge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUJyb2FkY2FzdFR4UmVxdWVzdCgpO1xuICAgICAgICBtZXNzYWdlLnR4Qnl0ZXMgPSBvYmplY3QudHhCeXRlcyA/PyBuZXcgVWludDhBcnJheSgpO1xuICAgICAgICBtZXNzYWdlLm1vZGUgPSBvYmplY3QubW9kZSA/PyAwO1xuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9LFxufTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VCcm9hZGNhc3RUeFJlc3BvbnNlKCkge1xuICAgIHJldHVybiB7IHR4UmVzcG9uc2U6IHVuZGVmaW5lZCB9O1xufVxuZXhwb3J0IGNvbnN0IEJyb2FkY2FzdFR4UmVzcG9uc2UgPSB7XG4gICAgZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UudHhSZXNwb25zZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBUeFJlc3BvbnNlLmVuY29kZShtZXNzYWdlLnR4UmVzcG9uc2UsIHdyaXRlci51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9LFxuICAgIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VCcm9hZGNhc3RUeFJlc3BvbnNlKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50eFJlc3BvbnNlID0gVHhSZXNwb25zZS5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG4gICAgZnJvbUpTT04ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eFJlc3BvbnNlOiBpc1NldChvYmplY3QudHhSZXNwb25zZSlcbiAgICAgICAgICAgICAgICA/IFR4UmVzcG9uc2UuZnJvbUpTT04ob2JqZWN0LnR4UmVzcG9uc2UpXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgIH07XG4gICAgfSxcbiAgICB0b0pTT04obWVzc2FnZSkge1xuICAgICAgICBjb25zdCBvYmogPSB7fTtcbiAgICAgICAgbWVzc2FnZS50eFJlc3BvbnNlICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIChvYmoudHhSZXNwb25zZSA9IG1lc3NhZ2UudHhSZXNwb25zZVxuICAgICAgICAgICAgICAgID8gVHhSZXNwb25zZS50b0pTT04obWVzc2FnZS50eFJlc3BvbnNlKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkKTtcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9LFxuICAgIGZyb21QYXJ0aWFsKG9iamVjdCkge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUJyb2FkY2FzdFR4UmVzcG9uc2UoKTtcbiAgICAgICAgbWVzc2FnZS50eFJlc3BvbnNlID1cbiAgICAgICAgICAgIG9iamVjdC50eFJlc3BvbnNlICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnR4UmVzcG9uc2UgIT09IG51bGxcbiAgICAgICAgICAgICAgICA/IFR4UmVzcG9uc2UuZnJvbVBhcnRpYWwob2JqZWN0LnR4UmVzcG9uc2UpXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG59O1xuZnVuY3Rpb24gY3JlYXRlQmFzZVNpbXVsYXRlUmVxdWVzdCgpIHtcbiAgICByZXR1cm4geyB0eDogdW5kZWZpbmVkLCB0eEJ5dGVzOiBuZXcgVWludDhBcnJheSgpIH07XG59XG5leHBvcnQgY29uc3QgU2ltdWxhdGVSZXF1ZXN0ID0ge1xuICAgIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLnR4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIFR4LmVuY29kZShtZXNzYWdlLnR4LCB3cml0ZXIudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnR4Qnl0ZXMubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDE4KS5ieXRlcyhtZXNzYWdlLnR4Qnl0ZXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfSxcbiAgICBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlU2ltdWxhdGVSZXF1ZXN0KCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50eCA9IFR4LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50eEJ5dGVzID0gcmVhZGVyLmJ5dGVzKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfSxcbiAgICBmcm9tSlNPTihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR4OiBpc1NldChvYmplY3QudHgpID8gVHguZnJvbUpTT04ob2JqZWN0LnR4KSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHR4Qnl0ZXM6IGlzU2V0KG9iamVjdC50eEJ5dGVzKVxuICAgICAgICAgICAgICAgID8gYnl0ZXNGcm9tQmFzZTY0KG9iamVjdC50eEJ5dGVzKVxuICAgICAgICAgICAgICAgIDogbmV3IFVpbnQ4QXJyYXkoKSxcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIHRvSlNPTihtZXNzYWdlKSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgICAgICBtZXNzYWdlLnR4ICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIChvYmoudHggPSBtZXNzYWdlLnR4ID8gVHgudG9KU09OKG1lc3NhZ2UudHgpIDogdW5kZWZpbmVkKTtcbiAgICAgICAgbWVzc2FnZS50eEJ5dGVzICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIChvYmoudHhCeXRlcyA9IGJhc2U2NEZyb21CeXRlcyhtZXNzYWdlLnR4Qnl0ZXMgIT09IHVuZGVmaW5lZCA/IG1lc3NhZ2UudHhCeXRlcyA6IG5ldyBVaW50OEFycmF5KCkpKTtcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9LFxuICAgIGZyb21QYXJ0aWFsKG9iamVjdCkge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVNpbXVsYXRlUmVxdWVzdCgpO1xuICAgICAgICBtZXNzYWdlLnR4ID1cbiAgICAgICAgICAgIG9iamVjdC50eCAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC50eCAhPT0gbnVsbFxuICAgICAgICAgICAgICAgID8gVHguZnJvbVBhcnRpYWwob2JqZWN0LnR4KVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICBtZXNzYWdlLnR4Qnl0ZXMgPSBvYmplY3QudHhCeXRlcyA/PyBuZXcgVWludDhBcnJheSgpO1xuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9LFxufTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VTaW11bGF0ZVJlc3BvbnNlKCkge1xuICAgIHJldHVybiB7IGdhc0luZm86IHVuZGVmaW5lZCwgcmVzdWx0OiB1bmRlZmluZWQgfTtcbn1cbmV4cG9ydCBjb25zdCBTaW11bGF0ZVJlc3BvbnNlID0ge1xuICAgIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLmdhc0luZm8gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgR2FzSW5mby5lbmNvZGUobWVzc2FnZS5nYXNJbmZvLCB3cml0ZXIudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnJlc3VsdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBSZXN1bHQuZW5jb2RlKG1lc3NhZ2UucmVzdWx0LCB3cml0ZXIudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfSxcbiAgICBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlU2ltdWxhdGVSZXNwb25zZSgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZ2FzSW5mbyA9IEdhc0luZm8uZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnJlc3VsdCA9IFJlc3VsdC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG4gICAgZnJvbUpTT04ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBnYXNJbmZvOiBpc1NldChvYmplY3QuZ2FzSW5mbylcbiAgICAgICAgICAgICAgICA/IEdhc0luZm8uZnJvbUpTT04ob2JqZWN0Lmdhc0luZm8pXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICByZXN1bHQ6IGlzU2V0KG9iamVjdC5yZXN1bHQpID8gUmVzdWx0LmZyb21KU09OKG9iamVjdC5yZXN1bHQpIDogdW5kZWZpbmVkLFxuICAgICAgICB9O1xuICAgIH0sXG4gICAgdG9KU09OKG1lc3NhZ2UpIHtcbiAgICAgICAgY29uc3Qgb2JqID0ge307XG4gICAgICAgIG1lc3NhZ2UuZ2FzSW5mbyAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAob2JqLmdhc0luZm8gPSBtZXNzYWdlLmdhc0luZm9cbiAgICAgICAgICAgICAgICA/IEdhc0luZm8udG9KU09OKG1lc3NhZ2UuZ2FzSW5mbylcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCk7XG4gICAgICAgIG1lc3NhZ2UucmVzdWx0ICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIChvYmoucmVzdWx0ID0gbWVzc2FnZS5yZXN1bHQgPyBSZXN1bHQudG9KU09OKG1lc3NhZ2UucmVzdWx0KSA6IHVuZGVmaW5lZCk7XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfSxcbiAgICBmcm9tUGFydGlhbChvYmplY3QpIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VTaW11bGF0ZVJlc3BvbnNlKCk7XG4gICAgICAgIG1lc3NhZ2UuZ2FzSW5mbyA9XG4gICAgICAgICAgICBvYmplY3QuZ2FzSW5mbyAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5nYXNJbmZvICE9PSBudWxsXG4gICAgICAgICAgICAgICAgPyBHYXNJbmZvLmZyb21QYXJ0aWFsKG9iamVjdC5nYXNJbmZvKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICBtZXNzYWdlLnJlc3VsdCA9XG4gICAgICAgICAgICBvYmplY3QucmVzdWx0ICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnJlc3VsdCAhPT0gbnVsbFxuICAgICAgICAgICAgICAgID8gUmVzdWx0LmZyb21QYXJ0aWFsKG9iamVjdC5yZXN1bHQpXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG59O1xuZnVuY3Rpb24gY3JlYXRlQmFzZUdldFR4UmVxdWVzdCgpIHtcbiAgICByZXR1cm4geyBoYXNoOiBcIlwiIH07XG59XG5leHBvcnQgY29uc3QgR2V0VHhSZXF1ZXN0ID0ge1xuICAgIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLmhhc2ggIT09IFwiXCIpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTApLnN0cmluZyhtZXNzYWdlLmhhc2gpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfSxcbiAgICBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlR2V0VHhSZXF1ZXN0KCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5oYXNoID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG4gICAgZnJvbUpTT04ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBoYXNoOiBpc1NldChvYmplY3QuaGFzaCkgPyBTdHJpbmcob2JqZWN0Lmhhc2gpIDogXCJcIixcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIHRvSlNPTihtZXNzYWdlKSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgICAgICBtZXNzYWdlLmhhc2ggIT09IHVuZGVmaW5lZCAmJiAob2JqLmhhc2ggPSBtZXNzYWdlLmhhc2gpO1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH0sXG4gICAgZnJvbVBhcnRpYWwob2JqZWN0KSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlR2V0VHhSZXF1ZXN0KCk7XG4gICAgICAgIG1lc3NhZ2UuaGFzaCA9IG9iamVjdC5oYXNoID8/IFwiXCI7XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG59O1xuZnVuY3Rpb24gY3JlYXRlQmFzZUdldFR4UmVzcG9uc2UoKSB7XG4gICAgcmV0dXJuIHsgdHg6IHVuZGVmaW5lZCwgdHhSZXNwb25zZTogdW5kZWZpbmVkIH07XG59XG5leHBvcnQgY29uc3QgR2V0VHhSZXNwb25zZSA9IHtcbiAgICBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS50eCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBUeC5lbmNvZGUobWVzc2FnZS50eCwgd3JpdGVyLnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS50eFJlc3BvbnNlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIFR4UmVzcG9uc2UuZW5jb2RlKG1lc3NhZ2UudHhSZXNwb25zZSwgd3JpdGVyLnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH0sXG4gICAgZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUdldFR4UmVzcG9uc2UoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnR4ID0gVHguZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnR4UmVzcG9uc2UgPSBUeFJlc3BvbnNlLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfSxcbiAgICBmcm9tSlNPTihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR4OiBpc1NldChvYmplY3QudHgpID8gVHguZnJvbUpTT04ob2JqZWN0LnR4KSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHR4UmVzcG9uc2U6IGlzU2V0KG9iamVjdC50eFJlc3BvbnNlKVxuICAgICAgICAgICAgICAgID8gVHhSZXNwb25zZS5mcm9tSlNPTihvYmplY3QudHhSZXNwb25zZSlcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIHRvSlNPTihtZXNzYWdlKSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgICAgICBtZXNzYWdlLnR4ICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIChvYmoudHggPSBtZXNzYWdlLnR4ID8gVHgudG9KU09OKG1lc3NhZ2UudHgpIDogdW5kZWZpbmVkKTtcbiAgICAgICAgbWVzc2FnZS50eFJlc3BvbnNlICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIChvYmoudHhSZXNwb25zZSA9IG1lc3NhZ2UudHhSZXNwb25zZVxuICAgICAgICAgICAgICAgID8gVHhSZXNwb25zZS50b0pTT04obWVzc2FnZS50eFJlc3BvbnNlKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkKTtcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9LFxuICAgIGZyb21QYXJ0aWFsKG9iamVjdCkge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUdldFR4UmVzcG9uc2UoKTtcbiAgICAgICAgbWVzc2FnZS50eCA9XG4gICAgICAgICAgICBvYmplY3QudHggIT09IHVuZGVmaW5lZCAmJiBvYmplY3QudHggIT09IG51bGxcbiAgICAgICAgICAgICAgICA/IFR4LmZyb21QYXJ0aWFsKG9iamVjdC50eClcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgbWVzc2FnZS50eFJlc3BvbnNlID1cbiAgICAgICAgICAgIG9iamVjdC50eFJlc3BvbnNlICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnR4UmVzcG9uc2UgIT09IG51bGxcbiAgICAgICAgICAgICAgICA/IFR4UmVzcG9uc2UuZnJvbVBhcnRpYWwob2JqZWN0LnR4UmVzcG9uc2UpXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH0sXG59O1xuZXhwb3J0IGNsYXNzIFNlcnZpY2VDbGllbnRJbXBsIHtcbiAgICBycGM7XG4gICAgY29uc3RydWN0b3IocnBjKSB7XG4gICAgICAgIHRoaXMucnBjID0gcnBjO1xuICAgICAgICB0aGlzLnNpbXVsYXRlID0gdGhpcy5zaW11bGF0ZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmdldFR4ID0gdGhpcy5nZXRUeC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmJyb2FkY2FzdFR4ID0gdGhpcy5icm9hZGNhc3RUeC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmdldFR4c0V2ZW50ID0gdGhpcy5nZXRUeHNFdmVudC5iaW5kKHRoaXMpO1xuICAgIH1cbiAgICBzaW11bGF0ZShyZXF1ZXN0LCBtZXRhZGF0YSkge1xuICAgICAgICByZXR1cm4gdGhpcy5ycGMudW5hcnkoU2VydmljZVNpbXVsYXRlRGVzYywgU2ltdWxhdGVSZXF1ZXN0LmZyb21QYXJ0aWFsKHJlcXVlc3QpLCBtZXRhZGF0YSk7XG4gICAgfVxuICAgIGdldFR4KHJlcXVlc3QsIG1ldGFkYXRhKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJwYy51bmFyeShTZXJ2aWNlR2V0VHhEZXNjLCBHZXRUeFJlcXVlc3QuZnJvbVBhcnRpYWwocmVxdWVzdCksIG1ldGFkYXRhKTtcbiAgICB9XG4gICAgYnJvYWRjYXN0VHgocmVxdWVzdCwgbWV0YWRhdGEpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucnBjLnVuYXJ5KFNlcnZpY2VCcm9hZGNhc3RUeERlc2MsIEJyb2FkY2FzdFR4UmVxdWVzdC5mcm9tUGFydGlhbChyZXF1ZXN0KSwgbWV0YWRhdGEpO1xuICAgIH1cbiAgICBnZXRUeHNFdmVudChyZXF1ZXN0LCBtZXRhZGF0YSkge1xuICAgICAgICByZXR1cm4gdGhpcy5ycGMudW5hcnkoU2VydmljZUdldFR4c0V2ZW50RGVzYywgR2V0VHhzRXZlbnRSZXF1ZXN0LmZyb21QYXJ0aWFsKHJlcXVlc3QpLCBtZXRhZGF0YSk7XG4gICAgfVxufVxuZXhwb3J0IGNvbnN0IFNlcnZpY2VEZXNjID0ge1xuICAgIHNlcnZpY2VOYW1lOiBcImNvc21vcy50eC52MWJldGExLlNlcnZpY2VcIixcbn07XG5leHBvcnQgY29uc3QgU2VydmljZVNpbXVsYXRlRGVzYyA9IHtcbiAgICBtZXRob2ROYW1lOiBcIlNpbXVsYXRlXCIsXG4gICAgc2VydmljZTogU2VydmljZURlc2MsXG4gICAgcmVxdWVzdFN0cmVhbTogZmFsc2UsXG4gICAgcmVzcG9uc2VTdHJlYW06IGZhbHNlLFxuICAgIHJlcXVlc3RUeXBlOiB7XG4gICAgICAgIHNlcmlhbGl6ZUJpbmFyeSgpIHtcbiAgICAgICAgICAgIHJldHVybiBTaW11bGF0ZVJlcXVlc3QuZW5jb2RlKHRoaXMpLmZpbmlzaCgpO1xuICAgICAgICB9LFxuICAgIH0sXG4gICAgcmVzcG9uc2VUeXBlOiB7XG4gICAgICAgIGRlc2VyaWFsaXplQmluYXJ5KGRhdGEpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgLi4uU2ltdWxhdGVSZXNwb25zZS5kZWNvZGUoZGF0YSksXG4gICAgICAgICAgICAgICAgdG9PYmplY3QoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgIH0sXG59O1xuZXhwb3J0IGNvbnN0IFNlcnZpY2VHZXRUeERlc2MgPSB7XG4gICAgbWV0aG9kTmFtZTogXCJHZXRUeFwiLFxuICAgIHNlcnZpY2U6IFNlcnZpY2VEZXNjLFxuICAgIHJlcXVlc3RTdHJlYW06IGZhbHNlLFxuICAgIHJlc3BvbnNlU3RyZWFtOiBmYWxzZSxcbiAgICByZXF1ZXN0VHlwZToge1xuICAgICAgICBzZXJpYWxpemVCaW5hcnkoKSB7XG4gICAgICAgICAgICByZXR1cm4gR2V0VHhSZXF1ZXN0LmVuY29kZSh0aGlzKS5maW5pc2goKTtcbiAgICAgICAgfSxcbiAgICB9LFxuICAgIHJlc3BvbnNlVHlwZToge1xuICAgICAgICBkZXNlcmlhbGl6ZUJpbmFyeShkYXRhKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIC4uLkdldFR4UmVzcG9uc2UuZGVjb2RlKGRhdGEpLFxuICAgICAgICAgICAgICAgIHRvT2JqZWN0KCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICB9LFxufTtcbmV4cG9ydCBjb25zdCBTZXJ2aWNlQnJvYWRjYXN0VHhEZXNjID0ge1xuICAgIG1ldGhvZE5hbWU6IFwiQnJvYWRjYXN0VHhcIixcbiAgICBzZXJ2aWNlOiBTZXJ2aWNlRGVzYyxcbiAgICByZXF1ZXN0U3RyZWFtOiBmYWxzZSxcbiAgICByZXNwb25zZVN0cmVhbTogZmFsc2UsXG4gICAgcmVxdWVzdFR5cGU6IHtcbiAgICAgICAgc2VyaWFsaXplQmluYXJ5KCkge1xuICAgICAgICAgICAgcmV0dXJuIEJyb2FkY2FzdFR4UmVxdWVzdC5lbmNvZGUodGhpcykuZmluaXNoKCk7XG4gICAgICAgIH0sXG4gICAgfSxcbiAgICByZXNwb25zZVR5cGU6IHtcbiAgICAgICAgZGVzZXJpYWxpemVCaW5hcnkoZGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAuLi5Ccm9hZGNhc3RUeFJlc3BvbnNlLmRlY29kZShkYXRhKSxcbiAgICAgICAgICAgICAgICB0b09iamVjdCgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgfSxcbn07XG5leHBvcnQgY29uc3QgU2VydmljZUdldFR4c0V2ZW50RGVzYyA9IHtcbiAgICBtZXRob2ROYW1lOiBcIkdldFR4c0V2ZW50XCIsXG4gICAgc2VydmljZTogU2VydmljZURlc2MsXG4gICAgcmVxdWVzdFN0cmVhbTogZmFsc2UsXG4gICAgcmVzcG9uc2VTdHJlYW06IGZhbHNlLFxuICAgIHJlcXVlc3RUeXBlOiB7XG4gICAgICAgIHNlcmlhbGl6ZUJpbmFyeSgpIHtcbiAgICAgICAgICAgIHJldHVybiBHZXRUeHNFdmVudFJlcXVlc3QuZW5jb2RlKHRoaXMpLmZpbmlzaCgpO1xuICAgICAgICB9LFxuICAgIH0sXG4gICAgcmVzcG9uc2VUeXBlOiB7XG4gICAgICAgIGRlc2VyaWFsaXplQmluYXJ5KGRhdGEpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgLi4uR2V0VHhzRXZlbnRSZXNwb25zZS5kZWNvZGUoZGF0YSksXG4gICAgICAgICAgICAgICAgdG9PYmplY3QoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgIH0sXG59O1xuZXhwb3J0IGNsYXNzIEdycGNXZWJJbXBsIHtcbiAgICBob3N0O1xuICAgIG9wdGlvbnM7XG4gICAgY29uc3RydWN0b3IoaG9zdCwgb3B0aW9ucykge1xuICAgICAgICB0aGlzLmhvc3QgPSBob3N0O1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIH1cbiAgICB1bmFyeShtZXRob2REZXNjLCBfcmVxdWVzdCwgbWV0YWRhdGEpIHtcbiAgICAgICAgY29uc3QgcmVxdWVzdCA9IHsgLi4uX3JlcXVlc3QsIC4uLm1ldGhvZERlc2MucmVxdWVzdFR5cGUgfTtcbiAgICAgICAgY29uc3QgbWF5YmVDb21iaW5lZE1ldGFkYXRhID0gbWV0YWRhdGEgJiYgdGhpcy5vcHRpb25zLm1ldGFkYXRhXG4gICAgICAgICAgICA/IG5ldyBCcm93c2VySGVhZGVycyh7XG4gICAgICAgICAgICAgICAgLi4udGhpcy5vcHRpb25zPy5tZXRhZGF0YS5oZWFkZXJzTWFwLFxuICAgICAgICAgICAgICAgIC4uLm1ldGFkYXRhPy5oZWFkZXJzTWFwLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIDogbWV0YWRhdGEgfHwgdGhpcy5vcHRpb25zLm1ldGFkYXRhO1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgZ3JwYy51bmFyeShtZXRob2REZXNjLCB7XG4gICAgICAgICAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgICAgICAgICBob3N0OiB0aGlzLmhvc3QsXG4gICAgICAgICAgICAgICAgbWV0YWRhdGE6IG1heWJlQ29tYmluZWRNZXRhZGF0YSxcbiAgICAgICAgICAgICAgICB0cmFuc3BvcnQ6IHRoaXMub3B0aW9ucy50cmFuc3BvcnQsXG4gICAgICAgICAgICAgICAgZGVidWc6IHRoaXMub3B0aW9ucy5kZWJ1ZyxcbiAgICAgICAgICAgICAgICBvbkVuZDogZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IGdycGMuQ29kZS5PSykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXNwb25zZS5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVyciA9IG5ldyBFcnJvcihyZXNwb25zZS5zdGF0dXNNZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVyci5jb2RlID0gcmVzcG9uc2Uuc3RhdHVzO1xuICAgICAgICAgICAgICAgICAgICAgICAgZXJyLm1ldGFkYXRhID0gcmVzcG9uc2UudHJhaWxlcnM7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxudmFyIGdsb2JhbFRoaXMgPSAoKCkgPT4ge1xuICAgIGlmICh0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gXCJ1bmRlZmluZWRcIilcbiAgICAgICAgcmV0dXJuIGdsb2JhbFRoaXM7XG4gICAgaWYgKHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiKVxuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIilcbiAgICAgICAgcmV0dXJuIHdpbmRvdztcbiAgICBpZiAodHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIilcbiAgICAgICAgcmV0dXJuIGdsb2JhbDtcbiAgICB0aHJvdyBcIlVuYWJsZSB0byBsb2NhdGUgZ2xvYmFsIG9iamVjdFwiO1xufSkoKTtcbmNvbnN0IGF0b2IgPSBnbG9iYWxUaGlzLmF0b2IgfHxcbiAgICAoKGI2NCkgPT4gZ2xvYmFsVGhpcy5CdWZmZXIuZnJvbShiNjQsIFwiYmFzZTY0XCIpLnRvU3RyaW5nKFwiYmluYXJ5XCIpKTtcbmZ1bmN0aW9uIGJ5dGVzRnJvbUJhc2U2NChiNjQpIHtcbiAgICBjb25zdCBiaW4gPSBhdG9iKGI2NCk7XG4gICAgY29uc3QgYXJyID0gbmV3IFVpbnQ4QXJyYXkoYmluLmxlbmd0aCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBiaW4ubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgYXJyW2ldID0gYmluLmNoYXJDb2RlQXQoaSk7XG4gICAgfVxuICAgIHJldHVybiBhcnI7XG59XG5jb25zdCBidG9hID0gZ2xvYmFsVGhpcy5idG9hIHx8XG4gICAgKChiaW4pID0+IGdsb2JhbFRoaXMuQnVmZmVyLmZyb20oYmluLCBcImJpbmFyeVwiKS50b1N0cmluZyhcImJhc2U2NFwiKSk7XG5mdW5jdGlvbiBiYXNlNjRGcm9tQnl0ZXMoYXJyKSB7XG4gICAgY29uc3QgYmluID0gW107XG4gICAgYXJyLmZvckVhY2goKGJ5dGUpID0+IHtcbiAgICAgICAgYmluLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZShieXRlKSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGJ0b2EoYmluLmpvaW4oXCJcIikpO1xufVxuZnVuY3Rpb24gaXNTZXQodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09IHVuZGVmaW5lZDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNlcnZpY2UuanMubWFwIiwiaW1wb3J0IHR5cGUgeyBCZWNoMzIsIENoYWluLCBDaGFpblBhdGgsIEZhbWlseSwgSG9sZGluZ1BhdGggfSBmcm9tICcjL21ldGEvY2hhaW4nO1xuaW1wb3J0IHR5cGUgeyBOZXR3b3JrIH0gZnJvbSAnIy9tZXRhL25ldHdvcmsnO1xuaW1wb3J0IHsgQ2hhaW5zIH0gZnJvbSAnIy9zdG9yZS9jaGFpbnMnO1xuaW1wb3J0IHsgRW50aXRpZXMgfSBmcm9tICcjL3N0b3JlL2VudGl0aWVzJztcbmltcG9ydCB0eXBlIHsgQWN0aXZlTmV0d29yaywgQmFsYW5jZUJ1bmRsZSwgQ2FjaGVkLCBUcmFuc2ZlciwgV3NUeFJlc3VsdCB9IGZyb20gJyMvc3RvcmUvbmV0d29ya3MnO1xuaW1wb3J0IHsgUXVlcnlDYWNoZSB9IGZyb20gJyMvc3RvcmUvcXVlcnktY2FjaGUnO1xuaW1wb3J0IHsgRGljdCwgZm9sZCwgSnNvbk9iamVjdCwgb2Rlcm9tLCBQcm9taXNhYmxlIH0gZnJvbSAnIy91dGlsL2JlbHQnO1xuaW1wb3J0IHtncnBjfSBmcm9tICdAaW1wcm9iYWJsZS1lbmcvZ3JwYy13ZWInO1xuaW1wb3J0IHtHcnBjV2ViSW1wbCwgUXVlcnlCYWxhbmNlUmVzcG9uc2UsIFF1ZXJ5Q2xpZW50SW1wbH0gZnJvbSAnY29zbW9zLWdycGMvZGlzdC9jb3Ntb3MvYmFuay92MWJldGExL3F1ZXJ5JztcbmltcG9ydCB0eXBlIHsgQ29pbiB9IGZyb20gJ2Nvc21vcy1ncnBjL2Rpc3QvY29zbW9zL2Jhc2UvdjFiZXRhMS9jb2luJztcbmltcG9ydCB7IFNlcnZpY2VHZXRUeHNFdmVudERlc2MsIEdldFR4c0V2ZW50UmVxdWVzdCwgR2V0VHhzRXZlbnRSZXNwb25zZSwgU2VydmljZUNsaWVudEltcGwsIE9yZGVyQnkgfSBmcm9tICdjb3Ntb3MtZ3JwYy9kaXN0L2Nvc21vcy90eC92MWJldGExL3NlcnZpY2UnO1xuaW1wb3J0IHR5cGUgeyBUeFJlc3VsdCB9IGZyb20gJ2Nvc21vcy1ncnBjL2Rpc3QvdGVuZGVybWludC9hYmNpL3R5cGVzJztcblxuZXhwb3J0IGludGVyZmFjZSBUeXBlZEV2ZW50IHtcblx0dHlwZTogJ3RyYW5zZmVyJyB8ICdtZXNzYWdlJyB8ICdjb2luX3NwZW50JyB8ICdjb2luX3JlY2VpdmVkJztcblx0YXR0cmlidXRlczoge1xuXHRcdGtleTogc3RyaW5nO1xuXHRcdHZhbHVlOiBzdHJpbmc7XG5cdH1bXTtcbn1cblxuZXhwb3J0IGNvbnN0IGZvbGRfYXR0cnMgPSAoZ19ldmVudDogVHlwZWRFdmVudCk6IERpY3QgPT4gZm9sZChnX2V2ZW50LmF0dHJpYnV0ZXMsIGdfYXR0ciA9PiAoe1xuXHRbZ19hdHRyLmtleV06IGdfYXR0ci52YWx1ZSxcbn0pKTtcblxuXG5leHBvcnQgY2xhc3MgQ29zbW9zTmV0d29yayBpbXBsZW1lbnRzIEFjdGl2ZU5ldHdvcmsge1xuXHRwcml2YXRlIHJlYWRvbmx5IF9wX2NoYWluOiBDaGFpblBhdGg7XG5cdHByaXZhdGUgcmVhZG9ubHkgX3lfZ3JwYzogR3JwY1dlYkltcGw7XG5cdHByaXZhdGUgX2tzX2NhY2hlOiBBd2FpdGVkPFJldHVyblR5cGU8dHlwZW9mIFF1ZXJ5Q2FjaGUucmVhZD4+O1xuXG5cdGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgX2dfbmV0d29yazogTmV0d29ya1snaW50ZXJmYWNlJ10sIHByaXZhdGUgcmVhZG9ubHkgX2dfY2hhaW46IENoYWluWydpbnRlcmZhY2UnXSkge1xuXHRcdHRoaXMuX3BfY2hhaW4gPSBDaGFpbnMucGF0aEZyb20oX2dfY2hhaW4pO1xuXG5cdFx0dGhpcy5feV9ncnBjID0gbmV3IEdycGNXZWJJbXBsKF9nX25ldHdvcmsuZ3JwY1dlYlVybCwge1xuXHRcdFx0dHJhbnNwb3J0OiBncnBjLkNyb3NzQnJvd3Nlckh0dHBUcmFuc3BvcnQoe3dpdGhDcmVkZW50aWFsczpmYWxzZX0pLFxuXHRcdH0pO1xuXG5cdFx0dm9pZCB0aGlzLnJlbG9hZENhY2hlZCgpO1xuXHR9XG5cblx0YXN5bmMgcmVsb2FkQ2FjaGVkKCk6IFByb21pc2U8dm9pZD4ge1xuXHRcdHRoaXMuX2tzX2NhY2hlID0gYXdhaXQgUXVlcnlDYWNoZS5yZWFkKCk7XG5cdH1cblxuXHRjYWNoZWRCYWxhbmNlKHNhX293bmVyOiBzdHJpbmcsIHNpX2NvaW46IHN0cmluZyk6IENhY2hlZDxDb2luPiB8IG51bGwge1xuXHRcdGNvbnN0IHBfaG9sZGluZyA9IEVudGl0aWVzLmhvbGRpbmdQYXRoRm9yKHNhX293bmVyLCBzaV9jb2luLCB0aGlzLl9wX2NoYWluKTtcblxuXHRcdHJldHVybiB0aGlzLl9rc19jYWNoZS5hdChwX2hvbGRpbmcpIGFzIENhY2hlZDxDb2luPiB8IG51bGw7XG5cdH1cblxuXHRhc3luYyBfdXBkYXRlX2JhbGFuY2Uoc2Ffb3duZXI6IHN0cmluZywgc2lfY29pbjogc3RyaW5nLCBnX2JhbGFuY2U6IENvaW4sIHh0X3doZW46IG51bWJlcik6IFByb21pc2U8W0hvbGRpbmdQYXRoLCBDYWNoZWQ8Q29pbj4gfCBudWxsXT4ge1xuXHRcdGNvbnN0IHBfaG9sZGluZyA9IEVudGl0aWVzLmhvbGRpbmdQYXRoRm9yKHNhX293bmVyLCBzaV9jb2luLCB0aGlzLl9wX2NoYWluKTtcblxuXHRcdC8vIHJlYWQgZnJvbSBjYWNoZVxuXHRcdGNvbnN0IGdfY2FjaGVkID0gdGhpcy5fa3NfY2FjaGUuYXQocF9ob2xkaW5nKSBhcyBDYWNoZWQ8Q29pbj4gfCBudWxsO1xuXG5cdFx0Ly8gdXBkYXRlIGNhY2hlXG5cdFx0YXdhaXQgUXVlcnlDYWNoZS5vcGVuKGFzeW5jKGtzKSA9PiB7XG5cdFx0XHQvLyB1cGRhdGUgZW50cnlcblx0XHRcdGF3YWl0IGtzLnNldChwX2hvbGRpbmcsIHtcblx0XHRcdFx0dGltZXN0YW1wOiB4dF93aGVuLFxuXHRcdFx0XHRkYXRhOiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGdfYmFsYW5jZSkpLFxuXHRcdFx0fSk7XG5cblx0XHRcdC8vIHJlc2V0IGNhY2hlZCBzdG9yZSBpbnN0YW5jZVxuXHRcdFx0dGhpcy5fa3NfY2FjaGUgPSBrcztcblx0XHR9KTtcblxuXHRcdC8vIHJldHVybiB1cGRhdGVkIGJhbGFuY2UgYW5kIGNhY2hlZFxuXHRcdHJldHVybiBbcF9ob2xkaW5nLCBnX2NhY2hlZF07XG5cdH1cblxuXHRhc3luYyBiYW5rQmFsYW5jZShzYV9vd25lcjogQmVjaDMyLlN0cmluZywgc2lfY29pbj86IHN0cmluZywgeHRfc2luY2U9MCk6IFByb21pc2U8QmFsYW5jZUJ1bmRsZT4ge1xuXHRcdGNvbnN0IHh0X3JlcSA9IERhdGUubm93KCk7XG5cblx0XHQvLyBub3JtYWxpemUgY29pbiBpZFxuXHRcdHNpX2NvaW4gPSBzaV9jb2luIHx8IE9iamVjdC5rZXlzKHRoaXMuX2dfY2hhaW4uY29pbnMpWzBdO1xuXG5cdFx0Ly8gLy8gbm9ybWFsaXplIHNpbmNlXG5cdFx0Ly8gaWYoeHRfc2luY2UgPD0gMCkgeHRfc2luY2UgKz0geHRfcmVxO1xuXG5cdFx0Ly8gLy8gcmVhZCBjYWNoZVxuXHRcdC8vIGNvbnN0IGdfY2FjaGVkID0gdGhpcy5jYWNoZWRCYWxhbmNlKHNhX293bmVyLCBzaV9jb2luKTtcblxuXHRcdC8vIC8vIGNhY2hlIGlzIHdpdGhpbiBhc2tpbmcgdGltZVxuXHRcdC8vIGlmKGdfY2FjaGVkPy50aW1lc3RhbXAgPj0geHRfc2luY2UpIHtcblx0XHQvLyBcdHJldHVybiBcblx0XHQvLyB9XG5cblx0XHQvLyBxdWVyeSBiYWxhbmNlXG5cdFx0Y29uc3QgZ19yZXNwb25zZSA9IGF3YWl0IG5ldyBRdWVyeUNsaWVudEltcGwodGhpcy5feV9ncnBjKS5iYWxhbmNlKHtcblx0XHRcdGFkZHJlc3M6IHNhX293bmVyLFxuXHRcdFx0ZGVub206IHRoaXMuX2dfY2hhaW4uY29pbnNbc2lfY29pbl0uZGVub20sXG5cdFx0fSk7XG5cblx0XHRjb25zdCB7XG5cdFx0XHRiYWxhbmNlOiBnX2JhbGFuY2UsXG5cdFx0fSA9IGdfcmVzcG9uc2U7XG5cblx0XHQvLyBubyByZXNwb25zZVxuXHRcdGlmKCFnX2JhbGFuY2UpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGZldGNoIGJhbGFuY2VgKTtcblx0XHR9XG5cblx0XHQvLyByZXR1cm4gdXBkYXRlZCBiYWxhbmNlXG5cdFx0Y29uc3QgW3BfaG9sZGluZywgZ19jYWNoZWRdID0gYXdhaXQgdGhpcy5fdXBkYXRlX2JhbGFuY2Uoc2Ffb3duZXIsIHNpX2NvaW4sIGdfYmFsYW5jZSwgeHRfcmVxKTtcblx0XHRyZXR1cm4ge1xuXHRcdFx0YmFsYW5jZTogZ19iYWxhbmNlLFxuXHRcdFx0Y2FjaGVkOiBnX2NhY2hlZCxcblx0XHRcdGhvbGRpbmc6IHBfaG9sZGluZyxcblx0XHR9IGFzIEJhbGFuY2VCdW5kbGU7XG5cdH1cblxuXHRhc3luYyBiYW5rQmFsYW5jZXMoc2Ffb3duZXI6IEJlY2gzMi5TdHJpbmcpOiBQcm9taXNlPERpY3Q8QmFsYW5jZUJ1bmRsZT4+IHtcblx0XHRjb25zdCB4dF9yZXEgPSBEYXRlLm5vdygpO1xuXG5cdFx0Y29uc3QgZ19yZXNwb25zZSA9IGF3YWl0IG5ldyBRdWVyeUNsaWVudEltcGwodGhpcy5feV9ncnBjKS5hbGxCYWxhbmNlcyh7XG5cdFx0XHRhZGRyZXNzOiBzYV9vd25lcixcblx0XHR9KTtcblxuXHRcdGNvbnN0IHtcblx0XHRcdGJhbGFuY2VzOiBhX2JhbGFuY2VzLFxuXHRcdH0gPSBnX3Jlc3BvbnNlO1xuXG5cdFx0Ly8gcmVmIGNvaW5zXG5cdFx0Y29uc3QgaF9jb2lucyA9IHRoaXMuX2dfY2hhaW4uY29pbnM7XG5cblx0XHQvLyBjcmVhdGUgbG9va3VwIHRhYmxlIGZvciBkZW5vbXNcblx0XHRjb25zdCBoX2Rlbm9tcyA9IG9kZXJvbShoX2NvaW5zLCAoc2lfY29pbiwgZ19jb2luKSA9PiAoe1xuXHRcdFx0W2dfY29pbi5kZW5vbV06IHNpX2NvaW4sXG5cdFx0fSkpO1xuXG5cdFx0Ly8gcHJlcCBvdXRwdXRzXG5cdFx0Y29uc3QgaF9vdXRzOiBEaWN0PEJhbGFuY2VCdW5kbGU+ID0ge307XG5cblx0XHQvLyBlYWNoIHJldHVybmVkIGJhbGFuY2Vcblx0XHRmb3IoY29uc3QgZ19iYWxhbmNlIG9mIGFfYmFsYW5jZXMpIHtcblx0XHRcdC8vIGxvb2t1cCBjb2luXG5cdFx0XHRjb25zdCBzaV9jb2luID0gaF9kZW5vbXNbZ19iYWxhbmNlLmRlbm9tXTtcblx0XHRcdGNvbnN0IGdfY29pbiA9IGhfY29pbnNbc2lfY29pbl07XG5cblx0XHRcdC8vIGFkZCB0dXBsZSB0byBkaWN0XG5cdFx0XHRjb25zdCBbcF9ob2xkaW5nLCBnX2NhY2hlZF0gPSBhd2FpdCB0aGlzLl91cGRhdGVfYmFsYW5jZShzYV9vd25lciwgc2lfY29pbiwgZ19iYWxhbmNlLCB4dF9yZXEpO1xuXHRcdFx0aF9vdXRzW3NpX2NvaW5dID0ge1xuXHRcdFx0XHRiYWxhbmNlOiBnX2JhbGFuY2UsXG5cdFx0XHRcdGNhY2hlZDogZ19jYWNoZWQsXG5cdFx0XHRcdGhvbGRpbmc6IHBfaG9sZGluZyxcblx0XHRcdH0gYXMgQmFsYW5jZUJ1bmRsZTtcblx0XHR9XG5cblx0XHRyZXR1cm4gaF9vdXRzO1xuXHR9XG5cblx0Z2V0IGhhc1JwYygpOiBib29sZWFuIHtcblx0XHRyZXR1cm4gISF0aGlzLl9nX25ldHdvcmsucnBjSG9zdDtcblx0fVxuXG5cdGxpc3RlbihhX2V2ZW50czogc3RyaW5nW10sIGZrZV9yZWNlaXZlOiAoZF9raWxsOiBFdmVudCB8IG51bGwsIGdfdmFsdWU/OiBKc29uT2JqZWN0KSA9PiBQcm9taXNhYmxlPHZvaWQ+KTogKCkgPT4gdm9pZCB7XG5cdFx0Y29uc3QgcF9ob3N0ID0gdGhpcy5fZ19uZXR3b3JrLnJwY0hvc3Q7XG5cblx0XHRpZighcF9ob3N0KSB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBzdWJzY3JpYmUgdG8gZXZlbnRzOyBubyBSUEMgaG9zdCBjb25maWd1cmVkIG9uIG5ldHdvcmsnKTtcblxuXHRcdGNvbnN0IGRfd3MgPSBuZXcgV2ViU29ja2V0KGB3c3M6Ly8ke3BfaG9zdH0vd2Vic29ja2V0YCk7XG5cblx0XHRkX3dzLm9ub3BlbiA9IChkX2V2ZW50KSA9PiB7XG5cdFx0XHRkX3dzLnNlbmQoSlNPTi5zdHJpbmdpZnkoe1xuXHRcdFx0XHRqc29ucnBjOiAnMi4wJyxcblx0XHRcdFx0bWV0aG9kOiAnc3Vic2NyaWJlJyxcblx0XHRcdFx0aWQ6ICcwJyxcblx0XHRcdFx0cGFyYW1zOiB7XG5cdFx0XHRcdFx0cXVlcnk6IGFfZXZlbnRzLmpvaW4oJyBBTkQgJyksXG5cdFx0XHRcdH0sXG5cdFx0XHR9KSk7XG5cdFx0fTtcblxuXHRcdGRfd3Mub25tZXNzYWdlID0gKGRfZXZlbnQ6IE1lc3NhZ2VFdmVudDxzdHJpbmc+KSA9PiB7XG5cdFx0XHQvLyBjb25zb2xlLmxvZyhkX2V2ZW50LmRhdGEpO1xuXG5cdFx0XHRjb25zdCBnX21zZyA9IEpTT04ucGFyc2UoZF9ldmVudC5kYXRhIHx8ICd7fScpO1xuXG5cdFx0XHRjb25zdCBnX3ZhbHVlID0gZ19tc2c/LnJlc3VsdD8uZGF0YT8udmFsdWU7XG5cblx0XHRcdGlmKGdfdmFsdWUpIHtcblx0XHRcdFx0dm9pZCBma2VfcmVjZWl2ZShudWxsLCBnX3ZhbHVlIGFzIEpzb25PYmplY3QpO1xuXHRcdFx0fVxuXHRcdH07XG5cblx0XHRsZXQgYl91c2VyX2Nsb3NlZCA9IGZhbHNlO1xuXHRcdGRfd3Mub25jbG9zZSA9IChkX2V2ZW50KSA9PiB7XG5cdFx0XHRpZighYl91c2VyX2Nsb3NlZCkge1xuXHRcdFx0XHR2b2lkIGZrZV9yZWNlaXZlKGRfZXZlbnQpO1xuXHRcdFx0fVxuXHRcdH07XG5cblx0XHRkX3dzLm9uZXJyb3IgPSAoZF9ldmVudCkgPT4ge1xuXHRcdFx0dm9pZCBma2VfcmVjZWl2ZShkX2V2ZW50KTtcblx0XHR9O1xuXG5cdFx0cmV0dXJuICgpID0+IHtcblx0XHRcdGJfdXNlcl9jbG9zZWQgPSB0cnVlO1xuXHRcdFx0ZF93cy5jbG9zZSgpO1xuXHRcdH07XG5cdH1cblxuXG5cdG9uUmVjZWl2ZShzYV9vd25lcjogQmVjaDMyLlN0cmluZywgZmtlX3JlY2VpdmU6IChkX2tpbGw6IEV2ZW50IHwgbnVsbCwgZ190eD86IFdzVHhSZXN1bHQpID0+IFByb21pc2FibGU8dm9pZD4pOiAoKSA9PiB2b2lkIHtcblx0XHRyZXR1cm4gdGhpcy5saXN0ZW4oW1xuXHRcdFx0YHRtLmV2ZW50PSdUeCdgLFxuXHRcdFx0YHRyYW5zZmVyLnJlY2lwaWVudD0nJHtzYV9vd25lcn0nYCxcblx0XHRdLCAoZF9raWxsLCBnX3ZhbHVlKSA9PiB7XG5cdFx0XHR2b2lkIGZrZV9yZWNlaXZlKGRfa2lsbCwgKGdfdmFsdWU/LlR4UmVzdWx0IHx8IHZvaWQgMCkgYXMgV3NUeFJlc3VsdCB8IHVuZGVmaW5lZCk7XG5cdFx0fSk7XG5cdH1cblxuXHRhc3luYyBpc0NvbnRyYWN0KHNhX2FjY291bnQ6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xuXHRcdGNvbnN0IGdfcmVzcG9uc2UgPSBhd2FpdCBuZXcgU2VydmljZUNsaWVudEltcGwodGhpcy5feV9ncnBjKS5nZXRUeHNFdmVudCh7XG5cdFx0XHRldmVudHM6IFtcblx0XHRcdFx0YG1lc3NhZ2UuY29udHJhY3RfYWRkcmVzcz0nJHtzYV9hY2NvdW50fSdgLFxuXHRcdFx0XSxcblx0XHRcdG9yZGVyQnk6IE9yZGVyQnkuT1JERVJfQllfQVNDLFxuXHRcdFx0cGFnaW5hdGlvbjoge1xuXHRcdFx0XHRsaW1pdDogJzEnLFxuXHRcdFx0fSxcblx0XHR9KTtcblxuXHRcdHJldHVybiBnX3Jlc3BvbnNlLnR4UmVzcG9uc2VzLmxlbmd0aCA+IDA7XG5cdH1cblxuXHRhc3luYyByZWNlaXZlZChzYV9vd25lcjogc3RyaW5nLCBuX21pbl9ibG9jaz0wKTogUHJvbWlzZTxUcmFuc2ZlcltdPiB7XG5cdFx0Y29uc3QgZ19yZXNwb25zZSA9IGF3YWl0IG5ldyBTZXJ2aWNlQ2xpZW50SW1wbCh0aGlzLl95X2dycGMpLmdldFR4c0V2ZW50KHtcblx0XHRcdGV2ZW50czogW1xuXHRcdFx0XHRgdHJhbnNmZXIucmVjaXBpZW50PScke3NhX293bmVyfSdgLFxuXHRcdFx0XHRgdHguaGVpZ2h0Pj0ke25fbWluX2Jsb2NrfWAsXG5cdFx0XHRdLFxuXHRcdFx0cGFnaW5hdGlvbjoge1xuXHRcdFx0XHRsaW1pdDogJzEwMCcsXG5cdFx0XHR9LFxuXHRcdH0pO1xuXG5cblx0XHRjb25zdCB5X2NsaWVudCA9IGdycGMuY2xpZW50KFNlcnZpY2VHZXRUeHNFdmVudERlc2MsIHtcblx0XHRcdGhvc3Q6ICd3c3M6Ly9ycGMudGVzdG5ldC5zZWNyZXRzYXR1cm4ubmV0L3dlYnNvY2tldCcsXG5cdFx0XHR0cmFuc3BvcnQ6IGdycGMuV2Vic29ja2V0VHJhbnNwb3J0KCksXG5cdFx0XHRkZWJ1ZzogdHJ1ZSxcblx0XHR9KTtcblxuXHRcdHlfY2xpZW50Lm9uSGVhZGVycygoZ19oZWFkZXJzKSA9PiB7XG5cdFx0XHRjb25zb2xlLmxvZyhnX2hlYWRlcnMpO1xuXHRcdFx0ZGVidWdnZXI7XG5cdFx0fSk7XG5cblx0XHR5X2NsaWVudC5vbk1lc3NhZ2UoKGdfbXNnKSA9PiB7XG5cdFx0XHRjb25zb2xlLmxvZyhnX21zZyk7XG5cdFx0XHRkZWJ1Z2dlcjtcblx0XHR9KTtcblxuXHRcdHlfY2xpZW50Lm9uRW5kKCh3X3N0YXR1cywgc19tc2csIGdfdHJhaWxlcnMpID0+IHtcblx0XHRcdGNvbnNvbGUubG9nKHtcblx0XHRcdFx0d19zdGF0dXMsXG5cdFx0XHRcdHNfbXNnLFxuXHRcdFx0XHRnX3RyYWlsZXJzLFxuXHRcdFx0fSk7XG5cdFx0XHRkZWJ1Z2dlcjtcblx0XHRcdGNvbnNvbGUubG9nKCcjZW5kJyk7XG5cdFx0fSk7XG5cblx0XHR5X2NsaWVudC5zdGFydCgpO1xuXG5cdFx0Y29uc3QgZ190eCA9IEdldFR4c0V2ZW50UmVxdWVzdC5mcm9tUGFydGlhbCh7XG5cdFx0XHRldmVudHM6IFtcblx0XHRcdFx0YHRtLmV2ZW50PSdUeCdgLFxuXHRcdFx0XSxcblx0XHR9KTtcblx0XHRkZWJ1Z2dlcjtcblx0XHR5X2NsaWVudC5zZW5kKHtcblx0XHRcdC4uLmdfdHgsXG5cdFx0XHQuLi5TZXJ2aWNlR2V0VHhzRXZlbnREZXNjLnJlcXVlc3RUeXBlLFxuXHRcdH0pO1xuXHRcdHlfY2xpZW50LmZpbmlzaFNlbmQoKTtcblxuXHRcdFx0Ly8gdGhpcy5feV9ncnBjID0gbmV3IEdycGNXZWJJbXBsKF9nX25ldHdvcmsuZ3JwY1dlYlVybCwge1xuXHRcdFx0Ly8gXHR0cmFuc3BvcnQ6IGdycGMuQ3Jvc3NCcm93c2VySHR0cFRyYW5zcG9ydCh7d2l0aENyZWRlbnRpYWxzOmZhbHNlfSksXG5cdFx0XHQvLyB9KTsnLFxuXHRcdFx0Ly8gdHJhbnNwb3J0OiBncnBjLkNyb3NzQnJvd3Nlckh0dHBUcmFuc3BvcnQoe3dpdGhDcmVkZW50aWFsczpmYWxzZX0pLFxuXHRcdC8vIH0pO1xuXG5cdFx0Ly8gXG5cdFx0aWYoIWdfcmVzcG9uc2UpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGZldGNoIHRyYW5zYWN0aW9uJyk7XG5cdFx0fVxuXG5cdFx0Ly8gbW9yZSBwYWdlc1xuXHRcdGNvbnN0IG5fcGFnZXMgPSArKGdfcmVzcG9uc2UucGFnaW5hdGlvbj8udG90YWwgfHwgMSk7XG5cdFx0aWYobl9wYWdlcyA+IDEpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcignTm90IHlldCBpbXBsZW1lbnRlZCcpO1xuXHRcdH1cblxuXHRcdGNvbnN0IGFfb3V0czogVHJhbnNmZXJbXSA9IFtdO1xuXG5cdFx0Ly8gZWFjaCB0eG5cblx0XHRmb3IoY29uc3QgZ190eG4gb2YgZ19yZXNwb25zZS50eFJlc3BvbnNlcykge1xuXHRcdFx0Ly8gcGFyc2UgZXZlbnRzXG5cdFx0XHRjb25zdCBhX2V2ZW50cyA9IEpTT04ucGFyc2UoZ190eG4ucmF3TG9nKVswXS5ldmVudHMhIGFzIFR5cGVkRXZlbnRbXTtcblxuXHRcdFx0Ly8gZWFjaCBldmVudFxuXHRcdFx0Zm9yKGNvbnN0IGdfZXZlbnQgb2YgYV9ldmVudHMpIHtcblx0XHRcdFx0Ly8gbG9jYXRlIHRoZSB0cmFuc2ZlciBldmVudFxuXHRcdFx0XHRpZigndHJhbnNmZXInID09PSBnX2V2ZW50LnR5cGUpIHtcblx0XHRcdFx0XHQvLyBwYXJzZSB0aGUgYXR0cmlidXRlcyBpbnRvIGRpY3Rcblx0XHRcdFx0XHRjb25zdCBoX2F0dHJzID0gZm9sZF9hdHRycyhnX2V2ZW50KSBhcyBQaWNrPFRyYW5zZmVyLCAnc2VuZGVyJyB8ICdyZWNpcGllbnQnIHwgJ2Ftb3VudCc+O1xuXG5cdFx0XHRcdFx0Ly8gcHVzaCB0cmFuc2ZlciBvYmplY3Rcblx0XHRcdFx0XHRhX291dHMucHVzaCh7XG5cdFx0XHRcdFx0XHQuLi5oX2F0dHJzLFxuXHRcdFx0XHRcdFx0aGVpZ2h0OiBnX3R4bi5oZWlnaHQsXG5cdFx0XHRcdFx0XHR0aW1lc3RhbXA6IGdfdHhuLnRpbWVzdGFtcCxcblx0XHRcdFx0XHRcdHR4aGFzaDogZ190eG4udHhoYXNoLFxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Y29uc29sZS5sb2coYV9vdXRzKTtcblx0XHRcblx0XHQvLyBUT0RPOiBjYWNoZSB0eFJlc3BvbnNlcyBhdCBjdXJyZW50IGhlaWdodFxuXG5cdFx0cmV0dXJuIGFfb3V0cztcblx0fVxufVxuIiwiaW1wb3J0IHR5cGUgeyBBY2NvdW50IH0gZnJvbSAnIy9tZXRhL2FjY291bnQnO1xuaW1wb3J0IHR5cGUgeyBGYW1pbHlLZXkgfSBmcm9tICcjL21ldGEvY2hhaW4nO1xuaW1wb3J0IHR5cGUgeyBSZXNvdXJjZSB9IGZyb20gJyMvbWV0YS9yZXNvdXJjZSc7XG5cbmltcG9ydCB7XG5cdGNyZWF0ZV9zdG9yZV9jbGFzcyxcblx0V3JpdGFibGVTdG9yZU1hcCxcbn0gZnJvbSAnLi9fYmFzZSc7XG5cbmltcG9ydCB7IFNJX1NUT1JFX0FDQ09VTlRTIH0gZnJvbSAnIy9zaGFyZS9jb25zdGFudHMnO1xuaW1wb3J0IHR5cGUgeyBSZXBsYWNlIH0gZnJvbSAndHMtdG9vbGJlbHQvb3V0L1N0cmluZy9SZXBsYWNlJztcblxudHlwZSBQYXRoRm9yPFxuXHRzaV9mYW1pbHkgZXh0ZW5kcyBGYW1pbHlLZXksXG5cdHNfcHVia2V5IGV4dGVuZHMgc3RyaW5nLFxuPiA9IGAvZmFtaWx5LiR7c2lfZmFtaWx5fS9hY2NvdW50LiR7UmVwbGFjZTxzX3B1YmtleSwgJzonLCAnKyc+fWA7XG5cbnR5cGUgUGF0aEZyb21BY2NvdW50PFxuXHRnX2FjY291bnQgZXh0ZW5kcyBBY2NvdW50WydpbnRlcmZhY2UnXSxcbj4gPSBQYXRoRm9yPGdfYWNjb3VudFsnZmFtaWx5J10sIGdfYWNjb3VudFsncHVia2V5J10+O1xuXG5leHBvcnQgY29uc3QgQWNjb3VudHMgPSBjcmVhdGVfc3RvcmVfY2xhc3Moe1xuXHRzdG9yZTogU0lfU1RPUkVfQUNDT1VOVFMsXG5cdGNsYXNzOiBjbGFzcyBBY2NvdW50c0kgZXh0ZW5kcyBXcml0YWJsZVN0b3JlTWFwPHR5cGVvZiBTSV9TVE9SRV9BQ0NPVU5UUz4ge1xuXHRcdHN0YXRpYyBwYXRoRm9yPFxuXHRcdFx0c2lfZmFtaWx5IGV4dGVuZHMgRmFtaWx5S2V5LFxuXHRcdFx0c19wdWJrZXkgZXh0ZW5kcyBzdHJpbmcsXG5cdFx0PihzaV9mYW1pbHk6IHNpX2ZhbWlseSwgc19wdWJrZXk6IHNfcHVia2V5KTogUGF0aEZvcjxzaV9mYW1pbHksIHNfcHVia2V5PiB7XG5cdFx0XHRyZXR1cm4gYC9mYW1pbHkuJHtzaV9mYW1pbHl9L2FjY291bnQuJHtzX3B1YmtleS5yZXBsYWNlKC86L2csICcrJyl9YCBhcyBQYXRoRm9yPHNpX2ZhbWlseSwgc19wdWJrZXk+O1xuXHRcdH1cblxuXHRcdHN0YXRpYyBwYXRoRnJvbShnX2FjY291bnQ6IEFjY291bnRbJ2ludGVyZmFjZSddKTogUGF0aEZyb21BY2NvdW50PHR5cGVvZiBnX2FjY291bnQ+IHtcblx0XHRcdHJldHVybiBBY2NvdW50c0kucGF0aEZvcihnX2FjY291bnQuZmFtaWx5LCBnX2FjY291bnQucHVia2V5KTtcblx0XHR9XG5cblx0XHRzdGF0aWMgZ2V0KHNpX2ZhbWlseTogRmFtaWx5S2V5LCBzX3B1YmtleTogc3RyaW5nKTogUHJvbWlzZTxudWxsIHwgQWNjb3VudFsnaW50ZXJmYWNlJ10+IHtcblx0XHRcdHJldHVybiBBY2NvdW50cy5vcGVuKGtzID0+IGtzLmdldChzaV9mYW1pbHksIHNfcHVia2V5KSk7XG5cdFx0fVxuXG5cdFx0Z2V0KHNpX2ZhbWlseTogRmFtaWx5S2V5LCBzX3B1YmtleTogc3RyaW5nKTogQWNjb3VudFsnaW50ZXJmYWNlJ10gfCBudWxsIHtcblx0XHRcdC8vIHByZXBhcmUgcGF0aFxuXHRcdFx0Y29uc3QgcF9yZXMgPSBBY2NvdW50c0kucGF0aEZvcihzaV9mYW1pbHksIHNfcHVia2V5KTtcblxuXHRcdFx0Ly8gZmV0Y2hcblx0XHRcdHJldHVybiB0aGlzLl93X2NhY2hlW3BfcmVzXSA/PyBudWxsO1xuXHRcdH1cblxuXHRcdGFzeW5jIHB1dChnX2FjY291bnQ6IEFjY291bnRbJ2ludGVyZmFjZSddKTogUHJvbWlzZTxQYXRoRnJvbUFjY291bnQ8dHlwZW9mIGdfYWNjb3VudD4+IHtcblx0XHRcdC8vIHByZXBhcmUgcGF0aFxuXHRcdFx0Y29uc3QgcF9yZXMgPSBBY2NvdW50c0kucGF0aEZyb20oZ19hY2NvdW50KTtcblxuXHRcdFx0Ly8gdXBkYXRlIGNhY2hlXG5cdFx0XHR0aGlzLl93X2NhY2hlW3BfcmVzXSA9IGdfYWNjb3VudDtcblxuXHRcdFx0Ly8gYXR0ZW1wdCB0byBzYXZlXG5cdFx0XHRhd2FpdCB0aGlzLnNhdmUoKTtcblxuXHRcdFx0Ly8gcmV0dXJuIHBhdGhcblx0XHRcdHJldHVybiBwX3Jlcztcblx0XHR9XG5cdH0sXG59KTtcbiIsImltcG9ydCB0eXBlIHsgUmVwbGFjZSB9IGZyb20gJ3RzLXRvb2xiZWx0L291dC9TdHJpbmcvUmVwbGFjZSc7XG5pbXBvcnQgdHlwZSB7IEFwcCwgQXBwU2NoZW1lS2V5IH0gZnJvbSAnIy9tZXRhL2FwcCc7XG5pbXBvcnQgdHlwZSB7IFJlc291cmNlIH0gZnJvbSAnIy9tZXRhL3Jlc291cmNlJztcbmltcG9ydCB0eXBlIHsgSW1hZ2VNZWRpYSwgTWVkaWEgfSBmcm9tICcjL21ldGEvbWVkaWEnO1xuXG5pbXBvcnQge1xuXHRjcmVhdGVfc3RvcmVfY2xhc3MsXG5cdFdyaXRhYmxlU3RvcmVNYXAsXG59IGZyb20gJy4vX2Jhc2UnO1xuXG5pbXBvcnQgeyBTSV9TVE9SRV9NRURJQSB9IGZyb20gJyMvc2hhcmUvY29uc3RhbnRzJztcblxuZXhwb3J0IGNvbnN0IE1lZGlhcyA9IGNyZWF0ZV9zdG9yZV9jbGFzcyh7XG5cdHN0b3JlOiBTSV9TVE9SRV9NRURJQSxcblx0ZXh0ZW5zaW9uOiAnbWFwJyxcblx0Y2xhc3M6IGNsYXNzIE1lZGlhSSBleHRlbmRzIFdyaXRhYmxlU3RvcmVNYXA8dHlwZW9mIFNJX1NUT1JFX01FRElBPiB7XG5cblx0XHQvLyBzdGF0aWMgcGF0aEZvcjxcblx0XHQvLyBcdHNfaG9zdCBleHRlbmRzIHN0cmluZyxcblx0XHQvLyBcdHNfc2NoZW1lIGV4dGVuZHMgQXBwU2NoZW1lS2V5LFxuXHRcdC8vIFx0Z19hcHAgZXh0ZW5kcyBBcHA8UmVwbGFjZTxzX2hvc3QsICc6JywgJysnPiwgc19zY2hlbWU+LFxuXHRcdC8vID4oc19ob3N0OiBzX2hvc3QsIHNfc2NoZW1lOiBzX3NjaGVtZSk6IFJlc291cmNlLlBhdGg8Z19hcHA+IHtcblx0XHQvLyBcdHJldHVybiBgL3NjaGVtZS4ke3Nfc2NoZW1lfS9ob3N0LiR7c19ob3N0LnJlcGxhY2UoLzovZywgJysnKX1gIGFzIFJlc291cmNlLlBhdGg8Z19hcHA+O1xuXHRcdC8vIH1cblxuXHRcdC8vIHN0YXRpYyBwYXRoRnJvbTxcblx0XHQvLyBcdGdfYXBwIGV4dGVuZHMgQXBwLFxuXHRcdC8vID4oZ19hcHA6IEFwcFsnaW50ZXJmYWNlJ10pOiBSZXNvdXJjZS5QYXRoPGdfYXBwPiB7XG5cdFx0Ly8gXHRyZXR1cm4gTWVkaWFJLnBhdGhGb3IoZ19hcHAuaG9zdCwgZ19hcHAuc2NoZW1lKTtcblx0XHQvLyB9XG5cblx0XHQvLyBzdGF0aWMgZ2V0KHNfaG9zdDogc3RyaW5nLCBzX3NjaGVtZTogQXBwU2NoZW1lS2V5KTogUHJvbWlzZTxudWxsIHwgQXBwWydpbnRlcmZhY2UnXT4ge1xuXHRcdC8vIFx0cmV0dXJuIE1lZGlhLm9wZW4oa3NfYXBwcyA9PiBrc19hcHBzLmdldChzX2hvc3QsIHNfc2NoZW1lKSk7XG5cdFx0Ly8gfVxuXG5cdFx0Ly8gZ2V0KHNfaG9zdDogc3RyaW5nLCBzX3NjaGVtZTogQXBwU2NoZW1lS2V5KTogTWVkaWFbJ2ludGVyZmFjZSddIHwgbnVsbCB7XG5cdFx0Ly8gXHQvLyBwcmVwYXJlIGFwcCBwYXRoXG5cdFx0Ly8gXHRjb25zdCBwX2FwcCA9IE1lZGlhSS5wYXRoRm9yKHNfaG9zdCwgc19zY2hlbWUpO1xuXG5cdFx0Ly8gXHQvLyBmZXRjaFxuXHRcdC8vIFx0cmV0dXJuIHRoaXMuX3dfY2FjaGVbcF9hcHBdID8/IG51bGw7XG5cdFx0Ly8gfVxuXG5cblx0XHQvLyBhc3luYyBwdXQoZ19hcHA6IE1lZGlhWydpbnRlcmZhY2UnXSk6IFByb21pc2U8dm9pZD4ge1xuXHRcdC8vIFx0Ly8gcHJlcGFyZSBhcHAgcGF0aFxuXHRcdC8vIFx0Y29uc3QgcF9hcHAgPSBNZWRpYUkucGF0aEZvcihnX2FwcC5ob3N0LCBnX2FwcC5zY2hlbWUpO1xuXG5cdFx0Ly8gXHQvLyB1cGRhdGUgY2FjaGVcblx0XHQvLyBcdHRoaXMuX3dfY2FjaGVbcF9hcHBdID0gZ19hcHA7XG5cblx0XHQvLyBcdC8vIGF0dGVtcHQgdG8gc2F2ZVxuXHRcdC8vIFx0YXdhaXQgdGhpcy5zYXZlKCk7XG5cdFx0Ly8gfVxuXHR9LFxufSk7XG5cbiIsImltcG9ydCB7XG5cdGNyZWF0ZV9zdG9yZV9jbGFzcyxcblx0V3JpdGFibGVTdG9yZU1hcCxcbn0gZnJvbSAnLi9fYmFzZSc7XG5cbmltcG9ydCB7IFNJX1NUT1JFX05FVFdPUktTIH0gZnJvbSAnIy9zaGFyZS9jb25zdGFudHMnO1xuaW1wb3J0IHR5cGUgeyBOZXR3b3JrLCBOZXR3b3JrUGF0aCB9IGZyb20gJyMvbWV0YS9uZXR3b3JrJztcbmltcG9ydCB7IGJ1ZmZlcl90b19iYXNlNjQsIHNoYTI1Nl9zeW5jLCB0ZXh0X3RvX2J1ZmZlciB9IGZyb20gJyMvdXRpbC9kYXRhJztcbmltcG9ydCB0eXBlIHsgUXVlcnlCYWxhbmNlUmVzcG9uc2UgfSBmcm9tICdjb3Ntb3MtZ3JwYy9kaXN0L2Nvc21vcy9iYW5rL3YxYmV0YTEvcXVlcnknO1xuaW1wb3J0IHsgQ29zbW9zTmV0d29yayB9IGZyb20gJyMvY2hhaW4vbWFpbic7XG5pbXBvcnQgdHlwZSB7IEJlY2gzMiwgQ2hhaW4sIEhvbGRpbmdQYXRoIH0gZnJvbSAnIy9tZXRhL2NoYWluJztcbmltcG9ydCB7IHl3X2NoYWluIH0gZnJvbSAnIy9hcHAvbWVtJztcbmltcG9ydCB0eXBlIHsgQ29pbiB9IGZyb20gJ2Nvc21vcy1ncnBjL2Rpc3QvY29zbW9zL2Jhc2UvdjFiZXRhMS9jb2luJztcbmltcG9ydCB0eXBlIHsgRGljdCwgSnNvbk9iamVjdCwgUHJvbWlzYWJsZSB9IGZyb20gJyMvdXRpbC9iZWx0JztcbmltcG9ydCB0eXBlIHsgVHhSZXN1bHQgfSBmcm9tICdjb3Ntb3MtZ3JwYy9kaXN0L3RlbmRlcm1pbnQvYWJjaS90eXBlcyc7XG5cbmV4cG9ydCB0eXBlIEJhbGFuY2VCdW5kbGUgPSB7XG5cdGJhbGFuY2U6IENvaW47XG5cdGNhY2hlZDogQ2FjaGVkPENvaW4+IHwgbnVsbDtcblx0aG9sZGluZzogSG9sZGluZ1BhdGg7XG59ICYgSnNvbk9iamVjdDtcblxuXG5leHBvcnQgaW50ZXJmYWNlIFRyYW5zZmVyIHtcblx0c2VuZGVyOiBCZWNoMzIuU3RyaW5nO1xuXHRyZWNpcGllbnQ6IEJlY2gzMi5TdHJpbmc7XG5cdGFtb3VudDogc3RyaW5nO1xuXHRoZWlnaHQ6IHN0cmluZztcblx0dGltZXN0YW1wOiBzdHJpbmc7XG5cdHR4aGFzaDogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENhY2hlZDxnX3dyYXBwZWQ+IGV4dGVuZHMgSnNvbk9iamVjdCB7XG5cdHRpbWVzdGFtcDogbnVtYmVyO1xuXHRkYXRhOiBnX3dyYXBwZWQgJiBKc29uT2JqZWN0O1xuXHRibG9jaz86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBXc1R4UmVzdWx0IHtcblx0aGVpZ2h0OiBzdHJpbmc7XG5cdHR4OiBzdHJpbmc7XG5cdHJlc3VsdDoge1xuXHRcdGRhdGE6IHN0cmluZztcblx0XHRldmVudHM6IHtcblx0XHRcdHR5cGU6IHN0cmluZztcblx0XHRcdGF0dHJpYnV0ZXM6IHtcblx0XHRcdFx0a2V5OiBzdHJpbmc7XG5cdFx0XHRcdHZhbHVlOiBzdHJpbmc7XG5cdFx0XHRcdGluZGV4PzogYm9vbGVhbjtcblx0XHRcdH07XG5cdFx0fVtdO1xuXHRcdGdhc191c2VkOiBzdHJpbmc7XG5cdFx0Z2FzX3dhbnRlZDogc3RyaW5nO1xuXHRcdGxvZzogc3RyaW5nO1xuXHR9O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEFjdGl2ZU5ldHdvcmsge1xuXHQvKipcblx0ICogUmV0cmlldmVzIGFuZCB1cGRhdGVzIHRoZSBiYW5rIGJhbGFuY2UgZm9yIGEgc2luZ2xlIGNvaW5cblx0ICovXG5cdGJhbmtCYWxhbmNlKHNhX293bmVyOiBCZWNoMzIuU3RyaW5nLCBzaV9jb2luPzogc3RyaW5nKTogUHJvbWlzZTxCYWxhbmNlQnVuZGxlPjtcblxuXHQvKipcblx0ICogUmV0cmlldmVzIGFuZCB1cGRhdGVzIHRoZSBiYW5rIGJhbGFuY2UgZm9yIGFsbCBjb2lucyBvbiB0aGlzIGNoYWluXG5cdCAqL1xuXHRiYW5rQmFsYW5jZXMoc2Ffb3duZXI6IEJlY2gzMi5TdHJpbmcpOiBQcm9taXNlPERpY3Q8QmFsYW5jZUJ1bmRsZT4+O1xuXG5cdGlzQ29udHJhY3Qoc2FfYWNjb3VudDogQmVjaDMyLlN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj47XG5cblx0bGlzdGVuKGFfZXZlbnRzOiBzdHJpbmdbXSwgZmtlX3JlY2VpdmU6IChkX2tpbGw6IEV2ZW50IHwgbnVsbCwgZ192YWx1ZT86IEpzb25PYmplY3QpID0+IFByb21pc2FibGU8dm9pZD4pOiAoKSA9PiB2b2lkO1xuXG5cdGdldCBoYXNScGMoKTogYm9vbGVhbjtcblxuXHRvblJlY2VpdmUoc2Ffb3duZXI6IHN0cmluZywgZmtlX3JlY2VpdmU6IChkX2tpbGw6IEV2ZW50IHwgbnVsbCwgZ190eD86IFdzVHhSZXN1bHQpID0+IFByb21pc2FibGU8dm9pZD4pOiAoKSA9PiB2b2lkO1xuXG5cdGNhY2hlZEJhbGFuY2Uoc2Ffb3duZXI6IEJlY2gzMi5TdHJpbmcsIHNpX2NvaW46IHN0cmluZyk6IENhY2hlZDxDb2luPiB8IG51bGw7XG59XG5cbmV4cG9ydCBjb25zdCBOZXR3b3JrcyA9IGNyZWF0ZV9zdG9yZV9jbGFzcyh7XG5cdHN0b3JlOiBTSV9TVE9SRV9ORVRXT1JLUyxcblx0Y2xhc3M6IGNsYXNzIE5ldHdvcmtzSSBleHRlbmRzIFdyaXRhYmxlU3RvcmVNYXA8dHlwZW9mIFNJX1NUT1JFX05FVFdPUktTPiB7XG5cdFx0c3RhdGljIHBhdGhGb3IocF9iYXNlOiBzdHJpbmcpOiBOZXR3b3JrUGF0aCB7XG5cdFx0XHRyZXR1cm4gYC9uZXR3b3JrLiR7YnVmZmVyX3RvX2Jhc2U2NChzaGEyNTZfc3luYyh0ZXh0X3RvX2J1ZmZlcihwX2Jhc2UpKSl9YDtcblx0XHR9XG5cblx0XHRzdGF0aWMgcGF0aEZyb20oZ19uZXR3b3JrOiBOZXR3b3JrWydpbnRlcmZhY2UnXSkge1xuXHRcdFx0cmV0dXJuIE5ldHdvcmtzSS5wYXRoRm9yKGdfbmV0d29yay5ncnBjV2ViVXJsKTtcblx0XHR9XG5cblx0XHRzdGF0aWMgYWN0aXZhdGUoZ19uZXR3b3JrOiBOZXR3b3JrWydpbnRlcmZhY2UnXSwgZ19jaGFpbjogQ2hhaW5bJ2ludGVyZmFjZSddPXl3X2NoYWluLmdldCgpKTogQWN0aXZlTmV0d29yayB7XG5cdFx0XHRyZXR1cm4gbmV3IENvc21vc05ldHdvcmsoZ19uZXR3b3JrLCBnX2NoYWluKTtcblx0XHR9XG5cdH0sXG59KTtcbiIsImltcG9ydCB7XG5cdGNyZWF0ZV9zdG9yZV9jbGFzcyxcblx0V3JpdGFibGVTdG9yZSxcbn0gZnJvbSAnLi9fYmFzZSc7XG5cbmltcG9ydCB7IFNJX1NUT1JFX1RBR1MgfSBmcm9tICcjL3NoYXJlL2NvbnN0YW50cyc7XG5pbXBvcnQgdHlwZSB7IFRhZywgVGFnUGF0aCB9IGZyb20gJyMvbWV0YS90YWcnO1xuaW1wb3J0IHR5cGUgeyBSZXNvdXJjZSB9IGZyb20gJyMvbWV0YS9yZXNvdXJjZSc7XG5cblxuZXhwb3J0IGNvbnN0IFRhZ3MgPSBjcmVhdGVfc3RvcmVfY2xhc3Moe1xuXHRzdG9yZTogU0lfU1RPUkVfVEFHUyxcblx0Y2xhc3M6IGNsYXNzIFRhZ3NJIGV4dGVuZHMgV3JpdGFibGVTdG9yZTx0eXBlb2YgU0lfU1RPUkVfVEFHUz4ge1xuXHRcdHN0YXRpYyB0YWdQYXRoRm9yKGdfdGFnOiBUYWdbJ2ludGVyZmFjZSddKTogVGFnUGF0aCB7XG5cdFx0XHRyZXR1cm4gYC90YWcuJHtnX3RhZy5pbmRleH1gO1xuXHRcdH1cblxuXHRcdGdldFRhZyhpX3RhZzogbnVtYmVyKTogVGFnWydpbnRlcmZhY2UnXSB8IG51bGwge1xuXHRcdFx0cmV0dXJuIHRoaXMuX3dfY2FjaGUucmVnaXN0cnlbaV90YWddID8/IG51bGw7XG5cdFx0fVxuXG5cdFx0Z2V0SWRzRm9yKHBfcmVzb3VyY2U6IFJlc291cmNlLlBhdGgpOiBudW1iZXJbXSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5fd19jYWNoZS5tYXBbcF9yZXNvdXJjZV0gPz8gW107XG5cdFx0fVxuXG5cdFx0Z2V0VGFnc0ZvcihwX3Jlc291cmNlOiBSZXNvdXJjZS5QYXRoKTogVGFnWydpbnRlcmZhY2UnXVtdIHtcblx0XHRcdHJldHVybiB0aGlzLmdldElkc0ZvcihwX3Jlc291cmNlKS5tYXAoaV90YWcgPT4gdGhpcy5nZXRUYWcoaV90YWcpISkuZmlsdGVyKGcgPT4gISFnKTtcblx0XHR9XG5cblx0XHRzZXRJZHNGb3IocF9yZXNzb3VyY2U6IFJlc291cmNlLlBhdGgsIGFfaWRzOiBudW1iZXJbXSk6IFByb21pc2U8dm9pZD4ge1xuXHRcdFx0Ly8gdXBkYXRlIGNhY2hlXG5cdFx0XHR0aGlzLl93X2NhY2hlLm1hcFtwX3Jlc3NvdXJjZV0gPSBhX2lkcztcblxuXHRcdFx0Ly8gc2F2ZSBzdG9yZVxuXHRcdFx0cmV0dXJuIHRoaXMuc2F2ZSgpO1xuXHRcdH1cblxuXHRcdHNldFRhZ3NGb3IocF9yZXNvdXJjZTogUmVzb3VyY2UuUGF0aCwgYV90YWdzOiBUYWdbJ2ludGVyZmFjZSddW10pOiBQcm9taXNlPHZvaWQ+IHtcblx0XHRcdHJldHVybiB0aGlzLnNldElkc0ZvcihwX3Jlc291cmNlLCBhX3RhZ3MubWFwKGcgPT4gZy5pbmRleCkpO1xuXHRcdH1cblx0fSxcbn0pO1xuXG4iLCJpbXBvcnQgeyBub29wLCBzYWZlX25vdF9lcXVhbCwgc3Vic2NyaWJlLCBydW5fYWxsLCBpc19mdW5jdGlvbiB9IGZyb20gJy4uL2ludGVybmFsL2luZGV4Lm1qcyc7XG5leHBvcnQgeyBnZXRfc3RvcmVfdmFsdWUgYXMgZ2V0IH0gZnJvbSAnLi4vaW50ZXJuYWwvaW5kZXgubWpzJztcblxuY29uc3Qgc3Vic2NyaWJlcl9xdWV1ZSA9IFtdO1xuLyoqXG4gKiBDcmVhdGVzIGEgYFJlYWRhYmxlYCBzdG9yZSB0aGF0IGFsbG93cyByZWFkaW5nIGJ5IHN1YnNjcmlwdGlvbi5cbiAqIEBwYXJhbSB2YWx1ZSBpbml0aWFsIHZhbHVlXG4gKiBAcGFyYW0ge1N0YXJ0U3RvcE5vdGlmaWVyfXN0YXJ0IHN0YXJ0IGFuZCBzdG9wIG5vdGlmaWNhdGlvbnMgZm9yIHN1YnNjcmlwdGlvbnNcbiAqL1xuZnVuY3Rpb24gcmVhZGFibGUodmFsdWUsIHN0YXJ0KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc3Vic2NyaWJlOiB3cml0YWJsZSh2YWx1ZSwgc3RhcnQpLnN1YnNjcmliZVxuICAgIH07XG59XG4vKipcbiAqIENyZWF0ZSBhIGBXcml0YWJsZWAgc3RvcmUgdGhhdCBhbGxvd3MgYm90aCB1cGRhdGluZyBhbmQgcmVhZGluZyBieSBzdWJzY3JpcHRpb24uXG4gKiBAcGFyYW0geyo9fXZhbHVlIGluaXRpYWwgdmFsdWVcbiAqIEBwYXJhbSB7U3RhcnRTdG9wTm90aWZpZXI9fXN0YXJ0IHN0YXJ0IGFuZCBzdG9wIG5vdGlmaWNhdGlvbnMgZm9yIHN1YnNjcmlwdGlvbnNcbiAqL1xuZnVuY3Rpb24gd3JpdGFibGUodmFsdWUsIHN0YXJ0ID0gbm9vcCkge1xuICAgIGxldCBzdG9wO1xuICAgIGNvbnN0IHN1YnNjcmliZXJzID0gbmV3IFNldCgpO1xuICAgIGZ1bmN0aW9uIHNldChuZXdfdmFsdWUpIHtcbiAgICAgICAgaWYgKHNhZmVfbm90X2VxdWFsKHZhbHVlLCBuZXdfdmFsdWUpKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IG5ld192YWx1ZTtcbiAgICAgICAgICAgIGlmIChzdG9wKSB7IC8vIHN0b3JlIGlzIHJlYWR5XG4gICAgICAgICAgICAgICAgY29uc3QgcnVuX3F1ZXVlID0gIXN1YnNjcmliZXJfcXVldWUubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgc3Vic2NyaWJlciBvZiBzdWJzY3JpYmVycykge1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyWzFdKCk7XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXJfcXVldWUucHVzaChzdWJzY3JpYmVyLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChydW5fcXVldWUpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdWJzY3JpYmVyX3F1ZXVlLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyX3F1ZXVlW2ldWzBdKHN1YnNjcmliZXJfcXVldWVbaSArIDFdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyX3F1ZXVlLmxlbmd0aCA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZShmbikge1xuICAgICAgICBzZXQoZm4odmFsdWUpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc3Vic2NyaWJlKHJ1biwgaW52YWxpZGF0ZSA9IG5vb3ApIHtcbiAgICAgICAgY29uc3Qgc3Vic2NyaWJlciA9IFtydW4sIGludmFsaWRhdGVdO1xuICAgICAgICBzdWJzY3JpYmVycy5hZGQoc3Vic2NyaWJlcik7XG4gICAgICAgIGlmIChzdWJzY3JpYmVycy5zaXplID09PSAxKSB7XG4gICAgICAgICAgICBzdG9wID0gc3RhcnQoc2V0KSB8fCBub29wO1xuICAgICAgICB9XG4gICAgICAgIHJ1bih2YWx1ZSk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBzdWJzY3JpYmVycy5kZWxldGUoc3Vic2NyaWJlcik7XG4gICAgICAgICAgICBpZiAoc3Vic2NyaWJlcnMuc2l6ZSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHN0b3AoKTtcbiAgICAgICAgICAgICAgICBzdG9wID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHsgc2V0LCB1cGRhdGUsIHN1YnNjcmliZSB9O1xufVxuZnVuY3Rpb24gZGVyaXZlZChzdG9yZXMsIGZuLCBpbml0aWFsX3ZhbHVlKSB7XG4gICAgY29uc3Qgc2luZ2xlID0gIUFycmF5LmlzQXJyYXkoc3RvcmVzKTtcbiAgICBjb25zdCBzdG9yZXNfYXJyYXkgPSBzaW5nbGVcbiAgICAgICAgPyBbc3RvcmVzXVxuICAgICAgICA6IHN0b3JlcztcbiAgICBjb25zdCBhdXRvID0gZm4ubGVuZ3RoIDwgMjtcbiAgICByZXR1cm4gcmVhZGFibGUoaW5pdGlhbF92YWx1ZSwgKHNldCkgPT4ge1xuICAgICAgICBsZXQgaW5pdGVkID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IHZhbHVlcyA9IFtdO1xuICAgICAgICBsZXQgcGVuZGluZyA9IDA7XG4gICAgICAgIGxldCBjbGVhbnVwID0gbm9vcDtcbiAgICAgICAgY29uc3Qgc3luYyA9ICgpID0+IHtcbiAgICAgICAgICAgIGlmIChwZW5kaW5nKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2xlYW51cCgpO1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gZm4oc2luZ2xlID8gdmFsdWVzWzBdIDogdmFsdWVzLCBzZXQpO1xuICAgICAgICAgICAgaWYgKGF1dG8pIHtcbiAgICAgICAgICAgICAgICBzZXQocmVzdWx0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNsZWFudXAgPSBpc19mdW5jdGlvbihyZXN1bHQpID8gcmVzdWx0IDogbm9vcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgdW5zdWJzY3JpYmVycyA9IHN0b3Jlc19hcnJheS5tYXAoKHN0b3JlLCBpKSA9PiBzdWJzY3JpYmUoc3RvcmUsICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgdmFsdWVzW2ldID0gdmFsdWU7XG4gICAgICAgICAgICBwZW5kaW5nICY9IH4oMSA8PCBpKTtcbiAgICAgICAgICAgIGlmIChpbml0ZWQpIHtcbiAgICAgICAgICAgICAgICBzeW5jKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sICgpID0+IHtcbiAgICAgICAgICAgIHBlbmRpbmcgfD0gKDEgPDwgaSk7XG4gICAgICAgIH0pKTtcbiAgICAgICAgaW5pdGVkID0gdHJ1ZTtcbiAgICAgICAgc3luYygpO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gc3RvcCgpIHtcbiAgICAgICAgICAgIHJ1bl9hbGwodW5zdWJzY3JpYmVycyk7XG4gICAgICAgICAgICBjbGVhbnVwKCk7XG4gICAgICAgIH07XG4gICAgfSk7XG59XG5cbmV4cG9ydCB7IGRlcml2ZWQsIHJlYWRhYmxlLCB3cml0YWJsZSB9O1xuIiwiZXhwb3J0IGRlZmF1bHQgXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgd2lkdGg9XFxcIjhcXFwiIGhlaWdodD1cXFwiOFxcXCI+XFxuXFx0PGcgc3R5bGU9XFxcImZpbGw6IHZhcigtLXN2Zy1jb2xvci1mZywgY3VycmVudENvbG9yKTtcXFwiPlxcblxcdFxcdDxyZWN0IHg9XFxcIjNcXFwiIHdpZHRoPVxcXCIyXFxcIiBoZWlnaHQ9XFxcIjhcXFwiIC8+XFxuXFx0XFx0PHJlY3QgeT1cXFwiNVxcXCIgd2lkdGg9XFxcIjJcXFwiIGhlaWdodD1cXFwiOFxcXCIgdHJhbnNmb3JtPVxcXCJyb3RhdGUoLTkwIDAgNSlcXFwiIC8+XFxuXFx0PC9nPlxcbjwvc3ZnPlwiIiwiPHNjcmlwdCBsYW5nPVwidHNcIj5cblx0aW1wb3J0IHsgb25Nb3VudCB9IGZyb20gXCJzdmVsdGVcIjtcblxuXHRleHBvcnQgbGV0IGVsZW1lbnQ6IEhUTUxFbGVtZW50O1xuXG5cdGxldCBkbV9kdW1teTogSFRNTEVsZW1lbnQ7XG5cblx0b25Nb3VudCgoKSA9PiB7XG5cdFx0ZG1fZHVtbXkucmVwbGFjZVdpdGgoZWxlbWVudCk7XG5cdH0pO1xuPC9zY3JpcHQ+XG5cbjxzcGFuIGJpbmQ6dGhpcz17ZG1fZHVtbXl9IC8+XG4iLCJpbXBvcnQgeyBKc29uVmFsdWUsIG9kZSB9IGZyb20gJy4vYmVsdCc7XG5cblxuXG50eXBlIFNwbGl0PFMgZXh0ZW5kcyBzdHJpbmcsIEQgZXh0ZW5kcyBzdHJpbmc+ID0gUyBleHRlbmRzIGAke2luZmVyIFR9JHtEfSR7aW5mZXIgVX1gID8gW1QsIC4uLlNwbGl0PFUsIEQ+XSA6IFtTXTtcblxudHlwZSBUYWtlTGFzdDxWPiA9IFYgZXh0ZW5kcyBbXVxuXHQ/IG5ldmVyXG5cdDogViBleHRlbmRzIFtzdHJpbmddXG5cdFx0PyBWWzBdXG5cdFx0OiBWIGV4dGVuZHMgW3N0cmluZywgLi4uaW5mZXIgUl1cblx0XHRcdD8gVGFrZUxhc3Q8Uj5cblx0XHRcdDogbmV2ZXI7XG5cbnR5cGUgVHJpbUxlZnQ8ViBleHRlbmRzIHN0cmluZz4gPSBWIGV4dGVuZHMgYCAke2luZmVyIFJ9YCA/IFRyaW1MZWZ0PFI+IDogVjtcblxudHlwZSBUcmltUmlnaHQ8ViBleHRlbmRzIHN0cmluZz4gPSBWIGV4dGVuZHMgYCR7aW5mZXIgUn0gYCA/IFRyaW1SaWdodDxSPiA6IFY7XG5cbnR5cGUgVHJpbTxWIGV4dGVuZHMgc3RyaW5nPiA9IFRyaW1MZWZ0PFRyaW1SaWdodDxWPj47XG5cbnR5cGUgU3RyaXBNb2RpZmllcjxWIGV4dGVuZHMgc3RyaW5nLCBNIGV4dGVuZHMgc3RyaW5nPiA9IFYgZXh0ZW5kcyBgJHtpbmZlciBMfSR7TX0ke2luZmVyIEF9YCA/IEwgOiBWO1xuXG50eXBlIFN0cmlwTW9kaWZpZXJzPFYgZXh0ZW5kcyBzdHJpbmc+ID0gU3RyaXBNb2RpZmllcjxcblx0U3RyaXBNb2RpZmllcjxcblx0XHRTdHJpcE1vZGlmaWVyPFxuXHRcdFx0U3RyaXBNb2RpZmllcjxWLCAnLic+LCAnIydcblx0XHQ+LFxuXHQnWyc+LFxuJzonPjtcblxudHlwZSBUYWtlTGFzdEFmdGVyVG9rZW48ViBleHRlbmRzIHN0cmluZywgVCBleHRlbmRzIHN0cmluZz4gPSBTdHJpcE1vZGlmaWVyczxcblx0VGFrZUxhc3Q8XG5cdFx0U3BsaXQ8XG5cdFx0XHRUcmltPFY+LCBUXG5cdFx0PlxuXHQ+XG4+O1xuXG50eXBlIEdldExhc3RFbGVtZW50TmFtZTxWIGV4dGVuZHMgc3RyaW5nPiA9IFRha2VMYXN0QWZ0ZXJUb2tlbjxcblx0VGFrZUxhc3RBZnRlclRva2VuPFYsICcgJz4sXG5cdCc+J1xuPjtcblxudHlwZSBHZXRFYWNoRWxlbWVudE5hbWU8ViwgTCBleHRlbmRzIHN0cmluZ1tdID0gW10+ID0gViBleHRlbmRzIFtdXG5cdD8gTFxuXHQ6IFYgZXh0ZW5kcyBbc3RyaW5nXVxuXHRcdD8gWy4uLkwsIEdldExhc3RFbGVtZW50TmFtZTxWWzBdPl1cblx0XHQ6IFYgZXh0ZW5kcyBbc3RyaW5nLCAuLi5pbmZlciBSXVxuXHRcdFx0PyBHZXRFYWNoRWxlbWVudE5hbWU8UiwgWy4uLkwsIEdldExhc3RFbGVtZW50TmFtZTxWWzBdPl0+XG5cdFx0XHQ6IFtdO1xuXG50eXBlIEdldEVsZW1lbnROYW1lczxWIGV4dGVuZHMgc3RyaW5nPiA9IEdldEVhY2hFbGVtZW50TmFtZTxTcGxpdDxWLCAnLCc+PjtcblxudHlwZSBFbGVtZW50QnlOYW1lPFYgZXh0ZW5kcyBzdHJpbmc+ID0gViBleHRlbmRzIGtleW9mIEhUTUxFbGVtZW50VGFnTmFtZU1hcFxuXHQ/IEhUTUxFbGVtZW50VGFnTmFtZU1hcFtWXVxuXHQ6IFYgZXh0ZW5kcyBrZXlvZiBTVkdFbGVtZW50VGFnTmFtZU1hcFxuXHRcdD8gU1ZHRWxlbWVudFRhZ05hbWVNYXBbVl1cblx0XHQ6IEVsZW1lbnQ7XG5cbnR5cGUgTWF0Y2hFYWNoRWxlbWVudDxWLCBMIGV4dGVuZHMgRWxlbWVudCA9IEVsZW1lbnQ+ID0gViBleHRlbmRzIFtdXG5cdD8gTFxuXHQ6IFYgZXh0ZW5kcyBbc3RyaW5nXVxuXHRcdD8gRWxlbWVudEJ5TmFtZTxWWzBdPlxuXHRcdDogViBleHRlbmRzIFtzdHJpbmcsIC4uLmluZmVyIFJdXG5cdFx0XHQ/IE1hdGNoRWFjaEVsZW1lbnQ8UiwgTCB8IEVsZW1lbnRCeU5hbWU8VlswXT4+XG5cdFx0XHQ6IEw7XG5cbnR5cGUgUXVlcnlSZXN1bHQ8XG5cdHNxX3NlbGVjdG9yIGV4dGVuZHMgc3RyaW5nLFxuPiA9IE1hdGNoRWFjaEVsZW1lbnQ8R2V0RWxlbWVudE5hbWVzPHNxX3NlbGVjdG9yPj47XG5cbmV4cG9ydCBjb25zdCBxcyA9IDxcblx0c3Ffc2VsZWN0b3IgZXh0ZW5kcyBzdHJpbmcsXG4+KFxuXHRkbV9ub2RlOiBQYXJlbnROb2RlIHwgSFRNTEVsZW1lbnQsXG5cdHNxX3NlbGVjdG9yOiBzcV9zZWxlY3Rvcixcbik6IG51bGwgfCBRdWVyeVJlc3VsdDxzcV9zZWxlY3Rvcj4gPT4gZG1fbm9kZS5xdWVyeVNlbGVjdG9yKHNxX3NlbGVjdG9yKTtcblxuZXhwb3J0IGNvbnN0IHFzYSA9IDxcblx0c3Ffc2VsZWN0b3IgZXh0ZW5kcyBzdHJpbmcsXG4+KFxuXHRkbV9ub2RlOiBQYXJlbnROb2RlIHwgSFRNTEVsZW1lbnQsXG5cdHNxX3NlbGVjdG9yOiBzcV9zZWxlY3Rvcixcbik6IFF1ZXJ5UmVzdWx0PHNxX3NlbGVjdG9yPltdID0+IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGRtX25vZGUucXVlcnlTZWxlY3RvckFsbChzcV9zZWxlY3RvciksIDApIGFzIFF1ZXJ5UmVzdWx0PHNxX3NlbGVjdG9yPltdO1xuXG5leHBvcnQgZnVuY3Rpb24gZGQ8XG5cdHNpX3RhZyBleHRlbmRzIGtleW9mIEhUTUxFbGVtZW50VGFnTmFtZU1hcCxcbj4oXG5cdHNfdGFnOiBzaV90YWcsXG5cdGhfYXR0cnM6IFJlY29yZDxzdHJpbmcsIHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4+ID0ge30sXG5cdGFfY2hpbGRyZW46IChFbGVtZW50IHwgc3RyaW5nKVtdID0gW10sXG4pOiBIVE1MRWxlbWVudFRhZ05hbWVNYXBbc2lfdGFnXSB7XG5cdGNvbnN0IGRtX25vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHNfdGFnKTtcblxuXHRmb3IoY29uc3Qgc2lfYXR0ciBpbiBoX2F0dHJzKSB7XG5cdFx0ZG1fbm9kZS5zZXRBdHRyaWJ1dGUoc2lfYXR0ciwgaF9hdHRyc1tzaV9hdHRyXSsnJyk7XG5cdH1cblxuXHRmb3IoY29uc3Qgd19jaGlsZCBvZiBhX2NoaWxkcmVuKSB7XG5cdFx0ZG1fbm9kZS5hcHBlbmQod19jaGlsZCk7XG5cdH1cblxuXHRyZXR1cm4gZG1fbm9kZTtcbn1cblxuXG5jb25zdCBTX1VVSURfVjQgPSAneHh4eHh4eHhfeHh4eF80eHh4X3l4eHhfeHh4eHh4eHh4eHh4JztcbmNvbnN0IFJfVVVJRF9WNCA9IC9beHldL2c7XG5cbmV4cG9ydCBjb25zdCB1dWlkX3Y0ID0gY3J5cHRvLnJhbmRvbVVVSUQ/ICgpID0+IGNyeXB0by5yYW5kb21VVUlEKCk6ICgpOiBzdHJpbmcgPT4ge1xuXHRsZXQgZHRfbm93ID0gRGF0ZS5ub3coKTtcblx0aWYoJ3VuZGVmaW5lZCcgIT09IHR5cGVvZiBwZXJmb3JtYW5jZSkgZHRfbm93ICs9IHBlcmZvcm1hbmNlLm5vdygpO1xuXHRyZXR1cm4gU19VVUlEX1Y0LnJlcGxhY2UoUl9VVUlEX1Y0LCAocykgPT4ge1xuXHRcdGNvbnN0IHhfciA9IChkdF9ub3cgKyAoTWF0aC5yYW5kb20oKSoxNikpICUgMTYgfCAwO1xuXHRcdGR0X25vdyA9IE1hdGguZmxvb3IoZHRfbm93IC8gMTYpO1xuXHRcdHJldHVybiAoJ3gnID09PSBzPyB4X3I6ICgoeF9yICYgMHgzKSB8IDB4OCkpLnRvU3RyaW5nKDE2KTtcblx0fSk7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gcmVhZF9jb29raWUoKTogUmVjb3JkPHN0cmluZywgc3RyaW5nPiB7XG5cdHJldHVybiBkb2N1bWVudC5jb29raWUuc3BsaXQoJzsnKS5yZWR1Y2UoKGhfb3V0LCBzX2Nvb2tpZSkgPT4ge1xuXHRcdGNvbnN0IGFfc3BsaXQgPSBzX2Nvb2tpZS50cmltKCkuc3BsaXQoJz0nKTtcblx0XHRyZXR1cm4ge1xuXHRcdFx0Li4uaF9vdXQsXG5cdFx0XHRbYV9zcGxpdFswXV06IGFfc3BsaXQuc2xpY2UoMSkuam9pbignPScpLFxuXHRcdH07XG5cdH0sIHt9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlYWRfY29va2llX2pzb248VCBleHRlbmRzIEpzb25WYWx1ZT1Kc29uVmFsdWU+KHNpX2tleTogc3RyaW5nKTogVCB8IG51bGwge1xuXHRjb25zdCBoX2Nvb2tpZSA9IHJlYWRfY29va2llKCk7XG5cblx0aWYoIShzaV9rZXkgaW4gaF9jb29raWUpKSByZXR1cm4gbnVsbDtcblxuXHRsZXQgd192YWx1ZTogSnNvblZhbHVlO1xuXHR0cnkge1xuXHRcdHdfdmFsdWUgPSBKU09OLnBhcnNlKGhfY29va2llW3NpX2tleV0pO1xuXHR9XG5cdGNhdGNoKGVfcGFyc2UpIHtcblx0XHRjb25zb2xlLmVycm9yKGBmYWlsZWQgdG8gcGFyc2UgY29va2llIEpTT04gdmFsdWUgYXNzb2NpYXRlZCB3aXRoIGtleSAnJHtzaV9rZXl9J2ApO1xuXHRcdGRlbGV0ZV9jb29raWUoc2lfa2V5KTtcblx0fVxuXG5cdHJldHVybiB3X3ZhbHVlIGFzIFQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB3cml0ZV9jb29raWUoaF9jb29raWU6IFJlY29yZDxzdHJpbmcsIEpzb25WYWx1ZT4sIHh0X2V4cGlyZXM6IG51bWJlcikge1xuXHRjb25zdCBoX3NlcmlhbGl6ZTogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHt9O1xuXG5cdGZvcihjb25zdCBbc2lfa2V5LCB6X3ZhbHVlXSBvZiBvZGUoaF9jb29raWUpKSB7XG5cdFx0aWYoJ3N0cmluZycgPT09IHR5cGVvZiB6X3ZhbHVlKSB7XG5cdFx0XHRoX3NlcmlhbGl6ZVtzaV9rZXldID0gel92YWx1ZTtcblx0XHR9XG5cdFx0ZWxzZSBpZihudWxsID09PSB6X3ZhbHVlIHx8ICd1bmRlZmluZWQnID09PSB0eXBlb2Ygel92YWx1ZSkge1xuXHRcdFx0ZGVsZXRlX2Nvb2tpZShzaV9rZXkpO1xuXHRcdH1cblx0XHRlbHNlIHtcblx0XHRcdGhfc2VyaWFsaXplW3NpX2tleV0gPSBKU09OLnN0cmluZ2lmeSh6X3ZhbHVlKTtcblx0XHR9XG5cdH1cblxuXHRkb2N1bWVudC5jb29raWUgPSBPYmplY3QuZW50cmllcyh7XG5cdFx0Li4uaF9zZXJpYWxpemUsXG5cdFx0J21heC1hZ2UnOiAnJyt4dF9leHBpcmVzLFxuXHR9KVxuXHRcdC5tYXAoKFtzaV9rZXksIHNfdmFsdWVdKSA9PiBgJHtzaV9rZXl9PSR7c192YWx1ZX1gKVxuXHRcdC5qb2luKCc7ICcpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVsZXRlX2Nvb2tpZShzaV9jb29raWU6IHN0cmluZykge1xuXHRyZXR1cm4gd3JpdGVfY29va2llKHtcblx0XHRbc2lfY29va2llXTogJycsXG5cdH0sIDApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gb3Blbl9leHRlcm5hbF9saW5rKHBfdXJsOiBzdHJpbmcpIHtcblx0Y2hyb21lLnRhYnMuY3JlYXRlKHtcblx0XHR1cmw6IHBfdXJsLFxuXHR9KTtcbn1cbiIsImltcG9ydCB0eXBlIHsgUmVzb3VyY2UgfSBmcm9tICcjL21ldGEvcmVzb3VyY2UnO1xuaW1wb3J0IHR5cGUgeyBJbWFnZVNldCwgUGZwIH0gZnJvbSAnIy9tZXRhL3BmcCc7XG5cbmltcG9ydCB7XG5cdGNyZWF0ZV9zdG9yZV9jbGFzcyxcblx0V3JpdGFibGVTdG9yZU1hcCxcbn0gZnJvbSAnLi9fYmFzZSc7XG5cbmltcG9ydCB7IFNJX1NUT1JFX1BGUFMgfSBmcm9tICcjL3NoYXJlL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBkZCB9IGZyb20gJyMvdXRpbC9kb20nO1xuaW1wb3J0IHR5cGUgeyBNZWRpYXMgfSBmcm9tICcuL21lZGlhcyc7XG5pbXBvcnQgdHlwZSB7IERpY3QgfSBmcm9tICcjL3V0aWwvYmVsdCc7XG5cbmV4cG9ydCB0eXBlIFJlbmRlckNvbmZpZyA9IHtcblx0YWx0Pzogc3RyaW5nO1xuXHRkaW06IG51bWJlcjtcblx0bWVkaWFzOiBJbnN0YW5jZVR5cGU8dHlwZW9mIE1lZGlhcz47XG59O1xuXG5cbmZ1bmN0aW9uIHBpY3R1cmUoaF9pbWFnZTogSW1hZ2VTZXQsIGdjX3JlbmRlcjogUmVuZGVyQ29uZmlnLCBoX2F0dHJzOiBEaWN0PXt9KTogSFRNTFBpY3R1cmVFbGVtZW50IHtcblx0Ly8gZGVzdHJ1Y3R1cmUgcmVzb2x1dGlvbnNcblx0Y29uc3Qge1xuXHRcdGRlZmF1bHQ6IHBfZGVmYXVsdCxcblx0XHQxNjogcF8xNixcblx0XHQzMjogcF8zMixcblx0XHQ0ODogcF80OCxcblx0XHQ2NDogcF82NCxcblx0XHQ5NjogcF85Nixcblx0XHQxMjg6IHBfMTI4LFxuXHRcdDI1NjogcF8yNTYsXG5cdH0gPSBoX2ltYWdlO1xuXG5cdC8vIHJlZiBtZWRpYXMgc3RvcmVcblx0Y29uc3Qga3NfbWVkaWFzID0gZ2NfcmVuZGVyLm1lZGlhcztcblxuXHQvLyByZWFkIGVhY2ggcmVzb2x1dGlvblxuXHQvKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbm9uLW51bGwtYXNzZXJ0ZWQtb3B0aW9uYWwtY2hhaW4gKi9cblx0Y29uc3Qgc3hfMTYgPSBwXzE2PyBrc19tZWRpYXMuYXQocF8xNik/LmRhdGEhOiBudWxsO1xuXHRjb25zdCBzeF8zMiA9IHBfMzI/IGtzX21lZGlhcy5hdChwXzMyKT8uZGF0YSE6IG51bGw7XG5cdGNvbnN0IHN4XzQ4ID0gcF80OD8ga3NfbWVkaWFzLmF0KHBfNDgpPy5kYXRhITogbnVsbDtcblx0Y29uc3Qgc3hfNjQgPSBwXzY0PyBrc19tZWRpYXMuYXQocF82NCk/LmRhdGEhOiBudWxsO1xuXHRjb25zdCBzeF85NiA9IHBfOTY/IGtzX21lZGlhcy5hdChwXzk2KT8uZGF0YSE6IG51bGw7XG5cdGNvbnN0IHN4XzEyOCA9IHBfMTI4PyBrc19tZWRpYXMuYXQocF8xMjgpPy5kYXRhITogbnVsbDtcblx0Y29uc3Qgc3hfMjU2ID0gcF8yNTY/IGtzX21lZGlhcy5hdChwXzI1Nik/LmRhdGEhOiBudWxsO1xuXHRjb25zdCBzeF9kZWZhdWx0ID0ga3NfbWVkaWFzLmF0KHBfZGVmYXVsdCkhLmRhdGE7XG5cdC8qIGVzbGludC1lbmFibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5vbi1udWxsLWFzc2VydGVkLW9wdGlvbmFsLWNoYWluICovXG5cblx0Y29uc3Qgc3hfYW55X3ggPSBzeF8xNiB8fCBzeF8zMiB8fCBzeF80OCB8fCBzeF82NCB8fCBzeF85NiB8fCBzeF8xMjggfHwgc3hfMjU2O1xuXG5cdGNvbnN0IHhfZGltXzF4ID0gZ2NfcmVuZGVyLmRpbTtcblx0Y29uc3QgeF9kaW1fMnggPSB4X2RpbV8xeCAqIDI7XG5cblx0bGV0IHN4XzF4OiBzdHJpbmcgfCBudWxsID0gbnVsbDtcblx0bGV0IHN4XzJ4OiBzdHJpbmcgfCBudWxsID0gbnVsbDtcblxuXHQvLyBzb21lIG9wdGlvbiBleGlzdHNcblx0aWYoc3hfYW55X3gpIHtcblx0XHQvLyAxeCByZXNvbHV0aW9uXG5cdFx0aWYoeF9kaW1fMXggPD0gNjQpIHtcblx0XHRcdGlmKHhfZGltXzF4IDw9IDMyKSB7XG5cdFx0XHRcdGlmKHhfZGltXzF4IDw9IDE2KSB7XG5cdFx0XHRcdFx0c3hfMXggPSBzeF9hbnlfeDtcblx0XHRcdFx0fVxuXHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHRzeF8xeCA9IHN4XzMyIHx8IHN4XzQ4IHx8IHN4XzY0IHx8IHN4Xzk2IHx8IHN4XzEyOCB8fCBzeF8yNTY7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdGVsc2UgaWYoeF9kaW1fMXggPD0gNDgpIHtcblx0XHRcdFx0c3hfMXggPSBzeF80OCB8fCBzeF82NCB8fCBzeF85NiB8fCBzeF8xMjggfHwgc3hfMjU2O1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSB7XG5cdFx0XHRcdHN4XzF4ID0gc3hfNjQgfHwgc3hfOTYgfHwgc3hfMTI4IHx8IHN4XzI1Njtcblx0XHRcdH1cblx0XHR9XG5cdFx0ZWxzZSBpZih4X2RpbV8xeCA8PSAxMjgpIHtcblx0XHRcdGlmKHhfZGltXzF4IDw9IDk2KSB7XG5cdFx0XHRcdHN4XzF4ID0gc3hfOTYgfHwgc3hfMTI4IHx8IHN4XzI1Njtcblx0XHRcdH1cblx0XHRcdGVsc2Uge1xuXHRcdFx0XHRzeF8xeCA9IHN4XzEyOCB8fCBzeF8yNTY7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGVsc2UgaWYoeF9kaW1fMXggPD0gMjU2KSB7XG5cdFx0XHRzeF8xeCA9IHN4XzI1Njtcblx0XHR9XG5cblx0XHQvLyAyeCByZXNvbHV0aW9uXG5cdFx0aWYoeF9kaW1fMnggPD0gNjQpIHtcblx0XHRcdGlmKHhfZGltXzJ4IDw9IDMyKSB7XG5cdFx0XHRcdGlmKHhfZGltXzJ4IDw9IDE2KSB7XG5cdFx0XHRcdFx0c3hfMnggPSBzeF9hbnlfeDtcblx0XHRcdFx0fVxuXHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHRzeF8yeCA9IHN4XzMyIHx8IHN4XzQ4IHx8IHN4XzY0IHx8IHN4Xzk2IHx8IHN4XzEyOCB8fCBzeF8yNTY7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdGVsc2UgaWYoeF9kaW1fMnggPD0gNDgpIHtcblx0XHRcdFx0c3hfMnggPSBzeF80OCB8fCBzeF82NCB8fCBzeF85NiB8fCBzeF8xMjggfHwgc3hfMjU2O1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSB7XG5cdFx0XHRcdHN4XzJ4ID0gc3hfNjQgfHwgc3hfOTYgfHwgc3hfMTI4IHx8IHN4XzI1Njtcblx0XHRcdH1cblx0XHR9XG5cdFx0ZWxzZSBpZih4X2RpbV8yeCA8PSAxMjgpIHtcblx0XHRcdGlmKHhfZGltXzJ4IDw9IDk2KSB7XG5cdFx0XHRcdHN4XzJ4ID0gc3hfOTYgfHwgc3hfMTI4IHx8IHN4XzI1Njtcblx0XHRcdH1cblx0XHRcdGVsc2Uge1xuXHRcdFx0XHRzeF8yeCA9IHN4XzEyOCB8fCBzeF8yNTY7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGVsc2UgaWYoeF9kaW1fMnggPD0gMjU2KSB7XG5cdFx0XHRzeF8yeCA9IHN4XzI1Njtcblx0XHR9XG5cdH1cblxuXHQvLyBwaWN0dXJlIGVsZW1lbnRcblx0cmV0dXJuIGRkKCdwaWN0dXJlJywge1xuXHRcdC4uLmhfYXR0cnMsXG5cdH0sIFtcblx0XHQvLyAyeCB2ZXJzaW9uXG5cdFx0Li4uc3hfMng/IFtkZCgnc291cmNlJywge1xuXHRcdFx0c3Jjc2V0OiBzeF8yeCxcblx0XHRcdG1lZGlhOiAnKG1pbi1yZXNvbHV0aW9uOiAyZHBweCknLFxuXHRcdH0pXTogW10sXG5cblx0XHQvLyBkZWZhdWx0IGltZ1xuXHRcdGRkKCdpbWcnLCB7XG5cdFx0XHRzcmM6IHN4XzF4IHx8IHN4X2RlZmF1bHQsXG5cdFx0XHRhbHQ6IGdjX3JlbmRlci5hbHQgfHwgJycsXG5cdFx0fSksXG5cdF0pO1xufVxuXG5leHBvcnQgY29uc3QgUGZwcyA9IGNyZWF0ZV9zdG9yZV9jbGFzcyh7XG5cdHN0b3JlOiBTSV9TVE9SRV9QRlBTLFxuXHRleHRlbnNpb246ICdtYXAnLFxuXHRjbGFzczogY2xhc3MgUGZwSSBleHRlbmRzIFdyaXRhYmxlU3RvcmVNYXA8dHlwZW9mIFNJX1NUT1JFX1BGUFM+IHtcblx0XHRzdGF0aWMgYXN5bmMgbG9hZChwX3BmcDogUmVzb3VyY2UuUGF0aDxQZnA+LCBnY19yZW5kZXI6IFJlbmRlckNvbmZpZyk6IFByb21pc2U8SFRNTEVsZW1lbnQgfCBudWxsPiB7XG5cdFx0XHRjb25zdCBnX3BmcCA9IGF3YWl0IFBmcHMuYXQocF9wZnApO1xuXG5cdFx0XHRpZighZ19wZnApIHJldHVybiBudWxsO1xuXG5cdFx0XHRyZXR1cm4gUGZwcy5yZW5kZXIoZ19wZnAsIGdjX3JlbmRlcik7XG5cdFx0fVxuXG5cdFx0c3RhdGljIHJlbmRlcihnX3BmcDogUGZwWydpbnRlcmZhY2UnXSwgZ2NfcmVuZGVyOiBSZW5kZXJDb25maWcpOiBIVE1MRWxlbWVudCB7XG5cdFx0XHQvLyBkaW1lbnNpb24gc3R5bGluZ1xuXHRcdFx0Y29uc3Qgc3hfc3R5bGVfcGljdHVyZSA9IGB3aWR0aDoke2djX3JlbmRlci5kaW19cHg7IGhlaWdodDoke2djX3JlbmRlci5kaW19cHg7YDtcblxuXHRcdFx0Ly8gZGVwZW5kaW5nIG9uIHBmcCB0eXBlXG5cdFx0XHRzd2l0Y2goZ19wZnAudHlwZSkge1xuXHRcdFx0XHQvLyBwbGFpbiBwZnAgdHlwZVxuXHRcdFx0XHRjYXNlICdwbGFpbic6IHtcblx0XHRcdFx0XHRyZXR1cm4gcGljdHVyZShnX3BmcC5pbWFnZSwgZ2NfcmVuZGVyLCB7XG5cdFx0XHRcdFx0XHRjbGFzczogJ2dsb2JhbF9wZnAnLFxuXHRcdFx0XHRcdFx0c3R5bGU6IHN4X3N0eWxlX3BpY3R1cmUsXG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBhIHBhaXIgb2YgaWNvbnMgb2YgZXF1YWwgdmlzdWFsIHNpZ25pZmljYW5jZVxuXHRcdFx0XHRjYXNlICdwYWlyJzoge1xuXG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBhIGNvbXBvc2l0ZSBjb25zaXN0aW5nIG9mIGEgZm9yZWdyb3VuZCBpY29uIGFuZCBiYWNrZ3JvdW5kIGljb25cblx0XHRcdFx0Y2FzZSAnY29tcG9zaXRlJzoge1xuXG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRkZWZhdWx0OiB7XG5cdFx0XHRcdFx0Ly8gVE9ETzogbG9nIGVycm9yXG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdH1cblxuXHRcdC8vIGFzeW5jIHB1dChnX2FwcDogTWVkaWFbJ2ludGVyZmFjZSddKTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0Ly8gXHQvLyBwcmVwYXJlIGFwcCBwYXRoXG5cdFx0Ly8gXHRjb25zdCBwX2FwcCA9IE1lZGlhSS5wYXRoRm9yKGdfYXBwLmhvc3QsIGdfYXBwLnNjaGVtZSk7XG5cblx0XHQvLyBcdC8vIHVwZGF0ZSBjYWNoZVxuXHRcdC8vIFx0dGhpcy5fd19jYWNoZVtwX2FwcF0gPSBnX2FwcDtcblxuXHRcdC8vIFx0Ly8gYXR0ZW1wdCB0byBzYXZlXG5cdFx0Ly8gXHRhd2FpdCB0aGlzLnNhdmUoKTtcblx0XHQvLyB9XG5cdH0sXG59KTtcblxuIiwiPHNjcmlwdCBsYW5nPVwidHNcIj5cblx0aW1wb3J0IHR5cGUgeyBQZnBQYXRoIH0gZnJvbSAnIy9tZXRhL3BmcCc7XG5cblx0aW1wb3J0IFB1dCBmcm9tICcuL1B1dC5zdmVsdGUnO1xuXHRpbXBvcnQgeyBQZnBzIH0gZnJvbSAnIy9zdG9yZS9wZnBzJztcblx0aW1wb3J0IHsgTWVkaWFzIH0gZnJvbSAnIy9zdG9yZS9tZWRpYXMnO1xuXHRpbXBvcnQge3l3X3N0b3JlX21lZGlhc30gZnJvbSAnLi4vbWVtJztcblx0aW1wb3J0IHR5cGUgeyBOYW1lYWJsZSwgUGZwYWJsZSB9IGZyb20gJyMvbWV0YS9hYmxlJztcblx0aW1wb3J0IHsgRl9OT09QIH0gZnJvbSAnIy91dGlsL2JlbHQnO1xuXHRpbXBvcnQgeyBjcmVhdGVFdmVudERpc3BhdGNoZXIgfSBmcm9tICdzdmVsdGUnO1xuXG5cdGNvbnN0IGRpc3BhdGNoID0gY3JlYXRlRXZlbnREaXNwYXRjaGVyKCk7XG5cblx0LyoqXG5cdCAqIEV4dHJhY3QgcmVmIGFuZCBuYW1lIGZyb20gYSByZXNvdXJjZVxuXHQgKi9cblx0ZXhwb3J0IGxldCByZXNvdXJjZTogKFBmcGFibGUgJiBOYW1lYWJsZSkgfCBudWxsID0gbnVsbDtcblx0Y29uc3QgZ19yZXNvdXJjZSA9IHJlc291cmNlO1xuXG5cdC8qKlxuXHQgKiBSZXNvdXJjZSBwYXRoIHRvIHRoZSBwZnBcblx0ICovXG5cdGV4cG9ydCBsZXQgcmVmOiBQZnBQYXRoIHwgbnVsbCB8ICcnID0gZ19yZXNvdXJjZT8ucGZwIHx8ICcnO1xuXHRjb25zdCBwX3JlZiA9IHJlZiB8fCBudWxsO1xuXG5cdC8qKlxuXHQgKiBOYW1lIHRvIHVzZSBmb3IgYWx0IGFuZCBmYWxsYmFja1xuXHQgKi9cblx0ZXhwb3J0IGxldCBuYW1lID0gZ19yZXNvdXJjZT8ubmFtZSB8fCAnJztcblx0Y29uc3Qgc19uYW1lID0gbmFtZTtcblxuXHQvKipcblx0ICogU3F1YXJlIGRpbWVuc2lvbnMgb2YgdGhlIG91dHB1dCBlbGVtZW50XG5cdCAqL1xuXHRleHBvcnQgbGV0IGRpbTogbnVtYmVyO1xuXHRjb25zdCB4X2RpbSA9IGRpbTtcblxuXHQvKipcblx0ICogQXBwbGllcyBhIHByZWRldGVybWluZCBzdHlsaW5nIHRvIHRoZSBib3JkZXJcblx0ICovXG5cdGV4cG9ydCBsZXQgY2lyY3VsYXIgPSBmYWxzZTtcblx0Y29uc3Qgc19jbGFzc2VzID0gY2lyY3VsYXI/ICcnOiAnc3F1YXJlJztcblxuXHQvKipcblx0ICogQXBwbGllcyBhIHByZWRldGVybWluZWQgc3R5bGluZyB0byB0aGUgYmFja2dyb3VuZFxuXHQgKi9cblx0ZXhwb3J0IGxldCBiZzogJ3NhdGluJyB8IHVuZGVmaW5lZCA9IHZvaWQgMDtcblx0Y29uc3Qgc2lfc3R5bGVfYmcgPSBiZztcblxuXHRleHBvcnQgbGV0IGdlblN0eWxlID0gJyc7XG5cdGNvbnN0IHN4X3N0eWxlX2dlbiA9IGB3aWR0aDoke3hfZGltfXB4OyBoZWlnaHQ6JHt4X2RpbX1weDsgYFxuXHRcdCsoZ2VuU3R5bGUgfHwgJycpXG5cdFx0KyhyZWY/IGBmb250LXNpemU6JHt4X2RpbX1weDtgOiAnJylcblx0XHQrKGNpcmN1bGFyPyBgYm9yZGVyLXJhZGl1czoke3hfZGltfXB4O2A6ICcnKTtcblxuXHRleHBvcnQgbGV0IHJvb3RTdHlsZSA9ICcnO1xuXHRjb25zdCBzeF9zdHlsZV9yb290ID0gcm9vdFN0eWxlO1xuXG5cdGV4cG9ydCBsZXQgc2V0dGxlOiBWb2lkRnVuY3Rpb24gfCB1bmRlZmluZWQgPSB2b2lkIDA7XG5cblx0YXN5bmMgZnVuY3Rpb24gbG9hZF9wZnAoKSB7XG5cdFx0Ly8gbG9hZCBtZWRpYSBzdG9yZSBpZiBpdCdzIG5vdCBjYWNoZWRcblx0XHRjb25zdCBrc19tZWRpYXMgPSAkeXdfc3RvcmVfbWVkaWFzIHx8IGF3YWl0IE1lZGlhcy5yZWFkKCk7XG5cblx0XHQvLyBsb2FkIHBmcCBieSByZWZcblx0XHRjb25zdCBkbV9wZnAgPSBhd2FpdCBQZnBzLmxvYWQocF9yZWYhLCB7XG5cdFx0XHRhbHQ6IHNfbmFtZSxcblx0XHRcdGRpbTogeF9kaW0sXG5cdFx0XHRtZWRpYXM6IGtzX21lZGlhcyxcblx0XHR9KTtcblxuXHRcdHF1ZXVlTWljcm90YXNrKCgpID0+IHtcblx0XHRcdGRpc3BhdGNoKCdsb2FkZWQnKTtcblx0XHR9KTtcblxuXHRcdHJldHVybiBkbV9wZnA7XG5cdH1cblxuXHRmdW5jdGlvbiBzZXR0bGVfaW5uZXIoKTogUHJvbWlzZTxuZXZlcj4ge1xuXHRcdGlmKHNldHRsZSkgcXVldWVNaWNyb3Rhc2soKCkgPT4gc2V0dGxlISgpKTtcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoRl9OT09QKTtcblx0fVxuPC9zY3JpcHQ+XG5cbjxzdHlsZSBsYW5nPVwibGVzc1wiPlxuXHRAaW1wb3J0ICcuL19iYXNlLmxlc3MnO1xuXG5cdC50aWxlIHtcblx0XHRkaXNwbGF5OiBpbmxpbmUtZmxleDtcblx0XHR2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xuXHRcdGxpbmUtaGVpZ2h0OiAwO1xuXHRcdGN1cnNvcjogcG9pbnRlcjtcblxuXHRcdCYuc2F0aW4ge1xuXHRcdFx0YmFja2dyb3VuZDogcmFkaWFsLWdyYWRpZW50KGVsbGlwc2UgZmFydGhlc3Qtc2lkZSBhdCBib3R0b20gcmlnaHQsICMwNzA4MGEsICMwZjEzMTcpO1xuXHRcdH1cblx0fVxuXG5cdC8vIC5pY29uIHtcblx0Ly8gXHQmLmRlZmF1bHQge1xuXHQvLyBcdFx0Ly8gYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tdGhlbWUtY29sb3ItZ3JheXNvZnQpO1xuXHQvLyBcdFx0YmFja2dyb3VuZC1jb2xvcjogdmFyKC0tdGhlbWUtY29sb3ItYmcpO1xuXHQvLyBcdFx0YmFja2dyb3VuZDogcmFkaWFsLWdyYWRpZW50KGVsbGlwc2UgZmFydGhlc3Qtc2lkZSBhdCBib3R0b20gcmlnaHQsIGRhcmtlbihAdGhlbWUtY29sb3ItYmxhY2ssIDUwJSksIHZhcigtLXRoZW1lLWNvbG9yLWJnKSk7XG5cdC8vIFx0XHRvdXRsaW5lOiAxcHggc29saWQgdmFyKC0tdGhlbWUtY29sb3ItcHJpbWFyeSk7XG5cdC8vIFx0fVxuXHQvLyB9XG5cblx0Lmljb24tZG9tIHtcblx0XHRjb2xvcjogdmFyKC0tdGhlbWUtY29sb3ItdGV4dC1saWdodCk7XG5cdFx0ZGlzcGxheTogZmxleDtcblx0XHRhbGlnbi1pdGVtczogY2VudGVyO1xuXHRcdGp1c3RpZnktY29udGVudDogY2VudGVyO1xuXHRcdGZvbnQtc2l6ZTogMzBweDtcblxuXHRcdGJhY2tncm91bmQtY29sb3I6IHZhcigtLXRoZW1lLWNvbG9yLWJnKTtcblx0XHRiYWNrZ3JvdW5kOiByYWRpYWwtZ3JhZGllbnQoZWxsaXBzZSBmYXJ0aGVzdC1zaWRlIGF0IGJvdHRvbSByaWdodCwgZGFya2VuKEB0aGVtZS1jb2xvci1ibGFjaywgNTAlKSwgdmFyKC0tdGhlbWUtY29sb3ItYmcpKTtcblx0XHRvdXRsaW5lOiAxcHggc29saWQgdmFyKC0tdGhlbWUtY29sb3ItYm9yZGVyKTtcblx0fVxuPC9zdHlsZT5cblxuPCEtLSBjbGFzczpkZWZhdWx0PXsha19pY29ufSAgLS0+XG48c3BhbiBjbGFzcz1cImdsb2JhbF9wZnAgdGlsZSB7c19jbGFzc2VzfVwiXG5cdGNsYXNzOnNhdGluPXsnc2F0aW4nID09PSBzaV9zdHlsZV9iZ31cblx0c3R5bGU9e3N4X3N0eWxlX3Jvb3R9XG4+XG5cdHsjaWYgcF9yZWZ9XG5cdFx0eyNhd2FpdCBsb2FkX3BmcCgpfVxuXHRcdFx0bG9hZGluZyBwZnAuLi5cblx0XHR7OnRoZW4gZG1fcGZwfVxuXHRcdFx0eyNpZiBkbV9wZnB9XG5cdFx0XHRcdDxQdXQgZWxlbWVudD17ZG1fcGZwfSAvPlxuXHRcdFx0ezplbHNlfVxuXHRcdFx0XHQ8IS0tIFRPRE86IGVycm9yIHBsYWNlaG9sZGVyIC0tPlxuXHRcdFx0XHQ8c3BhbiBjbGFzcz1cImVycm9yXCI+XG5cdFx0XHRcdFx0RXJyb3Jcblx0XHRcdFx0PC9zcGFuPlxuXHRcdFx0ey9pZn1cblxuXHRcdFx0eyNhd2FpdCBzZXR0bGVfaW5uZXIoKSB0aGVuIF99X3svYXdhaXR9XG5cdFx0ey9hd2FpdH1cblx0ezplbHNlfVxuXHRcdDxzcGFuIGNsYXNzPVwiaWNvbi1kb21cIiBzdHlsZT17c3hfc3R5bGVfZ2VufT5cblx0XHRcdHtzX25hbWVbMF0gfHwgJyd9XG5cdFx0PC9zcGFuPlxuXHRcdHsjYXdhaXQgc2V0dGxlX2lubmVyKCkgdGhlbiBffV97L2F3YWl0fVxuXHR7L2lmfVxuPC9zcGFuPiIsImV4cG9ydCBkZWZhdWx0IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHdpZHRoPVxcXCIyNFxcXCIgaGVpZ2h0PVxcXCIyNFxcXCIgdmlld0JveD1cXFwiMCAwIDI0IDI0XFxcIj5cXG5cXHQ8c3R5bGUgdHlwZT1cXFwidGV4dC9jc3NcXFwiPlxcblxcdFxcdC5zMnItY2xvc2UtZmcge1xcblxcdFxcdFxcdGZpbGw6IHZhcigtLXN2Zy1jb2xvci1mZywgY3VycmVudENvbG9yKTtcXG5cXHRcXHR9XFxuXFx0PC9zdHlsZT5cXG5cXHQ8cGF0aCBjbGFzcz1cXFwiczJyLWNsb3NlLWZnXFxcIiBkPVxcXCJNMTkgNi40MSAxNy41OSA1IDEyIDEwLjU5IDYuNDEgNSA1IDYuNDEgMTAuNTkgMTIgNSAxNy41OSA2LjQxIDE5IDEyIDEzLjQxIDE3LjU5IDE5IDE5IDE3LjU5IDEzLjQxIDEyIDE5IDYuNDF6XFxcIi8+XFxuPC9zdmc+XFxuXCIiLCI8c2NyaXB0IGxhbmc9XCJ0c1wiPlxuXHRpbXBvcnQgU1hfSUNPTl9DTE9TRSBmcm9tICcjL2ljb24vY2xvc2Uuc3ZnP3Jhdyc7XG5cblx0ZXhwb3J0IGxldCBhYnNvbHV0ZSA9IGZhbHNlO1xuXHRleHBvcnQgbGV0IGhlaWdodGxlc3MgPSBmYWxzZTtcbjwvc2NyaXB0PlxuXG48c3R5bGUgbGFuZz1cImxlc3NcIj5cblx0LmNsb3NlIHtcblx0XHRwb3NpdGlvbjogcmVsYXRpdmU7XG5cdFx0dG9wOiAwO1xuXHRcdHJpZ2h0OiAwO1xuXHRcdG1hcmdpbjogdmFyKC0tbWFyZ2luLCAxMHB4KTtcblx0XHRwYWRkaW5nOiAxMnB4O1xuXHRcdGN1cnNvcjogcG9pbnRlcjtcblx0XHQtLWljb24tZGlhbWV0ZXI6IDI0cHg7XG5cdFx0LS1pY29uLWNvbG9yOiB2YXIoLS10aGVtZS1jb2xvci1wcmltYXJ5KTtcblxuXHRcdG91dGxpbmU6IDFweCBzb2xpZCB2YXIoLS10aGVtZS1jb2xvci1ib3JkZXIpO1xuXHRcdGJvcmRlci1yYWRpdXM6IDBweDtcblx0XHR0cmFuc2l0aW9uOiBib3JkZXItcmFkaXVzIDY1MG1zIHZhcigtLWVhc2Utb3V0LWV4cG8pO1xuXHRcdHBvaW50ZXItZXZlbnRzOiBhbGw7XG5cblx0XHQvLyBtYXJnaW4tdG9wOiBjYWxjKDBweCAtICh2YXIoLS11aS1wYWRkaW5nKSAqIDAuNzUpKTtcblx0XHQvLyBtYXJnaW4tcmlnaHQ6IGNhbGMoMHB4IC0gKHZhcigtLXVpLXBhZGRpbmcpICogMC43NSkpO1xuXG5cdFx0Ji5hYnNvbHV0ZSB7XG5cdFx0XHRwb3NpdGlvbjogYWJzb2x1dGU7XG5cdFx0fVxuXG5cdFx0Jjo6YmVmb3JlIHtcblx0XHRcdC0tb2NjbHVzaW9uLXRoaWNrbmVzczogNHB4O1xuXG5cdFx0XHRjb250ZW50OiAnJztcblx0XHRcdHBvc2l0aW9uOiBhYnNvbHV0ZTtcblx0XHRcdHRvcDogY2FsYyh2YXIoLS1vY2NsdXNpb24tdGhpY2tuZXNzKSAvIDIpO1xuXHRcdFx0bGVmdDogY2FsYyh2YXIoLS1vY2NsdXNpb24tdGhpY2tuZXNzKSAvIDIpO1xuXHRcdFx0d2lkdGg6IGNhbGMoMTAwJSAtIHZhcigtLW9jY2x1c2lvbi10aGlja25lc3MpKTtcblx0XHRcdGhlaWdodDogY2FsYygxMDAlIC0gdmFyKC0tb2NjbHVzaW9uLXRoaWNrbmVzcykpO1xuXHRcdFx0b3V0bGluZTogdmFyKC0tb2NjbHVzaW9uLXRoaWNrbmVzcykgc29saWQgdmFyKC0tdGhlbWUtY29sb3ItYmcpO1xuXHRcdFx0Ym94LXNpemluZzogYm9yZGVyLWJveDtcblx0XHRcdHBvaW50ZXItZXZlbnRzOiBub25lO1xuXHRcdH1cblxuXHRcdCY6aG92ZXIge1xuXHRcdFx0Ym9yZGVyLXJhZGl1czogMjJweDtcblx0XHR9XG5cdH1cbjwvc3R5bGU+XG5cbjxkaXYgY2xhc3M9XCJjbG9zZSBpY29uXCIgY2xhc3M6YWJzb2x1dGU9e2Fic29sdXRlfSBvbjpjbGljaz5cblx0e0BodG1sIFNYX0lDT05fQ0xPU0V9XG48L2Rpdj5cbiIsIjxzY3JpcHQgbGFuZz1cInRzXCI+XG5cdGltcG9ydCB0eXBlIHsgUGZwLCBQZnBQYXRoIH0gZnJvbSAnIy9tZXRhL3BmcCc7XG5cblx0aW1wb3J0IHR5cGUgeyBSZXNvdXJjZSB9IGZyb20gJyMvbWV0YS9yZXNvdXJjZSc7XG5cblx0aW1wb3J0IFBmcERpc3BsYXkgZnJvbSAnLi9QZnBEaXNwbGF5LnN2ZWx0ZSc7XG5cblx0aW1wb3J0IHR5cGUgeyBOYW1lYWJsZSwgUGZwYWJsZSB9IGZyb20gJyMvbWV0YS9hYmxlJztcblx0aW1wb3J0IHsgeXdfc3RvcmVfdGFncyB9IGZyb20gJy4uL21lbSc7XG5cdGltcG9ydCB0eXBlIHsgUHJvbWlzYWJsZSB9IGZyb20gJyMvdXRpbC9iZWx0Jztcblx0aW1wb3J0IHsgb25EZXN0cm95IH0gZnJvbSAnc3ZlbHRlJztcblx0XG5cdFxuXHQvLyBpbXBvcnQgTG9ja091dGxpbmUgZnJvbSAnc3ZlbHRlLW1hdGVyaWFsLWljb25zL0xvY2tPdXRsaW5lLnN2ZWx0ZSc7XG5cdFxuXHQvLyBpbXBvcnQge1xuXHQvLyBcdEhfQUREUl9UT19DT05UQUNULFxuXHQvLyBcdEhfSUNPTlMsXG5cdC8vIFx0SF9UQUdTLFxuXHQvLyB9IGZyb20gJyMvc2ltL2RhdGEnO1xuXHRcblx0Ly8gaW1wb3J0IEFkZHJlc3MgZnJvbSAnLi9BZGRyZXNzLnN2ZWx0ZSc7XG5cblx0LyoqXG5cdCAqIFBhdGggdG8gYmFzZSByZXNvdXJjZSB0byByZXByZXNlbnRcblx0ICovXG5cdGV4cG9ydCBsZXQgcmVzb3VyY2VQYXRoID0gJyc7XG5cdGNvbnN0IHBfcmVzb3VyY2UgPSByZXNvdXJjZVBhdGg7XG5cblx0LyoqXG5cdCAqIEJhc2UgcmVzb3VyY2UgdG8gcmVwcmVzZW50XG5cdCAqL1xuXHRleHBvcnQgbGV0IHJlc291cmNlOiAoTmFtZWFibGUgJiBQZnBhYmxlKSA9IG51bGwhO1xuXHRjb25zdCBnX3Jlc291cmNlID0gcmVzb3VyY2U7XG5cdFxuXHQvKipcblx0ICogT3ZlcnJpZGVzIG5hbWUgYXV0b21hdGljYWxseSBleHRyYWN0ZWQgZnJvbSByZXNvdXJjZVxuXHQgKi9cblx0ZXhwb3J0IGxldCBuYW1lID0gZ19yZXNvdXJjZT8ubmFtZTtcblx0Y29uc3Qgc19uYW1lID0gbmFtZTtcblxuXHQvKipcblx0ICogQWRkcyBgICh7VkFMVUV9KWAgYWZ0ZXIgdGhlIG5hbWUgaW4gYSBkaW1tZXIgY29sb3Jcblx0ICovXG5cdGV4cG9ydCBsZXQgcG9zdG5hbWUgPSAnJztcblx0Y29uc3Qgc19wb3N0bmFtZSA9IHBvc3RuYW1lO1xuXG5cdC8qKlxuXHQgKiBPdmVycmlkZXMgcGZwIGF1dG9tYXRpY2FsbHkgZXh0cmFjdGVkIGZyb20gcmVzb3VyY2Vcblx0ICovXG5cdGV4cG9ydCBsZXQgcGZwOiBQZnBQYXRoID0gZ19yZXNvdXJjZT8ucGZwO1xuXHRjb25zdCBwX3BmcCA9IHBmcDtcblxuXHQvKipcblx0ICogU2V0cyB0aGUgZGltZW5zaW9ucyBvZiB0aGUgcGZwIGljb25cblx0ICovXG5cdGV4cG9ydCBsZXQgcGZwRGltID0gNDg7XG5cdGNvbnN0IHhfZGltX3BmcCA9IHBmcERpbTtcblxuXG5cdGV4cG9ydCBsZXQgYW1vdW50OiBQcm9taXNhYmxlPHN0cmluZz4gPSAnJztcblx0ZXhwb3J0IGxldCBmaWF0OiBQcm9taXNhYmxlPHN0cmluZz4gPSAnJztcblx0ZXhwb3J0IGxldCBzeW1ib2wgPSAnJztcblx0ZXhwb3J0IGxldCBsb2NrSWNvbiA9IGZhbHNlO1xuXHRleHBvcnQgbGV0IGFkZHJlc3MgPSAnJztcblx0ZXhwb3J0IGxldCBkZXRhaWwgPSAnJztcblx0ZXhwb3J0IGxldCBwcmVmaXggPSAnJztcblxuXG5cdC8vIGV4cG9ydCBsZXQgdGFnUmVmczogVGFnLlJlZltdIHwgbnVsbCA9IG51bGw7XG5cdGV4cG9ydCBsZXQgcm9vdFN0eWxlID0gJyc7XG5cblx0ZXhwb3J0IGxldCByb290Q2xhc3NlcyA9ICcnO1xuXHRjb25zdCBzX2NsYXNzZXMgPSByb290Q2xhc3NlcztcblxuXHRleHBvcnQgbGV0IGljb25DbGFzcyA9ICcnO1xuXHQvLyBjb25zdCBrX2ljb24gPSBpY29uO1xuXHQvLyAkOiBhX3RhZ3MgPSB0YWdSZWZzPy5sZW5ndGg/IHRhZ1JlZnMubWFwKHBfdGFnID0+IEhfVEFHU1twX3RhZ10pOiBbXTtcblxuXHQvLyBsb2FkIHRhZ3MgZnJvbSByZXNvdXJjZSBwYXRoXG5cdGNvbnN0IGFfdGFncyA9ICR5d19zdG9yZV90YWdzPy5nZXRUYWdzRm9yKHBfcmVzb3VyY2UpIHx8IFtdO1xuXHRcblx0Y29uc3QgYXNfaW50ZXJ2YWxzID0gbmV3IFNldDxudW1iZXI+KCk7XG5cblx0b25EZXN0cm95KCgpID0+IHtcblx0XHRmb3IoY29uc3QgaV9pbnRlcnZhbCBvZiBhc19pbnRlcnZhbHMpIHtcblx0XHRcdGNsZWFySW50ZXJ2YWwoaV9pbnRlcnZhbCk7XG5cdFx0fVxuXHR9KTtcblxuXHRsZXQgc19zcGluID0gJyc7XG5cdGFzeW5jIGZ1bmN0aW9uIHN0YXJ0X3NwaW5uZXI8d192YWx1ZT4oZHBfdGhpbmc6IFByb21pc2FibGU8d192YWx1ZT4pOiBQcm9taXNlPHdfdmFsdWU+IHtcblx0XHRjb25zdCBBX1NQSU4gPSBbJ+KXnCDil50nLCAnIMuJ4peeJywgJyDLjeKXnScsICfil58g4peeJywgJ+KXnMuNICcsICfil5/LiSAnXTtcblx0XHRsZXQgaV9zcGluID0gMDtcblx0XHRzX3NwaW4gPSBBX1NQSU5bMF07XG5cblx0XHQvLyB0aGluZyBpcyBhIHByb21pc2Vcblx0XHRpZihkcF90aGluZyBpbnN0YW5jZW9mIFByb21pc2UpIHtcblx0XHRcdC8vIHN0YXJ0IHNwaW5uZXJcblx0XHRcdGNvbnN0IGlfaW50ZXJ2YWwgPSB3aW5kb3cuc2V0SW50ZXJ2YWwoKCkgPT4ge1xuXHRcdFx0XHRpX3NwaW4gPSAoaV9zcGluICsgMSkgJSBBX1NQSU4ubGVuZ3RoO1xuXHRcdFx0XHRzX3NwaW4gPSBBX1NQSU5baV9zcGluXTtcblx0XHRcdH0sIDEyNSk7XG5cblx0XHRcdC8vIGFkZCB0byBpbnRlcnZhbHNcblx0XHRcdGFzX2ludGVydmFscy5hZGQoaV9pbnRlcnZhbCk7XG5cblx0XHRcdC8vIGF3YWl0IHRoaW5nIHRvIHJlc29sdmVcblx0XHRcdGNvbnN0IHdfdmFsdWUgPSBhd2FpdCBkcF90aGluZztcblxuXHRcdFx0Ly8gc3RvcCBpbnRlcnZhbFxuXHRcdFx0Y2xlYXJJbnRlcnZhbChpX2ludGVydmFsKTtcblxuXHRcdFx0Ly8gcmV0dXJuIHZhbHVlXG5cdFx0XHRyZXR1cm4gd192YWx1ZTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZHBfdGhpbmc7XG5cdH1cblxuXG5cdC8vIGNvbnN0IGtfY29udGFjdCA9IGFkZHJlc3M/IEhfQUREUl9UT19DT05UQUNUW2FkZHJlc3NdIHx8IG51bGw6IG51bGw7XG5cbjwvc2NyaXB0PlxuXG48c3R5bGUgbGFuZz1cImxlc3NcIj5cblx0QGltcG9ydCAnLi9fYmFzZS5sZXNzJztcblxuXHQubW9ub2xpbmUoKSB7XG5cdFx0d2hpdGUtc3BhY2U6IG5vd3JhcDtcblx0XHRvdmVyZmxvdy14OiBoaWRkZW47XG5cdFx0dGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG5cdH1cblxuXHQ6cm9vdCB7XG5cdFx0LS1yb3ctcGFkZGluZzogMjBweDtcblx0XHQtLWljb24tbWFyZ2luOiAxNHB4O1xuXHR9XG5cblx0LnJvdyB7XG5cdFx0cGFkZGluZzogdmFyKC0tcm93LXBhZGRpbmcpO1xuXHRcdGJvcmRlci10b3A6IDFweCBzb2xpZCB2YXIoLS10aGVtZS1jb2xvci1ib3JkZXIpO1xuXHRcdGJvcmRlci1ib3R0b206IDFweCBzb2xpZCB2YXIoLS10aGVtZS1jb2xvci1ib3JkZXIpO1xuXHRcdG1heC13aWR0aDogdmFyKC0tYXBwLXdpbmRvdy13aWR0aCk7XG5cdFx0Ly8gb3ZlcmZsb3cteDogc2Nyb2xsO1xuXHRcdGN1cnNvcjogcG9pbnRlcjtcblxuXHRcdC8vIGRpc3BsYXk6IGZsZXg7XG5cdFx0Ly8gYWxpZ24taXRlbXM6IGNlbnRlcjtcblxuXHRcdGRpc3BsYXk6IGZsZXg7XG5cdFx0ZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcblxuXHRcdD4uYmFubmVyIHtcblx0XHRcdGRpc3BsYXk6IGZsZXg7XG5cdFx0XHRhbGlnbi1pdGVtczogY2VudGVyO1xuXHRcdH1cblxuXHRcdCY6bnRoLWNoaWxkKG4rMikge1xuXHRcdFx0Ym9yZGVyLXRvcC1jb2xvcjogdHJhbnNwYXJlbnQ7XG5cdFx0fVxuXG5cdFx0XG5cdFx0Lmljb24ge1xuXHRcdFx0LS1pY29uLWRpYW1ldGVyOiB2YXIoLS1pY29uLWRpYW1ldGVyLCB2YXIoLS1hcHAtaWNvbi1kaWFtZXRlcikpO1xuXG5cdFx0XHRmbGV4OiAwIDAgdmFyKC0taWNvbi1kaWFtZXRlcik7XG5cdFx0XHRtYXJnaW4tcmlnaHQ6IHZhcigtLWljb24tbWFyZ2luKTtcblxuXHRcdFx0Ji5ib3JkZXJlZCB7XG5cdFx0XHRcdC0taWNvbi1kaWFtZXRlcjogY2FsYyh2YXIoLS1hcHAtaWNvbi1kaWFtZXRlcikgLSAycHgpO1xuXHRcdFx0XHRiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1idXR0b24tY29sb3IsIHZhcigtLXRoZW1lLWNvbG9yLWJvcmRlcikpO1xuXHRcdFx0fVxuXG5cdFx0XHQmPi5pY29uLTIwIHtcblx0XHRcdFx0Omdsb2JhbCgmKSB7XG5cdFx0XHRcdFx0LS1pY29uLWRpYW1ldGVyOiAxOHB4O1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGltZyB7XG5cdFx0XHRcdDpnbG9iYWwoJikge1xuXHRcdFx0XHRcdGJvcmRlci1yYWRpdXM6IDIwJTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQmLnNpdGUge1xuXHRcdFx0XHQ6Z2xvYmFsKCYpIHtcblx0XHRcdFx0XHRiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS10aGVtZS1jb2xvci10ZXh0LWxpZ2h0KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIGRpc3BsYXk6IGZsZXg7XG5cdFx0Ly8gZmxleC1kaXJlY3Rpb246IHJvdztcblx0XHQvLyBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcblxuXHRcdC5jb250ZW50IHtcblx0XHRcdGZsZXg6IGF1dG87XG5cblx0XHRcdGRpc3BsYXk6IGZsZXg7XG5cdFx0XHRtYXgtd2lkdGg6IGNhbGModmFyKC0tYXBwLXdpbmRvdy13aWR0aCkgLSB2YXIoLS1hcHAtaWNvbi1kaWFtZXRlcikgLSB2YXIoLS1pY29uLW1hcmdpbikgLSB2YXIoLS1yb3ctcGFkZGluZykgLSB2YXIoLS1yb3ctcGFkZGluZykpO1xuXG5cdFx0XHQ+LnBhcnQge1xuXHRcdFx0XHRmbGV4OiBhdXRvO1xuXG5cdFx0XHRcdGRpc3BsYXk6IGZsZXg7XG5cdFx0XHRcdGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG5cblx0XHRcdFx0Ji5tYWluIHtcblx0XHRcdFx0XHRvdmVyZmxvdzogaGlkZGVuO1xuXG5cdFx0XHRcdFx0Pi50aXRsZSB7XG5cdFx0XHRcdFx0XHRmbGV4OiAwO1xuXG5cdFx0XHRcdFx0XHQ+Lm5hbWUge1xuXHRcdFx0XHRcdFx0XHQuZm9udChyZWd1bGFyKTtcblxuXHRcdFx0XHRcdFx0XHRkaXNwbGF5OiBpbmxpbmUtZmxleDtcblx0XHRcdFx0XHRcdFx0bWF4LXdpZHRoOiAxMDAlO1xuXG5cdFx0XHRcdFx0XHRcdD4udGV4dCB7XG5cdFx0XHRcdFx0XHRcdFx0bWF4LXdpZHRoOiAxMDAlO1xuXHRcdFx0XHRcdFx0XHRcdC5tb25vbGluZSgpO1xuXHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0LnBvc3RuYW1lIHtcblx0XHRcdFx0XHRcdFx0XHRjb2xvcjogdmFyKC0tdGhlbWUtY29sb3ItdGV4dC1tZWQpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdD4uc3ltYm9sIHtcblx0XHRcdFx0XHRcdFx0Y29sb3I6IHZhcigtLXRoZW1lLWNvbG9yLXRleHQtbWVkKTtcblx0XHRcdFx0XHRcdFx0bWFyZ2luLWxlZnQ6IDAuNjNjaDtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0PnN2ZyB7XG5cdFx0XHRcdFx0XHRcdDpnbG9iYWwoJikge1xuXHRcdFx0XHRcdFx0XHRcdG1hcmdpbi1sZWZ0OiAtMXB4O1xuXHRcdFx0XHRcdFx0XHRcdHZlcnRpY2FsLWFsaWduOiAtM3B4O1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Pi5zdWJ0aXRsZSB7XG5cdFx0XHRcdFx0XHRmbGV4OiAwO1xuXG5cdFx0XHRcdFx0XHQ+Om50aC1jaGlsZChuKzIpIHtcblx0XHRcdFx0XHRcdFx0Omdsb2JhbCgmKSB7XG5cdFx0XHRcdFx0XHRcdFx0bWFyZ2luLWxlZnQ6IDRweDtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHQ+LmRldGFpbCB7XG5cdFx0XHRcdFx0XHRcdGNvbG9yOiB2YXIoLS10aGVtZS1jb2xvci10ZXh0LW1lZCk7XG5cdFx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0XHQuZm9udCh0aW55KTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0Pi5jb250YWN0IHtcblx0XHRcdFx0XHRcdFx0ZGlzcGxheTogZmxleDtcblx0XHRcdFx0XHRcdFx0Y29sb3I6IHZhcigtLXRoZW1lLWNvbG9yLXRleHQtbWVkKTtcblx0XHRcdFx0XHRcdFx0LmZvbnQodGlueSk7XG5cdFx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0XHQ+Lmljb24ge1xuXHRcdFx0XHRcdFx0XHRcdC0taWNvbi1kaWFtZXRlcjogMC44ZW07XG5cdFx0XHRcdFx0XHRcdFx0LS1pY29uLW1hcmdpbjogMC41ZW07XG5cdFx0XHRcdFx0XHRcdFx0bWFyZ2luLXRvcDogLTFweDtcblx0XHRcdFx0XHRcdFx0XHRjb2xvcjogdmFyKC0tdGhlbWUtY29sb3ItdGV4dC1tZWQpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdD4udGV4dCB7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0XG5cdFx0XHRcdCYuc3RhdHVzIHtcblx0XHRcdFx0XHR0ZXh0LWFsaWduOiByaWdodDtcblx0XHRcdFx0XHRtYXgtd2lkdGg6IDU1JTtcblxuXHRcdFx0XHRcdC5hbW91bnQge1xuXHRcdFx0XHRcdFx0LmZvbnQocmVndWxhcik7XG5cdFx0XHRcdFx0XHRmbGV4OiAwO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC5maWF0IHtcblx0XHRcdFx0XHRcdC5mb250KHRpbnkpO1xuXHRcdFx0XHRcdFx0ZmxleDogMDtcblx0XHRcdFx0XHRcdGNvbG9yOiB2YXIoLS10aGVtZS1jb2xvci10ZXh0LW1lZCk7XG5cdFx0XHRcdFx0XHR3aGl0ZS1zcGFjZTogbm93cmFwO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC5udW1iZXIge1xuXHRcdGRpc3BsYXk6IGlubGluZS1mbGV4O1xuXHRcdG1heC13aWR0aDogMThjaDtcblx0XHRvdmVyZmxvdy14OiBzY3JvbGw7XG5cdFx0LmhpZGUtc2Nyb2xsYmFyKCk7XG5cblx0XHR3aGl0ZS1zcGFjZTogbm93cmFwO1xuXHR9XG5cblx0LnJlc3Qge1xuXHRcdG1hcmdpbi1sZWZ0OiBjYWxjKHZhcigtLWljb24tbWFyZ2luKSArIHZhcigtLWFwcC1pY29uLWRpYW1ldGVyKSk7XG5cdH1cbjwvc3R5bGU+XG5cbjxkaXYgY2xhc3M9XCJyb3cge3NfY2xhc3Nlc31cIiBzdHlsZT17cm9vdFN0eWxlfSBvbjpjbGljaz5cblx0PGRpdiBjbGFzcz1cImJhbm5lclwiPlxuXHRcdDwhLS0geyNpZiBwX3BmcCB8fCAkJHNsb3RzLmljb259IC0tPlxuXHRcdFx0PHNwYW4gY2xhc3M9XCJpY29uIHtpY29uQ2xhc3N9XCI+XG5cdFx0XHQ8IS0tIGNsYXNzOmJvcmRlcmVkPXtrX2ljb24/LmlzSHRtbH0+IC0tPlxuXHRcdFx0XHQ8c2xvdCBuYW1lPVwiaWNvblwiPlxuXHRcdFx0XHRcdDxQZnBEaXNwbGF5IHJlZj17cF9wZnB9IG5hbWU9e3NfbmFtZX0gZGltPXt4X2RpbV9wZnB9IC8+XG5cdFx0XHRcdDwvc2xvdD5cblx0XHRcdDwvc3Bhbj5cblx0XHQ8IS0tIHsvaWZ9IC0tPlxuXHRcdDxzcGFuIGNsYXNzPVwiY29udGVudFwiPlxuXHRcdFx0PHNwYW4gY2xhc3M9XCJtYWluIHBhcnRcIj5cblx0XHRcdFx0PGRpdiBjbGFzcz1cInRpdGxlXCI+XG5cdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJuYW1lXCI+XG5cdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cInRleHRcIj5cblx0XHRcdFx0XHRcdFx0e3NfbmFtZX1cblx0XHRcdFx0XHRcdFx0eyNpZiBzX3Bvc3RuYW1lfVxuXHRcdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwicG9zdG5hbWVcIj5cblx0XHRcdFx0XHRcdFx0XHRcdCh7c19wb3N0bmFtZX0pXG5cdFx0XHRcdFx0XHRcdFx0PC9zcGFuPlxuXHRcdFx0XHRcdFx0XHR7L2lmfVxuXHRcdFx0XHRcdFx0PC9zcGFuPlxuXHRcdFx0XHRcdDwvc3Bhbj5cblx0XHRcdFx0XHQ8IS0tIHsjaWYgc3ltYm9sfVxuXHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJzeW1ib2xcIj5cblx0XHRcdFx0XHRcdFx0e3N5bWJvbH1cblx0XHRcdFx0XHRcdDwvc3Bhbj5cblx0XHRcdFx0XHR7L2lmfSAtLT5cblx0XHRcdFx0XHR7I2lmIGxvY2tJY29ufVxuXHRcdFx0XHRcdFx0PCEtLSA8TG9ja091dGxpbmUgY29sb3I9J3ZhcigtLXRoZW1lLWNvbG9yLXRleHQtbWVkKScgc2l6ZT0nMThweCcgLz4gLS0+XG5cdFx0XHRcdFx0ey9pZn1cblx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdHsjaWYgYWRkcmVzcyB8fCBzeW1ib2wgfHwgZGV0YWlsIHx8IGFfdGFncy5sZW5ndGggfHwgJCRzbG90cy5kZXRhaWx9XG5cdFx0XHRcdFx0PGRpdiBjbGFzcz1cInN1YnRpdGxlXCI+XG5cdDwhLS0gXHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0eyNpZiBrX2NvbnRhY3R9XG5cdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwiY29udGFjdFwiPlxuXHRcdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwiaWNvblwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0PEZhIGljb249e2ZhVXNlcn0gLz5cblx0XHRcdFx0XHRcdFx0XHQ8L3NwYW4+XG5cdFx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJ0ZXh0XCI+XG5cdFx0XHRcdFx0XHRcdFx0XHR7a19jb250YWN0LmRlZi5sYWJlbH1cblx0XHRcdFx0XHRcdFx0XHQ8L3NwYW4+XG5cdFx0XHRcdFx0XHRcdDwvc3Bhbj4gLS0+XG5cdFx0XHRcdFx0XHR7I2lmIGRldGFpbCB8fCBzeW1ib2wgfHwgJCRzbG90cy5kZXRhaWx9XG5cdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwiZGV0YWlsXCI+XG5cdFx0XHRcdFx0XHRcdFx0PHNsb3QgbmFtZT1cImRldGFpbFwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0e3ByZWZpeH17ZGV0YWlsIHx8IHN5bWJvbH1cblx0XHRcdFx0XHRcdFx0XHQ8L3Nsb3Q+XG5cdFx0XHRcdFx0XHRcdDwvc3Bhbj5cblx0XHRcdFx0XHRcdHs6ZWxzZSBpZiBhZGRyZXNzfVxuXHRcdFx0XHRcdFx0XHQ8IS0tIDxBZGRyZXNzIGFkZHJlc3M9e2FkZHJlc3N9IC8+IC0tPlxuXHRcdFx0XHRcdFx0ey9pZn1cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0ey9pZn1cblx0XHRcdDwvc3Bhbj5cblxuXHRcdFx0PHNwYW4gY2xhc3M9XCJzdGF0dXMgcGFydFwiPlxuXHRcdFx0XHR7I2lmICQkc2xvdHMuc3RhdHVzfVxuXHRcdFx0XHRcdDxzbG90IG5hbWU9XCJzdGF0dXNcIj48L3Nsb3Q+XG5cdFx0XHRcdHs6ZWxzZSBpZiBhbW91bnR9XG5cdFx0XHRcdFx0PGRpdiBjbGFzcz1cImFtb3VudFwiPlxuXHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJudW1iZXJcIj5cblx0XHRcdFx0XHRcdFx0eyNhd2FpdCBzdGFydF9zcGlubmVyKGFtb3VudCl9XG5cdFx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJmb250LWZhbWlseV9tb25vXCI+XG5cdFx0XHRcdFx0XHRcdFx0XHR7c19zcGlufVxuXHRcdFx0XHRcdFx0XHRcdDwvc3Bhbj5cblx0XHRcdFx0XHRcdFx0ezp0aGVuIHNfYW1vdW50fVxuXHRcdFx0XHRcdFx0XHRcdDxzcGFuPlxuXHRcdFx0XHRcdFx0XHRcdFx0e2Ftb3VudH1cblx0XHRcdFx0XHRcdFx0XHQ8L3NwYW4+XG5cdFx0XHRcdFx0XHRcdHsvYXdhaXR9XG5cdFx0XHRcdFx0XHQ8L3NwYW4+XG5cdFx0XHRcdFx0PC9kaXY+XG5cblx0XHRcdFx0XHR7I2lmIGZpYXR9XG5cdFx0XHRcdFx0XHQ8ZGl2PlxuXHRcdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cImZpYXRcIj5cblx0XHRcdFx0XHRcdFx0XHR7I2F3YWl0IGZpYXR9XG5cdFx0XHRcdFx0XHRcdFx0XHQkLi4uXG5cdFx0XHRcdFx0XHRcdFx0ezp0aGVuIHNfZmlhdH1cblx0XHRcdFx0XHRcdFx0XHRcdHtzX2ZpYXR9XG5cdFx0XHRcdFx0XHRcdFx0ey9hd2FpdH1cblx0XHRcdFx0XHRcdFx0PC9zcGFuPlxuXHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0ey9pZn1cblx0XHRcdFx0ey9pZn1cblx0XHRcdDwvc3Bhbj5cblx0XHQ8L3NwYW4+XG5cdFx0eyNpZiAkJHNsb3RzLnJpZ2h0fVxuXHRcdFx0PHNsb3QgbmFtZT1cInJpZ2h0XCIgLz5cblx0XHR7L2lmfVxuXHQ8L2Rpdj5cblxuXHQ8ZGl2IGNsYXNzPVwicmVzdFwiPlxuXHRcdHsjaWYgYV90YWdzLmxlbmd0aCB8fCAkJHNsb3RzLnRhZ3N9XG5cdFx0XHQ8c2xvdCBuYW1lPVwidGFnc1wiPlxuXHRcdFx0XHQ8IS0tIDxUYWdzIHRhZ3M9e2FfdGFnc30gY29sbGFwc2VkIC8+IC0tPlxuXHRcdFx0PC9zbG90PlxuXHRcdHsvaWZ9XG5cdDwvZGl2PlxuPC9kaXY+XG4iLCI8c2NyaXB0IGxhbmc9XCJ0c1wiPlxuXHRpbXBvcnQge2NyZWF0ZUV2ZW50RGlzcGF0Y2hlcn0gZnJvbSAnc3ZlbHRlJztcblxuXHRpbXBvcnQgU1hfSUNPTl9BREQgZnJvbSAnIy9pY29uL2FkZC1zbWFsbC5zdmc/cmF3Jztcblx0aW1wb3J0IENsb3NlIGZyb20gJy4vQ2xvc2Uuc3ZlbHRlJztcblx0aW1wb3J0IHsgeXdfcG9wdXAgfSBmcm9tICcuLi9tZW0nO1xuXG5cdGV4cG9ydCBsZXQgdGl0bGU6IHN0cmluZztcblxuXHRleHBvcnQgbGV0IGJ1dHRvbnM6IHN0cmluZ1tdID0gW107XG5cblx0ZXhwb3J0IGxldCBiYXJlID0gZmFsc2U7XG5cblx0ZXhwb3J0IGxldCBjbG9zZXMgPSBmYWxzZTtcblx0Y29uc3QgYl9jbG9zZXMgPSBjbG9zZXM7XG5cblx0Y29uc3QgZGlzcGF0Y2ggPSBjcmVhdGVFdmVudERpc3BhdGNoZXIoKTtcbjwvc2NyaXB0PlxuXG48c3R5bGUgbGFuZz1cImxlc3NcIj5cblx0LnRpdGxlIHtcblx0XHRkaXNwbGF5OiBmbGV4O1xuXHRcdGFsaWduLWl0ZW1zOiBjZW50ZXI7XG5cdFx0anVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuXG5cdFx0Pi5yaWdodCB7XG5cdFx0XHRkaXNwbGF5OiBmbGV4O1xuXHRcdFx0Z2FwOiA4cHg7XG5cdFx0fVxuXG5cdFx0LnBpbGwge1xuXHRcdFx0Pi5pY29uIHtcblx0XHRcdFx0LS1pY29uLWRpYW1ldGVyOiA4cHg7XG5cdFx0XHRcdC0taWNvbi1jb2xvcjogdmFyKC0tdGhlbWUtY29sb3ItcHJpbWFyeSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG48L3N0eWxlPlxuXG48ZGl2IGNsYXNzPVwidGl0bGVcIj5cblx0PHNwYW4gY2xhc3M9XCJ0ZXh0XCI+XG5cdFx0e3RpdGxlfVxuXHQ8L3NwYW4+XG5cblx0PHNwYW4gY2xhc3M9XCJyaWdodFwiPlxuXHRcdHsjZWFjaCBidXR0b25zIGFzIHNfYnV0dG9ufVxuXHRcdFx0PGJ1dHRvbiBjbGFzcz1cInBpbGxcIiBvbjpjbGljaz17KCkgPT4gZGlzcGF0Y2goc19idXR0b24udG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9cXHMvZywgJ18nKSl9PlxuXHRcdFx0XHQ8c3BhbiBjbGFzcz1cInRleHRcIj5cblx0XHRcdFx0XHR7c19idXR0b259XG5cdFx0XHRcdDwvc3Bhbj5cblx0XHRcdDwvYnV0dG9uPlxuXHRcdHsvZWFjaH1cblxuXHRcdHsjaWYgIWJhcmV9XG5cdFx0XHQ8YnV0dG9uIGNsYXNzPVwicGlsbFwiIG9uOmNsaWNrPXsoKSA9PiBkaXNwYXRjaCgnYWRkX25ldycpfT5cblx0XHRcdFx0PHNwYW4gY2xhc3M9XCJpY29uXCI+XG5cdFx0XHRcdFx0e0BodG1sIFNYX0lDT05fQUREfVxuXHRcdFx0XHQ8L3NwYW4+XG5cblx0XHRcdFx0PHNwYW4gY2xhc3M9XCJ0ZXh0XCI+XG5cdFx0XHRcdFx0QWRkIE5ld1xuXHRcdFx0XHQ8L3NwYW4+XG5cdFx0XHQ8L2J1dHRvbj5cblx0XHR7L2lmfVxuXG5cdFx0eyNpZiBiX2Nsb3Nlc31cblx0XHRcdDxDbG9zZSBvbjpjbGljaz17KCkgPT4gJHl3X3BvcHVwID0gbnVsbH0gLz5cblx0XHR7L2lmfVxuXHQ8L3NwYW4+XG48L2Rpdj5cbiIsImV4cG9ydCB7IGlkZW50aXR5IGFzIGxpbmVhciB9IGZyb20gJy4uL2ludGVybmFsL2luZGV4Lm1qcyc7XG5cbi8qXG5BZGFwdGVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL21hdHRkZXNsXG5EaXN0cmlidXRlZCB1bmRlciBNSVQgTGljZW5zZSBodHRwczovL2dpdGh1Yi5jb20vbWF0dGRlc2wvZWFzZXMvYmxvYi9tYXN0ZXIvTElDRU5TRS5tZFxuKi9cbmZ1bmN0aW9uIGJhY2tJbk91dCh0KSB7XG4gICAgY29uc3QgcyA9IDEuNzAxNTggKiAxLjUyNTtcbiAgICBpZiAoKHQgKj0gMikgPCAxKVxuICAgICAgICByZXR1cm4gMC41ICogKHQgKiB0ICogKChzICsgMSkgKiB0IC0gcykpO1xuICAgIHJldHVybiAwLjUgKiAoKHQgLT0gMikgKiB0ICogKChzICsgMSkgKiB0ICsgcykgKyAyKTtcbn1cbmZ1bmN0aW9uIGJhY2tJbih0KSB7XG4gICAgY29uc3QgcyA9IDEuNzAxNTg7XG4gICAgcmV0dXJuIHQgKiB0ICogKChzICsgMSkgKiB0IC0gcyk7XG59XG5mdW5jdGlvbiBiYWNrT3V0KHQpIHtcbiAgICBjb25zdCBzID0gMS43MDE1ODtcbiAgICByZXR1cm4gLS10ICogdCAqICgocyArIDEpICogdCArIHMpICsgMTtcbn1cbmZ1bmN0aW9uIGJvdW5jZU91dCh0KSB7XG4gICAgY29uc3QgYSA9IDQuMCAvIDExLjA7XG4gICAgY29uc3QgYiA9IDguMCAvIDExLjA7XG4gICAgY29uc3QgYyA9IDkuMCAvIDEwLjA7XG4gICAgY29uc3QgY2EgPSA0MzU2LjAgLyAzNjEuMDtcbiAgICBjb25zdCBjYiA9IDM1NDQyLjAgLyAxODA1LjA7XG4gICAgY29uc3QgY2MgPSAxNjA2MS4wIC8gMTgwNS4wO1xuICAgIGNvbnN0IHQyID0gdCAqIHQ7XG4gICAgcmV0dXJuIHQgPCBhXG4gICAgICAgID8gNy41NjI1ICogdDJcbiAgICAgICAgOiB0IDwgYlxuICAgICAgICAgICAgPyA5LjA3NSAqIHQyIC0gOS45ICogdCArIDMuNFxuICAgICAgICAgICAgOiB0IDwgY1xuICAgICAgICAgICAgICAgID8gY2EgKiB0MiAtIGNiICogdCArIGNjXG4gICAgICAgICAgICAgICAgOiAxMC44ICogdCAqIHQgLSAyMC41MiAqIHQgKyAxMC43Mjtcbn1cbmZ1bmN0aW9uIGJvdW5jZUluT3V0KHQpIHtcbiAgICByZXR1cm4gdCA8IDAuNVxuICAgICAgICA/IDAuNSAqICgxLjAgLSBib3VuY2VPdXQoMS4wIC0gdCAqIDIuMCkpXG4gICAgICAgIDogMC41ICogYm91bmNlT3V0KHQgKiAyLjAgLSAxLjApICsgMC41O1xufVxuZnVuY3Rpb24gYm91bmNlSW4odCkge1xuICAgIHJldHVybiAxLjAgLSBib3VuY2VPdXQoMS4wIC0gdCk7XG59XG5mdW5jdGlvbiBjaXJjSW5PdXQodCkge1xuICAgIGlmICgodCAqPSAyKSA8IDEpXG4gICAgICAgIHJldHVybiAtMC41ICogKE1hdGguc3FydCgxIC0gdCAqIHQpIC0gMSk7XG4gICAgcmV0dXJuIDAuNSAqIChNYXRoLnNxcnQoMSAtICh0IC09IDIpICogdCkgKyAxKTtcbn1cbmZ1bmN0aW9uIGNpcmNJbih0KSB7XG4gICAgcmV0dXJuIDEuMCAtIE1hdGguc3FydCgxLjAgLSB0ICogdCk7XG59XG5mdW5jdGlvbiBjaXJjT3V0KHQpIHtcbiAgICByZXR1cm4gTWF0aC5zcXJ0KDEgLSAtLXQgKiB0KTtcbn1cbmZ1bmN0aW9uIGN1YmljSW5PdXQodCkge1xuICAgIHJldHVybiB0IDwgMC41ID8gNC4wICogdCAqIHQgKiB0IDogMC41ICogTWF0aC5wb3coMi4wICogdCAtIDIuMCwgMy4wKSArIDEuMDtcbn1cbmZ1bmN0aW9uIGN1YmljSW4odCkge1xuICAgIHJldHVybiB0ICogdCAqIHQ7XG59XG5mdW5jdGlvbiBjdWJpY091dCh0KSB7XG4gICAgY29uc3QgZiA9IHQgLSAxLjA7XG4gICAgcmV0dXJuIGYgKiBmICogZiArIDEuMDtcbn1cbmZ1bmN0aW9uIGVsYXN0aWNJbk91dCh0KSB7XG4gICAgcmV0dXJuIHQgPCAwLjVcbiAgICAgICAgPyAwLjUgKlxuICAgICAgICAgICAgTWF0aC5zaW4oKCgrMTMuMCAqIE1hdGguUEkpIC8gMikgKiAyLjAgKiB0KSAqXG4gICAgICAgICAgICBNYXRoLnBvdygyLjAsIDEwLjAgKiAoMi4wICogdCAtIDEuMCkpXG4gICAgICAgIDogMC41ICpcbiAgICAgICAgICAgIE1hdGguc2luKCgoLTEzLjAgKiBNYXRoLlBJKSAvIDIpICogKDIuMCAqIHQgLSAxLjAgKyAxLjApKSAqXG4gICAgICAgICAgICBNYXRoLnBvdygyLjAsIC0xMC4wICogKDIuMCAqIHQgLSAxLjApKSArXG4gICAgICAgICAgICAxLjA7XG59XG5mdW5jdGlvbiBlbGFzdGljSW4odCkge1xuICAgIHJldHVybiBNYXRoLnNpbigoMTMuMCAqIHQgKiBNYXRoLlBJKSAvIDIpICogTWF0aC5wb3coMi4wLCAxMC4wICogKHQgLSAxLjApKTtcbn1cbmZ1bmN0aW9uIGVsYXN0aWNPdXQodCkge1xuICAgIHJldHVybiAoTWF0aC5zaW4oKC0xMy4wICogKHQgKyAxLjApICogTWF0aC5QSSkgLyAyKSAqIE1hdGgucG93KDIuMCwgLTEwLjAgKiB0KSArIDEuMCk7XG59XG5mdW5jdGlvbiBleHBvSW5PdXQodCkge1xuICAgIHJldHVybiB0ID09PSAwLjAgfHwgdCA9PT0gMS4wXG4gICAgICAgID8gdFxuICAgICAgICA6IHQgPCAwLjVcbiAgICAgICAgICAgID8gKzAuNSAqIE1hdGgucG93KDIuMCwgMjAuMCAqIHQgLSAxMC4wKVxuICAgICAgICAgICAgOiAtMC41ICogTWF0aC5wb3coMi4wLCAxMC4wIC0gdCAqIDIwLjApICsgMS4wO1xufVxuZnVuY3Rpb24gZXhwb0luKHQpIHtcbiAgICByZXR1cm4gdCA9PT0gMC4wID8gdCA6IE1hdGgucG93KDIuMCwgMTAuMCAqICh0IC0gMS4wKSk7XG59XG5mdW5jdGlvbiBleHBvT3V0KHQpIHtcbiAgICByZXR1cm4gdCA9PT0gMS4wID8gdCA6IDEuMCAtIE1hdGgucG93KDIuMCwgLTEwLjAgKiB0KTtcbn1cbmZ1bmN0aW9uIHF1YWRJbk91dCh0KSB7XG4gICAgdCAvPSAwLjU7XG4gICAgaWYgKHQgPCAxKVxuICAgICAgICByZXR1cm4gMC41ICogdCAqIHQ7XG4gICAgdC0tO1xuICAgIHJldHVybiAtMC41ICogKHQgKiAodCAtIDIpIC0gMSk7XG59XG5mdW5jdGlvbiBxdWFkSW4odCkge1xuICAgIHJldHVybiB0ICogdDtcbn1cbmZ1bmN0aW9uIHF1YWRPdXQodCkge1xuICAgIHJldHVybiAtdCAqICh0IC0gMi4wKTtcbn1cbmZ1bmN0aW9uIHF1YXJ0SW5PdXQodCkge1xuICAgIHJldHVybiB0IDwgMC41XG4gICAgICAgID8gKzguMCAqIE1hdGgucG93KHQsIDQuMClcbiAgICAgICAgOiAtOC4wICogTWF0aC5wb3codCAtIDEuMCwgNC4wKSArIDEuMDtcbn1cbmZ1bmN0aW9uIHF1YXJ0SW4odCkge1xuICAgIHJldHVybiBNYXRoLnBvdyh0LCA0LjApO1xufVxuZnVuY3Rpb24gcXVhcnRPdXQodCkge1xuICAgIHJldHVybiBNYXRoLnBvdyh0IC0gMS4wLCAzLjApICogKDEuMCAtIHQpICsgMS4wO1xufVxuZnVuY3Rpb24gcXVpbnRJbk91dCh0KSB7XG4gICAgaWYgKCh0ICo9IDIpIDwgMSlcbiAgICAgICAgcmV0dXJuIDAuNSAqIHQgKiB0ICogdCAqIHQgKiB0O1xuICAgIHJldHVybiAwLjUgKiAoKHQgLT0gMikgKiB0ICogdCAqIHQgKiB0ICsgMik7XG59XG5mdW5jdGlvbiBxdWludEluKHQpIHtcbiAgICByZXR1cm4gdCAqIHQgKiB0ICogdCAqIHQ7XG59XG5mdW5jdGlvbiBxdWludE91dCh0KSB7XG4gICAgcmV0dXJuIC0tdCAqIHQgKiB0ICogdCAqIHQgKyAxO1xufVxuZnVuY3Rpb24gc2luZUluT3V0KHQpIHtcbiAgICByZXR1cm4gLTAuNSAqIChNYXRoLmNvcyhNYXRoLlBJICogdCkgLSAxKTtcbn1cbmZ1bmN0aW9uIHNpbmVJbih0KSB7XG4gICAgY29uc3QgdiA9IE1hdGguY29zKHQgKiBNYXRoLlBJICogMC41KTtcbiAgICBpZiAoTWF0aC5hYnModikgPCAxZS0xNClcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgZWxzZVxuICAgICAgICByZXR1cm4gMSAtIHY7XG59XG5mdW5jdGlvbiBzaW5lT3V0KHQpIHtcbiAgICByZXR1cm4gTWF0aC5zaW4oKHQgKiBNYXRoLlBJKSAvIDIpO1xufVxuXG5leHBvcnQgeyBiYWNrSW4sIGJhY2tJbk91dCwgYmFja091dCwgYm91bmNlSW4sIGJvdW5jZUluT3V0LCBib3VuY2VPdXQsIGNpcmNJbiwgY2lyY0luT3V0LCBjaXJjT3V0LCBjdWJpY0luLCBjdWJpY0luT3V0LCBjdWJpY091dCwgZWxhc3RpY0luLCBlbGFzdGljSW5PdXQsIGVsYXN0aWNPdXQsIGV4cG9JbiwgZXhwb0luT3V0LCBleHBvT3V0LCBxdWFkSW4sIHF1YWRJbk91dCwgcXVhZE91dCwgcXVhcnRJbiwgcXVhcnRJbk91dCwgcXVhcnRPdXQsIHF1aW50SW4sIHF1aW50SW5PdXQsIHF1aW50T3V0LCBzaW5lSW4sIHNpbmVJbk91dCwgc2luZU91dCB9O1xuIiwiaW1wb3J0IHsgY3ViaWNJbk91dCwgbGluZWFyLCBjdWJpY091dCB9IGZyb20gJy4uL2Vhc2luZy9pbmRleC5tanMnO1xuaW1wb3J0IHsgaXNfZnVuY3Rpb24sIGFzc2lnbiB9IGZyb20gJy4uL2ludGVybmFsL2luZGV4Lm1qcyc7XG5cbi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cclxuXHJcblBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxyXG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXHJcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxyXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXHJcbklORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxyXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxyXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXHJcblBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcblxyXG5mdW5jdGlvbiBfX3Jlc3QocywgZSkge1xyXG4gICAgdmFyIHQgPSB7fTtcclxuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxyXG4gICAgICAgIHRbcF0gPSBzW3BdO1xyXG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKVxyXG4gICAgICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XHJcbiAgICAgICAgfVxyXG4gICAgcmV0dXJuIHQ7XHJcbn1cblxuZnVuY3Rpb24gYmx1cihub2RlLCB7IGRlbGF5ID0gMCwgZHVyYXRpb24gPSA0MDAsIGVhc2luZyA9IGN1YmljSW5PdXQsIGFtb3VudCA9IDUsIG9wYWNpdHkgPSAwIH0gPSB7fSkge1xuICAgIGNvbnN0IHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShub2RlKTtcbiAgICBjb25zdCB0YXJnZXRfb3BhY2l0eSA9ICtzdHlsZS5vcGFjaXR5O1xuICAgIGNvbnN0IGYgPSBzdHlsZS5maWx0ZXIgPT09ICdub25lJyA/ICcnIDogc3R5bGUuZmlsdGVyO1xuICAgIGNvbnN0IG9kID0gdGFyZ2V0X29wYWNpdHkgKiAoMSAtIG9wYWNpdHkpO1xuICAgIHJldHVybiB7XG4gICAgICAgIGRlbGF5LFxuICAgICAgICBkdXJhdGlvbixcbiAgICAgICAgZWFzaW5nLFxuICAgICAgICBjc3M6IChfdCwgdSkgPT4gYG9wYWNpdHk6ICR7dGFyZ2V0X29wYWNpdHkgLSAob2QgKiB1KX07IGZpbHRlcjogJHtmfSBibHVyKCR7dSAqIGFtb3VudH1weCk7YFxuICAgIH07XG59XG5mdW5jdGlvbiBmYWRlKG5vZGUsIHsgZGVsYXkgPSAwLCBkdXJhdGlvbiA9IDQwMCwgZWFzaW5nID0gbGluZWFyIH0gPSB7fSkge1xuICAgIGNvbnN0IG8gPSArZ2V0Q29tcHV0ZWRTdHlsZShub2RlKS5vcGFjaXR5O1xuICAgIHJldHVybiB7XG4gICAgICAgIGRlbGF5LFxuICAgICAgICBkdXJhdGlvbixcbiAgICAgICAgZWFzaW5nLFxuICAgICAgICBjc3M6IHQgPT4gYG9wYWNpdHk6ICR7dCAqIG99YFxuICAgIH07XG59XG5mdW5jdGlvbiBmbHkobm9kZSwgeyBkZWxheSA9IDAsIGR1cmF0aW9uID0gNDAwLCBlYXNpbmcgPSBjdWJpY091dCwgeCA9IDAsIHkgPSAwLCBvcGFjaXR5ID0gMCB9ID0ge30pIHtcbiAgICBjb25zdCBzdHlsZSA9IGdldENvbXB1dGVkU3R5bGUobm9kZSk7XG4gICAgY29uc3QgdGFyZ2V0X29wYWNpdHkgPSArc3R5bGUub3BhY2l0eTtcbiAgICBjb25zdCB0cmFuc2Zvcm0gPSBzdHlsZS50cmFuc2Zvcm0gPT09ICdub25lJyA/ICcnIDogc3R5bGUudHJhbnNmb3JtO1xuICAgIGNvbnN0IG9kID0gdGFyZ2V0X29wYWNpdHkgKiAoMSAtIG9wYWNpdHkpO1xuICAgIHJldHVybiB7XG4gICAgICAgIGRlbGF5LFxuICAgICAgICBkdXJhdGlvbixcbiAgICAgICAgZWFzaW5nLFxuICAgICAgICBjc3M6ICh0LCB1KSA9PiBgXG5cdFx0XHR0cmFuc2Zvcm06ICR7dHJhbnNmb3JtfSB0cmFuc2xhdGUoJHsoMSAtIHQpICogeH1weCwgJHsoMSAtIHQpICogeX1weCk7XG5cdFx0XHRvcGFjaXR5OiAke3RhcmdldF9vcGFjaXR5IC0gKG9kICogdSl9YFxuICAgIH07XG59XG5mdW5jdGlvbiBzbGlkZShub2RlLCB7IGRlbGF5ID0gMCwgZHVyYXRpb24gPSA0MDAsIGVhc2luZyA9IGN1YmljT3V0IH0gPSB7fSkge1xuICAgIGNvbnN0IHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShub2RlKTtcbiAgICBjb25zdCBvcGFjaXR5ID0gK3N0eWxlLm9wYWNpdHk7XG4gICAgY29uc3QgaGVpZ2h0ID0gcGFyc2VGbG9hdChzdHlsZS5oZWlnaHQpO1xuICAgIGNvbnN0IHBhZGRpbmdfdG9wID0gcGFyc2VGbG9hdChzdHlsZS5wYWRkaW5nVG9wKTtcbiAgICBjb25zdCBwYWRkaW5nX2JvdHRvbSA9IHBhcnNlRmxvYXQoc3R5bGUucGFkZGluZ0JvdHRvbSk7XG4gICAgY29uc3QgbWFyZ2luX3RvcCA9IHBhcnNlRmxvYXQoc3R5bGUubWFyZ2luVG9wKTtcbiAgICBjb25zdCBtYXJnaW5fYm90dG9tID0gcGFyc2VGbG9hdChzdHlsZS5tYXJnaW5Cb3R0b20pO1xuICAgIGNvbnN0IGJvcmRlcl90b3Bfd2lkdGggPSBwYXJzZUZsb2F0KHN0eWxlLmJvcmRlclRvcFdpZHRoKTtcbiAgICBjb25zdCBib3JkZXJfYm90dG9tX3dpZHRoID0gcGFyc2VGbG9hdChzdHlsZS5ib3JkZXJCb3R0b21XaWR0aCk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZGVsYXksXG4gICAgICAgIGR1cmF0aW9uLFxuICAgICAgICBlYXNpbmcsXG4gICAgICAgIGNzczogdCA9PiAnb3ZlcmZsb3c6IGhpZGRlbjsnICtcbiAgICAgICAgICAgIGBvcGFjaXR5OiAke01hdGgubWluKHQgKiAyMCwgMSkgKiBvcGFjaXR5fTtgICtcbiAgICAgICAgICAgIGBoZWlnaHQ6ICR7dCAqIGhlaWdodH1weDtgICtcbiAgICAgICAgICAgIGBwYWRkaW5nLXRvcDogJHt0ICogcGFkZGluZ190b3B9cHg7YCArXG4gICAgICAgICAgICBgcGFkZGluZy1ib3R0b206ICR7dCAqIHBhZGRpbmdfYm90dG9tfXB4O2AgK1xuICAgICAgICAgICAgYG1hcmdpbi10b3A6ICR7dCAqIG1hcmdpbl90b3B9cHg7YCArXG4gICAgICAgICAgICBgbWFyZ2luLWJvdHRvbTogJHt0ICogbWFyZ2luX2JvdHRvbX1weDtgICtcbiAgICAgICAgICAgIGBib3JkZXItdG9wLXdpZHRoOiAke3QgKiBib3JkZXJfdG9wX3dpZHRofXB4O2AgK1xuICAgICAgICAgICAgYGJvcmRlci1ib3R0b20td2lkdGg6ICR7dCAqIGJvcmRlcl9ib3R0b21fd2lkdGh9cHg7YFxuICAgIH07XG59XG5mdW5jdGlvbiBzY2FsZShub2RlLCB7IGRlbGF5ID0gMCwgZHVyYXRpb24gPSA0MDAsIGVhc2luZyA9IGN1YmljT3V0LCBzdGFydCA9IDAsIG9wYWNpdHkgPSAwIH0gPSB7fSkge1xuICAgIGNvbnN0IHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShub2RlKTtcbiAgICBjb25zdCB0YXJnZXRfb3BhY2l0eSA9ICtzdHlsZS5vcGFjaXR5O1xuICAgIGNvbnN0IHRyYW5zZm9ybSA9IHN0eWxlLnRyYW5zZm9ybSA9PT0gJ25vbmUnID8gJycgOiBzdHlsZS50cmFuc2Zvcm07XG4gICAgY29uc3Qgc2QgPSAxIC0gc3RhcnQ7XG4gICAgY29uc3Qgb2QgPSB0YXJnZXRfb3BhY2l0eSAqICgxIC0gb3BhY2l0eSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZGVsYXksXG4gICAgICAgIGR1cmF0aW9uLFxuICAgICAgICBlYXNpbmcsXG4gICAgICAgIGNzczogKF90LCB1KSA9PiBgXG5cdFx0XHR0cmFuc2Zvcm06ICR7dHJhbnNmb3JtfSBzY2FsZSgkezEgLSAoc2QgKiB1KX0pO1xuXHRcdFx0b3BhY2l0eTogJHt0YXJnZXRfb3BhY2l0eSAtIChvZCAqIHUpfVxuXHRcdGBcbiAgICB9O1xufVxuZnVuY3Rpb24gZHJhdyhub2RlLCB7IGRlbGF5ID0gMCwgc3BlZWQsIGR1cmF0aW9uLCBlYXNpbmcgPSBjdWJpY0luT3V0IH0gPSB7fSkge1xuICAgIGxldCBsZW4gPSBub2RlLmdldFRvdGFsTGVuZ3RoKCk7XG4gICAgY29uc3Qgc3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKG5vZGUpO1xuICAgIGlmIChzdHlsZS5zdHJva2VMaW5lY2FwICE9PSAnYnV0dCcpIHtcbiAgICAgICAgbGVuICs9IHBhcnNlSW50KHN0eWxlLnN0cm9rZVdpZHRoKTtcbiAgICB9XG4gICAgaWYgKGR1cmF0aW9uID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKHNwZWVkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGR1cmF0aW9uID0gODAwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZHVyYXRpb24gPSBsZW4gLyBzcGVlZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgZHVyYXRpb24gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgZHVyYXRpb24gPSBkdXJhdGlvbihsZW4pO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBkZWxheSxcbiAgICAgICAgZHVyYXRpb24sXG4gICAgICAgIGVhc2luZyxcbiAgICAgICAgY3NzOiAodCwgdSkgPT4gYHN0cm9rZS1kYXNoYXJyYXk6ICR7dCAqIGxlbn0gJHt1ICogbGVufWBcbiAgICB9O1xufVxuZnVuY3Rpb24gY3Jvc3NmYWRlKF9hKSB7XG4gICAgdmFyIHsgZmFsbGJhY2sgfSA9IF9hLCBkZWZhdWx0cyA9IF9fcmVzdChfYSwgW1wiZmFsbGJhY2tcIl0pO1xuICAgIGNvbnN0IHRvX3JlY2VpdmUgPSBuZXcgTWFwKCk7XG4gICAgY29uc3QgdG9fc2VuZCA9IG5ldyBNYXAoKTtcbiAgICBmdW5jdGlvbiBjcm9zc2ZhZGUoZnJvbSwgbm9kZSwgcGFyYW1zKSB7XG4gICAgICAgIGNvbnN0IHsgZGVsYXkgPSAwLCBkdXJhdGlvbiA9IGQgPT4gTWF0aC5zcXJ0KGQpICogMzAsIGVhc2luZyA9IGN1YmljT3V0IH0gPSBhc3NpZ24oYXNzaWduKHt9LCBkZWZhdWx0cyksIHBhcmFtcyk7XG4gICAgICAgIGNvbnN0IHRvID0gbm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgY29uc3QgZHggPSBmcm9tLmxlZnQgLSB0by5sZWZ0O1xuICAgICAgICBjb25zdCBkeSA9IGZyb20udG9wIC0gdG8udG9wO1xuICAgICAgICBjb25zdCBkdyA9IGZyb20ud2lkdGggLyB0by53aWR0aDtcbiAgICAgICAgY29uc3QgZGggPSBmcm9tLmhlaWdodCAvIHRvLmhlaWdodDtcbiAgICAgICAgY29uc3QgZCA9IE1hdGguc3FydChkeCAqIGR4ICsgZHkgKiBkeSk7XG4gICAgICAgIGNvbnN0IHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShub2RlKTtcbiAgICAgICAgY29uc3QgdHJhbnNmb3JtID0gc3R5bGUudHJhbnNmb3JtID09PSAnbm9uZScgPyAnJyA6IHN0eWxlLnRyYW5zZm9ybTtcbiAgICAgICAgY29uc3Qgb3BhY2l0eSA9ICtzdHlsZS5vcGFjaXR5O1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZGVsYXksXG4gICAgICAgICAgICBkdXJhdGlvbjogaXNfZnVuY3Rpb24oZHVyYXRpb24pID8gZHVyYXRpb24oZCkgOiBkdXJhdGlvbixcbiAgICAgICAgICAgIGVhc2luZyxcbiAgICAgICAgICAgIGNzczogKHQsIHUpID0+IGBcblx0XHRcdFx0b3BhY2l0eTogJHt0ICogb3BhY2l0eX07XG5cdFx0XHRcdHRyYW5zZm9ybS1vcmlnaW46IHRvcCBsZWZ0O1xuXHRcdFx0XHR0cmFuc2Zvcm06ICR7dHJhbnNmb3JtfSB0cmFuc2xhdGUoJHt1ICogZHh9cHgsJHt1ICogZHl9cHgpIHNjYWxlKCR7dCArICgxIC0gdCkgKiBkd30sICR7dCArICgxIC0gdCkgKiBkaH0pO1xuXHRcdFx0YFxuICAgICAgICB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiB0cmFuc2l0aW9uKGl0ZW1zLCBjb3VudGVycGFydHMsIGludHJvKSB7XG4gICAgICAgIHJldHVybiAobm9kZSwgcGFyYW1zKSA9PiB7XG4gICAgICAgICAgICBpdGVtcy5zZXQocGFyYW1zLmtleSwge1xuICAgICAgICAgICAgICAgIHJlY3Q6IG5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoY291bnRlcnBhcnRzLmhhcyhwYXJhbXMua2V5KSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IHJlY3QgfSA9IGNvdW50ZXJwYXJ0cy5nZXQocGFyYW1zLmtleSk7XG4gICAgICAgICAgICAgICAgICAgIGNvdW50ZXJwYXJ0cy5kZWxldGUocGFyYW1zLmtleSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjcm9zc2ZhZGUocmVjdCwgbm9kZSwgcGFyYW1zKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gaWYgdGhlIG5vZGUgaXMgZGlzYXBwZWFyaW5nIGFsdG9nZXRoZXJcbiAgICAgICAgICAgICAgICAvLyAoaS5lLiB3YXNuJ3QgY2xhaW1lZCBieSB0aGUgb3RoZXIgbGlzdClcbiAgICAgICAgICAgICAgICAvLyB0aGVuIHdlIG5lZWQgdG8gc3VwcGx5IGFuIG91dHJvXG4gICAgICAgICAgICAgICAgaXRlbXMuZGVsZXRlKHBhcmFtcy5rZXkpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxsYmFjayAmJiBmYWxsYmFjayhub2RlLCBwYXJhbXMsIGludHJvKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBbXG4gICAgICAgIHRyYW5zaXRpb24odG9fc2VuZCwgdG9fcmVjZWl2ZSwgZmFsc2UpLFxuICAgICAgICB0cmFuc2l0aW9uKHRvX3JlY2VpdmUsIHRvX3NlbmQsIHRydWUpXG4gICAgXTtcbn1cblxuZXhwb3J0IHsgYmx1ciwgY3Jvc3NmYWRlLCBkcmF3LCBmYWRlLCBmbHksIHNjYWxlLCBzbGlkZSB9O1xuIiwiPHNjcmlwdCBsYW5nPVwidHNcIj5cblx0aW1wb3J0IHtcblx0XHRzbGlkZSBhcyBzdmVsdGVfc2xpZGUsXG5cdFx0dHlwZSBTbGlkZVBhcmFtcyxcblx0XHR0eXBlIFRyYW5zaXRpb25Db25maWcsXG5cdH0gZnJvbSAnc3ZlbHRlL3RyYW5zaXRpb24nO1xuXG5cdGV4cG9ydCBsZXQgbmFtZSA9IFwiXCI7XG5cdGV4cG9ydCBsZXQga2V5OiBzdHJpbmc7XG5cblx0ZXhwb3J0IGxldCBzaG9ydCA9IGZhbHNlO1xuXHRleHBvcnQgbGV0IHNsaWRlcyA9IGZhbHNlO1xuXHRleHBvcnQgbGV0IGRvdWJsZSA9IGZhbHNlO1xuXG5cdC8vIGludGVyZmFjZSBBdXRvQ29uZmlnIHtcblx0Ly8gXHRmbjogKG5vZGU6IEVsZW1lbnQsIHsgZGVsYXksIGR1cmF0aW9uLCBlYXNpbmcgfT86IFNsaWRlUGFyYW1zKSA9PiBUcmFuc2l0aW9uQ29uZmlnO1xuXHQvLyBcdGNvbmZpZzogVHJhbnNpdGlvbkNvbmZpZztcblx0Ly8gfVxuXG5cdC8vIGZ1bmN0aW9uIGF1dG8oZG1fbm9kZTogSFRNTEVsZW1lbnQsIGdjX2F1dG86IHt9KTogVHJhbnNpdGlvbkNvbmZpZyB7XG5cdC8vIFx0aWYoc2xpZGUpIHtcblx0Ly8gXHRcdHJldHVybiBzdmVsdGVfc2xpZGUoZG1fbm9kZSwge1xuXHQvLyBcdFx0XHRkdXJhdGlvbjogNTAwLFxuXHQvLyBcdFx0fSk7XG5cdC8vIFx0fVxuXG5cdC8vIFx0cmV0dXJuIHZvaWQgMCBhcyB1bmtub3duIGFzIFRyYW5zaXRpb25Db25maWc7XG5cdC8vIH1cblx0XG48L3NjcmlwdD5cblxuPHN0eWxlIGxhbmc9XCJsZXNzXCI+XG5cdEBpbXBvcnQgJy4vX2Jhc2UubGVzcyc7XG5cblx0LmZpZWxkIHtcblx0XHRhbGlnbi1pdGVtczogY2VudGVyO1xuXG5cdFx0LmZpZWxkLW5hbWUge1xuXHRcdFx0bWFyZ2luLWJvdHRvbTogMTBweDtcblx0XHRcdGNvbG9yOiB2YXIoLS10aGVtZS1jb2xvci10ZXh0LW1lZCk7XG5cblx0XHRcdGZvbnQtc2l6ZTogMTNweDtcblx0XHRcdGZvbnQtd2VpZ2h0OiAzMDA7XG5cdFx0fVxuXG5cdFx0LmZpZWxkLXZhbHVlIHtcblx0XHRcdC5mb250KHJlZ3VsYXIpO1xuXHRcdFx0Y29sb3I6IHZhcigtLXRoZW1lLWNvbG9yLXRleHQtbGlnaHQpO1xuXHRcdH1cblxuXHRcdCYuc2hvcnQge1xuXHRcdFx0ZGlzcGxheTogZmxleDtcblxuXHRcdFx0Pi5maWVsZC1uYW1lIHtcblx0XHRcdFx0ZmxleDogMTtcblx0XHRcdFx0bWFyZ2luLWJvdHRvbTogMDtcblx0XHRcdH1cblxuXHRcdFx0Pi5maWVsZC12YWx1ZSB7XG5cdFx0XHRcdGZsZXg6IDM7XG5cdFx0XHRcdHdpZHRoOiAwO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuPC9zdHlsZT5cblxuPGRpdiBjbGFzcz1cImZpZWxkXCIgY2xhc3M6c2hvcnQ9e3Nob3J0fSBpZD1cImZpZWxkLXtrZXl9XCIgY2xhc3M6ZG91YmxlPXtkb3VibGV9PlxuXHQ8ZGl2IGNsYXNzPVwiZmllbGQtbmFtZVwiIHRyYW5zaXRpb246c3ZlbHRlX3NsaWRlPXt7ZHVyYXRpb246c2xpZGVzPyAzNTA6IDB9fT5cblx0XHQ8bGFiZWwgZm9yPVwie2tleX1cIj57bmFtZX08L2xhYmVsPlxuXHQ8L2Rpdj5cblxuXHQ8ZGl2IGNsYXNzPVwiZmllbGQtdmFsdWVcIiB0cmFuc2l0aW9uOnN2ZWx0ZV9zbGlkZT17e2R1cmF0aW9uOnNsaWRlcz8gMzUwOiAwfX0+XG5cdFx0PHNsb3Q+PC9zbG90PlxuXHQ8L2Rpdj5cblxuXHQ8c2xvdCBuYW1lPVwicG9zdFwiIC8+XG48L2Rpdj4iLCI8c2NyaXB0IGxhbmc9XCJ0c1wiPlxuXHRpbXBvcnQgeyBnZXRDb250ZXh0IH0gZnJvbSAnc3ZlbHRlJztcblx0XG5cdGltcG9ydCB7IEZfTk9PUCwgUHJvbWlzYWJsZSB9IGZyb20gJyMvdXRpbC9iZWx0Jztcblx0aW1wb3J0IHR5cGUgeyBQYWdlLCBQYWdlQ29uZmlnIH0gZnJvbSAnLi4vc2NyZWVuL19zY3JlZW5zJztcblxuXHR0eXBlIFByb21pc2FibGVWb2lkRnVuY3Rpb24gPSAoKSA9PiBQcm9taXNhYmxlPHZvaWQ+O1xuXG5cdC8qKlxuXHQgKiBJZiBgdHJ1ZWAsIGluY2x1ZGVzIGEgY2FuY2VsIGJ1dHRvblxuXHQgKi9cblx0ZXhwb3J0IGxldCBjYW5jZWw6IFZvaWRGdW5jdGlvbiB8ICdwb3AnIHwgYm9vbGVhbiA9IGZhbHNlO1xuXHRjb25zdCBiX2NhbmNlbCA9ICEhY2FuY2VsO1xuXHRjb25zdCBmX2NhbmNlbCA9ICdmdW5jdGlvbicgPT09IHR5cGVvZiBjYW5jZWw/IGNhbmNlbDogRl9OT09QO1xuXG5cdC8qKlxuXHQgKiBJZiBgdHJ1ZWAsIHNldHMgdGhlIGNhbmNlbCBidXR0b24gdG8gcG9wIHRoZSBwYWdlIGZyb20gdGhlIHN0YWNrXG5cdCAqL1xuXHRleHBvcnQgbGV0IGJhY2sgPSBmYWxzZTtcblx0Y29uc3QgYl9iYWNrID0gYmFjaztcblxuXHQvKipcblx0ICogU2V0cyB0aGUgY29uZmlybWF0aW9uIGxhYmVsIGFuZCBvcHRpb25hbGx5IGl0cyBhY3Rpb24gYW5kIGRpc2FibGVkIHN0YXRlXG5cdCAqL1xuXHRleHBvcnQgbGV0IGNvbmZpcm06IHJlYWRvbmx5IFtzdHJpbmcsIFByb21pc2FibGVWb2lkRnVuY3Rpb24/LCBib29sZWFuP10gPSBbJ0RvbmUnLCBGX05PT1AsIGZhbHNlXTtcblx0Y29uc3QgW3NfY29uZmlybSwgZl9jb25maXJtXSA9IGNvbmZpcm07XG5cblx0Ly8gYXBwZW5kIHRleHQgdG8gY29uZmlybWF0aW9uIGxhYmVsXG5cdGxldCBzX2NvbmZpcm1fYXBwZW5kID0gJyc7XG5cblx0Ly8gcmVhY3RpdmUgY29uZmlybWF0aW9uIHRleHRcblx0JDogc19jb25maXJtX2ZpbmFsID0gc19jb25maXJtK3NfY29uZmlybV9hcHBlbmQ7XG5cblx0LyoqXG5cdCAqIEZvcmNlIHRoZSB1c2VyIHRvIHdhaXQgZm9yIHNvbWUgZHVyYXRpb25cblx0ICovXG5cdGV4cG9ydCBsZXQgd2FpdDogYm9vbGVhbiB8IG51bWJlciA9IDA7XG5cdGNvbnN0IHh0X3dhaXQgPSB0cnVlID09PSB3YWl0PyA1MDAwOiB3YWl0IHx8IDA7XG5cblx0Ly8gd2FpdGluZyBzdGF0ZVxuXHRsZXQgYl93YWl0aW5nID0geHRfd2FpdCA+IDA7XG5cblx0Ly8gc2V0dXAgd2FpdGluZ1xuXHRpZihiX3dhaXRpbmcpIHtcblx0XHQvLyBodW1hbi1yZWFkYWJsZSBzZWNvbmRzXG5cdFx0bGV0IG5fc2Vjb25kcyA9IE1hdGgucm91bmQoeHRfd2FpdCAvIDEwMDApO1xuXHRcdHNfY29uZmlybV9hcHBlbmQgPSBgICgke25fc2Vjb25kc31zKWA7XG5cblx0XHQvLyBpbnRlcnZhbCB0byB1cGRhdGUgbGFiZWxcblx0XHRjb25zdCBpX2ludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuXHRcdFx0bl9zZWNvbmRzIC09IDE7XG5cdFx0XHRzX2NvbmZpcm1fYXBwZW5kID0gYCAoJHtuX3NlY29uZHN9cylgO1xuXHRcdH0sIDEwMDApO1xuXG5cdFx0Ly8gdGltZW91dCB0byBzdG9wIHdhaXRpbmdcblx0XHRzZXRUaW1lb3V0KCgpID0+IHtcblx0XHRcdGJfd2FpdGluZyA9IGZhbHNlO1xuXHRcdFx0c19jb25maXJtX2FwcGVuZCA9ICcnO1xuXHRcdFx0Y2xlYXJJbnRlcnZhbChpX2ludGVydmFsKTtcblx0XHR9LCB4dF93YWl0KTtcblx0fVxuXG5cdC8vIHJlYWN0aXZlIGRpc2FibGVkIGZsYWcgb24gY29uZmlybWF0aW9uIG9ubHlcblx0JDogYl9kaXNhYmxlZCA9IGNvbmZpcm1bMl0gfHwgZmFsc2U7XG5cblx0Ly8gYnVzeSBmbGFnXG5cdGxldCBiX2J1c3kgPSBmYWxzZTtcblxuXHQvLyByZWFjdGl2ZSBkaXNhYmxlZCBmbGFnIGZvciBhbGwgZW50cmllc1xuXHRleHBvcnQgbGV0IGRpc2FibGVkID0gZmFsc2U7XG5cblx0LyoqXG5cdCAqIE92ZXJyaWRlcyB0aGUgY29uZmlybSBidXR0b24gdG8gcHVzaCB0aGUgZ2l2ZW4gc2NyZWVuIG9yIGNhbGxiYWNrXG5cdCAqL1xuXHRleHBvcnQgbGV0IGNvbnRkOiBQYWdlQ29uZmlnIHwgbnVsbCA9IG51bGw7XG5cdGNvbnN0IGZfY29udGludWUgPSBjb250ZD8gKCkgPT4ga19wYWdlLnB1c2goY29udGQhKTogbnVsbDtcblxuXG5cdC8vIGdldCBwYWdlIGZyb20gY29udGV4dFxuXHRjb25zdCBrX3BhZ2UgPSBnZXRDb250ZXh0PFBhZ2U+KCdwYWdlJyk7XG5cblx0Ly8gaGFuZGxlIGNhbmNlbCBhY3Rpb25cblx0ZnVuY3Rpb24gY2FuY2VsX2FjdGlvbigpIHtcblx0XHQvLyBjYW5jZWxsYXRpb24gaGFuZGxlciBpcyBzZXQ7IGNhbGwgaXRcblx0XHRpZihiX2NhbmNlbCAmJiBmX2NhbmNlbCkge1xuXHRcdFx0Zl9jYW5jZWwoKTtcblx0XHR9XG5cblx0XHQvLyBiYWNrIGlzIHNldFxuXHRcdGlmKGJfYmFjayB8fCAncG9wJyA9PT0gY2FuY2VsKSB7XG5cdFx0XHRrX3BhZ2UucG9wKCk7XG5cdFx0fVxuXHR9XG5cblx0Ly8gaGFuZGxlIGNvbmZpcm0gYWN0aW9uXG5cdGFzeW5jIGZ1bmN0aW9uIGNvbmZpcm1fYWN0aW9uKCkge1xuXHRcdC8vIGFzc3VtZSBjb25maXJtYXRpb24gZ29lcyBmaW5lXG5cdFx0bGV0IGJfY29udGludWUgPSB0cnVlO1xuXG5cdFx0Ly8gZGlzYWJsZSBldmVyeXRoaW5nIHdoaWxlIGF3YWl0aW5nXG5cdFx0Yl9idXN5ID0gdHJ1ZTtcblxuXHRcdC8vIGF3YWl0IGZvciBjb25maXJtYXRpb25cblx0XHR0cnkge1xuXHRcdFx0YXdhaXQgKGZfY29uZmlybSB8fCBGX05PT1AgYXMgUHJvbWlzYWJsZVZvaWRGdW5jdGlvbikoKTtcblx0XHR9XG5cdFx0Ly8gZG8gbm90IGNvbnRpbnVlIGluIGNhc2Ugb2YgZXJyb3Jcblx0XHRjYXRjaChlX2NvbmZpcm0pIHtcblx0XHRcdGJfY29udGludWUgPSBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyByZS1lbmFibGVcblx0XHRiX2J1c3kgPSBmYWxzZTtcblxuXHRcdC8vIGNvbnRpbnVlIGFjdGlvbiBzZXRcblx0XHRpZihmX2NvbnRpbnVlICYmIGJfY29udGludWUpIHtcblx0XHRcdGZfY29udGludWUoKTtcblx0XHR9XG5cdH1cbjwvc2NyaXB0PlxuXG48c3R5bGUgbGFuZz1cImxlc3NcIj5cblx0ZGl2LmFjdGlvbnMtbGluZSB7XG5cdFx0ZGlzcGxheTogZmxleDtcblx0XHRmbGV4LWRpcmVjdGlvbjogcm93O1xuXHRcdGp1c3RpZnktY29udGVudDogc3BhY2UtZXZlbmx5O1xuXHRcdGdhcDogdmFyKC0tdWktcGFkZGluZyk7XG5cdFx0cGFkZGluZy1ib3R0b206IHZhcigtLXVpLXBhZGRpbmcpO1xuXHRcdGFsaWduLWl0ZW1zOiBmbGV4LWVuZDtcblx0XHRmbGV4OiBhdXRvO1xuXG5cdFx0dGV4dC1hbGlnbjogY2VudGVyO1xuXG5cdFx0Jj5idXR0b24ge1xuXHRcdFx0ZmxleDogMTtcblx0XHR9XG5cdH1cbjwvc3R5bGU+XG5cbjxkaXYgY2xhc3M9XCJhY3Rpb25zLWxpbmVcIj5cblx0eyNpZiBiX2NhbmNlbCB8fCBiX2JhY2t9XG5cdFx0PGJ1dHRvbiBkaXNhYmxlZD17ZGlzYWJsZWQgfHwgYl9idXN5fSBvbjpjbGljaz17KCkgPT4gY2FuY2VsX2FjdGlvbigpfT5cblx0XHRcdHtiX2NhbmNlbD8gJ0NhbmNlbCc6ICdCYWNrJ31cblx0XHQ8L2J1dHRvbj5cblx0ey9pZn1cblxuXHQ8YnV0dG9uIGRpc2FibGVkPXtiX2Rpc2FibGVkIHx8IGRpc2FibGVkIHx8IGJfd2FpdGluZyB8fCBiX2J1c3l9IGNsYXNzPVwicHJpbWFyeVwiIG9uOmNsaWNrPXsoKSA9PiBjb25maXJtX2FjdGlvbigpfT5cblx0XHR7c19jb25maXJtX2ZpbmFsfVxuXHQ8L2J1dHRvbj5cbjwvZGl2PiIsImV4cG9ydCBkZWZhdWx0IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHdpZHRoPVxcXCIxOFxcXCIgaGVpZ2h0PVxcXCIxOFxcXCIgZmlsbD1cXFwibm9uZVxcXCI+XFxuXFx0PGcgc3R5bGU9XFxcImZpbGw6IHZhcigtLXN2Zy1jb2xvci1mZywgY3VycmVudENvbG9yKTtcXFwiPlxcblxcdFxcdDxyZWN0IHg9XFxcIjEyXFxcIiB5PVxcXCI0XFxcIiB3aWR0aD1cXFwiMlxcXCIgaGVpZ2h0PVxcXCI5XFxcIiAvPlxcblxcdFxcdDxyZWN0IHg9XFxcIjVcXFwiIHk9XFxcIjZcXFwiIHdpZHRoPVxcXCIyXFxcIiBoZWlnaHQ9XFxcIjlcXFwiIHRyYW5zZm9ybT1cXFwicm90YXRlKC05MCA1IDYpXFxcIiAvPlxcblxcdFxcdDxwYXRoIGQ9XFxcIk0xNCA1LjVWNEgxMi41TDMgMTMuNUw0LjUgMTVMMTQgNS41WlxcXCIgLz5cXG5cXHQ8L2c+XFxuPC9zdmc+XFxuXCIiLCJleHBvcnQgZGVmYXVsdCBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB3aWR0aD1cXFwiMThcXFwiIGhlaWdodD1cXFwiMThcXFwiIGZpbGw9XFxcIm5vbmVcXFwiPlxcblxcdDxzdHlsZT5cXG5cXHRcXHQuczJyLWFjdGlvbi1yZWN2LWZnLXN0cm9rZSB7XFxuXFx0XFx0XFx0c3Ryb2tlOiB2YXIoLS1zdmctY29sb3ItZmcsIGN1cnJlbnRDb2xvcik7XFxuXFx0XFx0fVxcblxcdDwvc3R5bGU+XFxuXFx0PHBhdGggc3R5bGU9XFxcImZpbGw6dmFyKC0tc3ZnLWNvbG9yLWZnLCBjdXJyZW50Q29sb3IpXFxcIiBkPVxcXCJNMyAxNGgxMnYySDN6XFxcIi8+XFxuXFx0PHBhdGggY2xhc3M9XFxcInMyci1hY3Rpb24tcmVjdi1mZy1zdHJva2VcXFwiIGQ9XFxcIk05IDEyVjFNNC41IDcuNSA5IDEybDQuNS00LjVcXFwiIHN0cm9rZS13aWR0aD1cXFwiMlxcXCIvPlxcbjwvc3ZnPlwiIiwiZXhwb3J0IGRlZmF1bHQgXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgd2lkdGg9XFxcIjIyXFxcIiBoZWlnaHQ9XFxcIjIyXFxcIj5cXG5cXHQ8ZyBzdHlsZT1cXFwiZmlsbDogdmFyKC0tc3ZnLWNvbG9yLWZnLCBjdXJyZW50Q29sb3IpO1xcXCI+XFxuXFx0XFx0PHJlY3QgeD1cXFwiMTBcXFwiIHk9XFxcIjRcXFwiIHdpZHRoPVxcXCIyXFxcIiBoZWlnaHQ9XFxcIjE0XFxcIiByeD1cXFwiMVxcXCIgLz5cXG5cXHRcXHQ8cmVjdCB4PVxcXCI0XFxcIiB5PVxcXCIxMFxcXCIgd2lkdGg9XFxcIjE0XFxcIiBoZWlnaHQ9XFxcIjJcXFwiIHJ5PVxcXCIxXFxcIiAvPlxcblxcdDwvZz5cXG48L3N2Zz5cIiIsImV4cG9ydCBkZWZhdWx0IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHdpZHRoPVxcXCIyNFxcXCIgaGVpZ2h0PVxcXCIyNFxcXCI+XFxuXFx0PHBhdGggc3R5bGU9XFxcImZpbGw6IHZhcigtLXN2Zy1jb2xvci1mZywgY3VycmVudENvbG9yKTtcXFwiIGQ9XFxcIk0xMSA3aDJ2MmgtMnptMCA0aDJ2NmgtMnptMS05QzYuNDggMiAyIDYuNDggMiAxMnM0LjQ4IDEwIDEwIDEwIDEwLTQuNDggMTAtMTBTMTcuNTIgMiAxMiAyem0wIDE4Yy00LjQxIDAtOC0zLjU5LTgtOHMzLjU5LTggOC04IDggMy41OSA4IDgtMy41OSA4LTggOHpcXFwiLz5cXG48L3N2Zz5cIiIsImV4cG9ydCBkZWZhdWx0IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHdpZHRoPVxcXCIyNFxcXCIgaGVpZ2h0PVxcXCIyNFxcXCI+XFxuXFx0PHBhdGggc3R5bGU9XFxcImZpbGw6IHZhcigtLXN2Zy1jb2xvci1mZywgY3VycmVudENvbG9yKTtcXFwiIGQ9XFxcIk0zIDE3LjI1VjIxaDMuNzVMMTcuODEgOS45NGwtMy43NS0zLjc1TDMgMTcuMjV6TTIwLjcxIDcuMDRhLjk5Ni45OTYgMCAwIDAgMC0xLjQxbC0yLjM0LTIuMzRhLjk5Ni45OTYgMCAwIDAtMS40MSAwbC0xLjgzIDEuODMgMy43NSAzLjc1IDEuODMtMS44M3pcXFwiLz5cXG48L3N2Zz5cIiIsImV4cG9ydCBkZWZhdWx0IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHdpZHRoPVxcXCIyNFxcXCIgaGVpZ2h0PVxcXCIyNFxcXCI+XFxuXFx0PHBhdGggc3R5bGU9XFxcImZpbGw6IHZhcigtLXN2Zy1jb2xvci1mZywgY3VycmVudENvbG9yKTtcXFwiIGQ9XFxcIk0xNiA5djEwSDhWOWg4bS0xLjUtNmgtNWwtMSAxSDV2MmgxNFY0aC0zLjVsLTEtMXpNMTggN0g2djEyYzAgMS4xLjkgMiAyIDJoOGMxLjEgMCAyLS45IDItMlY3elxcXCIvPlxcbjwvc3ZnPlwiIiwiZXhwb3J0IGRlZmF1bHQgXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgd2lkdGg9XFxcIjE2XFxcIiBoZWlnaHQ9XFxcIjE2XFxcIiB2aWV3Qm94PVxcXCIwIDAgMTYgMTZcXFwiIGZpbGw9XFxcIm5vbmVcXFwiPlxcblxcdDxzdHlsZT5cXG5cXHRcXHQuc3Rhci1hY3Rpb24td3JhcC1mZyB7XFxuXFx0XFx0XFx0ZmlsbDogdmFyKC0tc3ZnLWNvbG9yLWZnLCBjdXJyZW50Q29sb3IpO1xcblxcdFxcdH1cXG5cXHQ8L3N0eWxlPlxcblxcdDxwYXRoIGNsYXNzPVxcXCJzdGFyLWFjdGlvbi13cmFwLWZnXFxcIiBkPVxcXCJNMTEsMy42TDcuOCw2LjdMNC42LDMuNmMtMC4zLTAuMy0wLjgtMC4zLTEuMSwwcy0wLjMsMC44LDAsMS4xbDMuNywzLjdjMC4zLDAuMywwLjgsMC4zLDEuMSwwTDEyLDQuNyBjMC4zLTAuMywwLjMtMC44LDAtMS4xQzExLjgsMy4zLDExLjMsMy4zLDExLDMuNnogTTEyLjYsMTIuM2MwLDAuNC0wLjMsMC44LTAuNywwLjhIMy43Yy0wLjQsMC0wLjgtMC40LTAuOC0wLjhsMCwwbDAsMHYtMS42IGMwLTAuNCwwLjQtMC44LDAuOC0wLjhzMC44LDAuNCwwLjgsMC44djAuOEgxMXYtMC44YzAtMC40LDAuNC0wLjgsMC44LTAuOHMwLjgsMC40LDAuOCwwLjhWMTIuM0MxMi43LDEyLjMsMTIuNywxMi4zLDEyLjYsMTIuMyBMMTIuNiwxMi4zelxcXCIgLz5cXG48L3N2Zz5cXG5cIiIsImV4cG9ydCBkZWZhdWx0IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHdpZHRoPVxcXCIxNlxcXCIgaGVpZ2h0PVxcXCIxNlxcXCIgdmlld0JveD1cXFwiMCAwIDE2IDE2XFxcIiBmaWxsPVxcXCJub25lXFxcIj5cXG5cXHQ8c3R5bGU+XFxuXFx0XFx0LnN0YXItYWN0aW9uLXVud3JhcC1mZyB7XFxuXFx0XFx0XFx0ZmlsbDogdmFyKC0tc3ZnLWNvbG9yLWZnLCBjdXJyZW50Q29sb3IpO1xcblxcdFxcdH1cXG5cXHQ8L3N0eWxlPlxcblxcdDxwYXRoIGNsYXNzPVxcXCJzdGFyLWFjdGlvbi11bndyYXAtZmdcXFwiIGQ9XFxcIk0xMiw3LjhjMC4zLTAuMywwLjMtMC44LDAtMS4xTDguMywzQzgsMi43LDcuNSwyLjcsNy4yLDNMMy41LDYuOEMzLjIsNywzLjIsNy41LDMuNSw3LjhjMC4zLDAuMywwLjgsMC4zLDEuMSwwXFxuXFx0bDMuMi0zLjFMMTEsNy44QzExLjMsOC4xLDExLjgsOC4xLDEyLDcuOHogTTEyLjYsMTIuNGMwLDAuNC0wLjMsMC44LTAuNywwLjhIMy43Yy0wLjQsMC0wLjgtMC40LTAuOC0wLjhsMCwwbDAsMHYtMS42XFxuXFx0YzAtMC40LDAuNC0wLjgsMC44LTAuOHMwLjgsMC40LDAuOCwwLjh2MC44SDExdi0wLjhjMC0wLjQsMC40LTAuOCwwLjgtMC44czAuOCwwLjQsMC44LDAuOFYxMi40TDEyLjYsMTIuNEwxMi42LDEyLjR6XFxcIiAvPlxcbjwvc3ZnPlxcblwiIiwiZXhwb3J0IGRlZmF1bHQgXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgd2lkdGg9XFxcIjI0XFxcIiBoZWlnaHQ9XFxcIjI0XFxcIj5cXG5cXHQ8Y2lyY2xlIGN4PVxcXCIxMVxcXCIgY3k9XFxcIjExXFxcIiByPVxcXCIxMFxcXCIgZmlsbD1cXFwibm9uZVxcXCIgc3R5bGU9XFxcInN0cm9rZTp2YXIoLS1zdmctY29sb3ItYmcsIGN1cnJlbnRDb2xvcilcXFwiLz5cXG5cXHQ8cGF0aCBzdHlsZT1cXFwiZmlsbDp2YXIoLS1zdmctY29sb3ItZmcsIGN1cnJlbnRDb2xvcilcXFwiIGQ9XFxcIm04LjM2NCAxMS42MzEgNS42NTYtNS42NTdMMTYgNy45NTRsLTUuNjU3IDUuNjU3ek03LjYgMTIuNCA3IDEzdjJoMmwuNi0uNnpcXFwiLz5cXG48L3N2Zz5cIiIsImV4cG9ydCBkZWZhdWx0IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHdpZHRoPVxcXCIxOFxcXCIgaGVpZ2h0PVxcXCIxOFxcXCIgdmlld0JveD1cXFwiMCAwIDE4IDE4XFxcIj5cXG5cXHQ8c3R5bGUgdHlwZT1cXFwidGV4dC9jc3NcXFwiPlxcblxcdFxcdC5zMnItY2hlY2tlZC1mZyB7XFxuXFx0XFx0XFx0ZmlsbDogdmFyKC0tc3ZnLWNvbG9yLWZnLCBjdXJyZW50Q29sb3IpO1xcblxcdFxcdH1cXG5cXHQ8L3N0eWxlPlxcblxcdDxwYXRoIGNsYXNzPVxcXCJzMnItY2hlY2tlZC1mZ1xcXCIgZD1cXFwiTTE2IDBIMkMwLjkgMCAwIDAuOSAwIDJWMTZDMCAxNy4xIDAuOSAxOCAyIDE4SDE2QzE3LjEgMTggMTggMTcuMSAxOCAxNlYyQzE4IDAuOSAxNy4xIDAgMTYgMFpNNy43MSAxMy4yOUM3LjMyIDEzLjY4IDYuNjkgMTMuNjggNi4zIDEzLjI5TDIuNzEgOS43QzIuMzIgOS4zMSAyLjMyIDguNjggMi43MSA4LjI5QzMuMSA3LjkgMy43MyA3LjkgNC4xMiA4LjI5TDcgMTEuMTdMMTMuODggNC4yOUMxNC4yNyAzLjkgMTQuOSAzLjkgMTUuMjkgNC4yOUMxNS42OCA0LjY4IDE1LjY4IDUuMzEgMTUuMjkgNS43TDcuNzEgMTMuMjlaXFxcIiAvPlxcbjwvc3ZnPlxcblwiIiwiZXhwb3J0IGRlZmF1bHQgXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgd2lkdGg9XFxcIjE4XFxcIiBoZWlnaHQ9XFxcIjE4XFxcIiB2aWV3Qm94PVxcXCIwIDAgMTggMThcXFwiPlxcblxcdDxzdHlsZSB0eXBlPVxcXCJ0ZXh0L2Nzc1xcXCI+XFxuXFx0XFx0LnMyci11bmNoZWNrZWQtZmcge1xcblxcdFxcdFxcdGZpbGw6IHZhcigtLXN2Zy1jb2xvci1mZywgY3VycmVudENvbG9yKTtcXG5cXHRcXHR9XFxuXFx0PC9zdHlsZT5cXG5cXHQ8cGF0aCBjbGFzcz1cXFwiczJyLXVuY2hlY2tlZC1mZ1xcXCIgZD1cXFwiTTE1IDE2SDNDMi40NSAxNiAyIDE1LjU1IDIgMTVWM0MyIDIuNDUgMi40NSAyIDMgMkgxNUMxNS41NSAyIDE2IDIuNDUgMTYgM1YxNUMxNiAxNS41NSAxNS41NSAxNiAxNSAxNlpNMTYgMEgyQzAuOSAwIDAgMC45IDAgMlYxNkMwIDE3LjEgMC45IDE4IDIgMThIMTZDMTcuMSAxOCAxOCAxNy4xIDE4IDE2VjJDMTggMC45IDE3LjEgMCAxNiAwWlxcXCIgLz5cXG48L3N2Zz5cXG5cIiIsIjxzY3JpcHQgbGFuZz1cInRzXCI+XG5cdGltcG9ydCB7IEZfTk9PUCB9IGZyb20gJyMvdXRpbC9iZWx0JztcblxuXHRpbXBvcnQgU1hfSUNPTl9DSEVDS0VEIGZyb20gJyMvaWNvbi9jaGVja2VkLnN2Zz9yYXcnO1xuXHRpbXBvcnQgU1hfSUNPTl9VTkNIRUNLRUQgZnJvbSAnIy9pY29uL3VuY2hlY2tlZC5zdmc/cmF3JztcblxuXHQvKipcblx0ICogSFRNTCBlbGVtZW50IGlkXG5cdCAqL1xuXHRleHBvcnQgbGV0IGlkOiBzdHJpbmc7XG5cdGNvbnN0IHNfaWQgPSBpZDtcblxuXHQvKipcblx0ICogU2V0cyB0aGUgY2xhc3Mgb2YgdGhlIGZpZWxkc2V0IGNvbnRhaW5lciBlbGVtZW50XG5cdCAqL1xuXHRleHBvcnQgbGV0IGNvbnRhaW5lckNsYXNzID0gJyc7XG5cblx0LyoqXG5cdCAqIEV4cG9zZWQgYmluZGluZyBvZiB0aGUgY2hlY2tlZCB2YWx1ZVxuXHQgKi9cblx0ZXhwb3J0IGxldCBjaGVja2VkID0gZmFsc2U7XG5cblx0ZXhwb3J0IGxldCBkaXNhYmxlSGFuZGxlciA9IGZhbHNlO1xuXG5cdC8vIGV4cG9ydCBsZXQgc3RvcExhYmVsQ2xpY2tzID0gZmFsc2U7XG5cdC8vIGNvbnN0IGJfdGV4dF9wcm9wYWdhdGVzID0gIXN0b3BMYWJlbENsaWNrcztcblxuXHQvLyBjb25zb2xlLmxvZyh7XG5cdC8vIFx0Yl90ZXh0X3Byb3BhZ2F0ZXMsXG5cdC8vIH0pO1xuPC9zY3JpcHQ+XG5cbjxzdHlsZSBsYW5nPVwibGVzc1wiPlxuXHRmaWVsZHNldCB7XG5cdFx0ZGlzcGxheTogZmxleDtcblx0XHRnYXA6IDE0cHg7XG5cdFx0bWFyZ2luOiAwO1xuXHRcdHBhZGRpbmc6IDA7XG5cdFx0Ym9yZGVyOiAwO1xuXG5cdFx0LmNoZWNrYm94IHtcblxuXHRcdFx0Lmljb24ge1xuXHRcdFx0XHQtLWljb24tZGlhbWV0ZXI6IDE4cHg7XG5cdFx0XHRcdC0taWNvbi1jb2xvcjogdmFyKC0tdGhlbWUtY29sb3ItcHJpbWFyeSk7XG5cdFx0XHRcdHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG48L3N0eWxlPlxuXG5cbjxmaWVsZHNldCBjbGFzcz1cIntjb250YWluZXJDbGFzc31cIiBvbjpjbGljaz17ZGlzYWJsZUhhbmRsZXI/IEZfTk9PUDogKCkgPT4gY2hlY2tlZCA9ICFjaGVja2VkfT5cblx0PHNwYW4gY2xhc3M9XCJjaGVja2JveFwiPlxuXHRcdDxpbnB1dCBpZD17c19pZH0gdHlwZT1cImNoZWNrYm94XCIgaGlkZGVuIGJpbmQ6Y2hlY2tlZD17Y2hlY2tlZH0+XG5cdFx0PHNwYW4gY2xhc3M9XCJpY29uXCI+XG5cdFx0XHR7QGh0bWwgY2hlY2tlZD8gU1hfSUNPTl9DSEVDS0VEOiBTWF9JQ09OX1VOQ0hFQ0tFRH1cblx0XHQ8L3NwYW4+XG5cdDwvc3Bhbj5cblxuXHR7I2lmICQkc2xvdHMuZGVmYXVsdH1cblx0XHQ8bGFiZWwgZm9yPXtzX2lkfSBvbjpjbGljaz17ZF9ldmVudCA9PiBkX2V2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpfT5cblx0XHRcdDxzbG90IC8+XG5cdFx0PC9sYWJlbD5cblx0ey9pZn1cbjwvZmllbGRzZXQ+IiwiPHNjcmlwdCBsYW5nPVwidHNcIj5cblx0aW1wb3J0IHt5d19wb3B1cCwgeXdfY29udGV4dF9wb3B1cCwgeXdfc3RvcmVfdGFnc30gZnJvbSAnIyMvbWVtJztcblx0aW1wb3J0IHR5cGUgeyBSZXNvdXJjZSB9IGZyb20gJyMvbWV0YS9yZXNvdXJjZSc7XG5cdGltcG9ydCB0eXBlIHsgVGFnIH0gZnJvbSAnIy9tZXRhL3RhZyc7XG5cblx0aW1wb3J0IEFjdGlvbnNMaW5lIGZyb20gJy4vQWN0aW9uc0xpbmUuc3ZlbHRlJztcblx0aW1wb3J0IENoZWNrYm94RmllbGQgZnJvbSAnLi9DaGVja2JveEZpZWxkLnN2ZWx0ZSc7XG5cdGltcG9ydCBJbmxpbmVUYWdzIGZyb20gJy4vSW5saW5lVGFncy5zdmVsdGUnO1xuXG5cdGltcG9ydCBSb3cgZnJvbSAnLi9Sb3cuc3ZlbHRlJztcblx0aW1wb3J0IFN1YkhlYWRlciBmcm9tICcuL1N1YkhlYWRlci5zdmVsdGUnO1xuXG5cdC8vIGZldGNoIHRoZSByZXNvdXJjZSBwYXRoIGZyb20gcG9wdXAgY29udGV4dCBzdG9yZVxuXHRjb25zdCBwX3Jlc291cmNlID0gKCR5d19jb250ZXh0X3BvcHVwIGFzIHtcblx0XHRyZXNvdXJjZTogUmVzb3VyY2UuUGF0aDtcblx0fSlbJ3Jlc291cmNlJ107XG5cblx0aW50ZXJmYWNlIFRhZ09wdGlvbiB7XG5cdFx0dGFnOiBUYWdbJ2ludGVyZmFjZSddO1xuXHRcdHNlbGVjdGVkOiBib29sZWFuO1xuXHR9XG5cblx0Y29uc3QgZl9zb3J0X3RhZ3MgPSAoZ19hOiBUYWdbJ2ludGVyZmFjZSddLCBnX2I6IFRhZ1snaW50ZXJmYWNlJ10pID0+IGdfYS5pbmRleCAtIGdfYi5pbmRleDtcblxuXHQvLyBjYWNoZSB0aGUgdGFncyBmb3IgdGhlIHJlc291cmNlXG5cdGNvbnN0IGFzX3ByZWFwcGxpZWQgPSBuZXcgU2V0KCR5d19zdG9yZV90YWdzIS5nZXRJZHNGb3IocF9yZXNvdXJjZSkpO1xuXHRsZXQgYV90YWdfb3B0aW9uczogVGFnT3B0aW9uW10gPSAkeXdfc3RvcmVfdGFncyEucmF3LnJlZ2lzdHJ5LnNvcnQoZl9zb3J0X3RhZ3MpLm1hcChnX3RhZyA9PiAoe1xuXHRcdHRhZzogZ190YWcsXG5cdFx0c2VsZWN0ZWQ6IGFzX3ByZWFwcGxpZWQuaGFzKGdfdGFnLmluZGV4KSxcblx0fSkpO1xuXG5cdC8vIGxldCBoX3RhZ3Nfc2VsID0gb2Rlcm9tKEhfVEFHUywgKHBfdGFnLCBrX3RhZykgPT4gKHtcblx0Ly8gXHRbcF90YWddOiB7XG5cdC8vIFx0XHRvYmplY3Q6IGtfdGFnLFxuXHQvLyBcdFx0c2VsZWN0ZWQ6ICgkeXdfcG9wdXBfY29udGV4dCEudGFncyBhcyBUYWdbXSkuaW5jbHVkZXMoa190YWcpLFxuXHQvLyBcdH0sXG5cdC8vIH0pKTtcblxuXHQvLyAoJHl3X3BvcHVwX2NvbnRleHQhLnRhZ3MgYXMgVGFnW10pO1xuXG5cdC8vIGZ1bmN0aW9uIHNlbGVjdF90YWcoa190YWc6IFRhZykge1xuXHQvLyBcdCR5d19wb3B1cF9jb250ZXh0IS50YWdzID0gWy4uLiR5d19wb3B1cF9jb250ZXh0IS50YWdzLCBrX3RhZ107XG5cdC8vIFx0JHl3X3BvcHVwID0gbnVsbDtcblx0Ly8gfVxuXG5cdGZ1bmN0aW9uIHRvZ2dsZV90YWcoaV90YWc6IG51bWJlcikge1xuXHRcdC8vIGZpbmQgb3B0aW9uIGJ5IHRhZyBpbmRleFxuXHRcdGNvbnN0IGdfb3B0aW9uID0gYV90YWdfb3B0aW9ucy5maW5kKGcgPT4gaV90YWcgPT09IGcudGFnLmluZGV4KSE7XG5cblx0XHQvLyB0b2dnbGUgc2VsZWN0aW9uXG5cdFx0Z19vcHRpb24uc2VsZWN0ZWQgPSAhZ19vcHRpb24uc2VsZWN0ZWQ7XG5cblx0XHQvLyBtYXJrIGFzIGRpcnR5XG5cdFx0YV90YWdfb3B0aW9ucyA9IGFfdGFnX29wdGlvbnM7XG5cdH1cblxuXHRhc3luYyBmdW5jdGlvbiBhcHBseV90YWdzKCkge1xuXHRcdC8vIHVwZGF0ZSBzdG9yZVxuXHRcdGF3YWl0ICR5d19zdG9yZV90YWdzIS5zZXRUYWdzRm9yKHBfcmVzb3VyY2UsIGFfdGFncyk7XG5cblx0XHQvLyBkaXNtaXNzIHBvcHVwXG5cdFx0JHl3X3BvcHVwID0gbnVsbDtcblx0fVxuPC9zY3JpcHQ+XG5cbjxzdHlsZSBsYW5nPVwibGVzc1wiPlxuXHRAaW1wb3J0ICcuL19iYXNlLmxlc3MnO1xuXG5cdC5yb3dzIHtcblx0XHRtYXJnaW4tbGVmdDogY2FsYygwcHggLSB2YXIoLS11aS1wYWRkaW5nKSk7XG5cdFx0bWFyZ2luLXJpZ2h0OiBjYWxjKDBweCAtIHZhcigtLXVpLXBhZGRpbmcpKTtcblx0XHRtYXJnaW4tdG9wOiAxZW07XG5cdFx0bWFyZ2luLWJvdHRvbTogMWVtO1xuXHR9XG5cblx0LmZsb2F0IHtcblx0XHQtLWFudGktcGFkZGluZzogY2FsYygwcHggLSB2YXIoLS11aS1wYWRkaW5nKSk7XG5cdFx0cG9zaXRpb246IHN0aWNreTtcblx0XHR3aWR0aDogMTAwJTtcblx0XHRiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS10aGVtZS1jb2xvci1iZyk7XG5cdFx0bWFyZ2luLWxlZnQ6IHZhcigtLWFudGktcGFkZGluZyk7XG5cdFx0bWFyZ2luLXJpZ2h0OiB2YXIoLS1hbnRpLXBhZGRpbmcpO1xuXHRcdHBhZGRpbmctbGVmdDogdmFyKC0tdWktcGFkZGluZyk7XG5cdFx0cGFkZGluZy1yaWdodDogdmFyKC0tdWktcGFkZGluZyk7XG5cdFx0cGFkZGluZy10b3A6IHZhcigtLXVpLXBhZGRpbmcpO1xuXHRcdGJvdHRvbTogdmFyKC0tYW50aS1wYWRkaW5nKTtcblx0XHRiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMGRlZywgdmFyKC0tdGhlbWUtY29sb3ItYmcpIDAlLCB2YXIoLS10aGVtZS1jb2xvci1iZykgODAlLCB0cmFuc3BhcmVudCk7XG5cdH1cbjwvc3R5bGU+XG5cbjxzZWN0aW9uIGNsYXNzPVwic2NyZWVuXCI+XG5cdDxTdWJIZWFkZXIgdGl0bGU9XCJTZWxlY3QgVGFnKHMpXCIgYmFyZSBjbG9zZXMgLz5cblxuXHQ8ZGl2IGNsYXNzPVwicm93c1wiPlxuXHRcdHsjZWFjaCBhX3RhZ19vcHRpb25zIGFzIHt0YWc6Z190YWcsIHNlbGVjdGVkOmJfc2VsZWN0ZWR9fVxuXHRcdFx0PFJvd1xuXHRcdFx0XHRyb290U3R5bGU9XCItLWFwcC1pY29uLWRpYW1ldGVyOjEycHg7XCJcblx0XHRcdFx0aWNvbkNsYXNzPSdhbGlnbi1zZWxmX2NlbnRlcidcblx0XHRcdFx0bmFtZT17Z190YWcubmFtZX1cblx0XHRcdFx0b246Y2xpY2s9eygpID0+IHRvZ2dsZV90YWcoZ190YWcuaW5kZXgpfVxuXHRcdFx0PlxuXHRcdFx0XHQ8IS0tIDxJbmxpbmVUYWdzIGNvbGxhcHNlZD17Yl9jb2xsYXBzZWR9IHNsb3Q9XCJpY29uXCIgLz4gLS0+XG5cblx0XHRcdFx0PHN2ZWx0ZTpmcmFnbWVudCBzbG90PVwicmlnaHRcIj5cblx0XHRcdFx0XHQ8Q2hlY2tib3hGaWVsZCBpZD1cInRhZy0ke2dfdGFnLmluZGV4fVwiIGJpbmQ6Y2hlY2tlZD17Yl9zZWxlY3RlZH0gZGlzYWJsZUhhbmRsZXIgLz5cblx0XHRcdFx0PC9zdmVsdGU6ZnJhZ21lbnQ+XG5cdFx0XHQ8L1Jvdz5cblx0XHR7L2VhY2h9XG5cblx0XHQ8IS0tIHsjZWFjaCBvZGUoaF90YWdzX3NlbCkgYXMgW3BfdGFnLCB7b2JqZWN0OmtfdGFnLCBzZWxlY3RlZDpiX3NlbGVjdGVkfV19XG5cdFx0ey9lYWNofSAtLT5cblx0PC9kaXY+XG5cblx0PGRpdiBjbGFzcz1cImZsb2F0XCI+XG5cdFx0PEFjdGlvbnNMaW5lIGNvbmZpcm09e1snQXBwbHknLCBhcHBseV90YWdzXX0gLz5cblxuXHRcdDwhLS0gPGRpdiBjbGFzcz1cImFjdGlvbi1saW5lXCI+XG5cdFx0XHQ8YnV0dG9uIGNsYXNzPVwicHJpbWFyeVwiIG9uOmNsaWNrPXsoKSA9PiBhcHBseV90YWdzKCl9PlxuXHRcdFx0XHRBcHBseVxuXHRcdFx0PC9idXR0b24+XG5cdFx0PC9kaXY+IC0tPlxuXHQ8L2Rpdj5cbjwvc2VjdGlvbj5cbiIsIjxzY3JpcHQgbGFuZz1cInRzXCI+XG5cdGltcG9ydCB7XG5cdFx0Y3ViaWNPdXQsXG5cdH0gZnJvbSAnc3ZlbHRlL2Vhc2luZyc7XG5cblx0aW1wb3J0IHR5cGUge1xuXHRcdFNsaWRlUGFyYW1zLFxuXHRcdFRyYW5zaXRpb25Db25maWcsXG5cdH0gZnJvbSAnc3ZlbHRlL3RyYW5zaXRpb24nO1xuXG5cdGltcG9ydCBTWF9JQ09OX0FERCBmcm9tICcjL2ljb24vYWRkLnN2Zz9yYXcnO1xuXHRpbXBvcnQgU1hfSUNPTl9FRElUIGZyb20gJyMvaWNvbi9lZGl0LXNtYWxsLnN2Zz9yYXcnO1xuXG5cdGltcG9ydCB7XG5cdFx0eXdfcG9wdXAsXG5cdFx0eXdfY29udGV4dF9wb3B1cCxcblx0XHR5d19zdG9yZV90YWdzLFxuXHR9IGZyb20gJyMjL21lbSc7XG5cblx0aW1wb3J0IFBvcHVwVGFnc1NlbGVjdCBmcm9tICcuL1BvcHVwVGFnc1NlbGVjdC5zdmVsdGUnO1xuXHRpbXBvcnQgdHlwZSB7IFRhZ3MgfSBmcm9tICcjL3N0b3JlL3RhZ3MnO1xuXHRpbXBvcnQgeyBvbkRlc3Ryb3kgfSBmcm9tICdzdmVsdGUnO1xuXHRpbXBvcnQgdHlwZSB7IERpY3QgfSBmcm9tICcjL3V0aWwvYmVsdCc7XG5cdGltcG9ydCB0eXBlIHsgVGFnIH0gZnJvbSAnIy9tZXRhL3RhZyc7XG5cblx0LyoqXG5cdCAqIFBhdGggdG8gdGhlIHJlc291cmNlIHRvIGZldGNoIHRhZ3MgZm9yXG5cdCAqL1xuXHRleHBvcnQgbGV0IHJlc291cmNlUGF0aDogc3RyaW5nO1xuXHRjb25zdCBwX3Jlc291cmNlID0gcmVzb3VyY2VQYXRoO1xuXG5cdC8qKlxuXHQgKiBFbmFibGVzIGVkaXR0aW5nIHRoZSB0YWdzIGhlcmVcblx0ICovXG5cdGV4cG9ydCBsZXQgZWRpdGFibGUgPSBmYWxzZTtcblx0Y29uc3QgYl9lZGl0YWJsZSA9IGVkaXRhYmxlO1xuXG5cdC8qKlxuXHQgKiBJZiBgdHJ1ZWAsIGRpc3BsYXlzIHRoZSB0YWdzIGluIGNvbGxhcHNlZCBmb3JtXG5cdCAqL1xuXHRleHBvcnQgbGV0IGNvbGxhcHNlZCA9IGZhbHNlO1xuXHRjb25zdCBiX2NvbGxhcHNlZCA9IGNvbGxhcHNlZDtcblxuXHRleHBvcnQgbGV0IHByZWZpeENsYXNzID0gJyc7XG5cdGV4cG9ydCBsZXQgc3VmZml4Q2xhc3MgPSAnJztcblxuXHRleHBvcnQgbGV0IHJvb3RTdHlsZSA9ICcnO1xuXG5cdC8vIHN1YnNjcmliZSB0byB0YWcgc3RvcmUgY2hhbmdlcyBhbmQgcmVsb2FkXG5cdGxldCBjX3JlbG9hZF90YWdzID0gMDtcblx0Y29uc3QgZl91bnN1YnNjcmliZSA9IHl3X3N0b3JlX3RhZ3Muc3Vic2NyaWJlKCgpID0+IGNfcmVsb2FkX3RhZ3MrKyk7XG5cdG9uRGVzdHJveSgoKSA9PiB7XG5cdFx0Zl91bnN1YnNjcmliZSgpO1xuXHR9KTtcblxuXHQvLyBjYWNoZSB0aGUgdGFncyBzdG9yZSBmb3IgZWRpdHRpbmdcblx0bGV0IGtzX3RhZ3M6IEluc3RhbmNlVHlwZTx0eXBlb2YgVGFncz47XG5cblx0Ly8gY2FjaGUgdGhlIGxpc3Qgb2YgdGFncyBmb3IgdGhpcyByZXNvdXJjZVxuXHQkOiBhX3RhZ3MgPSAkeXdfc3RvcmVfdGFncyEuZ2V0VGFnc0ZvcihwX3Jlc291cmNlKTtcblx0Ly8gbGV0IGFfdGFnczogVGFnWydpbnRlcmZhY2UnXVtdO1xuXG5cdC8vIC8vIGZldGNoIHRhZ3MgZm9yIHRoZSBnaXZlbiByZXNvdXJjZVxuXHQvLyBhc3luYyBmdW5jdGlvbiByZXNvdXJjZV90YWdzKCkge1xuXHQvLyBcdC8vIGxvYWQgbWVkaWEgc3RvcmUgaWYgaXQncyBub3QgY2FjaGVkXG5cdC8vIFx0a3NfdGFncyA9ICR5d19zdG9yZV90YWdzIHx8IGF3YWl0IFRhZ3MucmVhZCgpO1xuXG5cdC8vIFx0Ly8gZGVzdHJ1Y3R1cmUgdGFncyBzdG9yZVxuXHQvLyBcdGNvbnN0IHtcblx0Ly8gXHRcdHJlZ2lzdHJ5OiBhX3JlZ2lzdHJ5LFxuXHQvLyBcdFx0bWFwOiBoX21hcCxcblx0Ly8gXHR9ID0ga3NfdGFncy5yYXc7XG5cblx0Ly8gXHQvLyBsb29rdXAgcmVzb3VyY2UgdGFnIGlkcyBhbmQgc2F2ZSB0byBjYWNoZVxuXHQvLyBcdHJldHVybiBhX3RhZ3M9KGhfbWFwW3BfcmVzb3VyY2VdID8/IFtdKS5tYXAoaV90YWcgPT4gYV9yZWdpc3RyeVtpX3RhZ10pO1xuXHQvLyB9XG5cblx0aWYoYl9lZGl0YWJsZSkge1xuXHRcdHl3X2NvbnRleHRfcG9wdXAuc3Vic2NyaWJlKChnX2N0eDogRGljdDxhbnk+IHwgbnVsbCkgPT4ge1xuXHRcdFx0aWYoZ19jdHg/LnRhZ3MpIHtcblx0XHRcdFx0YV90YWdzID0gZ19jdHgudGFncztcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdG9uRGVzdHJveSgoKSA9PiB7XG5cdFx0XHQkeXdfY29udGV4dF9wb3B1cD0gbnVsbDtcblx0XHR9KTtcblx0fVxuXG5cdGZ1bmN0aW9uIHNob3dfdGFnX3NlbGVjdG9yKCkge1xuXHRcdCR5d19jb250ZXh0X3BvcHVwPSB7XG5cdFx0XHRyZXNvdXJjZTogcF9yZXNvdXJjZSxcblx0XHR9O1xuXG5cdFx0JHl3X3BvcHVwID0gUG9wdXBUYWdzU2VsZWN0O1xuXHR9XG5cblx0bGV0IGRtX2NsdXN0ZXI6IEhUTUxFbGVtZW50O1xuXG5cdGFzeW5jIGZ1bmN0aW9uIHJlbW92ZV90YWcoZ190YWc6IFRhZ1snaW50ZXJmYWNlJ10pIHtcblx0XHQvLyBmaW5kIHRhZyBieSBpZFxuXHRcdGNvbnN0IGlfdGFnID0gYV90YWdzLmZpbmRJbmRleChnID0+IGcuaW5kZXggPT09IGdfdGFnLmluZGV4KTtcblxuXHRcdC8vIChxc2EoZG1fY2x1c3RlciwgJy5kZWxldGUuaWNvbicpW01hdGgubWluKHRhZ3MubGVuZ3RoIC0gMSwgaV90YWcgKyAxKV0gYXMgSFRNTEVsZW1lbnQpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cblx0XHQvLyByZW1vdmUgaXQgZnJvbSB0aGUgbXV0YWJsZSBsaXN0XG5cdFx0YV90YWdzLnNwbGljZShpX3RhZywgMSk7XG5cblx0XHQvLyBzYXZlIGl0IGJhY2sgdG8gdGhlIHN0b3JlXG5cdFx0YXdhaXQga3NfdGFncy5zYXZlKCk7XG5cdH1cblxuXG5cdGZ1bmN0aW9uIHNzbGlkZShkbV9ub2RlOiBFbGVtZW50LCB7XG5cdFx0ZGVsYXk6IHh0X2RlbGF5ID0gMCxcblx0XHRkdXJhdGlvbjogeHRfZHVyYXRpb24gPSA0MDAsXG5cdFx0ZWFzaW5nOiBmX2Vhc2luZyA9IGN1YmljT3V0LFxuXHR9OiBTbGlkZVBhcmFtcyA9IHt9KTogVHJhbnNpdGlvbkNvbmZpZyB7XG5cdFx0Y29uc3QgZF9zdHlsZSA9IGdldENvbXB1dGVkU3R5bGUoZG1fbm9kZSk7XG5cdFx0Y29uc3QgeF9vcGFjaXR5ID0gK2Rfc3R5bGUub3BhY2l0eTtcblx0XHRjb25zdCB4X3dpZHRoID0gcGFyc2VGbG9hdChkX3N0eWxlLndpZHRoKTtcblx0XHRjb25zdCB4X3BhZGRpbmdfbGVmdCA9IHBhcnNlRmxvYXQoZF9zdHlsZS5wYWRkaW5nTGVmdCk7XG5cdFx0Y29uc3QgeF9wYWRkaW5nX3JpZ2h0ID0gcGFyc2VGbG9hdChkX3N0eWxlLnBhZGRpbmdSaWdodCk7XG5cdFx0Y29uc3QgeF9tYXJnaW5fbGVmdCA9IHBhcnNlRmxvYXQoZF9zdHlsZS5tYXJnaW5MZWZ0KTtcblx0XHRjb25zdCB4X21hcmdpbl9yaWdodCA9IHBhcnNlRmxvYXQoZF9zdHlsZS5tYXJnaW5SaWdodCk7XG5cdFx0Y29uc3QgeF9ib3JkZXJfbGVmdF93aWR0aCA9IHBhcnNlRmxvYXQoZF9zdHlsZS5ib3JkZXJMZWZ0V2lkdGgpO1xuXHRcdGNvbnN0IHhfYm9yZGVyX3JpZ2h0X3dpZHRoID0gcGFyc2VGbG9hdChkX3N0eWxlLmJvcmRlclJpZ2h0V2lkdGgpO1xuXG5cdFx0cmV0dXJuIHtcblx0XHRcdGRlbGF5OiB4dF9kZWxheSxcblx0XHRcdGR1cmF0aW9uOiB4dF9kdXJhdGlvbixcblx0XHRcdGVhc2luZzogZl9lYXNpbmcsXG5cdFx0XHRjc3M6IHh0ID0+XG5cdFx0XHRcdCctLWRlbGV0ZS1kaXNwbGF5OiBub25lOycgK1xuXHRcdFx0XHQnb3ZlcmZsb3c6IGhpZGRlbjsnICtcblx0XHRcdFx0YG9wYWNpdHk6ICR7TWF0aC5taW4oeHQgKiAyMCwgMSkgKiB4X29wYWNpdHl9O2AgK1xuXHRcdFx0XHRgd2lkdGg6ICR7eHQgKiB4X3dpZHRofXB4O2AgK1xuXHRcdFx0XHRgcGFkZGluZy1sZWZ0OiAke3h0ICogeF9wYWRkaW5nX2xlZnR9cHg7YCArXG5cdFx0XHRcdGBwYWRkaW5nLXJpZ2h0OiAke3h0ICogeF9wYWRkaW5nX3JpZ2h0fXB4O2AgK1xuXHRcdFx0XHRgbWFyZ2luLWxlZnQ6ICR7eHQgKiB4X21hcmdpbl9sZWZ0fXB4O2AgK1xuXHRcdFx0XHRgbWFyZ2luLXJpZ2h0OiAke3h0ICogeF9tYXJnaW5fcmlnaHR9cHg7YCArXG5cdFx0XHRcdGBib3JkZXItbGVmdC13aWR0aDogJHt4dCAqIHhfYm9yZGVyX2xlZnRfd2lkdGh9cHg7YCArXG5cdFx0XHRcdGBib3JkZXItcmlnaHQtd2lkdGg6ICR7eHQgKiB4X2JvcmRlcl9yaWdodF93aWR0aH1weDtgXG5cdFx0fTtcblx0fVxuPC9zY3JpcHQ+XG5cbjxzdHlsZSBsYW5nPVwibGVzc1wiPlxuXHRAaW1wb3J0ICcuL19iYXNlLmxlc3MnO1xuXG5cdC5jbHVzdGVyIHtcblx0XHRkaXNwbGF5OiBpbmxpbmUtZmxleDtcblx0XHR2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xuXHRcdGp1c3RpZnktY29udGVudDogY2VudGVyO1xuXHRcdGFsaWduLWl0ZW1zOiBjZW50ZXI7XG5cdFx0Z2FwOiA0cHg7XG5cdFx0ZmxleC1mbG93OiByb3cgd3JhcDtcblx0XHRcblx0XHQmLmNvbGxhcHNlZCB7XG5cdFx0XHRtYXJnaW46IHZhcigtLXRhZy1jbHVzdGVyLW1hcmdpbiwgMCk7XG5cdFx0XHRtYXJnaW4tdG9wOiA1cHg7XG5cdFx0XHRqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtc3RhcnQ7XG5cdFx0XHRkaXNwbGF5OiBmbGV4O1xuXHRcdH1cblxuXHRcdCYuZWRpdGFibGUge1xuXHRcdFx0anVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0O1xuXHRcdFx0Ly8gbWFyZ2luOiB2YXIoLS10YWctY2x1c3Rlci1tYXJnaW4sIDAgdmFyKC0tdWktcGFkZGluZykpO1xuXG5cdFx0XHQ+LnRhZyB7XG5cdFx0XHRcdHBhZGRpbmctcmlnaHQ6IDJweDtcblx0XHRcdH1cblxuXHRcdFx0IG1hcmdpbi10b3A6LTEwcHg7XG5cdFx0XHQgbWFyZ2luLWJvdHRvbTo1cHg7XG5cdFx0fVxuXG5cdFx0Pi50YWcge1xuXHRcdFx0LS10YWctd2lkdGg6IGF1dG87XG5cdFx0XHQtLXRhZy1oZWlnaHQ6IDIycHg7XG5cblx0XHRcdGRpc3BsYXk6IGlubGluZS1mbGV4O1xuXHRcdFx0d2lkdGg6IHZhcigtLXRhZy13aWR0aCk7XG5cdFx0XHRoZWlnaHQ6IHZhcigtLXRhZy1oZWlnaHQpO1xuXHRcdFx0Ym9yZGVyLXJhZGl1czogMWVtO1xuXHRcdFx0cGFkZGluZzogMCAxY2g7XG5cdFx0XHRmb250LXNpemU6IDEzcHg7XG5cblx0XHRcdD4ubGFiZWwge1xuXHRcdFx0XHRtYXJnaW4tdG9wOiAxcHg7XG5cdFx0XHRcdHRleHQtc2hhZG93OiAtMXB4IDFweCAxLjNweCByZ2IoMCAwIDAgLyA0MCUpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyAmOm50aC1jaGlsZChuKzIpIHtcblx0XHRcdC8vIFx0bWFyZ2luLWxlZnQ6IDhweDtcblx0XHRcdC8vIH1cblxuXHRcdFx0Ji5jb2xsYXBzZWQge1xuXHRcdFx0XHQtLXRhZy13aWR0aDogdmFyKC0tYXBwLXRhZy1kaWFtZXRlcik7XG5cdFx0XHRcdC0tdGFnLWhlaWdodDogdmFyKC0tYXBwLXRhZy1kaWFtZXRlcik7XG5cdFx0XHRcdHBhZGRpbmc6IDA7XG5cdFx0XHR9XG5cblx0XHRcdC5kZWxldGUuaWNvbiB7XG5cdFx0XHRcdC0taWNvbi1kaWFtZXRlcjogMjJweDtcblx0XHRcdFx0dHJhbnNmb3JtOiByb3RhdGUoNDVkZWcpO1xuXHRcdFx0XHR0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gMjAwbXMgZWFzZS1vdXQsIGZpbHRlciAyMDBtcyBlYXNlLW91dDtcblx0XHRcdFx0Y3Vyc29yOiBwb2ludGVyO1xuXHRcdFx0XHRmaWx0ZXI6IGRyb3Atc2hhZG93KDBweCAwcHggMHB4IGJsYWNrKTtcblx0XHRcdFx0ZGlzcGxheTogdmFyKC0tZGVsZXRlLWRpc3BsYXksIGluaXRpYWwpO1xuXG5cdFx0XHRcdCY6aG92ZXIge1xuXHRcdFx0XHRcdHRyYW5zZm9ybTogcm90YXRlKDQ1ZGVnKSBzY2FsZSgxLjA3NSk7XG5cdFx0XHRcdFx0ZmlsdGVyOiBkcm9wLXNoYWRvdygtMXB4IDNweCAycHggcmdiYSgwLCAwLCAwLCAwLjQpKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdD4uZWRpdCB7XG5cdFx0XHRjdXJzb3I6IHBvaW50ZXI7XG5cblx0XHRcdD4uaWNvbiB7XG5cdFx0XHRcdC0taWNvbi1jb2xvcjogdmFyKC0tdGhlbWUtY29sb3ItcHJpbWFyeSk7XG5cdFx0XHRcdC0taWNvbi1kaWFtZXRlcjogMjJweDtcblx0XHRcdFx0ZGlzcGxheTogZmxleDtcblx0XHRcdFx0YmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XG5cblx0XHRcdFx0Ly8gLS1pY29uLWNvbG9yOiB2YXIoLS10aGVtZS1jb2xvci1wcmltYXJ5KTtcblx0XHRcdFx0Ly8gLS1pY29uLWRpYW1ldGVyOiAxNnB4O1xuXHRcdFx0XHQvLyAtLWJ1dHRvbi1kaWFtZXRlcjogMjJweDtcblx0XHRcdFx0Ly8gZGlzcGxheTogZmxleDtcblx0XHRcdFx0Ly8gcGFkZGluZzogMnB4O1xuXHRcdFx0XHQvLyBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcblxuXHRcdFx0XHQvLyBtYXJnaW4tbGVmdDogNHB4O1xuXG5cdFx0XHRcdC8vICY6OmJlZm9yZSB7XG5cdFx0XHRcdC8vIFx0LS1vZmZzZXQ6IDBweDtcblx0XHRcdFx0Ly8gXHRjb250ZW50OiBcIlwiO1xuXHRcdFx0XHQvLyBcdG91dGxpbmU6IDJweCBzb2xpZCB2YXIoLS10aGVtZS1jb2xvci1wcmltYXJ5KTtcblx0XHRcdFx0Ly8gXHRib3JkZXItcmFkaXVzOiB2YXIoLS1idXR0b24tZGlhbWV0ZXIpO1xuXHRcdFx0XHQvLyBcdG1pbi13aWR0aDogY2FsYyh2YXIoLS1idXR0b24tZGlhbWV0ZXIpIC0gKDIgKiB2YXIoLS1vZmZzZXQpKSk7XG5cdFx0XHRcdC8vIFx0bWluLWhlaWdodDogY2FsYyh2YXIoLS1idXR0b24tZGlhbWV0ZXIpIC0gKDIgKiB2YXIoLS1vZmZzZXQpKSk7XG5cdFx0XHRcdC8vIFx0bWFyZ2luLWxlZnQ6IC0zcHg7XG5cdFx0XHRcdC8vIFx0bWFyZ2luLXRvcDogMXB4O1xuXHRcdFx0XHQvLyBcdHBvc2l0aW9uOiBhYnNvbHV0ZTtcblx0XHRcdFx0Ly8gfVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC5wcmVmaXgsLnN1ZmZpeCB7XG5cdFx0XHQuZm9udCh0aW55KTtcblx0XHRcdGNvbG9yOiB2YXIoLS10aGVtZS1jb2xvci10ZXh0LWxpZ2h0KTtcblx0XHRcdGRpc3BsYXk6IGlubGluZS1mbGV4O1xuXHRcdFx0dGV4dC1hbGlnbjogY2VudGVyO1xuXHRcdH1cblx0fVxuPC9zdHlsZT5cblxuPHNwYW4gY2xhc3M9XCJjbHVzdGVyXCIgY2xhc3M6ZWRpdGFibGU9e2JfZWRpdGFibGV9IGNsYXNzOmNvbGxhcHNlZD17Yl9jb2xsYXBzZWR9IGJpbmQ6dGhpcz17ZG1fY2x1c3Rlcn0gc3R5bGU9e3Jvb3RTdHlsZX0+XG5cdHsjaWYgJCRzbG90cy5wcmVmaXh9XG5cdFx0PHNwYW4gY2xhc3M9XCJwcmVmaXgge3ByZWZpeENsYXNzfVwiPlxuXHRcdFx0PHNsb3QgbmFtZT1cInByZWZpeFwiPjwvc2xvdD5cblx0XHQ8L3NwYW4+XG5cdHsvaWZ9XG5cblx0eyNrZXkgY19yZWxvYWRfdGFnc31cblx0XHR7I2VhY2ggYV90YWdzIGFzIGdfdGFnLCBpX3RhZ31cblx0XHRcdDxzcGFuIGNsYXNzPVwidGFnXCIgc3R5bGU9XCJiYWNrZ3JvdW5kLWNvbG9yOntnX3RhZy5jb2xvcn07XCIgY2xhc3M6Y29sbGFwc2VkPXtiX2NvbGxhcHNlZH0gb3V0OnNzbGlkZT17e2R1cmF0aW9uOmJfZWRpdGFibGU/IDMwMDogMH19PlxuXHRcdFx0XHR7I2lmICFiX2NvbGxhcHNlZH1cblx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cImxhYmVsXCI+XG5cdFx0XHRcdFx0XHR7Z190YWcubmFtZX1cblx0XHRcdFx0XHQ8L3NwYW4+XG5cdFx0XHRcdHsvaWZ9XG5cblx0XHRcdFx0eyNpZiBiX2VkaXRhYmxlfVxuXHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwiZGVsZXRlIGljb25cIiBvbjpjbGljaz17KCkgPT4gcmVtb3ZlX3RhZyhnX3RhZyl9PlxuXHRcdFx0XHRcdFx0e0BodG1sIFNYX0lDT05fQUREfVxuXHRcdFx0XHRcdDwvc3Bhbj5cblx0XHRcdFx0ey9pZn1cblx0XHRcdDwvc3Bhbj5cblx0XHR7L2VhY2h9XG5cdHsva2V5fVxuXG5cdHsjaWYgYl9lZGl0YWJsZX1cblx0XHQ8c3BhbiBjbGFzcz1cImVkaXRcIiBvbjpjbGljaz17KCkgPT4gc2hvd190YWdfc2VsZWN0b3IoKX0+XG5cdFx0XHQ8c3BhbiBjbGFzcz1cImljb25cIj5cblx0XHRcdFx0e0BodG1sIFNYX0lDT05fRURJVH1cblx0XHRcdDwvc3Bhbj5cblx0XHQ8L3NwYW4+XG5cdHsvaWZ9XG5cblx0eyNpZiAkJHNsb3RzLnN1ZmZpeH1cblx0XHQ8c3BhbiBjbGFzcz1cInN1ZmZpeCB7c3VmZml4Q2xhc3N9XCI+XG5cdFx0XHQ8c2xvdCBuYW1lPVwic3VmZml4XCI+PC9zbG90PlxuXHRcdDwvc3Bhbj5cblx0ey9pZn1cbjwvc3Bhbj4iLCI8c2NyaXB0IGNvbnRleHQ9XCJtb2R1bGVcIiBsYW5nPVwidHNcIj5cblx0ZXhwb3J0IGVudW0gQWN0aW9uSWQge1xuXHRcdFNFTkQgPSAnc2VuZCcsXG5cdFx0UkVDViA9ICdyZWN2Jyxcblx0XHRBREQgPSAnYWRkJyxcblx0XHRFRElUID0gJ2VkaXQnLFxuXHRcdFdSQVAgPSAnd3JhcCcsXG5cdFx0VU5XUkFQID0gJ3Vud3JhcCcsXG5cdH1cblxuXHRleHBvcnQgaW50ZXJmYWNlIEFjdGlvbkNvbmZpZyB7XG5cdFx0bGFiZWw6IHN0cmluZztcblx0XHR0cmlnZ2VyOiBWb2lkRnVuY3Rpb247XG5cdH1cblxuXHRleHBvcnQgdHlwZSBBY3Rpb25zID0gUGFydGlhbDxSZWNvcmQ8QWN0aW9uSWQsIEFjdGlvbkNvbmZpZz4+O1xuPC9zY3JpcHQ+XG5cbjxzY3JpcHQgbGFuZz1cInRzXCI+XG5cdGltcG9ydCB7b2RlLCBQcm9taXNhYmxlfSBmcm9tICcjL3V0aWwvYmVsdCc7XG5cdFxuXHRpbXBvcnQgU1hfSUNPTl9TRU5EIGZyb20gJyMvaWNvbi9zZW5kLnN2Zz9yYXcnO1xuXHRpbXBvcnQgU1hfSUNPTl9SRUNWIGZyb20gJyMvaWNvbi9yZWN2LnN2Zz9yYXcnO1xuXHRpbXBvcnQgU1hfSUNPTl9BREQgZnJvbSAnIy9pY29uL2FkZC5zdmc/cmF3Jztcblx0aW1wb3J0IFNYX0lDT05fSU5GTyBmcm9tICcjL2ljb24vaW5mby5zdmc/cmF3Jztcblx0aW1wb3J0IFNYX0lDT05fRURJVCBmcm9tICcjL2ljb24vZWRpdC5zdmc/cmF3Jztcblx0aW1wb3J0IFNYX0lDT05fREVMRVRFIGZyb20gJyMvaWNvbi9kZWxldGUuc3ZnP3Jhdyc7XG5cdGltcG9ydCBTWF9JQ09OX1dSQVAgZnJvbSAnIy9pY29uL3dyYXAuc3ZnP3Jhdyc7XG5cdGltcG9ydCBTWF9JQ09OX1VOV1JBUCBmcm9tICcjL2ljb24vdW53cmFwLnN2Zz9yYXcnO1xuXG5cdGltcG9ydCB0eXBlIHsgUmVzb3VyY2UgfSBmcm9tICcjL21ldGEvcmVzb3VyY2UnO1xuXHRpbXBvcnQgdHlwZSB7IFBmcCwgUGZwUGF0aCB9IGZyb20gJyMvbWV0YS9wZnAnO1xuXHRpbXBvcnQgUGZwRGlzcGxheSBmcm9tICcuL1BmcERpc3BsYXkuc3ZlbHRlJztcblx0aW1wb3J0IHR5cGUgeyBOYW1lYWJsZSwgUGZwYWJsZSB9IGZyb20gJyMvbWV0YS9hYmxlJztcblx0aW1wb3J0IHsgeXdfc3RvcmVfdGFncyB9IGZyb20gJy4uL21lbSc7XG5pbXBvcnQgSW5saW5lVGFncyBmcm9tICcuL0lubGluZVRhZ3Muc3ZlbHRlJztcblxuXHRjb25zdCBIX0FDVElPTl9JQ09OUzogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHtcblx0XHRzZW5kOiBTWF9JQ09OX1NFTkQsXG5cdFx0cmVjdjogU1hfSUNPTl9SRUNWLFxuXHRcdGFkZDogU1hfSUNPTl9BREQsXG5cdFx0ZWRpdDogU1hfSUNPTl9FRElULFxuXHRcdHdyYXA6IFNYX0lDT05fV1JBUCxcblx0XHR1bndyYXA6IFNYX0lDT05fVU5XUkFQLFxuXHRcdGRlbGV0ZTogU1hfSUNPTl9ERUxFVEUsXG5cdH07XG5cblx0LyoqXG5cdCAqIEV4dHJhY3QgcGZwIGFuZCBuYW1lIGZyb20gYSByZXNvdXJjZVxuXHQgKi9cblx0ZXhwb3J0IGxldCByZXNvdXJjZTogKFBmcGFibGUgJiBOYW1lYWJsZSkgfCBudWxsID0gbnVsbDtcblxuXHQvKipcblx0ICogSW5mZXIgcGZwIGZyb20gcmVzb3VyY2Vcblx0ICovXG5cdGV4cG9ydCBsZXQgcGZwOiBQZnBQYXRoIHwgJycgPSByZXNvdXJjZT8ucGZwIHx8ICcnO1xuXHQvLyBjb25zdCBwX3BmcCA9IHBmcDtcblxuXHQvKipcblx0ICogUGF0aCB0byB0aGUgcmVzb3VyY2Vcblx0ICovXG5cdGV4cG9ydCBsZXQgcmVzb3VyY2VQYXRoOiBzdHJpbmc7XG5cdGNvbnN0IHBfcmVzb3VyY2UgPSByZXNvdXJjZVBhdGg7XG5cblx0Ly8gcmVhY3RpdmVseSBsb2FkIHRhZ3MgZm9yIHRoaXMgcmVzb3VyY2Vcblx0JDogYV90YWdzID0gJHl3X3N0b3JlX3RhZ3MhLmdldFRhZ3NGb3IocF9yZXNvdXJjZSk7XG5cblx0ZXhwb3J0IGxldCByb290Q2xhc3NlcyA9ICcnO1xuXHRjb25zdCBzX2NsYXNzZXMgPSByb290Q2xhc3NlcztcblxuXHRleHBvcnQgbGV0IHRpdGxlOiBQcm9taXNhYmxlPHN0cmluZz4gPSByZXNvdXJjZT8ubmFtZSB8fCAnJztcblxuXHRleHBvcnQgbGV0IHN1YnRpdGxlID0gJyc7XG5cblx0LyoqXG5cdCAqIENvbmZpZ3VyZSB3aGljaCBhY3Rpb25zIGFyZSBhdmFpbGFibGUgdG8gdGhpcyByZXNvdXJjZVxuXHQgKi9cblx0ZXhwb3J0IGxldCBhY3Rpb25zOiBudWxsIHwgUGFydGlhbDxBY3Rpb25zPiA9IG51bGw7XG5cdGNvbnN0IGhfYWN0aW9ucyA9IGFjdGlvbnMgYXMgQWN0aW9ucztcblxuXG5cdGV4cG9ydCBsZXQgaW5mbyA9IGZhbHNlO1xuXG5cbjwvc2NyaXB0PlxuXG48c3R5bGUgbGFuZz1cImxlc3NcIj5cblx0QGltcG9ydCAnLi9fYmFzZS5sZXNzJztcblxuXHQucG9ydHJhaXQge1xuXHRcdGRpc3BsYXk6IGZsZXg7XG5cdFx0ZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcblx0XHRwYWRkaW5nLXRvcDogMWVtO1xuXG5cdFx0Pi5wZnAge1xuXHRcdFx0d2lkdGg6IDEwMCU7XG5cdFx0XHR0ZXh0LWFsaWduOiBjZW50ZXI7XG5cdFx0XHRtYXJnaW4tYm90dG9tOiAxMHB4O1xuXHRcdFx0XG5cdFx0XHQ+Lmljb24ge1xuXHRcdFx0XHQtLWljb24tZGlhbWV0ZXI6IDY0cHg7XG5cblx0XHRcdFx0Lmdyb3VwIHtcblx0XHRcdFx0XHQ6Z2xvYmFsKCYpIHtcblx0XHRcdFx0XHRcdHRyYW5zZm9ybTogc2NhbGUoMS41KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpbWcge1xuXHRcdFx0XHRcdDpnbG9iYWwoJikge1xuXHRcdFx0XHRcdFx0Ym9yZGVyLXJhZGl1czogMjAlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdD4udGl0bGUge1xuXHRcdFx0LmZvbnQoaHVnZSk7XG5cdFx0XHRkaXNwbGF5OiBmbGV4O1xuXHRcdFx0anVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG5cdFx0XHRnYXA6IDRweDtcblx0XHRcdHdoaXRlLXNwYWNlOiBub3dyYXA7XG5cdFx0XHRvdmVyZmxvdzogc2Nyb2xsO1xuXHRcdFx0LmhpZGUtc2Nyb2xsYmFyKCk7XG5cblx0XHRcdD4uaW5mbyB7XG5cdFx0XHRcdGZpbGw6IHZhcigtLXRoZW1lLWNvbG9yLXByaW1hcnkpO1xuXHRcdFx0XHR2ZXJ0aWNhbC1hbGlnbjogYmFzZWxpbmU7XG5cblx0XHRcdFx0PnN2ZyB7XG5cdFx0XHRcdFx0Omdsb2JhbCgmKSB7XG5cdFx0XHRcdFx0XHRtYXJnaW4tdG9wOiAtNHB4O1xuXHRcdFx0XHRcdFx0dmVydGljYWwtYWxpZ246IG1pZGRsZTtcblx0XHRcdFx0XHRcdHdpZHRoOiAyMHB4O1xuXHRcdFx0XHRcdFx0aGVpZ2h0OiAyMHB4O1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdD4uc3VidGl0bGUge1xuXHRcdFx0LmZvbnQocmVndWxhcik7XG5cdFx0XHR0ZXh0LWFsaWduOiBjZW50ZXI7XG5cdFx0XHRjb2xvcjogdmFyKC0tdGhlbWUtY29sb3ItdGV4dC1tZWQpO1xuXHRcdFx0bWFyZ2luLXRvcDogNHB4O1xuXHRcdH1cblxuXHRcdD4uYWN0aW9ucyB7XG5cdFx0XHRkaXNwbGF5OiBmbGV4O1xuXHRcdFx0anVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG5cdFx0XHRtYXJnaW4tdG9wOiAxcmVtO1xuXHRcdFx0bWFyZ2luLWJvdHRvbTogMXJlbTtcblxuXHRcdFx0Pi5hY3Rpb24ge1xuXHRcdFx0XHQuZm9udCh0aW55KTtcblxuXHRcdFx0XHRjdXJzb3I6IHBvaW50ZXI7XG5cdFx0XHRcdGZsZXg6IDA7XG5cdFx0XHRcdGRpc3BsYXk6IGZsZXg7XG5cdFx0XHRcdGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG5cdFx0XHRcdGFsaWduLWl0ZW1zOiBjZW50ZXI7XG5cdFx0XHRcdGdhcDogNXB4O1xuXG5cdFx0XHRcdGNvbG9yOiB2YXIoLS10aGVtZS1jb2xvci10ZXh0LW1lZCk7XG5cdFx0XHRcdG1pbi13aWR0aDogY2FsYyg0OHB4ICsgMy41ZXgpO1xuXG5cdFx0XHRcdD4uaWNvbiB7XG5cdFx0XHRcdFx0LS1idXR0b24tZGlhbWV0ZXI6IDQ4cHg7XG5cdFx0XHRcdFx0LS1pY29uLWRpYW1ldGVyOiAyMHB4O1xuXHRcdFx0XHRcdGJhY2tncm91bmQtY29sb3I6IHZhcigtLXRoZW1lLWNvbG9yLWJvcmRlcik7XG5cblx0XHRcdFx0XHRkaXNwbGF5OiBpbmxpbmUtZmxleDtcblx0XHRcdFx0XHRqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcblx0XHRcdFx0XHRhbGlnbi1pdGVtczogY2VudGVyO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Jjpob3ZlciB7XG5cdFx0XHRcdFx0Pi5pY29uIHtcblx0XHRcdFx0XHRcdC0taWNvbi1jb2xvcjogYmxhY2s7XG5cdFx0XHRcdFx0XHRiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS10aGVtZS1jb2xvci1wcmltYXJ5KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cbjwvc3R5bGU+XG5cblxuPGRpdiBjbGFzcz1cInBvcnRyYWl0IHtzX2NsYXNzZXN9XCI+XG5cdDxkaXYgY2xhc3M9XCJwZnBcIj5cblx0XHR7I2lmIHBmcH1cblx0XHRcdDxQZnBEaXNwbGF5IHJlZj17cGZwfSByZXNvdXJjZT17cmVzb3VyY2V9IGRpbT17NjR9IGNpcmN1bGFyIC8+XG5cdFx0ezplbHNlIGlmICQkc2xvdHMucGZwfVxuXHRcdFx0PHNwYW4gY2xhc3M9XCJpY29uXCI+XG5cdFx0XHRcdDxzbG90IG5hbWU9XCJwZnBcIj5cblx0XHRcdFx0XHRFbXB0eSBwZnAgc2xvdFxuXHRcdFx0XHQ8L3Nsb3Q+XG5cdFx0XHQ8L3NwYW4+XG5cdFx0ey9pZn1cblx0PC9kaXY+XG5cdDxkaXYgY2xhc3M9XCJ0aXRsZVwiPlxuXHRcdDxzcGFuIGNsYXNzPVwidGV4dFwiPlxuXHRcdFx0eyNhd2FpdCB0aXRsZX1cblx0XHRcdFx0Li4uXG5cdFx0XHR7OnRoZW4gc190aXRsZX1cblx0XHRcdFx0e3NfdGl0bGV9XG5cdFx0XHR7L2F3YWl0fVxuXHRcdDwvc3Bhbj5cblx0XHR7I2lmIGluZm99XG5cdFx0XHQ8c3BhbiBjbGFzcz1cImluZm9cIj5cblx0XHRcdFx0e0BodG1sIFNYX0lDT05fSU5GT31cblx0XHRcdDwvc3Bhbj5cblx0XHR7L2lmfVxuXHQ8L2Rpdj5cblx0eyNpZiBzdWJ0aXRsZSB8fCAkJHNsb3RzLnN1YnRpdGxlfVxuXHRcdDxkaXYgY2xhc3M9XCJzdWJ0aXRsZVwiPlxuXHRcdFx0PHNwYW4gY2xhc3M9XCJ0ZXh0XCI+XG5cdFx0XHRcdDxzbG90IG5hbWU9XCJzdWJ0aXRsZVwiPlxuXHRcdFx0XHRcdHtzdWJ0aXRsZX1cblx0XHRcdFx0PC9zbG90PlxuXHRcdFx0PC9zcGFuPlxuXHRcdDwvZGl2PlxuXHR7L2lmfVxuXG5cdDxJbmxpbmVUYWdzIHJlc291cmNlUGF0aD17cF9yZXNvdXJjZX0gcm9vdFN0eWxlPSdtYXJnaW46IHZhcigtLXVpLXBhZGRpbmcpIDAgMCAwOycgLz5cblxuXHR7I2lmIGhfYWN0aW9uc31cblx0XHQ8ZGl2IGNsYXNzPVwiYWN0aW9uc1wiPlxuXHRcdFx0eyNlYWNoIG9kZShoX2FjdGlvbnMpIGFzIFtzaV9hY3Rpb24sIGdjX2FjdGlvbl19XG5cdFx0XHRcdDxzcGFuIGNsYXNzPVwiYWN0aW9uIGFjdGlvbi17c2lfYWN0aW9ufVwiIG9uOmNsaWNrPXsoKSA9PiBnY19hY3Rpb24udHJpZ2dlcigpfT5cblx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cImljb25cIj5cblx0XHRcdFx0XHRcdHtAaHRtbCBIX0FDVElPTl9JQ09OU1tzaV9hY3Rpb25dfVxuXHRcdFx0XHRcdDwvc3Bhbj5cblx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cImxhYmVsXCI+XG5cdFx0XHRcdFx0XHR7Z2NfYWN0aW9uLmxhYmVsfVxuXHRcdFx0XHRcdDwvc3Bhbj5cblx0XHRcdFx0PC9zcGFuPlxuXHRcdFx0ey9lYWNofVxuXHRcdDwvZGl2PlxuXHR7L2lmfVxuXG5cdFxuPC9kaXY+IiwiZXhwb3J0IGRlZmF1bHQgXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgd2lkdGg9XFxcIjI0XFxcIiBoZWlnaHQ9XFxcIjI0XFxcIiB2aWV3Qm94PVxcXCIwIDAgMjQgMjRcXFwiPlxcblxcdDxzdHlsZSB0eXBlPVxcXCJ0ZXh0L2Nzc1xcXCI+XFxuXFx0XFx0LnMyci1kcm9wLWRvd24tZmcge1xcblxcdFxcdFxcdGZpbGw6IHZhcigtLXN2Zy1jb2xvci1mZywgY3VycmVudENvbG9yKTtcXG5cXHRcXHR9XFxuXFx0PC9zdHlsZT5cXG5cXHQ8cGF0aCBjbGFzcz1cXFwiczJyLWRyb3AtZG93bi1mZ1xcXCIgZD1cXFwiTTguNzA5NTYgMTEuNzFMMTEuMjk5NiAxNC4zQzExLjY4OTYgMTQuNjkgMTIuMzE5NiAxNC42OSAxMi43MDk2IDE0LjNMMTUuMjk5NiAxMS43MUMxNS45Mjk2IDExLjA4IDE1LjQ3OTYgMTAgMTQuNTg5NiAxMEg5LjQwOTU2QzguNTE5NTYgMTAgOC4wNzk1NiAxMS4wOCA4LjcwOTU2IDExLjcxWlxcXCIgLz5cXG48L3N2Zz5cXG5cIiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChwYXJlbnQsIGNvbnRhaW5lcikge1xuICAgIGNvbnN0IHBhcmVudEJvdW5kaW5nID0gcGFyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGNvbnN0IGJvdW5kaW5nQ29udGFpbmVyID0gY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGNvbnN0IG91dCA9IHt9O1xuXG4gICAgb3V0LnRvcCA9IHBhcmVudEJvdW5kaW5nLnRvcCA8IDA7XG4gICAgb3V0LmxlZnQgPSBwYXJlbnRCb3VuZGluZy5sZWZ0IDwgMDtcbiAgICBvdXQuYm90dG9tID1cbiAgICAgICAgcGFyZW50Qm91bmRpbmcuYm90dG9tICsgYm91bmRpbmdDb250YWluZXIuaGVpZ2h0ID5cbiAgICAgICAgKHdpbmRvdy5pbm5lckhlaWdodCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0KTtcblxuICAgIG91dC5yaWdodCA9XG4gICAgICAgIHBhcmVudEJvdW5kaW5nLnJpZ2h0ID5cbiAgICAgICAgKHdpbmRvdy5pbm5lcldpZHRoIHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCk7XG4gICAgb3V0LmFueSA9IG91dC50b3AgfHwgb3V0LmxlZnQgfHwgb3V0LmJvdHRvbSB8fCBvdXQucmlnaHQ7XG5cbiAgICByZXR1cm4gb3V0O1xufVxuIiwiPHNjcmlwdD5cbiAgICBleHBvcnQgbGV0IGlzQWN0aXZlID0gZmFsc2U7XG4gICAgZXhwb3J0IGxldCBpc0ZpcnN0ID0gZmFsc2U7XG4gICAgZXhwb3J0IGxldCBpc0hvdmVyID0gZmFsc2U7XG4gICAgZXhwb3J0IGxldCBpc1NlbGVjdGFibGUgPSBmYWxzZTtcbiAgICBleHBvcnQgbGV0IGdldE9wdGlvbkxhYmVsID0gdW5kZWZpbmVkO1xuICAgIGV4cG9ydCBsZXQgaXRlbSA9IHVuZGVmaW5lZDtcbiAgICBleHBvcnQgbGV0IGZpbHRlclRleHQgPSAnJztcblxuICAgIGxldCBpdGVtQ2xhc3NlcyA9ICcnO1xuXG4gICAgJDoge1xuICAgICAgICBjb25zdCBjbGFzc2VzID0gW107XG4gICAgICAgIGlmIChpc0FjdGl2ZSkge1xuICAgICAgICAgICAgY2xhc3Nlcy5wdXNoKCdhY3RpdmUnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNGaXJzdCkge1xuICAgICAgICAgICAgY2xhc3Nlcy5wdXNoKCdmaXJzdCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0hvdmVyKSB7XG4gICAgICAgICAgICBjbGFzc2VzLnB1c2goJ2hvdmVyJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGl0ZW0uaXNHcm91cEhlYWRlcikge1xuICAgICAgICAgICAgY2xhc3Nlcy5wdXNoKCdncm91cEhlYWRlcicpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpdGVtLmlzR3JvdXBJdGVtKSB7XG4gICAgICAgICAgICBjbGFzc2VzLnB1c2goJ2dyb3VwSXRlbScpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNTZWxlY3RhYmxlKSB7XG4gICAgICAgICAgICBjbGFzc2VzLnB1c2goJ25vdFNlbGVjdGFibGUnKTtcbiAgICAgICAgfVxuICAgICAgICBpdGVtQ2xhc3NlcyA9IGNsYXNzZXMuam9pbignICcpO1xuICAgIH1cbjwvc2NyaXB0PlxuXG48c3R5bGU+XG4gICAgLml0ZW0ge1xuICAgICAgICBjdXJzb3I6IGRlZmF1bHQ7XG4gICAgICAgIGhlaWdodDogdmFyKC0taGVpZ2h0LCA0MnB4KTtcbiAgICAgICAgbGluZS1oZWlnaHQ6IHZhcigtLWhlaWdodCwgNDJweCk7XG4gICAgICAgIHBhZGRpbmc6IHZhcigtLWl0ZW1QYWRkaW5nLCAwIDIwcHgpO1xuICAgICAgICBjb2xvcjogdmFyKC0taXRlbUNvbG9yLCBpbmhlcml0KTtcbiAgICAgICAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG4gICAgICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4gICAgfVxuXG4gICAgLmdyb3VwSGVhZGVyIHtcbiAgICAgICAgdGV4dC10cmFuc2Zvcm06IHZhcigtLWdyb3VwVGl0bGVUZXh0VHJhbnNmb3JtLCB1cHBlcmNhc2UpO1xuICAgIH1cblxuICAgIC5ncm91cEl0ZW0ge1xuICAgICAgICBwYWRkaW5nLWxlZnQ6IHZhcigtLWdyb3VwSXRlbVBhZGRpbmdMZWZ0LCA0MHB4KTtcbiAgICB9XG5cbiAgICAuaXRlbTphY3RpdmUge1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1pdGVtQWN0aXZlQmFja2dyb3VuZCwgI2I5ZGFmZik7XG4gICAgfVxuXG4gICAgLml0ZW0uYWN0aXZlIHtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0taXRlbUlzQWN0aXZlQkcsICMwMDdhZmYpO1xuICAgICAgICBjb2xvcjogdmFyKC0taXRlbUlzQWN0aXZlQ29sb3IsICNmZmYpO1xuICAgIH1cblxuICAgLml0ZW0ubm90U2VsZWN0YWJsZSB7XG4gICAgICAgIGNvbG9yOiB2YXIoLS1pdGVtSXNOb3RTZWxlY3RhYmxlQ29sb3IsICM5OTkpO1xuICAgIH1cblxuICAgIC5pdGVtLmZpcnN0IHtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogdmFyKC0taXRlbUZpcnN0Qm9yZGVyUmFkaXVzLCA0cHggNHB4IDAgMCk7XG4gICAgfVxuXG4gICAgLml0ZW0uaG92ZXI6bm90KC5hY3RpdmUpIHtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0taXRlbUhvdmVyQkcsICNlN2YyZmYpO1xuICAgICAgICBjb2xvcjogdmFyKC0taXRlbUhvdmVyQ29sb3IsIGluaGVyaXQpO1xuICAgIH1cbjwvc3R5bGU+XG5cbjxkaXYgY2xhc3M9XCJpdGVtIHtpdGVtQ2xhc3Nlc31cIj5cbiAgICB7QGh0bWwgZ2V0T3B0aW9uTGFiZWwoaXRlbSwgZmlsdGVyVGV4dCl9XG48L2Rpdj5cbiIsIjxzY3JpcHQ+XG4gICAgaW1wb3J0IHsgYmVmb3JlVXBkYXRlLCBjcmVhdGVFdmVudERpc3BhdGNoZXIsIG9uTW91bnQsIHRpY2sgfSBmcm9tICdzdmVsdGUnO1xuICAgIGltcG9ydCBpc091dE9mVmlld3BvcnQgZnJvbSAnLi91dGlscy9pc091dE9mVmlld3BvcnQnO1xuICAgIGltcG9ydCBJdGVtQ29tcG9uZW50IGZyb20gJy4vSXRlbS5zdmVsdGUnO1xuXG4gICAgY29uc3QgZGlzcGF0Y2ggPSBjcmVhdGVFdmVudERpc3BhdGNoZXIoKTtcblxuICAgIGV4cG9ydCBsZXQgY29udGFpbmVyID0gdW5kZWZpbmVkO1xuICAgIGV4cG9ydCBsZXQgVmlydHVhbExpc3QgPSBudWxsO1xuICAgIGV4cG9ydCBsZXQgSXRlbSA9IEl0ZW1Db21wb25lbnQ7XG4gICAgZXhwb3J0IGxldCBpc1ZpcnR1YWxMaXN0ID0gZmFsc2U7XG4gICAgZXhwb3J0IGxldCBpdGVtcyA9IFtdO1xuICAgIGV4cG9ydCBsZXQgbGFiZWxJZGVudGlmaWVyID0gJ2xhYmVsJztcbiAgICBleHBvcnQgbGV0IGdldE9wdGlvbkxhYmVsID0gKG9wdGlvbiwgZmlsdGVyVGV4dCkgPT4ge1xuICAgICAgICBpZiAob3B0aW9uKVxuICAgICAgICAgICAgcmV0dXJuIG9wdGlvbi5pc0NyZWF0b3JcbiAgICAgICAgICAgICAgICA/IGBDcmVhdGUgXFxcIiR7ZmlsdGVyVGV4dH1cXFwiYFxuICAgICAgICAgICAgICAgIDogb3B0aW9uW2xhYmVsSWRlbnRpZmllcl07XG4gICAgfTtcbiAgICBleHBvcnQgbGV0IGdldEdyb3VwSGVhZGVyTGFiZWwgPSBudWxsO1xuICAgIGV4cG9ydCBsZXQgaXRlbUhlaWdodCA9IDQwO1xuICAgIGV4cG9ydCBsZXQgaG92ZXJJdGVtSW5kZXggPSAwO1xuICAgIGV4cG9ydCBsZXQgdmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgZXhwb3J0IGxldCBvcHRpb25JZGVudGlmaWVyID0gJ3ZhbHVlJztcbiAgICBleHBvcnQgbGV0IGhpZGVFbXB0eVN0YXRlID0gZmFsc2U7XG4gICAgZXhwb3J0IGxldCBub09wdGlvbnNNZXNzYWdlID0gJ05vIG9wdGlvbnMnO1xuICAgIGV4cG9ydCBsZXQgaXNNdWx0aSA9IGZhbHNlO1xuICAgIGV4cG9ydCBsZXQgYWN0aXZlSXRlbUluZGV4ID0gMDtcbiAgICBleHBvcnQgbGV0IGZpbHRlclRleHQgPSAnJztcbiAgICBleHBvcnQgbGV0IHBhcmVudCA9IG51bGw7XG4gICAgZXhwb3J0IGxldCBsaXN0UGxhY2VtZW50ID0gbnVsbDtcbiAgICBleHBvcnQgbGV0IGxpc3RBdXRvV2lkdGggPSBudWxsO1xuICAgIGV4cG9ydCBsZXQgbGlzdE9mZnNldCA9IDU7XG5cbiAgICBsZXQgaXNTY3JvbGxpbmdUaW1lciA9IDA7XG4gICAgbGV0IGlzU2Nyb2xsaW5nID0gZmFsc2U7XG4gICAgbGV0IHByZXZfaXRlbXM7XG5cbiAgICBvbk1vdW50KCgpID0+IHtcbiAgICAgICAgaWYgKGl0ZW1zLmxlbmd0aCA+IDAgJiYgIWlzTXVsdGkgJiYgdmFsdWUpIHtcbiAgICAgICAgICAgIGNvbnN0IF9ob3Zlckl0ZW1JbmRleCA9IGl0ZW1zLmZpbmRJbmRleChcbiAgICAgICAgICAgICAgICAoaXRlbSkgPT4gaXRlbVtvcHRpb25JZGVudGlmaWVyXSA9PT0gdmFsdWVbb3B0aW9uSWRlbnRpZmllcl1cbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGlmIChfaG92ZXJJdGVtSW5kZXgpIHtcbiAgICAgICAgICAgICAgICBob3Zlckl0ZW1JbmRleCA9IF9ob3Zlckl0ZW1JbmRleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHNjcm9sbFRvQWN0aXZlSXRlbSgnYWN0aXZlJyk7XG5cbiAgICAgICAgY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICAnc2Nyb2xsJyxcbiAgICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoaXNTY3JvbGxpbmdUaW1lcik7XG5cbiAgICAgICAgICAgICAgICBpc1Njcm9sbGluZ1RpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlzU2Nyb2xsaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSwgMTAwKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmYWxzZVxuICAgICAgICApO1xuICAgIH0pO1xuXG4gICAgYmVmb3JlVXBkYXRlKCgpID0+IHtcbiAgICAgICAgaWYgKCFpdGVtcykgaXRlbXMgPSBbXTtcbiAgICAgICAgaWYgKGl0ZW1zICE9PSBwcmV2X2l0ZW1zICYmIGl0ZW1zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGhvdmVySXRlbUluZGV4ID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHByZXZfaXRlbXMgPSBpdGVtcztcbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uIGhhbmRsZVNlbGVjdChpdGVtKSB7XG4gICAgICAgIGlmIChpdGVtLmlzQ3JlYXRvcikgcmV0dXJuO1xuICAgICAgICBkaXNwYXRjaCgnaXRlbVNlbGVjdGVkJywgaXRlbSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFuZGxlSG92ZXIoaSkge1xuICAgICAgICBpZiAoaXNTY3JvbGxpbmcpIHJldHVybjtcbiAgICAgICAgaG92ZXJJdGVtSW5kZXggPSBpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhhbmRsZUNsaWNrKGFyZ3MpIHtcbiAgICAgICAgY29uc3QgeyBpdGVtLCBpLCBldmVudCB9ID0gYXJncztcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgdmFsdWUgJiZcbiAgICAgICAgICAgICFpc011bHRpICYmXG4gICAgICAgICAgICB2YWx1ZVtvcHRpb25JZGVudGlmaWVyXSA9PT0gaXRlbVtvcHRpb25JZGVudGlmaWVyXVxuICAgICAgICApXG4gICAgICAgICAgICByZXR1cm4gY2xvc2VMaXN0KCk7XG5cbiAgICAgICAgaWYgKGl0ZW0uaXNDcmVhdG9yKSB7XG4gICAgICAgICAgICBkaXNwYXRjaCgnaXRlbUNyZWF0ZWQnLCBmaWx0ZXJUZXh0KTtcbiAgICAgICAgfSBlbHNlIGlmIChpc0l0ZW1TZWxlY3RhYmxlKGl0ZW0pKSB7XG4gICAgICAgICAgICBhY3RpdmVJdGVtSW5kZXggPSBpO1xuICAgICAgICAgICAgaG92ZXJJdGVtSW5kZXggPSBpO1xuICAgICAgICAgICAgaGFuZGxlU2VsZWN0KGl0ZW0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2xvc2VMaXN0KCkge1xuICAgICAgICBkaXNwYXRjaCgnY2xvc2VMaXN0Jyk7XG4gICAgfVxuXG4gICAgYXN5bmMgZnVuY3Rpb24gdXBkYXRlSG92ZXJJdGVtKGluY3JlbWVudCkge1xuICAgICAgICBpZiAoaXNWaXJ0dWFsTGlzdCkgcmV0dXJuO1xuXG4gICAgICAgIGxldCBpc05vblNlbGVjdGFibGVJdGVtID0gdHJ1ZTtcblxuICAgICAgICB3aGlsZSAoaXNOb25TZWxlY3RhYmxlSXRlbSkge1xuICAgICAgICAgICAgaWYgKGluY3JlbWVudCA+IDAgJiYgaG92ZXJJdGVtSW5kZXggPT09IGl0ZW1zLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICBob3Zlckl0ZW1JbmRleCA9IDA7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGluY3JlbWVudCA8IDAgJiYgaG92ZXJJdGVtSW5kZXggPT09IDApIHtcbiAgICAgICAgICAgICAgICBob3Zlckl0ZW1JbmRleCA9IGl0ZW1zLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGhvdmVySXRlbUluZGV4ID0gaG92ZXJJdGVtSW5kZXggKyBpbmNyZW1lbnQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlzTm9uU2VsZWN0YWJsZUl0ZW0gPSAhaXNJdGVtU2VsZWN0YWJsZShpdGVtc1tob3Zlckl0ZW1JbmRleF0pO1xuICAgICAgICB9XG5cbiAgICAgICAgYXdhaXQgdGljaygpO1xuXG4gICAgICAgIHNjcm9sbFRvQWN0aXZlSXRlbSgnaG92ZXInKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoYW5kbGVLZXlEb3duKGUpIHtcbiAgICAgICAgc3dpdGNoIChlLmtleSkge1xuICAgICAgICAgICAgY2FzZSAnRXNjYXBlJzpcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgY2xvc2VMaXN0KCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdBcnJvd0Rvd24nOlxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBpdGVtcy5sZW5ndGggJiYgdXBkYXRlSG92ZXJJdGVtKDEpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnQXJyb3dVcCc6XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIGl0ZW1zLmxlbmd0aCAmJiB1cGRhdGVIb3Zlckl0ZW0oLTEpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnRW50ZXInOlxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBpZiAoaXRlbXMubGVuZ3RoID09PSAwKSBicmVhaztcbiAgICAgICAgICAgICAgICBjb25zdCBob3Zlckl0ZW0gPSBpdGVtc1tob3Zlckl0ZW1JbmRleF07XG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSAmJlxuICAgICAgICAgICAgICAgICAgICAhaXNNdWx0aSAmJlxuICAgICAgICAgICAgICAgICAgICB2YWx1ZVtvcHRpb25JZGVudGlmaWVyXSA9PT0gaG92ZXJJdGVtW29wdGlvbklkZW50aWZpZXJdXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgIGNsb3NlTGlzdCgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGhvdmVySXRlbS5pc0NyZWF0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2goJ2l0ZW1DcmVhdGVkJywgZmlsdGVyVGV4dCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYWN0aXZlSXRlbUluZGV4ID0gaG92ZXJJdGVtSW5kZXg7XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZVNlbGVjdChpdGVtc1tob3Zlckl0ZW1JbmRleF0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ1RhYic6XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIGlmIChpdGVtcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNsb3NlTGlzdCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlICYmXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlW29wdGlvbklkZW50aWZpZXJdID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXNbaG92ZXJJdGVtSW5kZXhdW29wdGlvbklkZW50aWZpZXJdXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2xvc2VMaXN0KCk7XG4gICAgICAgICAgICAgICAgYWN0aXZlSXRlbUluZGV4ID0gaG92ZXJJdGVtSW5kZXg7XG4gICAgICAgICAgICAgICAgaGFuZGxlU2VsZWN0KGl0ZW1zW2hvdmVySXRlbUluZGV4XSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzY3JvbGxUb0FjdGl2ZUl0ZW0oY2xhc3NOYW1lKSB7XG4gICAgICAgIGlmIChpc1ZpcnR1YWxMaXN0IHx8ICFjb250YWluZXIpIHJldHVybjtcblxuICAgICAgICBsZXQgb2Zmc2V0Qm91bmRpbmc7XG4gICAgICAgIGNvbnN0IGZvY3VzZWRFbGVtQm91bmRpbmcgPSBjb250YWluZXIucXVlcnlTZWxlY3RvcihcbiAgICAgICAgICAgIGAubGlzdEl0ZW0gLiR7Y2xhc3NOYW1lfWBcbiAgICAgICAgKTtcblxuICAgICAgICBpZiAoZm9jdXNlZEVsZW1Cb3VuZGluZykge1xuICAgICAgICAgICAgb2Zmc2V0Qm91bmRpbmcgPVxuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5ib3R0b20gLVxuICAgICAgICAgICAgICAgIGZvY3VzZWRFbGVtQm91bmRpbmcuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuYm90dG9tO1xuICAgICAgICB9XG5cbiAgICAgICAgY29udGFpbmVyLnNjcm9sbFRvcCAtPSBvZmZzZXRCb3VuZGluZztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc0l0ZW1BY3RpdmUoaXRlbSwgdmFsdWUsIG9wdGlvbklkZW50aWZpZXIpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlICYmIHZhbHVlW29wdGlvbklkZW50aWZpZXJdID09PSBpdGVtW29wdGlvbklkZW50aWZpZXJdO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzSXRlbUZpcnN0KGl0ZW1JbmRleCkge1xuICAgICAgICByZXR1cm4gaXRlbUluZGV4ID09PSAwO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzSXRlbUhvdmVyKGhvdmVySXRlbUluZGV4LCBpdGVtLCBpdGVtSW5kZXgsIGl0ZW1zKSB7XG4gICAgICAgIHJldHVybiBpc0l0ZW1TZWxlY3RhYmxlKGl0ZW0pICYmIChob3Zlckl0ZW1JbmRleCA9PT0gaXRlbUluZGV4IHx8IGl0ZW1zLmxlbmd0aCA9PT0gMSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNJdGVtU2VsZWN0YWJsZShpdGVtKSB7XG4gICAgICAgIHJldHVybiAoaXRlbS5pc0dyb3VwSGVhZGVyICYmIGl0ZW0uaXNTZWxlY3RhYmxlKSB8fFxuICAgICAgICAgICAgaXRlbS5zZWxlY3RhYmxlIHx8XG4gICAgICAgICAgICAhaXRlbS5oYXNPd25Qcm9wZXJ0eSgnc2VsZWN0YWJsZScpIC8vIERlZmF1bHQ7IGlmIGBzZWxlY3RhYmxlYCB3YXMgbm90IHNwZWNpZmllZCwgdGhlIG9iamVjdCBpcyBzZWxlY3RhYmxlXG4gICAgfVxuXG4gICAgbGV0IGxpc3RTdHlsZTtcbiAgICBmdW5jdGlvbiBjb21wdXRlUGxhY2VtZW50KCkge1xuICAgICAgICBjb25zdCB7IGhlaWdodCwgd2lkdGggfSA9IHBhcmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgICAgICBsaXN0U3R5bGUgPSAnJztcbiAgICAgICAgbGlzdFN0eWxlICs9IGBtaW4td2lkdGg6JHt3aWR0aH1weDt3aWR0aDoke1xuICAgICAgICAgICAgbGlzdEF1dG9XaWR0aCA/ICdhdXRvJyA6ICcxMDAlJ1xuICAgICAgICB9O2A7XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgbGlzdFBsYWNlbWVudCA9PT0gJ3RvcCcgfHxcbiAgICAgICAgICAgIChsaXN0UGxhY2VtZW50ID09PSAnYXV0bycgJiYgaXNPdXRPZlZpZXdwb3J0KHBhcmVudCwgY29udGFpbmVyKS5ib3R0b20pXG4gICAgICAgICkge1xuICAgICAgICAgICAgbGlzdFN0eWxlICs9IGBib3R0b206JHtoZWlnaHQgKyBsaXN0T2Zmc2V0fXB4O2A7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsaXN0U3R5bGUgKz0gYHRvcDoke2hlaWdodCArIGxpc3RPZmZzZXR9cHg7YDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgICQ6IHtcbiAgICAgICAgaWYgKHBhcmVudCAmJiBjb250YWluZXIpIGNvbXB1dGVQbGFjZW1lbnQoKTtcbiAgICB9XG48L3NjcmlwdD5cblxuPHN0eWxlPlxuICAgIC5saXN0Q29udGFpbmVyIHtcbiAgICAgICAgYm94LXNoYWRvdzogdmFyKC0tbGlzdFNoYWRvdywgMCAycHggM3B4IDAgcmdiYSg0NCwgNjIsIDgwLCAwLjI0KSk7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IHZhcigtLWxpc3RCb3JkZXJSYWRpdXMsIDRweCk7XG4gICAgICAgIG1heC1oZWlnaHQ6IHZhcigtLWxpc3RNYXhIZWlnaHQsIDI1MHB4KTtcbiAgICAgICAgb3ZlcmZsb3cteTogYXV0bztcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tbGlzdEJhY2tncm91bmQsICNmZmYpO1xuICAgICAgICBib3JkZXI6IHZhcigtLWxpc3RCb3JkZXIsIG5vbmUpO1xuICAgICAgICBwb3NpdGlvbjogdmFyKC0tbGlzdFBvc2l0aW9uLCBhYnNvbHV0ZSk7XG4gICAgICAgIHotaW5kZXg6IHZhcigtLWxpc3RaSW5kZXgsIDIpO1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgbGVmdDogdmFyKC0tbGlzdExlZnQsIDApO1xuICAgICAgICByaWdodDogdmFyKC0tbGlzdFJpZ2h0LCAwKTtcbiAgICB9XG5cbiAgICAudmlydHVhbExpc3Qge1xuICAgICAgICBoZWlnaHQ6IHZhcigtLXZpcnR1YWxMaXN0SGVpZ2h0LCAyMDBweCk7XG4gICAgfVxuXG4gICAgLmxpc3RHcm91cFRpdGxlIHtcbiAgICAgICAgY29sb3I6IHZhcigtLWdyb3VwVGl0bGVDb2xvciwgIzhmOGY4Zik7XG4gICAgICAgIGN1cnNvcjogZGVmYXVsdDtcbiAgICAgICAgZm9udC1zaXplOiB2YXIoLS1ncm91cFRpdGxlRm9udFNpemUsIDEycHgpO1xuICAgICAgICBmb250LXdlaWdodDogdmFyKC0tZ3JvdXBUaXRsZUZvbnRXZWlnaHQsIDYwMCk7XG4gICAgICAgIGhlaWdodDogdmFyKC0taGVpZ2h0LCA0MnB4KTtcbiAgICAgICAgbGluZS1oZWlnaHQ6IHZhcigtLWhlaWdodCwgNDJweCk7XG4gICAgICAgIHBhZGRpbmc6IHZhcigtLWdyb3VwVGl0bGVQYWRkaW5nLCAwIDIwcHgpO1xuICAgICAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcbiAgICAgICAgb3ZlcmZsb3cteDogaGlkZGVuO1xuICAgICAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICAgICAgICB0ZXh0LXRyYW5zZm9ybTogdmFyKC0tZ3JvdXBUaXRsZVRleHRUcmFuc2Zvcm0sIHVwcGVyY2FzZSk7XG4gICAgfVxuXG4gICAgLmVtcHR5IHtcbiAgICAgICAgdGV4dC1hbGlnbjogdmFyKC0tbGlzdEVtcHR5VGV4dEFsaWduLCBjZW50ZXIpO1xuICAgICAgICBwYWRkaW5nOiB2YXIoLS1saXN0RW1wdHlQYWRkaW5nLCAyMHB4IDApO1xuICAgICAgICBjb2xvcjogdmFyKC0tbGlzdEVtcHR5Q29sb3IsICM3ODg0OGYpO1xuICAgIH1cbjwvc3R5bGU+XG5cbjxzdmVsdGU6d2luZG93IG9uOmtleWRvd249e2hhbmRsZUtleURvd259IG9uOnJlc2l6ZT17Y29tcHV0ZVBsYWNlbWVudH0gLz5cblxuPGRpdlxuICAgIGNsYXNzPVwibGlzdENvbnRhaW5lclwiXG4gICAgY2xhc3M6dmlydHVhbExpc3Q9e2lzVmlydHVhbExpc3R9XG4gICAgYmluZDp0aGlzPXtjb250YWluZXJ9XG4gICAgc3R5bGU9e2xpc3RTdHlsZX0+XG4gICAgeyNpZiBpc1ZpcnR1YWxMaXN0fVxuICAgICAgICA8c3ZlbHRlOmNvbXBvbmVudFxuICAgICAgICAgICAgdGhpcz17VmlydHVhbExpc3R9XG4gICAgICAgICAgICB7aXRlbXN9XG4gICAgICAgICAgICB7aXRlbUhlaWdodH1cbiAgICAgICAgICAgIGxldDppdGVtXG4gICAgICAgICAgICBsZXQ6aT5cbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICBvbjptb3VzZW92ZXI9eygpID0+IGhhbmRsZUhvdmVyKGkpfVxuICAgICAgICAgICAgICAgIG9uOmZvY3VzPXsoKSA9PiBoYW5kbGVIb3ZlcihpKX1cbiAgICAgICAgICAgICAgICBvbjpjbGljaz17KGV2ZW50KSA9PiBoYW5kbGVDbGljayh7IGl0ZW0sIGksIGV2ZW50IH0pfVxuICAgICAgICAgICAgICAgIGNsYXNzPVwibGlzdEl0ZW1cIj5cbiAgICAgICAgICAgICAgICA8c3ZlbHRlOmNvbXBvbmVudFxuICAgICAgICAgICAgICAgICAgICB0aGlzPXtJdGVtfVxuICAgICAgICAgICAgICAgICAgICB7aXRlbX1cbiAgICAgICAgICAgICAgICAgICAge2ZpbHRlclRleHR9XG4gICAgICAgICAgICAgICAgICAgIHtnZXRPcHRpb25MYWJlbH1cbiAgICAgICAgICAgICAgICAgICAgaXNGaXJzdD17aXNJdGVtRmlyc3QoaSl9XG4gICAgICAgICAgICAgICAgICAgIGlzQWN0aXZlPXtpc0l0ZW1BY3RpdmUoaXRlbSwgdmFsdWUsIG9wdGlvbklkZW50aWZpZXIpfVxuICAgICAgICAgICAgICAgICAgICBpc0hvdmVyPXtpc0l0ZW1Ib3Zlcihob3Zlckl0ZW1JbmRleCwgaXRlbSwgaSwgaXRlbXMpfVxuICAgICAgICAgICAgICAgICAgICBpc1NlbGVjdGFibGU9e2lzSXRlbVNlbGVjdGFibGUoaXRlbSl9IC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9zdmVsdGU6Y29tcG9uZW50PlxuICAgIHs6ZWxzZX1cbiAgICAgICAgeyNlYWNoIGl0ZW1zIGFzIGl0ZW0sIGl9XG4gICAgICAgICAgICB7I2lmIGl0ZW0uaXNHcm91cEhlYWRlciAmJiAhaXRlbS5pc1NlbGVjdGFibGV9XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImxpc3RHcm91cFRpdGxlXCI+e2dldEdyb3VwSGVhZGVyTGFiZWwoaXRlbSl9PC9kaXY+XG4gICAgICAgICAgICB7OmVsc2V9XG4gICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBvbjptb3VzZW92ZXI9eygpID0+IGhhbmRsZUhvdmVyKGkpfVxuICAgICAgICAgICAgICAgICAgICBvbjpmb2N1cz17KCkgPT4gaGFuZGxlSG92ZXIoaSl9XG4gICAgICAgICAgICAgICAgICAgIG9uOmNsaWNrPXsoZXZlbnQpID0+IGhhbmRsZUNsaWNrKHsgaXRlbSwgaSwgZXZlbnQgfSl9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzPVwibGlzdEl0ZW1cIlxuICAgICAgICAgICAgICAgICAgICB0YWJpbmRleD1cIi0xXCI+XG4gICAgICAgICAgICAgICAgICAgIDxzdmVsdGU6Y29tcG9uZW50XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzPXtJdGVtfVxuICAgICAgICAgICAgICAgICAgICAgICAge2l0ZW19XG4gICAgICAgICAgICAgICAgICAgICAgICB7ZmlsdGVyVGV4dH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtnZXRPcHRpb25MYWJlbH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlzRmlyc3Q9e2lzSXRlbUZpcnN0KGkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgaXNBY3RpdmU9e2lzSXRlbUFjdGl2ZShpdGVtLCB2YWx1ZSwgb3B0aW9uSWRlbnRpZmllcil9XG4gICAgICAgICAgICAgICAgICAgICAgICBpc0hvdmVyPXtpc0l0ZW1Ib3Zlcihob3Zlckl0ZW1JbmRleCwgaXRlbSwgaSwgaXRlbXMpfVxuICAgICAgICAgICAgICAgICAgICAgICAgaXNTZWxlY3RhYmxlPXtpc0l0ZW1TZWxlY3RhYmxlKGl0ZW0pfSAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgey9pZn1cbiAgICAgICAgezplbHNlfVxuICAgICAgICAgICAgeyNpZiAhaGlkZUVtcHR5U3RhdGV9XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImVtcHR5XCI+e25vT3B0aW9uc01lc3NhZ2V9PC9kaXY+XG4gICAgICAgICAgICB7L2lmfVxuICAgICAgICB7L2VhY2h9XG4gICAgey9pZn1cbjwvZGl2PlxuIiwiPHNjcmlwdD5cbiAgICBleHBvcnQgbGV0IGdldFNlbGVjdGlvbkxhYmVsID0gdW5kZWZpbmVkO1xuICAgIGV4cG9ydCBsZXQgaXRlbSA9IHVuZGVmaW5lZDtcbjwvc2NyaXB0PlxuXG48c3R5bGU+XG4gICAgLnNlbGVjdGlvbiB7XG4gICAgICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xuICAgICAgICBvdmVyZmxvdy14OiBoaWRkZW47XG4gICAgICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4gICAgfVxuPC9zdHlsZT5cblxuPGRpdiBjbGFzcz1cInNlbGVjdGlvblwiPlxuICAgIHtAaHRtbCBnZXRTZWxlY3Rpb25MYWJlbChpdGVtKX1cbjwvZGl2PlxuIiwiPHNjcmlwdD5cbiAgICBpbXBvcnQgeyBjcmVhdGVFdmVudERpc3BhdGNoZXIgfSBmcm9tICdzdmVsdGUnO1xuXG4gICAgY29uc3QgZGlzcGF0Y2ggPSBjcmVhdGVFdmVudERpc3BhdGNoZXIoKTtcblxuICAgIGV4cG9ydCBsZXQgdmFsdWUgPSBbXTtcbiAgICBleHBvcnQgbGV0IGFjdGl2ZVZhbHVlID0gdW5kZWZpbmVkO1xuICAgIGV4cG9ydCBsZXQgaXNEaXNhYmxlZCA9IGZhbHNlO1xuICAgIGV4cG9ydCBsZXQgbXVsdGlGdWxsSXRlbUNsZWFyYWJsZSA9IGZhbHNlO1xuICAgIGV4cG9ydCBsZXQgZ2V0U2VsZWN0aW9uTGFiZWwgPSB1bmRlZmluZWQ7XG5cbiAgICBmdW5jdGlvbiBoYW5kbGVDbGVhcihpLCBldmVudCkge1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgZGlzcGF0Y2goJ211bHRpSXRlbUNsZWFyJywgeyBpIH0pO1xuICAgIH1cbjwvc2NyaXB0PlxuXG48c3R5bGU+XG4gICAgLm11bHRpU2VsZWN0SXRlbSB7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLW11bHRpSXRlbUJHLCAjZWJlZGVmKTtcbiAgICAgICAgbWFyZ2luOiB2YXIoLS1tdWx0aUl0ZW1NYXJnaW4sIDVweCA1cHggMCAwKTtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogdmFyKC0tbXVsdGlJdGVtQm9yZGVyUmFkaXVzLCAxNnB4KTtcbiAgICAgICAgaGVpZ2h0OiB2YXIoLS1tdWx0aUl0ZW1IZWlnaHQsIDMycHgpO1xuICAgICAgICBsaW5lLWhlaWdodDogdmFyKC0tbXVsdGlJdGVtSGVpZ2h0LCAzMnB4KTtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgY3Vyc29yOiBkZWZhdWx0O1xuICAgICAgICBwYWRkaW5nOiB2YXIoLS1tdWx0aUl0ZW1QYWRkaW5nLCAwIDEwcHggMCAxNXB4KTtcbiAgICAgICAgbWF4LXdpZHRoOiAxMDAlO1xuICAgIH1cblxuICAgIC5tdWx0aVNlbGVjdEl0ZW1fbGFiZWwge1xuICAgICAgICBtYXJnaW46IHZhcigtLW11bHRpTGFiZWxNYXJnaW4sIDAgNXB4IDAgMCk7XG4gICAgICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xuICAgICAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICAgIH1cblxuICAgIC5tdWx0aVNlbGVjdEl0ZW06aG92ZXIsXG4gICAgLm11bHRpU2VsZWN0SXRlbS5hY3RpdmUge1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1tdWx0aUl0ZW1BY3RpdmVCRywgIzAwNmZmZik7XG4gICAgICAgIGNvbG9yOiB2YXIoLS1tdWx0aUl0ZW1BY3RpdmVDb2xvciwgI2ZmZik7XG4gICAgfVxuXG4gICAgLm11bHRpU2VsZWN0SXRlbS5kaXNhYmxlZDpob3ZlciB7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLW11bHRpSXRlbURpc2FibGVkSG92ZXJCZywgI2ViZWRlZik7XG4gICAgICAgIGNvbG9yOiB2YXIoLS1tdWx0aUl0ZW1EaXNhYmxlZEhvdmVyQ29sb3IsICNjMWM2Y2MpO1xuICAgIH1cblxuICAgIC5tdWx0aVNlbGVjdEl0ZW1fY2xlYXIge1xuICAgICAgICBib3JkZXItcmFkaXVzOiB2YXIoLS1tdWx0aUNsZWFyUmFkaXVzLCA1MCUpO1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1tdWx0aUNsZWFyQkcsICM1MjYxNmYpO1xuICAgICAgICBtaW4td2lkdGg6IHZhcigtLW11bHRpQ2xlYXJXaWR0aCwgMTZweCk7XG4gICAgICAgIG1heC13aWR0aDogdmFyKC0tbXVsdGlDbGVhcldpZHRoLCAxNnB4KTtcbiAgICAgICAgaGVpZ2h0OiB2YXIoLS1tdWx0aUNsZWFySGVpZ2h0LCAxNnB4KTtcbiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICB0b3A6IHZhcigtLW11bHRpQ2xlYXJUb3AsIDhweCk7XG4gICAgICAgIHRleHQtYWxpZ246IHZhcigtLW11bHRpQ2xlYXJUZXh0QWxpZ24sIGNlbnRlcik7XG4gICAgICAgIHBhZGRpbmc6IHZhcigtLW11bHRpQ2xlYXJQYWRkaW5nLCAxcHgpO1xuICAgIH1cblxuICAgIC5tdWx0aVNlbGVjdEl0ZW1fY2xlYXI6aG92ZXIsXG4gICAgLmFjdGl2ZSAubXVsdGlTZWxlY3RJdGVtX2NsZWFyIHtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tbXVsdGlDbGVhckhvdmVyQkcsICNmZmYpO1xuICAgIH1cblxuICAgIC5tdWx0aVNlbGVjdEl0ZW1fY2xlYXI6aG92ZXIgc3ZnLFxuICAgIC5hY3RpdmUgLm11bHRpU2VsZWN0SXRlbV9jbGVhciBzdmcge1xuICAgICAgICBmaWxsOiB2YXIoLS1tdWx0aUNsZWFySG92ZXJGaWxsLCAjMDA2ZmZmKTtcbiAgICB9XG5cbiAgICAubXVsdGlTZWxlY3RJdGVtX2NsZWFyIHN2ZyB7XG4gICAgICAgIGZpbGw6IHZhcigtLW11bHRpQ2xlYXJGaWxsLCAjZWJlZGVmKTtcbiAgICAgICAgdmVydGljYWwtYWxpZ246IHRvcDtcbiAgICB9XG48L3N0eWxlPlxuXG57I2VhY2ggdmFsdWUgYXMgaXRlbSwgaX1cbiAgICA8ZGl2XG4gICAgICAgIGNsYXNzPVwibXVsdGlTZWxlY3RJdGVtIHthY3RpdmVWYWx1ZSA9PT0gaSA/ICdhY3RpdmUnIDogJyd9IHtpc0Rpc2FibGVkXG4gICAgICAgICAgICA/ICdkaXNhYmxlZCdcbiAgICAgICAgICAgIDogJyd9XCJcbiAgICAgICAgb246Y2xpY2s9eyhldmVudCkgPT5cbiAgICAgICAgICAgIG11bHRpRnVsbEl0ZW1DbGVhcmFibGUgPyBoYW5kbGVDbGVhcihpLCBldmVudCkgOiB7fX0+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJtdWx0aVNlbGVjdEl0ZW1fbGFiZWxcIj5cbiAgICAgICAgICAgIHtAaHRtbCBnZXRTZWxlY3Rpb25MYWJlbChpdGVtKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIHsjaWYgIWlzRGlzYWJsZWQgJiYgIW11bHRpRnVsbEl0ZW1DbGVhcmFibGV9XG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgY2xhc3M9XCJtdWx0aVNlbGVjdEl0ZW1fY2xlYXJcIlxuICAgICAgICAgICAgICAgIG9uOmNsaWNrPXsoZXZlbnQpID0+IGhhbmRsZUNsZWFyKGksIGV2ZW50KX0+XG4gICAgICAgICAgICAgICAgPHN2Z1xuICAgICAgICAgICAgICAgICAgICB3aWR0aD1cIjEwMCVcIlxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ9XCIxMDAlXCJcbiAgICAgICAgICAgICAgICAgICAgdmlld0JveD1cIi0yIC0yIDUwIDUwXCJcbiAgICAgICAgICAgICAgICAgICAgZm9jdXNhYmxlPVwiZmFsc2VcIlxuICAgICAgICAgICAgICAgICAgICBhcmlhLWhpZGRlbj1cInRydWVcIlxuICAgICAgICAgICAgICAgICAgICByb2xlPVwicHJlc2VudGF0aW9uXCI+XG4gICAgICAgICAgICAgICAgICAgIDxwYXRoXG4gICAgICAgICAgICAgICAgICAgICAgICBkPVwiTTM0LjkyMywzNy4yNTFMMjQsMjYuMzI4TDEzLjA3NywzNy4yNTFMOS40MzYsMzMuNjFsMTAuOTIzLTEwLjkyM0w5LjQzNiwxMS43NjVsMy42NDEtMy42NDFMMjQsMTkuMDQ3TDM0LjkyMyw4LjEyNCBsMy42NDEsMy42NDFMMjcuNjQxLDIyLjY4OEwzOC41NjQsMzMuNjFMMzQuOTIzLDM3LjI1MXpcIiAvPlxuICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIHsvaWZ9XG4gICAgPC9kaXY+XG57L2VhY2h9XG4iLCI8c2NyaXB0PlxuICAgIGltcG9ydCB7IG9uTW91bnQsIHRpY2sgfSBmcm9tICdzdmVsdGUnO1xuXG4gICAgZXhwb3J0IGxldCBpdGVtcyA9IHVuZGVmaW5lZDtcbiAgICBleHBvcnQgbGV0IGhlaWdodCA9ICcxMDAlJztcbiAgICBleHBvcnQgbGV0IGl0ZW1IZWlnaHQgPSA0MDtcbiAgICBleHBvcnQgbGV0IGhvdmVySXRlbUluZGV4ID0gMDtcbiAgICBleHBvcnQgbGV0IHN0YXJ0ID0gMDtcbiAgICBleHBvcnQgbGV0IGVuZCA9IDA7XG5cbiAgICBsZXQgaGVpZ2h0X21hcCA9IFtdO1xuICAgIGxldCByb3dzO1xuICAgIGxldCB2aWV3cG9ydDtcbiAgICBsZXQgY29udGVudHM7XG4gICAgbGV0IHZpZXdwb3J0X2hlaWdodCA9IDA7XG4gICAgbGV0IHZpc2libGU7XG4gICAgbGV0IG1vdW50ZWQ7XG5cbiAgICBsZXQgdG9wID0gMDtcbiAgICBsZXQgYm90dG9tID0gMDtcbiAgICBsZXQgYXZlcmFnZV9oZWlnaHQ7XG5cbiAgICAkOiB2aXNpYmxlID0gaXRlbXMuc2xpY2Uoc3RhcnQsIGVuZCkubWFwKChkYXRhLCBpKSA9PiB7XG4gICAgICAgIHJldHVybiB7IGluZGV4OiBpICsgc3RhcnQsIGRhdGEgfTtcbiAgICB9KTtcblxuICAgICQ6IGlmIChtb3VudGVkKSByZWZyZXNoKGl0ZW1zLCB2aWV3cG9ydF9oZWlnaHQsIGl0ZW1IZWlnaHQpO1xuXG4gICAgYXN5bmMgZnVuY3Rpb24gcmVmcmVzaChpdGVtcywgdmlld3BvcnRfaGVpZ2h0LCBpdGVtSGVpZ2h0KSB7XG4gICAgICAgIGNvbnN0IHsgc2Nyb2xsVG9wIH0gPSB2aWV3cG9ydDtcblxuICAgICAgICBhd2FpdCB0aWNrKCk7XG5cbiAgICAgICAgbGV0IGNvbnRlbnRfaGVpZ2h0ID0gdG9wIC0gc2Nyb2xsVG9wO1xuICAgICAgICBsZXQgaSA9IHN0YXJ0O1xuXG4gICAgICAgIHdoaWxlIChjb250ZW50X2hlaWdodCA8IHZpZXdwb3J0X2hlaWdodCAmJiBpIDwgaXRlbXMubGVuZ3RoKSB7XG4gICAgICAgICAgICBsZXQgcm93ID0gcm93c1tpIC0gc3RhcnRdO1xuXG4gICAgICAgICAgICBpZiAoIXJvdykge1xuICAgICAgICAgICAgICAgIGVuZCA9IGkgKyAxO1xuICAgICAgICAgICAgICAgIGF3YWl0IHRpY2soKTtcbiAgICAgICAgICAgICAgICByb3cgPSByb3dzW2kgLSBzdGFydF07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHJvd19oZWlnaHQgPSAoaGVpZ2h0X21hcFtpXSA9IGl0ZW1IZWlnaHQgfHwgcm93Lm9mZnNldEhlaWdodCk7XG4gICAgICAgICAgICBjb250ZW50X2hlaWdodCArPSByb3dfaGVpZ2h0O1xuICAgICAgICAgICAgaSArPSAxO1xuICAgICAgICB9XG5cbiAgICAgICAgZW5kID0gaTtcblxuICAgICAgICBjb25zdCByZW1haW5pbmcgPSBpdGVtcy5sZW5ndGggLSBlbmQ7XG4gICAgICAgIGF2ZXJhZ2VfaGVpZ2h0ID0gKHRvcCArIGNvbnRlbnRfaGVpZ2h0KSAvIGVuZDtcblxuICAgICAgICBib3R0b20gPSByZW1haW5pbmcgKiBhdmVyYWdlX2hlaWdodDtcbiAgICAgICAgaGVpZ2h0X21hcC5sZW5ndGggPSBpdGVtcy5sZW5ndGg7XG5cbiAgICAgICAgaWYgKHZpZXdwb3J0KSB2aWV3cG9ydC5zY3JvbGxUb3AgPSAwO1xuICAgIH1cblxuICAgIGFzeW5jIGZ1bmN0aW9uIGhhbmRsZV9zY3JvbGwoKSB7XG4gICAgICAgIGNvbnN0IHsgc2Nyb2xsVG9wIH0gPSB2aWV3cG9ydDtcblxuICAgICAgICBjb25zdCBvbGRfc3RhcnQgPSBzdGFydDtcblxuICAgICAgICBmb3IgKGxldCB2ID0gMDsgdiA8IHJvd3MubGVuZ3RoOyB2ICs9IDEpIHtcbiAgICAgICAgICAgIGhlaWdodF9tYXBbc3RhcnQgKyB2XSA9IGl0ZW1IZWlnaHQgfHwgcm93c1t2XS5vZmZzZXRIZWlnaHQ7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgIGxldCB5ID0gMDtcblxuICAgICAgICB3aGlsZSAoaSA8IGl0ZW1zLmxlbmd0aCkge1xuICAgICAgICAgICAgY29uc3Qgcm93X2hlaWdodCA9IGhlaWdodF9tYXBbaV0gfHwgYXZlcmFnZV9oZWlnaHQ7XG4gICAgICAgICAgICBpZiAoeSArIHJvd19oZWlnaHQgPiBzY3JvbGxUb3ApIHtcbiAgICAgICAgICAgICAgICBzdGFydCA9IGk7XG4gICAgICAgICAgICAgICAgdG9wID0geTtcblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB5ICs9IHJvd19oZWlnaHQ7XG4gICAgICAgICAgICBpICs9IDE7XG4gICAgICAgIH1cblxuICAgICAgICB3aGlsZSAoaSA8IGl0ZW1zLmxlbmd0aCkge1xuICAgICAgICAgICAgeSArPSBoZWlnaHRfbWFwW2ldIHx8IGF2ZXJhZ2VfaGVpZ2h0O1xuICAgICAgICAgICAgaSArPSAxO1xuXG4gICAgICAgICAgICBpZiAoeSA+IHNjcm9sbFRvcCArIHZpZXdwb3J0X2hlaWdodCkgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBlbmQgPSBpO1xuXG4gICAgICAgIGNvbnN0IHJlbWFpbmluZyA9IGl0ZW1zLmxlbmd0aCAtIGVuZDtcbiAgICAgICAgYXZlcmFnZV9oZWlnaHQgPSB5IC8gZW5kO1xuXG4gICAgICAgIHdoaWxlIChpIDwgaXRlbXMubGVuZ3RoKSBoZWlnaHRfbWFwW2krK10gPSBhdmVyYWdlX2hlaWdodDtcbiAgICAgICAgYm90dG9tID0gcmVtYWluaW5nICogYXZlcmFnZV9oZWlnaHQ7XG5cbiAgICAgICAgaWYgKHN0YXJ0IDwgb2xkX3N0YXJ0KSB7XG4gICAgICAgICAgICBhd2FpdCB0aWNrKCk7XG5cbiAgICAgICAgICAgIGxldCBleHBlY3RlZF9oZWlnaHQgPSAwO1xuICAgICAgICAgICAgbGV0IGFjdHVhbF9oZWlnaHQgPSAwO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gc3RhcnQ7IGkgPCBvbGRfc3RhcnQ7IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgIGlmIChyb3dzW2kgLSBzdGFydF0pIHtcbiAgICAgICAgICAgICAgICAgICAgZXhwZWN0ZWRfaGVpZ2h0ICs9IGhlaWdodF9tYXBbaV07XG4gICAgICAgICAgICAgICAgICAgIGFjdHVhbF9oZWlnaHQgKz0gaXRlbUhlaWdodCB8fCByb3dzW2kgLSBzdGFydF0ub2Zmc2V0SGVpZ2h0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgZCA9IGFjdHVhbF9oZWlnaHQgLSBleHBlY3RlZF9oZWlnaHQ7XG4gICAgICAgICAgICB2aWV3cG9ydC5zY3JvbGxUbygwLCBzY3JvbGxUb3AgKyBkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uTW91bnQoKCkgPT4ge1xuICAgICAgICByb3dzID0gY29udGVudHMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3N2ZWx0ZS12aXJ0dWFsLWxpc3Qtcm93Jyk7XG4gICAgICAgIG1vdW50ZWQgPSB0cnVlO1xuICAgIH0pO1xuPC9zY3JpcHQ+XG5cbjxzdHlsZT5cbiAgICBzdmVsdGUtdmlydHVhbC1saXN0LXZpZXdwb3J0IHtcbiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICBvdmVyZmxvdy15OiBhdXRvO1xuICAgICAgICAtd2Via2l0LW92ZXJmbG93LXNjcm9sbGluZzogdG91Y2g7XG4gICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIH1cblxuICAgIHN2ZWx0ZS12aXJ0dWFsLWxpc3QtY29udGVudHMsXG4gICAgc3ZlbHRlLXZpcnR1YWwtbGlzdC1yb3cge1xuICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICB9XG5cbiAgICBzdmVsdGUtdmlydHVhbC1saXN0LXJvdyB7XG4gICAgICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgfVxuPC9zdHlsZT5cblxuPHN2ZWx0ZS12aXJ0dWFsLWxpc3Qtdmlld3BvcnRcbiAgICBiaW5kOnRoaXM9e3ZpZXdwb3J0fVxuICAgIGJpbmQ6b2Zmc2V0SGVpZ2h0PXt2aWV3cG9ydF9oZWlnaHR9XG4gICAgb246c2Nyb2xsPXtoYW5kbGVfc2Nyb2xsfVxuICAgIHN0eWxlPVwiaGVpZ2h0OiB7aGVpZ2h0fTtcIj5cbiAgICA8c3ZlbHRlLXZpcnR1YWwtbGlzdC1jb250ZW50c1xuICAgICAgICBiaW5kOnRoaXM9e2NvbnRlbnRzfVxuICAgICAgICBzdHlsZT1cInBhZGRpbmctdG9wOiB7dG9wfXB4OyBwYWRkaW5nLWJvdHRvbToge2JvdHRvbX1weDtcIj5cbiAgICAgICAgeyNlYWNoIHZpc2libGUgYXMgcm93IChyb3cuaW5kZXgpfVxuICAgICAgICAgICAgPHN2ZWx0ZS12aXJ0dWFsLWxpc3Qtcm93PlxuICAgICAgICAgICAgICAgIDxzbG90IGl0ZW09e3Jvdy5kYXRhfSBpPXtyb3cuaW5kZXh9IHtob3Zlckl0ZW1JbmRleH0+TWlzc2luZyB0ZW1wbGF0ZTwvc2xvdD5cbiAgICAgICAgICAgIDwvc3ZlbHRlLXZpcnR1YWwtbGlzdC1yb3c+XG4gICAgICAgIHsvZWFjaH1cbiAgICA8L3N2ZWx0ZS12aXJ0dWFsLWxpc3QtY29udGVudHM+XG48L3N2ZWx0ZS12aXJ0dWFsLWxpc3Qtdmlld3BvcnQ+XG4iLCI8c3ZnXG4gICAgd2lkdGg9XCIxMDAlXCJcbiAgICBoZWlnaHQ9XCIxMDAlXCJcbiAgICB2aWV3Qm94PVwiLTIgLTIgNTAgNTBcIlxuICAgIGZvY3VzYWJsZT1cImZhbHNlXCJcbiAgICBhcmlhLWhpZGRlbj1cInRydWVcIlxuICAgIHJvbGU9XCJwcmVzZW50YXRpb25cIlxuPlxuICAgIDxwYXRoXG4gICAgICAgIGZpbGw9XCJjdXJyZW50Q29sb3JcIlxuICAgICAgICBkPVwiTTM0LjkyMywzNy4yNTFMMjQsMjYuMzI4TDEzLjA3NywzNy4yNTFMOS40MzYsMzMuNjFsMTAuOTIzLTEwLjkyM0w5LjQzNiwxMS43NjVsMy42NDEtMy42NDFMMjQsMTkuMDQ3TDM0LjkyMyw4LjEyNFxuICAgIGwzLjY0MSwzLjY0MUwyNy42NDEsMjIuNjg4TDM4LjU2NCwzMy42MUwzNC45MjMsMzcuMjUxelwiXG4gICAgLz5cbjwvc3ZnPlxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZGVib3VuY2UoZnVuYywgd2FpdCwgaW1tZWRpYXRlKSB7XG4gICAgbGV0IHRpbWVvdXQ7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gZXhlY3V0ZWRGdW5jdGlvbigpIHtcbiAgICAgICAgbGV0IGNvbnRleHQgPSB0aGlzO1xuICAgICAgICBsZXQgYXJncyA9IGFyZ3VtZW50cztcblxuICAgICAgICBsZXQgbGF0ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aW1lb3V0ID0gbnVsbDtcbiAgICAgICAgICAgIGlmICghaW1tZWRpYXRlKSBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGxldCBjYWxsTm93ID0gaW1tZWRpYXRlICYmICF0aW1lb3V0O1xuXG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcblxuICAgICAgICB0aW1lb3V0ID0gc2V0VGltZW91dChsYXRlciwgd2FpdCk7XG5cbiAgICAgICAgaWYgKGNhbGxOb3cpIGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgfTtcbn1cbiIsIjxzY3JpcHQ+XG4gICAgaW1wb3J0IHsgYmVmb3JlVXBkYXRlLCBjcmVhdGVFdmVudERpc3BhdGNoZXIsIG9uTW91bnQgfSBmcm9tICdzdmVsdGUnO1xuXG4gICAgaW1wb3J0IF9MaXN0IGZyb20gJy4vTGlzdC5zdmVsdGUnO1xuICAgIGltcG9ydCBfSXRlbSBmcm9tICcuL0l0ZW0uc3ZlbHRlJztcbiAgICBpbXBvcnQgX1NlbGVjdGlvbiBmcm9tICcuL1NlbGVjdGlvbi5zdmVsdGUnO1xuICAgIGltcG9ydCBfTXVsdGlTZWxlY3Rpb24gZnJvbSAnLi9NdWx0aVNlbGVjdGlvbi5zdmVsdGUnO1xuICAgIGltcG9ydCBfVmlydHVhbExpc3QgZnJvbSAnLi9WaXJ0dWFsTGlzdC5zdmVsdGUnO1xuICAgIGltcG9ydCBfQ2xlYXJJY29uIGZyb20gJy4vQ2xlYXJJY29uLnN2ZWx0ZSc7XG4gICAgaW1wb3J0IGRlYm91bmNlIGZyb20gJy4vdXRpbHMvZGVib3VuY2UnO1xuXG4gICAgY29uc3QgZGlzcGF0Y2ggPSBjcmVhdGVFdmVudERpc3BhdGNoZXIoKTtcblxuICAgIGV4cG9ydCBsZXQgaWQgPSBudWxsO1xuICAgIGV4cG9ydCBsZXQgY29udGFpbmVyID0gdW5kZWZpbmVkO1xuICAgIGV4cG9ydCBsZXQgaW5wdXQgPSB1bmRlZmluZWQ7XG4gICAgZXhwb3J0IGxldCBpc011bHRpID0gZmFsc2U7XG4gICAgZXhwb3J0IGxldCBtdWx0aUZ1bGxJdGVtQ2xlYXJhYmxlID0gZmFsc2U7XG4gICAgZXhwb3J0IGxldCBpc0Rpc2FibGVkID0gZmFsc2U7XG4gICAgZXhwb3J0IGxldCBpc0NyZWF0YWJsZSA9IGZhbHNlO1xuICAgIGV4cG9ydCBsZXQgaXNGb2N1c2VkID0gZmFsc2U7XG4gICAgZXhwb3J0IGxldCB2YWx1ZSA9IG51bGw7XG4gICAgZXhwb3J0IGxldCBmaWx0ZXJUZXh0ID0gJyc7XG4gICAgZXhwb3J0IGxldCBwbGFjZWhvbGRlciA9ICdTZWxlY3QuLi4nO1xuICAgIGV4cG9ydCBsZXQgcGxhY2Vob2xkZXJBbHdheXNTaG93ID0gZmFsc2U7XG4gICAgZXhwb3J0IGxldCBpdGVtcyA9IG51bGw7XG4gICAgZXhwb3J0IGxldCBpdGVtRmlsdGVyID0gKGxhYmVsLCBmaWx0ZXJUZXh0LCBvcHRpb24pID0+XG4gICAgICAgIGAke2xhYmVsfWAudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhmaWx0ZXJUZXh0LnRvTG93ZXJDYXNlKCkpO1xuICAgIGV4cG9ydCBsZXQgZ3JvdXBCeSA9IHVuZGVmaW5lZDtcbiAgICBleHBvcnQgbGV0IGdyb3VwRmlsdGVyID0gKGdyb3VwcykgPT4gZ3JvdXBzO1xuICAgIGV4cG9ydCBsZXQgaXNHcm91cEhlYWRlclNlbGVjdGFibGUgPSBmYWxzZTtcbiAgICBleHBvcnQgbGV0IGdldEdyb3VwSGVhZGVyTGFiZWwgPSAob3B0aW9uKSA9PiB7XG4gICAgICAgIHJldHVybiBvcHRpb25bbGFiZWxJZGVudGlmaWVyXSB8fCBvcHRpb24uaWQ7XG4gICAgfTtcbiAgICBleHBvcnQgbGV0IGxhYmVsSWRlbnRpZmllciA9ICdsYWJlbCc7XG4gICAgZXhwb3J0IGxldCBnZXRPcHRpb25MYWJlbCA9IChvcHRpb24sIGZpbHRlclRleHQpID0+IHtcbiAgICAgICAgcmV0dXJuIG9wdGlvbi5pc0NyZWF0b3JcbiAgICAgICAgICAgID8gYENyZWF0ZSBcXFwiJHtmaWx0ZXJUZXh0fVxcXCJgXG4gICAgICAgICAgICA6IG9wdGlvbltsYWJlbElkZW50aWZpZXJdO1xuICAgIH07XG4gICAgZXhwb3J0IGxldCBvcHRpb25JZGVudGlmaWVyID0gJ3ZhbHVlJztcbiAgICBleHBvcnQgbGV0IGxvYWRPcHRpb25zID0gdW5kZWZpbmVkO1xuICAgIGV4cG9ydCBsZXQgaGFzRXJyb3IgPSBmYWxzZTtcbiAgICBleHBvcnQgbGV0IGNvbnRhaW5lclN0eWxlcyA9ICcnO1xuICAgIGV4cG9ydCBsZXQgZ2V0U2VsZWN0aW9uTGFiZWwgPSAob3B0aW9uKSA9PiB7XG4gICAgICAgIGlmIChvcHRpb24pIHJldHVybiBvcHRpb25bbGFiZWxJZGVudGlmaWVyXTtcbiAgICAgICAgZWxzZSByZXR1cm4gbnVsbDtcbiAgICB9O1xuXG4gICAgZXhwb3J0IGxldCBjcmVhdGVHcm91cEhlYWRlckl0ZW0gPSAoZ3JvdXBWYWx1ZSkgPT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmFsdWU6IGdyb3VwVmFsdWUsXG4gICAgICAgICAgICBsYWJlbDogZ3JvdXBWYWx1ZSxcbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgZXhwb3J0IGxldCBjcmVhdGVJdGVtID0gKGZpbHRlclRleHQpID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHZhbHVlOiBmaWx0ZXJUZXh0LFxuICAgICAgICAgICAgbGFiZWw6IGZpbHRlclRleHQsXG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIGV4cG9ydCBjb25zdCBnZXRGaWx0ZXJlZEl0ZW1zID0gKCkgPT4ge1xuICAgICAgICByZXR1cm4gZmlsdGVyZWRJdGVtcztcbiAgICB9O1xuXG4gICAgZXhwb3J0IGxldCBpc1NlYXJjaGFibGUgPSB0cnVlO1xuICAgIGV4cG9ydCBsZXQgaW5wdXRTdHlsZXMgPSAnJztcbiAgICBleHBvcnQgbGV0IGlzQ2xlYXJhYmxlID0gdHJ1ZTtcbiAgICBleHBvcnQgbGV0IGlzV2FpdGluZyA9IGZhbHNlO1xuICAgIGV4cG9ydCBsZXQgbGlzdFBsYWNlbWVudCA9ICdhdXRvJztcbiAgICBleHBvcnQgbGV0IGxpc3RPcGVuID0gZmFsc2U7XG4gICAgZXhwb3J0IGxldCBpc1ZpcnR1YWxMaXN0ID0gZmFsc2U7XG4gICAgZXhwb3J0IGxldCBsb2FkT3B0aW9uc0ludGVydmFsID0gMzAwO1xuICAgIGV4cG9ydCBsZXQgbm9PcHRpb25zTWVzc2FnZSA9ICdObyBvcHRpb25zJztcbiAgICBleHBvcnQgbGV0IGhpZGVFbXB0eVN0YXRlID0gZmFsc2U7XG4gICAgZXhwb3J0IGxldCBpbnB1dEF0dHJpYnV0ZXMgPSB7fTtcbiAgICBleHBvcnQgbGV0IGxpc3RBdXRvV2lkdGggPSB0cnVlO1xuICAgIGV4cG9ydCBsZXQgaXRlbUhlaWdodCA9IDQwO1xuICAgIGV4cG9ydCBsZXQgSWNvbiA9IHVuZGVmaW5lZDtcbiAgICBleHBvcnQgbGV0IGljb25Qcm9wcyA9IHt9O1xuICAgIGV4cG9ydCBsZXQgc2hvd0NoZXZyb24gPSBmYWxzZTtcbiAgICBleHBvcnQgbGV0IHNob3dJbmRpY2F0b3IgPSBmYWxzZTtcbiAgICBleHBvcnQgbGV0IGNvbnRhaW5lckNsYXNzZXMgPSAnJztcbiAgICBleHBvcnQgbGV0IGluZGljYXRvclN2ZyA9IHVuZGVmaW5lZDtcbiAgICBleHBvcnQgbGV0IGxpc3RPZmZzZXQgPSA1O1xuXG4gICAgZXhwb3J0IGxldCBDbGVhckljb24gPSBfQ2xlYXJJY29uO1xuICAgIGV4cG9ydCBsZXQgSXRlbSA9IF9JdGVtO1xuICAgIGV4cG9ydCBsZXQgTGlzdCA9IF9MaXN0O1xuICAgIGV4cG9ydCBsZXQgU2VsZWN0aW9uID0gX1NlbGVjdGlvbjtcbiAgICBleHBvcnQgbGV0IE11bHRpU2VsZWN0aW9uID0gX011bHRpU2VsZWN0aW9uO1xuICAgIGV4cG9ydCBsZXQgVmlydHVhbExpc3QgPSBfVmlydHVhbExpc3Q7XG5cbiAgICBmdW5jdGlvbiBmaWx0ZXJNZXRob2QoYXJncykge1xuICAgICAgICBpZiAoYXJncy5sb2FkT3B0aW9ucyAmJiBhcmdzLmZpbHRlclRleHQubGVuZ3RoID4gMCkgcmV0dXJuO1xuICAgICAgICBpZiAoIWFyZ3MuaXRlbXMpIHJldHVybiBbXTtcblxuICAgICAgICBpZiAoXG4gICAgICAgICAgICBhcmdzLml0ZW1zICYmXG4gICAgICAgICAgICBhcmdzLml0ZW1zLmxlbmd0aCA+IDAgJiZcbiAgICAgICAgICAgIHR5cGVvZiBhcmdzLml0ZW1zWzBdICE9PSAnb2JqZWN0J1xuICAgICAgICApIHtcbiAgICAgICAgICAgIGFyZ3MuaXRlbXMgPSBjb252ZXJ0U3RyaW5nSXRlbXNUb09iamVjdHMoYXJncy5pdGVtcyk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgZmlsdGVyUmVzdWx0cyA9IGFyZ3MuaXRlbXMuZmlsdGVyKChpdGVtKSA9PiB7XG4gICAgICAgICAgICBsZXQgbWF0Y2hlc0ZpbHRlciA9IGl0ZW1GaWx0ZXIoXG4gICAgICAgICAgICAgICAgZ2V0T3B0aW9uTGFiZWwoaXRlbSwgYXJncy5maWx0ZXJUZXh0KSxcbiAgICAgICAgICAgICAgICBhcmdzLmZpbHRlclRleHQsXG4gICAgICAgICAgICAgICAgaXRlbVxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIG1hdGNoZXNGaWx0ZXIgJiZcbiAgICAgICAgICAgICAgICBhcmdzLmlzTXVsdGkgJiZcbiAgICAgICAgICAgICAgICBhcmdzLnZhbHVlICYmXG4gICAgICAgICAgICAgICAgQXJyYXkuaXNBcnJheShhcmdzLnZhbHVlKVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgbWF0Y2hlc0ZpbHRlciA9ICFhcmdzLnZhbHVlLnNvbWUoKHgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgIHhbYXJncy5vcHRpb25JZGVudGlmaWVyXSA9PT0gaXRlbVthcmdzLm9wdGlvbklkZW50aWZpZXJdXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBtYXRjaGVzRmlsdGVyO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoYXJncy5ncm91cEJ5KSB7XG4gICAgICAgICAgICBmaWx0ZXJSZXN1bHRzID0gZmlsdGVyR3JvdXBlZEl0ZW1zKGZpbHRlclJlc3VsdHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGFyZ3MuaXNDcmVhdGFibGUpIHtcbiAgICAgICAgICAgIGZpbHRlclJlc3VsdHMgPSBhZGRDcmVhdGFibGVJdGVtKGZpbHRlclJlc3VsdHMsIGFyZ3MuZmlsdGVyVGV4dCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmlsdGVyUmVzdWx0cztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhZGRDcmVhdGFibGVJdGVtKF9pdGVtcywgX2ZpbHRlclRleHQpIHtcbiAgICAgICAgaWYgKF9maWx0ZXJUZXh0Lmxlbmd0aCA9PT0gMCkgcmV0dXJuIF9pdGVtcztcbiAgICAgICAgY29uc3QgaXRlbVRvQ3JlYXRlID0gY3JlYXRlSXRlbShfZmlsdGVyVGV4dCk7XG4gICAgICAgIGlmIChfaXRlbXNbMF0gJiYgX2ZpbHRlclRleHQgPT09IF9pdGVtc1swXVtsYWJlbElkZW50aWZpZXJdKVxuICAgICAgICAgICAgcmV0dXJuIF9pdGVtcztcbiAgICAgICAgaXRlbVRvQ3JlYXRlLmlzQ3JlYXRvciA9IHRydWU7XG4gICAgICAgIHJldHVybiBbLi4uX2l0ZW1zLCBpdGVtVG9DcmVhdGVdO1xuICAgIH1cblxuICAgICQ6IGZpbHRlcmVkSXRlbXMgPSBmaWx0ZXJNZXRob2Qoe1xuICAgICAgICBsb2FkT3B0aW9ucyxcbiAgICAgICAgZmlsdGVyVGV4dCxcbiAgICAgICAgaXRlbXMsXG4gICAgICAgIHZhbHVlLFxuICAgICAgICBpc011bHRpLFxuICAgICAgICBvcHRpb25JZGVudGlmaWVyLFxuICAgICAgICBncm91cEJ5LFxuICAgICAgICBpc0NyZWF0YWJsZSxcbiAgICB9KTtcblxuICAgIGV4cG9ydCBsZXQgc2VsZWN0ZWRWYWx1ZSA9IG51bGw7XG4gICAgJDoge1xuICAgICAgICBpZiAoc2VsZWN0ZWRWYWx1ZSlcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAgICAgICAnc2VsZWN0ZWRWYWx1ZSBpcyBubyBsb25nZXIgdXNlZC4gUGxlYXNlIHVzZSB2YWx1ZSBpbnN0ZWFkLidcbiAgICAgICAgICAgICk7XG4gICAgfVxuXG4gICAgbGV0IGFjdGl2ZVZhbHVlO1xuICAgIGxldCBwcmV2X3ZhbHVlO1xuICAgIGxldCBwcmV2X2ZpbHRlclRleHQ7XG4gICAgbGV0IHByZXZfaXNGb2N1c2VkO1xuICAgIGxldCBwcmV2X2lzTXVsdGk7XG4gICAgbGV0IGhvdmVySXRlbUluZGV4O1xuXG4gICAgY29uc3QgZ2V0SXRlbXMgPSBkZWJvdW5jZShhc3luYyAoKSA9PiB7XG4gICAgICAgIGlzV2FpdGluZyA9IHRydWU7XG4gICAgICAgIGxldCByZXMgPSBhd2FpdCBsb2FkT3B0aW9ucyhmaWx0ZXJUZXh0KS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ3N2ZWx0ZS1zZWxlY3QgbG9hZE9wdGlvbnMgZXJyb3IgOj4+ICcsIGVycik7XG4gICAgICAgICAgICBkaXNwYXRjaCgnZXJyb3InLCB7IHR5cGU6ICdsb2FkT3B0aW9ucycsIGRldGFpbHM6IGVyciB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHJlcyAmJiAhcmVzLmNhbmNlbGxlZCkge1xuICAgICAgICAgICAgaWYgKHJlcykge1xuICAgICAgICAgICAgICAgIGlmIChyZXMgJiYgcmVzLmxlbmd0aCA+IDAgJiYgdHlwZW9mIHJlc1swXSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzID0gY29udmVydFN0cmluZ0l0ZW1zVG9PYmplY3RzKHJlcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbHRlcmVkSXRlbXMgPSBbLi4ucmVzXTtcbiAgICAgICAgICAgICAgICBkaXNwYXRjaCgnbG9hZGVkJywgeyBpdGVtczogZmlsdGVyZWRJdGVtcyB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZmlsdGVyZWRJdGVtcyA9IFtdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoaXNDcmVhdGFibGUpIHtcbiAgICAgICAgICAgICAgICBmaWx0ZXJlZEl0ZW1zID0gYWRkQ3JlYXRhYmxlSXRlbShmaWx0ZXJlZEl0ZW1zLCBmaWx0ZXJUZXh0KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaXNXYWl0aW5nID0gZmFsc2U7XG4gICAgICAgICAgICBpc0ZvY3VzZWQgPSB0cnVlO1xuICAgICAgICAgICAgbGlzdE9wZW4gPSB0cnVlO1xuICAgICAgICB9XG4gICAgfSwgbG9hZE9wdGlvbnNJbnRlcnZhbCk7XG5cbiAgICAkOiB1cGRhdGVWYWx1ZURpc3BsYXkoaXRlbXMpO1xuXG4gICAgZnVuY3Rpb24gc2V0VmFsdWUoKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHtcbiAgICAgICAgICAgICAgICBbb3B0aW9uSWRlbnRpZmllcl06IHZhbHVlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiB2YWx1ZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSBpZiAoaXNNdWx0aSAmJiBBcnJheS5pc0FycmF5KHZhbHVlKSAmJiB2YWx1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLm1hcCgoaXRlbSkgPT5cbiAgICAgICAgICAgICAgICB0eXBlb2YgaXRlbSA9PT0gJ3N0cmluZycgPyB7IHZhbHVlOiBpdGVtLCBsYWJlbDogaXRlbSB9IDogaXRlbVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGxldCBfaW5wdXRBdHRyaWJ1dGVzO1xuICAgIGZ1bmN0aW9uIGFzc2lnbklucHV0QXR0cmlidXRlcygpIHtcbiAgICAgICAgX2lucHV0QXR0cmlidXRlcyA9IE9iamVjdC5hc3NpZ24oXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYXV0b2NhcGl0YWxpemU6ICdub25lJyxcbiAgICAgICAgICAgICAgICBhdXRvY29tcGxldGU6ICdvZmYnLFxuICAgICAgICAgICAgICAgIGF1dG9jb3JyZWN0OiAnb2ZmJyxcbiAgICAgICAgICAgICAgICBzcGVsbGNoZWNrOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB0YWJpbmRleDogMCxcbiAgICAgICAgICAgICAgICB0eXBlOiAndGV4dCcsXG4gICAgICAgICAgICAgICAgJ2FyaWEtYXV0b2NvbXBsZXRlJzogJ2xpc3QnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGlucHV0QXR0cmlidXRlc1xuICAgICAgICApO1xuXG4gICAgICAgIGlmIChpZCkge1xuICAgICAgICAgICAgX2lucHV0QXR0cmlidXRlcy5pZCA9IGlkO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFpc1NlYXJjaGFibGUpIHtcbiAgICAgICAgICAgIF9pbnB1dEF0dHJpYnV0ZXMucmVhZG9ubHkgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY29udmVydFN0cmluZ0l0ZW1zVG9PYmplY3RzKF9pdGVtcykge1xuICAgICAgICByZXR1cm4gX2l0ZW1zLm1hcCgoaXRlbSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgaW5kZXgsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGl0ZW0sXG4gICAgICAgICAgICAgICAgbGFiZWw6IGAke2l0ZW19YCxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGZpbHRlckdyb3VwZWRJdGVtcyhfaXRlbXMpIHtcbiAgICAgICAgY29uc3QgZ3JvdXBWYWx1ZXMgPSBbXTtcbiAgICAgICAgY29uc3QgZ3JvdXBzID0ge307XG5cbiAgICAgICAgX2l0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGdyb3VwVmFsdWUgPSBncm91cEJ5KGl0ZW0pO1xuXG4gICAgICAgICAgICBpZiAoIWdyb3VwVmFsdWVzLmluY2x1ZGVzKGdyb3VwVmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgZ3JvdXBWYWx1ZXMucHVzaChncm91cFZhbHVlKTtcbiAgICAgICAgICAgICAgICBncm91cHNbZ3JvdXBWYWx1ZV0gPSBbXTtcblxuICAgICAgICAgICAgICAgIGlmIChncm91cFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGdyb3Vwc1tncm91cFZhbHVlXS5wdXNoKFxuICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihjcmVhdGVHcm91cEhlYWRlckl0ZW0oZ3JvdXBWYWx1ZSwgaXRlbSksIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogZ3JvdXBWYWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0dyb3VwSGVhZGVyOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzU2VsZWN0YWJsZTogaXNHcm91cEhlYWRlclNlbGVjdGFibGUsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZ3JvdXBzW2dyb3VwVmFsdWVdLnB1c2goXG4gICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih7IGlzR3JvdXBJdGVtOiAhIWdyb3VwVmFsdWUgfSwgaXRlbSlcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHNvcnRlZEdyb3VwZWRJdGVtcyA9IFtdO1xuXG4gICAgICAgIGdyb3VwRmlsdGVyKGdyb3VwVmFsdWVzKS5mb3JFYWNoKChncm91cFZhbHVlKSA9PiB7XG4gICAgICAgICAgICBzb3J0ZWRHcm91cGVkSXRlbXMucHVzaCguLi5ncm91cHNbZ3JvdXBWYWx1ZV0pO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gc29ydGVkR3JvdXBlZEl0ZW1zO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRpc3BhdGNoU2VsZWN0ZWRJdGVtKCkge1xuICAgICAgICBpZiAoaXNNdWx0aSkge1xuICAgICAgICAgICAgaWYgKEpTT04uc3RyaW5naWZ5KHZhbHVlKSAhPT0gSlNPTi5zdHJpbmdpZnkocHJldl92YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBpZiAoY2hlY2tWYWx1ZUZvckR1cGxpY2F0ZXMoKSkge1xuICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaCgnc2VsZWN0JywgdmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChcbiAgICAgICAgICAgICFwcmV2X3ZhbHVlIHx8XG4gICAgICAgICAgICBKU09OLnN0cmluZ2lmeSh2YWx1ZVtvcHRpb25JZGVudGlmaWVyXSkgIT09XG4gICAgICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkocHJldl92YWx1ZVtvcHRpb25JZGVudGlmaWVyXSlcbiAgICAgICAgKSB7XG4gICAgICAgICAgICBkaXNwYXRjaCgnc2VsZWN0JywgdmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0dXBGb2N1cygpIHtcbiAgICAgICAgaWYgKGlzRm9jdXNlZCB8fCBsaXN0T3Blbikge1xuICAgICAgICAgICAgaGFuZGxlRm9jdXMoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChpbnB1dCkgaW5wdXQuYmx1cigpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0dXBNdWx0aSgpIHtcbiAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IFsuLi52YWx1ZV07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gW3ZhbHVlXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldHVwU2luZ2xlKCkge1xuICAgICAgICBpZiAodmFsdWUpIHZhbHVlID0gbnVsbDtcbiAgICB9XG5cbiAgICAkOiB7XG4gICAgICAgIGlmICh2YWx1ZSkgc2V0VmFsdWUoKTtcbiAgICB9XG5cbiAgICAkOiB7XG4gICAgICAgIGlmIChpbnB1dEF0dHJpYnV0ZXMgfHwgIWlzU2VhcmNoYWJsZSkgYXNzaWduSW5wdXRBdHRyaWJ1dGVzKCk7XG4gICAgfVxuXG4gICAgJDoge1xuICAgICAgICBpZiAoaXNNdWx0aSkge1xuICAgICAgICAgICAgc2V0dXBNdWx0aSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHByZXZfaXNNdWx0aSAmJiAhaXNNdWx0aSkge1xuICAgICAgICAgICAgc2V0dXBTaW5nbGUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgICQ6IHtcbiAgICAgICAgaWYgKGlzTXVsdGkgJiYgdmFsdWUgJiYgdmFsdWUubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgY2hlY2tWYWx1ZUZvckR1cGxpY2F0ZXMoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgICQ6IHtcbiAgICAgICAgaWYgKHZhbHVlKSBkaXNwYXRjaFNlbGVjdGVkSXRlbSgpO1xuICAgIH1cblxuICAgICQ6IHtcbiAgICAgICAgaWYgKCF2YWx1ZSAmJiBpc011bHRpICYmIHByZXZfdmFsdWUpIHtcbiAgICAgICAgICAgIGRpc3BhdGNoKCdzZWxlY3QnLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAkOiB7XG4gICAgICAgIGlmIChpc0ZvY3VzZWQgIT09IHByZXZfaXNGb2N1c2VkKSB7XG4gICAgICAgICAgICBzZXR1cEZvY3VzKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAkOiB7XG4gICAgICAgIGlmIChmaWx0ZXJUZXh0ICE9PSBwcmV2X2ZpbHRlclRleHQpIHtcbiAgICAgICAgICAgIHNldHVwRmlsdGVyVGV4dCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0dXBGaWx0ZXJUZXh0KCkge1xuICAgICAgICBpZiAoZmlsdGVyVGV4dC5sZW5ndGggPT09IDApIHJldHVybjtcblxuICAgICAgICBpc0ZvY3VzZWQgPSB0cnVlO1xuICAgICAgICBsaXN0T3BlbiA9IHRydWU7XG5cbiAgICAgICAgaWYgKGxvYWRPcHRpb25zKSB7XG4gICAgICAgICAgICBnZXRJdGVtcygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGlzdE9wZW4gPSB0cnVlO1xuXG4gICAgICAgICAgICBpZiAoaXNNdWx0aSkge1xuICAgICAgICAgICAgICAgIGFjdGl2ZVZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgJDogc2hvd1NlbGVjdGVkSXRlbSA9IHZhbHVlICYmIGZpbHRlclRleHQubGVuZ3RoID09PSAwO1xuICAgICQ6IHNob3dDbGVhckljb24gPVxuICAgICAgICBzaG93U2VsZWN0ZWRJdGVtICYmIGlzQ2xlYXJhYmxlICYmICFpc0Rpc2FibGVkICYmICFpc1dhaXRpbmc7XG4gICAgJDogcGxhY2Vob2xkZXJUZXh0ID1cbiAgICAgICAgcGxhY2Vob2xkZXJBbHdheXNTaG93ICYmIGlzTXVsdGlcbiAgICAgICAgICAgID8gcGxhY2Vob2xkZXJcbiAgICAgICAgICAgIDogdmFsdWVcbiAgICAgICAgICAgID8gJydcbiAgICAgICAgICAgIDogcGxhY2Vob2xkZXI7XG4gICAgJDogc2hvd011bHRpU2VsZWN0ID0gaXNNdWx0aSAmJiB2YWx1ZSAmJiB2YWx1ZS5sZW5ndGggPiAwO1xuXG4gICAgYmVmb3JlVXBkYXRlKGFzeW5jICgpID0+IHtcbiAgICAgICAgcHJldl92YWx1ZSA9IHZhbHVlO1xuICAgICAgICBwcmV2X2ZpbHRlclRleHQgPSBmaWx0ZXJUZXh0O1xuICAgICAgICBwcmV2X2lzRm9jdXNlZCA9IGlzRm9jdXNlZDtcbiAgICAgICAgcHJldl9pc011bHRpID0gaXNNdWx0aTtcbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uIGNoZWNrVmFsdWVGb3JEdXBsaWNhdGVzKCkge1xuICAgICAgICBsZXQgbm9EdXBsaWNhdGVzID0gdHJ1ZTtcbiAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICBjb25zdCBpZHMgPSBbXTtcbiAgICAgICAgICAgIGNvbnN0IHVuaXF1ZVZhbHVlcyA9IFtdO1xuXG4gICAgICAgICAgICB2YWx1ZS5mb3JFYWNoKCh2YWwpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWlkcy5pbmNsdWRlcyh2YWxbb3B0aW9uSWRlbnRpZmllcl0pKSB7XG4gICAgICAgICAgICAgICAgICAgIGlkcy5wdXNoKHZhbFtvcHRpb25JZGVudGlmaWVyXSk7XG4gICAgICAgICAgICAgICAgICAgIHVuaXF1ZVZhbHVlcy5wdXNoKHZhbCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbm9EdXBsaWNhdGVzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmICghbm9EdXBsaWNhdGVzKSB2YWx1ZSA9IHVuaXF1ZVZhbHVlcztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbm9EdXBsaWNhdGVzO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGZpbmRJdGVtKHNlbGVjdGlvbikge1xuICAgICAgICBsZXQgbWF0Y2hUbyA9IHNlbGVjdGlvblxuICAgICAgICAgICAgPyBzZWxlY3Rpb25bb3B0aW9uSWRlbnRpZmllcl1cbiAgICAgICAgICAgIDogdmFsdWVbb3B0aW9uSWRlbnRpZmllcl07XG4gICAgICAgIHJldHVybiBpdGVtcy5maW5kKChpdGVtKSA9PiBpdGVtW29wdGlvbklkZW50aWZpZXJdID09PSBtYXRjaFRvKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB1cGRhdGVWYWx1ZURpc3BsYXkoaXRlbXMpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgIWl0ZW1zIHx8XG4gICAgICAgICAgICBpdGVtcy5sZW5ndGggPT09IDAgfHxcbiAgICAgICAgICAgIGl0ZW1zLnNvbWUoKGl0ZW0pID0+IHR5cGVvZiBpdGVtICE9PSAnb2JqZWN0JylcbiAgICAgICAgKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgICAhdmFsdWUgfHxcbiAgICAgICAgICAgIChpc011bHRpXG4gICAgICAgICAgICAgICAgPyB2YWx1ZS5zb21lKFxuICAgICAgICAgICAgICAgICAgICAgIChzZWxlY3Rpb24pID0+ICFzZWxlY3Rpb24gfHwgIXNlbGVjdGlvbltvcHRpb25JZGVudGlmaWVyXVxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIDogIXZhbHVlW29wdGlvbklkZW50aWZpZXJdKVxuICAgICAgICApXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLm1hcCgoc2VsZWN0aW9uKSA9PiBmaW5kSXRlbShzZWxlY3Rpb24pIHx8IHNlbGVjdGlvbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YWx1ZSA9IGZpbmRJdGVtKCkgfHwgdmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoYW5kbGVNdWx0aUl0ZW1DbGVhcihldmVudCkge1xuICAgICAgICBjb25zdCB7IGRldGFpbCB9ID0gZXZlbnQ7XG4gICAgICAgIGNvbnN0IGl0ZW1Ub1JlbW92ZSA9IHZhbHVlW2RldGFpbCA/IGRldGFpbC5pIDogdmFsdWUubGVuZ3RoIC0gMV07XG5cbiAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgdmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLmZpbHRlcigoaXRlbSkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBpdGVtICE9PSBpdGVtVG9SZW1vdmU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRpc3BhdGNoKCdjbGVhcicsIGl0ZW1Ub1JlbW92ZSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFuZGxlS2V5RG93bihlKSB7XG4gICAgICAgIGlmICghaXNGb2N1c2VkKSByZXR1cm47XG5cbiAgICAgICAgc3dpdGNoIChlLmtleSkge1xuICAgICAgICAgICAgY2FzZSAnQXJyb3dEb3duJzpcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgbGlzdE9wZW4gPSB0cnVlO1xuICAgICAgICAgICAgICAgIGFjdGl2ZVZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnQXJyb3dVcCc6XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIGxpc3RPcGVuID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBhY3RpdmVWYWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ1RhYic6XG4gICAgICAgICAgICAgICAgaWYgKCFsaXN0T3BlbikgaXNGb2N1c2VkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdCYWNrc3BhY2UnOlxuICAgICAgICAgICAgICAgIGlmICghaXNNdWx0aSB8fCBmaWx0ZXJUZXh0Lmxlbmd0aCA+IDApIHJldHVybjtcbiAgICAgICAgICAgICAgICBpZiAoaXNNdWx0aSAmJiB2YWx1ZSAmJiB2YWx1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZU11bHRpSXRlbUNsZWFyKFxuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlVmFsdWUgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gYWN0aXZlVmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHZhbHVlLmxlbmd0aCAtIDFcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFjdGl2ZVZhbHVlID09PSAwIHx8IGFjdGl2ZVZhbHVlID09PSB1bmRlZmluZWQpIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBhY3RpdmVWYWx1ZSA9XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZS5sZW5ndGggPiBhY3RpdmVWYWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gYWN0aXZlVmFsdWUgLSAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnQXJyb3dMZWZ0JzpcbiAgICAgICAgICAgICAgICBpZiAoIWlzTXVsdGkgfHwgZmlsdGVyVGV4dC5sZW5ndGggPiAwKSByZXR1cm47XG4gICAgICAgICAgICAgICAgaWYgKGFjdGl2ZVZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgYWN0aXZlVmFsdWUgPSB2YWx1ZS5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodmFsdWUubGVuZ3RoID4gYWN0aXZlVmFsdWUgJiYgYWN0aXZlVmFsdWUgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgYWN0aXZlVmFsdWUgLT0gMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdBcnJvd1JpZ2h0JzpcbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICFpc011bHRpIHx8XG4gICAgICAgICAgICAgICAgICAgIGZpbHRlclRleHQubGVuZ3RoID4gMCB8fFxuICAgICAgICAgICAgICAgICAgICBhY3RpdmVWYWx1ZSA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgaWYgKGFjdGl2ZVZhbHVlID09PSB2YWx1ZS5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGFjdGl2ZVZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYWN0aXZlVmFsdWUgPCB2YWx1ZS5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGFjdGl2ZVZhbHVlICs9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFuZGxlRm9jdXMoKSB7XG4gICAgICAgIGlzRm9jdXNlZCA9IHRydWU7XG4gICAgICAgIGlmIChpbnB1dCkgaW5wdXQuZm9jdXMoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoYW5kbGVXaW5kb3dFdmVudChldmVudCkge1xuICAgICAgICBpZiAoIWNvbnRhaW5lcikgcmV0dXJuO1xuICAgICAgICBjb25zdCBldmVudFRhcmdldCA9XG4gICAgICAgICAgICBldmVudC5wYXRoICYmIGV2ZW50LnBhdGgubGVuZ3RoID4gMCA/IGV2ZW50LnBhdGhbMF0gOiBldmVudC50YXJnZXQ7XG4gICAgICAgIGlmIChjb250YWluZXIuY29udGFpbnMoZXZlbnRUYXJnZXQpIHx8IGNvbnRhaW5lci5jb250YWlucyhldmVudC5yZWxhdGVkVGFyZ2V0KSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlzRm9jdXNlZCA9IGZhbHNlO1xuICAgICAgICBsaXN0T3BlbiA9IGZhbHNlO1xuICAgICAgICBhY3RpdmVWYWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKGlucHV0KSBpbnB1dC5ibHVyKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFuZGxlQ2xpY2soKSB7XG4gICAgICAgIGlmIChpc0Rpc2FibGVkKSByZXR1cm47XG4gICAgICAgIGlzRm9jdXNlZCA9IHRydWU7XG4gICAgICAgIGxpc3RPcGVuID0gIWxpc3RPcGVuO1xuICAgIH1cblxuICAgIGV4cG9ydCBmdW5jdGlvbiBoYW5kbGVDbGVhcigpIHtcbiAgICAgICAgdmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICAgIGxpc3RPcGVuID0gZmFsc2U7XG4gICAgICAgIGRpc3BhdGNoKCdjbGVhcicsIHZhbHVlKTtcbiAgICAgICAgaGFuZGxlRm9jdXMoKTtcbiAgICB9XG5cbiAgICBvbk1vdW50KCgpID0+IHtcbiAgICAgICAgaWYgKGlzRm9jdXNlZCAmJiBpbnB1dCkgaW5wdXQuZm9jdXMoKTtcbiAgICB9KTtcblxuICAgICQ6IGxpc3RQcm9wcyA9IHtcbiAgICAgICAgSXRlbSxcbiAgICAgICAgZmlsdGVyVGV4dCxcbiAgICAgICAgb3B0aW9uSWRlbnRpZmllcixcbiAgICAgICAgbm9PcHRpb25zTWVzc2FnZSxcbiAgICAgICAgaGlkZUVtcHR5U3RhdGUsXG4gICAgICAgIGlzVmlydHVhbExpc3QsXG4gICAgICAgIFZpcnR1YWxMaXN0LFxuICAgICAgICB2YWx1ZSxcbiAgICAgICAgaXNNdWx0aSxcbiAgICAgICAgZ2V0R3JvdXBIZWFkZXJMYWJlbCxcbiAgICAgICAgaXRlbXM6IGZpbHRlcmVkSXRlbXMsXG4gICAgICAgIGl0ZW1IZWlnaHQsXG4gICAgICAgIGdldE9wdGlvbkxhYmVsLFxuICAgICAgICBsaXN0UGxhY2VtZW50LFxuICAgICAgICBwYXJlbnQ6IGNvbnRhaW5lcixcbiAgICAgICAgbGlzdEF1dG9XaWR0aCxcbiAgICAgICAgbGlzdE9mZnNldCxcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gaXRlbVNlbGVjdGVkKGV2ZW50KSB7XG4gICAgICAgIGNvbnN0IHsgZGV0YWlsIH0gPSBldmVudDtcblxuICAgICAgICBpZiAoZGV0YWlsKSB7XG4gICAgICAgICAgICBmaWx0ZXJUZXh0ID0gJyc7XG4gICAgICAgICAgICBjb25zdCBpdGVtID0gT2JqZWN0LmFzc2lnbih7fSwgZGV0YWlsKTtcblxuICAgICAgICAgICAgaWYgKCFpdGVtLmlzR3JvdXBIZWFkZXIgfHwgaXRlbS5pc1NlbGVjdGFibGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNNdWx0aSkge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlID8gdmFsdWUuY29uY2F0KFtpdGVtXSkgOiBbaXRlbV07XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBpdGVtO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWU7XG5cbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbGlzdE9wZW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgYWN0aXZlVmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpdGVtQ3JlYXRlZChldmVudCkge1xuICAgICAgICBjb25zdCB7IGRldGFpbCB9ID0gZXZlbnQ7XG4gICAgICAgIGlmIChpc011bHRpKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlIHx8IFtdO1xuICAgICAgICAgICAgdmFsdWUgPSBbLi4udmFsdWUsIGNyZWF0ZUl0ZW0oZGV0YWlsKV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YWx1ZSA9IGNyZWF0ZUl0ZW0oZGV0YWlsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRpc3BhdGNoKCdpdGVtQ3JlYXRlZCcsIGRldGFpbCk7XG4gICAgICAgIGZpbHRlclRleHQgPSAnJztcbiAgICAgICAgbGlzdE9wZW4gPSBmYWxzZTtcbiAgICAgICAgYWN0aXZlVmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2xvc2VMaXN0KCkge1xuICAgICAgICBmaWx0ZXJUZXh0ID0gJyc7XG4gICAgICAgIGxpc3RPcGVuID0gZmFsc2U7XG4gICAgfVxuXG4gICAgZXhwb3J0IGxldCBhcmlhVmFsdWVzID0gKHZhbHVlcykgPT4ge1xuICAgICAgICByZXR1cm4gYE9wdGlvbiAke3ZhbHVlc30sIHNlbGVjdGVkLmA7XG4gICAgfTtcblxuICAgIGV4cG9ydCBsZXQgYXJpYUxpc3RPcGVuID0gKGxhYmVsLCBjb3VudCkgPT4ge1xuICAgICAgICByZXR1cm4gYFlvdSBhcmUgY3VycmVudGx5IGZvY3VzZWQgb24gb3B0aW9uICR7bGFiZWx9LiBUaGVyZSBhcmUgJHtjb3VudH0gcmVzdWx0cyBhdmFpbGFibGUuYDtcbiAgICB9O1xuXG4gICAgZXhwb3J0IGxldCBhcmlhRm9jdXNlZCA9ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIGBTZWxlY3QgaXMgZm9jdXNlZCwgdHlwZSB0byByZWZpbmUgbGlzdCwgcHJlc3MgZG93biB0byBvcGVuIHRoZSBtZW51LmA7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGhhbmRsZUFyaWFTZWxlY3Rpb24oKSB7XG4gICAgICAgIGxldCBzZWxlY3RlZCA9IHVuZGVmaW5lZDtcblxuICAgICAgICBpZiAoaXNNdWx0aSAmJiB2YWx1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBzZWxlY3RlZCA9IHZhbHVlLm1hcCgodikgPT4gZ2V0U2VsZWN0aW9uTGFiZWwodikpLmpvaW4oJywgJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZWxlY3RlZCA9IGdldFNlbGVjdGlvbkxhYmVsKHZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBhcmlhVmFsdWVzKHNlbGVjdGVkKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoYW5kbGVBcmlhQ29udGVudCgpIHtcbiAgICAgICAgaWYgKCFpc0ZvY3VzZWQgfHwgIWZpbHRlcmVkSXRlbXMgfHwgZmlsdGVyZWRJdGVtcy5sZW5ndGggPT09IDApXG4gICAgICAgICAgICByZXR1cm4gJyc7XG5cbiAgICAgICAgbGV0IF9pdGVtID0gZmlsdGVyZWRJdGVtc1tob3Zlckl0ZW1JbmRleF07XG4gICAgICAgIGlmIChsaXN0T3BlbiAmJiBfaXRlbSkge1xuICAgICAgICAgICAgbGV0IGxhYmVsID0gZ2V0U2VsZWN0aW9uTGFiZWwoX2l0ZW0pO1xuICAgICAgICAgICAgbGV0IGNvdW50ID0gZmlsdGVyZWRJdGVtcyA/IGZpbHRlcmVkSXRlbXMubGVuZ3RoIDogMDtcblxuICAgICAgICAgICAgcmV0dXJuIGFyaWFMaXN0T3BlbihsYWJlbCwgY291bnQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGFyaWFGb2N1c2VkKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAkOiBhcmlhU2VsZWN0aW9uID0gdmFsdWUgPyBoYW5kbGVBcmlhU2VsZWN0aW9uKGlzTXVsdGkpIDogJyc7XG4gICAgJDogYXJpYUNvbnRleHQgPSBoYW5kbGVBcmlhQ29udGVudChcbiAgICAgICAgZmlsdGVyZWRJdGVtcyxcbiAgICAgICAgaG92ZXJJdGVtSW5kZXgsXG4gICAgICAgIGlzRm9jdXNlZCxcbiAgICAgICAgbGlzdE9wZW5cbiAgICApO1xuPC9zY3JpcHQ+XG5cbjxzdHlsZT5cbiAgICAuc2VsZWN0Q29udGFpbmVyIHtcbiAgICAgICAgLS1pbnRlcm5hbFBhZGRpbmc6IDAgMTZweDtcbiAgICAgICAgYm9yZGVyOiB2YXIoLS1ib3JkZXIsIDFweCBzb2xpZCAjZDhkYmRmKTtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogdmFyKC0tYm9yZGVyUmFkaXVzLCAzcHgpO1xuICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICAgICAgICBoZWlnaHQ6IHZhcigtLWhlaWdodCwgNDJweCk7XG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgcGFkZGluZzogdmFyKC0tcGFkZGluZywgdmFyKC0taW50ZXJuYWxQYWRkaW5nKSk7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQsICNmZmYpO1xuICAgICAgICBtYXJnaW46IHZhcigtLW1hcmdpbiwgMCk7XG4gICAgfVxuXG4gICAgLnNlbGVjdENvbnRhaW5lciBpbnB1dCB7XG4gICAgICAgIGN1cnNvcjogZGVmYXVsdDtcbiAgICAgICAgYm9yZGVyOiBub25lO1xuICAgICAgICBjb2xvcjogdmFyKC0taW5wdXRDb2xvciwgIzNmNGY1Zik7XG4gICAgICAgIGhlaWdodDogdmFyKC0taGVpZ2h0LCA0MnB4KTtcbiAgICAgICAgbGluZS1oZWlnaHQ6IHZhcigtLWhlaWdodCwgNDJweCk7XG4gICAgICAgIHBhZGRpbmc6IHZhcigtLWlucHV0UGFkZGluZywgdmFyKC0tcGFkZGluZywgdmFyKC0taW50ZXJuYWxQYWRkaW5nKSkpO1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG4gICAgICAgIGZvbnQtc2l6ZTogdmFyKC0taW5wdXRGb250U2l6ZSwgMTRweCk7XG4gICAgICAgIGxldHRlci1zcGFjaW5nOiB2YXIoLS1pbnB1dExldHRlclNwYWNpbmcsIC0wLjA4cHgpO1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIGxlZnQ6IHZhcigtLWlucHV0TGVmdCwgMCk7XG4gICAgICAgIG1hcmdpbjogdmFyKC0taW5wdXRNYXJnaW4sIDApO1xuICAgIH1cblxuICAgIC5zZWxlY3RDb250YWluZXIgaW5wdXQ6OnBsYWNlaG9sZGVyIHtcbiAgICAgICAgY29sb3I6IHZhcigtLXBsYWNlaG9sZGVyQ29sb3IsICM3ODg0OGYpO1xuICAgICAgICBvcGFjaXR5OiB2YXIoLS1wbGFjZWhvbGRlck9wYWNpdHksIDEpO1xuICAgIH1cblxuICAgIC5zZWxlY3RDb250YWluZXIgaW5wdXQ6Zm9jdXMge1xuICAgICAgICBvdXRsaW5lOiBub25lO1xuICAgIH1cblxuICAgIC5zZWxlY3RDb250YWluZXI6aG92ZXIge1xuICAgICAgICBib3JkZXItY29sb3I6IHZhcigtLWJvcmRlckhvdmVyQ29sb3IsICNiMmI4YmYpO1xuICAgIH1cblxuICAgIC5zZWxlY3RDb250YWluZXIuZm9jdXNlZCB7XG4gICAgICAgIGJvcmRlci1jb2xvcjogdmFyKC0tYm9yZGVyRm9jdXNDb2xvciwgIzAwNmZlOCk7XG4gICAgfVxuXG4gICAgLnNlbGVjdENvbnRhaW5lci5kaXNhYmxlZCB7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWRpc2FibGVkQmFja2dyb3VuZCwgI2ViZWRlZik7XG4gICAgICAgIGJvcmRlci1jb2xvcjogdmFyKC0tZGlzYWJsZWRCb3JkZXJDb2xvciwgI2ViZWRlZik7XG4gICAgICAgIGNvbG9yOiB2YXIoLS1kaXNhYmxlZENvbG9yLCAjYzFjNmNjKTtcbiAgICB9XG5cbiAgICAuc2VsZWN0Q29udGFpbmVyLmRpc2FibGVkIGlucHV0OjpwbGFjZWhvbGRlciB7XG4gICAgICAgIGNvbG9yOiB2YXIoLS1kaXNhYmxlZFBsYWNlaG9sZGVyQ29sb3IsICNjMWM2Y2MpO1xuICAgICAgICBvcGFjaXR5OiB2YXIoLS1kaXNhYmxlZFBsYWNlaG9sZGVyT3BhY2l0eSwgMSk7XG4gICAgfVxuXG4gICAgLnNlbGVjdGVkSXRlbSB7XG4gICAgICAgIGxpbmUtaGVpZ2h0OiB2YXIoLS1oZWlnaHQsIDQycHgpO1xuICAgICAgICBoZWlnaHQ6IHZhcigtLWhlaWdodCwgNDJweCk7XG4gICAgICAgIG92ZXJmbG93LXg6IGhpZGRlbjtcbiAgICAgICAgcGFkZGluZzogdmFyKC0tc2VsZWN0ZWRJdGVtUGFkZGluZywgMCAyMHB4IDAgMCk7XG4gICAgfVxuXG4gICAgLnNlbGVjdGVkSXRlbTpmb2N1cyB7XG4gICAgICAgIG91dGxpbmU6IG5vbmU7XG4gICAgfVxuXG4gICAgLmNsZWFyU2VsZWN0IHtcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICByaWdodDogdmFyKC0tY2xlYXJTZWxlY3RSaWdodCwgMTBweCk7XG4gICAgICAgIHRvcDogdmFyKC0tY2xlYXJTZWxlY3RUb3AsIDExcHgpO1xuICAgICAgICBib3R0b206IHZhcigtLWNsZWFyU2VsZWN0Qm90dG9tLCAxMXB4KTtcbiAgICAgICAgd2lkdGg6IHZhcigtLWNsZWFyU2VsZWN0V2lkdGgsIDIwcHgpO1xuICAgICAgICBjb2xvcjogdmFyKC0tY2xlYXJTZWxlY3RDb2xvciwgI2M1Y2FjZik7XG4gICAgICAgIGZsZXg6IG5vbmUgIWltcG9ydGFudDtcbiAgICB9XG5cbiAgICAuY2xlYXJTZWxlY3Q6aG92ZXIge1xuICAgICAgICBjb2xvcjogdmFyKC0tY2xlYXJTZWxlY3RIb3ZlckNvbG9yLCAjMmMzZTUwKTtcbiAgICB9XG5cbiAgICAuc2VsZWN0Q29udGFpbmVyLmZvY3VzZWQgLmNsZWFyU2VsZWN0IHtcbiAgICAgICAgY29sb3I6IHZhcigtLWNsZWFyU2VsZWN0Rm9jdXNDb2xvciwgIzNmNGY1Zik7XG4gICAgfVxuXG4gICAgLmluZGljYXRvciB7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgcmlnaHQ6IHZhcigtLWluZGljYXRvclJpZ2h0LCAxMHB4KTtcbiAgICAgICAgdG9wOiB2YXIoLS1pbmRpY2F0b3JUb3AsIDExcHgpO1xuICAgICAgICB3aWR0aDogdmFyKC0taW5kaWNhdG9yV2lkdGgsIDIwcHgpO1xuICAgICAgICBoZWlnaHQ6IHZhcigtLWluZGljYXRvckhlaWdodCwgMjBweCk7XG4gICAgICAgIGNvbG9yOiB2YXIoLS1pbmRpY2F0b3JDb2xvciwgI2M1Y2FjZik7XG4gICAgfVxuXG4gICAgLmluZGljYXRvciBzdmcge1xuICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICAgIGZpbGw6IHZhcigtLWluZGljYXRvckZpbGwsIGN1cnJlbnRjb2xvcik7XG4gICAgICAgIGxpbmUtaGVpZ2h0OiAxO1xuICAgICAgICBzdHJva2U6IHZhcigtLWluZGljYXRvclN0cm9rZSwgY3VycmVudGNvbG9yKTtcbiAgICAgICAgc3Ryb2tlLXdpZHRoOiAwO1xuICAgIH1cblxuICAgIC5zcGlubmVyIHtcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICByaWdodDogdmFyKC0tc3Bpbm5lclJpZ2h0LCAxMHB4KTtcbiAgICAgICAgdG9wOiB2YXIoLS1zcGlubmVyTGVmdCwgMTFweCk7XG4gICAgICAgIHdpZHRoOiB2YXIoLS1zcGlubmVyV2lkdGgsIDIwcHgpO1xuICAgICAgICBoZWlnaHQ6IHZhcigtLXNwaW5uZXJIZWlnaHQsIDIwcHgpO1xuICAgICAgICBjb2xvcjogdmFyKC0tc3Bpbm5lckNvbG9yLCAjNTFjZTZjKTtcbiAgICAgICAgYW5pbWF0aW9uOiByb3RhdGUgMC43NXMgbGluZWFyIGluZmluaXRlO1xuICAgIH1cblxuICAgIC5zcGlubmVyX2ljb24ge1xuICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgICB0cmFuc2Zvcm0tb3JpZ2luOiBjZW50ZXIgY2VudGVyO1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICB0b3A6IDA7XG4gICAgICAgIGJvdHRvbTogMDtcbiAgICAgICAgbGVmdDogMDtcbiAgICAgICAgcmlnaHQ6IDA7XG4gICAgICAgIG1hcmdpbjogYXV0bztcbiAgICAgICAgLXdlYmtpdC10cmFuc2Zvcm06IG5vbmU7XG4gICAgfVxuXG4gICAgLnNwaW5uZXJfcGF0aCB7XG4gICAgICAgIHN0cm9rZS1kYXNoYXJyYXk6IDkwO1xuICAgICAgICBzdHJva2UtbGluZWNhcDogcm91bmQ7XG4gICAgfVxuXG4gICAgLm11bHRpU2VsZWN0IHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgcGFkZGluZzogdmFyKC0tbXVsdGlTZWxlY3RQYWRkaW5nLCAwIDM1cHggMCAxNnB4KTtcbiAgICAgICAgaGVpZ2h0OiBhdXRvO1xuICAgICAgICBmbGV4LXdyYXA6IHdyYXA7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBzdHJldGNoO1xuICAgIH1cblxuICAgIC5tdWx0aVNlbGVjdCA+ICoge1xuICAgICAgICBmbGV4OiAxIDEgNTBweDtcbiAgICB9XG5cbiAgICAuc2VsZWN0Q29udGFpbmVyLm11bHRpU2VsZWN0IGlucHV0IHtcbiAgICAgICAgcGFkZGluZzogdmFyKC0tbXVsdGlTZWxlY3RJbnB1dFBhZGRpbmcsIDApO1xuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICAgIG1hcmdpbjogdmFyKC0tbXVsdGlTZWxlY3RJbnB1dE1hcmdpbiwgMCk7XG4gICAgfVxuXG4gICAgLmhhc0Vycm9yIHtcbiAgICAgICAgYm9yZGVyOiB2YXIoLS1lcnJvckJvcmRlciwgMXB4IHNvbGlkICNmZjJkNTUpO1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1lcnJvckJhY2tncm91bmQsICNmZmYpO1xuICAgIH1cblxuICAgIC5hMTF5VGV4dCB7XG4gICAgICAgIHotaW5kZXg6IDk5OTk7XG4gICAgICAgIGJvcmRlcjogMHB4O1xuICAgICAgICBjbGlwOiByZWN0KDFweCwgMXB4LCAxcHgsIDFweCk7XG4gICAgICAgIGhlaWdodDogMXB4O1xuICAgICAgICB3aWR0aDogMXB4O1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgICAgIHBhZGRpbmc6IDBweDtcbiAgICAgICAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgICB9XG5cbiAgICBAa2V5ZnJhbWVzIHJvdGF0ZSB7XG4gICAgICAgIDEwMCUge1xuICAgICAgICAgICAgdHJhbnNmb3JtOiByb3RhdGUoMzYwZGVnKTtcbiAgICAgICAgfVxuICAgIH1cbjwvc3R5bGU+XG5cbjxzdmVsdGU6d2luZG93XG4gICAgb246Y2xpY2s9e2hhbmRsZVdpbmRvd0V2ZW50fVxuICAgIG9uOmZvY3VzaW49e2hhbmRsZVdpbmRvd0V2ZW50fVxuICAgIG9uOmtleWRvd249e2hhbmRsZUtleURvd259IC8+XG5cbjxkaXZcbiAgICBjbGFzcz1cInNlbGVjdENvbnRhaW5lciB7Y29udGFpbmVyQ2xhc3Nlc31cIlxuICAgIGNsYXNzOmhhc0Vycm9yXG4gICAgY2xhc3M6bXVsdGlTZWxlY3Q9e2lzTXVsdGl9XG4gICAgY2xhc3M6ZGlzYWJsZWQ9e2lzRGlzYWJsZWR9XG4gICAgY2xhc3M6Zm9jdXNlZD17aXNGb2N1c2VkfVxuICAgIHN0eWxlPXtjb250YWluZXJTdHlsZXN9XG4gICAgb246Y2xpY2s9e2hhbmRsZUNsaWNrfVxuICAgIGJpbmQ6dGhpcz17Y29udGFpbmVyfT5cbiAgICA8c3BhblxuICAgICAgICBhcmlhLWxpdmU9XCJwb2xpdGVcIlxuICAgICAgICBhcmlhLWF0b21pYz1cImZhbHNlXCJcbiAgICAgICAgYXJpYS1yZWxldmFudD1cImFkZGl0aW9ucyB0ZXh0XCJcbiAgICAgICAgY2xhc3M9XCJhMTF5VGV4dFwiPlxuICAgICAgICB7I2lmIGlzRm9jdXNlZH1cbiAgICAgICAgICAgIDxzcGFuIGlkPVwiYXJpYS1zZWxlY3Rpb25cIj57YXJpYVNlbGVjdGlvbn08L3NwYW4+XG4gICAgICAgICAgICA8c3BhbiBpZD1cImFyaWEtY29udGV4dFwiPlxuICAgICAgICAgICAgICAgIHthcmlhQ29udGV4dH1cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgey9pZn1cbiAgICA8L3NwYW4+XG5cbiAgICB7I2lmIEljb259XG4gICAgICAgIDxzdmVsdGU6Y29tcG9uZW50IHRoaXM9e0ljb259IHsuLi5pY29uUHJvcHN9IC8+XG4gICAgey9pZn1cblxuICAgIHsjaWYgc2hvd011bHRpU2VsZWN0fVxuICAgICAgICA8c3ZlbHRlOmNvbXBvbmVudFxuICAgICAgICAgICAgdGhpcz17TXVsdGlTZWxlY3Rpb259XG4gICAgICAgICAgICB7dmFsdWV9XG4gICAgICAgICAgICB7Z2V0U2VsZWN0aW9uTGFiZWx9XG4gICAgICAgICAgICB7YWN0aXZlVmFsdWV9XG4gICAgICAgICAgICB7aXNEaXNhYmxlZH1cbiAgICAgICAgICAgIHttdWx0aUZ1bGxJdGVtQ2xlYXJhYmxlfVxuICAgICAgICAgICAgb246bXVsdGlJdGVtQ2xlYXI9e2hhbmRsZU11bHRpSXRlbUNsZWFyfVxuICAgICAgICAgICAgb246Zm9jdXM9e2hhbmRsZUZvY3VzfSAvPlxuICAgIHsvaWZ9XG5cbiAgICA8aW5wdXRcbiAgICAgICAgcmVhZE9ubHk9eyFpc1NlYXJjaGFibGV9XG4gICAgICAgIHsuLi5faW5wdXRBdHRyaWJ1dGVzfVxuICAgICAgICBiaW5kOnRoaXM9e2lucHV0fVxuICAgICAgICBvbjpmb2N1cz17aGFuZGxlRm9jdXN9XG4gICAgICAgIGJpbmQ6dmFsdWU9e2ZpbHRlclRleHR9XG4gICAgICAgIHBsYWNlaG9sZGVyPXtwbGFjZWhvbGRlclRleHR9XG4gICAgICAgIHN0eWxlPXtpbnB1dFN0eWxlc31cbiAgICAgICAgZGlzYWJsZWQ9e2lzRGlzYWJsZWR9IC8+XG5cbiAgICB7I2lmICFpc011bHRpICYmIHNob3dTZWxlY3RlZEl0ZW19XG4gICAgICAgIDxkaXYgY2xhc3M9XCJzZWxlY3RlZEl0ZW1cIiBvbjpmb2N1cz17aGFuZGxlRm9jdXN9PlxuICAgICAgICAgICAgPHN2ZWx0ZTpjb21wb25lbnRcbiAgICAgICAgICAgICAgICB0aGlzPXtTZWxlY3Rpb259XG4gICAgICAgICAgICAgICAgaXRlbT17dmFsdWV9XG4gICAgICAgICAgICAgICAge2dldFNlbGVjdGlvbkxhYmVsfSAvPlxuICAgICAgICA8L2Rpdj5cbiAgICB7L2lmfVxuXG4gICAgeyNpZiBzaG93Q2xlYXJJY29ufVxuICAgICAgICA8ZGl2XG4gICAgICAgICAgICBjbGFzcz1cImNsZWFyU2VsZWN0XCJcbiAgICAgICAgICAgIG9uOmNsaWNrfHByZXZlbnREZWZhdWx0PXtoYW5kbGVDbGVhcn1cbiAgICAgICAgICAgIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPlxuICAgICAgICAgICAgPHN2ZWx0ZTpjb21wb25lbnQgdGhpcz17Q2xlYXJJY29ufSAvPlxuICAgICAgICA8L2Rpdj5cbiAgICB7L2lmfVxuXG4gICAgeyNpZiAhc2hvd0NsZWFySWNvbiAmJiAoc2hvd0luZGljYXRvciB8fCAoc2hvd0NoZXZyb24gJiYgIXZhbHVlKSB8fCAoIWlzU2VhcmNoYWJsZSAmJiAhaXNEaXNhYmxlZCAmJiAhaXNXYWl0aW5nICYmICgoc2hvd1NlbGVjdGVkSXRlbSAmJiAhaXNDbGVhcmFibGUpIHx8ICFzaG93U2VsZWN0ZWRJdGVtKSkpfVxuICAgICAgICA8ZGl2IGNsYXNzPVwiaW5kaWNhdG9yXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+XG4gICAgICAgICAgICB7I2lmIGluZGljYXRvclN2Z31cbiAgICAgICAgICAgICAgICB7QGh0bWwgaW5kaWNhdG9yU3ZnfVxuICAgICAgICAgICAgezplbHNlfVxuICAgICAgICAgICAgICAgIDxzdmdcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg9XCIxMDAlXCJcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0PVwiMTAwJVwiXG4gICAgICAgICAgICAgICAgICAgIHZpZXdCb3g9XCIwIDAgMjAgMjBcIlxuICAgICAgICAgICAgICAgICAgICBmb2N1c2FibGU9XCJmYWxzZVwiXG4gICAgICAgICAgICAgICAgICAgIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPlxuICAgICAgICAgICAgICAgICAgICA8cGF0aFxuICAgICAgICAgICAgICAgICAgICAgICAgZD1cIk00LjUxNiA3LjU0OGMwLjQzNi0wLjQ0NiAxLjA0My0wLjQ4MSAxLjU3NiAwbDMuOTA4IDMuNzQ3XG4gICAgICAgICAgMy45MDgtMy43NDdjMC41MzMtMC40ODEgMS4xNDEtMC40NDYgMS41NzQgMCAwLjQzNiAwLjQ0NSAwLjQwOCAxLjE5NyAwXG4gICAgICAgICAgMS42MTUtMC40MDYgMC40MTgtNC42OTUgNC41MDItNC42OTUgNC41MDItMC4yMTcgMC4yMjMtMC41MDJcbiAgICAgICAgICAwLjMzNS0wLjc4NyAwLjMzNXMtMC41Ny0wLjExMi0wLjc4OS0wLjMzNWMwXG4gICAgICAgICAgMC00LjI4Ny00LjA4NC00LjY5NS00LjUwMnMtMC40MzYtMS4xNyAwLTEuNjE1elwiIC8+XG4gICAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICB7L2lmfVxuICAgICAgICA8L2Rpdj5cbiAgICB7L2lmfVxuXG4gICAgeyNpZiBpc1dhaXRpbmd9XG4gICAgICAgIDxkaXYgY2xhc3M9XCJzcGlubmVyXCI+XG4gICAgICAgICAgICA8c3ZnIGNsYXNzPVwic3Bpbm5lcl9pY29uXCIgdmlld0JveD1cIjI1IDI1IDUwIDUwXCI+XG4gICAgICAgICAgICAgICAgPGNpcmNsZVxuICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInNwaW5uZXJfcGF0aFwiXG4gICAgICAgICAgICAgICAgICAgIGN4PVwiNTBcIlxuICAgICAgICAgICAgICAgICAgICBjeT1cIjUwXCJcbiAgICAgICAgICAgICAgICAgICAgcj1cIjIwXCJcbiAgICAgICAgICAgICAgICAgICAgZmlsbD1cIm5vbmVcIlxuICAgICAgICAgICAgICAgICAgICBzdHJva2U9XCJjdXJyZW50Q29sb3JcIlxuICAgICAgICAgICAgICAgICAgICBzdHJva2Utd2lkdGg9XCI1XCJcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlLW1pdGVybGltaXQ9XCIxMFwiIC8+XG4gICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgPC9kaXY+XG4gICAgey9pZn1cblxuICAgIHsjaWYgbGlzdE9wZW59XG4gICAgICAgIDxzdmVsdGU6Y29tcG9uZW50XG4gICAgICAgICAgICB0aGlzPXtMaXN0fVxuICAgICAgICAgICAgey4uLmxpc3RQcm9wc31cbiAgICAgICAgICAgIGJpbmQ6aG92ZXJJdGVtSW5kZXhcbiAgICAgICAgICAgIG9uOml0ZW1TZWxlY3RlZD17aXRlbVNlbGVjdGVkfVxuICAgICAgICAgICAgb246aXRlbUNyZWF0ZWQ9e2l0ZW1DcmVhdGVkfVxuICAgICAgICAgICAgb246Y2xvc2VMaXN0PXtjbG9zZUxpc3R9IC8+XG4gICAgey9pZn1cblxuICAgIHsjaWYgIWlzTXVsdGkgfHwgKGlzTXVsdGkgJiYgIXNob3dNdWx0aVNlbGVjdCl9XG4gICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgbmFtZT17aW5wdXRBdHRyaWJ1dGVzLm5hbWV9XG4gICAgICAgICAgICB0eXBlPVwiaGlkZGVuXCJcbiAgICAgICAgICAgIHZhbHVlPXt2YWx1ZSA/IGdldFNlbGVjdGlvbkxhYmVsKHZhbHVlKSA6IG51bGx9IC8+XG4gICAgey9pZn1cblxuICAgIHsjaWYgaXNNdWx0aSAmJiBzaG93TXVsdGlTZWxlY3R9XG4gICAgICAgIHsjZWFjaCB2YWx1ZSBhcyBpdGVtfVxuICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgbmFtZT17aW5wdXRBdHRyaWJ1dGVzLm5hbWV9XG4gICAgICAgICAgICAgICAgdHlwZT1cImhpZGRlblwiXG4gICAgICAgICAgICAgICAgdmFsdWU9e2l0ZW0gPyBnZXRTZWxlY3Rpb25MYWJlbChpdGVtKSA6IG51bGx9IC8+XG4gICAgICAgIHsvZWFjaH1cbiAgICB7L2lmfVxuPC9kaXY+XG4iLCI8c2NyaXB0IGNvbnRleHQ9XCJtb2R1bGVcIiBsYW5nPVwidHNcIj5cblx0ZXhwb3J0IHR5cGUgU2VsZWN0T3B0aW9uPFxuXHRcdHNpX3ZhbHVlIGV4dGVuZHMgc3RyaW5nPXN0cmluZyxcblx0XHRnX2V4dHJhIGV4dGVuZHMgSnNvbk9iamVjdD17fSxcblx0PiA9IE1lcmdlPHtcblx0XHR2YWx1ZTogc2lfdmFsdWU7XG5cdFx0cHJpbWFyeT86IHN0cmluZztcblx0XHRzZWNvbmRhcnk/OiBzdHJpbmc7XG5cdFx0b2JqZWN0PzogTmFtZWFibGUgJiBQZnBhYmxlO1xuXHRcdHBmcD86IFBmcFBhdGg7XG5cdH0sIGdfZXh0cmE+O1xuPC9zY3JpcHQ+XG5cbjxzY3JpcHQgbGFuZz1cInRzXCI+XG5cdGltcG9ydCB7IG9uTW91bnQgfSBmcm9tICdzdmVsdGUnO1xuXHRpbXBvcnQgU2VsZWN0IGZyb20gXCJzdmVsdGUtc2VsZWN0XCI7XG5cdGltcG9ydCB7IGRkIH0gZnJvbSAnIy91dGlsL2RvbSc7XG5cblx0aW1wb3J0IFNYX0lDT05fRFJPUERPV04gZnJvbSAnIy9pY29uL2Ryb3AtZG93bi5zdmc/cmF3Jztcblx0aW1wb3J0IHR5cGUgeyBOYW1lYWJsZSwgUGZwYWJsZSB9IGZyb20gJyMvbWV0YS9hYmxlJztcblx0aW1wb3J0IHR5cGUgeyBQZnBQYXRoIH0gZnJvbSAnIy9tZXRhL3BmcCc7XG5cdGltcG9ydCB0eXBlIHsgSnNvbk9iamVjdCB9IGZyb20gJyMvdXRpbC9iZWx0Jztcblx0aW1wb3J0IHR5cGUgeyBNZXJnZSB9IGZyb20gJ3RzLXRvb2xiZWx0L291dC9PYmplY3QvTWVyZ2UnO1xuXG5cdGV4cG9ydCBsZXQgaWQgPSAnJztcblx0ZXhwb3J0IGxldCBwbGFjZWhvbGRlciA9ICcnO1xuXHRleHBvcnQgbGV0IGxpc3RPZmZzZXQgPSAxO1xuXHRleHBvcnQgbGV0IGlzQ2xlYXJhYmxlID0gZmFsc2U7XG5cdGV4cG9ydCBsZXQgc2hvd0luZGljYXRvciA9IHRydWU7XG5cdGV4cG9ydCBsZXQgaXRlbXM6IHVua25vd25bXTtcblx0ZXhwb3J0IGxldCB2YWx1ZTogdW5rbm93biA9IHZvaWQgMDtcblxuXHRleHBvcnQgbGV0IHBmcE1hcDogUmVjb3JkPFBmcFBhdGgsIEhUTUxFbGVtZW50PiB8IG51bGwgPSBudWxsO1xuXHRjb25zdCBoX3BmcHMgPSBwZnBNYXA7XG5cblx0ZXhwb3J0IGxldCBwcmltYXJ5Q2xhc3MgPSAnJztcblx0ZXhwb3J0IGxldCBzZWNvbmRhcnlDbGFzcyA9ICcnO1xuXG5cdGV4cG9ydCBsZXQgY29udGFpbmVyQ2xhc3NlcyA9ICcnO1xuXG5cdGZ1bmN0aW9uIGNyZWF0ZV9sYWJlbChnX2l0ZW06IFNlbGVjdE9wdGlvbikge1xuXHRcdGlmKGdfaXRlbS5wcmltYXJ5KSB7XG5cdFx0XHRyZXR1cm4gZGQoJ3NwYW4nLCB7XG5cdFx0XHRcdGNsYXNzOiAnZ2xvYmFsX3NlbGVjdC1pdGVtJyxcblx0XHRcdH0sIFtcblx0XHRcdFx0aF9wZnBzPyBoX3BmcHNbZ19pdGVtLm9iamVjdCEucGZwXSB8fCAnJzogJycsXG5cdFx0XHRcdGRkKCdzcGFuJywge1xuXHRcdFx0XHRcdGNsYXNzOiAnbmFtZSAnK3ByaW1hcnlDbGFzcyxcblx0XHRcdFx0fSwgW1xuXHRcdFx0XHRcdGdfaXRlbS5wcmltYXJ5LFxuXHRcdFx0XHRdKSxcblx0XHRcdFx0ZGQoJ3NwYW4nLCB7XG5cdFx0XHRcdFx0Y2xhc3M6ICdzZWNvbmRhcnkgJytzZWNvbmRhcnlDbGFzcyxcblx0XHRcdFx0fSwgW1xuXHRcdFx0XHRcdGdfaXRlbS5zZWNvbmRhcnkgfHwgJycsXG5cdFx0XHRcdF0pLFxuXHRcdFx0XSkub3V0ZXJIVE1MO1xuXHRcdH1cblxuXHRcdHJldHVybiBnX2l0ZW0udmFsdWU7XG5cdH1cblxuXHRsZXQgZG1fc3Rhcl9zZWxlY3Q6IEhUTUxFbGVtZW50O1xuXHRsZXQgc3hfbWF4X2hlaWdodCA9ICc1MDBweCc7XG5cdG9uTW91bnQoKCkgPT4ge1xuXHRcdHNldFRpbWVvdXQoKCkgPT4ge1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0Y29uc3QgeF9ib3R0b20gPSBkbV9zdGFyX3NlbGVjdC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5ib3R0b207XG5cdFx0XHRcdHN4X21heF9oZWlnaHQgPSBNYXRoLm1pbih3aW5kb3cuaW5uZXJIZWlnaHQgLSB4X2JvdHRvbSAtIDIwLCA1MDApKydweCc7XG5cdFx0XHR9IGNhdGNoKGVfYm91bmRzKSB7fVxuXHRcdH0sIDEwMDApO1xuXHR9KTtcbjwvc2NyaXB0PlxuXG48c3R5bGUgbGFuZz1cImxlc3NcIj5cblx0QGltcG9ydCAnLi9fYmFzZS5sZXNzJztcblxuXHQuZ2xvYmFsX3NlbGVjdC1pdGVtIHtcblx0XHQ+Lmdsb2JhbF9wZnAge1xuXHRcdFx0Omdsb2JhbCgmKSB7XG5cdFx0XHRcdHBhZGRpbmctcmlnaHQ6IDAuNzVjaDtcblx0XHRcdFx0bWFyZ2luLXRvcDogLTAuMjVlbTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQuc3Rhci1zZWxlY3Qge1xuXHRcdHBvc2l0aW9uOiByZWxhdGl2ZTtcblx0XHQuc3R5bGUtc3ZlbHRlLXNlbGVjdCgpO1xuXHRcdC5mb250KHJlZ3VsYXIpO1xuXG5cdFx0PmlucHV0IHtcblxuXHRcdFx0Jjo6YWZ0ZXIge1xuXHRcdFx0XHRjb250ZW50OiAnJztcblx0XHRcdFx0cG9zaXRpb246IGFic29sdXRlO1xuXHRcdFx0XHRyaWdodDogMDtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQ+Lmljb24ge1xuXHRcdFx0LS1pY29uLWRpYW1ldGVyOiAyNHB4O1xuXHRcdFx0LS1pY29uLWNvbG9yOiB2YXIoLS10aGVtZS1jb2xvci1wcmltYXJ5KTtcblx0XHRcdHBvc2l0aW9uOiBhYnNvbHV0ZTtcblx0XHRcdHRvcDogMDtcblx0XHRcdHJpZ2h0OiAwO1xuXHRcdFx0cGFkZGluZzogMTJweDtcblx0XHRcdGN1cnNvcjogcG9pbnRlcjtcblx0XHR9XG5cblx0XHQuc2Vjb25kYXJ5IHtcblx0XHRcdDpnbG9iYWwoJikge1xuXHRcdFx0XHRjb2xvcjogdmFyKC0tdGhlbWUtY29sb3ItdGV4dC1tZWQpO1xuXHRcdFx0fVxuXG5cdFx0XHQ6Z2xvYmFsKCY6OmJlZm9yZSkge1xuXHRcdFx0XHRjb250ZW50OiAnIC0gJztcblx0XHRcdFx0Y29sb3I6IHZhcigtLXRoZW1lLWNvbG9yLXRleHQtbWVkKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQuaXRlbS5hY3RpdmUge1xuXHRcdFx0Omdsb2JhbCgmKSB7XG5cdFx0XHRcdGRpc3BsYXk6IG5vbmU7XG5cdFx0XHR9XG5cblx0XHRcdC5zZWNvbmRhcnkge1xuXHRcdFx0XHQ6Z2xvYmFsKCYpIHtcblx0XHRcdFx0XHRjb2xvcjogcmdiYSgwLCAwLCAwLCAwLjUpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdFxuXHRcdFx0XHQ6Z2xvYmFsKCY6OmJlZm9yZSkge1xuXHRcdFx0XHRcdGNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cbjwvc3R5bGU+XG5cbjxkaXYgY2xhc3M9XCJzdGFyLXNlbGVjdCB7Y29udGFpbmVyQ2xhc3Nlc31cIiBiaW5kOnRoaXM9e2RtX3N0YXJfc2VsZWN0fT5cblx0PFNlbGVjdCBpZD1cInNlbmRlci1zZWxlY3RcIlxuXHRcdHBsYWNlaG9sZGVyPXtwbGFjZWhvbGRlcn1cblx0XHRsaXN0T2Zmc2V0PXtsaXN0T2Zmc2V0fVxuXHRcdGlzQ2xlYXJhYmxlPXtpc0NsZWFyYWJsZX1cblx0XHRzaG93SW5kaWNhdG9yPXtzaG93SW5kaWNhdG9yfVxuXHRcdGluZGljYXRvclN2Zz17U1hfSUNPTl9EUk9QRE9XTn1cblx0XHRsaXN0UGxhY2VtZW50PSdib3R0b20nXG5cdFx0aXRlbXM9e2l0ZW1zfVxuXHRcdGJpbmQ6dmFsdWU9e3ZhbHVlfVxuXHRcdGdldE9wdGlvbkxhYmVsPXtjcmVhdGVfbGFiZWx9XG5cdFx0Z2V0U2VsZWN0aW9uTGFiZWw9e2NyZWF0ZV9sYWJlbH1cblx0XHQtLWxpc3RNYXhIZWlnaHQ9e3N4X21heF9oZWlnaHR9XG5cdC8+XG48L2Rpdj4iLCJpbXBvcnQgdHlwZSB7IE5hbWVhYmxlLCBQZnBhYmxlIH0gZnJvbSAnIy9tZXRhL2FibGUnO1xuaW1wb3J0IHR5cGUgeyBSZXNvdXJjZSB9IGZyb20gJyMvbWV0YS9yZXNvdXJjZSc7XG5pbXBvcnQgdHlwZSB7IFBhcmFtZXRyaWNTdmVsdGVDb25zdHJ1Y3RvciB9IGZyb20gJyMvbWV0YS9zdmVsdGUnO1xuaW1wb3J0IHsgRGljdCwgb2RlLCBvZmUgfSBmcm9tICcjL3V0aWwvYmVsdCc7XG5pbXBvcnQgeyBkZCB9IGZyb20gJyMvdXRpbC9kb20nO1xuaW1wb3J0IHsgY3ViaWNPdXQgfSBmcm9tICdzdmVsdGUvZWFzaW5nJztcbmltcG9ydCB0eXBlIHsgUmVhZGFibGUgfSBmcm9tICdzdmVsdGUvc3RvcmUnO1xuaW1wb3J0IFBmcERpc3BsYXkgZnJvbSAnLi91aS9QZnBEaXNwbGF5LnN2ZWx0ZSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBvbmNlX3N0b3JlX3VwZGF0ZXMoeXdfc3RvcmU6IFJlYWRhYmxlPGFueT4sIGJfdHJ1dGh5PWZhbHNlKTogKHR5cGVvZiB5d19zdG9yZSkgZXh0ZW5kcyBSZWFkYWJsZTxpbmZlciB3X291dD4/IFByb21pc2U8d19vdXQ+OiBuZXZlciB7XG5cdHJldHVybiBuZXcgUHJvbWlzZSgoZmtfcmVzb2x2ZSkgPT4ge1xuXHRcdC8vIGlnbm9yZSBpbml0aWFsaXphdGlvbiBjYWxsXG5cdFx0bGV0IGJfaW5pdGlhbGl6ZWQgPSBmYWxzZTtcblxuXHRcdC8vIHN1YnNjcmliZVxuXHRcdGNvbnN0IGZfdW5zdWJzY3JpYmUgPSB5d19zdG9yZS5zdWJzY3JpYmUoKHdfdmFsdWUpID0+IHtcblx0XHRcdC8vIHJ1bm5lciBnZXRzIGNhbGxlZCBpbW1lZGlhdGVseSwgYnV0IHdhaXQgZm9yIHRoZSB1cGRhdGVcblx0XHRcdGlmKCFiX2luaXRpYWxpemVkKSB7XG5cdFx0XHRcdGJfaW5pdGlhbGl6ZWQgPSB0cnVlO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdC8vIFxuXHRcdFx0aWYoIWJfdHJ1dGh5IHx8IHdfdmFsdWUpIHtcblx0XHRcdFx0Ly8gdW5zdWJzY3JpYmVcblx0XHRcdFx0Zl91bnN1YnNjcmliZSgpO1xuXG5cdFx0XHRcdC8vIHJlc29sdmUgd2l0aCB2YWx1ZVxuXHRcdFx0XHRma19yZXNvbHZlKHdfdmFsdWUpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNsZWFuX3NsaWRlKGRtX25vZGU6IEVsZW1lbnQsIHtcblx0ZGVsYXk6IHh0X2RlbGF5PTAsXG5cdGR1cmF0aW9uOiB4dF9kdXJhdGlvbj00MDAsXG5cdGVhc2luZzogZl9lYXNpbmc9Y3ViaWNPdXQsXG59OiBTdmVsdGVUcmFuc2l0aW9uQ29uZmlnKTogU3ZlbHRlVHJhbnNpdGlvblJldHVyblR5cGUge1xuXHRjb25zdCBkX3N0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShkbV9ub2RlKTtcblx0Y29uc3QgeF9vcGFjaXR5ID0gK2Rfc3R5bGUub3BhY2l0eTtcblx0Y29uc3QgeF9oZWlnaHQgPSBwYXJzZUZsb2F0KGRfc3R5bGUuaGVpZ2h0KTtcblx0Y29uc3QgeF9wYWRkaW5nX3RvcCA9IHBhcnNlRmxvYXQoZF9zdHlsZS5wYWRkaW5nVG9wKTtcblx0Y29uc3QgeF9wYWRkaW5nX2JvdHRvbSA9IHBhcnNlRmxvYXQoZF9zdHlsZS5wYWRkaW5nQm90dG9tKTtcblx0Y29uc3QgeF9tYXJnaW5fdG9wID0gcGFyc2VGbG9hdChkX3N0eWxlLm1hcmdpblRvcCk7XG5cdGNvbnN0IHhfbWFyZ2luX2JvdHRvbSA9IHBhcnNlRmxvYXQoZF9zdHlsZS5tYXJnaW5Cb3R0b20pO1xuXHRjb25zdCB4X2JvcmRlcl90b3Bfd2lkdGggPSBwYXJzZUZsb2F0KGRfc3R5bGUuYm9yZGVyVG9wV2lkdGgpO1xuXHRjb25zdCB4X2JvcmRlcl9ib3R0b21fd2lkdGggPSBwYXJzZUZsb2F0KGRfc3R5bGUuYm9yZGVyQm90dG9tV2lkdGgpO1xuXG5cdHJldHVybiB7XG5cdFx0ZGVsYXk6IHh0X2RlbGF5LFxuXHRcdGR1cmF0aW9uOiB4dF9kdXJhdGlvbixcblx0XHRlYXNpbmc6IGZfZWFzaW5nLFxuXHRcdGNzczogeHQgPT4gJydcblx0XHRcdCsnb3ZlcmZsb3c6IGhpZGRlbjsnXG5cdFx0XHQrYG9wYWNpdHk6ICR7TWF0aC5taW4oeHQgKiAyMCwgMSkgKiB4X29wYWNpdHl9O2Bcblx0XHRcdCtgaGVpZ2h0OiAke3h0ICogeF9oZWlnaHR9cHg7YFxuXHRcdFx0K2BwYWRkaW5nLXRvcDogJHt4dCAqIHhfcGFkZGluZ190b3B9cHg7YFxuXHRcdFx0K2BwYWRkaW5nLWJvdHRvbTogJHt4dCAqIHhfcGFkZGluZ19ib3R0b219cHg7YFxuXHRcdFx0K2BtYXJnaW4tdG9wOiAke3h0ICogeF9tYXJnaW5fdG9wfXB4O2Bcblx0XHRcdCtgbWFyZ2luLWJvdHRvbTogJHt4dCAqIHhfbWFyZ2luX2JvdHRvbX1weDtgXG5cdFx0XHQrYGJvcmRlci10b3Atd2lkdGg6ICR7eHQgKiB4X2JvcmRlcl90b3Bfd2lkdGh9cHg7YFxuXHRcdFx0K2Bib3JkZXItYm90dG9tLXdpZHRoOiAke3h0ICogeF9ib3JkZXJfYm90dG9tX3dpZHRofXB4O2AsXG5cdH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzdmVsdGVfdG9fZG9tKFxuXHRkY19jcmVhdG9yOiBQYXJhbWV0cmljU3ZlbHRlQ29uc3RydWN0b3IsXG5cdGhfcHJvcHM6IFBhcmFtZXRyaWNTdmVsdGVDb25zdHJ1Y3Rvci5QYXJ0czx0eXBlb2YgZGNfY3JlYXRvcj5bJ3BhcmFtcyddLFxuXHRzaV9ldmVudD86IHN0cmluZ1xuKTogUHJvbWlzZTxIVE1MRWxlbWVudD4ge1xuXHRjb25zdCBkbV9kaXYgPSBkZCgnZGl2Jyk7XG5cblx0Y29uc3QgeWNfY29tcG9uZW50ID0gbmV3IGRjX2NyZWF0b3Ioe1xuXHRcdHRhcmdldDogZG1fZGl2LFxuXHRcdHByb3BzOiBoX3Byb3BzLFxuXHR9KTtcblxuXHRpZihzaV9ldmVudCkge1xuXHRcdHJldHVybiBuZXcgUHJvbWlzZSgoZmtfcmVzb2x2ZSkgPT4ge1xuXHRcdFx0eWNfY29tcG9uZW50LiRvbihzaV9ldmVudCwgKCkgPT4ge1xuXHRcdFx0XHRma19yZXNvbHZlKGRtX2Rpdi5maXJzdENoaWxkIGFzIEhUTUxFbGVtZW50KTtcblx0XHRcdH0pO1xuXHRcdH0pO1xuXHR9XG5cdGVsc2Uge1xuXHRcdHJldHVybiBQcm9taXNlLnJlc29sdmUoZG1fZGl2LmZpcnN0Q2hpbGQgYXMgSFRNTEVsZW1lbnQpO1xuXHR9XG59XG5cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxvYWRfcGZwczxcblx0cF9yZXMgZXh0ZW5kcyBSZXNvdXJjZS5QYXRoLFxuXHRnX3JlcyBleHRlbmRzIChOYW1lYWJsZSAmIFBmcGFibGUpLFxuPihoX3Jlc291cmNlczogUmVjb3JkPHBfcmVzLCBnX3Jlcz4sIGhfcHJvcHM6IFBmcERpc3BsYXlbJyQkcHJvcF9kZWYnXSk6IFByb21pc2U8UmVjb3JkPHBfcmVzLCBIVE1MRWxlbWVudD4+IHtcblx0cmV0dXJuIG9mZShcblx0XHRhd2FpdCBQcm9taXNlLmFsbChcblx0XHRcdG9kZShoX3Jlc291cmNlcykubWFwKChbXywgZ19yZXNvdXJjZV0pID0+IG5ldyBQcm9taXNlKFxuXHRcdFx0XHQoZmtfcmVzb2x2ZTogKGFfZW50cnk6IFtwX3JlcywgSFRNTEVsZW1lbnRdKSA9PiB2b2lkKSA9PiB7XG5cdFx0XHRcdFx0Y29uc3QgZG1fZHVtbXkgPSBkZCgnc3BhbicpO1xuXHRcdFx0XHRcdGNvbnN0IHljX3BmcCA9IG5ldyBQZnBEaXNwbGF5KHtcblx0XHRcdFx0XHRcdHRhcmdldDogZG1fZHVtbXksXG5cdFx0XHRcdFx0XHRwcm9wczoge1xuXHRcdFx0XHRcdFx0XHQuLi5oX3Byb3BzLFxuXHRcdFx0XHRcdFx0XHRyZXNvdXJjZTogZ19yZXNvdXJjZSxcblx0XHRcdFx0XHRcdFx0c2V0dGxlKCkge1xuXHRcdFx0XHRcdFx0XHRcdGNvbnN0IGRtX3BmcCA9IGRtX2R1bW15LmZpcnN0Q2hpbGQ/LmNsb25lTm9kZSh0cnVlKSBhcyBIVE1MRWxlbWVudDtcblx0XHRcdFx0XHRcdFx0XHR5Y19wZnAuJGRlc3Ryb3koKTtcblx0XHRcdFx0XHRcdFx0XHRma19yZXNvbHZlKFtnX3Jlc291cmNlLnBmcCBhcyBwX3JlcywgZG1fcGZwXSk7XG5cdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cdFx0XHQpKVxuXHRcdCkpO1xufVxuIiwiLypcclxuICogICAgICBiaWdudW1iZXIuanMgdjkuMC4yXHJcbiAqICAgICAgQSBKYXZhU2NyaXB0IGxpYnJhcnkgZm9yIGFyYml0cmFyeS1wcmVjaXNpb24gYXJpdGhtZXRpYy5cclxuICogICAgICBodHRwczovL2dpdGh1Yi5jb20vTWlrZU1jbC9iaWdudW1iZXIuanNcclxuICogICAgICBDb3B5cmlnaHQgKGMpIDIwMjEgTWljaGFlbCBNY2xhdWdobGluIDxNOGNoODhsQGdtYWlsLmNvbT5cclxuICogICAgICBNSVQgTGljZW5zZWQuXHJcbiAqXHJcbiAqICAgICAgQmlnTnVtYmVyLnByb3RvdHlwZSBtZXRob2RzICAgICB8ICBCaWdOdW1iZXIgbWV0aG9kc1xyXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4gKiAgICAgIGFic29sdXRlVmFsdWUgICAgICAgICAgICBhYnMgICAgfCAgY2xvbmVcclxuICogICAgICBjb21wYXJlZFRvICAgICAgICAgICAgICAgICAgICAgIHwgIGNvbmZpZyAgICAgICAgICAgICAgIHNldFxyXG4gKiAgICAgIGRlY2ltYWxQbGFjZXMgICAgICAgICAgICBkcCAgICAgfCAgICAgIERFQ0lNQUxfUExBQ0VTXHJcbiAqICAgICAgZGl2aWRlZEJ5ICAgICAgICAgICAgICAgIGRpdiAgICB8ICAgICAgUk9VTkRJTkdfTU9ERVxyXG4gKiAgICAgIGRpdmlkZWRUb0ludGVnZXJCeSAgICAgICBpZGl2ICAgfCAgICAgIEVYUE9ORU5USUFMX0FUXHJcbiAqICAgICAgZXhwb25lbnRpYXRlZEJ5ICAgICAgICAgIHBvdyAgICB8ICAgICAgUkFOR0VcclxuICogICAgICBpbnRlZ2VyVmFsdWUgICAgICAgICAgICAgICAgICAgIHwgICAgICBDUllQVE9cclxuICogICAgICBpc0VxdWFsVG8gICAgICAgICAgICAgICAgZXEgICAgIHwgICAgICBNT0RVTE9fTU9ERVxyXG4gKiAgICAgIGlzRmluaXRlICAgICAgICAgICAgICAgICAgICAgICAgfCAgICAgIFBPV19QUkVDSVNJT05cclxuICogICAgICBpc0dyZWF0ZXJUaGFuICAgICAgICAgICAgZ3QgICAgIHwgICAgICBGT1JNQVRcclxuICogICAgICBpc0dyZWF0ZXJUaGFuT3JFcXVhbFRvICAgZ3RlICAgIHwgICAgICBBTFBIQUJFVFxyXG4gKiAgICAgIGlzSW50ZWdlciAgICAgICAgICAgICAgICAgICAgICAgfCAgaXNCaWdOdW1iZXJcclxuICogICAgICBpc0xlc3NUaGFuICAgICAgICAgICAgICAgbHQgICAgIHwgIG1heGltdW0gICAgICAgICAgICAgIG1heFxyXG4gKiAgICAgIGlzTGVzc1RoYW5PckVxdWFsVG8gICAgICBsdGUgICAgfCAgbWluaW11bSAgICAgICAgICAgICAgbWluXHJcbiAqICAgICAgaXNOYU4gICAgICAgICAgICAgICAgICAgICAgICAgICB8ICByYW5kb21cclxuICogICAgICBpc05lZ2F0aXZlICAgICAgICAgICAgICAgICAgICAgIHwgIHN1bVxyXG4gKiAgICAgIGlzUG9zaXRpdmUgICAgICAgICAgICAgICAgICAgICAgfFxyXG4gKiAgICAgIGlzWmVybyAgICAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4gKiAgICAgIG1pbnVzICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4gKiAgICAgIG1vZHVsbyAgICAgICAgICAgICAgICAgICBtb2QgICAgfFxyXG4gKiAgICAgIG11bHRpcGxpZWRCeSAgICAgICAgICAgICB0aW1lcyAgfFxyXG4gKiAgICAgIG5lZ2F0ZWQgICAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4gKiAgICAgIHBsdXMgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4gKiAgICAgIHByZWNpc2lvbiAgICAgICAgICAgICAgICBzZCAgICAgfFxyXG4gKiAgICAgIHNoaWZ0ZWRCeSAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4gKiAgICAgIHNxdWFyZVJvb3QgICAgICAgICAgICAgICBzcXJ0ICAgfFxyXG4gKiAgICAgIHRvRXhwb25lbnRpYWwgICAgICAgICAgICAgICAgICAgfFxyXG4gKiAgICAgIHRvRml4ZWQgICAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4gKiAgICAgIHRvRm9ybWF0ICAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4gKiAgICAgIHRvRnJhY3Rpb24gICAgICAgICAgICAgICAgICAgICAgfFxyXG4gKiAgICAgIHRvSlNPTiAgICAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4gKiAgICAgIHRvTnVtYmVyICAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4gKiAgICAgIHRvUHJlY2lzaW9uICAgICAgICAgICAgICAgICAgICAgfFxyXG4gKiAgICAgIHRvU3RyaW5nICAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4gKiAgICAgIHZhbHVlT2YgICAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4gKlxyXG4gKi9cclxuXHJcblxyXG52YXJcclxuICBpc051bWVyaWMgPSAvXi0/KD86XFxkKyg/OlxcLlxcZCopP3xcXC5cXGQrKSg/OmVbKy1dP1xcZCspPyQvaSxcclxuICBtYXRoY2VpbCA9IE1hdGguY2VpbCxcclxuICBtYXRoZmxvb3IgPSBNYXRoLmZsb29yLFxyXG5cclxuICBiaWdudW1iZXJFcnJvciA9ICdbQmlnTnVtYmVyIEVycm9yXSAnLFxyXG4gIHRvb01hbnlEaWdpdHMgPSBiaWdudW1iZXJFcnJvciArICdOdW1iZXIgcHJpbWl0aXZlIGhhcyBtb3JlIHRoYW4gMTUgc2lnbmlmaWNhbnQgZGlnaXRzOiAnLFxyXG5cclxuICBCQVNFID0gMWUxNCxcclxuICBMT0dfQkFTRSA9IDE0LFxyXG4gIE1BWF9TQUZFX0lOVEVHRVIgPSAweDFmZmZmZmZmZmZmZmZmLCAgICAgICAgIC8vIDJeNTMgLSAxXHJcbiAgLy8gTUFYX0lOVDMyID0gMHg3ZmZmZmZmZiwgICAgICAgICAgICAgICAgICAgLy8gMl4zMSAtIDFcclxuICBQT1dTX1RFTiA9IFsxLCAxMCwgMTAwLCAxZTMsIDFlNCwgMWU1LCAxZTYsIDFlNywgMWU4LCAxZTksIDFlMTAsIDFlMTEsIDFlMTIsIDFlMTNdLFxyXG4gIFNRUlRfQkFTRSA9IDFlNyxcclxuXHJcbiAgLy8gRURJVEFCTEVcclxuICAvLyBUaGUgbGltaXQgb24gdGhlIHZhbHVlIG9mIERFQ0lNQUxfUExBQ0VTLCBUT19FWFBfTkVHLCBUT19FWFBfUE9TLCBNSU5fRVhQLCBNQVhfRVhQLCBhbmRcclxuICAvLyB0aGUgYXJndW1lbnRzIHRvIHRvRXhwb25lbnRpYWwsIHRvRml4ZWQsIHRvRm9ybWF0LCBhbmQgdG9QcmVjaXNpb24uXHJcbiAgTUFYID0gMUU5OyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gMCB0byBNQVhfSU5UMzJcclxuXHJcblxyXG4vKlxyXG4gKiBDcmVhdGUgYW5kIHJldHVybiBhIEJpZ051bWJlciBjb25zdHJ1Y3Rvci5cclxuICovXHJcbmZ1bmN0aW9uIGNsb25lKGNvbmZpZ09iamVjdCkge1xyXG4gIHZhciBkaXYsIGNvbnZlcnRCYXNlLCBwYXJzZU51bWVyaWMsXHJcbiAgICBQID0gQmlnTnVtYmVyLnByb3RvdHlwZSA9IHsgY29uc3RydWN0b3I6IEJpZ051bWJlciwgdG9TdHJpbmc6IG51bGwsIHZhbHVlT2Y6IG51bGwgfSxcclxuICAgIE9ORSA9IG5ldyBCaWdOdW1iZXIoMSksXHJcblxyXG5cclxuICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gRURJVEFCTEUgQ09ORklHIERFRkFVTFRTIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcblxyXG4gICAgLy8gVGhlIGRlZmF1bHQgdmFsdWVzIGJlbG93IG11c3QgYmUgaW50ZWdlcnMgd2l0aGluIHRoZSBpbmNsdXNpdmUgcmFuZ2VzIHN0YXRlZC5cclxuICAgIC8vIFRoZSB2YWx1ZXMgY2FuIGFsc28gYmUgY2hhbmdlZCBhdCBydW4tdGltZSB1c2luZyBCaWdOdW1iZXIuc2V0LlxyXG5cclxuICAgIC8vIFRoZSBtYXhpbXVtIG51bWJlciBvZiBkZWNpbWFsIHBsYWNlcyBmb3Igb3BlcmF0aW9ucyBpbnZvbHZpbmcgZGl2aXNpb24uXHJcbiAgICBERUNJTUFMX1BMQUNFUyA9IDIwLCAgICAgICAgICAgICAgICAgICAgIC8vIDAgdG8gTUFYXHJcblxyXG4gICAgLy8gVGhlIHJvdW5kaW5nIG1vZGUgdXNlZCB3aGVuIHJvdW5kaW5nIHRvIHRoZSBhYm92ZSBkZWNpbWFsIHBsYWNlcywgYW5kIHdoZW4gdXNpbmdcclxuICAgIC8vIHRvRXhwb25lbnRpYWwsIHRvRml4ZWQsIHRvRm9ybWF0IGFuZCB0b1ByZWNpc2lvbiwgYW5kIHJvdW5kIChkZWZhdWx0IHZhbHVlKS5cclxuICAgIC8vIFVQICAgICAgICAgMCBBd2F5IGZyb20gemVyby5cclxuICAgIC8vIERPV04gICAgICAgMSBUb3dhcmRzIHplcm8uXHJcbiAgICAvLyBDRUlMICAgICAgIDIgVG93YXJkcyArSW5maW5pdHkuXHJcbiAgICAvLyBGTE9PUiAgICAgIDMgVG93YXJkcyAtSW5maW5pdHkuXHJcbiAgICAvLyBIQUxGX1VQICAgIDQgVG93YXJkcyBuZWFyZXN0IG5laWdoYm91ci4gSWYgZXF1aWRpc3RhbnQsIHVwLlxyXG4gICAgLy8gSEFMRl9ET1dOICA1IFRvd2FyZHMgbmVhcmVzdCBuZWlnaGJvdXIuIElmIGVxdWlkaXN0YW50LCBkb3duLlxyXG4gICAgLy8gSEFMRl9FVkVOICA2IFRvd2FyZHMgbmVhcmVzdCBuZWlnaGJvdXIuIElmIGVxdWlkaXN0YW50LCB0b3dhcmRzIGV2ZW4gbmVpZ2hib3VyLlxyXG4gICAgLy8gSEFMRl9DRUlMICA3IFRvd2FyZHMgbmVhcmVzdCBuZWlnaGJvdXIuIElmIGVxdWlkaXN0YW50LCB0b3dhcmRzICtJbmZpbml0eS5cclxuICAgIC8vIEhBTEZfRkxPT1IgOCBUb3dhcmRzIG5lYXJlc3QgbmVpZ2hib3VyLiBJZiBlcXVpZGlzdGFudCwgdG93YXJkcyAtSW5maW5pdHkuXHJcbiAgICBST1VORElOR19NT0RFID0gNCwgICAgICAgICAgICAgICAgICAgICAgIC8vIDAgdG8gOFxyXG5cclxuICAgIC8vIEVYUE9ORU5USUFMX0FUIDogW1RPX0VYUF9ORUcgLCBUT19FWFBfUE9TXVxyXG5cclxuICAgIC8vIFRoZSBleHBvbmVudCB2YWx1ZSBhdCBhbmQgYmVuZWF0aCB3aGljaCB0b1N0cmluZyByZXR1cm5zIGV4cG9uZW50aWFsIG5vdGF0aW9uLlxyXG4gICAgLy8gTnVtYmVyIHR5cGU6IC03XHJcbiAgICBUT19FWFBfTkVHID0gLTcsICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDAgdG8gLU1BWFxyXG5cclxuICAgIC8vIFRoZSBleHBvbmVudCB2YWx1ZSBhdCBhbmQgYWJvdmUgd2hpY2ggdG9TdHJpbmcgcmV0dXJucyBleHBvbmVudGlhbCBub3RhdGlvbi5cclxuICAgIC8vIE51bWJlciB0eXBlOiAyMVxyXG4gICAgVE9fRVhQX1BPUyA9IDIxLCAgICAgICAgICAgICAgICAgICAgICAgICAvLyAwIHRvIE1BWFxyXG5cclxuICAgIC8vIFJBTkdFIDogW01JTl9FWFAsIE1BWF9FWFBdXHJcblxyXG4gICAgLy8gVGhlIG1pbmltdW0gZXhwb25lbnQgdmFsdWUsIGJlbmVhdGggd2hpY2ggdW5kZXJmbG93IHRvIHplcm8gb2NjdXJzLlxyXG4gICAgLy8gTnVtYmVyIHR5cGU6IC0zMjQgICg1ZS0zMjQpXHJcbiAgICBNSU5fRVhQID0gLTFlNywgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIC0xIHRvIC1NQVhcclxuXHJcbiAgICAvLyBUaGUgbWF4aW11bSBleHBvbmVudCB2YWx1ZSwgYWJvdmUgd2hpY2ggb3ZlcmZsb3cgdG8gSW5maW5pdHkgb2NjdXJzLlxyXG4gICAgLy8gTnVtYmVyIHR5cGU6ICAzMDggICgxLjc5NzY5MzEzNDg2MjMxNTdlKzMwOClcclxuICAgIC8vIEZvciBNQVhfRVhQID4gMWU3LCBlLmcuIG5ldyBCaWdOdW1iZXIoJzFlMTAwMDAwMDAwJykucGx1cygxKSBtYXkgYmUgc2xvdy5cclxuICAgIE1BWF9FWFAgPSAxZTcsICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gMSB0byBNQVhcclxuXHJcbiAgICAvLyBXaGV0aGVyIHRvIHVzZSBjcnlwdG9ncmFwaGljYWxseS1zZWN1cmUgcmFuZG9tIG51bWJlciBnZW5lcmF0aW9uLCBpZiBhdmFpbGFibGUuXHJcbiAgICBDUllQVE8gPSBmYWxzZSwgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRydWUgb3IgZmFsc2VcclxuXHJcbiAgICAvLyBUaGUgbW9kdWxvIG1vZGUgdXNlZCB3aGVuIGNhbGN1bGF0aW5nIHRoZSBtb2R1bHVzOiBhIG1vZCBuLlxyXG4gICAgLy8gVGhlIHF1b3RpZW50IChxID0gYSAvIG4pIGlzIGNhbGN1bGF0ZWQgYWNjb3JkaW5nIHRvIHRoZSBjb3JyZXNwb25kaW5nIHJvdW5kaW5nIG1vZGUuXHJcbiAgICAvLyBUaGUgcmVtYWluZGVyIChyKSBpcyBjYWxjdWxhdGVkIGFzOiByID0gYSAtIG4gKiBxLlxyXG4gICAgLy9cclxuICAgIC8vIFVQICAgICAgICAwIFRoZSByZW1haW5kZXIgaXMgcG9zaXRpdmUgaWYgdGhlIGRpdmlkZW5kIGlzIG5lZ2F0aXZlLCBlbHNlIGlzIG5lZ2F0aXZlLlxyXG4gICAgLy8gRE9XTiAgICAgIDEgVGhlIHJlbWFpbmRlciBoYXMgdGhlIHNhbWUgc2lnbiBhcyB0aGUgZGl2aWRlbmQuXHJcbiAgICAvLyAgICAgICAgICAgICBUaGlzIG1vZHVsbyBtb2RlIGlzIGNvbW1vbmx5IGtub3duIGFzICd0cnVuY2F0ZWQgZGl2aXNpb24nIGFuZCBpc1xyXG4gICAgLy8gICAgICAgICAgICAgZXF1aXZhbGVudCB0byAoYSAlIG4pIGluIEphdmFTY3JpcHQuXHJcbiAgICAvLyBGTE9PUiAgICAgMyBUaGUgcmVtYWluZGVyIGhhcyB0aGUgc2FtZSBzaWduIGFzIHRoZSBkaXZpc29yIChQeXRob24gJSkuXHJcbiAgICAvLyBIQUxGX0VWRU4gNiBUaGlzIG1vZHVsbyBtb2RlIGltcGxlbWVudHMgdGhlIElFRUUgNzU0IHJlbWFpbmRlciBmdW5jdGlvbi5cclxuICAgIC8vIEVVQ0xJRCAgICA5IEV1Y2xpZGlhbiBkaXZpc2lvbi4gcSA9IHNpZ24obikgKiBmbG9vcihhIC8gYWJzKG4pKS5cclxuICAgIC8vICAgICAgICAgICAgIFRoZSByZW1haW5kZXIgaXMgYWx3YXlzIHBvc2l0aXZlLlxyXG4gICAgLy9cclxuICAgIC8vIFRoZSB0cnVuY2F0ZWQgZGl2aXNpb24sIGZsb29yZWQgZGl2aXNpb24sIEV1Y2xpZGlhbiBkaXZpc2lvbiBhbmQgSUVFRSA3NTQgcmVtYWluZGVyXHJcbiAgICAvLyBtb2RlcyBhcmUgY29tbW9ubHkgdXNlZCBmb3IgdGhlIG1vZHVsdXMgb3BlcmF0aW9uLlxyXG4gICAgLy8gQWx0aG91Z2ggdGhlIG90aGVyIHJvdW5kaW5nIG1vZGVzIGNhbiBhbHNvIGJlIHVzZWQsIHRoZXkgbWF5IG5vdCBnaXZlIHVzZWZ1bCByZXN1bHRzLlxyXG4gICAgTU9EVUxPX01PREUgPSAxLCAgICAgICAgICAgICAgICAgICAgICAgICAvLyAwIHRvIDlcclxuXHJcbiAgICAvLyBUaGUgbWF4aW11bSBudW1iZXIgb2Ygc2lnbmlmaWNhbnQgZGlnaXRzIG9mIHRoZSByZXN1bHQgb2YgdGhlIGV4cG9uZW50aWF0ZWRCeSBvcGVyYXRpb24uXHJcbiAgICAvLyBJZiBQT1dfUFJFQ0lTSU9OIGlzIDAsIHRoZXJlIHdpbGwgYmUgdW5saW1pdGVkIHNpZ25pZmljYW50IGRpZ2l0cy5cclxuICAgIFBPV19QUkVDSVNJT04gPSAwLCAgICAgICAgICAgICAgICAgICAgICAgLy8gMCB0byBNQVhcclxuXHJcbiAgICAvLyBUaGUgZm9ybWF0IHNwZWNpZmljYXRpb24gdXNlZCBieSB0aGUgQmlnTnVtYmVyLnByb3RvdHlwZS50b0Zvcm1hdCBtZXRob2QuXHJcbiAgICBGT1JNQVQgPSB7XHJcbiAgICAgIHByZWZpeDogJycsXHJcbiAgICAgIGdyb3VwU2l6ZTogMyxcclxuICAgICAgc2Vjb25kYXJ5R3JvdXBTaXplOiAwLFxyXG4gICAgICBncm91cFNlcGFyYXRvcjogJywnLFxyXG4gICAgICBkZWNpbWFsU2VwYXJhdG9yOiAnLicsXHJcbiAgICAgIGZyYWN0aW9uR3JvdXBTaXplOiAwLFxyXG4gICAgICBmcmFjdGlvbkdyb3VwU2VwYXJhdG9yOiAnXFx4QTAnLCAgICAgICAgLy8gbm9uLWJyZWFraW5nIHNwYWNlXHJcbiAgICAgIHN1ZmZpeDogJydcclxuICAgIH0sXHJcblxyXG4gICAgLy8gVGhlIGFscGhhYmV0IHVzZWQgZm9yIGJhc2UgY29udmVyc2lvbi4gSXQgbXVzdCBiZSBhdCBsZWFzdCAyIGNoYXJhY3RlcnMgbG9uZywgd2l0aCBubyAnKycsXHJcbiAgICAvLyAnLScsICcuJywgd2hpdGVzcGFjZSwgb3IgcmVwZWF0ZWQgY2hhcmFjdGVyLlxyXG4gICAgLy8gJzAxMjM0NTY3ODlhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ekFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaJF8nXHJcbiAgICBBTFBIQUJFVCA9ICcwMTIzNDU2Nzg5YWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXonLFxyXG4gICAgYWxwaGFiZXRIYXNOb3JtYWxEZWNpbWFsRGlnaXRzID0gdHJ1ZTtcclxuXHJcblxyXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG5cclxuICAvLyBDT05TVFJVQ1RPUlxyXG5cclxuXHJcbiAgLypcclxuICAgKiBUaGUgQmlnTnVtYmVyIGNvbnN0cnVjdG9yIGFuZCBleHBvcnRlZCBmdW5jdGlvbi5cclxuICAgKiBDcmVhdGUgYW5kIHJldHVybiBhIG5ldyBpbnN0YW5jZSBvZiBhIEJpZ051bWJlciBvYmplY3QuXHJcbiAgICpcclxuICAgKiB2IHtudW1iZXJ8c3RyaW5nfEJpZ051bWJlcn0gQSBudW1lcmljIHZhbHVlLlxyXG4gICAqIFtiXSB7bnVtYmVyfSBUaGUgYmFzZSBvZiB2LiBJbnRlZ2VyLCAyIHRvIEFMUEhBQkVULmxlbmd0aCBpbmNsdXNpdmUuXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gQmlnTnVtYmVyKHYsIGIpIHtcclxuICAgIHZhciBhbHBoYWJldCwgYywgY2FzZUNoYW5nZWQsIGUsIGksIGlzTnVtLCBsZW4sIHN0cixcclxuICAgICAgeCA9IHRoaXM7XHJcblxyXG4gICAgLy8gRW5hYmxlIGNvbnN0cnVjdG9yIGNhbGwgd2l0aG91dCBgbmV3YC5cclxuICAgIGlmICghKHggaW5zdGFuY2VvZiBCaWdOdW1iZXIpKSByZXR1cm4gbmV3IEJpZ051bWJlcih2LCBiKTtcclxuXHJcbiAgICBpZiAoYiA9PSBudWxsKSB7XHJcblxyXG4gICAgICBpZiAodiAmJiB2Ll9pc0JpZ051bWJlciA9PT0gdHJ1ZSkge1xyXG4gICAgICAgIHgucyA9IHYucztcclxuXHJcbiAgICAgICAgaWYgKCF2LmMgfHwgdi5lID4gTUFYX0VYUCkge1xyXG4gICAgICAgICAgeC5jID0geC5lID0gbnVsbDtcclxuICAgICAgICB9IGVsc2UgaWYgKHYuZSA8IE1JTl9FWFApIHtcclxuICAgICAgICAgIHguYyA9IFt4LmUgPSAwXTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgeC5lID0gdi5lO1xyXG4gICAgICAgICAgeC5jID0gdi5jLnNsaWNlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICgoaXNOdW0gPSB0eXBlb2YgdiA9PSAnbnVtYmVyJykgJiYgdiAqIDAgPT0gMCkge1xyXG5cclxuICAgICAgICAvLyBVc2UgYDEgLyBuYCB0byBoYW5kbGUgbWludXMgemVybyBhbHNvLlxyXG4gICAgICAgIHgucyA9IDEgLyB2IDwgMCA/ICh2ID0gLXYsIC0xKSA6IDE7XHJcblxyXG4gICAgICAgIC8vIEZhc3QgcGF0aCBmb3IgaW50ZWdlcnMsIHdoZXJlIG4gPCAyMTQ3NDgzNjQ4ICgyKiozMSkuXHJcbiAgICAgICAgaWYgKHYgPT09IH5+dikge1xyXG4gICAgICAgICAgZm9yIChlID0gMCwgaSA9IHY7IGkgPj0gMTA7IGkgLz0gMTAsIGUrKyk7XHJcblxyXG4gICAgICAgICAgaWYgKGUgPiBNQVhfRVhQKSB7XHJcbiAgICAgICAgICAgIHguYyA9IHguZSA9IG51bGw7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB4LmUgPSBlO1xyXG4gICAgICAgICAgICB4LmMgPSBbdl07XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc3RyID0gU3RyaW5nKHYpO1xyXG4gICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICBpZiAoIWlzTnVtZXJpYy50ZXN0KHN0ciA9IFN0cmluZyh2KSkpIHJldHVybiBwYXJzZU51bWVyaWMoeCwgc3RyLCBpc051bSk7XHJcblxyXG4gICAgICAgIHgucyA9IHN0ci5jaGFyQ29kZUF0KDApID09IDQ1ID8gKHN0ciA9IHN0ci5zbGljZSgxKSwgLTEpIDogMTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gRGVjaW1hbCBwb2ludD9cclxuICAgICAgaWYgKChlID0gc3RyLmluZGV4T2YoJy4nKSkgPiAtMSkgc3RyID0gc3RyLnJlcGxhY2UoJy4nLCAnJyk7XHJcblxyXG4gICAgICAvLyBFeHBvbmVudGlhbCBmb3JtP1xyXG4gICAgICBpZiAoKGkgPSBzdHIuc2VhcmNoKC9lL2kpKSA+IDApIHtcclxuXHJcbiAgICAgICAgLy8gRGV0ZXJtaW5lIGV4cG9uZW50LlxyXG4gICAgICAgIGlmIChlIDwgMCkgZSA9IGk7XHJcbiAgICAgICAgZSArPSArc3RyLnNsaWNlKGkgKyAxKTtcclxuICAgICAgICBzdHIgPSBzdHIuc3Vic3RyaW5nKDAsIGkpO1xyXG4gICAgICB9IGVsc2UgaWYgKGUgPCAwKSB7XHJcblxyXG4gICAgICAgIC8vIEludGVnZXIuXHJcbiAgICAgICAgZSA9IHN0ci5sZW5ndGg7XHJcbiAgICAgIH1cclxuXHJcbiAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgLy8gJ1tCaWdOdW1iZXIgRXJyb3JdIEJhc2Uge25vdCBhIHByaW1pdGl2ZSBudW1iZXJ8bm90IGFuIGludGVnZXJ8b3V0IG9mIHJhbmdlfToge2J9J1xyXG4gICAgICBpbnRDaGVjayhiLCAyLCBBTFBIQUJFVC5sZW5ndGgsICdCYXNlJyk7XHJcblxyXG4gICAgICAvLyBBbGxvdyBleHBvbmVudGlhbCBub3RhdGlvbiB0byBiZSB1c2VkIHdpdGggYmFzZSAxMCBhcmd1bWVudCwgd2hpbGVcclxuICAgICAgLy8gYWxzbyByb3VuZGluZyB0byBERUNJTUFMX1BMQUNFUyBhcyB3aXRoIG90aGVyIGJhc2VzLlxyXG4gICAgICBpZiAoYiA9PSAxMCAmJiBhbHBoYWJldEhhc05vcm1hbERlY2ltYWxEaWdpdHMpIHtcclxuICAgICAgICB4ID0gbmV3IEJpZ051bWJlcih2KTtcclxuICAgICAgICByZXR1cm4gcm91bmQoeCwgREVDSU1BTF9QTEFDRVMgKyB4LmUgKyAxLCBST1VORElOR19NT0RFKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgc3RyID0gU3RyaW5nKHYpO1xyXG5cclxuICAgICAgaWYgKGlzTnVtID0gdHlwZW9mIHYgPT0gJ251bWJlcicpIHtcclxuXHJcbiAgICAgICAgLy8gQXZvaWQgcG90ZW50aWFsIGludGVycHJldGF0aW9uIG9mIEluZmluaXR5IGFuZCBOYU4gYXMgYmFzZSA0NCsgdmFsdWVzLlxyXG4gICAgICAgIGlmICh2ICogMCAhPSAwKSByZXR1cm4gcGFyc2VOdW1lcmljKHgsIHN0ciwgaXNOdW0sIGIpO1xyXG5cclxuICAgICAgICB4LnMgPSAxIC8gdiA8IDAgPyAoc3RyID0gc3RyLnNsaWNlKDEpLCAtMSkgOiAxO1xyXG5cclxuICAgICAgICAvLyAnW0JpZ051bWJlciBFcnJvcl0gTnVtYmVyIHByaW1pdGl2ZSBoYXMgbW9yZSB0aGFuIDE1IHNpZ25pZmljYW50IGRpZ2l0czoge259J1xyXG4gICAgICAgIGlmIChCaWdOdW1iZXIuREVCVUcgJiYgc3RyLnJlcGxhY2UoL14wXFwuMCp8XFwuLywgJycpLmxlbmd0aCA+IDE1KSB7XHJcbiAgICAgICAgICB0aHJvdyBFcnJvclxyXG4gICAgICAgICAgICh0b29NYW55RGlnaXRzICsgdik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHgucyA9IHN0ci5jaGFyQ29kZUF0KDApID09PSA0NSA/IChzdHIgPSBzdHIuc2xpY2UoMSksIC0xKSA6IDE7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGFscGhhYmV0ID0gQUxQSEFCRVQuc2xpY2UoMCwgYik7XHJcbiAgICAgIGUgPSBpID0gMDtcclxuXHJcbiAgICAgIC8vIENoZWNrIHRoYXQgc3RyIGlzIGEgdmFsaWQgYmFzZSBiIG51bWJlci5cclxuICAgICAgLy8gRG9uJ3QgdXNlIFJlZ0V4cCwgc28gYWxwaGFiZXQgY2FuIGNvbnRhaW4gc3BlY2lhbCBjaGFyYWN0ZXJzLlxyXG4gICAgICBmb3IgKGxlbiA9IHN0ci5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgIGlmIChhbHBoYWJldC5pbmRleE9mKGMgPSBzdHIuY2hhckF0KGkpKSA8IDApIHtcclxuICAgICAgICAgIGlmIChjID09ICcuJykge1xyXG5cclxuICAgICAgICAgICAgLy8gSWYgJy4nIGlzIG5vdCB0aGUgZmlyc3QgY2hhcmFjdGVyIGFuZCBpdCBoYXMgbm90IGJlIGZvdW5kIGJlZm9yZS5cclxuICAgICAgICAgICAgaWYgKGkgPiBlKSB7XHJcbiAgICAgICAgICAgICAgZSA9IGxlbjtcclxuICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSBlbHNlIGlmICghY2FzZUNoYW5nZWQpIHtcclxuXHJcbiAgICAgICAgICAgIC8vIEFsbG93IGUuZy4gaGV4YWRlY2ltYWwgJ0ZGJyBhcyB3ZWxsIGFzICdmZicuXHJcbiAgICAgICAgICAgIGlmIChzdHIgPT0gc3RyLnRvVXBwZXJDYXNlKCkgJiYgKHN0ciA9IHN0ci50b0xvd2VyQ2FzZSgpKSB8fFxyXG4gICAgICAgICAgICAgICAgc3RyID09IHN0ci50b0xvd2VyQ2FzZSgpICYmIChzdHIgPSBzdHIudG9VcHBlckNhc2UoKSkpIHtcclxuICAgICAgICAgICAgICBjYXNlQ2hhbmdlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgaSA9IC0xO1xyXG4gICAgICAgICAgICAgIGUgPSAwO1xyXG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgcmV0dXJuIHBhcnNlTnVtZXJpYyh4LCBTdHJpbmcodiksIGlzTnVtLCBiKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFByZXZlbnQgbGF0ZXIgY2hlY2sgZm9yIGxlbmd0aCBvbiBjb252ZXJ0ZWQgbnVtYmVyLlxyXG4gICAgICBpc051bSA9IGZhbHNlO1xyXG4gICAgICBzdHIgPSBjb252ZXJ0QmFzZShzdHIsIGIsIDEwLCB4LnMpO1xyXG5cclxuICAgICAgLy8gRGVjaW1hbCBwb2ludD9cclxuICAgICAgaWYgKChlID0gc3RyLmluZGV4T2YoJy4nKSkgPiAtMSkgc3RyID0gc3RyLnJlcGxhY2UoJy4nLCAnJyk7XHJcbiAgICAgIGVsc2UgZSA9IHN0ci5sZW5ndGg7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRGV0ZXJtaW5lIGxlYWRpbmcgemVyb3MuXHJcbiAgICBmb3IgKGkgPSAwOyBzdHIuY2hhckNvZGVBdChpKSA9PT0gNDg7IGkrKyk7XHJcblxyXG4gICAgLy8gRGV0ZXJtaW5lIHRyYWlsaW5nIHplcm9zLlxyXG4gICAgZm9yIChsZW4gPSBzdHIubGVuZ3RoOyBzdHIuY2hhckNvZGVBdCgtLWxlbikgPT09IDQ4Oyk7XHJcblxyXG4gICAgaWYgKHN0ciA9IHN0ci5zbGljZShpLCArK2xlbikpIHtcclxuICAgICAgbGVuIC09IGk7XHJcblxyXG4gICAgICAvLyAnW0JpZ051bWJlciBFcnJvcl0gTnVtYmVyIHByaW1pdGl2ZSBoYXMgbW9yZSB0aGFuIDE1IHNpZ25pZmljYW50IGRpZ2l0czoge259J1xyXG4gICAgICBpZiAoaXNOdW0gJiYgQmlnTnVtYmVyLkRFQlVHICYmXHJcbiAgICAgICAgbGVuID4gMTUgJiYgKHYgPiBNQVhfU0FGRV9JTlRFR0VSIHx8IHYgIT09IG1hdGhmbG9vcih2KSkpIHtcclxuICAgICAgICAgIHRocm93IEVycm9yXHJcbiAgICAgICAgICAgKHRvb01hbnlEaWdpdHMgKyAoeC5zICogdikpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAgLy8gT3ZlcmZsb3c/XHJcbiAgICAgIGlmICgoZSA9IGUgLSBpIC0gMSkgPiBNQVhfRVhQKSB7XHJcblxyXG4gICAgICAgIC8vIEluZmluaXR5LlxyXG4gICAgICAgIHguYyA9IHguZSA9IG51bGw7XHJcblxyXG4gICAgICAvLyBVbmRlcmZsb3c/XHJcbiAgICAgIH0gZWxzZSBpZiAoZSA8IE1JTl9FWFApIHtcclxuXHJcbiAgICAgICAgLy8gWmVyby5cclxuICAgICAgICB4LmMgPSBbeC5lID0gMF07XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgeC5lID0gZTtcclxuICAgICAgICB4LmMgPSBbXTtcclxuXHJcbiAgICAgICAgLy8gVHJhbnNmb3JtIGJhc2VcclxuXHJcbiAgICAgICAgLy8gZSBpcyB0aGUgYmFzZSAxMCBleHBvbmVudC5cclxuICAgICAgICAvLyBpIGlzIHdoZXJlIHRvIHNsaWNlIHN0ciB0byBnZXQgdGhlIGZpcnN0IGVsZW1lbnQgb2YgdGhlIGNvZWZmaWNpZW50IGFycmF5LlxyXG4gICAgICAgIGkgPSAoZSArIDEpICUgTE9HX0JBU0U7XHJcbiAgICAgICAgaWYgKGUgPCAwKSBpICs9IExPR19CQVNFOyAgLy8gaSA8IDFcclxuXHJcbiAgICAgICAgaWYgKGkgPCBsZW4pIHtcclxuICAgICAgICAgIGlmIChpKSB4LmMucHVzaCgrc3RyLnNsaWNlKDAsIGkpKTtcclxuXHJcbiAgICAgICAgICBmb3IgKGxlbiAtPSBMT0dfQkFTRTsgaSA8IGxlbjspIHtcclxuICAgICAgICAgICAgeC5jLnB1c2goK3N0ci5zbGljZShpLCBpICs9IExPR19CQVNFKSk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgaSA9IExPR19CQVNFIC0gKHN0ciA9IHN0ci5zbGljZShpKSkubGVuZ3RoO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBpIC09IGxlbjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZvciAoOyBpLS07IHN0ciArPSAnMCcpO1xyXG4gICAgICAgIHguYy5wdXNoKCtzdHIpO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgLy8gWmVyby5cclxuICAgICAgeC5jID0gW3guZSA9IDBdO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcblxyXG4gIC8vIENPTlNUUlVDVE9SIFBST1BFUlRJRVNcclxuXHJcblxyXG4gIEJpZ051bWJlci5jbG9uZSA9IGNsb25lO1xyXG5cclxuICBCaWdOdW1iZXIuUk9VTkRfVVAgPSAwO1xyXG4gIEJpZ051bWJlci5ST1VORF9ET1dOID0gMTtcclxuICBCaWdOdW1iZXIuUk9VTkRfQ0VJTCA9IDI7XHJcbiAgQmlnTnVtYmVyLlJPVU5EX0ZMT09SID0gMztcclxuICBCaWdOdW1iZXIuUk9VTkRfSEFMRl9VUCA9IDQ7XHJcbiAgQmlnTnVtYmVyLlJPVU5EX0hBTEZfRE9XTiA9IDU7XHJcbiAgQmlnTnVtYmVyLlJPVU5EX0hBTEZfRVZFTiA9IDY7XHJcbiAgQmlnTnVtYmVyLlJPVU5EX0hBTEZfQ0VJTCA9IDc7XHJcbiAgQmlnTnVtYmVyLlJPVU5EX0hBTEZfRkxPT1IgPSA4O1xyXG4gIEJpZ051bWJlci5FVUNMSUQgPSA5O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBDb25maWd1cmUgaW5mcmVxdWVudGx5LWNoYW5naW5nIGxpYnJhcnktd2lkZSBzZXR0aW5ncy5cclxuICAgKlxyXG4gICAqIEFjY2VwdCBhbiBvYmplY3Qgd2l0aCB0aGUgZm9sbG93aW5nIG9wdGlvbmFsIHByb3BlcnRpZXMgKGlmIHRoZSB2YWx1ZSBvZiBhIHByb3BlcnR5IGlzXHJcbiAgICogYSBudW1iZXIsIGl0IG11c3QgYmUgYW4gaW50ZWdlciB3aXRoaW4gdGhlIGluY2x1c2l2ZSByYW5nZSBzdGF0ZWQpOlxyXG4gICAqXHJcbiAgICogICBERUNJTUFMX1BMQUNFUyAgIHtudW1iZXJ9ICAgICAgICAgICAwIHRvIE1BWFxyXG4gICAqICAgUk9VTkRJTkdfTU9ERSAgICB7bnVtYmVyfSAgICAgICAgICAgMCB0byA4XHJcbiAgICogICBFWFBPTkVOVElBTF9BVCAgIHtudW1iZXJ8bnVtYmVyW119ICAtTUFYIHRvIE1BWCAgb3IgIFstTUFYIHRvIDAsIDAgdG8gTUFYXVxyXG4gICAqICAgUkFOR0UgICAgICAgICAgICB7bnVtYmVyfG51bWJlcltdfSAgLU1BWCB0byBNQVggKG5vdCB6ZXJvKSAgb3IgIFstTUFYIHRvIC0xLCAxIHRvIE1BWF1cclxuICAgKiAgIENSWVBUTyAgICAgICAgICAge2Jvb2xlYW59ICAgICAgICAgIHRydWUgb3IgZmFsc2VcclxuICAgKiAgIE1PRFVMT19NT0RFICAgICAge251bWJlcn0gICAgICAgICAgIDAgdG8gOVxyXG4gICAqICAgUE9XX1BSRUNJU0lPTiAgICAgICB7bnVtYmVyfSAgICAgICAgICAgMCB0byBNQVhcclxuICAgKiAgIEFMUEhBQkVUICAgICAgICAge3N0cmluZ30gICAgICAgICAgIEEgc3RyaW5nIG9mIHR3byBvciBtb3JlIHVuaXF1ZSBjaGFyYWN0ZXJzIHdoaWNoIGRvZXNcclxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdCBjb250YWluICcuJy5cclxuICAgKiAgIEZPUk1BVCAgICAgICAgICAge29iamVjdH0gICAgICAgICAgIEFuIG9iamVjdCB3aXRoIHNvbWUgb2YgdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxyXG4gICAqICAgICBwcmVmaXggICAgICAgICAgICAgICAgIHtzdHJpbmd9XHJcbiAgICogICAgIGdyb3VwU2l6ZSAgICAgICAgICAgICAge251bWJlcn1cclxuICAgKiAgICAgc2Vjb25kYXJ5R3JvdXBTaXplICAgICB7bnVtYmVyfVxyXG4gICAqICAgICBncm91cFNlcGFyYXRvciAgICAgICAgIHtzdHJpbmd9XHJcbiAgICogICAgIGRlY2ltYWxTZXBhcmF0b3IgICAgICAge3N0cmluZ31cclxuICAgKiAgICAgZnJhY3Rpb25Hcm91cFNpemUgICAgICB7bnVtYmVyfVxyXG4gICAqICAgICBmcmFjdGlvbkdyb3VwU2VwYXJhdG9yIHtzdHJpbmd9XHJcbiAgICogICAgIHN1ZmZpeCAgICAgICAgICAgICAgICAge3N0cmluZ31cclxuICAgKlxyXG4gICAqIChUaGUgdmFsdWVzIGFzc2lnbmVkIHRvIHRoZSBhYm92ZSBGT1JNQVQgb2JqZWN0IHByb3BlcnRpZXMgYXJlIG5vdCBjaGVja2VkIGZvciB2YWxpZGl0eS4pXHJcbiAgICpcclxuICAgKiBFLmcuXHJcbiAgICogQmlnTnVtYmVyLmNvbmZpZyh7IERFQ0lNQUxfUExBQ0VTIDogMjAsIFJPVU5ESU5HX01PREUgOiA0IH0pXHJcbiAgICpcclxuICAgKiBJZ25vcmUgcHJvcGVydGllcy9wYXJhbWV0ZXJzIHNldCB0byBudWxsIG9yIHVuZGVmaW5lZCwgZXhjZXB0IGZvciBBTFBIQUJFVC5cclxuICAgKlxyXG4gICAqIFJldHVybiBhbiBvYmplY3Qgd2l0aCB0aGUgcHJvcGVydGllcyBjdXJyZW50IHZhbHVlcy5cclxuICAgKi9cclxuICBCaWdOdW1iZXIuY29uZmlnID0gQmlnTnVtYmVyLnNldCA9IGZ1bmN0aW9uIChvYmopIHtcclxuICAgIHZhciBwLCB2O1xyXG5cclxuICAgIGlmIChvYmogIT0gbnVsbCkge1xyXG5cclxuICAgICAgaWYgKHR5cGVvZiBvYmogPT0gJ29iamVjdCcpIHtcclxuXHJcbiAgICAgICAgLy8gREVDSU1BTF9QTEFDRVMge251bWJlcn0gSW50ZWdlciwgMCB0byBNQVggaW5jbHVzaXZlLlxyXG4gICAgICAgIC8vICdbQmlnTnVtYmVyIEVycm9yXSBERUNJTUFMX1BMQUNFUyB7bm90IGEgcHJpbWl0aXZlIG51bWJlcnxub3QgYW4gaW50ZWdlcnxvdXQgb2YgcmFuZ2V9OiB7dn0nXHJcbiAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShwID0gJ0RFQ0lNQUxfUExBQ0VTJykpIHtcclxuICAgICAgICAgIHYgPSBvYmpbcF07XHJcbiAgICAgICAgICBpbnRDaGVjayh2LCAwLCBNQVgsIHApO1xyXG4gICAgICAgICAgREVDSU1BTF9QTEFDRVMgPSB2O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUk9VTkRJTkdfTU9ERSB7bnVtYmVyfSBJbnRlZ2VyLCAwIHRvIDggaW5jbHVzaXZlLlxyXG4gICAgICAgIC8vICdbQmlnTnVtYmVyIEVycm9yXSBST1VORElOR19NT0RFIHtub3QgYSBwcmltaXRpdmUgbnVtYmVyfG5vdCBhbiBpbnRlZ2VyfG91dCBvZiByYW5nZX06IHt2fSdcclxuICAgICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KHAgPSAnUk9VTkRJTkdfTU9ERScpKSB7XHJcbiAgICAgICAgICB2ID0gb2JqW3BdO1xyXG4gICAgICAgICAgaW50Q2hlY2sodiwgMCwgOCwgcCk7XHJcbiAgICAgICAgICBST1VORElOR19NT0RFID0gdjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEVYUE9ORU5USUFMX0FUIHtudW1iZXJ8bnVtYmVyW119XHJcbiAgICAgICAgLy8gSW50ZWdlciwgLU1BWCB0byBNQVggaW5jbHVzaXZlIG9yXHJcbiAgICAgICAgLy8gW2ludGVnZXIgLU1BWCB0byAwIGluY2x1c2l2ZSwgMCB0byBNQVggaW5jbHVzaXZlXS5cclxuICAgICAgICAvLyAnW0JpZ051bWJlciBFcnJvcl0gRVhQT05FTlRJQUxfQVQge25vdCBhIHByaW1pdGl2ZSBudW1iZXJ8bm90IGFuIGludGVnZXJ8b3V0IG9mIHJhbmdlfToge3Z9J1xyXG4gICAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkocCA9ICdFWFBPTkVOVElBTF9BVCcpKSB7XHJcbiAgICAgICAgICB2ID0gb2JqW3BdO1xyXG4gICAgICAgICAgaWYgKHYgJiYgdi5wb3ApIHtcclxuICAgICAgICAgICAgaW50Q2hlY2sodlswXSwgLU1BWCwgMCwgcCk7XHJcbiAgICAgICAgICAgIGludENoZWNrKHZbMV0sIDAsIE1BWCwgcCk7XHJcbiAgICAgICAgICAgIFRPX0VYUF9ORUcgPSB2WzBdO1xyXG4gICAgICAgICAgICBUT19FWFBfUE9TID0gdlsxXTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGludENoZWNrKHYsIC1NQVgsIE1BWCwgcCk7XHJcbiAgICAgICAgICAgIFRPX0VYUF9ORUcgPSAtKFRPX0VYUF9QT1MgPSB2IDwgMCA/IC12IDogdik7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBSQU5HRSB7bnVtYmVyfG51bWJlcltdfSBOb24temVybyBpbnRlZ2VyLCAtTUFYIHRvIE1BWCBpbmNsdXNpdmUgb3JcclxuICAgICAgICAvLyBbaW50ZWdlciAtTUFYIHRvIC0xIGluY2x1c2l2ZSwgaW50ZWdlciAxIHRvIE1BWCBpbmNsdXNpdmVdLlxyXG4gICAgICAgIC8vICdbQmlnTnVtYmVyIEVycm9yXSBSQU5HRSB7bm90IGEgcHJpbWl0aXZlIG51bWJlcnxub3QgYW4gaW50ZWdlcnxvdXQgb2YgcmFuZ2V8Y2Fubm90IGJlIHplcm99OiB7dn0nXHJcbiAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShwID0gJ1JBTkdFJykpIHtcclxuICAgICAgICAgIHYgPSBvYmpbcF07XHJcbiAgICAgICAgICBpZiAodiAmJiB2LnBvcCkge1xyXG4gICAgICAgICAgICBpbnRDaGVjayh2WzBdLCAtTUFYLCAtMSwgcCk7XHJcbiAgICAgICAgICAgIGludENoZWNrKHZbMV0sIDEsIE1BWCwgcCk7XHJcbiAgICAgICAgICAgIE1JTl9FWFAgPSB2WzBdO1xyXG4gICAgICAgICAgICBNQVhfRVhQID0gdlsxXTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGludENoZWNrKHYsIC1NQVgsIE1BWCwgcCk7XHJcbiAgICAgICAgICAgIGlmICh2KSB7XHJcbiAgICAgICAgICAgICAgTUlOX0VYUCA9IC0oTUFYX0VYUCA9IHYgPCAwID8gLXYgOiB2KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICB0aHJvdyBFcnJvclxyXG4gICAgICAgICAgICAgICAoYmlnbnVtYmVyRXJyb3IgKyBwICsgJyBjYW5ub3QgYmUgemVybzogJyArIHYpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDUllQVE8ge2Jvb2xlYW59IHRydWUgb3IgZmFsc2UuXHJcbiAgICAgICAgLy8gJ1tCaWdOdW1iZXIgRXJyb3JdIENSWVBUTyBub3QgdHJ1ZSBvciBmYWxzZToge3Z9J1xyXG4gICAgICAgIC8vICdbQmlnTnVtYmVyIEVycm9yXSBjcnlwdG8gdW5hdmFpbGFibGUnXHJcbiAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShwID0gJ0NSWVBUTycpKSB7XHJcbiAgICAgICAgICB2ID0gb2JqW3BdO1xyXG4gICAgICAgICAgaWYgKHYgPT09ICEhdikge1xyXG4gICAgICAgICAgICBpZiAodikge1xyXG4gICAgICAgICAgICAgIGlmICh0eXBlb2YgY3J5cHRvICE9ICd1bmRlZmluZWQnICYmIGNyeXB0byAmJlxyXG4gICAgICAgICAgICAgICAoY3J5cHRvLmdldFJhbmRvbVZhbHVlcyB8fCBjcnlwdG8ucmFuZG9tQnl0ZXMpKSB7XHJcbiAgICAgICAgICAgICAgICBDUllQVE8gPSB2O1xyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBDUllQVE8gPSAhdjtcclxuICAgICAgICAgICAgICAgIHRocm93IEVycm9yXHJcbiAgICAgICAgICAgICAgICAgKGJpZ251bWJlckVycm9yICsgJ2NyeXB0byB1bmF2YWlsYWJsZScpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBDUllQVE8gPSB2O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aHJvdyBFcnJvclxyXG4gICAgICAgICAgICAgKGJpZ251bWJlckVycm9yICsgcCArICcgbm90IHRydWUgb3IgZmFsc2U6ICcgKyB2KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIE1PRFVMT19NT0RFIHtudW1iZXJ9IEludGVnZXIsIDAgdG8gOSBpbmNsdXNpdmUuXHJcbiAgICAgICAgLy8gJ1tCaWdOdW1iZXIgRXJyb3JdIE1PRFVMT19NT0RFIHtub3QgYSBwcmltaXRpdmUgbnVtYmVyfG5vdCBhbiBpbnRlZ2VyfG91dCBvZiByYW5nZX06IHt2fSdcclxuICAgICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KHAgPSAnTU9EVUxPX01PREUnKSkge1xyXG4gICAgICAgICAgdiA9IG9ialtwXTtcclxuICAgICAgICAgIGludENoZWNrKHYsIDAsIDksIHApO1xyXG4gICAgICAgICAgTU9EVUxPX01PREUgPSB2O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUE9XX1BSRUNJU0lPTiB7bnVtYmVyfSBJbnRlZ2VyLCAwIHRvIE1BWCBpbmNsdXNpdmUuXHJcbiAgICAgICAgLy8gJ1tCaWdOdW1iZXIgRXJyb3JdIFBPV19QUkVDSVNJT04ge25vdCBhIHByaW1pdGl2ZSBudW1iZXJ8bm90IGFuIGludGVnZXJ8b3V0IG9mIHJhbmdlfToge3Z9J1xyXG4gICAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkocCA9ICdQT1dfUFJFQ0lTSU9OJykpIHtcclxuICAgICAgICAgIHYgPSBvYmpbcF07XHJcbiAgICAgICAgICBpbnRDaGVjayh2LCAwLCBNQVgsIHApO1xyXG4gICAgICAgICAgUE9XX1BSRUNJU0lPTiA9IHY7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBGT1JNQVQge29iamVjdH1cclxuICAgICAgICAvLyAnW0JpZ051bWJlciBFcnJvcl0gRk9STUFUIG5vdCBhbiBvYmplY3Q6IHt2fSdcclxuICAgICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KHAgPSAnRk9STUFUJykpIHtcclxuICAgICAgICAgIHYgPSBvYmpbcF07XHJcbiAgICAgICAgICBpZiAodHlwZW9mIHYgPT0gJ29iamVjdCcpIEZPUk1BVCA9IHY7XHJcbiAgICAgICAgICBlbHNlIHRocm93IEVycm9yXHJcbiAgICAgICAgICAgKGJpZ251bWJlckVycm9yICsgcCArICcgbm90IGFuIG9iamVjdDogJyArIHYpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQUxQSEFCRVQge3N0cmluZ31cclxuICAgICAgICAvLyAnW0JpZ051bWJlciBFcnJvcl0gQUxQSEFCRVQgaW52YWxpZDoge3Z9J1xyXG4gICAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkocCA9ICdBTFBIQUJFVCcpKSB7XHJcbiAgICAgICAgICB2ID0gb2JqW3BdO1xyXG5cclxuICAgICAgICAgIC8vIERpc2FsbG93IGlmIGxlc3MgdGhhbiB0d28gY2hhcmFjdGVycyxcclxuICAgICAgICAgIC8vIG9yIGlmIGl0IGNvbnRhaW5zICcrJywgJy0nLCAnLicsIHdoaXRlc3BhY2UsIG9yIGEgcmVwZWF0ZWQgY2hhcmFjdGVyLlxyXG4gICAgICAgICAgaWYgKHR5cGVvZiB2ID09ICdzdHJpbmcnICYmICEvXi4/JHxbK1xcLS5cXHNdfCguKS4qXFwxLy50ZXN0KHYpKSB7XHJcbiAgICAgICAgICAgIGFscGhhYmV0SGFzTm9ybWFsRGVjaW1hbERpZ2l0cyA9IHYuc2xpY2UoMCwgMTApID09ICcwMTIzNDU2Nzg5JztcclxuICAgICAgICAgICAgQUxQSEFCRVQgPSB2O1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhyb3cgRXJyb3JcclxuICAgICAgICAgICAgIChiaWdudW1iZXJFcnJvciArIHAgKyAnIGludmFsaWQ6ICcgKyB2KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAvLyAnW0JpZ051bWJlciBFcnJvcl0gT2JqZWN0IGV4cGVjdGVkOiB7dn0nXHJcbiAgICAgICAgdGhyb3cgRXJyb3JcclxuICAgICAgICAgKGJpZ251bWJlckVycm9yICsgJ09iamVjdCBleHBlY3RlZDogJyArIG9iaik7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBERUNJTUFMX1BMQUNFUzogREVDSU1BTF9QTEFDRVMsXHJcbiAgICAgIFJPVU5ESU5HX01PREU6IFJPVU5ESU5HX01PREUsXHJcbiAgICAgIEVYUE9ORU5USUFMX0FUOiBbVE9fRVhQX05FRywgVE9fRVhQX1BPU10sXHJcbiAgICAgIFJBTkdFOiBbTUlOX0VYUCwgTUFYX0VYUF0sXHJcbiAgICAgIENSWVBUTzogQ1JZUFRPLFxyXG4gICAgICBNT0RVTE9fTU9ERTogTU9EVUxPX01PREUsXHJcbiAgICAgIFBPV19QUkVDSVNJT046IFBPV19QUkVDSVNJT04sXHJcbiAgICAgIEZPUk1BVDogRk9STUFULFxyXG4gICAgICBBTFBIQUJFVDogQUxQSEFCRVRcclxuICAgIH07XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIHRydWUgaWYgdiBpcyBhIEJpZ051bWJlciBpbnN0YW5jZSwgb3RoZXJ3aXNlIHJldHVybiBmYWxzZS5cclxuICAgKlxyXG4gICAqIElmIEJpZ051bWJlci5ERUJVRyBpcyB0cnVlLCB0aHJvdyBpZiBhIEJpZ051bWJlciBpbnN0YW5jZSBpcyBub3Qgd2VsbC1mb3JtZWQuXHJcbiAgICpcclxuICAgKiB2IHthbnl9XHJcbiAgICpcclxuICAgKiAnW0JpZ051bWJlciBFcnJvcl0gSW52YWxpZCBCaWdOdW1iZXI6IHt2fSdcclxuICAgKi9cclxuICBCaWdOdW1iZXIuaXNCaWdOdW1iZXIgPSBmdW5jdGlvbiAodikge1xyXG4gICAgaWYgKCF2IHx8IHYuX2lzQmlnTnVtYmVyICE9PSB0cnVlKSByZXR1cm4gZmFsc2U7XHJcbiAgICBpZiAoIUJpZ051bWJlci5ERUJVRykgcmV0dXJuIHRydWU7XHJcblxyXG4gICAgdmFyIGksIG4sXHJcbiAgICAgIGMgPSB2LmMsXHJcbiAgICAgIGUgPSB2LmUsXHJcbiAgICAgIHMgPSB2LnM7XHJcblxyXG4gICAgb3V0OiBpZiAoe30udG9TdHJpbmcuY2FsbChjKSA9PSAnW29iamVjdCBBcnJheV0nKSB7XHJcblxyXG4gICAgICBpZiAoKHMgPT09IDEgfHwgcyA9PT0gLTEpICYmIGUgPj0gLU1BWCAmJiBlIDw9IE1BWCAmJiBlID09PSBtYXRoZmxvb3IoZSkpIHtcclxuXHJcbiAgICAgICAgLy8gSWYgdGhlIGZpcnN0IGVsZW1lbnQgaXMgemVybywgdGhlIEJpZ051bWJlciB2YWx1ZSBtdXN0IGJlIHplcm8uXHJcbiAgICAgICAgaWYgKGNbMF0gPT09IDApIHtcclxuICAgICAgICAgIGlmIChlID09PSAwICYmIGMubGVuZ3RoID09PSAxKSByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgIGJyZWFrIG91dDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENhbGN1bGF0ZSBudW1iZXIgb2YgZGlnaXRzIHRoYXQgY1swXSBzaG91bGQgaGF2ZSwgYmFzZWQgb24gdGhlIGV4cG9uZW50LlxyXG4gICAgICAgIGkgPSAoZSArIDEpICUgTE9HX0JBU0U7XHJcbiAgICAgICAgaWYgKGkgPCAxKSBpICs9IExPR19CQVNFO1xyXG5cclxuICAgICAgICAvLyBDYWxjdWxhdGUgbnVtYmVyIG9mIGRpZ2l0cyBvZiBjWzBdLlxyXG4gICAgICAgIC8vaWYgKE1hdGguY2VpbChNYXRoLmxvZyhjWzBdICsgMSkgLyBNYXRoLkxOMTApID09IGkpIHtcclxuICAgICAgICBpZiAoU3RyaW5nKGNbMF0pLmxlbmd0aCA9PSBpKSB7XHJcblxyXG4gICAgICAgICAgZm9yIChpID0gMDsgaSA8IGMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgbiA9IGNbaV07XHJcbiAgICAgICAgICAgIGlmIChuIDwgMCB8fCBuID49IEJBU0UgfHwgbiAhPT0gbWF0aGZsb29yKG4pKSBicmVhayBvdXQ7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLy8gTGFzdCBlbGVtZW50IGNhbm5vdCBiZSB6ZXJvLCB1bmxlc3MgaXQgaXMgdGhlIG9ubHkgZWxlbWVudC5cclxuICAgICAgICAgIGlmIChuICE9PSAwKSByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAvLyBJbmZpbml0eS9OYU5cclxuICAgIH0gZWxzZSBpZiAoYyA9PT0gbnVsbCAmJiBlID09PSBudWxsICYmIChzID09PSBudWxsIHx8IHMgPT09IDEgfHwgcyA9PT0gLTEpKSB7XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHRocm93IEVycm9yXHJcbiAgICAgIChiaWdudW1iZXJFcnJvciArICdJbnZhbGlkIEJpZ051bWJlcjogJyArIHYpO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiBhIG5ldyBCaWdOdW1iZXIgd2hvc2UgdmFsdWUgaXMgdGhlIG1heGltdW0gb2YgdGhlIGFyZ3VtZW50cy5cclxuICAgKlxyXG4gICAqIGFyZ3VtZW50cyB7bnVtYmVyfHN0cmluZ3xCaWdOdW1iZXJ9XHJcbiAgICovXHJcbiAgQmlnTnVtYmVyLm1heGltdW0gPSBCaWdOdW1iZXIubWF4ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgcmV0dXJuIG1heE9yTWluKGFyZ3VtZW50cywgUC5sdCk7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIGEgbmV3IEJpZ051bWJlciB3aG9zZSB2YWx1ZSBpcyB0aGUgbWluaW11bSBvZiB0aGUgYXJndW1lbnRzLlxyXG4gICAqXHJcbiAgICogYXJndW1lbnRzIHtudW1iZXJ8c3RyaW5nfEJpZ051bWJlcn1cclxuICAgKi9cclxuICBCaWdOdW1iZXIubWluaW11bSA9IEJpZ051bWJlci5taW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICByZXR1cm4gbWF4T3JNaW4oYXJndW1lbnRzLCBQLmd0KTtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYSBuZXcgQmlnTnVtYmVyIHdpdGggYSByYW5kb20gdmFsdWUgZXF1YWwgdG8gb3IgZ3JlYXRlciB0aGFuIDAgYW5kIGxlc3MgdGhhbiAxLFxyXG4gICAqIGFuZCB3aXRoIGRwLCBvciBERUNJTUFMX1BMQUNFUyBpZiBkcCBpcyBvbWl0dGVkLCBkZWNpbWFsIHBsYWNlcyAob3IgbGVzcyBpZiB0cmFpbGluZ1xyXG4gICAqIHplcm9zIGFyZSBwcm9kdWNlZCkuXHJcbiAgICpcclxuICAgKiBbZHBdIHtudW1iZXJ9IERlY2ltYWwgcGxhY2VzLiBJbnRlZ2VyLCAwIHRvIE1BWCBpbmNsdXNpdmUuXHJcbiAgICpcclxuICAgKiAnW0JpZ051bWJlciBFcnJvcl0gQXJndW1lbnQge25vdCBhIHByaW1pdGl2ZSBudW1iZXJ8bm90IGFuIGludGVnZXJ8b3V0IG9mIHJhbmdlfToge2RwfSdcclxuICAgKiAnW0JpZ051bWJlciBFcnJvcl0gY3J5cHRvIHVuYXZhaWxhYmxlJ1xyXG4gICAqL1xyXG4gIEJpZ051bWJlci5yYW5kb20gPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHBvdzJfNTMgPSAweDIwMDAwMDAwMDAwMDAwO1xyXG5cclxuICAgIC8vIFJldHVybiBhIDUzIGJpdCBpbnRlZ2VyIG4sIHdoZXJlIDAgPD0gbiA8IDkwMDcxOTkyNTQ3NDA5OTIuXHJcbiAgICAvLyBDaGVjayBpZiBNYXRoLnJhbmRvbSgpIHByb2R1Y2VzIG1vcmUgdGhhbiAzMiBiaXRzIG9mIHJhbmRvbW5lc3MuXHJcbiAgICAvLyBJZiBpdCBkb2VzLCBhc3N1bWUgYXQgbGVhc3QgNTMgYml0cyBhcmUgcHJvZHVjZWQsIG90aGVyd2lzZSBhc3N1bWUgYXQgbGVhc3QgMzAgYml0cy5cclxuICAgIC8vIDB4NDAwMDAwMDAgaXMgMl4zMCwgMHg4MDAwMDAgaXMgMl4yMywgMHgxZmZmZmYgaXMgMl4yMSAtIDEuXHJcbiAgICB2YXIgcmFuZG9tNTNiaXRJbnQgPSAoTWF0aC5yYW5kb20oKSAqIHBvdzJfNTMpICYgMHgxZmZmZmZcclxuICAgICA/IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG1hdGhmbG9vcihNYXRoLnJhbmRvbSgpICogcG93Ml81Myk7IH1cclxuICAgICA6IGZ1bmN0aW9uICgpIHsgcmV0dXJuICgoTWF0aC5yYW5kb20oKSAqIDB4NDAwMDAwMDAgfCAwKSAqIDB4ODAwMDAwKSArXHJcbiAgICAgICAoTWF0aC5yYW5kb20oKSAqIDB4ODAwMDAwIHwgMCk7IH07XHJcblxyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkcCkge1xyXG4gICAgICB2YXIgYSwgYiwgZSwgaywgdixcclxuICAgICAgICBpID0gMCxcclxuICAgICAgICBjID0gW10sXHJcbiAgICAgICAgcmFuZCA9IG5ldyBCaWdOdW1iZXIoT05FKTtcclxuXHJcbiAgICAgIGlmIChkcCA9PSBudWxsKSBkcCA9IERFQ0lNQUxfUExBQ0VTO1xyXG4gICAgICBlbHNlIGludENoZWNrKGRwLCAwLCBNQVgpO1xyXG5cclxuICAgICAgayA9IG1hdGhjZWlsKGRwIC8gTE9HX0JBU0UpO1xyXG5cclxuICAgICAgaWYgKENSWVBUTykge1xyXG5cclxuICAgICAgICAvLyBCcm93c2VycyBzdXBwb3J0aW5nIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMuXHJcbiAgICAgICAgaWYgKGNyeXB0by5nZXRSYW5kb21WYWx1ZXMpIHtcclxuXHJcbiAgICAgICAgICBhID0gY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhuZXcgVWludDMyQXJyYXkoayAqPSAyKSk7XHJcblxyXG4gICAgICAgICAgZm9yICg7IGkgPCBrOykge1xyXG5cclxuICAgICAgICAgICAgLy8gNTMgYml0czpcclxuICAgICAgICAgICAgLy8gKChNYXRoLnBvdygyLCAzMikgLSAxKSAqIE1hdGgucG93KDIsIDIxKSkudG9TdHJpbmcoMilcclxuICAgICAgICAgICAgLy8gMTExMTEgMTExMTExMTEgMTExMTExMTEgMTExMTExMTEgMTExMDAwMDAgMDAwMDAwMDAgMDAwMDAwMDBcclxuICAgICAgICAgICAgLy8gKChNYXRoLnBvdygyLCAzMikgLSAxKSA+Pj4gMTEpLnRvU3RyaW5nKDIpXHJcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDExMTExIDExMTExMTExIDExMTExMTExXHJcbiAgICAgICAgICAgIC8vIDB4MjAwMDAgaXMgMl4yMS5cclxuICAgICAgICAgICAgdiA9IGFbaV0gKiAweDIwMDAwICsgKGFbaSArIDFdID4+PiAxMSk7XHJcblxyXG4gICAgICAgICAgICAvLyBSZWplY3Rpb24gc2FtcGxpbmc6XHJcbiAgICAgICAgICAgIC8vIDAgPD0gdiA8IDkwMDcxOTkyNTQ3NDA5OTJcclxuICAgICAgICAgICAgLy8gUHJvYmFiaWxpdHkgdGhhdCB2ID49IDllMTUsIGlzXHJcbiAgICAgICAgICAgIC8vIDcxOTkyNTQ3NDA5OTIgLyA5MDA3MTk5MjU0NzQwOTkyIH49IDAuMDAwOCwgaS5lLiAxIGluIDEyNTFcclxuICAgICAgICAgICAgaWYgKHYgPj0gOWUxNSkge1xyXG4gICAgICAgICAgICAgIGIgPSBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50MzJBcnJheSgyKSk7XHJcbiAgICAgICAgICAgICAgYVtpXSA9IGJbMF07XHJcbiAgICAgICAgICAgICAgYVtpICsgMV0gPSBiWzFdO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgICAvLyAwIDw9IHYgPD0gODk5OTk5OTk5OTk5OTk5OVxyXG4gICAgICAgICAgICAgIC8vIDAgPD0gKHYgJSAxZTE0KSA8PSA5OTk5OTk5OTk5OTk5OVxyXG4gICAgICAgICAgICAgIGMucHVzaCh2ICUgMWUxNCk7XHJcbiAgICAgICAgICAgICAgaSArPSAyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpID0gayAvIDI7XHJcblxyXG4gICAgICAgIC8vIE5vZGUuanMgc3VwcG9ydGluZyBjcnlwdG8ucmFuZG9tQnl0ZXMuXHJcbiAgICAgICAgfSBlbHNlIGlmIChjcnlwdG8ucmFuZG9tQnl0ZXMpIHtcclxuXHJcbiAgICAgICAgICAvLyBidWZmZXJcclxuICAgICAgICAgIGEgPSBjcnlwdG8ucmFuZG9tQnl0ZXMoayAqPSA3KTtcclxuXHJcbiAgICAgICAgICBmb3IgKDsgaSA8IGs7KSB7XHJcblxyXG4gICAgICAgICAgICAvLyAweDEwMDAwMDAwMDAwMDAgaXMgMl40OCwgMHgxMDAwMDAwMDAwMCBpcyAyXjQwXHJcbiAgICAgICAgICAgIC8vIDB4MTAwMDAwMDAwIGlzIDJeMzIsIDB4MTAwMDAwMCBpcyAyXjI0XHJcbiAgICAgICAgICAgIC8vIDExMTExIDExMTExMTExIDExMTExMTExIDExMTExMTExIDExMTExMTExIDExMTExMTExIDExMTExMTExXHJcbiAgICAgICAgICAgIC8vIDAgPD0gdiA8IDkwMDcxOTkyNTQ3NDA5OTJcclxuICAgICAgICAgICAgdiA9ICgoYVtpXSAmIDMxKSAqIDB4MTAwMDAwMDAwMDAwMCkgKyAoYVtpICsgMV0gKiAweDEwMDAwMDAwMDAwKSArXHJcbiAgICAgICAgICAgICAgIChhW2kgKyAyXSAqIDB4MTAwMDAwMDAwKSArIChhW2kgKyAzXSAqIDB4MTAwMDAwMCkgK1xyXG4gICAgICAgICAgICAgICAoYVtpICsgNF0gPDwgMTYpICsgKGFbaSArIDVdIDw8IDgpICsgYVtpICsgNl07XHJcblxyXG4gICAgICAgICAgICBpZiAodiA+PSA5ZTE1KSB7XHJcbiAgICAgICAgICAgICAgY3J5cHRvLnJhbmRvbUJ5dGVzKDcpLmNvcHkoYSwgaSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgICAgIC8vIDAgPD0gKHYgJSAxZTE0KSA8PSA5OTk5OTk5OTk5OTk5OVxyXG4gICAgICAgICAgICAgIGMucHVzaCh2ICUgMWUxNCk7XHJcbiAgICAgICAgICAgICAgaSArPSA3O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpID0gayAvIDc7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIENSWVBUTyA9IGZhbHNlO1xyXG4gICAgICAgICAgdGhyb3cgRXJyb3JcclxuICAgICAgICAgICAoYmlnbnVtYmVyRXJyb3IgKyAnY3J5cHRvIHVuYXZhaWxhYmxlJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBVc2UgTWF0aC5yYW5kb20uXHJcbiAgICAgIGlmICghQ1JZUFRPKSB7XHJcblxyXG4gICAgICAgIGZvciAoOyBpIDwgazspIHtcclxuICAgICAgICAgIHYgPSByYW5kb201M2JpdEludCgpO1xyXG4gICAgICAgICAgaWYgKHYgPCA5ZTE1KSBjW2krK10gPSB2ICUgMWUxNDtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGsgPSBjWy0taV07XHJcbiAgICAgIGRwICU9IExPR19CQVNFO1xyXG5cclxuICAgICAgLy8gQ29udmVydCB0cmFpbGluZyBkaWdpdHMgdG8gemVyb3MgYWNjb3JkaW5nIHRvIGRwLlxyXG4gICAgICBpZiAoayAmJiBkcCkge1xyXG4gICAgICAgIHYgPSBQT1dTX1RFTltMT0dfQkFTRSAtIGRwXTtcclxuICAgICAgICBjW2ldID0gbWF0aGZsb29yKGsgLyB2KSAqIHY7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFJlbW92ZSB0cmFpbGluZyBlbGVtZW50cyB3aGljaCBhcmUgemVyby5cclxuICAgICAgZm9yICg7IGNbaV0gPT09IDA7IGMucG9wKCksIGktLSk7XHJcblxyXG4gICAgICAvLyBaZXJvP1xyXG4gICAgICBpZiAoaSA8IDApIHtcclxuICAgICAgICBjID0gW2UgPSAwXTtcclxuICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgLy8gUmVtb3ZlIGxlYWRpbmcgZWxlbWVudHMgd2hpY2ggYXJlIHplcm8gYW5kIGFkanVzdCBleHBvbmVudCBhY2NvcmRpbmdseS5cclxuICAgICAgICBmb3IgKGUgPSAtMSA7IGNbMF0gPT09IDA7IGMuc3BsaWNlKDAsIDEpLCBlIC09IExPR19CQVNFKTtcclxuXHJcbiAgICAgICAgLy8gQ291bnQgdGhlIGRpZ2l0cyBvZiB0aGUgZmlyc3QgZWxlbWVudCBvZiBjIHRvIGRldGVybWluZSBsZWFkaW5nIHplcm9zLCBhbmQuLi5cclxuICAgICAgICBmb3IgKGkgPSAxLCB2ID0gY1swXTsgdiA+PSAxMDsgdiAvPSAxMCwgaSsrKTtcclxuXHJcbiAgICAgICAgLy8gYWRqdXN0IHRoZSBleHBvbmVudCBhY2NvcmRpbmdseS5cclxuICAgICAgICBpZiAoaSA8IExPR19CQVNFKSBlIC09IExPR19CQVNFIC0gaTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmFuZC5lID0gZTtcclxuICAgICAgcmFuZC5jID0gYztcclxuICAgICAgcmV0dXJuIHJhbmQ7XHJcbiAgICB9O1xyXG4gIH0pKCk7XHJcblxyXG5cclxuICAgLypcclxuICAgKiBSZXR1cm4gYSBCaWdOdW1iZXIgd2hvc2UgdmFsdWUgaXMgdGhlIHN1bSBvZiB0aGUgYXJndW1lbnRzLlxyXG4gICAqXHJcbiAgICogYXJndW1lbnRzIHtudW1iZXJ8c3RyaW5nfEJpZ051bWJlcn1cclxuICAgKi9cclxuICBCaWdOdW1iZXIuc3VtID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGkgPSAxLFxyXG4gICAgICBhcmdzID0gYXJndW1lbnRzLFxyXG4gICAgICBzdW0gPSBuZXcgQmlnTnVtYmVyKGFyZ3NbMF0pO1xyXG4gICAgZm9yICg7IGkgPCBhcmdzLmxlbmd0aDspIHN1bSA9IHN1bS5wbHVzKGFyZ3NbaSsrXSk7XHJcbiAgICByZXR1cm4gc3VtO1xyXG4gIH07XHJcblxyXG5cclxuICAvLyBQUklWQVRFIEZVTkNUSU9OU1xyXG5cclxuXHJcbiAgLy8gQ2FsbGVkIGJ5IEJpZ051bWJlciBhbmQgQmlnTnVtYmVyLnByb3RvdHlwZS50b1N0cmluZy5cclxuICBjb252ZXJ0QmFzZSA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZGVjaW1hbCA9ICcwMTIzNDU2Nzg5JztcclxuXHJcbiAgICAvKlxyXG4gICAgICogQ29udmVydCBzdHJpbmcgb2YgYmFzZUluIHRvIGFuIGFycmF5IG9mIG51bWJlcnMgb2YgYmFzZU91dC5cclxuICAgICAqIEVnLiB0b0Jhc2VPdXQoJzI1NScsIDEwLCAxNikgcmV0dXJucyBbMTUsIDE1XS5cclxuICAgICAqIEVnLiB0b0Jhc2VPdXQoJ2ZmJywgMTYsIDEwKSByZXR1cm5zIFsyLCA1LCA1XS5cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gdG9CYXNlT3V0KHN0ciwgYmFzZUluLCBiYXNlT3V0LCBhbHBoYWJldCkge1xyXG4gICAgICB2YXIgaixcclxuICAgICAgICBhcnIgPSBbMF0sXHJcbiAgICAgICAgYXJyTCxcclxuICAgICAgICBpID0gMCxcclxuICAgICAgICBsZW4gPSBzdHIubGVuZ3RoO1xyXG5cclxuICAgICAgZm9yICg7IGkgPCBsZW47KSB7XHJcbiAgICAgICAgZm9yIChhcnJMID0gYXJyLmxlbmd0aDsgYXJyTC0tOyBhcnJbYXJyTF0gKj0gYmFzZUluKTtcclxuXHJcbiAgICAgICAgYXJyWzBdICs9IGFscGhhYmV0LmluZGV4T2Yoc3RyLmNoYXJBdChpKyspKTtcclxuXHJcbiAgICAgICAgZm9yIChqID0gMDsgaiA8IGFyci5sZW5ndGg7IGorKykge1xyXG5cclxuICAgICAgICAgIGlmIChhcnJbal0gPiBiYXNlT3V0IC0gMSkge1xyXG4gICAgICAgICAgICBpZiAoYXJyW2ogKyAxXSA9PSBudWxsKSBhcnJbaiArIDFdID0gMDtcclxuICAgICAgICAgICAgYXJyW2ogKyAxXSArPSBhcnJbal0gLyBiYXNlT3V0IHwgMDtcclxuICAgICAgICAgICAgYXJyW2pdICU9IGJhc2VPdXQ7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gYXJyLnJldmVyc2UoKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDb252ZXJ0IGEgbnVtZXJpYyBzdHJpbmcgb2YgYmFzZUluIHRvIGEgbnVtZXJpYyBzdHJpbmcgb2YgYmFzZU91dC5cclxuICAgIC8vIElmIHRoZSBjYWxsZXIgaXMgdG9TdHJpbmcsIHdlIGFyZSBjb252ZXJ0aW5nIGZyb20gYmFzZSAxMCB0byBiYXNlT3V0LlxyXG4gICAgLy8gSWYgdGhlIGNhbGxlciBpcyBCaWdOdW1iZXIsIHdlIGFyZSBjb252ZXJ0aW5nIGZyb20gYmFzZUluIHRvIGJhc2UgMTAuXHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHN0ciwgYmFzZUluLCBiYXNlT3V0LCBzaWduLCBjYWxsZXJJc1RvU3RyaW5nKSB7XHJcbiAgICAgIHZhciBhbHBoYWJldCwgZCwgZSwgaywgciwgeCwgeGMsIHksXHJcbiAgICAgICAgaSA9IHN0ci5pbmRleE9mKCcuJyksXHJcbiAgICAgICAgZHAgPSBERUNJTUFMX1BMQUNFUyxcclxuICAgICAgICBybSA9IFJPVU5ESU5HX01PREU7XHJcblxyXG4gICAgICAvLyBOb24taW50ZWdlci5cclxuICAgICAgaWYgKGkgPj0gMCkge1xyXG4gICAgICAgIGsgPSBQT1dfUFJFQ0lTSU9OO1xyXG5cclxuICAgICAgICAvLyBVbmxpbWl0ZWQgcHJlY2lzaW9uLlxyXG4gICAgICAgIFBPV19QUkVDSVNJT04gPSAwO1xyXG4gICAgICAgIHN0ciA9IHN0ci5yZXBsYWNlKCcuJywgJycpO1xyXG4gICAgICAgIHkgPSBuZXcgQmlnTnVtYmVyKGJhc2VJbik7XHJcbiAgICAgICAgeCA9IHkucG93KHN0ci5sZW5ndGggLSBpKTtcclxuICAgICAgICBQT1dfUFJFQ0lTSU9OID0gaztcclxuXHJcbiAgICAgICAgLy8gQ29udmVydCBzdHIgYXMgaWYgYW4gaW50ZWdlciwgdGhlbiByZXN0b3JlIHRoZSBmcmFjdGlvbiBwYXJ0IGJ5IGRpdmlkaW5nIHRoZVxyXG4gICAgICAgIC8vIHJlc3VsdCBieSBpdHMgYmFzZSByYWlzZWQgdG8gYSBwb3dlci5cclxuXHJcbiAgICAgICAgeS5jID0gdG9CYXNlT3V0KHRvRml4ZWRQb2ludChjb2VmZlRvU3RyaW5nKHguYyksIHguZSwgJzAnKSxcclxuICAgICAgICAgMTAsIGJhc2VPdXQsIGRlY2ltYWwpO1xyXG4gICAgICAgIHkuZSA9IHkuYy5sZW5ndGg7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIENvbnZlcnQgdGhlIG51bWJlciBhcyBpbnRlZ2VyLlxyXG5cclxuICAgICAgeGMgPSB0b0Jhc2VPdXQoc3RyLCBiYXNlSW4sIGJhc2VPdXQsIGNhbGxlcklzVG9TdHJpbmdcclxuICAgICAgID8gKGFscGhhYmV0ID0gQUxQSEFCRVQsIGRlY2ltYWwpXHJcbiAgICAgICA6IChhbHBoYWJldCA9IGRlY2ltYWwsIEFMUEhBQkVUKSk7XHJcblxyXG4gICAgICAvLyB4YyBub3cgcmVwcmVzZW50cyBzdHIgYXMgYW4gaW50ZWdlciBhbmQgY29udmVydGVkIHRvIGJhc2VPdXQuIGUgaXMgdGhlIGV4cG9uZW50LlxyXG4gICAgICBlID0gayA9IHhjLmxlbmd0aDtcclxuXHJcbiAgICAgIC8vIFJlbW92ZSB0cmFpbGluZyB6ZXJvcy5cclxuICAgICAgZm9yICg7IHhjWy0ta10gPT0gMDsgeGMucG9wKCkpO1xyXG5cclxuICAgICAgLy8gWmVybz9cclxuICAgICAgaWYgKCF4Y1swXSkgcmV0dXJuIGFscGhhYmV0LmNoYXJBdCgwKTtcclxuXHJcbiAgICAgIC8vIERvZXMgc3RyIHJlcHJlc2VudCBhbiBpbnRlZ2VyPyBJZiBzbywgbm8gbmVlZCBmb3IgdGhlIGRpdmlzaW9uLlxyXG4gICAgICBpZiAoaSA8IDApIHtcclxuICAgICAgICAtLWU7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgeC5jID0geGM7XHJcbiAgICAgICAgeC5lID0gZTtcclxuXHJcbiAgICAgICAgLy8gVGhlIHNpZ24gaXMgbmVlZGVkIGZvciBjb3JyZWN0IHJvdW5kaW5nLlxyXG4gICAgICAgIHgucyA9IHNpZ247XHJcbiAgICAgICAgeCA9IGRpdih4LCB5LCBkcCwgcm0sIGJhc2VPdXQpO1xyXG4gICAgICAgIHhjID0geC5jO1xyXG4gICAgICAgIHIgPSB4LnI7XHJcbiAgICAgICAgZSA9IHguZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8geGMgbm93IHJlcHJlc2VudHMgc3RyIGNvbnZlcnRlZCB0byBiYXNlT3V0LlxyXG5cclxuICAgICAgLy8gVEhlIGluZGV4IG9mIHRoZSByb3VuZGluZyBkaWdpdC5cclxuICAgICAgZCA9IGUgKyBkcCArIDE7XHJcblxyXG4gICAgICAvLyBUaGUgcm91bmRpbmcgZGlnaXQ6IHRoZSBkaWdpdCB0byB0aGUgcmlnaHQgb2YgdGhlIGRpZ2l0IHRoYXQgbWF5IGJlIHJvdW5kZWQgdXAuXHJcbiAgICAgIGkgPSB4Y1tkXTtcclxuXHJcbiAgICAgIC8vIExvb2sgYXQgdGhlIHJvdW5kaW5nIGRpZ2l0cyBhbmQgbW9kZSB0byBkZXRlcm1pbmUgd2hldGhlciB0byByb3VuZCB1cC5cclxuXHJcbiAgICAgIGsgPSBiYXNlT3V0IC8gMjtcclxuICAgICAgciA9IHIgfHwgZCA8IDAgfHwgeGNbZCArIDFdICE9IG51bGw7XHJcblxyXG4gICAgICByID0gcm0gPCA0ID8gKGkgIT0gbnVsbCB8fCByKSAmJiAocm0gPT0gMCB8fCBybSA9PSAoeC5zIDwgMCA/IDMgOiAyKSlcclxuICAgICAgICAgICAgOiBpID4gayB8fCBpID09IGsgJiYocm0gPT0gNCB8fCByIHx8IHJtID09IDYgJiYgeGNbZCAtIDFdICYgMSB8fFxyXG4gICAgICAgICAgICAgcm0gPT0gKHgucyA8IDAgPyA4IDogNykpO1xyXG5cclxuICAgICAgLy8gSWYgdGhlIGluZGV4IG9mIHRoZSByb3VuZGluZyBkaWdpdCBpcyBub3QgZ3JlYXRlciB0aGFuIHplcm8sIG9yIHhjIHJlcHJlc2VudHNcclxuICAgICAgLy8gemVybywgdGhlbiB0aGUgcmVzdWx0IG9mIHRoZSBiYXNlIGNvbnZlcnNpb24gaXMgemVybyBvciwgaWYgcm91bmRpbmcgdXAsIGEgdmFsdWVcclxuICAgICAgLy8gc3VjaCBhcyAwLjAwMDAxLlxyXG4gICAgICBpZiAoZCA8IDEgfHwgIXhjWzBdKSB7XHJcblxyXG4gICAgICAgIC8vIDFeLWRwIG9yIDBcclxuICAgICAgICBzdHIgPSByID8gdG9GaXhlZFBvaW50KGFscGhhYmV0LmNoYXJBdCgxKSwgLWRwLCBhbHBoYWJldC5jaGFyQXQoMCkpIDogYWxwaGFiZXQuY2hhckF0KDApO1xyXG4gICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAvLyBUcnVuY2F0ZSB4YyB0byB0aGUgcmVxdWlyZWQgbnVtYmVyIG9mIGRlY2ltYWwgcGxhY2VzLlxyXG4gICAgICAgIHhjLmxlbmd0aCA9IGQ7XHJcblxyXG4gICAgICAgIC8vIFJvdW5kIHVwP1xyXG4gICAgICAgIGlmIChyKSB7XHJcblxyXG4gICAgICAgICAgLy8gUm91bmRpbmcgdXAgbWF5IG1lYW4gdGhlIHByZXZpb3VzIGRpZ2l0IGhhcyB0byBiZSByb3VuZGVkIHVwIGFuZCBzbyBvbi5cclxuICAgICAgICAgIGZvciAoLS1iYXNlT3V0OyArK3hjWy0tZF0gPiBiYXNlT3V0Oykge1xyXG4gICAgICAgICAgICB4Y1tkXSA9IDA7XHJcblxyXG4gICAgICAgICAgICBpZiAoIWQpIHtcclxuICAgICAgICAgICAgICArK2U7XHJcbiAgICAgICAgICAgICAgeGMgPSBbMV0uY29uY2F0KHhjKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gRGV0ZXJtaW5lIHRyYWlsaW5nIHplcm9zLlxyXG4gICAgICAgIGZvciAoayA9IHhjLmxlbmd0aDsgIXhjWy0ta107KTtcclxuXHJcbiAgICAgICAgLy8gRS5nLiBbNCwgMTEsIDE1XSBiZWNvbWVzIDRiZi5cclxuICAgICAgICBmb3IgKGkgPSAwLCBzdHIgPSAnJzsgaSA8PSBrOyBzdHIgKz0gYWxwaGFiZXQuY2hhckF0KHhjW2krK10pKTtcclxuXHJcbiAgICAgICAgLy8gQWRkIGxlYWRpbmcgemVyb3MsIGRlY2ltYWwgcG9pbnQgYW5kIHRyYWlsaW5nIHplcm9zIGFzIHJlcXVpcmVkLlxyXG4gICAgICAgIHN0ciA9IHRvRml4ZWRQb2ludChzdHIsIGUsIGFscGhhYmV0LmNoYXJBdCgwKSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFRoZSBjYWxsZXIgd2lsbCBhZGQgdGhlIHNpZ24uXHJcbiAgICAgIHJldHVybiBzdHI7XHJcbiAgICB9O1xyXG4gIH0pKCk7XHJcblxyXG5cclxuICAvLyBQZXJmb3JtIGRpdmlzaW9uIGluIHRoZSBzcGVjaWZpZWQgYmFzZS4gQ2FsbGVkIGJ5IGRpdiBhbmQgY29udmVydEJhc2UuXHJcbiAgZGl2ID0gKGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAvLyBBc3N1bWUgbm9uLXplcm8geCBhbmQgay5cclxuICAgIGZ1bmN0aW9uIG11bHRpcGx5KHgsIGssIGJhc2UpIHtcclxuICAgICAgdmFyIG0sIHRlbXAsIHhsbywgeGhpLFxyXG4gICAgICAgIGNhcnJ5ID0gMCxcclxuICAgICAgICBpID0geC5sZW5ndGgsXHJcbiAgICAgICAga2xvID0gayAlIFNRUlRfQkFTRSxcclxuICAgICAgICBraGkgPSBrIC8gU1FSVF9CQVNFIHwgMDtcclxuXHJcbiAgICAgIGZvciAoeCA9IHguc2xpY2UoKTsgaS0tOykge1xyXG4gICAgICAgIHhsbyA9IHhbaV0gJSBTUVJUX0JBU0U7XHJcbiAgICAgICAgeGhpID0geFtpXSAvIFNRUlRfQkFTRSB8IDA7XHJcbiAgICAgICAgbSA9IGtoaSAqIHhsbyArIHhoaSAqIGtsbztcclxuICAgICAgICB0ZW1wID0ga2xvICogeGxvICsgKChtICUgU1FSVF9CQVNFKSAqIFNRUlRfQkFTRSkgKyBjYXJyeTtcclxuICAgICAgICBjYXJyeSA9ICh0ZW1wIC8gYmFzZSB8IDApICsgKG0gLyBTUVJUX0JBU0UgfCAwKSArIGtoaSAqIHhoaTtcclxuICAgICAgICB4W2ldID0gdGVtcCAlIGJhc2U7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChjYXJyeSkgeCA9IFtjYXJyeV0uY29uY2F0KHgpO1xyXG5cclxuICAgICAgcmV0dXJuIHg7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY29tcGFyZShhLCBiLCBhTCwgYkwpIHtcclxuICAgICAgdmFyIGksIGNtcDtcclxuXHJcbiAgICAgIGlmIChhTCAhPSBiTCkge1xyXG4gICAgICAgIGNtcCA9IGFMID4gYkwgPyAxIDogLTE7XHJcbiAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgIGZvciAoaSA9IGNtcCA9IDA7IGkgPCBhTDsgaSsrKSB7XHJcblxyXG4gICAgICAgICAgaWYgKGFbaV0gIT0gYltpXSkge1xyXG4gICAgICAgICAgICBjbXAgPSBhW2ldID4gYltpXSA/IDEgOiAtMTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gY21wO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHN1YnRyYWN0KGEsIGIsIGFMLCBiYXNlKSB7XHJcbiAgICAgIHZhciBpID0gMDtcclxuXHJcbiAgICAgIC8vIFN1YnRyYWN0IGIgZnJvbSBhLlxyXG4gICAgICBmb3IgKDsgYUwtLTspIHtcclxuICAgICAgICBhW2FMXSAtPSBpO1xyXG4gICAgICAgIGkgPSBhW2FMXSA8IGJbYUxdID8gMSA6IDA7XHJcbiAgICAgICAgYVthTF0gPSBpICogYmFzZSArIGFbYUxdIC0gYlthTF07XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFJlbW92ZSBsZWFkaW5nIHplcm9zLlxyXG4gICAgICBmb3IgKDsgIWFbMF0gJiYgYS5sZW5ndGggPiAxOyBhLnNwbGljZSgwLCAxKSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8geDogZGl2aWRlbmQsIHk6IGRpdmlzb3IuXHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHgsIHksIGRwLCBybSwgYmFzZSkge1xyXG4gICAgICB2YXIgY21wLCBlLCBpLCBtb3JlLCBuLCBwcm9kLCBwcm9kTCwgcSwgcWMsIHJlbSwgcmVtTCwgcmVtMCwgeGksIHhMLCB5YzAsXHJcbiAgICAgICAgeUwsIHl6LFxyXG4gICAgICAgIHMgPSB4LnMgPT0geS5zID8gMSA6IC0xLFxyXG4gICAgICAgIHhjID0geC5jLFxyXG4gICAgICAgIHljID0geS5jO1xyXG5cclxuICAgICAgLy8gRWl0aGVyIE5hTiwgSW5maW5pdHkgb3IgMD9cclxuICAgICAgaWYgKCF4YyB8fCAheGNbMF0gfHwgIXljIHx8ICF5Y1swXSkge1xyXG5cclxuICAgICAgICByZXR1cm4gbmV3IEJpZ051bWJlcihcclxuXHJcbiAgICAgICAgIC8vIFJldHVybiBOYU4gaWYgZWl0aGVyIE5hTiwgb3IgYm90aCBJbmZpbml0eSBvciAwLlxyXG4gICAgICAgICAheC5zIHx8ICF5LnMgfHwgKHhjID8geWMgJiYgeGNbMF0gPT0geWNbMF0gOiAheWMpID8gTmFOIDpcclxuXHJcbiAgICAgICAgICAvLyBSZXR1cm4gwrEwIGlmIHggaXMgwrEwIG9yIHkgaXMgwrFJbmZpbml0eSwgb3IgcmV0dXJuIMKxSW5maW5pdHkgYXMgeSBpcyDCsTAuXHJcbiAgICAgICAgICB4YyAmJiB4Y1swXSA9PSAwIHx8ICF5YyA/IHMgKiAwIDogcyAvIDBcclxuICAgICAgICk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHEgPSBuZXcgQmlnTnVtYmVyKHMpO1xyXG4gICAgICBxYyA9IHEuYyA9IFtdO1xyXG4gICAgICBlID0geC5lIC0geS5lO1xyXG4gICAgICBzID0gZHAgKyBlICsgMTtcclxuXHJcbiAgICAgIGlmICghYmFzZSkge1xyXG4gICAgICAgIGJhc2UgPSBCQVNFO1xyXG4gICAgICAgIGUgPSBiaXRGbG9vcih4LmUgLyBMT0dfQkFTRSkgLSBiaXRGbG9vcih5LmUgLyBMT0dfQkFTRSk7XHJcbiAgICAgICAgcyA9IHMgLyBMT0dfQkFTRSB8IDA7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFJlc3VsdCBleHBvbmVudCBtYXkgYmUgb25lIGxlc3MgdGhlbiB0aGUgY3VycmVudCB2YWx1ZSBvZiBlLlxyXG4gICAgICAvLyBUaGUgY29lZmZpY2llbnRzIG9mIHRoZSBCaWdOdW1iZXJzIGZyb20gY29udmVydEJhc2UgbWF5IGhhdmUgdHJhaWxpbmcgemVyb3MuXHJcbiAgICAgIGZvciAoaSA9IDA7IHljW2ldID09ICh4Y1tpXSB8fCAwKTsgaSsrKTtcclxuXHJcbiAgICAgIGlmICh5Y1tpXSA+ICh4Y1tpXSB8fCAwKSkgZS0tO1xyXG5cclxuICAgICAgaWYgKHMgPCAwKSB7XHJcbiAgICAgICAgcWMucHVzaCgxKTtcclxuICAgICAgICBtb3JlID0gdHJ1ZTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB4TCA9IHhjLmxlbmd0aDtcclxuICAgICAgICB5TCA9IHljLmxlbmd0aDtcclxuICAgICAgICBpID0gMDtcclxuICAgICAgICBzICs9IDI7XHJcblxyXG4gICAgICAgIC8vIE5vcm1hbGlzZSB4YyBhbmQgeWMgc28gaGlnaGVzdCBvcmRlciBkaWdpdCBvZiB5YyBpcyA+PSBiYXNlIC8gMi5cclxuXHJcbiAgICAgICAgbiA9IG1hdGhmbG9vcihiYXNlIC8gKHljWzBdICsgMSkpO1xyXG5cclxuICAgICAgICAvLyBOb3QgbmVjZXNzYXJ5LCBidXQgdG8gaGFuZGxlIG9kZCBiYXNlcyB3aGVyZSB5Y1swXSA9PSAoYmFzZSAvIDIpIC0gMS5cclxuICAgICAgICAvLyBpZiAobiA+IDEgfHwgbisrID09IDEgJiYgeWNbMF0gPCBiYXNlIC8gMikge1xyXG4gICAgICAgIGlmIChuID4gMSkge1xyXG4gICAgICAgICAgeWMgPSBtdWx0aXBseSh5YywgbiwgYmFzZSk7XHJcbiAgICAgICAgICB4YyA9IG11bHRpcGx5KHhjLCBuLCBiYXNlKTtcclxuICAgICAgICAgIHlMID0geWMubGVuZ3RoO1xyXG4gICAgICAgICAgeEwgPSB4Yy5sZW5ndGg7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB4aSA9IHlMO1xyXG4gICAgICAgIHJlbSA9IHhjLnNsaWNlKDAsIHlMKTtcclxuICAgICAgICByZW1MID0gcmVtLmxlbmd0aDtcclxuXHJcbiAgICAgICAgLy8gQWRkIHplcm9zIHRvIG1ha2UgcmVtYWluZGVyIGFzIGxvbmcgYXMgZGl2aXNvci5cclxuICAgICAgICBmb3IgKDsgcmVtTCA8IHlMOyByZW1bcmVtTCsrXSA9IDApO1xyXG4gICAgICAgIHl6ID0geWMuc2xpY2UoKTtcclxuICAgICAgICB5eiA9IFswXS5jb25jYXQoeXopO1xyXG4gICAgICAgIHljMCA9IHljWzBdO1xyXG4gICAgICAgIGlmICh5Y1sxXSA+PSBiYXNlIC8gMikgeWMwKys7XHJcbiAgICAgICAgLy8gTm90IG5lY2Vzc2FyeSwgYnV0IHRvIHByZXZlbnQgdHJpYWwgZGlnaXQgbiA+IGJhc2UsIHdoZW4gdXNpbmcgYmFzZSAzLlxyXG4gICAgICAgIC8vIGVsc2UgaWYgKGJhc2UgPT0gMyAmJiB5YzAgPT0gMSkgeWMwID0gMSArIDFlLTE1O1xyXG5cclxuICAgICAgICBkbyB7XHJcbiAgICAgICAgICBuID0gMDtcclxuXHJcbiAgICAgICAgICAvLyBDb21wYXJlIGRpdmlzb3IgYW5kIHJlbWFpbmRlci5cclxuICAgICAgICAgIGNtcCA9IGNvbXBhcmUoeWMsIHJlbSwgeUwsIHJlbUwpO1xyXG5cclxuICAgICAgICAgIC8vIElmIGRpdmlzb3IgPCByZW1haW5kZXIuXHJcbiAgICAgICAgICBpZiAoY21wIDwgMCkge1xyXG5cclxuICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIHRyaWFsIGRpZ2l0LCBuLlxyXG5cclxuICAgICAgICAgICAgcmVtMCA9IHJlbVswXTtcclxuICAgICAgICAgICAgaWYgKHlMICE9IHJlbUwpIHJlbTAgPSByZW0wICogYmFzZSArIChyZW1bMV0gfHwgMCk7XHJcblxyXG4gICAgICAgICAgICAvLyBuIGlzIGhvdyBtYW55IHRpbWVzIHRoZSBkaXZpc29yIGdvZXMgaW50byB0aGUgY3VycmVudCByZW1haW5kZXIuXHJcbiAgICAgICAgICAgIG4gPSBtYXRoZmxvb3IocmVtMCAvIHljMCk7XHJcblxyXG4gICAgICAgICAgICAvLyAgQWxnb3JpdGhtOlxyXG4gICAgICAgICAgICAvLyAgcHJvZHVjdCA9IGRpdmlzb3IgbXVsdGlwbGllZCBieSB0cmlhbCBkaWdpdCAobikuXHJcbiAgICAgICAgICAgIC8vICBDb21wYXJlIHByb2R1Y3QgYW5kIHJlbWFpbmRlci5cclxuICAgICAgICAgICAgLy8gIElmIHByb2R1Y3QgaXMgZ3JlYXRlciB0aGFuIHJlbWFpbmRlcjpcclxuICAgICAgICAgICAgLy8gICAgU3VidHJhY3QgZGl2aXNvciBmcm9tIHByb2R1Y3QsIGRlY3JlbWVudCB0cmlhbCBkaWdpdC5cclxuICAgICAgICAgICAgLy8gIFN1YnRyYWN0IHByb2R1Y3QgZnJvbSByZW1haW5kZXIuXHJcbiAgICAgICAgICAgIC8vICBJZiBwcm9kdWN0IHdhcyBsZXNzIHRoYW4gcmVtYWluZGVyIGF0IHRoZSBsYXN0IGNvbXBhcmU6XHJcbiAgICAgICAgICAgIC8vICAgIENvbXBhcmUgbmV3IHJlbWFpbmRlciBhbmQgZGl2aXNvci5cclxuICAgICAgICAgICAgLy8gICAgSWYgcmVtYWluZGVyIGlzIGdyZWF0ZXIgdGhhbiBkaXZpc29yOlxyXG4gICAgICAgICAgICAvLyAgICAgIFN1YnRyYWN0IGRpdmlzb3IgZnJvbSByZW1haW5kZXIsIGluY3JlbWVudCB0cmlhbCBkaWdpdC5cclxuXHJcbiAgICAgICAgICAgIGlmIChuID4gMSkge1xyXG5cclxuICAgICAgICAgICAgICAvLyBuIG1heSBiZSA+IGJhc2Ugb25seSB3aGVuIGJhc2UgaXMgMy5cclxuICAgICAgICAgICAgICBpZiAobiA+PSBiYXNlKSBuID0gYmFzZSAtIDE7XHJcblxyXG4gICAgICAgICAgICAgIC8vIHByb2R1Y3QgPSBkaXZpc29yICogdHJpYWwgZGlnaXQuXHJcbiAgICAgICAgICAgICAgcHJvZCA9IG11bHRpcGx5KHljLCBuLCBiYXNlKTtcclxuICAgICAgICAgICAgICBwcm9kTCA9IHByb2QubGVuZ3RoO1xyXG4gICAgICAgICAgICAgIHJlbUwgPSByZW0ubGVuZ3RoO1xyXG5cclxuICAgICAgICAgICAgICAvLyBDb21wYXJlIHByb2R1Y3QgYW5kIHJlbWFpbmRlci5cclxuICAgICAgICAgICAgICAvLyBJZiBwcm9kdWN0ID4gcmVtYWluZGVyIHRoZW4gdHJpYWwgZGlnaXQgbiB0b28gaGlnaC5cclxuICAgICAgICAgICAgICAvLyBuIGlzIDEgdG9vIGhpZ2ggYWJvdXQgNSUgb2YgdGhlIHRpbWUsIGFuZCBpcyBub3Qga25vd24gdG8gaGF2ZVxyXG4gICAgICAgICAgICAgIC8vIGV2ZXIgYmVlbiBtb3JlIHRoYW4gMSB0b28gaGlnaC5cclxuICAgICAgICAgICAgICB3aGlsZSAoY29tcGFyZShwcm9kLCByZW0sIHByb2RMLCByZW1MKSA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICBuLS07XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gU3VidHJhY3QgZGl2aXNvciBmcm9tIHByb2R1Y3QuXHJcbiAgICAgICAgICAgICAgICBzdWJ0cmFjdChwcm9kLCB5TCA8IHByb2RMID8geXogOiB5YywgcHJvZEwsIGJhc2UpO1xyXG4gICAgICAgICAgICAgICAgcHJvZEwgPSBwcm9kLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgIGNtcCA9IDE7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgICAvLyBuIGlzIDAgb3IgMSwgY21wIGlzIC0xLlxyXG4gICAgICAgICAgICAgIC8vIElmIG4gaXMgMCwgdGhlcmUgaXMgbm8gbmVlZCB0byBjb21wYXJlIHljIGFuZCByZW0gYWdhaW4gYmVsb3csXHJcbiAgICAgICAgICAgICAgLy8gc28gY2hhbmdlIGNtcCB0byAxIHRvIGF2b2lkIGl0LlxyXG4gICAgICAgICAgICAgIC8vIElmIG4gaXMgMSwgbGVhdmUgY21wIGFzIC0xLCBzbyB5YyBhbmQgcmVtIGFyZSBjb21wYXJlZCBhZ2Fpbi5cclxuICAgICAgICAgICAgICBpZiAobiA9PSAwKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gZGl2aXNvciA8IHJlbWFpbmRlciwgc28gbiBtdXN0IGJlIGF0IGxlYXN0IDEuXHJcbiAgICAgICAgICAgICAgICBjbXAgPSBuID0gMTtcclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgIC8vIHByb2R1Y3QgPSBkaXZpc29yXHJcbiAgICAgICAgICAgICAgcHJvZCA9IHljLnNsaWNlKCk7XHJcbiAgICAgICAgICAgICAgcHJvZEwgPSBwcm9kLmxlbmd0aDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHByb2RMIDwgcmVtTCkgcHJvZCA9IFswXS5jb25jYXQocHJvZCk7XHJcblxyXG4gICAgICAgICAgICAvLyBTdWJ0cmFjdCBwcm9kdWN0IGZyb20gcmVtYWluZGVyLlxyXG4gICAgICAgICAgICBzdWJ0cmFjdChyZW0sIHByb2QsIHJlbUwsIGJhc2UpO1xyXG4gICAgICAgICAgICByZW1MID0gcmVtLmxlbmd0aDtcclxuXHJcbiAgICAgICAgICAgICAvLyBJZiBwcm9kdWN0IHdhcyA8IHJlbWFpbmRlci5cclxuICAgICAgICAgICAgaWYgKGNtcCA9PSAtMSkge1xyXG5cclxuICAgICAgICAgICAgICAvLyBDb21wYXJlIGRpdmlzb3IgYW5kIG5ldyByZW1haW5kZXIuXHJcbiAgICAgICAgICAgICAgLy8gSWYgZGl2aXNvciA8IG5ldyByZW1haW5kZXIsIHN1YnRyYWN0IGRpdmlzb3IgZnJvbSByZW1haW5kZXIuXHJcbiAgICAgICAgICAgICAgLy8gVHJpYWwgZGlnaXQgbiB0b28gbG93LlxyXG4gICAgICAgICAgICAgIC8vIG4gaXMgMSB0b28gbG93IGFib3V0IDUlIG9mIHRoZSB0aW1lLCBhbmQgdmVyeSByYXJlbHkgMiB0b28gbG93LlxyXG4gICAgICAgICAgICAgIHdoaWxlIChjb21wYXJlKHljLCByZW0sIHlMLCByZW1MKSA8IDEpIHtcclxuICAgICAgICAgICAgICAgIG4rKztcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBTdWJ0cmFjdCBkaXZpc29yIGZyb20gcmVtYWluZGVyLlxyXG4gICAgICAgICAgICAgICAgc3VidHJhY3QocmVtLCB5TCA8IHJlbUwgPyB5eiA6IHljLCByZW1MLCBiYXNlKTtcclxuICAgICAgICAgICAgICAgIHJlbUwgPSByZW0ubGVuZ3RoO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSBlbHNlIGlmIChjbXAgPT09IDApIHtcclxuICAgICAgICAgICAgbisrO1xyXG4gICAgICAgICAgICByZW0gPSBbMF07XHJcbiAgICAgICAgICB9IC8vIGVsc2UgY21wID09PSAxIGFuZCBuIHdpbGwgYmUgMFxyXG5cclxuICAgICAgICAgIC8vIEFkZCB0aGUgbmV4dCBkaWdpdCwgbiwgdG8gdGhlIHJlc3VsdCBhcnJheS5cclxuICAgICAgICAgIHFjW2krK10gPSBuO1xyXG5cclxuICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgcmVtYWluZGVyLlxyXG4gICAgICAgICAgaWYgKHJlbVswXSkge1xyXG4gICAgICAgICAgICByZW1bcmVtTCsrXSA9IHhjW3hpXSB8fCAwO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmVtID0gW3hjW3hpXV07XHJcbiAgICAgICAgICAgIHJlbUwgPSAxO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gd2hpbGUgKCh4aSsrIDwgeEwgfHwgcmVtWzBdICE9IG51bGwpICYmIHMtLSk7XHJcblxyXG4gICAgICAgIG1vcmUgPSByZW1bMF0gIT0gbnVsbDtcclxuXHJcbiAgICAgICAgLy8gTGVhZGluZyB6ZXJvP1xyXG4gICAgICAgIGlmICghcWNbMF0pIHFjLnNwbGljZSgwLCAxKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGJhc2UgPT0gQkFTRSkge1xyXG5cclxuICAgICAgICAvLyBUbyBjYWxjdWxhdGUgcS5lLCBmaXJzdCBnZXQgdGhlIG51bWJlciBvZiBkaWdpdHMgb2YgcWNbMF0uXHJcbiAgICAgICAgZm9yIChpID0gMSwgcyA9IHFjWzBdOyBzID49IDEwOyBzIC89IDEwLCBpKyspO1xyXG5cclxuICAgICAgICByb3VuZChxLCBkcCArIChxLmUgPSBpICsgZSAqIExPR19CQVNFIC0gMSkgKyAxLCBybSwgbW9yZSk7XHJcblxyXG4gICAgICAvLyBDYWxsZXIgaXMgY29udmVydEJhc2UuXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcS5lID0gZTtcclxuICAgICAgICBxLnIgPSArbW9yZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHE7XHJcbiAgICB9O1xyXG4gIH0pKCk7XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiBhIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIHZhbHVlIG9mIEJpZ051bWJlciBuIGluIGZpeGVkLXBvaW50IG9yIGV4cG9uZW50aWFsXHJcbiAgICogbm90YXRpb24gcm91bmRlZCB0byB0aGUgc3BlY2lmaWVkIGRlY2ltYWwgcGxhY2VzIG9yIHNpZ25pZmljYW50IGRpZ2l0cy5cclxuICAgKlxyXG4gICAqIG46IGEgQmlnTnVtYmVyLlxyXG4gICAqIGk6IHRoZSBpbmRleCBvZiB0aGUgbGFzdCBkaWdpdCByZXF1aXJlZCAoaS5lLiB0aGUgZGlnaXQgdGhhdCBtYXkgYmUgcm91bmRlZCB1cCkuXHJcbiAgICogcm06IHRoZSByb3VuZGluZyBtb2RlLlxyXG4gICAqIGlkOiAxICh0b0V4cG9uZW50aWFsKSBvciAyICh0b1ByZWNpc2lvbikuXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gZm9ybWF0KG4sIGksIHJtLCBpZCkge1xyXG4gICAgdmFyIGMwLCBlLCBuZSwgbGVuLCBzdHI7XHJcblxyXG4gICAgaWYgKHJtID09IG51bGwpIHJtID0gUk9VTkRJTkdfTU9ERTtcclxuICAgIGVsc2UgaW50Q2hlY2socm0sIDAsIDgpO1xyXG5cclxuICAgIGlmICghbi5jKSByZXR1cm4gbi50b1N0cmluZygpO1xyXG5cclxuICAgIGMwID0gbi5jWzBdO1xyXG4gICAgbmUgPSBuLmU7XHJcblxyXG4gICAgaWYgKGkgPT0gbnVsbCkge1xyXG4gICAgICBzdHIgPSBjb2VmZlRvU3RyaW5nKG4uYyk7XHJcbiAgICAgIHN0ciA9IGlkID09IDEgfHwgaWQgPT0gMiAmJiAobmUgPD0gVE9fRVhQX05FRyB8fCBuZSA+PSBUT19FWFBfUE9TKVxyXG4gICAgICAgPyB0b0V4cG9uZW50aWFsKHN0ciwgbmUpXHJcbiAgICAgICA6IHRvRml4ZWRQb2ludChzdHIsIG5lLCAnMCcpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgbiA9IHJvdW5kKG5ldyBCaWdOdW1iZXIobiksIGksIHJtKTtcclxuXHJcbiAgICAgIC8vIG4uZSBtYXkgaGF2ZSBjaGFuZ2VkIGlmIHRoZSB2YWx1ZSB3YXMgcm91bmRlZCB1cC5cclxuICAgICAgZSA9IG4uZTtcclxuXHJcbiAgICAgIHN0ciA9IGNvZWZmVG9TdHJpbmcobi5jKTtcclxuICAgICAgbGVuID0gc3RyLmxlbmd0aDtcclxuXHJcbiAgICAgIC8vIHRvUHJlY2lzaW9uIHJldHVybnMgZXhwb25lbnRpYWwgbm90YXRpb24gaWYgdGhlIG51bWJlciBvZiBzaWduaWZpY2FudCBkaWdpdHNcclxuICAgICAgLy8gc3BlY2lmaWVkIGlzIGxlc3MgdGhhbiB0aGUgbnVtYmVyIG9mIGRpZ2l0cyBuZWNlc3NhcnkgdG8gcmVwcmVzZW50IHRoZSBpbnRlZ2VyXHJcbiAgICAgIC8vIHBhcnQgb2YgdGhlIHZhbHVlIGluIGZpeGVkLXBvaW50IG5vdGF0aW9uLlxyXG5cclxuICAgICAgLy8gRXhwb25lbnRpYWwgbm90YXRpb24uXHJcbiAgICAgIGlmIChpZCA9PSAxIHx8IGlkID09IDIgJiYgKGkgPD0gZSB8fCBlIDw9IFRPX0VYUF9ORUcpKSB7XHJcblxyXG4gICAgICAgIC8vIEFwcGVuZCB6ZXJvcz9cclxuICAgICAgICBmb3IgKDsgbGVuIDwgaTsgc3RyICs9ICcwJywgbGVuKyspO1xyXG4gICAgICAgIHN0ciA9IHRvRXhwb25lbnRpYWwoc3RyLCBlKTtcclxuXHJcbiAgICAgIC8vIEZpeGVkLXBvaW50IG5vdGF0aW9uLlxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGkgLT0gbmU7XHJcbiAgICAgICAgc3RyID0gdG9GaXhlZFBvaW50KHN0ciwgZSwgJzAnKTtcclxuXHJcbiAgICAgICAgLy8gQXBwZW5kIHplcm9zP1xyXG4gICAgICAgIGlmIChlICsgMSA+IGxlbikge1xyXG4gICAgICAgICAgaWYgKC0taSA+IDApIGZvciAoc3RyICs9ICcuJzsgaS0tOyBzdHIgKz0gJzAnKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgaSArPSBlIC0gbGVuO1xyXG4gICAgICAgICAgaWYgKGkgPiAwKSB7XHJcbiAgICAgICAgICAgIGlmIChlICsgMSA9PSBsZW4pIHN0ciArPSAnLic7XHJcbiAgICAgICAgICAgIGZvciAoOyBpLS07IHN0ciArPSAnMCcpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBuLnMgPCAwICYmIGMwID8gJy0nICsgc3RyIDogc3RyO1xyXG4gIH1cclxuXHJcblxyXG4gIC8vIEhhbmRsZSBCaWdOdW1iZXIubWF4IGFuZCBCaWdOdW1iZXIubWluLlxyXG4gIGZ1bmN0aW9uIG1heE9yTWluKGFyZ3MsIG1ldGhvZCkge1xyXG4gICAgdmFyIG4sXHJcbiAgICAgIGkgPSAxLFxyXG4gICAgICBtID0gbmV3IEJpZ051bWJlcihhcmdzWzBdKTtcclxuXHJcbiAgICBmb3IgKDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcclxuICAgICAgbiA9IG5ldyBCaWdOdW1iZXIoYXJnc1tpXSk7XHJcblxyXG4gICAgICAvLyBJZiBhbnkgbnVtYmVyIGlzIE5hTiwgcmV0dXJuIE5hTi5cclxuICAgICAgaWYgKCFuLnMpIHtcclxuICAgICAgICBtID0gbjtcclxuICAgICAgICBicmVhaztcclxuICAgICAgfSBlbHNlIGlmIChtZXRob2QuY2FsbChtLCBuKSkge1xyXG4gICAgICAgIG0gPSBuO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG07XHJcbiAgfVxyXG5cclxuXHJcbiAgLypcclxuICAgKiBTdHJpcCB0cmFpbGluZyB6ZXJvcywgY2FsY3VsYXRlIGJhc2UgMTAgZXhwb25lbnQgYW5kIGNoZWNrIGFnYWluc3QgTUlOX0VYUCBhbmQgTUFYX0VYUC5cclxuICAgKiBDYWxsZWQgYnkgbWludXMsIHBsdXMgYW5kIHRpbWVzLlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIG5vcm1hbGlzZShuLCBjLCBlKSB7XHJcbiAgICB2YXIgaSA9IDEsXHJcbiAgICAgIGogPSBjLmxlbmd0aDtcclxuXHJcbiAgICAgLy8gUmVtb3ZlIHRyYWlsaW5nIHplcm9zLlxyXG4gICAgZm9yICg7ICFjWy0tal07IGMucG9wKCkpO1xyXG5cclxuICAgIC8vIENhbGN1bGF0ZSB0aGUgYmFzZSAxMCBleHBvbmVudC4gRmlyc3QgZ2V0IHRoZSBudW1iZXIgb2YgZGlnaXRzIG9mIGNbMF0uXHJcbiAgICBmb3IgKGogPSBjWzBdOyBqID49IDEwOyBqIC89IDEwLCBpKyspO1xyXG5cclxuICAgIC8vIE92ZXJmbG93P1xyXG4gICAgaWYgKChlID0gaSArIGUgKiBMT0dfQkFTRSAtIDEpID4gTUFYX0VYUCkge1xyXG5cclxuICAgICAgLy8gSW5maW5pdHkuXHJcbiAgICAgIG4uYyA9IG4uZSA9IG51bGw7XHJcblxyXG4gICAgLy8gVW5kZXJmbG93P1xyXG4gICAgfSBlbHNlIGlmIChlIDwgTUlOX0VYUCkge1xyXG5cclxuICAgICAgLy8gWmVyby5cclxuICAgICAgbi5jID0gW24uZSA9IDBdO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgbi5lID0gZTtcclxuICAgICAgbi5jID0gYztcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbjtcclxuICB9XHJcblxyXG5cclxuICAvLyBIYW5kbGUgdmFsdWVzIHRoYXQgZmFpbCB0aGUgdmFsaWRpdHkgdGVzdCBpbiBCaWdOdW1iZXIuXHJcbiAgcGFyc2VOdW1lcmljID0gKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBiYXNlUHJlZml4ID0gL14oLT8pMChbeGJvXSkoPz1cXHdbXFx3Ll0qJCkvaSxcclxuICAgICAgZG90QWZ0ZXIgPSAvXihbXi5dKylcXC4kLyxcclxuICAgICAgZG90QmVmb3JlID0gL15cXC4oW14uXSspJC8sXHJcbiAgICAgIGlzSW5maW5pdHlPck5hTiA9IC9eLT8oSW5maW5pdHl8TmFOKSQvLFxyXG4gICAgICB3aGl0ZXNwYWNlT3JQbHVzID0gL15cXHMqXFwrKD89W1xcdy5dKXxeXFxzK3xcXHMrJC9nO1xyXG5cclxuICAgIHJldHVybiBmdW5jdGlvbiAoeCwgc3RyLCBpc051bSwgYikge1xyXG4gICAgICB2YXIgYmFzZSxcclxuICAgICAgICBzID0gaXNOdW0gPyBzdHIgOiBzdHIucmVwbGFjZSh3aGl0ZXNwYWNlT3JQbHVzLCAnJyk7XHJcblxyXG4gICAgICAvLyBObyBleGNlcHRpb24gb24gwrFJbmZpbml0eSBvciBOYU4uXHJcbiAgICAgIGlmIChpc0luZmluaXR5T3JOYU4udGVzdChzKSkge1xyXG4gICAgICAgIHgucyA9IGlzTmFOKHMpID8gbnVsbCA6IHMgPCAwID8gLTEgOiAxO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGlmICghaXNOdW0pIHtcclxuXHJcbiAgICAgICAgICAvLyBiYXNlUHJlZml4ID0gL14oLT8pMChbeGJvXSkoPz1cXHdbXFx3Ll0qJCkvaVxyXG4gICAgICAgICAgcyA9IHMucmVwbGFjZShiYXNlUHJlZml4LCBmdW5jdGlvbiAobSwgcDEsIHAyKSB7XHJcbiAgICAgICAgICAgIGJhc2UgPSAocDIgPSBwMi50b0xvd2VyQ2FzZSgpKSA9PSAneCcgPyAxNiA6IHAyID09ICdiJyA/IDIgOiA4O1xyXG4gICAgICAgICAgICByZXR1cm4gIWIgfHwgYiA9PSBiYXNlID8gcDEgOiBtO1xyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgaWYgKGIpIHtcclxuICAgICAgICAgICAgYmFzZSA9IGI7XHJcblxyXG4gICAgICAgICAgICAvLyBFLmcuICcxLicgdG8gJzEnLCAnLjEnIHRvICcwLjEnXHJcbiAgICAgICAgICAgIHMgPSBzLnJlcGxhY2UoZG90QWZ0ZXIsICckMScpLnJlcGxhY2UoZG90QmVmb3JlLCAnMC4kMScpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGlmIChzdHIgIT0gcykgcmV0dXJuIG5ldyBCaWdOdW1iZXIocywgYmFzZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyAnW0JpZ051bWJlciBFcnJvcl0gTm90IGEgbnVtYmVyOiB7bn0nXHJcbiAgICAgICAgLy8gJ1tCaWdOdW1iZXIgRXJyb3JdIE5vdCBhIGJhc2Uge2J9IG51bWJlcjoge259J1xyXG4gICAgICAgIGlmIChCaWdOdW1iZXIuREVCVUcpIHtcclxuICAgICAgICAgIHRocm93IEVycm9yXHJcbiAgICAgICAgICAgIChiaWdudW1iZXJFcnJvciArICdOb3QgYScgKyAoYiA/ICcgYmFzZSAnICsgYiA6ICcnKSArICcgbnVtYmVyOiAnICsgc3RyKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIE5hTlxyXG4gICAgICAgIHgucyA9IG51bGw7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHguYyA9IHguZSA9IG51bGw7XHJcbiAgICB9XHJcbiAgfSkoKTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogUm91bmQgeCB0byBzZCBzaWduaWZpY2FudCBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBybS4gQ2hlY2sgZm9yIG92ZXIvdW5kZXItZmxvdy5cclxuICAgKiBJZiByIGlzIHRydXRoeSwgaXQgaXMga25vd24gdGhhdCB0aGVyZSBhcmUgbW9yZSBkaWdpdHMgYWZ0ZXIgdGhlIHJvdW5kaW5nIGRpZ2l0LlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIHJvdW5kKHgsIHNkLCBybSwgcikge1xyXG4gICAgdmFyIGQsIGksIGosIGssIG4sIG5pLCByZCxcclxuICAgICAgeGMgPSB4LmMsXHJcbiAgICAgIHBvd3MxMCA9IFBPV1NfVEVOO1xyXG5cclxuICAgIC8vIGlmIHggaXMgbm90IEluZmluaXR5IG9yIE5hTi4uLlxyXG4gICAgaWYgKHhjKSB7XHJcblxyXG4gICAgICAvLyByZCBpcyB0aGUgcm91bmRpbmcgZGlnaXQsIGkuZS4gdGhlIGRpZ2l0IGFmdGVyIHRoZSBkaWdpdCB0aGF0IG1heSBiZSByb3VuZGVkIHVwLlxyXG4gICAgICAvLyBuIGlzIGEgYmFzZSAxZTE0IG51bWJlciwgdGhlIHZhbHVlIG9mIHRoZSBlbGVtZW50IG9mIGFycmF5IHguYyBjb250YWluaW5nIHJkLlxyXG4gICAgICAvLyBuaSBpcyB0aGUgaW5kZXggb2YgbiB3aXRoaW4geC5jLlxyXG4gICAgICAvLyBkIGlzIHRoZSBudW1iZXIgb2YgZGlnaXRzIG9mIG4uXHJcbiAgICAgIC8vIGkgaXMgdGhlIGluZGV4IG9mIHJkIHdpdGhpbiBuIGluY2x1ZGluZyBsZWFkaW5nIHplcm9zLlxyXG4gICAgICAvLyBqIGlzIHRoZSBhY3R1YWwgaW5kZXggb2YgcmQgd2l0aGluIG4gKGlmIDwgMCwgcmQgaXMgYSBsZWFkaW5nIHplcm8pLlxyXG4gICAgICBvdXQ6IHtcclxuXHJcbiAgICAgICAgLy8gR2V0IHRoZSBudW1iZXIgb2YgZGlnaXRzIG9mIHRoZSBmaXJzdCBlbGVtZW50IG9mIHhjLlxyXG4gICAgICAgIGZvciAoZCA9IDEsIGsgPSB4Y1swXTsgayA+PSAxMDsgayAvPSAxMCwgZCsrKTtcclxuICAgICAgICBpID0gc2QgLSBkO1xyXG5cclxuICAgICAgICAvLyBJZiB0aGUgcm91bmRpbmcgZGlnaXQgaXMgaW4gdGhlIGZpcnN0IGVsZW1lbnQgb2YgeGMuLi5cclxuICAgICAgICBpZiAoaSA8IDApIHtcclxuICAgICAgICAgIGkgKz0gTE9HX0JBU0U7XHJcbiAgICAgICAgICBqID0gc2Q7XHJcbiAgICAgICAgICBuID0geGNbbmkgPSAwXTtcclxuXHJcbiAgICAgICAgICAvLyBHZXQgdGhlIHJvdW5kaW5nIGRpZ2l0IGF0IGluZGV4IGogb2Ygbi5cclxuICAgICAgICAgIHJkID0gbiAvIHBvd3MxMFtkIC0gaiAtIDFdICUgMTAgfCAwO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBuaSA9IG1hdGhjZWlsKChpICsgMSkgLyBMT0dfQkFTRSk7XHJcblxyXG4gICAgICAgICAgaWYgKG5pID49IHhjLmxlbmd0aCkge1xyXG5cclxuICAgICAgICAgICAgaWYgKHIpIHtcclxuXHJcbiAgICAgICAgICAgICAgLy8gTmVlZGVkIGJ5IHNxcnQuXHJcbiAgICAgICAgICAgICAgZm9yICg7IHhjLmxlbmd0aCA8PSBuaTsgeGMucHVzaCgwKSk7XHJcbiAgICAgICAgICAgICAgbiA9IHJkID0gMDtcclxuICAgICAgICAgICAgICBkID0gMTtcclxuICAgICAgICAgICAgICBpICU9IExPR19CQVNFO1xyXG4gICAgICAgICAgICAgIGogPSBpIC0gTE9HX0JBU0UgKyAxO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIGJyZWFrIG91dDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbiA9IGsgPSB4Y1tuaV07XHJcblxyXG4gICAgICAgICAgICAvLyBHZXQgdGhlIG51bWJlciBvZiBkaWdpdHMgb2Ygbi5cclxuICAgICAgICAgICAgZm9yIChkID0gMTsgayA+PSAxMDsgayAvPSAxMCwgZCsrKTtcclxuXHJcbiAgICAgICAgICAgIC8vIEdldCB0aGUgaW5kZXggb2YgcmQgd2l0aGluIG4uXHJcbiAgICAgICAgICAgIGkgJT0gTE9HX0JBU0U7XHJcblxyXG4gICAgICAgICAgICAvLyBHZXQgdGhlIGluZGV4IG9mIHJkIHdpdGhpbiBuLCBhZGp1c3RlZCBmb3IgbGVhZGluZyB6ZXJvcy5cclxuICAgICAgICAgICAgLy8gVGhlIG51bWJlciBvZiBsZWFkaW5nIHplcm9zIG9mIG4gaXMgZ2l2ZW4gYnkgTE9HX0JBU0UgLSBkLlxyXG4gICAgICAgICAgICBqID0gaSAtIExPR19CQVNFICsgZDtcclxuXHJcbiAgICAgICAgICAgIC8vIEdldCB0aGUgcm91bmRpbmcgZGlnaXQgYXQgaW5kZXggaiBvZiBuLlxyXG4gICAgICAgICAgICByZCA9IGogPCAwID8gMCA6IG4gLyBwb3dzMTBbZCAtIGogLSAxXSAlIDEwIHwgMDtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHIgPSByIHx8IHNkIDwgMCB8fFxyXG5cclxuICAgICAgICAvLyBBcmUgdGhlcmUgYW55IG5vbi16ZXJvIGRpZ2l0cyBhZnRlciB0aGUgcm91bmRpbmcgZGlnaXQ/XHJcbiAgICAgICAgLy8gVGhlIGV4cHJlc3Npb24gIG4gJSBwb3dzMTBbZCAtIGogLSAxXSAgcmV0dXJucyBhbGwgZGlnaXRzIG9mIG4gdG8gdGhlIHJpZ2h0XHJcbiAgICAgICAgLy8gb2YgdGhlIGRpZ2l0IGF0IGosIGUuZy4gaWYgbiBpcyA5MDg3MTQgYW5kIGogaXMgMiwgdGhlIGV4cHJlc3Npb24gZ2l2ZXMgNzE0LlxyXG4gICAgICAgICB4Y1tuaSArIDFdICE9IG51bGwgfHwgKGogPCAwID8gbiA6IG4gJSBwb3dzMTBbZCAtIGogLSAxXSk7XHJcblxyXG4gICAgICAgIHIgPSBybSA8IDRcclxuICAgICAgICAgPyAocmQgfHwgcikgJiYgKHJtID09IDAgfHwgcm0gPT0gKHgucyA8IDAgPyAzIDogMikpXHJcbiAgICAgICAgIDogcmQgPiA1IHx8IHJkID09IDUgJiYgKHJtID09IDQgfHwgciB8fCBybSA9PSA2ICYmXHJcblxyXG4gICAgICAgICAgLy8gQ2hlY2sgd2hldGhlciB0aGUgZGlnaXQgdG8gdGhlIGxlZnQgb2YgdGhlIHJvdW5kaW5nIGRpZ2l0IGlzIG9kZC5cclxuICAgICAgICAgICgoaSA+IDAgPyBqID4gMCA/IG4gLyBwb3dzMTBbZCAtIGpdIDogMCA6IHhjW25pIC0gMV0pICUgMTApICYgMSB8fFxyXG4gICAgICAgICAgIHJtID09ICh4LnMgPCAwID8gOCA6IDcpKTtcclxuXHJcbiAgICAgICAgaWYgKHNkIDwgMSB8fCAheGNbMF0pIHtcclxuICAgICAgICAgIHhjLmxlbmd0aCA9IDA7XHJcblxyXG4gICAgICAgICAgaWYgKHIpIHtcclxuXHJcbiAgICAgICAgICAgIC8vIENvbnZlcnQgc2QgdG8gZGVjaW1hbCBwbGFjZXMuXHJcbiAgICAgICAgICAgIHNkIC09IHguZSArIDE7XHJcblxyXG4gICAgICAgICAgICAvLyAxLCAwLjEsIDAuMDEsIDAuMDAxLCAwLjAwMDEgZXRjLlxyXG4gICAgICAgICAgICB4Y1swXSA9IHBvd3MxMFsoTE9HX0JBU0UgLSBzZCAlIExPR19CQVNFKSAlIExPR19CQVNFXTtcclxuICAgICAgICAgICAgeC5lID0gLXNkIHx8IDA7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgLy8gWmVyby5cclxuICAgICAgICAgICAgeGNbMF0gPSB4LmUgPSAwO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHJldHVybiB4O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUmVtb3ZlIGV4Y2VzcyBkaWdpdHMuXHJcbiAgICAgICAgaWYgKGkgPT0gMCkge1xyXG4gICAgICAgICAgeGMubGVuZ3RoID0gbmk7XHJcbiAgICAgICAgICBrID0gMTtcclxuICAgICAgICAgIG5pLS07XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHhjLmxlbmd0aCA9IG5pICsgMTtcclxuICAgICAgICAgIGsgPSBwb3dzMTBbTE9HX0JBU0UgLSBpXTtcclxuXHJcbiAgICAgICAgICAvLyBFLmcuIDU2NzAwIGJlY29tZXMgNTYwMDAgaWYgNyBpcyB0aGUgcm91bmRpbmcgZGlnaXQuXHJcbiAgICAgICAgICAvLyBqID4gMCBtZWFucyBpID4gbnVtYmVyIG9mIGxlYWRpbmcgemVyb3Mgb2Ygbi5cclxuICAgICAgICAgIHhjW25pXSA9IGogPiAwID8gbWF0aGZsb29yKG4gLyBwb3dzMTBbZCAtIGpdICUgcG93czEwW2pdKSAqIGsgOiAwO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUm91bmQgdXA/XHJcbiAgICAgICAgaWYgKHIpIHtcclxuXHJcbiAgICAgICAgICBmb3IgKDsgOykge1xyXG5cclxuICAgICAgICAgICAgLy8gSWYgdGhlIGRpZ2l0IHRvIGJlIHJvdW5kZWQgdXAgaXMgaW4gdGhlIGZpcnN0IGVsZW1lbnQgb2YgeGMuLi5cclxuICAgICAgICAgICAgaWYgKG5pID09IDApIHtcclxuXHJcbiAgICAgICAgICAgICAgLy8gaSB3aWxsIGJlIHRoZSBsZW5ndGggb2YgeGNbMF0gYmVmb3JlIGsgaXMgYWRkZWQuXHJcbiAgICAgICAgICAgICAgZm9yIChpID0gMSwgaiA9IHhjWzBdOyBqID49IDEwOyBqIC89IDEwLCBpKyspO1xyXG4gICAgICAgICAgICAgIGogPSB4Y1swXSArPSBrO1xyXG4gICAgICAgICAgICAgIGZvciAoayA9IDE7IGogPj0gMTA7IGogLz0gMTAsIGsrKyk7XHJcblxyXG4gICAgICAgICAgICAgIC8vIGlmIGkgIT0gayB0aGUgbGVuZ3RoIGhhcyBpbmNyZWFzZWQuXHJcbiAgICAgICAgICAgICAgaWYgKGkgIT0gaykge1xyXG4gICAgICAgICAgICAgICAgeC5lKys7XHJcbiAgICAgICAgICAgICAgICBpZiAoeGNbMF0gPT0gQkFTRSkgeGNbMF0gPSAxO1xyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgeGNbbmldICs9IGs7XHJcbiAgICAgICAgICAgICAgaWYgKHhjW25pXSAhPSBCQVNFKSBicmVhaztcclxuICAgICAgICAgICAgICB4Y1tuaS0tXSA9IDA7XHJcbiAgICAgICAgICAgICAgayA9IDE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFJlbW92ZSB0cmFpbGluZyB6ZXJvcy5cclxuICAgICAgICBmb3IgKGkgPSB4Yy5sZW5ndGg7IHhjWy0taV0gPT09IDA7IHhjLnBvcCgpKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gT3ZlcmZsb3c/IEluZmluaXR5LlxyXG4gICAgICBpZiAoeC5lID4gTUFYX0VYUCkge1xyXG4gICAgICAgIHguYyA9IHguZSA9IG51bGw7XHJcblxyXG4gICAgICAvLyBVbmRlcmZsb3c/IFplcm8uXHJcbiAgICAgIH0gZWxzZSBpZiAoeC5lIDwgTUlOX0VYUCkge1xyXG4gICAgICAgIHguYyA9IFt4LmUgPSAwXTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB4O1xyXG4gIH1cclxuXHJcblxyXG4gIGZ1bmN0aW9uIHZhbHVlT2Yobikge1xyXG4gICAgdmFyIHN0cixcclxuICAgICAgZSA9IG4uZTtcclxuXHJcbiAgICBpZiAoZSA9PT0gbnVsbCkgcmV0dXJuIG4udG9TdHJpbmcoKTtcclxuXHJcbiAgICBzdHIgPSBjb2VmZlRvU3RyaW5nKG4uYyk7XHJcblxyXG4gICAgc3RyID0gZSA8PSBUT19FWFBfTkVHIHx8IGUgPj0gVE9fRVhQX1BPU1xyXG4gICAgICA/IHRvRXhwb25lbnRpYWwoc3RyLCBlKVxyXG4gICAgICA6IHRvRml4ZWRQb2ludChzdHIsIGUsICcwJyk7XHJcblxyXG4gICAgcmV0dXJuIG4ucyA8IDAgPyAnLScgKyBzdHIgOiBzdHI7XHJcbiAgfVxyXG5cclxuXHJcbiAgLy8gUFJPVE9UWVBFL0lOU1RBTkNFIE1FVEhPRFNcclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIGEgbmV3IEJpZ051bWJlciB3aG9zZSB2YWx1ZSBpcyB0aGUgYWJzb2x1dGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIuXHJcbiAgICovXHJcbiAgUC5hYnNvbHV0ZVZhbHVlID0gUC5hYnMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgeCA9IG5ldyBCaWdOdW1iZXIodGhpcyk7XHJcbiAgICBpZiAoeC5zIDwgMCkgeC5zID0gMTtcclxuICAgIHJldHVybiB4O1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVyblxyXG4gICAqICAgMSBpZiB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgaXMgZ3JlYXRlciB0aGFuIHRoZSB2YWx1ZSBvZiBCaWdOdW1iZXIoeSwgYiksXHJcbiAgICogICAtMSBpZiB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgaXMgbGVzcyB0aGFuIHRoZSB2YWx1ZSBvZiBCaWdOdW1iZXIoeSwgYiksXHJcbiAgICogICAwIGlmIHRoZXkgaGF2ZSB0aGUgc2FtZSB2YWx1ZSxcclxuICAgKiAgIG9yIG51bGwgaWYgdGhlIHZhbHVlIG9mIGVpdGhlciBpcyBOYU4uXHJcbiAgICovXHJcbiAgUC5jb21wYXJlZFRvID0gZnVuY3Rpb24gKHksIGIpIHtcclxuICAgIHJldHVybiBjb21wYXJlKHRoaXMsIG5ldyBCaWdOdW1iZXIoeSwgYikpO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIElmIGRwIGlzIHVuZGVmaW5lZCBvciBudWxsIG9yIHRydWUgb3IgZmFsc2UsIHJldHVybiB0aGUgbnVtYmVyIG9mIGRlY2ltYWwgcGxhY2VzIG9mIHRoZVxyXG4gICAqIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyLCBvciBudWxsIGlmIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBpcyDCsUluZmluaXR5IG9yIE5hTi5cclxuICAgKlxyXG4gICAqIE90aGVyd2lzZSwgaWYgZHAgaXMgYSBudW1iZXIsIHJldHVybiBhIG5ldyBCaWdOdW1iZXIgd2hvc2UgdmFsdWUgaXMgdGhlIHZhbHVlIG9mIHRoaXNcclxuICAgKiBCaWdOdW1iZXIgcm91bmRlZCB0byBhIG1heGltdW0gb2YgZHAgZGVjaW1hbCBwbGFjZXMgdXNpbmcgcm91bmRpbmcgbW9kZSBybSwgb3JcclxuICAgKiBST1VORElOR19NT0RFIGlmIHJtIGlzIG9taXR0ZWQuXHJcbiAgICpcclxuICAgKiBbZHBdIHtudW1iZXJ9IERlY2ltYWwgcGxhY2VzOiBpbnRlZ2VyLCAwIHRvIE1BWCBpbmNsdXNpdmUuXHJcbiAgICogW3JtXSB7bnVtYmVyfSBSb3VuZGluZyBtb2RlLiBJbnRlZ2VyLCAwIHRvIDggaW5jbHVzaXZlLlxyXG4gICAqXHJcbiAgICogJ1tCaWdOdW1iZXIgRXJyb3JdIEFyZ3VtZW50IHtub3QgYSBwcmltaXRpdmUgbnVtYmVyfG5vdCBhbiBpbnRlZ2VyfG91dCBvZiByYW5nZX06IHtkcHxybX0nXHJcbiAgICovXHJcbiAgUC5kZWNpbWFsUGxhY2VzID0gUC5kcCA9IGZ1bmN0aW9uIChkcCwgcm0pIHtcclxuICAgIHZhciBjLCBuLCB2LFxyXG4gICAgICB4ID0gdGhpcztcclxuXHJcbiAgICBpZiAoZHAgIT0gbnVsbCkge1xyXG4gICAgICBpbnRDaGVjayhkcCwgMCwgTUFYKTtcclxuICAgICAgaWYgKHJtID09IG51bGwpIHJtID0gUk9VTkRJTkdfTU9ERTtcclxuICAgICAgZWxzZSBpbnRDaGVjayhybSwgMCwgOCk7XHJcblxyXG4gICAgICByZXR1cm4gcm91bmQobmV3IEJpZ051bWJlcih4KSwgZHAgKyB4LmUgKyAxLCBybSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCEoYyA9IHguYykpIHJldHVybiBudWxsO1xyXG4gICAgbiA9ICgodiA9IGMubGVuZ3RoIC0gMSkgLSBiaXRGbG9vcih0aGlzLmUgLyBMT0dfQkFTRSkpICogTE9HX0JBU0U7XHJcblxyXG4gICAgLy8gU3VidHJhY3QgdGhlIG51bWJlciBvZiB0cmFpbGluZyB6ZXJvcyBvZiB0aGUgbGFzdCBudW1iZXIuXHJcbiAgICBpZiAodiA9IGNbdl0pIGZvciAoOyB2ICUgMTAgPT0gMDsgdiAvPSAxMCwgbi0tKTtcclxuICAgIGlmIChuIDwgMCkgbiA9IDA7XHJcblxyXG4gICAgcmV0dXJuIG47XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogIG4gLyAwID0gSVxyXG4gICAqICBuIC8gTiA9IE5cclxuICAgKiAgbiAvIEkgPSAwXHJcbiAgICogIDAgLyBuID0gMFxyXG4gICAqICAwIC8gMCA9IE5cclxuICAgKiAgMCAvIE4gPSBOXHJcbiAgICogIDAgLyBJID0gMFxyXG4gICAqICBOIC8gbiA9IE5cclxuICAgKiAgTiAvIDAgPSBOXHJcbiAgICogIE4gLyBOID0gTlxyXG4gICAqICBOIC8gSSA9IE5cclxuICAgKiAgSSAvIG4gPSBJXHJcbiAgICogIEkgLyAwID0gSVxyXG4gICAqICBJIC8gTiA9IE5cclxuICAgKiAgSSAvIEkgPSBOXHJcbiAgICpcclxuICAgKiBSZXR1cm4gYSBuZXcgQmlnTnVtYmVyIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBkaXZpZGVkIGJ5IHRoZSB2YWx1ZSBvZlxyXG4gICAqIEJpZ051bWJlcih5LCBiKSwgcm91bmRlZCBhY2NvcmRpbmcgdG8gREVDSU1BTF9QTEFDRVMgYW5kIFJPVU5ESU5HX01PREUuXHJcbiAgICovXHJcbiAgUC5kaXZpZGVkQnkgPSBQLmRpdiA9IGZ1bmN0aW9uICh5LCBiKSB7XHJcbiAgICByZXR1cm4gZGl2KHRoaXMsIG5ldyBCaWdOdW1iZXIoeSwgYiksIERFQ0lNQUxfUExBQ0VTLCBST1VORElOR19NT0RFKTtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYSBuZXcgQmlnTnVtYmVyIHdob3NlIHZhbHVlIGlzIHRoZSBpbnRlZ2VyIHBhcnQgb2YgZGl2aWRpbmcgdGhlIHZhbHVlIG9mIHRoaXNcclxuICAgKiBCaWdOdW1iZXIgYnkgdGhlIHZhbHVlIG9mIEJpZ051bWJlcih5LCBiKS5cclxuICAgKi9cclxuICBQLmRpdmlkZWRUb0ludGVnZXJCeSA9IFAuaWRpdiA9IGZ1bmN0aW9uICh5LCBiKSB7XHJcbiAgICByZXR1cm4gZGl2KHRoaXMsIG5ldyBCaWdOdW1iZXIoeSwgYiksIDAsIDEpO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiBhIEJpZ051bWJlciB3aG9zZSB2YWx1ZSBpcyB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgZXhwb25lbnRpYXRlZCBieSBuLlxyXG4gICAqXHJcbiAgICogSWYgbSBpcyBwcmVzZW50LCByZXR1cm4gdGhlIHJlc3VsdCBtb2R1bG8gbS5cclxuICAgKiBJZiBuIGlzIG5lZ2F0aXZlIHJvdW5kIGFjY29yZGluZyB0byBERUNJTUFMX1BMQUNFUyBhbmQgUk9VTkRJTkdfTU9ERS5cclxuICAgKiBJZiBQT1dfUFJFQ0lTSU9OIGlzIG5vbi16ZXJvIGFuZCBtIGlzIG5vdCBwcmVzZW50LCByb3VuZCB0byBQT1dfUFJFQ0lTSU9OIHVzaW5nIFJPVU5ESU5HX01PREUuXHJcbiAgICpcclxuICAgKiBUaGUgbW9kdWxhciBwb3dlciBvcGVyYXRpb24gd29ya3MgZWZmaWNpZW50bHkgd2hlbiB4LCBuLCBhbmQgbSBhcmUgaW50ZWdlcnMsIG90aGVyd2lzZSBpdFxyXG4gICAqIGlzIGVxdWl2YWxlbnQgdG8gY2FsY3VsYXRpbmcgeC5leHBvbmVudGlhdGVkQnkobikubW9kdWxvKG0pIHdpdGggYSBQT1dfUFJFQ0lTSU9OIG9mIDAuXHJcbiAgICpcclxuICAgKiBuIHtudW1iZXJ8c3RyaW5nfEJpZ051bWJlcn0gVGhlIGV4cG9uZW50LiBBbiBpbnRlZ2VyLlxyXG4gICAqIFttXSB7bnVtYmVyfHN0cmluZ3xCaWdOdW1iZXJ9IFRoZSBtb2R1bHVzLlxyXG4gICAqXHJcbiAgICogJ1tCaWdOdW1iZXIgRXJyb3JdIEV4cG9uZW50IG5vdCBhbiBpbnRlZ2VyOiB7bn0nXHJcbiAgICovXHJcbiAgUC5leHBvbmVudGlhdGVkQnkgPSBQLnBvdyA9IGZ1bmN0aW9uIChuLCBtKSB7XHJcbiAgICB2YXIgaGFsZiwgaXNNb2RFeHAsIGksIGssIG1vcmUsIG5Jc0JpZywgbklzTmVnLCBuSXNPZGQsIHksXHJcbiAgICAgIHggPSB0aGlzO1xyXG5cclxuICAgIG4gPSBuZXcgQmlnTnVtYmVyKG4pO1xyXG5cclxuICAgIC8vIEFsbG93IE5hTiBhbmQgwrFJbmZpbml0eSwgYnV0IG5vdCBvdGhlciBub24taW50ZWdlcnMuXHJcbiAgICBpZiAobi5jICYmICFuLmlzSW50ZWdlcigpKSB7XHJcbiAgICAgIHRocm93IEVycm9yXHJcbiAgICAgICAgKGJpZ251bWJlckVycm9yICsgJ0V4cG9uZW50IG5vdCBhbiBpbnRlZ2VyOiAnICsgdmFsdWVPZihuKSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKG0gIT0gbnVsbCkgbSA9IG5ldyBCaWdOdW1iZXIobSk7XHJcblxyXG4gICAgLy8gRXhwb25lbnQgb2YgTUFYX1NBRkVfSU5URUdFUiBpcyAxNS5cclxuICAgIG5Jc0JpZyA9IG4uZSA+IDE0O1xyXG5cclxuICAgIC8vIElmIHggaXMgTmFOLCDCsUluZmluaXR5LCDCsTAgb3IgwrExLCBvciBuIGlzIMKxSW5maW5pdHksIE5hTiBvciDCsTAuXHJcbiAgICBpZiAoIXguYyB8fCAheC5jWzBdIHx8IHguY1swXSA9PSAxICYmICF4LmUgJiYgeC5jLmxlbmd0aCA9PSAxIHx8ICFuLmMgfHwgIW4uY1swXSkge1xyXG5cclxuICAgICAgLy8gVGhlIHNpZ24gb2YgdGhlIHJlc3VsdCBvZiBwb3cgd2hlbiB4IGlzIG5lZ2F0aXZlIGRlcGVuZHMgb24gdGhlIGV2ZW5uZXNzIG9mIG4uXHJcbiAgICAgIC8vIElmICtuIG92ZXJmbG93cyB0byDCsUluZmluaXR5LCB0aGUgZXZlbm5lc3Mgb2YgbiB3b3VsZCBiZSBub3QgYmUga25vd24uXHJcbiAgICAgIHkgPSBuZXcgQmlnTnVtYmVyKE1hdGgucG93KCt2YWx1ZU9mKHgpLCBuSXNCaWcgPyAyIC0gaXNPZGQobikgOiArdmFsdWVPZihuKSkpO1xyXG4gICAgICByZXR1cm4gbSA/IHkubW9kKG0pIDogeTtcclxuICAgIH1cclxuXHJcbiAgICBuSXNOZWcgPSBuLnMgPCAwO1xyXG5cclxuICAgIGlmIChtKSB7XHJcblxyXG4gICAgICAvLyB4ICUgbSByZXR1cm5zIE5hTiBpZiBhYnMobSkgaXMgemVybywgb3IgbSBpcyBOYU4uXHJcbiAgICAgIGlmIChtLmMgPyAhbS5jWzBdIDogIW0ucykgcmV0dXJuIG5ldyBCaWdOdW1iZXIoTmFOKTtcclxuXHJcbiAgICAgIGlzTW9kRXhwID0gIW5Jc05lZyAmJiB4LmlzSW50ZWdlcigpICYmIG0uaXNJbnRlZ2VyKCk7XHJcblxyXG4gICAgICBpZiAoaXNNb2RFeHApIHggPSB4Lm1vZChtKTtcclxuXHJcbiAgICAvLyBPdmVyZmxvdyB0byDCsUluZmluaXR5OiA+PTIqKjFlMTAgb3IgPj0xLjAwMDAwMjQqKjFlMTUuXHJcbiAgICAvLyBVbmRlcmZsb3cgdG8gwrEwOiA8PTAuNzkqKjFlMTAgb3IgPD0wLjk5OTk5NzUqKjFlMTUuXHJcbiAgICB9IGVsc2UgaWYgKG4uZSA+IDkgJiYgKHguZSA+IDAgfHwgeC5lIDwgLTEgfHwgKHguZSA9PSAwXHJcbiAgICAgIC8vIFsxLCAyNDAwMDAwMDBdXHJcbiAgICAgID8geC5jWzBdID4gMSB8fCBuSXNCaWcgJiYgeC5jWzFdID49IDI0ZTdcclxuICAgICAgLy8gWzgwMDAwMDAwMDAwMDAwXSAgWzk5OTk5NzUwMDAwMDAwXVxyXG4gICAgICA6IHguY1swXSA8IDhlMTMgfHwgbklzQmlnICYmIHguY1swXSA8PSA5OTk5OTc1ZTcpKSkge1xyXG5cclxuICAgICAgLy8gSWYgeCBpcyBuZWdhdGl2ZSBhbmQgbiBpcyBvZGQsIGsgPSAtMCwgZWxzZSBrID0gMC5cclxuICAgICAgayA9IHgucyA8IDAgJiYgaXNPZGQobikgPyAtMCA6IDA7XHJcblxyXG4gICAgICAvLyBJZiB4ID49IDEsIGsgPSDCsUluZmluaXR5LlxyXG4gICAgICBpZiAoeC5lID4gLTEpIGsgPSAxIC8gaztcclxuXHJcbiAgICAgIC8vIElmIG4gaXMgbmVnYXRpdmUgcmV0dXJuIMKxMCwgZWxzZSByZXR1cm4gwrFJbmZpbml0eS5cclxuICAgICAgcmV0dXJuIG5ldyBCaWdOdW1iZXIobklzTmVnID8gMSAvIGsgOiBrKTtcclxuXHJcbiAgICB9IGVsc2UgaWYgKFBPV19QUkVDSVNJT04pIHtcclxuXHJcbiAgICAgIC8vIFRydW5jYXRpbmcgZWFjaCBjb2VmZmljaWVudCBhcnJheSB0byBhIGxlbmd0aCBvZiBrIGFmdGVyIGVhY2ggbXVsdGlwbGljYXRpb25cclxuICAgICAgLy8gZXF1YXRlcyB0byB0cnVuY2F0aW5nIHNpZ25pZmljYW50IGRpZ2l0cyB0byBQT1dfUFJFQ0lTSU9OICsgWzI4LCA0MV0sXHJcbiAgICAgIC8vIGkuZS4gdGhlcmUgd2lsbCBiZSBhIG1pbmltdW0gb2YgMjggZ3VhcmQgZGlnaXRzIHJldGFpbmVkLlxyXG4gICAgICBrID0gbWF0aGNlaWwoUE9XX1BSRUNJU0lPTiAvIExPR19CQVNFICsgMik7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKG5Jc0JpZykge1xyXG4gICAgICBoYWxmID0gbmV3IEJpZ051bWJlcigwLjUpO1xyXG4gICAgICBpZiAobklzTmVnKSBuLnMgPSAxO1xyXG4gICAgICBuSXNPZGQgPSBpc09kZChuKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGkgPSBNYXRoLmFicygrdmFsdWVPZihuKSk7XHJcbiAgICAgIG5Jc09kZCA9IGkgJSAyO1xyXG4gICAgfVxyXG5cclxuICAgIHkgPSBuZXcgQmlnTnVtYmVyKE9ORSk7XHJcblxyXG4gICAgLy8gUGVyZm9ybXMgNTQgbG9vcCBpdGVyYXRpb25zIGZvciBuIG9mIDkwMDcxOTkyNTQ3NDA5OTEuXHJcbiAgICBmb3IgKDsgOykge1xyXG5cclxuICAgICAgaWYgKG5Jc09kZCkge1xyXG4gICAgICAgIHkgPSB5LnRpbWVzKHgpO1xyXG4gICAgICAgIGlmICgheS5jKSBicmVhaztcclxuXHJcbiAgICAgICAgaWYgKGspIHtcclxuICAgICAgICAgIGlmICh5LmMubGVuZ3RoID4gaykgeS5jLmxlbmd0aCA9IGs7XHJcbiAgICAgICAgfSBlbHNlIGlmIChpc01vZEV4cCkge1xyXG4gICAgICAgICAgeSA9IHkubW9kKG0pOyAgICAvL3kgPSB5Lm1pbnVzKGRpdih5LCBtLCAwLCBNT0RVTE9fTU9ERSkudGltZXMobSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGkpIHtcclxuICAgICAgICBpID0gbWF0aGZsb29yKGkgLyAyKTtcclxuICAgICAgICBpZiAoaSA9PT0gMCkgYnJlYWs7XHJcbiAgICAgICAgbklzT2RkID0gaSAlIDI7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbiA9IG4udGltZXMoaGFsZik7XHJcbiAgICAgICAgcm91bmQobiwgbi5lICsgMSwgMSk7XHJcblxyXG4gICAgICAgIGlmIChuLmUgPiAxNCkge1xyXG4gICAgICAgICAgbklzT2RkID0gaXNPZGQobik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGkgPSArdmFsdWVPZihuKTtcclxuICAgICAgICAgIGlmIChpID09PSAwKSBicmVhaztcclxuICAgICAgICAgIG5Jc09kZCA9IGkgJSAyO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgeCA9IHgudGltZXMoeCk7XHJcblxyXG4gICAgICBpZiAoaykge1xyXG4gICAgICAgIGlmICh4LmMgJiYgeC5jLmxlbmd0aCA+IGspIHguYy5sZW5ndGggPSBrO1xyXG4gICAgICB9IGVsc2UgaWYgKGlzTW9kRXhwKSB7XHJcbiAgICAgICAgeCA9IHgubW9kKG0pOyAgICAvL3ggPSB4Lm1pbnVzKGRpdih4LCBtLCAwLCBNT0RVTE9fTU9ERSkudGltZXMobSkpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGlzTW9kRXhwKSByZXR1cm4geTtcclxuICAgIGlmIChuSXNOZWcpIHkgPSBPTkUuZGl2KHkpO1xyXG5cclxuICAgIHJldHVybiBtID8geS5tb2QobSkgOiBrID8gcm91bmQoeSwgUE9XX1BSRUNJU0lPTiwgUk9VTkRJTkdfTU9ERSwgbW9yZSkgOiB5O1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiBhIG5ldyBCaWdOdW1iZXIgd2hvc2UgdmFsdWUgaXMgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIHJvdW5kZWQgdG8gYW4gaW50ZWdlclxyXG4gICAqIHVzaW5nIHJvdW5kaW5nIG1vZGUgcm0sIG9yIFJPVU5ESU5HX01PREUgaWYgcm0gaXMgb21pdHRlZC5cclxuICAgKlxyXG4gICAqIFtybV0ge251bWJlcn0gUm91bmRpbmcgbW9kZS4gSW50ZWdlciwgMCB0byA4IGluY2x1c2l2ZS5cclxuICAgKlxyXG4gICAqICdbQmlnTnVtYmVyIEVycm9yXSBBcmd1bWVudCB7bm90IGEgcHJpbWl0aXZlIG51bWJlcnxub3QgYW4gaW50ZWdlcnxvdXQgb2YgcmFuZ2V9OiB7cm19J1xyXG4gICAqL1xyXG4gIFAuaW50ZWdlclZhbHVlID0gZnVuY3Rpb24gKHJtKSB7XHJcbiAgICB2YXIgbiA9IG5ldyBCaWdOdW1iZXIodGhpcyk7XHJcbiAgICBpZiAocm0gPT0gbnVsbCkgcm0gPSBST1VORElOR19NT0RFO1xyXG4gICAgZWxzZSBpbnRDaGVjayhybSwgMCwgOCk7XHJcbiAgICByZXR1cm4gcm91bmQobiwgbi5lICsgMSwgcm0pO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiB0cnVlIGlmIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBpcyBlcXVhbCB0byB0aGUgdmFsdWUgb2YgQmlnTnVtYmVyKHksIGIpLFxyXG4gICAqIG90aGVyd2lzZSByZXR1cm4gZmFsc2UuXHJcbiAgICovXHJcbiAgUC5pc0VxdWFsVG8gPSBQLmVxID0gZnVuY3Rpb24gKHksIGIpIHtcclxuICAgIHJldHVybiBjb21wYXJlKHRoaXMsIG5ldyBCaWdOdW1iZXIoeSwgYikpID09PSAwO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiB0cnVlIGlmIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBpcyBhIGZpbml0ZSBudW1iZXIsIG90aGVyd2lzZSByZXR1cm4gZmFsc2UuXHJcbiAgICovXHJcbiAgUC5pc0Zpbml0ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHJldHVybiAhIXRoaXMuYztcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgaXMgZ3JlYXRlciB0aGFuIHRoZSB2YWx1ZSBvZiBCaWdOdW1iZXIoeSwgYiksXHJcbiAgICogb3RoZXJ3aXNlIHJldHVybiBmYWxzZS5cclxuICAgKi9cclxuICBQLmlzR3JlYXRlclRoYW4gPSBQLmd0ID0gZnVuY3Rpb24gKHksIGIpIHtcclxuICAgIHJldHVybiBjb21wYXJlKHRoaXMsIG5ldyBCaWdOdW1iZXIoeSwgYikpID4gMDtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgaXMgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIHRoZSB2YWx1ZSBvZlxyXG4gICAqIEJpZ051bWJlcih5LCBiKSwgb3RoZXJ3aXNlIHJldHVybiBmYWxzZS5cclxuICAgKi9cclxuICBQLmlzR3JlYXRlclRoYW5PckVxdWFsVG8gPSBQLmd0ZSA9IGZ1bmN0aW9uICh5LCBiKSB7XHJcbiAgICByZXR1cm4gKGIgPSBjb21wYXJlKHRoaXMsIG5ldyBCaWdOdW1iZXIoeSwgYikpKSA9PT0gMSB8fCBiID09PSAwO1xyXG5cclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgaXMgYW4gaW50ZWdlciwgb3RoZXJ3aXNlIHJldHVybiBmYWxzZS5cclxuICAgKi9cclxuICBQLmlzSW50ZWdlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHJldHVybiAhIXRoaXMuYyAmJiBiaXRGbG9vcih0aGlzLmUgLyBMT0dfQkFTRSkgPiB0aGlzLmMubGVuZ3RoIC0gMjtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgaXMgbGVzcyB0aGFuIHRoZSB2YWx1ZSBvZiBCaWdOdW1iZXIoeSwgYiksXHJcbiAgICogb3RoZXJ3aXNlIHJldHVybiBmYWxzZS5cclxuICAgKi9cclxuICBQLmlzTGVzc1RoYW4gPSBQLmx0ID0gZnVuY3Rpb24gKHksIGIpIHtcclxuICAgIHJldHVybiBjb21wYXJlKHRoaXMsIG5ldyBCaWdOdW1iZXIoeSwgYikpIDwgMDtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgaXMgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIHRoZSB2YWx1ZSBvZlxyXG4gICAqIEJpZ051bWJlcih5LCBiKSwgb3RoZXJ3aXNlIHJldHVybiBmYWxzZS5cclxuICAgKi9cclxuICBQLmlzTGVzc1RoYW5PckVxdWFsVG8gPSBQLmx0ZSA9IGZ1bmN0aW9uICh5LCBiKSB7XHJcbiAgICByZXR1cm4gKGIgPSBjb21wYXJlKHRoaXMsIG5ldyBCaWdOdW1iZXIoeSwgYikpKSA9PT0gLTEgfHwgYiA9PT0gMDtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgaXMgTmFOLCBvdGhlcndpc2UgcmV0dXJuIGZhbHNlLlxyXG4gICAqL1xyXG4gIFAuaXNOYU4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICByZXR1cm4gIXRoaXMucztcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgaXMgbmVnYXRpdmUsIG90aGVyd2lzZSByZXR1cm4gZmFsc2UuXHJcbiAgICovXHJcbiAgUC5pc05lZ2F0aXZlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgcmV0dXJuIHRoaXMucyA8IDA7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIHRydWUgaWYgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIGlzIHBvc2l0aXZlLCBvdGhlcndpc2UgcmV0dXJuIGZhbHNlLlxyXG4gICAqL1xyXG4gIFAuaXNQb3NpdGl2ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHJldHVybiB0aGlzLnMgPiAwO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiB0cnVlIGlmIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBpcyAwIG9yIC0wLCBvdGhlcndpc2UgcmV0dXJuIGZhbHNlLlxyXG4gICAqL1xyXG4gIFAuaXNaZXJvID0gZnVuY3Rpb24gKCkge1xyXG4gICAgcmV0dXJuICEhdGhpcy5jICYmIHRoaXMuY1swXSA9PSAwO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqICBuIC0gMCA9IG5cclxuICAgKiAgbiAtIE4gPSBOXHJcbiAgICogIG4gLSBJID0gLUlcclxuICAgKiAgMCAtIG4gPSAtblxyXG4gICAqICAwIC0gMCA9IDBcclxuICAgKiAgMCAtIE4gPSBOXHJcbiAgICogIDAgLSBJID0gLUlcclxuICAgKiAgTiAtIG4gPSBOXHJcbiAgICogIE4gLSAwID0gTlxyXG4gICAqICBOIC0gTiA9IE5cclxuICAgKiAgTiAtIEkgPSBOXHJcbiAgICogIEkgLSBuID0gSVxyXG4gICAqICBJIC0gMCA9IElcclxuICAgKiAgSSAtIE4gPSBOXHJcbiAgICogIEkgLSBJID0gTlxyXG4gICAqXHJcbiAgICogUmV0dXJuIGEgbmV3IEJpZ051bWJlciB3aG9zZSB2YWx1ZSBpcyB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgbWludXMgdGhlIHZhbHVlIG9mXHJcbiAgICogQmlnTnVtYmVyKHksIGIpLlxyXG4gICAqL1xyXG4gIFAubWludXMgPSBmdW5jdGlvbiAoeSwgYikge1xyXG4gICAgdmFyIGksIGosIHQsIHhMVHksXHJcbiAgICAgIHggPSB0aGlzLFxyXG4gICAgICBhID0geC5zO1xyXG5cclxuICAgIHkgPSBuZXcgQmlnTnVtYmVyKHksIGIpO1xyXG4gICAgYiA9IHkucztcclxuXHJcbiAgICAvLyBFaXRoZXIgTmFOP1xyXG4gICAgaWYgKCFhIHx8ICFiKSByZXR1cm4gbmV3IEJpZ051bWJlcihOYU4pO1xyXG5cclxuICAgIC8vIFNpZ25zIGRpZmZlcj9cclxuICAgIGlmIChhICE9IGIpIHtcclxuICAgICAgeS5zID0gLWI7XHJcbiAgICAgIHJldHVybiB4LnBsdXMoeSk7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIHhlID0geC5lIC8gTE9HX0JBU0UsXHJcbiAgICAgIHllID0geS5lIC8gTE9HX0JBU0UsXHJcbiAgICAgIHhjID0geC5jLFxyXG4gICAgICB5YyA9IHkuYztcclxuXHJcbiAgICBpZiAoIXhlIHx8ICF5ZSkge1xyXG5cclxuICAgICAgLy8gRWl0aGVyIEluZmluaXR5P1xyXG4gICAgICBpZiAoIXhjIHx8ICF5YykgcmV0dXJuIHhjID8gKHkucyA9IC1iLCB5KSA6IG5ldyBCaWdOdW1iZXIoeWMgPyB4IDogTmFOKTtcclxuXHJcbiAgICAgIC8vIEVpdGhlciB6ZXJvP1xyXG4gICAgICBpZiAoIXhjWzBdIHx8ICF5Y1swXSkge1xyXG5cclxuICAgICAgICAvLyBSZXR1cm4geSBpZiB5IGlzIG5vbi16ZXJvLCB4IGlmIHggaXMgbm9uLXplcm8sIG9yIHplcm8gaWYgYm90aCBhcmUgemVyby5cclxuICAgICAgICByZXR1cm4geWNbMF0gPyAoeS5zID0gLWIsIHkpIDogbmV3IEJpZ051bWJlcih4Y1swXSA/IHggOlxyXG5cclxuICAgICAgICAgLy8gSUVFRSA3NTQgKDIwMDgpIDYuMzogbiAtIG4gPSAtMCB3aGVuIHJvdW5kaW5nIHRvIC1JbmZpbml0eVxyXG4gICAgICAgICBST1VORElOR19NT0RFID09IDMgPyAtMCA6IDApO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgeGUgPSBiaXRGbG9vcih4ZSk7XHJcbiAgICB5ZSA9IGJpdEZsb29yKHllKTtcclxuICAgIHhjID0geGMuc2xpY2UoKTtcclxuXHJcbiAgICAvLyBEZXRlcm1pbmUgd2hpY2ggaXMgdGhlIGJpZ2dlciBudW1iZXIuXHJcbiAgICBpZiAoYSA9IHhlIC0geWUpIHtcclxuXHJcbiAgICAgIGlmICh4TFR5ID0gYSA8IDApIHtcclxuICAgICAgICBhID0gLWE7XHJcbiAgICAgICAgdCA9IHhjO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHllID0geGU7XHJcbiAgICAgICAgdCA9IHljO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0LnJldmVyc2UoKTtcclxuXHJcbiAgICAgIC8vIFByZXBlbmQgemVyb3MgdG8gZXF1YWxpc2UgZXhwb25lbnRzLlxyXG4gICAgICBmb3IgKGIgPSBhOyBiLS07IHQucHVzaCgwKSk7XHJcbiAgICAgIHQucmV2ZXJzZSgpO1xyXG4gICAgfSBlbHNlIHtcclxuXHJcbiAgICAgIC8vIEV4cG9uZW50cyBlcXVhbC4gQ2hlY2sgZGlnaXQgYnkgZGlnaXQuXHJcbiAgICAgIGogPSAoeExUeSA9IChhID0geGMubGVuZ3RoKSA8IChiID0geWMubGVuZ3RoKSkgPyBhIDogYjtcclxuXHJcbiAgICAgIGZvciAoYSA9IGIgPSAwOyBiIDwgajsgYisrKSB7XHJcblxyXG4gICAgICAgIGlmICh4Y1tiXSAhPSB5Y1tiXSkge1xyXG4gICAgICAgICAgeExUeSA9IHhjW2JdIDwgeWNbYl07XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyB4IDwgeT8gUG9pbnQgeGMgdG8gdGhlIGFycmF5IG9mIHRoZSBiaWdnZXIgbnVtYmVyLlxyXG4gICAgaWYgKHhMVHkpIHQgPSB4YywgeGMgPSB5YywgeWMgPSB0LCB5LnMgPSAteS5zO1xyXG5cclxuICAgIGIgPSAoaiA9IHljLmxlbmd0aCkgLSAoaSA9IHhjLmxlbmd0aCk7XHJcblxyXG4gICAgLy8gQXBwZW5kIHplcm9zIHRvIHhjIGlmIHNob3J0ZXIuXHJcbiAgICAvLyBObyBuZWVkIHRvIGFkZCB6ZXJvcyB0byB5YyBpZiBzaG9ydGVyIGFzIHN1YnRyYWN0IG9ubHkgbmVlZHMgdG8gc3RhcnQgYXQgeWMubGVuZ3RoLlxyXG4gICAgaWYgKGIgPiAwKSBmb3IgKDsgYi0tOyB4Y1tpKytdID0gMCk7XHJcbiAgICBiID0gQkFTRSAtIDE7XHJcblxyXG4gICAgLy8gU3VidHJhY3QgeWMgZnJvbSB4Yy5cclxuICAgIGZvciAoOyBqID4gYTspIHtcclxuXHJcbiAgICAgIGlmICh4Y1stLWpdIDwgeWNbal0pIHtcclxuICAgICAgICBmb3IgKGkgPSBqOyBpICYmICF4Y1stLWldOyB4Y1tpXSA9IGIpO1xyXG4gICAgICAgIC0teGNbaV07XHJcbiAgICAgICAgeGNbal0gKz0gQkFTRTtcclxuICAgICAgfVxyXG5cclxuICAgICAgeGNbal0gLT0geWNbal07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmVtb3ZlIGxlYWRpbmcgemVyb3MgYW5kIGFkanVzdCBleHBvbmVudCBhY2NvcmRpbmdseS5cclxuICAgIGZvciAoOyB4Y1swXSA9PSAwOyB4Yy5zcGxpY2UoMCwgMSksIC0teWUpO1xyXG5cclxuICAgIC8vIFplcm8/XHJcbiAgICBpZiAoIXhjWzBdKSB7XHJcblxyXG4gICAgICAvLyBGb2xsb3dpbmcgSUVFRSA3NTQgKDIwMDgpIDYuMyxcclxuICAgICAgLy8gbiAtIG4gPSArMCAgYnV0ICBuIC0gbiA9IC0wICB3aGVuIHJvdW5kaW5nIHRvd2FyZHMgLUluZmluaXR5LlxyXG4gICAgICB5LnMgPSBST1VORElOR19NT0RFID09IDMgPyAtMSA6IDE7XHJcbiAgICAgIHkuYyA9IFt5LmUgPSAwXTtcclxuICAgICAgcmV0dXJuIHk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gTm8gbmVlZCB0byBjaGVjayBmb3IgSW5maW5pdHkgYXMgK3ggLSAreSAhPSBJbmZpbml0eSAmJiAteCAtIC15ICE9IEluZmluaXR5XHJcbiAgICAvLyBmb3IgZmluaXRlIHggYW5kIHkuXHJcbiAgICByZXR1cm4gbm9ybWFsaXNlKHksIHhjLCB5ZSk7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogICBuICUgMCA9ICBOXHJcbiAgICogICBuICUgTiA9ICBOXHJcbiAgICogICBuICUgSSA9ICBuXHJcbiAgICogICAwICUgbiA9ICAwXHJcbiAgICogIC0wICUgbiA9IC0wXHJcbiAgICogICAwICUgMCA9ICBOXHJcbiAgICogICAwICUgTiA9ICBOXHJcbiAgICogICAwICUgSSA9ICAwXHJcbiAgICogICBOICUgbiA9ICBOXHJcbiAgICogICBOICUgMCA9ICBOXHJcbiAgICogICBOICUgTiA9ICBOXHJcbiAgICogICBOICUgSSA9ICBOXHJcbiAgICogICBJICUgbiA9ICBOXHJcbiAgICogICBJICUgMCA9ICBOXHJcbiAgICogICBJICUgTiA9ICBOXHJcbiAgICogICBJICUgSSA9ICBOXHJcbiAgICpcclxuICAgKiBSZXR1cm4gYSBuZXcgQmlnTnVtYmVyIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBtb2R1bG8gdGhlIHZhbHVlIG9mXHJcbiAgICogQmlnTnVtYmVyKHksIGIpLiBUaGUgcmVzdWx0IGRlcGVuZHMgb24gdGhlIHZhbHVlIG9mIE1PRFVMT19NT0RFLlxyXG4gICAqL1xyXG4gIFAubW9kdWxvID0gUC5tb2QgPSBmdW5jdGlvbiAoeSwgYikge1xyXG4gICAgdmFyIHEsIHMsXHJcbiAgICAgIHggPSB0aGlzO1xyXG5cclxuICAgIHkgPSBuZXcgQmlnTnVtYmVyKHksIGIpO1xyXG5cclxuICAgIC8vIFJldHVybiBOYU4gaWYgeCBpcyBJbmZpbml0eSBvciBOYU4sIG9yIHkgaXMgTmFOIG9yIHplcm8uXHJcbiAgICBpZiAoIXguYyB8fCAheS5zIHx8IHkuYyAmJiAheS5jWzBdKSB7XHJcbiAgICAgIHJldHVybiBuZXcgQmlnTnVtYmVyKE5hTik7XHJcblxyXG4gICAgLy8gUmV0dXJuIHggaWYgeSBpcyBJbmZpbml0eSBvciB4IGlzIHplcm8uXHJcbiAgICB9IGVsc2UgaWYgKCF5LmMgfHwgeC5jICYmICF4LmNbMF0pIHtcclxuICAgICAgcmV0dXJuIG5ldyBCaWdOdW1iZXIoeCk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKE1PRFVMT19NT0RFID09IDkpIHtcclxuXHJcbiAgICAgIC8vIEV1Y2xpZGlhbiBkaXZpc2lvbjogcSA9IHNpZ24oeSkgKiBmbG9vcih4IC8gYWJzKHkpKVxyXG4gICAgICAvLyByID0geCAtIHF5ICAgIHdoZXJlICAwIDw9IHIgPCBhYnMoeSlcclxuICAgICAgcyA9IHkucztcclxuICAgICAgeS5zID0gMTtcclxuICAgICAgcSA9IGRpdih4LCB5LCAwLCAzKTtcclxuICAgICAgeS5zID0gcztcclxuICAgICAgcS5zICo9IHM7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBxID0gZGl2KHgsIHksIDAsIE1PRFVMT19NT0RFKTtcclxuICAgIH1cclxuXHJcbiAgICB5ID0geC5taW51cyhxLnRpbWVzKHkpKTtcclxuXHJcbiAgICAvLyBUbyBtYXRjaCBKYXZhU2NyaXB0ICUsIGVuc3VyZSBzaWduIG9mIHplcm8gaXMgc2lnbiBvZiBkaXZpZGVuZC5cclxuICAgIGlmICgheS5jWzBdICYmIE1PRFVMT19NT0RFID09IDEpIHkucyA9IHgucztcclxuXHJcbiAgICByZXR1cm4geTtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiAgbiAqIDAgPSAwXHJcbiAgICogIG4gKiBOID0gTlxyXG4gICAqICBuICogSSA9IElcclxuICAgKiAgMCAqIG4gPSAwXHJcbiAgICogIDAgKiAwID0gMFxyXG4gICAqICAwICogTiA9IE5cclxuICAgKiAgMCAqIEkgPSBOXHJcbiAgICogIE4gKiBuID0gTlxyXG4gICAqICBOICogMCA9IE5cclxuICAgKiAgTiAqIE4gPSBOXHJcbiAgICogIE4gKiBJID0gTlxyXG4gICAqICBJICogbiA9IElcclxuICAgKiAgSSAqIDAgPSBOXHJcbiAgICogIEkgKiBOID0gTlxyXG4gICAqICBJICogSSA9IElcclxuICAgKlxyXG4gICAqIFJldHVybiBhIG5ldyBCaWdOdW1iZXIgd2hvc2UgdmFsdWUgaXMgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIG11bHRpcGxpZWQgYnkgdGhlIHZhbHVlXHJcbiAgICogb2YgQmlnTnVtYmVyKHksIGIpLlxyXG4gICAqL1xyXG4gIFAubXVsdGlwbGllZEJ5ID0gUC50aW1lcyA9IGZ1bmN0aW9uICh5LCBiKSB7XHJcbiAgICB2YXIgYywgZSwgaSwgaiwgaywgbSwgeGNMLCB4bG8sIHhoaSwgeWNMLCB5bG8sIHloaSwgemMsXHJcbiAgICAgIGJhc2UsIHNxcnRCYXNlLFxyXG4gICAgICB4ID0gdGhpcyxcclxuICAgICAgeGMgPSB4LmMsXHJcbiAgICAgIHljID0gKHkgPSBuZXcgQmlnTnVtYmVyKHksIGIpKS5jO1xyXG5cclxuICAgIC8vIEVpdGhlciBOYU4sIMKxSW5maW5pdHkgb3IgwrEwP1xyXG4gICAgaWYgKCF4YyB8fCAheWMgfHwgIXhjWzBdIHx8ICF5Y1swXSkge1xyXG5cclxuICAgICAgLy8gUmV0dXJuIE5hTiBpZiBlaXRoZXIgaXMgTmFOLCBvciBvbmUgaXMgMCBhbmQgdGhlIG90aGVyIGlzIEluZmluaXR5LlxyXG4gICAgICBpZiAoIXgucyB8fCAheS5zIHx8IHhjICYmICF4Y1swXSAmJiAheWMgfHwgeWMgJiYgIXljWzBdICYmICF4Yykge1xyXG4gICAgICAgIHkuYyA9IHkuZSA9IHkucyA9IG51bGw7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgeS5zICo9IHgucztcclxuXHJcbiAgICAgICAgLy8gUmV0dXJuIMKxSW5maW5pdHkgaWYgZWl0aGVyIGlzIMKxSW5maW5pdHkuXHJcbiAgICAgICAgaWYgKCF4YyB8fCAheWMpIHtcclxuICAgICAgICAgIHkuYyA9IHkuZSA9IG51bGw7XHJcblxyXG4gICAgICAgIC8vIFJldHVybiDCsTAgaWYgZWl0aGVyIGlzIMKxMC5cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgeS5jID0gWzBdO1xyXG4gICAgICAgICAgeS5lID0gMDtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiB5O1xyXG4gICAgfVxyXG5cclxuICAgIGUgPSBiaXRGbG9vcih4LmUgLyBMT0dfQkFTRSkgKyBiaXRGbG9vcih5LmUgLyBMT0dfQkFTRSk7XHJcbiAgICB5LnMgKj0geC5zO1xyXG4gICAgeGNMID0geGMubGVuZ3RoO1xyXG4gICAgeWNMID0geWMubGVuZ3RoO1xyXG5cclxuICAgIC8vIEVuc3VyZSB4YyBwb2ludHMgdG8gbG9uZ2VyIGFycmF5IGFuZCB4Y0wgdG8gaXRzIGxlbmd0aC5cclxuICAgIGlmICh4Y0wgPCB5Y0wpIHpjID0geGMsIHhjID0geWMsIHljID0gemMsIGkgPSB4Y0wsIHhjTCA9IHljTCwgeWNMID0gaTtcclxuXHJcbiAgICAvLyBJbml0aWFsaXNlIHRoZSByZXN1bHQgYXJyYXkgd2l0aCB6ZXJvcy5cclxuICAgIGZvciAoaSA9IHhjTCArIHljTCwgemMgPSBbXTsgaS0tOyB6Yy5wdXNoKDApKTtcclxuXHJcbiAgICBiYXNlID0gQkFTRTtcclxuICAgIHNxcnRCYXNlID0gU1FSVF9CQVNFO1xyXG5cclxuICAgIGZvciAoaSA9IHljTDsgLS1pID49IDA7KSB7XHJcbiAgICAgIGMgPSAwO1xyXG4gICAgICB5bG8gPSB5Y1tpXSAlIHNxcnRCYXNlO1xyXG4gICAgICB5aGkgPSB5Y1tpXSAvIHNxcnRCYXNlIHwgMDtcclxuXHJcbiAgICAgIGZvciAoayA9IHhjTCwgaiA9IGkgKyBrOyBqID4gaTspIHtcclxuICAgICAgICB4bG8gPSB4Y1stLWtdICUgc3FydEJhc2U7XHJcbiAgICAgICAgeGhpID0geGNba10gLyBzcXJ0QmFzZSB8IDA7XHJcbiAgICAgICAgbSA9IHloaSAqIHhsbyArIHhoaSAqIHlsbztcclxuICAgICAgICB4bG8gPSB5bG8gKiB4bG8gKyAoKG0gJSBzcXJ0QmFzZSkgKiBzcXJ0QmFzZSkgKyB6Y1tqXSArIGM7XHJcbiAgICAgICAgYyA9ICh4bG8gLyBiYXNlIHwgMCkgKyAobSAvIHNxcnRCYXNlIHwgMCkgKyB5aGkgKiB4aGk7XHJcbiAgICAgICAgemNbai0tXSA9IHhsbyAlIGJhc2U7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHpjW2pdID0gYztcclxuICAgIH1cclxuXHJcbiAgICBpZiAoYykge1xyXG4gICAgICArK2U7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB6Yy5zcGxpY2UoMCwgMSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG5vcm1hbGlzZSh5LCB6YywgZSk7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIGEgbmV3IEJpZ051bWJlciB3aG9zZSB2YWx1ZSBpcyB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgbmVnYXRlZCxcclxuICAgKiBpLmUuIG11bHRpcGxpZWQgYnkgLTEuXHJcbiAgICovXHJcbiAgUC5uZWdhdGVkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHggPSBuZXcgQmlnTnVtYmVyKHRoaXMpO1xyXG4gICAgeC5zID0gLXgucyB8fCBudWxsO1xyXG4gICAgcmV0dXJuIHg7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogIG4gKyAwID0gblxyXG4gICAqICBuICsgTiA9IE5cclxuICAgKiAgbiArIEkgPSBJXHJcbiAgICogIDAgKyBuID0gblxyXG4gICAqICAwICsgMCA9IDBcclxuICAgKiAgMCArIE4gPSBOXHJcbiAgICogIDAgKyBJID0gSVxyXG4gICAqICBOICsgbiA9IE5cclxuICAgKiAgTiArIDAgPSBOXHJcbiAgICogIE4gKyBOID0gTlxyXG4gICAqICBOICsgSSA9IE5cclxuICAgKiAgSSArIG4gPSBJXHJcbiAgICogIEkgKyAwID0gSVxyXG4gICAqICBJICsgTiA9IE5cclxuICAgKiAgSSArIEkgPSBJXHJcbiAgICpcclxuICAgKiBSZXR1cm4gYSBuZXcgQmlnTnVtYmVyIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBwbHVzIHRoZSB2YWx1ZSBvZlxyXG4gICAqIEJpZ051bWJlcih5LCBiKS5cclxuICAgKi9cclxuICBQLnBsdXMgPSBmdW5jdGlvbiAoeSwgYikge1xyXG4gICAgdmFyIHQsXHJcbiAgICAgIHggPSB0aGlzLFxyXG4gICAgICBhID0geC5zO1xyXG5cclxuICAgIHkgPSBuZXcgQmlnTnVtYmVyKHksIGIpO1xyXG4gICAgYiA9IHkucztcclxuXHJcbiAgICAvLyBFaXRoZXIgTmFOP1xyXG4gICAgaWYgKCFhIHx8ICFiKSByZXR1cm4gbmV3IEJpZ051bWJlcihOYU4pO1xyXG5cclxuICAgIC8vIFNpZ25zIGRpZmZlcj9cclxuICAgICBpZiAoYSAhPSBiKSB7XHJcbiAgICAgIHkucyA9IC1iO1xyXG4gICAgICByZXR1cm4geC5taW51cyh5KTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgeGUgPSB4LmUgLyBMT0dfQkFTRSxcclxuICAgICAgeWUgPSB5LmUgLyBMT0dfQkFTRSxcclxuICAgICAgeGMgPSB4LmMsXHJcbiAgICAgIHljID0geS5jO1xyXG5cclxuICAgIGlmICgheGUgfHwgIXllKSB7XHJcblxyXG4gICAgICAvLyBSZXR1cm4gwrFJbmZpbml0eSBpZiBlaXRoZXIgwrFJbmZpbml0eS5cclxuICAgICAgaWYgKCF4YyB8fCAheWMpIHJldHVybiBuZXcgQmlnTnVtYmVyKGEgLyAwKTtcclxuXHJcbiAgICAgIC8vIEVpdGhlciB6ZXJvP1xyXG4gICAgICAvLyBSZXR1cm4geSBpZiB5IGlzIG5vbi16ZXJvLCB4IGlmIHggaXMgbm9uLXplcm8sIG9yIHplcm8gaWYgYm90aCBhcmUgemVyby5cclxuICAgICAgaWYgKCF4Y1swXSB8fCAheWNbMF0pIHJldHVybiB5Y1swXSA/IHkgOiBuZXcgQmlnTnVtYmVyKHhjWzBdID8geCA6IGEgKiAwKTtcclxuICAgIH1cclxuXHJcbiAgICB4ZSA9IGJpdEZsb29yKHhlKTtcclxuICAgIHllID0gYml0Rmxvb3IoeWUpO1xyXG4gICAgeGMgPSB4Yy5zbGljZSgpO1xyXG5cclxuICAgIC8vIFByZXBlbmQgemVyb3MgdG8gZXF1YWxpc2UgZXhwb25lbnRzLiBGYXN0ZXIgdG8gdXNlIHJldmVyc2UgdGhlbiBkbyB1bnNoaWZ0cy5cclxuICAgIGlmIChhID0geGUgLSB5ZSkge1xyXG4gICAgICBpZiAoYSA+IDApIHtcclxuICAgICAgICB5ZSA9IHhlO1xyXG4gICAgICAgIHQgPSB5YztcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBhID0gLWE7XHJcbiAgICAgICAgdCA9IHhjO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0LnJldmVyc2UoKTtcclxuICAgICAgZm9yICg7IGEtLTsgdC5wdXNoKDApKTtcclxuICAgICAgdC5yZXZlcnNlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgYSA9IHhjLmxlbmd0aDtcclxuICAgIGIgPSB5Yy5sZW5ndGg7XHJcblxyXG4gICAgLy8gUG9pbnQgeGMgdG8gdGhlIGxvbmdlciBhcnJheSwgYW5kIGIgdG8gdGhlIHNob3J0ZXIgbGVuZ3RoLlxyXG4gICAgaWYgKGEgLSBiIDwgMCkgdCA9IHljLCB5YyA9IHhjLCB4YyA9IHQsIGIgPSBhO1xyXG5cclxuICAgIC8vIE9ubHkgc3RhcnQgYWRkaW5nIGF0IHljLmxlbmd0aCAtIDEgYXMgdGhlIGZ1cnRoZXIgZGlnaXRzIG9mIHhjIGNhbiBiZSBpZ25vcmVkLlxyXG4gICAgZm9yIChhID0gMDsgYjspIHtcclxuICAgICAgYSA9ICh4Y1stLWJdID0geGNbYl0gKyB5Y1tiXSArIGEpIC8gQkFTRSB8IDA7XHJcbiAgICAgIHhjW2JdID0gQkFTRSA9PT0geGNbYl0gPyAwIDogeGNbYl0gJSBCQVNFO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChhKSB7XHJcbiAgICAgIHhjID0gW2FdLmNvbmNhdCh4Yyk7XHJcbiAgICAgICsreWU7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gTm8gbmVlZCB0byBjaGVjayBmb3IgemVybywgYXMgK3ggKyAreSAhPSAwICYmIC14ICsgLXkgIT0gMFxyXG4gICAgLy8geWUgPSBNQVhfRVhQICsgMSBwb3NzaWJsZVxyXG4gICAgcmV0dXJuIG5vcm1hbGlzZSh5LCB4YywgeWUpO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIElmIHNkIGlzIHVuZGVmaW5lZCBvciBudWxsIG9yIHRydWUgb3IgZmFsc2UsIHJldHVybiB0aGUgbnVtYmVyIG9mIHNpZ25pZmljYW50IGRpZ2l0cyBvZlxyXG4gICAqIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciwgb3IgbnVsbCBpZiB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgaXMgwrFJbmZpbml0eSBvciBOYU4uXHJcbiAgICogSWYgc2QgaXMgdHJ1ZSBpbmNsdWRlIGludGVnZXItcGFydCB0cmFpbGluZyB6ZXJvcyBpbiB0aGUgY291bnQuXHJcbiAgICpcclxuICAgKiBPdGhlcndpc2UsIGlmIHNkIGlzIGEgbnVtYmVyLCByZXR1cm4gYSBuZXcgQmlnTnVtYmVyIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzXHJcbiAgICogQmlnTnVtYmVyIHJvdW5kZWQgdG8gYSBtYXhpbXVtIG9mIHNkIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIHJtLCBvclxyXG4gICAqIFJPVU5ESU5HX01PREUgaWYgcm0gaXMgb21pdHRlZC5cclxuICAgKlxyXG4gICAqIHNkIHtudW1iZXJ8Ym9vbGVhbn0gbnVtYmVyOiBzaWduaWZpY2FudCBkaWdpdHM6IGludGVnZXIsIDEgdG8gTUFYIGluY2x1c2l2ZS5cclxuICAgKiAgICAgICAgICAgICAgICAgICAgIGJvb2xlYW46IHdoZXRoZXIgdG8gY291bnQgaW50ZWdlci1wYXJ0IHRyYWlsaW5nIHplcm9zOiB0cnVlIG9yIGZhbHNlLlxyXG4gICAqIFtybV0ge251bWJlcn0gUm91bmRpbmcgbW9kZS4gSW50ZWdlciwgMCB0byA4IGluY2x1c2l2ZS5cclxuICAgKlxyXG4gICAqICdbQmlnTnVtYmVyIEVycm9yXSBBcmd1bWVudCB7bm90IGEgcHJpbWl0aXZlIG51bWJlcnxub3QgYW4gaW50ZWdlcnxvdXQgb2YgcmFuZ2V9OiB7c2R8cm19J1xyXG4gICAqL1xyXG4gIFAucHJlY2lzaW9uID0gUC5zZCA9IGZ1bmN0aW9uIChzZCwgcm0pIHtcclxuICAgIHZhciBjLCBuLCB2LFxyXG4gICAgICB4ID0gdGhpcztcclxuXHJcbiAgICBpZiAoc2QgIT0gbnVsbCAmJiBzZCAhPT0gISFzZCkge1xyXG4gICAgICBpbnRDaGVjayhzZCwgMSwgTUFYKTtcclxuICAgICAgaWYgKHJtID09IG51bGwpIHJtID0gUk9VTkRJTkdfTU9ERTtcclxuICAgICAgZWxzZSBpbnRDaGVjayhybSwgMCwgOCk7XHJcblxyXG4gICAgICByZXR1cm4gcm91bmQobmV3IEJpZ051bWJlcih4KSwgc2QsIHJtKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIShjID0geC5jKSkgcmV0dXJuIG51bGw7XHJcbiAgICB2ID0gYy5sZW5ndGggLSAxO1xyXG4gICAgbiA9IHYgKiBMT0dfQkFTRSArIDE7XHJcblxyXG4gICAgaWYgKHYgPSBjW3ZdKSB7XHJcblxyXG4gICAgICAvLyBTdWJ0cmFjdCB0aGUgbnVtYmVyIG9mIHRyYWlsaW5nIHplcm9zIG9mIHRoZSBsYXN0IGVsZW1lbnQuXHJcbiAgICAgIGZvciAoOyB2ICUgMTAgPT0gMDsgdiAvPSAxMCwgbi0tKTtcclxuXHJcbiAgICAgIC8vIEFkZCB0aGUgbnVtYmVyIG9mIGRpZ2l0cyBvZiB0aGUgZmlyc3QgZWxlbWVudC5cclxuICAgICAgZm9yICh2ID0gY1swXTsgdiA+PSAxMDsgdiAvPSAxMCwgbisrKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoc2QgJiYgeC5lICsgMSA+IG4pIG4gPSB4LmUgKyAxO1xyXG5cclxuICAgIHJldHVybiBuO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiBhIG5ldyBCaWdOdW1iZXIgd2hvc2UgdmFsdWUgaXMgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIHNoaWZ0ZWQgYnkgayBwbGFjZXNcclxuICAgKiAocG93ZXJzIG9mIDEwKS4gU2hpZnQgdG8gdGhlIHJpZ2h0IGlmIG4gPiAwLCBhbmQgdG8gdGhlIGxlZnQgaWYgbiA8IDAuXHJcbiAgICpcclxuICAgKiBrIHtudW1iZXJ9IEludGVnZXIsIC1NQVhfU0FGRV9JTlRFR0VSIHRvIE1BWF9TQUZFX0lOVEVHRVIgaW5jbHVzaXZlLlxyXG4gICAqXHJcbiAgICogJ1tCaWdOdW1iZXIgRXJyb3JdIEFyZ3VtZW50IHtub3QgYSBwcmltaXRpdmUgbnVtYmVyfG5vdCBhbiBpbnRlZ2VyfG91dCBvZiByYW5nZX06IHtrfSdcclxuICAgKi9cclxuICBQLnNoaWZ0ZWRCeSA9IGZ1bmN0aW9uIChrKSB7XHJcbiAgICBpbnRDaGVjayhrLCAtTUFYX1NBRkVfSU5URUdFUiwgTUFYX1NBRkVfSU5URUdFUik7XHJcbiAgICByZXR1cm4gdGhpcy50aW1lcygnMWUnICsgayk7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogIHNxcnQoLW4pID0gIE5cclxuICAgKiAgc3FydChOKSA9ICBOXHJcbiAgICogIHNxcnQoLUkpID0gIE5cclxuICAgKiAgc3FydChJKSA9ICBJXHJcbiAgICogIHNxcnQoMCkgPSAgMFxyXG4gICAqICBzcXJ0KC0wKSA9IC0wXHJcbiAgICpcclxuICAgKiBSZXR1cm4gYSBuZXcgQmlnTnVtYmVyIHdob3NlIHZhbHVlIGlzIHRoZSBzcXVhcmUgcm9vdCBvZiB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIsXHJcbiAgICogcm91bmRlZCBhY2NvcmRpbmcgdG8gREVDSU1BTF9QTEFDRVMgYW5kIFJPVU5ESU5HX01PREUuXHJcbiAgICovXHJcbiAgUC5zcXVhcmVSb290ID0gUC5zcXJ0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIG0sIG4sIHIsIHJlcCwgdCxcclxuICAgICAgeCA9IHRoaXMsXHJcbiAgICAgIGMgPSB4LmMsXHJcbiAgICAgIHMgPSB4LnMsXHJcbiAgICAgIGUgPSB4LmUsXHJcbiAgICAgIGRwID0gREVDSU1BTF9QTEFDRVMgKyA0LFxyXG4gICAgICBoYWxmID0gbmV3IEJpZ051bWJlcignMC41Jyk7XHJcblxyXG4gICAgLy8gTmVnYXRpdmUvTmFOL0luZmluaXR5L3plcm8/XHJcbiAgICBpZiAocyAhPT0gMSB8fCAhYyB8fCAhY1swXSkge1xyXG4gICAgICByZXR1cm4gbmV3IEJpZ051bWJlcighcyB8fCBzIDwgMCAmJiAoIWMgfHwgY1swXSkgPyBOYU4gOiBjID8geCA6IDEgLyAwKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBJbml0aWFsIGVzdGltYXRlLlxyXG4gICAgcyA9IE1hdGguc3FydCgrdmFsdWVPZih4KSk7XHJcblxyXG4gICAgLy8gTWF0aC5zcXJ0IHVuZGVyZmxvdy9vdmVyZmxvdz9cclxuICAgIC8vIFBhc3MgeCB0byBNYXRoLnNxcnQgYXMgaW50ZWdlciwgdGhlbiBhZGp1c3QgdGhlIGV4cG9uZW50IG9mIHRoZSByZXN1bHQuXHJcbiAgICBpZiAocyA9PSAwIHx8IHMgPT0gMSAvIDApIHtcclxuICAgICAgbiA9IGNvZWZmVG9TdHJpbmcoYyk7XHJcbiAgICAgIGlmICgobi5sZW5ndGggKyBlKSAlIDIgPT0gMCkgbiArPSAnMCc7XHJcbiAgICAgIHMgPSBNYXRoLnNxcnQoK24pO1xyXG4gICAgICBlID0gYml0Rmxvb3IoKGUgKyAxKSAvIDIpIC0gKGUgPCAwIHx8IGUgJSAyKTtcclxuXHJcbiAgICAgIGlmIChzID09IDEgLyAwKSB7XHJcbiAgICAgICAgbiA9ICc1ZScgKyBlO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIG4gPSBzLnRvRXhwb25lbnRpYWwoKTtcclxuICAgICAgICBuID0gbi5zbGljZSgwLCBuLmluZGV4T2YoJ2UnKSArIDEpICsgZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgciA9IG5ldyBCaWdOdW1iZXIobik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByID0gbmV3IEJpZ051bWJlcihzICsgJycpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENoZWNrIGZvciB6ZXJvLlxyXG4gICAgLy8gciBjb3VsZCBiZSB6ZXJvIGlmIE1JTl9FWFAgaXMgY2hhbmdlZCBhZnRlciB0aGUgdGhpcyB2YWx1ZSB3YXMgY3JlYXRlZC5cclxuICAgIC8vIFRoaXMgd291bGQgY2F1c2UgYSBkaXZpc2lvbiBieSB6ZXJvICh4L3QpIGFuZCBoZW5jZSBJbmZpbml0eSBiZWxvdywgd2hpY2ggd291bGQgY2F1c2VcclxuICAgIC8vIGNvZWZmVG9TdHJpbmcgdG8gdGhyb3cuXHJcbiAgICBpZiAoci5jWzBdKSB7XHJcbiAgICAgIGUgPSByLmU7XHJcbiAgICAgIHMgPSBlICsgZHA7XHJcbiAgICAgIGlmIChzIDwgMykgcyA9IDA7XHJcblxyXG4gICAgICAvLyBOZXd0b24tUmFwaHNvbiBpdGVyYXRpb24uXHJcbiAgICAgIGZvciAoOyA7KSB7XHJcbiAgICAgICAgdCA9IHI7XHJcbiAgICAgICAgciA9IGhhbGYudGltZXModC5wbHVzKGRpdih4LCB0LCBkcCwgMSkpKTtcclxuXHJcbiAgICAgICAgaWYgKGNvZWZmVG9TdHJpbmcodC5jKS5zbGljZSgwLCBzKSA9PT0gKG4gPSBjb2VmZlRvU3RyaW5nKHIuYykpLnNsaWNlKDAsIHMpKSB7XHJcblxyXG4gICAgICAgICAgLy8gVGhlIGV4cG9uZW50IG9mIHIgbWF5IGhlcmUgYmUgb25lIGxlc3MgdGhhbiB0aGUgZmluYWwgcmVzdWx0IGV4cG9uZW50LFxyXG4gICAgICAgICAgLy8gZS5nIDAuMDAwOTk5OSAoZS00KSAtLT4gMC4wMDEgKGUtMyksIHNvIGFkanVzdCBzIHNvIHRoZSByb3VuZGluZyBkaWdpdHNcclxuICAgICAgICAgIC8vIGFyZSBpbmRleGVkIGNvcnJlY3RseS5cclxuICAgICAgICAgIGlmIChyLmUgPCBlKSAtLXM7XHJcbiAgICAgICAgICBuID0gbi5zbGljZShzIC0gMywgcyArIDEpO1xyXG5cclxuICAgICAgICAgIC8vIFRoZSA0dGggcm91bmRpbmcgZGlnaXQgbWF5IGJlIGluIGVycm9yIGJ5IC0xIHNvIGlmIHRoZSA0IHJvdW5kaW5nIGRpZ2l0c1xyXG4gICAgICAgICAgLy8gYXJlIDk5OTkgb3IgNDk5OSAoaS5lLiBhcHByb2FjaGluZyBhIHJvdW5kaW5nIGJvdW5kYXJ5KSBjb250aW51ZSB0aGVcclxuICAgICAgICAgIC8vIGl0ZXJhdGlvbi5cclxuICAgICAgICAgIGlmIChuID09ICc5OTk5JyB8fCAhcmVwICYmIG4gPT0gJzQ5OTknKSB7XHJcblxyXG4gICAgICAgICAgICAvLyBPbiB0aGUgZmlyc3QgaXRlcmF0aW9uIG9ubHksIGNoZWNrIHRvIHNlZSBpZiByb3VuZGluZyB1cCBnaXZlcyB0aGVcclxuICAgICAgICAgICAgLy8gZXhhY3QgcmVzdWx0IGFzIHRoZSBuaW5lcyBtYXkgaW5maW5pdGVseSByZXBlYXQuXHJcbiAgICAgICAgICAgIGlmICghcmVwKSB7XHJcbiAgICAgICAgICAgICAgcm91bmQodCwgdC5lICsgREVDSU1BTF9QTEFDRVMgKyAyLCAwKTtcclxuXHJcbiAgICAgICAgICAgICAgaWYgKHQudGltZXModCkuZXEoeCkpIHtcclxuICAgICAgICAgICAgICAgIHIgPSB0O1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBkcCArPSA0O1xyXG4gICAgICAgICAgICBzICs9IDQ7XHJcbiAgICAgICAgICAgIHJlcCA9IDE7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgLy8gSWYgcm91bmRpbmcgZGlnaXRzIGFyZSBudWxsLCAwezAsNH0gb3IgNTB7MCwzfSwgY2hlY2sgZm9yIGV4YWN0XHJcbiAgICAgICAgICAgIC8vIHJlc3VsdC4gSWYgbm90LCB0aGVuIHRoZXJlIGFyZSBmdXJ0aGVyIGRpZ2l0cyBhbmQgbSB3aWxsIGJlIHRydXRoeS5cclxuICAgICAgICAgICAgaWYgKCErbiB8fCAhK24uc2xpY2UoMSkgJiYgbi5jaGFyQXQoMCkgPT0gJzUnKSB7XHJcblxyXG4gICAgICAgICAgICAgIC8vIFRydW5jYXRlIHRvIHRoZSBmaXJzdCByb3VuZGluZyBkaWdpdC5cclxuICAgICAgICAgICAgICByb3VuZChyLCByLmUgKyBERUNJTUFMX1BMQUNFUyArIDIsIDEpO1xyXG4gICAgICAgICAgICAgIG0gPSAhci50aW1lcyhyKS5lcSh4KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHJvdW5kKHIsIHIuZSArIERFQ0lNQUxfUExBQ0VTICsgMSwgUk9VTkRJTkdfTU9ERSwgbSk7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIGEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgaW4gZXhwb25lbnRpYWwgbm90YXRpb24gYW5kXHJcbiAgICogcm91bmRlZCB1c2luZyBST1VORElOR19NT0RFIHRvIGRwIGZpeGVkIGRlY2ltYWwgcGxhY2VzLlxyXG4gICAqXHJcbiAgICogW2RwXSB7bnVtYmVyfSBEZWNpbWFsIHBsYWNlcy4gSW50ZWdlciwgMCB0byBNQVggaW5jbHVzaXZlLlxyXG4gICAqIFtybV0ge251bWJlcn0gUm91bmRpbmcgbW9kZS4gSW50ZWdlciwgMCB0byA4IGluY2x1c2l2ZS5cclxuICAgKlxyXG4gICAqICdbQmlnTnVtYmVyIEVycm9yXSBBcmd1bWVudCB7bm90IGEgcHJpbWl0aXZlIG51bWJlcnxub3QgYW4gaW50ZWdlcnxvdXQgb2YgcmFuZ2V9OiB7ZHB8cm19J1xyXG4gICAqL1xyXG4gIFAudG9FeHBvbmVudGlhbCA9IGZ1bmN0aW9uIChkcCwgcm0pIHtcclxuICAgIGlmIChkcCAhPSBudWxsKSB7XHJcbiAgICAgIGludENoZWNrKGRwLCAwLCBNQVgpO1xyXG4gICAgICBkcCsrO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZvcm1hdCh0aGlzLCBkcCwgcm0sIDEpO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiBhIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIGluIGZpeGVkLXBvaW50IG5vdGF0aW9uIHJvdW5kaW5nXHJcbiAgICogdG8gZHAgZml4ZWQgZGVjaW1hbCBwbGFjZXMgdXNpbmcgcm91bmRpbmcgbW9kZSBybSwgb3IgUk9VTkRJTkdfTU9ERSBpZiBybSBpcyBvbWl0dGVkLlxyXG4gICAqXHJcbiAgICogTm90ZTogYXMgd2l0aCBKYXZhU2NyaXB0J3MgbnVtYmVyIHR5cGUsICgtMCkudG9GaXhlZCgwKSBpcyAnMCcsXHJcbiAgICogYnV0IGUuZy4gKC0wLjAwMDAxKS50b0ZpeGVkKDApIGlzICctMCcuXHJcbiAgICpcclxuICAgKiBbZHBdIHtudW1iZXJ9IERlY2ltYWwgcGxhY2VzLiBJbnRlZ2VyLCAwIHRvIE1BWCBpbmNsdXNpdmUuXHJcbiAgICogW3JtXSB7bnVtYmVyfSBSb3VuZGluZyBtb2RlLiBJbnRlZ2VyLCAwIHRvIDggaW5jbHVzaXZlLlxyXG4gICAqXHJcbiAgICogJ1tCaWdOdW1iZXIgRXJyb3JdIEFyZ3VtZW50IHtub3QgYSBwcmltaXRpdmUgbnVtYmVyfG5vdCBhbiBpbnRlZ2VyfG91dCBvZiByYW5nZX06IHtkcHxybX0nXHJcbiAgICovXHJcbiAgUC50b0ZpeGVkID0gZnVuY3Rpb24gKGRwLCBybSkge1xyXG4gICAgaWYgKGRwICE9IG51bGwpIHtcclxuICAgICAgaW50Q2hlY2soZHAsIDAsIE1BWCk7XHJcbiAgICAgIGRwID0gZHAgKyB0aGlzLmUgKyAxO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZvcm1hdCh0aGlzLCBkcCwgcm0pO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiBhIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIGluIGZpeGVkLXBvaW50IG5vdGF0aW9uIHJvdW5kZWRcclxuICAgKiB1c2luZyBybSBvciBST1VORElOR19NT0RFIHRvIGRwIGRlY2ltYWwgcGxhY2VzLCBhbmQgZm9ybWF0dGVkIGFjY29yZGluZyB0byB0aGUgcHJvcGVydGllc1xyXG4gICAqIG9mIHRoZSBmb3JtYXQgb3IgRk9STUFUIG9iamVjdCAoc2VlIEJpZ051bWJlci5zZXQpLlxyXG4gICAqXHJcbiAgICogVGhlIGZvcm1hdHRpbmcgb2JqZWN0IG1heSBjb250YWluIHNvbWUgb3IgYWxsIG9mIHRoZSBwcm9wZXJ0aWVzIHNob3duIGJlbG93LlxyXG4gICAqXHJcbiAgICogRk9STUFUID0ge1xyXG4gICAqICAgcHJlZml4OiAnJyxcclxuICAgKiAgIGdyb3VwU2l6ZTogMyxcclxuICAgKiAgIHNlY29uZGFyeUdyb3VwU2l6ZTogMCxcclxuICAgKiAgIGdyb3VwU2VwYXJhdG9yOiAnLCcsXHJcbiAgICogICBkZWNpbWFsU2VwYXJhdG9yOiAnLicsXHJcbiAgICogICBmcmFjdGlvbkdyb3VwU2l6ZTogMCxcclxuICAgKiAgIGZyYWN0aW9uR3JvdXBTZXBhcmF0b3I6ICdcXHhBMCcsICAgICAgLy8gbm9uLWJyZWFraW5nIHNwYWNlXHJcbiAgICogICBzdWZmaXg6ICcnXHJcbiAgICogfTtcclxuICAgKlxyXG4gICAqIFtkcF0ge251bWJlcn0gRGVjaW1hbCBwbGFjZXMuIEludGVnZXIsIDAgdG8gTUFYIGluY2x1c2l2ZS5cclxuICAgKiBbcm1dIHtudW1iZXJ9IFJvdW5kaW5nIG1vZGUuIEludGVnZXIsIDAgdG8gOCBpbmNsdXNpdmUuXHJcbiAgICogW2Zvcm1hdF0ge29iamVjdH0gRm9ybWF0dGluZyBvcHRpb25zLiBTZWUgRk9STUFUIHBiamVjdCBhYm92ZS5cclxuICAgKlxyXG4gICAqICdbQmlnTnVtYmVyIEVycm9yXSBBcmd1bWVudCB7bm90IGEgcHJpbWl0aXZlIG51bWJlcnxub3QgYW4gaW50ZWdlcnxvdXQgb2YgcmFuZ2V9OiB7ZHB8cm19J1xyXG4gICAqICdbQmlnTnVtYmVyIEVycm9yXSBBcmd1bWVudCBub3QgYW4gb2JqZWN0OiB7Zm9ybWF0fSdcclxuICAgKi9cclxuICBQLnRvRm9ybWF0ID0gZnVuY3Rpb24gKGRwLCBybSwgZm9ybWF0KSB7XHJcbiAgICB2YXIgc3RyLFxyXG4gICAgICB4ID0gdGhpcztcclxuXHJcbiAgICBpZiAoZm9ybWF0ID09IG51bGwpIHtcclxuICAgICAgaWYgKGRwICE9IG51bGwgJiYgcm0gJiYgdHlwZW9mIHJtID09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgZm9ybWF0ID0gcm07XHJcbiAgICAgICAgcm0gPSBudWxsO1xyXG4gICAgICB9IGVsc2UgaWYgKGRwICYmIHR5cGVvZiBkcCA9PSAnb2JqZWN0Jykge1xyXG4gICAgICAgIGZvcm1hdCA9IGRwO1xyXG4gICAgICAgIGRwID0gcm0gPSBudWxsO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGZvcm1hdCA9IEZPUk1BVDtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZm9ybWF0ICE9ICdvYmplY3QnKSB7XHJcbiAgICAgIHRocm93IEVycm9yXHJcbiAgICAgICAgKGJpZ251bWJlckVycm9yICsgJ0FyZ3VtZW50IG5vdCBhbiBvYmplY3Q6ICcgKyBmb3JtYXQpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0ciA9IHgudG9GaXhlZChkcCwgcm0pO1xyXG5cclxuICAgIGlmICh4LmMpIHtcclxuICAgICAgdmFyIGksXHJcbiAgICAgICAgYXJyID0gc3RyLnNwbGl0KCcuJyksXHJcbiAgICAgICAgZzEgPSArZm9ybWF0Lmdyb3VwU2l6ZSxcclxuICAgICAgICBnMiA9ICtmb3JtYXQuc2Vjb25kYXJ5R3JvdXBTaXplLFxyXG4gICAgICAgIGdyb3VwU2VwYXJhdG9yID0gZm9ybWF0Lmdyb3VwU2VwYXJhdG9yIHx8ICcnLFxyXG4gICAgICAgIGludFBhcnQgPSBhcnJbMF0sXHJcbiAgICAgICAgZnJhY3Rpb25QYXJ0ID0gYXJyWzFdLFxyXG4gICAgICAgIGlzTmVnID0geC5zIDwgMCxcclxuICAgICAgICBpbnREaWdpdHMgPSBpc05lZyA/IGludFBhcnQuc2xpY2UoMSkgOiBpbnRQYXJ0LFxyXG4gICAgICAgIGxlbiA9IGludERpZ2l0cy5sZW5ndGg7XHJcblxyXG4gICAgICBpZiAoZzIpIGkgPSBnMSwgZzEgPSBnMiwgZzIgPSBpLCBsZW4gLT0gaTtcclxuXHJcbiAgICAgIGlmIChnMSA+IDAgJiYgbGVuID4gMCkge1xyXG4gICAgICAgIGkgPSBsZW4gJSBnMSB8fCBnMTtcclxuICAgICAgICBpbnRQYXJ0ID0gaW50RGlnaXRzLnN1YnN0cigwLCBpKTtcclxuICAgICAgICBmb3IgKDsgaSA8IGxlbjsgaSArPSBnMSkgaW50UGFydCArPSBncm91cFNlcGFyYXRvciArIGludERpZ2l0cy5zdWJzdHIoaSwgZzEpO1xyXG4gICAgICAgIGlmIChnMiA+IDApIGludFBhcnQgKz0gZ3JvdXBTZXBhcmF0b3IgKyBpbnREaWdpdHMuc2xpY2UoaSk7XHJcbiAgICAgICAgaWYgKGlzTmVnKSBpbnRQYXJ0ID0gJy0nICsgaW50UGFydDtcclxuICAgICAgfVxyXG5cclxuICAgICAgc3RyID0gZnJhY3Rpb25QYXJ0XHJcbiAgICAgICA/IGludFBhcnQgKyAoZm9ybWF0LmRlY2ltYWxTZXBhcmF0b3IgfHwgJycpICsgKChnMiA9ICtmb3JtYXQuZnJhY3Rpb25Hcm91cFNpemUpXHJcbiAgICAgICAgPyBmcmFjdGlvblBhcnQucmVwbGFjZShuZXcgUmVnRXhwKCdcXFxcZHsnICsgZzIgKyAnfVxcXFxCJywgJ2cnKSxcclxuICAgICAgICAgJyQmJyArIChmb3JtYXQuZnJhY3Rpb25Hcm91cFNlcGFyYXRvciB8fCAnJykpXHJcbiAgICAgICAgOiBmcmFjdGlvblBhcnQpXHJcbiAgICAgICA6IGludFBhcnQ7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIChmb3JtYXQucHJlZml4IHx8ICcnKSArIHN0ciArIChmb3JtYXQuc3VmZml4IHx8ICcnKTtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYW4gYXJyYXkgb2YgdHdvIEJpZ051bWJlcnMgcmVwcmVzZW50aW5nIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBhcyBhIHNpbXBsZVxyXG4gICAqIGZyYWN0aW9uIHdpdGggYW4gaW50ZWdlciBudW1lcmF0b3IgYW5kIGFuIGludGVnZXIgZGVub21pbmF0b3IuXHJcbiAgICogVGhlIGRlbm9taW5hdG9yIHdpbGwgYmUgYSBwb3NpdGl2ZSBub24temVybyB2YWx1ZSBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gdGhlIHNwZWNpZmllZFxyXG4gICAqIG1heGltdW0gZGVub21pbmF0b3IuIElmIGEgbWF4aW11bSBkZW5vbWluYXRvciBpcyBub3Qgc3BlY2lmaWVkLCB0aGUgZGVub21pbmF0b3Igd2lsbCBiZVxyXG4gICAqIHRoZSBsb3dlc3QgdmFsdWUgbmVjZXNzYXJ5IHRvIHJlcHJlc2VudCB0aGUgbnVtYmVyIGV4YWN0bHkuXHJcbiAgICpcclxuICAgKiBbbWRdIHtudW1iZXJ8c3RyaW5nfEJpZ051bWJlcn0gSW50ZWdlciA+PSAxLCBvciBJbmZpbml0eS4gVGhlIG1heGltdW0gZGVub21pbmF0b3IuXHJcbiAgICpcclxuICAgKiAnW0JpZ051bWJlciBFcnJvcl0gQXJndW1lbnQge25vdCBhbiBpbnRlZ2VyfG91dCBvZiByYW5nZX0gOiB7bWR9J1xyXG4gICAqL1xyXG4gIFAudG9GcmFjdGlvbiA9IGZ1bmN0aW9uIChtZCkge1xyXG4gICAgdmFyIGQsIGQwLCBkMSwgZDIsIGUsIGV4cCwgbiwgbjAsIG4xLCBxLCByLCBzLFxyXG4gICAgICB4ID0gdGhpcyxcclxuICAgICAgeGMgPSB4LmM7XHJcblxyXG4gICAgaWYgKG1kICE9IG51bGwpIHtcclxuICAgICAgbiA9IG5ldyBCaWdOdW1iZXIobWQpO1xyXG5cclxuICAgICAgLy8gVGhyb3cgaWYgbWQgaXMgbGVzcyB0aGFuIG9uZSBvciBpcyBub3QgYW4gaW50ZWdlciwgdW5sZXNzIGl0IGlzIEluZmluaXR5LlxyXG4gICAgICBpZiAoIW4uaXNJbnRlZ2VyKCkgJiYgKG4uYyB8fCBuLnMgIT09IDEpIHx8IG4ubHQoT05FKSkge1xyXG4gICAgICAgIHRocm93IEVycm9yXHJcbiAgICAgICAgICAoYmlnbnVtYmVyRXJyb3IgKyAnQXJndW1lbnQgJyArXHJcbiAgICAgICAgICAgIChuLmlzSW50ZWdlcigpID8gJ291dCBvZiByYW5nZTogJyA6ICdub3QgYW4gaW50ZWdlcjogJykgKyB2YWx1ZU9mKG4pKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmICgheGMpIHJldHVybiBuZXcgQmlnTnVtYmVyKHgpO1xyXG5cclxuICAgIGQgPSBuZXcgQmlnTnVtYmVyKE9ORSk7XHJcbiAgICBuMSA9IGQwID0gbmV3IEJpZ051bWJlcihPTkUpO1xyXG4gICAgZDEgPSBuMCA9IG5ldyBCaWdOdW1iZXIoT05FKTtcclxuICAgIHMgPSBjb2VmZlRvU3RyaW5nKHhjKTtcclxuXHJcbiAgICAvLyBEZXRlcm1pbmUgaW5pdGlhbCBkZW5vbWluYXRvci5cclxuICAgIC8vIGQgaXMgYSBwb3dlciBvZiAxMCBhbmQgdGhlIG1pbmltdW0gbWF4IGRlbm9taW5hdG9yIHRoYXQgc3BlY2lmaWVzIHRoZSB2YWx1ZSBleGFjdGx5LlxyXG4gICAgZSA9IGQuZSA9IHMubGVuZ3RoIC0geC5lIC0gMTtcclxuICAgIGQuY1swXSA9IFBPV1NfVEVOWyhleHAgPSBlICUgTE9HX0JBU0UpIDwgMCA/IExPR19CQVNFICsgZXhwIDogZXhwXTtcclxuICAgIG1kID0gIW1kIHx8IG4uY29tcGFyZWRUbyhkKSA+IDAgPyAoZSA+IDAgPyBkIDogbjEpIDogbjtcclxuXHJcbiAgICBleHAgPSBNQVhfRVhQO1xyXG4gICAgTUFYX0VYUCA9IDEgLyAwO1xyXG4gICAgbiA9IG5ldyBCaWdOdW1iZXIocyk7XHJcblxyXG4gICAgLy8gbjAgPSBkMSA9IDBcclxuICAgIG4wLmNbMF0gPSAwO1xyXG5cclxuICAgIGZvciAoOyA7KSAge1xyXG4gICAgICBxID0gZGl2KG4sIGQsIDAsIDEpO1xyXG4gICAgICBkMiA9IGQwLnBsdXMocS50aW1lcyhkMSkpO1xyXG4gICAgICBpZiAoZDIuY29tcGFyZWRUbyhtZCkgPT0gMSkgYnJlYWs7XHJcbiAgICAgIGQwID0gZDE7XHJcbiAgICAgIGQxID0gZDI7XHJcbiAgICAgIG4xID0gbjAucGx1cyhxLnRpbWVzKGQyID0gbjEpKTtcclxuICAgICAgbjAgPSBkMjtcclxuICAgICAgZCA9IG4ubWludXMocS50aW1lcyhkMiA9IGQpKTtcclxuICAgICAgbiA9IGQyO1xyXG4gICAgfVxyXG5cclxuICAgIGQyID0gZGl2KG1kLm1pbnVzKGQwKSwgZDEsIDAsIDEpO1xyXG4gICAgbjAgPSBuMC5wbHVzKGQyLnRpbWVzKG4xKSk7XHJcbiAgICBkMCA9IGQwLnBsdXMoZDIudGltZXMoZDEpKTtcclxuICAgIG4wLnMgPSBuMS5zID0geC5zO1xyXG4gICAgZSA9IGUgKiAyO1xyXG5cclxuICAgIC8vIERldGVybWluZSB3aGljaCBmcmFjdGlvbiBpcyBjbG9zZXIgdG8geCwgbjAvZDAgb3IgbjEvZDFcclxuICAgIHIgPSBkaXYobjEsIGQxLCBlLCBST1VORElOR19NT0RFKS5taW51cyh4KS5hYnMoKS5jb21wYXJlZFRvKFxyXG4gICAgICAgIGRpdihuMCwgZDAsIGUsIFJPVU5ESU5HX01PREUpLm1pbnVzKHgpLmFicygpKSA8IDEgPyBbbjEsIGQxXSA6IFtuMCwgZDBdO1xyXG5cclxuICAgIE1BWF9FWFAgPSBleHA7XHJcblxyXG4gICAgcmV0dXJuIHI7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBjb252ZXJ0ZWQgdG8gYSBudW1iZXIgcHJpbWl0aXZlLlxyXG4gICAqL1xyXG4gIFAudG9OdW1iZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICByZXR1cm4gK3ZhbHVlT2YodGhpcyk7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIGEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgcm91bmRlZCB0byBzZCBzaWduaWZpY2FudCBkaWdpdHNcclxuICAgKiB1c2luZyByb3VuZGluZyBtb2RlIHJtIG9yIFJPVU5ESU5HX01PREUuIElmIHNkIGlzIGxlc3MgdGhhbiB0aGUgbnVtYmVyIG9mIGRpZ2l0c1xyXG4gICAqIG5lY2Vzc2FyeSB0byByZXByZXNlbnQgdGhlIGludGVnZXIgcGFydCBvZiB0aGUgdmFsdWUgaW4gZml4ZWQtcG9pbnQgbm90YXRpb24sIHRoZW4gdXNlXHJcbiAgICogZXhwb25lbnRpYWwgbm90YXRpb24uXHJcbiAgICpcclxuICAgKiBbc2RdIHtudW1iZXJ9IFNpZ25pZmljYW50IGRpZ2l0cy4gSW50ZWdlciwgMSB0byBNQVggaW5jbHVzaXZlLlxyXG4gICAqIFtybV0ge251bWJlcn0gUm91bmRpbmcgbW9kZS4gSW50ZWdlciwgMCB0byA4IGluY2x1c2l2ZS5cclxuICAgKlxyXG4gICAqICdbQmlnTnVtYmVyIEVycm9yXSBBcmd1bWVudCB7bm90IGEgcHJpbWl0aXZlIG51bWJlcnxub3QgYW4gaW50ZWdlcnxvdXQgb2YgcmFuZ2V9OiB7c2R8cm19J1xyXG4gICAqL1xyXG4gIFAudG9QcmVjaXNpb24gPSBmdW5jdGlvbiAoc2QsIHJtKSB7XHJcbiAgICBpZiAoc2QgIT0gbnVsbCkgaW50Q2hlY2soc2QsIDEsIE1BWCk7XHJcbiAgICByZXR1cm4gZm9ybWF0KHRoaXMsIHNkLCBybSwgMik7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIGEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgaW4gYmFzZSBiLCBvciBiYXNlIDEwIGlmIGIgaXNcclxuICAgKiBvbWl0dGVkLiBJZiBhIGJhc2UgaXMgc3BlY2lmaWVkLCBpbmNsdWRpbmcgYmFzZSAxMCwgcm91bmQgYWNjb3JkaW5nIHRvIERFQ0lNQUxfUExBQ0VTIGFuZFxyXG4gICAqIFJPVU5ESU5HX01PREUuIElmIGEgYmFzZSBpcyBub3Qgc3BlY2lmaWVkLCBhbmQgdGhpcyBCaWdOdW1iZXIgaGFzIGEgcG9zaXRpdmUgZXhwb25lbnRcclxuICAgKiB0aGF0IGlzIGVxdWFsIHRvIG9yIGdyZWF0ZXIgdGhhbiBUT19FWFBfUE9TLCBvciBhIG5lZ2F0aXZlIGV4cG9uZW50IGVxdWFsIHRvIG9yIGxlc3MgdGhhblxyXG4gICAqIFRPX0VYUF9ORUcsIHJldHVybiBleHBvbmVudGlhbCBub3RhdGlvbi5cclxuICAgKlxyXG4gICAqIFtiXSB7bnVtYmVyfSBJbnRlZ2VyLCAyIHRvIEFMUEhBQkVULmxlbmd0aCBpbmNsdXNpdmUuXHJcbiAgICpcclxuICAgKiAnW0JpZ051bWJlciBFcnJvcl0gQmFzZSB7bm90IGEgcHJpbWl0aXZlIG51bWJlcnxub3QgYW4gaW50ZWdlcnxvdXQgb2YgcmFuZ2V9OiB7Yn0nXHJcbiAgICovXHJcbiAgUC50b1N0cmluZyA9IGZ1bmN0aW9uIChiKSB7XHJcbiAgICB2YXIgc3RyLFxyXG4gICAgICBuID0gdGhpcyxcclxuICAgICAgcyA9IG4ucyxcclxuICAgICAgZSA9IG4uZTtcclxuXHJcbiAgICAvLyBJbmZpbml0eSBvciBOYU4/XHJcbiAgICBpZiAoZSA9PT0gbnVsbCkge1xyXG4gICAgICBpZiAocykge1xyXG4gICAgICAgIHN0ciA9ICdJbmZpbml0eSc7XHJcbiAgICAgICAgaWYgKHMgPCAwKSBzdHIgPSAnLScgKyBzdHI7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc3RyID0gJ05hTic7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmIChiID09IG51bGwpIHtcclxuICAgICAgICBzdHIgPSBlIDw9IFRPX0VYUF9ORUcgfHwgZSA+PSBUT19FWFBfUE9TXHJcbiAgICAgICAgID8gdG9FeHBvbmVudGlhbChjb2VmZlRvU3RyaW5nKG4uYyksIGUpXHJcbiAgICAgICAgIDogdG9GaXhlZFBvaW50KGNvZWZmVG9TdHJpbmcobi5jKSwgZSwgJzAnKTtcclxuICAgICAgfSBlbHNlIGlmIChiID09PSAxMCAmJiBhbHBoYWJldEhhc05vcm1hbERlY2ltYWxEaWdpdHMpIHtcclxuICAgICAgICBuID0gcm91bmQobmV3IEJpZ051bWJlcihuKSwgREVDSU1BTF9QTEFDRVMgKyBlICsgMSwgUk9VTkRJTkdfTU9ERSk7XHJcbiAgICAgICAgc3RyID0gdG9GaXhlZFBvaW50KGNvZWZmVG9TdHJpbmcobi5jKSwgbi5lLCAnMCcpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGludENoZWNrKGIsIDIsIEFMUEhBQkVULmxlbmd0aCwgJ0Jhc2UnKTtcclxuICAgICAgICBzdHIgPSBjb252ZXJ0QmFzZSh0b0ZpeGVkUG9pbnQoY29lZmZUb1N0cmluZyhuLmMpLCBlLCAnMCcpLCAxMCwgYiwgcywgdHJ1ZSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChzIDwgMCAmJiBuLmNbMF0pIHN0ciA9ICctJyArIHN0cjtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gc3RyO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiBhcyB0b1N0cmluZywgYnV0IGRvIG5vdCBhY2NlcHQgYSBiYXNlIGFyZ3VtZW50LCBhbmQgaW5jbHVkZSB0aGUgbWludXMgc2lnbiBmb3JcclxuICAgKiBuZWdhdGl2ZSB6ZXJvLlxyXG4gICAqL1xyXG4gIFAudmFsdWVPZiA9IFAudG9KU09OID0gZnVuY3Rpb24gKCkge1xyXG4gICAgcmV0dXJuIHZhbHVlT2YodGhpcyk7XHJcbiAgfTtcclxuXHJcblxyXG4gIFAuX2lzQmlnTnVtYmVyID0gdHJ1ZTtcclxuXHJcbiAgUFtTeW1ib2wudG9TdHJpbmdUYWddID0gJ0JpZ051bWJlcic7XHJcblxyXG4gIC8vIE5vZGUuanMgdjEwLjEyLjArXHJcbiAgUFtTeW1ib2wuZm9yKCdub2RlanMudXRpbC5pbnNwZWN0LmN1c3RvbScpXSA9IFAudmFsdWVPZjtcclxuXHJcbiAgaWYgKGNvbmZpZ09iamVjdCAhPSBudWxsKSBCaWdOdW1iZXIuc2V0KGNvbmZpZ09iamVjdCk7XHJcblxyXG4gIHJldHVybiBCaWdOdW1iZXI7XHJcbn1cclxuXHJcblxyXG4vLyBQUklWQVRFIEhFTFBFUiBGVU5DVElPTlNcclxuXHJcbi8vIFRoZXNlIGZ1bmN0aW9ucyBkb24ndCBuZWVkIGFjY2VzcyB0byB2YXJpYWJsZXMsXHJcbi8vIGUuZy4gREVDSU1BTF9QTEFDRVMsIGluIHRoZSBzY29wZSBvZiB0aGUgYGNsb25lYCBmdW5jdGlvbiBhYm92ZS5cclxuXHJcblxyXG5mdW5jdGlvbiBiaXRGbG9vcihuKSB7XHJcbiAgdmFyIGkgPSBuIHwgMDtcclxuICByZXR1cm4gbiA+IDAgfHwgbiA9PT0gaSA/IGkgOiBpIC0gMTtcclxufVxyXG5cclxuXHJcbi8vIFJldHVybiBhIGNvZWZmaWNpZW50IGFycmF5IGFzIGEgc3RyaW5nIG9mIGJhc2UgMTAgZGlnaXRzLlxyXG5mdW5jdGlvbiBjb2VmZlRvU3RyaW5nKGEpIHtcclxuICB2YXIgcywgeixcclxuICAgIGkgPSAxLFxyXG4gICAgaiA9IGEubGVuZ3RoLFxyXG4gICAgciA9IGFbMF0gKyAnJztcclxuXHJcbiAgZm9yICg7IGkgPCBqOykge1xyXG4gICAgcyA9IGFbaSsrXSArICcnO1xyXG4gICAgeiA9IExPR19CQVNFIC0gcy5sZW5ndGg7XHJcbiAgICBmb3IgKDsgei0tOyBzID0gJzAnICsgcyk7XHJcbiAgICByICs9IHM7XHJcbiAgfVxyXG5cclxuICAvLyBEZXRlcm1pbmUgdHJhaWxpbmcgemVyb3MuXHJcbiAgZm9yIChqID0gci5sZW5ndGg7IHIuY2hhckNvZGVBdCgtLWopID09PSA0ODspO1xyXG5cclxuICByZXR1cm4gci5zbGljZSgwLCBqICsgMSB8fCAxKTtcclxufVxyXG5cclxuXHJcbi8vIENvbXBhcmUgdGhlIHZhbHVlIG9mIEJpZ051bWJlcnMgeCBhbmQgeS5cclxuZnVuY3Rpb24gY29tcGFyZSh4LCB5KSB7XHJcbiAgdmFyIGEsIGIsXHJcbiAgICB4YyA9IHguYyxcclxuICAgIHljID0geS5jLFxyXG4gICAgaSA9IHgucyxcclxuICAgIGogPSB5LnMsXHJcbiAgICBrID0geC5lLFxyXG4gICAgbCA9IHkuZTtcclxuXHJcbiAgLy8gRWl0aGVyIE5hTj9cclxuICBpZiAoIWkgfHwgIWopIHJldHVybiBudWxsO1xyXG5cclxuICBhID0geGMgJiYgIXhjWzBdO1xyXG4gIGIgPSB5YyAmJiAheWNbMF07XHJcblxyXG4gIC8vIEVpdGhlciB6ZXJvP1xyXG4gIGlmIChhIHx8IGIpIHJldHVybiBhID8gYiA/IDAgOiAtaiA6IGk7XHJcblxyXG4gIC8vIFNpZ25zIGRpZmZlcj9cclxuICBpZiAoaSAhPSBqKSByZXR1cm4gaTtcclxuXHJcbiAgYSA9IGkgPCAwO1xyXG4gIGIgPSBrID09IGw7XHJcblxyXG4gIC8vIEVpdGhlciBJbmZpbml0eT9cclxuICBpZiAoIXhjIHx8ICF5YykgcmV0dXJuIGIgPyAwIDogIXhjIF4gYSA/IDEgOiAtMTtcclxuXHJcbiAgLy8gQ29tcGFyZSBleHBvbmVudHMuXHJcbiAgaWYgKCFiKSByZXR1cm4gayA+IGwgXiBhID8gMSA6IC0xO1xyXG5cclxuICBqID0gKGsgPSB4Yy5sZW5ndGgpIDwgKGwgPSB5Yy5sZW5ndGgpID8gayA6IGw7XHJcblxyXG4gIC8vIENvbXBhcmUgZGlnaXQgYnkgZGlnaXQuXHJcbiAgZm9yIChpID0gMDsgaSA8IGo7IGkrKykgaWYgKHhjW2ldICE9IHljW2ldKSByZXR1cm4geGNbaV0gPiB5Y1tpXSBeIGEgPyAxIDogLTE7XHJcblxyXG4gIC8vIENvbXBhcmUgbGVuZ3Rocy5cclxuICByZXR1cm4gayA9PSBsID8gMCA6IGsgPiBsIF4gYSA/IDEgOiAtMTtcclxufVxyXG5cclxuXHJcbi8qXHJcbiAqIENoZWNrIHRoYXQgbiBpcyBhIHByaW1pdGl2ZSBudW1iZXIsIGFuIGludGVnZXIsIGFuZCBpbiByYW5nZSwgb3RoZXJ3aXNlIHRocm93LlxyXG4gKi9cclxuZnVuY3Rpb24gaW50Q2hlY2sobiwgbWluLCBtYXgsIG5hbWUpIHtcclxuICBpZiAobiA8IG1pbiB8fCBuID4gbWF4IHx8IG4gIT09IG1hdGhmbG9vcihuKSkge1xyXG4gICAgdGhyb3cgRXJyb3JcclxuICAgICAoYmlnbnVtYmVyRXJyb3IgKyAobmFtZSB8fCAnQXJndW1lbnQnKSArICh0eXBlb2YgbiA9PSAnbnVtYmVyJ1xyXG4gICAgICAgPyBuIDwgbWluIHx8IG4gPiBtYXggPyAnIG91dCBvZiByYW5nZTogJyA6ICcgbm90IGFuIGludGVnZXI6ICdcclxuICAgICAgIDogJyBub3QgYSBwcmltaXRpdmUgbnVtYmVyOiAnKSArIFN0cmluZyhuKSk7XHJcbiAgfVxyXG59XHJcblxyXG5cclxuLy8gQXNzdW1lcyBmaW5pdGUgbi5cclxuZnVuY3Rpb24gaXNPZGQobikge1xyXG4gIHZhciBrID0gbi5jLmxlbmd0aCAtIDE7XHJcbiAgcmV0dXJuIGJpdEZsb29yKG4uZSAvIExPR19CQVNFKSA9PSBrICYmIG4uY1trXSAlIDIgIT0gMDtcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIHRvRXhwb25lbnRpYWwoc3RyLCBlKSB7XHJcbiAgcmV0dXJuIChzdHIubGVuZ3RoID4gMSA/IHN0ci5jaGFyQXQoMCkgKyAnLicgKyBzdHIuc2xpY2UoMSkgOiBzdHIpICtcclxuICAgKGUgPCAwID8gJ2UnIDogJ2UrJykgKyBlO1xyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gdG9GaXhlZFBvaW50KHN0ciwgZSwgeikge1xyXG4gIHZhciBsZW4sIHpzO1xyXG5cclxuICAvLyBOZWdhdGl2ZSBleHBvbmVudD9cclxuICBpZiAoZSA8IDApIHtcclxuXHJcbiAgICAvLyBQcmVwZW5kIHplcm9zLlxyXG4gICAgZm9yICh6cyA9IHogKyAnLic7ICsrZTsgenMgKz0geik7XHJcbiAgICBzdHIgPSB6cyArIHN0cjtcclxuXHJcbiAgLy8gUG9zaXRpdmUgZXhwb25lbnRcclxuICB9IGVsc2Uge1xyXG4gICAgbGVuID0gc3RyLmxlbmd0aDtcclxuXHJcbiAgICAvLyBBcHBlbmQgemVyb3MuXHJcbiAgICBpZiAoKytlID4gbGVuKSB7XHJcbiAgICAgIGZvciAoenMgPSB6LCBlIC09IGxlbjsgLS1lOyB6cyArPSB6KTtcclxuICAgICAgc3RyICs9IHpzO1xyXG4gICAgfSBlbHNlIGlmIChlIDwgbGVuKSB7XHJcbiAgICAgIHN0ciA9IHN0ci5zbGljZSgwLCBlKSArICcuJyArIHN0ci5zbGljZShlKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiBzdHI7XHJcbn1cclxuXHJcblxyXG4vLyBFWFBPUlRcclxuXHJcblxyXG5leHBvcnQgdmFyIEJpZ051bWJlciA9IGNsb25lKCk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBCaWdOdW1iZXI7XHJcbiIsImltcG9ydCB0eXBlIHsgQ29pbkdlY2tvRmlhdCB9IGZyb20gXCIjL3N0b3JlL3dlYi1hcGlzXCI7XG5cbmNvbnN0IERfSU5UTF9VU0QgPSBuZXcgSW50bC5OdW1iZXJGb3JtYXQoJ2VuLVVTJywge1xuXHRzdHlsZTogJ2N1cnJlbmN5Jyxcblx0Y3VycmVuY3k6ICdVU0QnLFxuXHRjdXJyZW5jeURpc3BsYXk6ICdzeW1ib2wnLFxufSk7XG5cbmNvbnN0IERfSU5UTF9VU0RfTFQxID0gbmV3IEludGwuTnVtYmVyRm9ybWF0KCdlbi1VUycsIHtcblx0c3R5bGU6ICdjdXJyZW5jeScsXG5cdGN1cnJlbmN5OiAnVVNEJyxcblx0Y3VycmVuY3lEaXNwbGF5OiAnc3ltYm9sJyxcblx0bWluaW11bUZyYWN0aW9uRGlnaXRzOiAyLFxuXHRtYXhpbXVtRnJhY3Rpb25EaWdpdHM6IDUsXG59KTtcblxuY29uc3QgQV9OVU1FUklDX0dUMSA9IFtcblx0e1xuXHRcdG9yZGVyOiAxZTIxLFxuXHRcdHN1ZmZpeDogJ3NlcHQnLFxuXHRcdG1ldHJpYzogJ3lvdHRhJyxcblx0XHRtOiAnWScsXG5cdH0sXG5cdHtcblx0XHRvcmRlcjogMWUyMSxcblx0XHRzdWZmaXg6ICdzZXh0Jyxcblx0XHRtZXRyaWM6ICd6ZXR0YScsXG5cdFx0bTogJ1onLFxuXHR9LFxuXHR7XG5cdFx0b3JkZXI6IDFlMTgsXG5cdFx0c3VmZml4OiAncXVpbnQnLFxuXHRcdG1ldHJpYzogJ2V4YScsXG5cdFx0bTogJ0UnLFxuXHR9LFxuXHR7XG5cdFx0b3JkZXI6IDFlMTUsXG5cdFx0c3VmZml4OiAncXVhZCcsXG5cdFx0bWV0cmljOiAncGV0YScsXG5cdFx0bTogJ1AnLFxuXHR9LFxuXHR7XG5cdFx0b3JkZXI6IDFlMTIsXG5cdFx0c3VmZml4OiAndHJpbCcsXG5cdFx0bWV0cmljOiAndGVycmEnLFxuXHRcdG06ICdUJyxcblx0fSxcblx0e1xuXHRcdG9yZGVyOiAxZTksXG5cdFx0c3VmZml4OiAnYmlsJyxcblx0XHRtZXRyaWM6ICdnaWdhJyxcblx0XHRtOiAnRycsXG5cdH0sXG5cdHtcblx0XHRvcmRlcjogMWU2LFxuXHRcdHN1ZmZpeDogJ21pbCcsXG5cdFx0bWV0cmljOiAnbWVnYScsXG5cdFx0bTogJ00nLFxuXHR9LFxuXTtcblxuY29uc3QgQV9OVU1FUklDX0xUMSA9IFtcblx0e1xuXHRcdG9yZGVyOiAxZS0yNCxcblx0XHRzdWZmaXg6ICdzZXB0aCcsXG5cdFx0bWV0cmljOiAneW9jdG8nLFxuXHRcdG06ICd5Jyxcblx0fSxcblx0e1xuXHRcdG9yZGVyOiAxZS0yMSxcblx0XHRzdWZmaXg6ICdzZXh0aCcsXG5cdFx0bWV0cmljOiAnemVwdG8nLFxuXHRcdG06ICd6Jyxcblx0fSxcblx0e1xuXHRcdG9yZGVyOiAxZS0xOCxcblx0XHRzdWZmaXg6ICdxdWludGgnLFxuXHRcdG1ldHJpYzogJ2F0dG8nLFxuXHRcdG06ICdhJyxcblx0fSxcblx0e1xuXHRcdG9yZGVyOiAxZS0xNSxcblx0XHRzdWZmaXg6ICdxdWFkdGgnLFxuXHRcdG1ldHJpYzogJ2ZlbXRvJyxcblx0XHRtOiAnZicsXG5cdH0sXG5cdHtcblx0XHRvcmRlcjogMWUtMTIsXG5cdFx0c3VmZml4OiAndHJpbHRoJyxcblx0XHRtZXRyaWM6ICdwaWNvJyxcblx0XHRtOiAncCcsXG5cdH0sXG5cdHtcblx0XHRvcmRlcjogMWUtOSxcblx0XHRzdWZmaXg6ICdiaWx0aCcsXG5cdFx0bWV0cmljOiAnbmFubycsXG5cdFx0bTogJ24nLFxuXHR9LFxuXHR7XG5cdFx0b3JkZXI6IDFlLTYsXG5cdFx0c3VmZml4OiAnbWlsdGgnLFxuXHRcdG1ldHJpYzogJ21pcmNvJyxcblx0XHRtOiAnzrwnLFxuXHR9LFxuXHR7XG5cdFx0b3JkZXI6IDFlLTMsXG5cdFx0c3VmZml4OiAndGhzdGgnLFxuXHRcdG1ldHJpYzogJ21pbGxpJyxcblx0XHRtOiAnbScsXG5cdH0sXG5dO1xuXG5jb25zdCBEX0lOVExfQU1PVU5UX0xUMSA9IG5ldyBJbnRsLk51bWJlckZvcm1hdCgnZW4tVVMnLCB7XG5cdG5vdGF0aW9uOiAnc3RhbmRhcmQnLFxuXHRtYXhpbXVtU2lnbmlmaWNhbnREaWdpdHM6IDYsXG59KTtcblxuY29uc3QgRF9JTlRMX0FNT1VOVF9HVDEgPSBuZXcgSW50bC5OdW1iZXJGb3JtYXQoJ2VuLVVTJywge1xuXHRub3RhdGlvbjogJ3N0YW5kYXJkJyxcblx0bWF4aW11bUZyYWN0aW9uRGlnaXRzOiAzLFxufSk7XG5cbmNvbnN0IERfSU5UTF9BTU9VTlRfR1QxRTMgPSBuZXcgSW50bC5OdW1iZXJGb3JtYXQoJ2VuLVVTJywge1xuXHRub3RhdGlvbjogJ3N0YW5kYXJkJyxcblx0bWF4aW11bVNpZ25pZmljYW50RGlnaXRzOiA2LFxufSk7XG5cbmNvbnN0IERfSU5UTF9BTU9VTlRfSTFFMyA9IG5ldyBJbnRsLk51bWJlckZvcm1hdCgnZW4tVVMnLCB7XG5cdG5vdGF0aW9uOiAnc3RhbmRhcmQnLFxuXHRtYXhpbXVtU2lnbmlmaWNhbnREaWdpdHM6IDQsXG59KTtcblxuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdF9hbW91bnQoeF9hbW91bnQ6IG51bWJlciwgYl9zaG9ydGVyPWZhbHNlKTogc3RyaW5nIHtcblx0Ly8gaWYoYl9zaG9ydGVyKSBkZWJ1Z2dlcjtcblxuXHQvLyB6ZXJvXG5cdGlmKDAgPT09IHhfYW1vdW50KSByZXR1cm4gJzAnO1xuXG5cdC8vIGxlZnQgc2lkZSBvZiBkZWltY2FsXG5cdGlmKHhfYW1vdW50ID49IDFlNikge1xuXHRcdGZvcihjb25zdCBnY19hYmJyIG9mIEFfTlVNRVJJQ19HVDEpIHtcblx0XHRcdGlmKHhfYW1vdW50ID49IGdjX2FiYnIub3JkZXIpIHtcblx0XHRcdFx0cmV0dXJuICh4X2Ftb3VudCAvIGdjX2FiYnIub3JkZXIpLnRvUHJlY2lzaW9uKDMpKycgJytnY19hYmJyLnN1ZmZpeDtcblx0XHRcdH1cblx0XHR9XG5cdH1cblx0Ly8gcmlnaHQgc2lkZSBvZiBkZWNpbWFsXG5cdGVsc2UgaWYoeF9hbW91bnQgPCAxKSB7XG5cdFx0Zm9yKGNvbnN0IGdjX2FiYnIgb2YgQV9OVU1FUklDX0xUMSkge1xuXHRcdFx0aWYoeF9hbW91bnQgPD0gZ2NfYWJici5vcmRlcikge1xuXHRcdFx0XHRyZXR1cm4gKHhfYW1vdW50ICogZ2NfYWJici5vcmRlcikudG9QcmVjaXNpb24oMykrJyAnK2djX2FiYnIubWV0cmljO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIGxlc3MgdGhhbiAxXG5cdFx0cmV0dXJuIERfSU5UTF9BTU9VTlRfTFQxLmZvcm1hdCh4X2Ftb3VudCk7XG5cdH1cblxuXHQvLyBiZXR3ZWVuIDFrIGFuZCAxTVxuXHRpZih4X2Ftb3VudCA+PSAxZTMpIHtcblx0XHQvLyBtYWtlIHRob3VzYW5kcyBzaG9ydGVyXG5cdFx0aWYoYl9zaG9ydGVyKSB7XG5cdFx0XHRyZXR1cm4gRF9JTlRMX0FNT1VOVF9JMUUzLmZvcm1hdCh4X2Ftb3VudCAvIDFlMykrJyBrJztcblx0XHR9XG5cblx0XHRyZXR1cm4gRF9JTlRMX0FNT1VOVF9HVDFFMy5mb3JtYXQoeF9hbW91bnQpO1xuXHR9XG5cblx0Ly8gZ3JlYXRlciB0aGFuIDFcblx0cmV0dXJuIERfSU5UTF9BTU9VTlRfR1QxLmZvcm1hdCh4X2Ftb3VudCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmb3JtYXRfZmlhdCh4X2Ftb3VudDogbnVtYmVyLCBzaV9maWF0OiBDb2luR2Vja29GaWF0PSd1c2QnLCBiX29taXRfc2lnbj1mYWxzZSwgbl9kZWNpbWFscz0yKTogc3RyaW5nIHtcblx0Y29uc3Qgc19mb3JtYXR0ZWQgPSB4X2Ftb3VudCA8IDE/IERfSU5UTF9VU0RfTFQxLmZvcm1hdCh4X2Ftb3VudCk6IERfSU5UTF9VU0QuZm9ybWF0KHhfYW1vdW50KTtcblxuXHRyZXR1cm4gYl9vbWl0X3NpZ24/IHNfZm9ybWF0dGVkLnJlcGxhY2UoL15bJF0vLCAnJyk6IHNfZm9ybWF0dGVkO1xufVxuXG4vLyAvKipcbi8vICAqIHJldHVybnMgdGhlIGZpYXQgZXF1aXZhbGVudCBvZiB0aGUgZ2l2ZW4gdG9rZW4gYW1vdW50XG4vLyAgKi9cbi8vIGV4cG9ydCBmdW5jdGlvbiBhbW91bnRfdG9fZmlhdCh4X2Ftb3VudDogbnVtYmVyLCBrX3Rva2VuOiBUb2tlbiwgYl9vbWl0X3NpZ249ZmFsc2UpOiBzdHJpbmcge1xuLy8gXHRyZXR1cm4gZm9ybWF0X2ZpYXQoSF9WRVJTVVNfVVNEW2tfdG9rZW4uZGVmLmlyaV0udmFsdWUgKiB4X2Ftb3VudCwgYl9vbWl0X3NpZ24pO1xuLy8gfVxuIiwiaW1wb3J0IHtcblx0Y3JlYXRlX3N0b3JlX2NsYXNzLFxuXHRXcml0YWJsZVN0b3JlLFxuXHRXcml0YWJsZVN0b3JlTWFwLFxufSBmcm9tICcuL19iYXNlJztcblxuaW1wb3J0IHtTSV9TVE9SRV9XRUJfQVBJUywgWFRfTUlOVVRFU30gZnJvbSAnIy9zaGFyZS9jb25zdGFudHMnO1xuaW1wb3J0IHR5cGUge1Jlc291cmNlfSBmcm9tICcjL21ldGEvcmVzb3VyY2UnO1xuaW1wb3J0IHR5cGUge1Jlc3BvbnNlQ2FjaGUsIFdlYkFwaSwgV2ViQXBpUGF0aH0gZnJvbSAnIy9tZXRhL3dlYi1hcGknO1xuaW1wb3J0IHtidWZmZXJfdG9fYmFzZTY0LCBzaGEyNTZfc3luYywgdGV4dF90b19idWZmZXJ9IGZyb20gJyMvdXRpbC9kYXRhJztcbmltcG9ydCB0eXBlIHsgVmFsdWVzIH0gZnJvbSAnIy9tZXRhL2JlbHQnO1xuaW1wb3J0IHsgRGljdCwgSnNvbk9iamVjdCwgb2RlLCBvZGVyYWMgfSBmcm9tICcjL3V0aWwvYmVsdCc7XG5pbXBvcnQgdHlwZSB7IE1lcmdlIH0gZnJvbSAndHMtdG9vbGJlbHQvb3V0L09iamVjdC9NZXJnZSc7XG5cbmV4cG9ydCBjb25zdCBBX0NPSU5HRUNLT19WUyA9IFtcblx0J2J0YycsXG5cdCdldGgnLFxuXHQnbHRjJyxcblx0J2JjaCcsXG5cdCdibmInLFxuXHQnZW9zJyxcblx0J3hycCcsXG5cdCd4bG0nLFxuXHQnbGluaycsXG5cdCdkb3QnLFxuXHQneWZpJyxcblx0J3VzZCcsXG5cdCdhZWQnLFxuXHQnYXJzJyxcblx0J2F1ZCcsXG5cdCdiZHQnLFxuXHQnYmhkJyxcblx0J2JtZCcsXG5cdCdicmwnLFxuXHQnY2FkJyxcblx0J2NoZicsXG5cdCdjbHAnLFxuXHQnY255Jyxcblx0J2N6aycsXG5cdCdka2snLFxuXHQnZXVyJyxcblx0J2dicCcsXG5cdCdoa2QnLFxuXHQnaHVmJyxcblx0J2lkcicsXG5cdCdpbHMnLFxuXHQnaW5yJyxcblx0J2pweScsXG5cdCdrcncnLFxuXHQna3dkJyxcblx0J2xrcicsXG5cdCdtbWsnLFxuXHQnbXhuJyxcblx0J215cicsXG5cdCduZ24nLFxuXHQnbm9rJyxcblx0J256ZCcsXG5cdCdwaHAnLFxuXHQncGtyJyxcblx0J3BsbicsXG5cdCdydWInLFxuXHQnc2FyJyxcblx0J3NlaycsXG5cdCdzZ2QnLFxuXHQndGhiJyxcblx0J3RyeScsXG5cdCd0d2QnLFxuXHQndWFoJyxcblx0J3ZlZicsXG5cdCd2bmQnLFxuXHQnemFyJyxcblx0J3hkcicsXG5cdCd4YWcnLFxuXHQneGF1Jyxcblx0J2JpdHMnLFxuXHQnc2F0cycsXG5dO1xuXG5leHBvcnQgdHlwZSBDb2luR2Vja29GaWF0ID0gVmFsdWVzPHR5cGVvZiBBX0NPSU5HRUNLT19WUz47XG5cbmNvbnN0IGNvaW5nZWNrb191cmwgPSAoYV9jb2luczogc3RyaW5nW10sIHNpX3ZlcnN1czogQ29pbkdlY2tvRmlhdCkgPT4gJ2h0dHBzOi8vYXBpLmNvaW5nZWNrby5jb20vYXBpL3YzL3NpbXBsZS9wcmljZT8nXG5cdCtuZXcgVVJMU2VhcmNoUGFyYW1zKG9kZSh7XG5cdFx0aWRzOiBhX2NvaW5zLmpvaW4oJywnKSxcblx0XHR2c19jdXJyZW5jaWVzOiBzaV92ZXJzdXMsXG5cdFx0aW5jbHVkZV9sYXN0X3VwZGF0ZWRfYXQ6ICd0cnVlJyxcblx0fSkpO1xuXG50eXBlIENvaW5HZWNrb1NpbXBsZVByaWNlPFxuXHRzaV9jb2luIGV4dGVuZHMgc3RyaW5nPXN0cmluZyxcblx0c2lfdmVyc3VzIGV4dGVuZHMgQ29pbkdlY2tvRmlhdD1Db2luR2Vja29GaWF0LFxuPiA9IFJlY29yZDxzaV9jb2luLCBNZXJnZTx7XG5cdFtzaV92IGluIHNpX3ZlcnN1c106IG51bWJlcjtcbn0sIHtcblx0bGFzdF91cGRhdGVkX2F0OiBudW1iZXI7XG59Pj47XG5cbmV4cG9ydCBjb25zdCBDb2luR2Vja28gPSB7XG5cdGFzeW5jIGNvaW5zVmVyc3VzKGFfY29pbnM6IHN0cmluZ1tdLCBzaV92ZXJzdXM6IENvaW5HZWNrb0ZpYXQ9J3VzZCcsIHh0X21heF9hZ2U9NSpYVF9NSU5VVEVTKTogUHJvbWlzZTxEaWN0PG51bWJlcj4+IHtcblx0XHQvLyBtYXAgZWFjaCBjb2luIHRvIHJlcXVlc3QgcGF0aFxuXHRcdGNvbnN0IGFfYXBpcyA9IGFfY29pbnMubWFwKHNpID0+IFdlYkFwaXMucGF0aEZvcignR0VUJywgY29pbmdlY2tvX3VybChbc2ldLCBzaV92ZXJzdXMpKSk7XG5cblx0XHQvLyByZWFkIGZyb20gc3RvcmVcblx0XHRyZXR1cm4gYXdhaXQgV2ViQXBpcy5vcGVuKGFzeW5jKGtzX2FwaXMpID0+IHtcblx0XHRcdC8vIHByZXAgb3V0IG1hcFxuXHRcdFx0Y29uc3QgaF9vdXQ6IERpY3Q8bnVtYmVyPiA9IHt9O1xuXG5cdFx0XHQvLyB0cnkgdG8gdXNlIGNhY2hlXG5cdFx0XHRpZih4dF9tYXhfYWdlID4gMCkge1xuXHRcdFx0XHQvLyBleHBpcnkgY3V0b2ZmXG5cdFx0XHRcdGNvbnN0IHh0X2N1dG9mZiA9IERhdGUubm93KCkgLSB4dF9tYXhfYWdlO1xuXG5cdFx0XHRcdC8vIGlmIGNhY2hlIGlzIHN0aWxsIHZhbGlkXG5cdFx0XHRcdGxldCBiX2NhY2hlX3ZhbGlkID0gdHJ1ZTtcblxuXHRcdFx0XHQvLyBlYWNoIGNvaW4gYmVpbmcgcmVxdWVzdGVkXG5cdFx0XHRcdGZvcihsZXQgaV9jb2luPTA7IGlfY29pbjxhX2NvaW5zLmxlbmd0aDsgaV9jb2luKyspIHtcblx0XHRcdFx0XHRjb25zdCBnX2FwaSA9IGtzX2FwaXMuYXQoYV9hcGlzW2lfY29pbl0pO1xuXG5cdFx0XHRcdFx0Ly8gbm90IHlldCBzdGFsZVxuXHRcdFx0XHRcdGlmKGdfYXBpICYmIGdfYXBpLnRpbWUgPiB4dF9jdXRvZmYpIHtcblx0XHRcdFx0XHRcdGNvbnN0IHNpX2NvaW4gPSBhX2NvaW5zW2lfY29pbl07XG5cdFx0XHRcdFx0XHRoX291dFtzaV9jb2luXSA9IChnX2FwaS5yZXNwb25zZS5jYWNoZSBhcyBDb2luR2Vja29TaW1wbGVQcmljZSlbc2lfY29pbl1bc2lfdmVyc3VzXSE7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdC8vIGVuY291bnRlcmVkIHN0YWxlIGVudHJ5XG5cdFx0XHRcdFx0ZWxzZSB7XG5cdFx0XHRcdFx0XHRiX2NhY2hlX3ZhbGlkID0gZmFsc2U7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBjYWNoZSBpcyBzdGlsbCB2YWxpZDsgcmV0dXJuIHJlc3BvbnNlc1xuXHRcdFx0XHRpZihiX2NhY2hlX3ZhbGlkKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGhfb3V0O1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIGZldGNoIGZyb20gYXBpXG5cdFx0XHRjb25zdCBkX3JlcyA9IGF3YWl0IGZldGNoKGNvaW5nZWNrb191cmwoYV9jb2lucywgc2lfdmVyc3VzKSk7XG5cblx0XHRcdC8vIGxvYWQgcmVzcG9uc2Vcblx0XHRcdGNvbnN0IGhfcmVzcG9uc2UgPSBhd2FpdCBkX3Jlcy5qc29uKCkgYXMgQ29pbkdlY2tvU2ltcGxlUHJpY2U8c3RyaW5nLCB0eXBlb2Ygc2lfdmVyc3VzPjtcblxuXHRcdFx0Ly8gcmVmIHJhdyBjYWNoZVxuXHRcdFx0Y29uc3QgaF9jYWNoZSA9IGtzX2FwaXMucmF3O1xuXG5cdFx0XHQvLyBjYWNoZSBkYXRldGltZVxuXHRcdFx0Y29uc3QgeHRfbm93ID0gRGF0ZS5ub3coKTtcblx0XHRcdGZvcihjb25zdCBbc2lfY29pbiwgZ19jb2luXSBvZiBvZGUoaF9yZXNwb25zZSkpIHtcblx0XHRcdFx0Y29uc3QgZ19jYWNoZSA9IGhfY2FjaGVbc2lfY29pbl0gPSBoX2NhY2hlW3NpX2NvaW5dIHx8IHt9O1xuXHRcdFx0XHRnX2NhY2hlLnJlc3BvbnNlID0gZ19jb2luO1xuXHRcdFx0XHRnX2NhY2hlLnRpbWUgPSB4dF9ub3c7XG5cdFx0XHRcdGhfb3V0W3NpX2NvaW5dID0gZ19jb2luW3NpX3ZlcnN1c10hO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gaF9vdXQ7XG5cdFx0fSk7XG5cdH0sXG59O1xuXG5leHBvcnQgY29uc3QgV2ViQXBpcyA9IGNyZWF0ZV9zdG9yZV9jbGFzcyh7XG5cdHN0b3JlOiBTSV9TVE9SRV9XRUJfQVBJUyxcblx0ZXh0ZW5zaW9uOiAnbWFwJyxcblx0Y2xhc3M6IGNsYXNzIFdlYkFwaXNJIGV4dGVuZHMgV3JpdGFibGVTdG9yZU1hcDx0eXBlb2YgU0lfU1RPUkVfV0VCX0FQSVM+IHtcblx0XHRzdGF0aWMgcGF0aEZvcihzaV9tZXRob2Q6IFdlYkFwaVsnaW50ZXJmYWNlJ11bJ21ldGhvZCddLCBwX2FwaTogc3RyaW5nKTogV2ViQXBpUGF0aCB7XG5cdFx0XHQvLyBnZW5lcmF0ZSBoYXNoXG5cdFx0XHRjb25zdCBzX2hhc2ggPSBidWZmZXJfdG9fYmFzZTY0KHNoYTI1Nl9zeW5jKHRleHRfdG9fYnVmZmVyKHNpX21ldGhvZCsnICcrcF9hcGkpKSk7XG5cblx0XHRcdC8vIHByb2R1Y2UgcGF0aFxuXHRcdFx0cmV0dXJuIGAvY2FjaGUud2ViLWFwaS9zaGEyNTYuJHtzX2hhc2h9YDtcblx0XHR9XG5cblx0XHRzdGF0aWMgcGF0aEZyb20oZ19hcGk6IFdlYkFwaVsnaW50ZXJmYWNlJ10pOiBXZWJBcGlQYXRoIHtcblx0XHRcdHJldHVybiBXZWJBcGlzSS5wYXRoRm9yKGdfYXBpLm1ldGhvZCwgZ19hcGkucGF0aCk7XG5cdFx0fVxuXHR9LFxufSk7XG5cbiIsImltcG9ydCB7XG5cdGNyZWF0ZV9zdG9yZV9jbGFzcyxcblx0V3JpdGFibGVTdG9yZURpY3QsXG5cdFdyaXRhYmxlU3RvcmVNYXAsXG59IGZyb20gJy4vX2Jhc2UnO1xuXG5pbXBvcnQgeyBTSV9TVE9SRV9BR0VOVFMgfSBmcm9tICcjL3NoYXJlL2NvbnN0YW50cyc7XG5pbXBvcnQgdHlwZSB7IFJlc291cmNlIH0gZnJvbSAnIy9tZXRhL3Jlc291cmNlJztcbmltcG9ydCB0eXBlIHsgQ29udGFjdCwgQ29udGFjdFBhdGggfSBmcm9tICcjL21ldGEvY29udGFjdCc7XG5pbXBvcnQgdHlwZSB7IEFnZW50LCBBZ2VudFBhdGgsIEZhbWlseUtleSB9IGZyb20gJyMvbWV0YS9jaGFpbic7XG5pbXBvcnQgeyB5d19jaGFpbiwgeXdfZmFtaWx5IH0gZnJvbSAnIy9hcHAvbWVtJztcblxuXG5leHBvcnQgY29uc3QgQWdlbnRzID0gY3JlYXRlX3N0b3JlX2NsYXNzKHtcblx0c3RvcmU6IFNJX1NUT1JFX0FHRU5UUyxcblx0ZXh0ZW5zaW9uOiAnbWFwJyxcblx0Y2xhc3M6IGNsYXNzIEFnZW50c0kgZXh0ZW5kcyBXcml0YWJsZVN0b3JlTWFwPHR5cGVvZiBTSV9TVE9SRV9BR0VOVFM+IHtcblx0XHRzdGF0aWMgcGF0aEZvckFnZW50KHNhX2FkZHI6IHN0cmluZywgc2lfZmFtaWx5OiBGYW1pbHlLZXk9eXdfZmFtaWx5LmdldCgpKTogQWdlbnRQYXRoIHtcblx0XHRcdHJldHVybiBgL2ZhbWlseS4ke3NpX2ZhbWlseX0vYWdlbnQuJHtzYV9hZGRyLnJlcGxhY2UoL15cXHcrMS8sICcnKX1gO1xuXHRcdH1cblxuXHRcdHN0YXRpYyBwYXRoRm9yQ29udGFjdChzYV9hZGRyOiBzdHJpbmcsIHNpX2ZhbWlseTogRmFtaWx5S2V5PXl3X2ZhbWlseS5nZXQoKSk6IENvbnRhY3RQYXRoIHtcblx0XHRcdHJldHVybiBgJHtBZ2VudHNJLnBhdGhGb3JBZ2VudChzYV9hZGRyLCBzaV9mYW1pbHkpfS9hcy5jb250YWN0YDtcblx0XHR9XG5cblx0XHRzdGF0aWMgcGF0aEZyb21Db250YWN0KGdfY29udGFjdDogQ29udGFjdFsnaW50ZXJmYWNlJ10pOiBDb250YWN0UGF0aCB7XG5cdFx0XHRyZXR1cm4gQWdlbnRzSS5wYXRoRm9yQ29udGFjdChnX2NvbnRhY3QuYWRkcmVzcywgZ19jb250YWN0LmZhbWlseSk7XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogTG9hZHMgYWdlbnRzIHN0b3JlIGFuZCBmaW5kcyB0aGUgY29udGFjdCBieSBpdHMgcGF0aFxuXHRcdCAqL1xuXHRcdHN0YXRpYyBhc3luYyBnZXRDb250YWN0KHBfY29udGFjdDogQ29udGFjdFBhdGgpOiBQcm9taXNlPENvbnRhY3RbJ2ludGVyZmFjZSddIHwgbnVsbD4ge1xuXHRcdFx0Ly8gcmVhZCBhZ2VudHMgc3RvcmVcblx0XHRcdGNvbnN0IGtzX2FnZW50cyA9IGF3YWl0IEFnZW50cy5yZWFkKCk7XG5cblx0XHRcdC8vIGZpbmQgY29udGFjdFxuXHRcdFx0cmV0dXJuIGtzX2FnZW50cy5hdChwX2NvbnRhY3QpIGFzIENvbnRhY3RbJ2ludGVyZmFjZSddO1xuXHRcdH1cblxuXHRcdCogY29udGFjdHMoc2lfZmFtaWx5OiBGYW1pbHlLZXk9eXdfZmFtaWx5LmdldCgpKTogSXRlcmFibGVJdGVyYXRvcjxbQ29udGFjdFBhdGgsIENvbnRhY3RbJ2ludGVyZmFjZSddXT4ge1xuXHRcdFx0Ly8gcmVmIGNhY2hlXG5cdFx0XHRjb25zdCBoX2NhY2hlID0gdGhpcy5fd19jYWNoZTtcblxuXHRcdFx0Ly8gZmlsdGVyIGJ5IGZhbWlseSBwcmVmaXhcblx0XHRcdGNvbnN0IHNfYWdlbnRfcHJlZml4OiBBZ2VudFBhdGggPSBgL2ZhbWlseS4ke3NpX2ZhbWlseX0vYWdlbnQuYDtcblxuXHRcdFx0Ly8gZWFjaCBhZ2VudCBpbiBjYWNoZVxuXHRcdFx0Zm9yKGNvbnN0IHBfYWdlbnQgaW4gaF9jYWNoZSkge1xuXHRcdFx0XHQvLyBhZ2VudCBpbiBkaWZmZXJlbnQgZmFtaWx5OyBza2lwXG5cdFx0XHRcdGlmKCFwX2FnZW50LnN0YXJ0c1dpdGgoc19hZ2VudF9wcmVmaXgpKSBjb250aW51ZTtcblxuXHRcdFx0XHQvLyBub3QgYSBjb250YWN0OyBza2lwXG5cdFx0XHRcdGlmKCFwX2FnZW50LmVuZHNXaXRoKCcvYXMuY29udGFjdCcpKSBjb250aW51ZTtcblxuXHRcdFx0XHQvLyBhZ2VudCBpcyBhIGNvbnRhY3Rcblx0XHRcdFx0eWllbGQgW3BfYWdlbnQgYXMgQ29udGFjdFBhdGgsIGhfY2FjaGVbcF9hZ2VudF1dO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGFzeW5jIHB1dENvbnRhY3QoZ19yZXM6IENvbnRhY3RbJ2ludGVyZmFjZSddKTogUHJvbWlzZTxDb250YWN0UGF0aD4ge1xuXHRcdFx0Ly8gcHJlcGFyZSBjb250YWN0IHBhdGhcblx0XHRcdGNvbnN0IHBfcmVzID0gQWdlbnRzSS5wYXRoRnJvbUNvbnRhY3QoZ19yZXMpO1xuXG5cdFx0XHQvLyB1cGRhdGUgY2FjaGVcblx0XHRcdHRoaXMuX3dfY2FjaGVbcF9yZXNdID0gZ19yZXM7XG5cblx0XHRcdC8vIGF0dGVtcHQgdG8gc2F2ZVxuXHRcdFx0YXdhaXQgdGhpcy5zYXZlKCk7XG5cblx0XHRcdC8vIHJldHVybiBwYXRoXG5cdFx0XHRyZXR1cm4gcF9yZXM7XG5cdFx0fVxuXHR9LFxufSk7XG4iLCJleHBvcnQgZGVmYXVsdCBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB3aWR0aD1cXFwiMjRcXFwiIGhlaWdodD1cXFwiMjRcXFwiPlxcblxcdDxwYXRoIHN0eWxlPVxcXCJmaWxsOiB2YXIoLS1zdmctY29sb3ItZmcsIGN1cnJlbnRDb2xvcik7XFxcIiBkPVxcXCJNMyAxM0g1VjExSDNWMTNaTTMgMTdINVYxNUgzVjE3Wk01IDIxVjE5SDNDMyAyMC4xIDMuODkgMjEgNSAyMVpNMyA5SDVWN0gzVjlaTTE1IDIxSDE3VjE5SDE1VjIxWk0xOSAzSDlDNy44OSAzIDcgMy45IDcgNVYxNUM3IDE2LjEgNy44OSAxNyA5IDE3SDE5QzIwLjEgMTcgMjEgMTYuMSAyMSAxNVY1QzIxIDMuOSAyMC4xIDMgMTkgM1pNMTkgMTVIOVY1SDE5VjE1Wk0xMSAyMUgxM1YxOUgxMVYyMVpNNyAyMUg5VjE5SDdWMjFaXFxcIiAvPlxcbjwvc3ZnPlxcblwiIiwiPHNjcmlwdCBsYW5nPVwidHNcIj5cblx0aW1wb3J0IHsgb25Nb3VudCB9IGZyb20gJ3N2ZWx0ZSc7XG5cblx0aW1wb3J0IHsgc3lzZXJyIH0gZnJvbSAnIyMvY29tbW9uJztcblx0aW1wb3J0IFNYX0lDT05fQ09QWSBmcm9tICcjL2ljb24vY29weS5zdmc/cmF3JztcblxuXHQvKipcblx0ICogaHVtYW4tcmVhZGFibGUgcGFydFxuXHQgKi9cblx0ZXhwb3J0IGxldCBwcmVmaXggPSAnJztcblx0Y29uc3Qgc19wcmVmaXggPSBwcmVmaXg7XG5cblx0LyoqXG5cdCAqIGFkZHJlc3MgcGFydFxuXHQgKi9cblx0ZXhwb3J0IGxldCBhZGRyZXNzOiBzdHJpbmc7XG5cdGNvbnN0IHNfYWRkcmVzcyA9IGFkZHJlc3M7XG5cblx0LyoqXG5cdCAqIElmIGB0cnVlYCwgZGlzcGxheSBjb3B5IGljb24gYW5kIGJpbmRzIHRvIGNsaWNrIGV2ZW50c1xuXHQgKi9cblx0ZXhwb3J0IGxldCBjb3B5YWJsZTogYm9vbGVhbiB8IHN0cmluZyA9IGZhbHNlO1xuXHRjb25zdCBiX2NvcHlhYmxlID0gISFjb3B5YWJsZTtcblx0Y29uc3Qgc19jb3B5X3N0eWxlID0gdHJ1ZSA9PT0gY29weWFibGU/ICdpY29uJzogY29weWFibGUgfHwgJyc7XG5cblxuXHRsZXQgZG1fY29waWVkOiBIVE1MRWxlbWVudDtcblxuXHRsZXQgYl9jb3B5X2NvbmZpcm0gPSBmYWxzZTtcblx0YXN5bmMgZnVuY3Rpb24gY29weSgpIHtcblx0XHQvLyBhdHRlbXB0IHRvIHBlcmZvcm0gY29weVxuXHRcdHRyeSB7XG5cdFx0XHRhd2FpdCBuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dChzX2FkZHJlc3MpO1xuXHRcdH1cblx0XHQvLyB1bmFibGUgdG8gdXNlIGNsaXBib2FyZFxuXHRcdGNhdGNoKGVfd3JpdGUpIHtcblx0XHRcdHN5c2Vycih7XG5cdFx0XHRcdHRleHQ6ICdGYWlsZWQgdG8gd3JpdGUgdG8gdGhlIG5hdmlnYXRvciBjbGlwYm9hcmQnLFxuXHRcdFx0XHRlcnJvcjogZV93cml0ZSxcblx0XHRcdH0pO1xuXG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Yl9jb3B5X2NvbmZpcm0gPSB0cnVlO1xuXHRcdHNldFRpbWVvdXQoKCkgPT4ge1xuXHRcdFx0Yl9jb3B5X2NvbmZpcm0gPSBmYWxzZTtcblx0XHRcdC8vIGRtX2NvcGllZC5zdHlsZS5vcGFjaXR5ID0gJzAnO1xuXG5cdFx0XHQvLyBzZXRUaW1lb3V0KCgpID0+IHtcblx0XHRcdC8vIFx0Yl9jb3B5X2NvbmZpcm0gPSBmYWxzZTtcblx0XHRcdC8vIH0sIDg1MCk7XG5cdFx0fSwgODAwKTtcblx0fVxuXG5cdC8vIGJpbmQgdG8gaGVhZCBlbGVtZW50XG5cdGxldCBkbV9oZWFkOiBIVE1MRWxlbWVudDtcblxuXHQvLyBzZXQgdHJ1ZSB3aGVuIGhlYWQgb3ZlcmZsb3dzXG5cdGxldCBiX2hlYWRfb3ZlcmZsb3dzID0gZmFsc2U7XG5cblx0b25Nb3VudCgoKSA9PiB7XG5cdFx0Yl9oZWFkX292ZXJmbG93cyA9IGRtX2hlYWQuc2Nyb2xsV2lkdGggPiBkbV9oZWFkLm9mZnNldFdpZHRoO1xuXHR9KTtcbjwvc2NyaXB0PlxuXG48c3R5bGUgbGFuZz1cImxlc3NcIj5cblx0QGltcG9ydCAnLi9fYmFzZS5sZXNzJztcblxuXHQuYWRkcmVzcyB7XG5cdFx0d2lkdGg6IGNhbGMoMTAwJSAtIDIuNWNoKTtcblx0XHRhbGlnbi1pdGVtczogYmFzZWxpbmU7XG5cblx0XHRjb2xvcjogdmFyKC0tdGhlbWUtY29sb3ItdGV4dC1tZWQpO1xuXHRcdGRpc3BsYXk6IGlubGluZS1mbGV4O1xuXHRcdHBvc2l0aW9uOiByZWxhdGl2ZTtcblxuXHRcdCYuY29weWFibGUge1xuXHRcdFx0YWxpZ24taXRlbXM6IGNlbnRlcjtcblx0XHRcdHdpZHRoOiBjYWxjKDEwMCUgLSAzLjVjaCk7XG5cdFx0XHRjdXJzb3I6IGNvcHk7XG5cdFx0fVxuXG5cdFx0Pi5wcmVmaXgge1xuXHRcdFx0LmZvbnQodGlueSk7XG5cdFx0XHRmbGV4LXNocmluazogMDtcblx0XHRcdG1hcmdpbi1yaWdodDogMC4yNWVtO1xuXHRcdH1cblxuXHRcdD4uaGVhZCB7XG5cdFx0XHQuZm9udChtb25vLXRpbnkpO1xuXHRcdFx0ZmxleDogYXV0bztcblx0XHRcdG1pbi13aWR0aDogMTBjaDtcblx0XHRcdG92ZXJmbG93OiBoaWRkZW47XG5cdFx0XHR3aGl0ZS1zcGFjZTogbm93cmFwO1xuXHRcdFx0dGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG5cdFx0fVxuXG5cdFx0Pi50YWlsIHtcblx0XHRcdC5mb250KG1vbm8tdGlueSk7XG5cdFx0XHRmbGV4OiAwO1xuXHRcdFx0bWluLXdpZHRoOiA3Y2g7XG5cdFx0XHRvdmVyZmxvdzogaGlkZGVuO1xuXG5cdFx0XHRkaXNwbGF5OiBmbGV4O1xuXHRcdFx0anVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDtcblx0XHRcdHdoaXRlLXNwYWNlOiBub3dyYXA7XG5cdFx0fVxuXG5cdFx0Pi5jb3B5IHtcblx0XHRcdGNvbG9yOiB2YXIoLS10aGVtZS1jb2xvci1wcmltYXJ5KTtcblxuXHRcdFx0Ji5pY29uIHtcblx0XHRcdFx0LS1pY29uLWRpYW1ldGVyOiAyMnB4O1xuXHRcdFx0XHQtLWljb24tY29sb3I6IHZhcigtLXRoZW1lLWNvbG9yLXByaW1hcnkpO1xuXHRcdFx0XHRwYWRkaW5nLWxlZnQ6IDZweDtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQ+LmNvcGllZCB7XG5cdFx0XHRvcGFjaXR5OiAwO1xuXHRcdFx0cG9zaXRpb246IGFic29sdXRlO1xuXHRcdFx0bGVmdDogY2FsYyg1MCUgLSA0MHB4KTtcblx0XHRcdHRvcDogLTZweDtcblx0XHRcdGNvbG9yOiB2YXIoLS10aGVtZS1jb2xvci1ibGFjayk7XG5cdFx0XHRib3JkZXItcmFkaXVzOiA2cHg7XG5cdFx0XHRwYWRkaW5nOiA4cHggMjBweDtcblx0XHRcdGJhY2tncm91bmQtY29sb3I6IHZhcigtLXRoZW1lLWNvbG9yLXRleHQtbGlnaHQpO1xuXHRcdFx0Ym94LXNoYWRvdzogLTJweCAzcHggNnB4O1xuXHRcdFx0cG9pbnRlci1ldmVudHM6IG5vbmU7XG5cblx0XHRcdCY6bm90KC5jb25maXJtKSB7XG5cdFx0XHRcdHRyYW5zaXRpb246IG9wYWNpdHkgODAwbXMgbGluZWFyO1xuXHRcdFx0fVxuXG5cdFx0XHQmLmNvbmZpcm0ge1xuXHRcdFx0XHRvcGFjaXR5OiAxO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuPC9zdHlsZT5cblxuPHNwYW4gY2xhc3M9XCJhZGRyZXNzXCIgY2xhc3M6Y29weWFibGU9e2JfY29weWFibGV9IG9uOmNsaWNrPXtiX2NvcHlhYmxlPyAoKSA9PiBjb3B5KCk6IHZvaWQgMH0+XG5cdHsjaWYgc19wcmVmaXh9XG5cdFx0PHNwYW4gY2xhc3M9XCJwcmVmaXhcIj5cblx0XHRcdHtzX3ByZWZpeH1cblx0XHQ8L3NwYW4+XG5cdHsvaWZ9XG5cdDxzcGFuIGNsYXNzPVwiaGVhZFwiIGJpbmQ6dGhpcz17ZG1faGVhZH0+XG5cdFx0e3NfYWRkcmVzc31cblx0PC9zcGFuPlxuXHQ8c3BhbiBjbGFzcz1cInRhaWxcIiBjbGFzczpkaXNwbGF5X25vbmU9eyFiX2hlYWRfb3ZlcmZsb3dzfT5cblx0XHR7c19hZGRyZXNzfVxuXHQ8L3NwYW4+XG5cblx0eyNpZiBiX2NvcHlhYmxlfVxuXHRcdHsjaWYgJ2ljb24nID09PSBzX2NvcHlfc3R5bGV9XG5cdFx0XHQ8c3BhbiBjbGFzcz1cImNvcHkgaWNvblwiPlxuXHRcdFx0XHR7QGh0bWwgU1hfSUNPTl9DT1BZfVxuXHRcdFx0PC9zcGFuPlxuXHRcdHs6ZWxzZX1cblx0XHRcdDxzcGFuIGNsYXNzPVwiY29weVwiPlxuXHRcdFx0XHRDb3B5XG5cdFx0XHQ8L3NwYW4+XG5cdFx0ey9pZn1cblxuXHRcdDxzcGFuIGNsYXNzPVwiY29waWVkXCIgY2xhc3M6Y29uZmlybT17Yl9jb3B5X2NvbmZpcm19IGJpbmQ6dGhpcz17ZG1fY29waWVkfT5cblx0XHRcdENvcGllZCFcblx0XHQ8L3NwYW4+XG5cdHsvaWZ9XG48L3NwYW4+XG4iLCIvKipcbiAqIEBmaWxlb3ZlcnZpZXdcbiAqIC0gbW9kaWZpZWQgZGF2aWRzaGltanMvcXJjb2RlanMgbGlicmFyeSBmb3IgdXNlIGluIG5vZGUuanNcbiAqIC0gVXNpbmcgdGhlICdRUkNvZGUgZm9yIEphdmFzY3JpcHQgbGlicmFyeSdcbiAqIC0gRml4ZWQgZGF0YXNldCBvZiAnUVJDb2RlIGZvciBKYXZhc2NyaXB0IGxpYnJhcnknIGZvciBzdXBwb3J0IGZ1bGwtc3BlYy5cbiAqIC0gdGhpcyBsaWJyYXJ5IGhhcyBubyBkZXBlbmRlbmNpZXMuXG4gKlxuICogQHZlcnNpb24gMC45LjEgKDIwMTYtMDItMTIpXG4gKiBAYXV0aG9yIGRhdmlkc2hpbWpzLCBwYXBua3VrblxuICogQHNlZSA8YSBocmVmPVwiaHR0cDovL3d3dy5kLXByb2plY3QuY29tL1wiIHRhcmdldD1cIl9ibGFua1wiPmh0dHA6Ly93d3cuZC1wcm9qZWN0LmNvbS88L2E+XG4gKiBAc2VlIDxhIGhyZWY9XCJodHRwOi8vamVyb21lZXRpZW5uZS5naXRodWIuY29tL2pxdWVyeS1xcmNvZGUvXCIgdGFyZ2V0PVwiX2JsYW5rXCI+aHR0cDovL2plcm9tZWV0aWVubmUuZ2l0aHViLmNvbS9qcXVlcnktcXJjb2RlLzwvYT5cbiAqIEBzZWUgPGEgaHJlZj1cImh0dHBzOi8vZ2l0aHViLmNvbS9kYXZpZHNoaW1qcy9xcmNvZGVqc1wiIHRhcmdldD1cIl9ibGFua1wiPmh0dHBzOi8vZ2l0aHViLmNvbS9kYXZpZHNoaW1qcy9xcmNvZGVqczwvYT5cbiAqL1xuXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gUVJDb2RlIGZvciBKYXZhU2NyaXB0XG4vL1xuLy8gQ29weXJpZ2h0IChjKSAyMDA5IEthenVoaWtvIEFyYXNlXG4vL1xuLy8gVVJMOiBodHRwOi8vd3d3LmQtcHJvamVjdC5jb20vXG4vL1xuLy8gTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlOlxuLy8gICBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuLy9cbi8vIFRoZSB3b3JkIFwiUVIgQ29kZVwiIGlzIHJlZ2lzdGVyZWQgdHJhZGVtYXJrIG9mIFxuLy8gREVOU08gV0FWRSBJTkNPUlBPUkFURURcbi8vICAgaHR0cDovL3d3dy5kZW5zby13YXZlLmNvbS9xcmNvZGUvZmFxcGF0ZW50LWUuaHRtbFxuLy9cbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5mdW5jdGlvbiBRUjhiaXRCeXRlKGRhdGEpIHtcbiAgdGhpcy5tb2RlID0gUVJNb2RlLk1PREVfOEJJVF9CWVRFO1xuICB0aGlzLmRhdGEgPSBkYXRhO1xuICB0aGlzLnBhcnNlZERhdGEgPSBbXTtcblxuICAvLyBBZGRlZCB0byBzdXBwb3J0IFVURi04IENoYXJhY3RlcnNcbiAgZm9yICh2YXIgaSA9IDAsIGwgPSB0aGlzLmRhdGEubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgdmFyIGJ5dGVBcnJheSA9IFtdO1xuICAgIHZhciBjb2RlID0gdGhpcy5kYXRhLmNoYXJDb2RlQXQoaSk7XG5cbiAgICBpZiAoY29kZSA+IDB4MTAwMDApIHtcbiAgICAgIGJ5dGVBcnJheVswXSA9IDB4RjAgfCAoKGNvZGUgJiAweDFDMDAwMCkgPj4+IDE4KTtcbiAgICAgIGJ5dGVBcnJheVsxXSA9IDB4ODAgfCAoKGNvZGUgJiAweDNGMDAwKSA+Pj4gMTIpO1xuICAgICAgYnl0ZUFycmF5WzJdID0gMHg4MCB8ICgoY29kZSAmIDB4RkMwKSA+Pj4gNik7XG4gICAgICBieXRlQXJyYXlbM10gPSAweDgwIHwgKGNvZGUgJiAweDNGKTtcbiAgICB9IGVsc2UgaWYgKGNvZGUgPiAweDgwMCkge1xuICAgICAgYnl0ZUFycmF5WzBdID0gMHhFMCB8ICgoY29kZSAmIDB4RjAwMCkgPj4+IDEyKTtcbiAgICAgIGJ5dGVBcnJheVsxXSA9IDB4ODAgfCAoKGNvZGUgJiAweEZDMCkgPj4+IDYpO1xuICAgICAgYnl0ZUFycmF5WzJdID0gMHg4MCB8IChjb2RlICYgMHgzRik7XG4gICAgfSBlbHNlIGlmIChjb2RlID4gMHg4MCkge1xuICAgICAgYnl0ZUFycmF5WzBdID0gMHhDMCB8ICgoY29kZSAmIDB4N0MwKSA+Pj4gNik7XG4gICAgICBieXRlQXJyYXlbMV0gPSAweDgwIHwgKGNvZGUgJiAweDNGKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYnl0ZUFycmF5WzBdID0gY29kZTtcbiAgICB9XG5cbiAgICB0aGlzLnBhcnNlZERhdGEucHVzaChieXRlQXJyYXkpO1xuICB9XG5cbiAgdGhpcy5wYXJzZWREYXRhID0gQXJyYXkucHJvdG90eXBlLmNvbmNhdC5hcHBseShbXSwgdGhpcy5wYXJzZWREYXRhKTtcblxuICBpZiAodGhpcy5wYXJzZWREYXRhLmxlbmd0aCAhPSB0aGlzLmRhdGEubGVuZ3RoKSB7XG4gICAgdGhpcy5wYXJzZWREYXRhLnVuc2hpZnQoMTkxKTtcbiAgICB0aGlzLnBhcnNlZERhdGEudW5zaGlmdCgxODcpO1xuICAgIHRoaXMucGFyc2VkRGF0YS51bnNoaWZ0KDIzOSk7XG4gIH1cbn1cblxuUVI4Yml0Qnl0ZS5wcm90b3R5cGUgPSB7XG4gIGdldExlbmd0aDogZnVuY3Rpb24gKGJ1ZmZlcikge1xuICAgIHJldHVybiB0aGlzLnBhcnNlZERhdGEubGVuZ3RoO1xuICB9LFxuICB3cml0ZTogZnVuY3Rpb24gKGJ1ZmZlcikge1xuICAgIGZvciAodmFyIGkgPSAwLCBsID0gdGhpcy5wYXJzZWREYXRhLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgYnVmZmVyLnB1dCh0aGlzLnBhcnNlZERhdGFbaV0sIDgpO1xuICAgIH1cbiAgfVxufTtcblxuZnVuY3Rpb24gUVJDb2RlTW9kZWwodHlwZU51bWJlciwgZXJyb3JDb3JyZWN0TGV2ZWwpIHtcbiAgdGhpcy50eXBlTnVtYmVyID0gdHlwZU51bWJlcjtcbiAgdGhpcy5lcnJvckNvcnJlY3RMZXZlbCA9IGVycm9yQ29ycmVjdExldmVsO1xuICB0aGlzLm1vZHVsZXMgPSBudWxsO1xuICB0aGlzLm1vZHVsZUNvdW50ID0gMDtcbiAgdGhpcy5kYXRhQ2FjaGUgPSBudWxsO1xuICB0aGlzLmRhdGFMaXN0ID0gW107XG59XG5cblFSQ29kZU1vZGVsLnByb3RvdHlwZT17YWRkRGF0YTpmdW5jdGlvbihkYXRhKXt2YXIgbmV3RGF0YT1uZXcgUVI4Yml0Qnl0ZShkYXRhKTt0aGlzLmRhdGFMaXN0LnB1c2gobmV3RGF0YSk7dGhpcy5kYXRhQ2FjaGU9bnVsbDt9LGlzRGFyazpmdW5jdGlvbihyb3csY29sKXtpZihyb3c8MHx8dGhpcy5tb2R1bGVDb3VudDw9cm93fHxjb2w8MHx8dGhpcy5tb2R1bGVDb3VudDw9Y29sKXt0aHJvdyBuZXcgRXJyb3Iocm93K1wiLFwiK2NvbCk7fVxucmV0dXJuIHRoaXMubW9kdWxlc1tyb3ddW2NvbF07fSxnZXRNb2R1bGVDb3VudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1vZHVsZUNvdW50O30sbWFrZTpmdW5jdGlvbigpe3RoaXMubWFrZUltcGwoZmFsc2UsdGhpcy5nZXRCZXN0TWFza1BhdHRlcm4oKSk7fSxtYWtlSW1wbDpmdW5jdGlvbih0ZXN0LG1hc2tQYXR0ZXJuKXt0aGlzLm1vZHVsZUNvdW50PXRoaXMudHlwZU51bWJlcio0KzE3O3RoaXMubW9kdWxlcz1uZXcgQXJyYXkodGhpcy5tb2R1bGVDb3VudCk7Zm9yKHZhciByb3c9MDtyb3c8dGhpcy5tb2R1bGVDb3VudDtyb3crKyl7dGhpcy5tb2R1bGVzW3Jvd109bmV3IEFycmF5KHRoaXMubW9kdWxlQ291bnQpO2Zvcih2YXIgY29sPTA7Y29sPHRoaXMubW9kdWxlQ291bnQ7Y29sKyspe3RoaXMubW9kdWxlc1tyb3ddW2NvbF09bnVsbDt9fVxudGhpcy5zZXR1cFBvc2l0aW9uUHJvYmVQYXR0ZXJuKDAsMCk7dGhpcy5zZXR1cFBvc2l0aW9uUHJvYmVQYXR0ZXJuKHRoaXMubW9kdWxlQ291bnQtNywwKTt0aGlzLnNldHVwUG9zaXRpb25Qcm9iZVBhdHRlcm4oMCx0aGlzLm1vZHVsZUNvdW50LTcpO3RoaXMuc2V0dXBQb3NpdGlvbkFkanVzdFBhdHRlcm4oKTt0aGlzLnNldHVwVGltaW5nUGF0dGVybigpO3RoaXMuc2V0dXBUeXBlSW5mbyh0ZXN0LG1hc2tQYXR0ZXJuKTtpZih0aGlzLnR5cGVOdW1iZXI+PTcpe3RoaXMuc2V0dXBUeXBlTnVtYmVyKHRlc3QpO31cbmlmKHRoaXMuZGF0YUNhY2hlPT1udWxsKXt0aGlzLmRhdGFDYWNoZT1RUkNvZGVNb2RlbC5jcmVhdGVEYXRhKHRoaXMudHlwZU51bWJlcix0aGlzLmVycm9yQ29ycmVjdExldmVsLHRoaXMuZGF0YUxpc3QpO31cbnRoaXMubWFwRGF0YSh0aGlzLmRhdGFDYWNoZSxtYXNrUGF0dGVybik7fSxzZXR1cFBvc2l0aW9uUHJvYmVQYXR0ZXJuOmZ1bmN0aW9uKHJvdyxjb2wpe2Zvcih2YXIgcj0tMTtyPD03O3IrKyl7aWYocm93K3I8PS0xfHx0aGlzLm1vZHVsZUNvdW50PD1yb3crciljb250aW51ZTtmb3IodmFyIGM9LTE7Yzw9NztjKyspe2lmKGNvbCtjPD0tMXx8dGhpcy5tb2R1bGVDb3VudDw9Y29sK2MpY29udGludWU7aWYoKDA8PXImJnI8PTYmJihjPT0wfHxjPT02KSl8fCgwPD1jJiZjPD02JiYocj09MHx8cj09NikpfHwoMjw9ciYmcjw9NCYmMjw9YyYmYzw9NCkpe3RoaXMubW9kdWxlc1tyb3crcl1bY29sK2NdPXRydWU7fWVsc2V7dGhpcy5tb2R1bGVzW3JvdytyXVtjb2wrY109ZmFsc2U7fX19fSxnZXRCZXN0TWFza1BhdHRlcm46ZnVuY3Rpb24oKXt2YXIgbWluTG9zdFBvaW50PTA7dmFyIHBhdHRlcm49MDtmb3IodmFyIGk9MDtpPDg7aSsrKXt0aGlzLm1ha2VJbXBsKHRydWUsaSk7dmFyIGxvc3RQb2ludD1RUlV0aWwuZ2V0TG9zdFBvaW50KHRoaXMpO2lmKGk9PTB8fG1pbkxvc3RQb2ludD5sb3N0UG9pbnQpe21pbkxvc3RQb2ludD1sb3N0UG9pbnQ7cGF0dGVybj1pO319XG5yZXR1cm4gcGF0dGVybjt9LGNyZWF0ZU1vdmllQ2xpcDpmdW5jdGlvbih0YXJnZXRfbWMsaW5zdGFuY2VfbmFtZSxkZXB0aCl7dmFyIHFyX21jPXRhcmdldF9tYy5jcmVhdGVFbXB0eU1vdmllQ2xpcChpbnN0YW5jZV9uYW1lLGRlcHRoKTt2YXIgY3M9MTt0aGlzLm1ha2UoKTtmb3IodmFyIHJvdz0wO3Jvdzx0aGlzLm1vZHVsZXMubGVuZ3RoO3JvdysrKXt2YXIgeT1yb3cqY3M7Zm9yKHZhciBjb2w9MDtjb2w8dGhpcy5tb2R1bGVzW3Jvd10ubGVuZ3RoO2NvbCsrKXt2YXIgeD1jb2wqY3M7dmFyIGRhcms9dGhpcy5tb2R1bGVzW3Jvd11bY29sXTtpZihkYXJrKXtxcl9tYy5iZWdpbkZpbGwoMCwxMDApO3FyX21jLm1vdmVUbyh4LHkpO3FyX21jLmxpbmVUbyh4K2NzLHkpO3FyX21jLmxpbmVUbyh4K2NzLHkrY3MpO3FyX21jLmxpbmVUbyh4LHkrY3MpO3FyX21jLmVuZEZpbGwoKTt9fX1cbnJldHVybiBxcl9tYzt9LHNldHVwVGltaW5nUGF0dGVybjpmdW5jdGlvbigpe2Zvcih2YXIgcj04O3I8dGhpcy5tb2R1bGVDb3VudC04O3IrKyl7aWYodGhpcy5tb2R1bGVzW3JdWzZdIT1udWxsKXtjb250aW51ZTt9XG50aGlzLm1vZHVsZXNbcl1bNl09KHIlMj09MCk7fVxuZm9yKHZhciBjPTg7Yzx0aGlzLm1vZHVsZUNvdW50LTg7YysrKXtpZih0aGlzLm1vZHVsZXNbNl1bY10hPW51bGwpe2NvbnRpbnVlO31cbnRoaXMubW9kdWxlc1s2XVtjXT0oYyUyPT0wKTt9fSxzZXR1cFBvc2l0aW9uQWRqdXN0UGF0dGVybjpmdW5jdGlvbigpe3ZhciBwb3M9UVJVdGlsLmdldFBhdHRlcm5Qb3NpdGlvbih0aGlzLnR5cGVOdW1iZXIpO2Zvcih2YXIgaT0wO2k8cG9zLmxlbmd0aDtpKyspe2Zvcih2YXIgaj0wO2o8cG9zLmxlbmd0aDtqKyspe3ZhciByb3c9cG9zW2ldO3ZhciBjb2w9cG9zW2pdO2lmKHRoaXMubW9kdWxlc1tyb3ddW2NvbF0hPW51bGwpe2NvbnRpbnVlO31cbmZvcih2YXIgcj0tMjtyPD0yO3IrKyl7Zm9yKHZhciBjPS0yO2M8PTI7YysrKXtpZihyPT0tMnx8cj09Mnx8Yz09LTJ8fGM9PTJ8fChyPT0wJiZjPT0wKSl7dGhpcy5tb2R1bGVzW3JvdytyXVtjb2wrY109dHJ1ZTt9ZWxzZXt0aGlzLm1vZHVsZXNbcm93K3JdW2NvbCtjXT1mYWxzZTt9fX19fX0sc2V0dXBUeXBlTnVtYmVyOmZ1bmN0aW9uKHRlc3Qpe3ZhciBiaXRzPVFSVXRpbC5nZXRCQ0hUeXBlTnVtYmVyKHRoaXMudHlwZU51bWJlcik7Zm9yKHZhciBpPTA7aTwxODtpKyspe3ZhciBtb2Q9KCF0ZXN0JiYoKGJpdHM+PmkpJjEpPT0xKTt0aGlzLm1vZHVsZXNbTWF0aC5mbG9vcihpLzMpXVtpJTMrdGhpcy5tb2R1bGVDb3VudC04LTNdPW1vZDt9XG5mb3IodmFyIGk9MDtpPDE4O2krKyl7dmFyIG1vZD0oIXRlc3QmJigoYml0cz4+aSkmMSk9PTEpO3RoaXMubW9kdWxlc1tpJTMrdGhpcy5tb2R1bGVDb3VudC04LTNdW01hdGguZmxvb3IoaS8zKV09bW9kO319LHNldHVwVHlwZUluZm86ZnVuY3Rpb24odGVzdCxtYXNrUGF0dGVybil7dmFyIGRhdGE9KHRoaXMuZXJyb3JDb3JyZWN0TGV2ZWw8PDMpfG1hc2tQYXR0ZXJuO3ZhciBiaXRzPVFSVXRpbC5nZXRCQ0hUeXBlSW5mbyhkYXRhKTtmb3IodmFyIGk9MDtpPDE1O2krKyl7dmFyIG1vZD0oIXRlc3QmJigoYml0cz4+aSkmMSk9PTEpO2lmKGk8Nil7dGhpcy5tb2R1bGVzW2ldWzhdPW1vZDt9ZWxzZSBpZihpPDgpe3RoaXMubW9kdWxlc1tpKzFdWzhdPW1vZDt9ZWxzZXt0aGlzLm1vZHVsZXNbdGhpcy5tb2R1bGVDb3VudC0xNStpXVs4XT1tb2Q7fX1cbmZvcih2YXIgaT0wO2k8MTU7aSsrKXt2YXIgbW9kPSghdGVzdCYmKChiaXRzPj5pKSYxKT09MSk7aWYoaTw4KXt0aGlzLm1vZHVsZXNbOF1bdGhpcy5tb2R1bGVDb3VudC1pLTFdPW1vZDt9ZWxzZSBpZihpPDkpe3RoaXMubW9kdWxlc1s4XVsxNS1pLTErMV09bW9kO31lbHNle3RoaXMubW9kdWxlc1s4XVsxNS1pLTFdPW1vZDt9fVxudGhpcy5tb2R1bGVzW3RoaXMubW9kdWxlQ291bnQtOF1bOF09KCF0ZXN0KTt9LG1hcERhdGE6ZnVuY3Rpb24oZGF0YSxtYXNrUGF0dGVybil7dmFyIGluYz0tMTt2YXIgcm93PXRoaXMubW9kdWxlQ291bnQtMTt2YXIgYml0SW5kZXg9Nzt2YXIgYnl0ZUluZGV4PTA7Zm9yKHZhciBjb2w9dGhpcy5tb2R1bGVDb3VudC0xO2NvbD4wO2NvbC09Mil7aWYoY29sPT02KWNvbC0tO3doaWxlKHRydWUpe2Zvcih2YXIgYz0wO2M8MjtjKyspe2lmKHRoaXMubW9kdWxlc1tyb3ddW2NvbC1jXT09bnVsbCl7dmFyIGRhcms9ZmFsc2U7aWYoYnl0ZUluZGV4PGRhdGEubGVuZ3RoKXtkYXJrPSgoKGRhdGFbYnl0ZUluZGV4XT4+PmJpdEluZGV4KSYxKT09MSk7fVxudmFyIG1hc2s9UVJVdGlsLmdldE1hc2sobWFza1BhdHRlcm4scm93LGNvbC1jKTtpZihtYXNrKXtkYXJrPSFkYXJrO31cbnRoaXMubW9kdWxlc1tyb3ddW2NvbC1jXT1kYXJrO2JpdEluZGV4LS07aWYoYml0SW5kZXg9PS0xKXtieXRlSW5kZXgrKztiaXRJbmRleD03O319fVxucm93Kz1pbmM7aWYocm93PDB8fHRoaXMubW9kdWxlQ291bnQ8PXJvdyl7cm93LT1pbmM7aW5jPS1pbmM7YnJlYWs7fX19fX07UVJDb2RlTW9kZWwuUEFEMD0weEVDO1FSQ29kZU1vZGVsLlBBRDE9MHgxMTtRUkNvZGVNb2RlbC5jcmVhdGVEYXRhPWZ1bmN0aW9uKHR5cGVOdW1iZXIsZXJyb3JDb3JyZWN0TGV2ZWwsZGF0YUxpc3Qpe3ZhciByc0Jsb2Nrcz1RUlJTQmxvY2suZ2V0UlNCbG9ja3ModHlwZU51bWJlcixlcnJvckNvcnJlY3RMZXZlbCk7dmFyIGJ1ZmZlcj1uZXcgUVJCaXRCdWZmZXIoKTtmb3IodmFyIGk9MDtpPGRhdGFMaXN0Lmxlbmd0aDtpKyspe3ZhciBkYXRhPWRhdGFMaXN0W2ldO2J1ZmZlci5wdXQoZGF0YS5tb2RlLDQpO2J1ZmZlci5wdXQoZGF0YS5nZXRMZW5ndGgoKSxRUlV0aWwuZ2V0TGVuZ3RoSW5CaXRzKGRhdGEubW9kZSx0eXBlTnVtYmVyKSk7ZGF0YS53cml0ZShidWZmZXIpO31cbnZhciB0b3RhbERhdGFDb3VudD0wO2Zvcih2YXIgaT0wO2k8cnNCbG9ja3MubGVuZ3RoO2krKyl7dG90YWxEYXRhQ291bnQrPXJzQmxvY2tzW2ldLmRhdGFDb3VudDt9XG5pZihidWZmZXIuZ2V0TGVuZ3RoSW5CaXRzKCk+dG90YWxEYXRhQ291bnQqOCl7dGhyb3cgbmV3IEVycm9yKFwiY29kZSBsZW5ndGggb3ZlcmZsb3cuIChcIlxuK2J1ZmZlci5nZXRMZW5ndGhJbkJpdHMoKVxuK1wiPlwiXG4rdG90YWxEYXRhQ291bnQqOFxuK1wiKVwiKTt9XG5pZihidWZmZXIuZ2V0TGVuZ3RoSW5CaXRzKCkrNDw9dG90YWxEYXRhQ291bnQqOCl7YnVmZmVyLnB1dCgwLDQpO31cbndoaWxlKGJ1ZmZlci5nZXRMZW5ndGhJbkJpdHMoKSU4IT0wKXtidWZmZXIucHV0Qml0KGZhbHNlKTt9XG53aGlsZSh0cnVlKXtpZihidWZmZXIuZ2V0TGVuZ3RoSW5CaXRzKCk+PXRvdGFsRGF0YUNvdW50Kjgpe2JyZWFrO31cbmJ1ZmZlci5wdXQoUVJDb2RlTW9kZWwuUEFEMCw4KTtpZihidWZmZXIuZ2V0TGVuZ3RoSW5CaXRzKCk+PXRvdGFsRGF0YUNvdW50Kjgpe2JyZWFrO31cbmJ1ZmZlci5wdXQoUVJDb2RlTW9kZWwuUEFEMSw4KTt9XG5yZXR1cm4gUVJDb2RlTW9kZWwuY3JlYXRlQnl0ZXMoYnVmZmVyLHJzQmxvY2tzKTt9O1FSQ29kZU1vZGVsLmNyZWF0ZUJ5dGVzPWZ1bmN0aW9uKGJ1ZmZlcixyc0Jsb2Nrcyl7dmFyIG9mZnNldD0wO3ZhciBtYXhEY0NvdW50PTA7dmFyIG1heEVjQ291bnQ9MDt2YXIgZGNkYXRhPW5ldyBBcnJheShyc0Jsb2Nrcy5sZW5ndGgpO3ZhciBlY2RhdGE9bmV3IEFycmF5KHJzQmxvY2tzLmxlbmd0aCk7Zm9yKHZhciByPTA7cjxyc0Jsb2Nrcy5sZW5ndGg7cisrKXt2YXIgZGNDb3VudD1yc0Jsb2Nrc1tyXS5kYXRhQ291bnQ7dmFyIGVjQ291bnQ9cnNCbG9ja3Nbcl0udG90YWxDb3VudC1kY0NvdW50O21heERjQ291bnQ9TWF0aC5tYXgobWF4RGNDb3VudCxkY0NvdW50KTttYXhFY0NvdW50PU1hdGgubWF4KG1heEVjQ291bnQsZWNDb3VudCk7ZGNkYXRhW3JdPW5ldyBBcnJheShkY0NvdW50KTtmb3IodmFyIGk9MDtpPGRjZGF0YVtyXS5sZW5ndGg7aSsrKXtkY2RhdGFbcl1baV09MHhmZiZidWZmZXIuYnVmZmVyW2krb2Zmc2V0XTt9XG5vZmZzZXQrPWRjQ291bnQ7dmFyIHJzUG9seT1RUlV0aWwuZ2V0RXJyb3JDb3JyZWN0UG9seW5vbWlhbChlY0NvdW50KTt2YXIgcmF3UG9seT1uZXcgUVJQb2x5bm9taWFsKGRjZGF0YVtyXSxyc1BvbHkuZ2V0TGVuZ3RoKCktMSk7dmFyIG1vZFBvbHk9cmF3UG9seS5tb2QocnNQb2x5KTtlY2RhdGFbcl09bmV3IEFycmF5KHJzUG9seS5nZXRMZW5ndGgoKS0xKTtmb3IodmFyIGk9MDtpPGVjZGF0YVtyXS5sZW5ndGg7aSsrKXt2YXIgbW9kSW5kZXg9aSttb2RQb2x5LmdldExlbmd0aCgpLWVjZGF0YVtyXS5sZW5ndGg7ZWNkYXRhW3JdW2ldPShtb2RJbmRleD49MCk/bW9kUG9seS5nZXQobW9kSW5kZXgpOjA7fX1cbnZhciB0b3RhbENvZGVDb3VudD0wO2Zvcih2YXIgaT0wO2k8cnNCbG9ja3MubGVuZ3RoO2krKyl7dG90YWxDb2RlQ291bnQrPXJzQmxvY2tzW2ldLnRvdGFsQ291bnQ7fVxudmFyIGRhdGE9bmV3IEFycmF5KHRvdGFsQ29kZUNvdW50KTt2YXIgaW5kZXg9MDtmb3IodmFyIGk9MDtpPG1heERjQ291bnQ7aSsrKXtmb3IodmFyIHI9MDtyPHJzQmxvY2tzLmxlbmd0aDtyKyspe2lmKGk8ZGNkYXRhW3JdLmxlbmd0aCl7ZGF0YVtpbmRleCsrXT1kY2RhdGFbcl1baV07fX19XG5mb3IodmFyIGk9MDtpPG1heEVjQ291bnQ7aSsrKXtmb3IodmFyIHI9MDtyPHJzQmxvY2tzLmxlbmd0aDtyKyspe2lmKGk8ZWNkYXRhW3JdLmxlbmd0aCl7ZGF0YVtpbmRleCsrXT1lY2RhdGFbcl1baV07fX19XG5yZXR1cm4gZGF0YTt9O3ZhciBRUk1vZGU9e01PREVfTlVNQkVSOjE8PDAsTU9ERV9BTFBIQV9OVU06MTw8MSxNT0RFXzhCSVRfQllURToxPDwyLE1PREVfS0FOSkk6MTw8M307dmFyIFFSRXJyb3JDb3JyZWN0TGV2ZWw9e0w6MSxNOjAsUTozLEg6Mn07dmFyIFFSTWFza1BhdHRlcm49e1BBVFRFUk4wMDA6MCxQQVRURVJOMDAxOjEsUEFUVEVSTjAxMDoyLFBBVFRFUk4wMTE6MyxQQVRURVJOMTAwOjQsUEFUVEVSTjEwMTo1LFBBVFRFUk4xMTA6NixQQVRURVJOMTExOjd9O3ZhciBRUlV0aWw9e1BBVFRFUk5fUE9TSVRJT05fVEFCTEU6W1tdLFs2LDE4XSxbNiwyMl0sWzYsMjZdLFs2LDMwXSxbNiwzNF0sWzYsMjIsMzhdLFs2LDI0LDQyXSxbNiwyNiw0Nl0sWzYsMjgsNTBdLFs2LDMwLDU0XSxbNiwzMiw1OF0sWzYsMzQsNjJdLFs2LDI2LDQ2LDY2XSxbNiwyNiw0OCw3MF0sWzYsMjYsNTAsNzRdLFs2LDMwLDU0LDc4XSxbNiwzMCw1Niw4Ml0sWzYsMzAsNTgsODZdLFs2LDM0LDYyLDkwXSxbNiwyOCw1MCw3Miw5NF0sWzYsMjYsNTAsNzQsOThdLFs2LDMwLDU0LDc4LDEwMl0sWzYsMjgsNTQsODAsMTA2XSxbNiwzMiw1OCw4NCwxMTBdLFs2LDMwLDU4LDg2LDExNF0sWzYsMzQsNjIsOTAsMTE4XSxbNiwyNiw1MCw3NCw5OCwxMjJdLFs2LDMwLDU0LDc4LDEwMiwxMjZdLFs2LDI2LDUyLDc4LDEwNCwxMzBdLFs2LDMwLDU2LDgyLDEwOCwxMzRdLFs2LDM0LDYwLDg2LDExMiwxMzhdLFs2LDMwLDU4LDg2LDExNCwxNDJdLFs2LDM0LDYyLDkwLDExOCwxNDZdLFs2LDMwLDU0LDc4LDEwMiwxMjYsMTUwXSxbNiwyNCw1MCw3NiwxMDIsMTI4LDE1NF0sWzYsMjgsNTQsODAsMTA2LDEzMiwxNThdLFs2LDMyLDU4LDg0LDExMCwxMzYsMTYyXSxbNiwyNiw1NCw4MiwxMTAsMTM4LDE2Nl0sWzYsMzAsNTgsODYsMTE0LDE0MiwxNzBdXSxHMTU6KDE8PDEwKXwoMTw8OCl8KDE8PDUpfCgxPDw0KXwoMTw8Mil8KDE8PDEpfCgxPDwwKSxHMTg6KDE8PDEyKXwoMTw8MTEpfCgxPDwxMCl8KDE8PDkpfCgxPDw4KXwoMTw8NSl8KDE8PDIpfCgxPDwwKSxHMTVfTUFTSzooMTw8MTQpfCgxPDwxMil8KDE8PDEwKXwoMTw8NCl8KDE8PDEpLGdldEJDSFR5cGVJbmZvOmZ1bmN0aW9uKGRhdGEpe3ZhciBkPWRhdGE8PDEwO3doaWxlKFFSVXRpbC5nZXRCQ0hEaWdpdChkKS1RUlV0aWwuZ2V0QkNIRGlnaXQoUVJVdGlsLkcxNSk+PTApe2RePShRUlV0aWwuRzE1PDwoUVJVdGlsLmdldEJDSERpZ2l0KGQpLVFSVXRpbC5nZXRCQ0hEaWdpdChRUlV0aWwuRzE1KSkpO31cbnJldHVybigoZGF0YTw8MTApfGQpXlFSVXRpbC5HMTVfTUFTSzt9LGdldEJDSFR5cGVOdW1iZXI6ZnVuY3Rpb24oZGF0YSl7dmFyIGQ9ZGF0YTw8MTI7d2hpbGUoUVJVdGlsLmdldEJDSERpZ2l0KGQpLVFSVXRpbC5nZXRCQ0hEaWdpdChRUlV0aWwuRzE4KT49MCl7ZF49KFFSVXRpbC5HMTg8PChRUlV0aWwuZ2V0QkNIRGlnaXQoZCktUVJVdGlsLmdldEJDSERpZ2l0KFFSVXRpbC5HMTgpKSk7fVxucmV0dXJuKGRhdGE8PDEyKXxkO30sZ2V0QkNIRGlnaXQ6ZnVuY3Rpb24oZGF0YSl7dmFyIGRpZ2l0PTA7d2hpbGUoZGF0YSE9MCl7ZGlnaXQrKztkYXRhPj4+PTE7fVxucmV0dXJuIGRpZ2l0O30sZ2V0UGF0dGVyblBvc2l0aW9uOmZ1bmN0aW9uKHR5cGVOdW1iZXIpe3JldHVybiBRUlV0aWwuUEFUVEVSTl9QT1NJVElPTl9UQUJMRVt0eXBlTnVtYmVyLTFdO30sZ2V0TWFzazpmdW5jdGlvbihtYXNrUGF0dGVybixpLGope3N3aXRjaChtYXNrUGF0dGVybil7Y2FzZSBRUk1hc2tQYXR0ZXJuLlBBVFRFUk4wMDA6cmV0dXJuKGkraiklMj09MDtjYXNlIFFSTWFza1BhdHRlcm4uUEFUVEVSTjAwMTpyZXR1cm4gaSUyPT0wO2Nhc2UgUVJNYXNrUGF0dGVybi5QQVRURVJOMDEwOnJldHVybiBqJTM9PTA7Y2FzZSBRUk1hc2tQYXR0ZXJuLlBBVFRFUk4wMTE6cmV0dXJuKGkraiklMz09MDtjYXNlIFFSTWFza1BhdHRlcm4uUEFUVEVSTjEwMDpyZXR1cm4oTWF0aC5mbG9vcihpLzIpK01hdGguZmxvb3Ioai8zKSklMj09MDtjYXNlIFFSTWFza1BhdHRlcm4uUEFUVEVSTjEwMTpyZXR1cm4oaSpqKSUyKyhpKmopJTM9PTA7Y2FzZSBRUk1hc2tQYXR0ZXJuLlBBVFRFUk4xMTA6cmV0dXJuKChpKmopJTIrKGkqaiklMyklMj09MDtjYXNlIFFSTWFza1BhdHRlcm4uUEFUVEVSTjExMTpyZXR1cm4oKGkqaiklMysoaStqKSUyKSUyPT0wO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwiYmFkIG1hc2tQYXR0ZXJuOlwiK21hc2tQYXR0ZXJuKTt9fSxnZXRFcnJvckNvcnJlY3RQb2x5bm9taWFsOmZ1bmN0aW9uKGVycm9yQ29ycmVjdExlbmd0aCl7dmFyIGE9bmV3IFFSUG9seW5vbWlhbChbMV0sMCk7Zm9yKHZhciBpPTA7aTxlcnJvckNvcnJlY3RMZW5ndGg7aSsrKXthPWEubXVsdGlwbHkobmV3IFFSUG9seW5vbWlhbChbMSxRUk1hdGguZ2V4cChpKV0sMCkpO31cbnJldHVybiBhO30sZ2V0TGVuZ3RoSW5CaXRzOmZ1bmN0aW9uKG1vZGUsdHlwZSl7aWYoMTw9dHlwZSYmdHlwZTwxMCl7c3dpdGNoKG1vZGUpe2Nhc2UgUVJNb2RlLk1PREVfTlVNQkVSOnJldHVybiAxMDtjYXNlIFFSTW9kZS5NT0RFX0FMUEhBX05VTTpyZXR1cm4gOTtjYXNlIFFSTW9kZS5NT0RFXzhCSVRfQllURTpyZXR1cm4gODtjYXNlIFFSTW9kZS5NT0RFX0tBTkpJOnJldHVybiA4O2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwibW9kZTpcIittb2RlKTt9fWVsc2UgaWYodHlwZTwyNyl7c3dpdGNoKG1vZGUpe2Nhc2UgUVJNb2RlLk1PREVfTlVNQkVSOnJldHVybiAxMjtjYXNlIFFSTW9kZS5NT0RFX0FMUEhBX05VTTpyZXR1cm4gMTE7Y2FzZSBRUk1vZGUuTU9ERV84QklUX0JZVEU6cmV0dXJuIDE2O2Nhc2UgUVJNb2RlLk1PREVfS0FOSkk6cmV0dXJuIDEwO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwibW9kZTpcIittb2RlKTt9fWVsc2UgaWYodHlwZTw0MSl7c3dpdGNoKG1vZGUpe2Nhc2UgUVJNb2RlLk1PREVfTlVNQkVSOnJldHVybiAxNDtjYXNlIFFSTW9kZS5NT0RFX0FMUEhBX05VTTpyZXR1cm4gMTM7Y2FzZSBRUk1vZGUuTU9ERV84QklUX0JZVEU6cmV0dXJuIDE2O2Nhc2UgUVJNb2RlLk1PREVfS0FOSkk6cmV0dXJuIDEyO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwibW9kZTpcIittb2RlKTt9fWVsc2V7dGhyb3cgbmV3IEVycm9yKFwidHlwZTpcIit0eXBlKTt9fSxnZXRMb3N0UG9pbnQ6ZnVuY3Rpb24ocXJDb2RlKXt2YXIgbW9kdWxlQ291bnQ9cXJDb2RlLmdldE1vZHVsZUNvdW50KCk7dmFyIGxvc3RQb2ludD0wO2Zvcih2YXIgcm93PTA7cm93PG1vZHVsZUNvdW50O3JvdysrKXtmb3IodmFyIGNvbD0wO2NvbDxtb2R1bGVDb3VudDtjb2wrKyl7dmFyIHNhbWVDb3VudD0wO3ZhciBkYXJrPXFyQ29kZS5pc0Rhcmsocm93LGNvbCk7Zm9yKHZhciByPS0xO3I8PTE7cisrKXtpZihyb3crcjwwfHxtb2R1bGVDb3VudDw9cm93K3Ipe2NvbnRpbnVlO31cbmZvcih2YXIgYz0tMTtjPD0xO2MrKyl7aWYoY29sK2M8MHx8bW9kdWxlQ291bnQ8PWNvbCtjKXtjb250aW51ZTt9XG5pZihyPT0wJiZjPT0wKXtjb250aW51ZTt9XG5pZihkYXJrPT1xckNvZGUuaXNEYXJrKHJvdytyLGNvbCtjKSl7c2FtZUNvdW50Kys7fX19XG5pZihzYW1lQ291bnQ+NSl7bG9zdFBvaW50Kz0oMytzYW1lQ291bnQtNSk7fX19XG5mb3IodmFyIHJvdz0wO3Jvdzxtb2R1bGVDb3VudC0xO3JvdysrKXtmb3IodmFyIGNvbD0wO2NvbDxtb2R1bGVDb3VudC0xO2NvbCsrKXt2YXIgY291bnQ9MDtpZihxckNvZGUuaXNEYXJrKHJvdyxjb2wpKWNvdW50Kys7aWYocXJDb2RlLmlzRGFyayhyb3crMSxjb2wpKWNvdW50Kys7aWYocXJDb2RlLmlzRGFyayhyb3csY29sKzEpKWNvdW50Kys7aWYocXJDb2RlLmlzRGFyayhyb3crMSxjb2wrMSkpY291bnQrKztpZihjb3VudD09MHx8Y291bnQ9PTQpe2xvc3RQb2ludCs9Mzt9fX1cbmZvcih2YXIgcm93PTA7cm93PG1vZHVsZUNvdW50O3JvdysrKXtmb3IodmFyIGNvbD0wO2NvbDxtb2R1bGVDb3VudC02O2NvbCsrKXtpZihxckNvZGUuaXNEYXJrKHJvdyxjb2wpJiYhcXJDb2RlLmlzRGFyayhyb3csY29sKzEpJiZxckNvZGUuaXNEYXJrKHJvdyxjb2wrMikmJnFyQ29kZS5pc0Rhcmsocm93LGNvbCszKSYmcXJDb2RlLmlzRGFyayhyb3csY29sKzQpJiYhcXJDb2RlLmlzRGFyayhyb3csY29sKzUpJiZxckNvZGUuaXNEYXJrKHJvdyxjb2wrNikpe2xvc3RQb2ludCs9NDA7fX19XG5mb3IodmFyIGNvbD0wO2NvbDxtb2R1bGVDb3VudDtjb2wrKyl7Zm9yKHZhciByb3c9MDtyb3c8bW9kdWxlQ291bnQtNjtyb3crKyl7aWYocXJDb2RlLmlzRGFyayhyb3csY29sKSYmIXFyQ29kZS5pc0Rhcmsocm93KzEsY29sKSYmcXJDb2RlLmlzRGFyayhyb3crMixjb2wpJiZxckNvZGUuaXNEYXJrKHJvdyszLGNvbCkmJnFyQ29kZS5pc0Rhcmsocm93KzQsY29sKSYmIXFyQ29kZS5pc0Rhcmsocm93KzUsY29sKSYmcXJDb2RlLmlzRGFyayhyb3crNixjb2wpKXtsb3N0UG9pbnQrPTQwO319fVxudmFyIGRhcmtDb3VudD0wO2Zvcih2YXIgY29sPTA7Y29sPG1vZHVsZUNvdW50O2NvbCsrKXtmb3IodmFyIHJvdz0wO3Jvdzxtb2R1bGVDb3VudDtyb3crKyl7aWYocXJDb2RlLmlzRGFyayhyb3csY29sKSl7ZGFya0NvdW50Kys7fX19XG52YXIgcmF0aW89TWF0aC5hYnMoMTAwKmRhcmtDb3VudC9tb2R1bGVDb3VudC9tb2R1bGVDb3VudC01MCkvNTtsb3N0UG9pbnQrPXJhdGlvKjEwO3JldHVybiBsb3N0UG9pbnQ7fX07dmFyIFFSTWF0aD17Z2xvZzpmdW5jdGlvbihuKXtpZihuPDEpe3Rocm93IG5ldyBFcnJvcihcImdsb2coXCIrbitcIilcIik7fVxucmV0dXJuIFFSTWF0aC5MT0dfVEFCTEVbbl07fSxnZXhwOmZ1bmN0aW9uKG4pe3doaWxlKG48MCl7bis9MjU1O31cbndoaWxlKG4+PTI1Nil7bi09MjU1O31cbnJldHVybiBRUk1hdGguRVhQX1RBQkxFW25dO30sRVhQX1RBQkxFOm5ldyBBcnJheSgyNTYpLExPR19UQUJMRTpuZXcgQXJyYXkoMjU2KX07Zm9yKHZhciBpPTA7aTw4O2krKyl7UVJNYXRoLkVYUF9UQUJMRVtpXT0xPDxpO31cbmZvcih2YXIgaT04O2k8MjU2O2krKyl7UVJNYXRoLkVYUF9UQUJMRVtpXT1RUk1hdGguRVhQX1RBQkxFW2ktNF1eUVJNYXRoLkVYUF9UQUJMRVtpLTVdXlFSTWF0aC5FWFBfVEFCTEVbaS02XV5RUk1hdGguRVhQX1RBQkxFW2ktOF07fVxuZm9yKHZhciBpPTA7aTwyNTU7aSsrKXtRUk1hdGguTE9HX1RBQkxFW1FSTWF0aC5FWFBfVEFCTEVbaV1dPWk7fVxuZnVuY3Rpb24gUVJQb2x5bm9taWFsKG51bSxzaGlmdCl7aWYobnVtLmxlbmd0aD09dW5kZWZpbmVkKXt0aHJvdyBuZXcgRXJyb3IobnVtLmxlbmd0aCtcIi9cIitzaGlmdCk7fVxudmFyIG9mZnNldD0wO3doaWxlKG9mZnNldDxudW0ubGVuZ3RoJiZudW1bb2Zmc2V0XT09MCl7b2Zmc2V0Kys7fVxudGhpcy5udW09bmV3IEFycmF5KG51bS5sZW5ndGgtb2Zmc2V0K3NoaWZ0KTtmb3IodmFyIGk9MDtpPG51bS5sZW5ndGgtb2Zmc2V0O2krKyl7dGhpcy5udW1baV09bnVtW2krb2Zmc2V0XTt9fVxuUVJQb2x5bm9taWFsLnByb3RvdHlwZT17Z2V0OmZ1bmN0aW9uKGluZGV4KXtyZXR1cm4gdGhpcy5udW1baW5kZXhdO30sZ2V0TGVuZ3RoOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubnVtLmxlbmd0aDt9LG11bHRpcGx5OmZ1bmN0aW9uKGUpe3ZhciBudW09bmV3IEFycmF5KHRoaXMuZ2V0TGVuZ3RoKCkrZS5nZXRMZW5ndGgoKS0xKTtmb3IodmFyIGk9MDtpPHRoaXMuZ2V0TGVuZ3RoKCk7aSsrKXtmb3IodmFyIGo9MDtqPGUuZ2V0TGVuZ3RoKCk7aisrKXtudW1baStqXV49UVJNYXRoLmdleHAoUVJNYXRoLmdsb2codGhpcy5nZXQoaSkpK1FSTWF0aC5nbG9nKGUuZ2V0KGopKSk7fX1cbnJldHVybiBuZXcgUVJQb2x5bm9taWFsKG51bSwwKTt9LG1vZDpmdW5jdGlvbihlKXtpZih0aGlzLmdldExlbmd0aCgpLWUuZ2V0TGVuZ3RoKCk8MCl7cmV0dXJuIHRoaXM7fVxudmFyIHJhdGlvPVFSTWF0aC5nbG9nKHRoaXMuZ2V0KDApKS1RUk1hdGguZ2xvZyhlLmdldCgwKSk7dmFyIG51bT1uZXcgQXJyYXkodGhpcy5nZXRMZW5ndGgoKSk7Zm9yKHZhciBpPTA7aTx0aGlzLmdldExlbmd0aCgpO2krKyl7bnVtW2ldPXRoaXMuZ2V0KGkpO31cbmZvcih2YXIgaT0wO2k8ZS5nZXRMZW5ndGgoKTtpKyspe251bVtpXV49UVJNYXRoLmdleHAoUVJNYXRoLmdsb2coZS5nZXQoaSkpK3JhdGlvKTt9XG5yZXR1cm4gbmV3IFFSUG9seW5vbWlhbChudW0sMCkubW9kKGUpO319O2Z1bmN0aW9uIFFSUlNCbG9jayh0b3RhbENvdW50LGRhdGFDb3VudCl7dGhpcy50b3RhbENvdW50PXRvdGFsQ291bnQ7dGhpcy5kYXRhQ291bnQ9ZGF0YUNvdW50O31cblFSUlNCbG9jay5SU19CTE9DS19UQUJMRT1bWzEsMjYsMTldLFsxLDI2LDE2XSxbMSwyNiwxM10sWzEsMjYsOV0sWzEsNDQsMzRdLFsxLDQ0LDI4XSxbMSw0NCwyMl0sWzEsNDQsMTZdLFsxLDcwLDU1XSxbMSw3MCw0NF0sWzIsMzUsMTddLFsyLDM1LDEzXSxbMSwxMDAsODBdLFsyLDUwLDMyXSxbMiw1MCwyNF0sWzQsMjUsOV0sWzEsMTM0LDEwOF0sWzIsNjcsNDNdLFsyLDMzLDE1LDIsMzQsMTZdLFsyLDMzLDExLDIsMzQsMTJdLFsyLDg2LDY4XSxbNCw0MywyN10sWzQsNDMsMTldLFs0LDQzLDE1XSxbMiw5OCw3OF0sWzQsNDksMzFdLFsyLDMyLDE0LDQsMzMsMTVdLFs0LDM5LDEzLDEsNDAsMTRdLFsyLDEyMSw5N10sWzIsNjAsMzgsMiw2MSwzOV0sWzQsNDAsMTgsMiw0MSwxOV0sWzQsNDAsMTQsMiw0MSwxNV0sWzIsMTQ2LDExNl0sWzMsNTgsMzYsMiw1OSwzN10sWzQsMzYsMTYsNCwzNywxN10sWzQsMzYsMTIsNCwzNywxM10sWzIsODYsNjgsMiw4Nyw2OV0sWzQsNjksNDMsMSw3MCw0NF0sWzYsNDMsMTksMiw0NCwyMF0sWzYsNDMsMTUsMiw0NCwxNl0sWzQsMTAxLDgxXSxbMSw4MCw1MCw0LDgxLDUxXSxbNCw1MCwyMiw0LDUxLDIzXSxbMywzNiwxMiw4LDM3LDEzXSxbMiwxMTYsOTIsMiwxMTcsOTNdLFs2LDU4LDM2LDIsNTksMzddLFs0LDQ2LDIwLDYsNDcsMjFdLFs3LDQyLDE0LDQsNDMsMTVdLFs0LDEzMywxMDddLFs4LDU5LDM3LDEsNjAsMzhdLFs4LDQ0LDIwLDQsNDUsMjFdLFsxMiwzMywxMSw0LDM0LDEyXSxbMywxNDUsMTE1LDEsMTQ2LDExNl0sWzQsNjQsNDAsNSw2NSw0MV0sWzExLDM2LDE2LDUsMzcsMTddLFsxMSwzNiwxMiw1LDM3LDEzXSxbNSwxMDksODcsMSwxMTAsODhdLFs1LDY1LDQxLDUsNjYsNDJdLFs1LDU0LDI0LDcsNTUsMjVdLFsxMSwzNiwxMl0sWzUsMTIyLDk4LDEsMTIzLDk5XSxbNyw3Myw0NSwzLDc0LDQ2XSxbMTUsNDMsMTksMiw0NCwyMF0sWzMsNDUsMTUsMTMsNDYsMTZdLFsxLDEzNSwxMDcsNSwxMzYsMTA4XSxbMTAsNzQsNDYsMSw3NSw0N10sWzEsNTAsMjIsMTUsNTEsMjNdLFsyLDQyLDE0LDE3LDQzLDE1XSxbNSwxNTAsMTIwLDEsMTUxLDEyMV0sWzksNjksNDMsNCw3MCw0NF0sWzE3LDUwLDIyLDEsNTEsMjNdLFsyLDQyLDE0LDE5LDQzLDE1XSxbMywxNDEsMTEzLDQsMTQyLDExNF0sWzMsNzAsNDQsMTEsNzEsNDVdLFsxNyw0NywyMSw0LDQ4LDIyXSxbOSwzOSwxMywxNiw0MCwxNF0sWzMsMTM1LDEwNyw1LDEzNiwxMDhdLFszLDY3LDQxLDEzLDY4LDQyXSxbMTUsNTQsMjQsNSw1NSwyNV0sWzE1LDQzLDE1LDEwLDQ0LDE2XSxbNCwxNDQsMTE2LDQsMTQ1LDExN10sWzE3LDY4LDQyXSxbMTcsNTAsMjIsNiw1MSwyM10sWzE5LDQ2LDE2LDYsNDcsMTddLFsyLDEzOSwxMTEsNywxNDAsMTEyXSxbMTcsNzQsNDZdLFs3LDU0LDI0LDE2LDU1LDI1XSxbMzQsMzcsMTNdLFs0LDE1MSwxMjEsNSwxNTIsMTIyXSxbNCw3NSw0NywxNCw3Niw0OF0sWzExLDU0LDI0LDE0LDU1LDI1XSxbMTYsNDUsMTUsMTQsNDYsMTZdLFs2LDE0NywxMTcsNCwxNDgsMTE4XSxbNiw3Myw0NSwxNCw3NCw0Nl0sWzExLDU0LDI0LDE2LDU1LDI1XSxbMzAsNDYsMTYsMiw0NywxN10sWzgsMTMyLDEwNiw0LDEzMywxMDddLFs4LDc1LDQ3LDEzLDc2LDQ4XSxbNyw1NCwyNCwyMiw1NSwyNV0sWzIyLDQ1LDE1LDEzLDQ2LDE2XSxbMTAsMTQyLDExNCwyLDE0MywxMTVdLFsxOSw3NCw0Niw0LDc1LDQ3XSxbMjgsNTAsMjIsNiw1MSwyM10sWzMzLDQ2LDE2LDQsNDcsMTddLFs4LDE1MiwxMjIsNCwxNTMsMTIzXSxbMjIsNzMsNDUsMyw3NCw0Nl0sWzgsNTMsMjMsMjYsNTQsMjRdLFsxMiw0NSwxNSwyOCw0NiwxNl0sWzMsMTQ3LDExNywxMCwxNDgsMTE4XSxbMyw3Myw0NSwyMyw3NCw0Nl0sWzQsNTQsMjQsMzEsNTUsMjVdLFsxMSw0NSwxNSwzMSw0NiwxNl0sWzcsMTQ2LDExNiw3LDE0NywxMTddLFsyMSw3Myw0NSw3LDc0LDQ2XSxbMSw1MywyMywzNyw1NCwyNF0sWzE5LDQ1LDE1LDI2LDQ2LDE2XSxbNSwxNDUsMTE1LDEwLDE0NiwxMTZdLFsxOSw3NSw0NywxMCw3Niw0OF0sWzE1LDU0LDI0LDI1LDU1LDI1XSxbMjMsNDUsMTUsMjUsNDYsMTZdLFsxMywxNDUsMTE1LDMsMTQ2LDExNl0sWzIsNzQsNDYsMjksNzUsNDddLFs0Miw1NCwyNCwxLDU1LDI1XSxbMjMsNDUsMTUsMjgsNDYsMTZdLFsxNywxNDUsMTE1XSxbMTAsNzQsNDYsMjMsNzUsNDddLFsxMCw1NCwyNCwzNSw1NSwyNV0sWzE5LDQ1LDE1LDM1LDQ2LDE2XSxbMTcsMTQ1LDExNSwxLDE0NiwxMTZdLFsxNCw3NCw0NiwyMSw3NSw0N10sWzI5LDU0LDI0LDE5LDU1LDI1XSxbMTEsNDUsMTUsNDYsNDYsMTZdLFsxMywxNDUsMTE1LDYsMTQ2LDExNl0sWzE0LDc0LDQ2LDIzLDc1LDQ3XSxbNDQsNTQsMjQsNyw1NSwyNV0sWzU5LDQ2LDE2LDEsNDcsMTddLFsxMiwxNTEsMTIxLDcsMTUyLDEyMl0sWzEyLDc1LDQ3LDI2LDc2LDQ4XSxbMzksNTQsMjQsMTQsNTUsMjVdLFsyMiw0NSwxNSw0MSw0NiwxNl0sWzYsMTUxLDEyMSwxNCwxNTIsMTIyXSxbNiw3NSw0NywzNCw3Niw0OF0sWzQ2LDU0LDI0LDEwLDU1LDI1XSxbMiw0NSwxNSw2NCw0NiwxNl0sWzE3LDE1MiwxMjIsNCwxNTMsMTIzXSxbMjksNzQsNDYsMTQsNzUsNDddLFs0OSw1NCwyNCwxMCw1NSwyNV0sWzI0LDQ1LDE1LDQ2LDQ2LDE2XSxbNCwxNTIsMTIyLDE4LDE1MywxMjNdLFsxMyw3NCw0NiwzMiw3NSw0N10sWzQ4LDU0LDI0LDE0LDU1LDI1XSxbNDIsNDUsMTUsMzIsNDYsMTZdLFsyMCwxNDcsMTE3LDQsMTQ4LDExOF0sWzQwLDc1LDQ3LDcsNzYsNDhdLFs0Myw1NCwyNCwyMiw1NSwyNV0sWzEwLDQ1LDE1LDY3LDQ2LDE2XSxbMTksMTQ4LDExOCw2LDE0OSwxMTldLFsxOCw3NSw0NywzMSw3Niw0OF0sWzM0LDU0LDI0LDM0LDU1LDI1XSxbMjAsNDUsMTUsNjEsNDYsMTZdXTtRUlJTQmxvY2suZ2V0UlNCbG9ja3M9ZnVuY3Rpb24odHlwZU51bWJlcixlcnJvckNvcnJlY3RMZXZlbCl7dmFyIHJzQmxvY2s9UVJSU0Jsb2NrLmdldFJzQmxvY2tUYWJsZSh0eXBlTnVtYmVyLGVycm9yQ29ycmVjdExldmVsKTtpZihyc0Jsb2NrPT11bmRlZmluZWQpe3Rocm93IG5ldyBFcnJvcihcImJhZCBycyBibG9jayBAIHR5cGVOdW1iZXI6XCIrdHlwZU51bWJlcitcIi9lcnJvckNvcnJlY3RMZXZlbDpcIitlcnJvckNvcnJlY3RMZXZlbCk7fVxudmFyIGxlbmd0aD1yc0Jsb2NrLmxlbmd0aC8zO3ZhciBsaXN0PVtdO2Zvcih2YXIgaT0wO2k8bGVuZ3RoO2krKyl7dmFyIGNvdW50PXJzQmxvY2tbaSozKzBdO3ZhciB0b3RhbENvdW50PXJzQmxvY2tbaSozKzFdO3ZhciBkYXRhQ291bnQ9cnNCbG9ja1tpKjMrMl07Zm9yKHZhciBqPTA7ajxjb3VudDtqKyspe2xpc3QucHVzaChuZXcgUVJSU0Jsb2NrKHRvdGFsQ291bnQsZGF0YUNvdW50KSk7fX1cbnJldHVybiBsaXN0O307UVJSU0Jsb2NrLmdldFJzQmxvY2tUYWJsZT1mdW5jdGlvbih0eXBlTnVtYmVyLGVycm9yQ29ycmVjdExldmVsKXtzd2l0Y2goZXJyb3JDb3JyZWN0TGV2ZWwpe2Nhc2UgUVJFcnJvckNvcnJlY3RMZXZlbC5MOnJldHVybiBRUlJTQmxvY2suUlNfQkxPQ0tfVEFCTEVbKHR5cGVOdW1iZXItMSkqNCswXTtjYXNlIFFSRXJyb3JDb3JyZWN0TGV2ZWwuTTpyZXR1cm4gUVJSU0Jsb2NrLlJTX0JMT0NLX1RBQkxFWyh0eXBlTnVtYmVyLTEpKjQrMV07Y2FzZSBRUkVycm9yQ29ycmVjdExldmVsLlE6cmV0dXJuIFFSUlNCbG9jay5SU19CTE9DS19UQUJMRVsodHlwZU51bWJlci0xKSo0KzJdO2Nhc2UgUVJFcnJvckNvcnJlY3RMZXZlbC5IOnJldHVybiBRUlJTQmxvY2suUlNfQkxPQ0tfVEFCTEVbKHR5cGVOdW1iZXItMSkqNCszXTtkZWZhdWx0OnJldHVybiB1bmRlZmluZWQ7fX07ZnVuY3Rpb24gUVJCaXRCdWZmZXIoKXt0aGlzLmJ1ZmZlcj1bXTt0aGlzLmxlbmd0aD0wO31cblFSQml0QnVmZmVyLnByb3RvdHlwZT17Z2V0OmZ1bmN0aW9uKGluZGV4KXt2YXIgYnVmSW5kZXg9TWF0aC5mbG9vcihpbmRleC84KTtyZXR1cm4oKHRoaXMuYnVmZmVyW2J1ZkluZGV4XT4+Pig3LWluZGV4JTgpKSYxKT09MTt9LHB1dDpmdW5jdGlvbihudW0sbGVuZ3RoKXtmb3IodmFyIGk9MDtpPGxlbmd0aDtpKyspe3RoaXMucHV0Qml0KCgobnVtPj4+KGxlbmd0aC1pLTEpKSYxKT09MSk7fX0sZ2V0TGVuZ3RoSW5CaXRzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGVuZ3RoO30scHV0Qml0OmZ1bmN0aW9uKGJpdCl7dmFyIGJ1ZkluZGV4PU1hdGguZmxvb3IodGhpcy5sZW5ndGgvOCk7aWYodGhpcy5idWZmZXIubGVuZ3RoPD1idWZJbmRleCl7dGhpcy5idWZmZXIucHVzaCgwKTt9XG5pZihiaXQpe3RoaXMuYnVmZmVyW2J1ZkluZGV4XXw9KDB4ODA+Pj4odGhpcy5sZW5ndGglOCkpO31cbnRoaXMubGVuZ3RoKys7fX07dmFyIFFSQ29kZUxpbWl0TGVuZ3RoPVtbMTcsMTQsMTEsN10sWzMyLDI2LDIwLDE0XSxbNTMsNDIsMzIsMjRdLFs3OCw2Miw0NiwzNF0sWzEwNiw4NCw2MCw0NF0sWzEzNCwxMDYsNzQsNThdLFsxNTQsMTIyLDg2LDY0XSxbMTkyLDE1MiwxMDgsODRdLFsyMzAsMTgwLDEzMCw5OF0sWzI3MSwyMTMsMTUxLDExOV0sWzMyMSwyNTEsMTc3LDEzN10sWzM2NywyODcsMjAzLDE1NV0sWzQyNSwzMzEsMjQxLDE3N10sWzQ1OCwzNjIsMjU4LDE5NF0sWzUyMCw0MTIsMjkyLDIyMF0sWzU4Niw0NTAsMzIyLDI1MF0sWzY0NCw1MDQsMzY0LDI4MF0sWzcxOCw1NjAsMzk0LDMxMF0sWzc5Miw2MjQsNDQyLDMzOF0sWzg1OCw2NjYsNDgyLDM4Ml0sWzkyOSw3MTEsNTA5LDQwM10sWzEwMDMsNzc5LDU2NSw0MzldLFsxMDkxLDg1Nyw2MTEsNDYxXSxbMTE3MSw5MTEsNjYxLDUxMV0sWzEyNzMsOTk3LDcxNSw1MzVdLFsxMzY3LDEwNTksNzUxLDU5M10sWzE0NjUsMTEyNSw4MDUsNjI1XSxbMTUyOCwxMTkwLDg2OCw2NThdLFsxNjI4LDEyNjQsOTA4LDY5OF0sWzE3MzIsMTM3MCw5ODIsNzQyXSxbMTg0MCwxNDUyLDEwMzAsNzkwXSxbMTk1MiwxNTM4LDExMTIsODQyXSxbMjA2OCwxNjI4LDExNjgsODk4XSxbMjE4OCwxNzIyLDEyMjgsOTU4XSxbMjMwMywxODA5LDEyODMsOTgzXSxbMjQzMSwxOTExLDEzNTEsMTA1MV0sWzI1NjMsMTk4OSwxNDIzLDEwOTNdLFsyNjk5LDIwOTksMTQ5OSwxMTM5XSxbMjgwOSwyMjEzLDE1NzksMTIxOV0sWzI5NTMsMjMzMSwxNjYzLDEyNzNdXTtcblxuXG4vKiogQ29uc3RydWN0b3IgKi9cbmZ1bmN0aW9uIFFSQ29kZShvcHRpb25zKSB7XG4gIHZhciBpbnN0YW5jZSA9IHRoaXM7XG4gIFxuICAvL0RlZmF1bHQgb3B0aW9uc1xuICB0aGlzLm9wdGlvbnMgPSB7XG4gICAgcGFkZGluZzogNCxcbiAgICB3aWR0aDogMjU2LCBcbiAgICBoZWlnaHQ6IDI1NixcbiAgICB0eXBlTnVtYmVyOiA0LFxuICAgIGNvbG9yOiBcIiMwMDAwMDBcIixcbiAgICBiYWNrZ3JvdW5kOiBcIiNmZmZmZmZcIixcbiAgICBlY2w6IFwiTVwiXG4gIH07XG4gIFxuICAvL0luIGNhc2UgdGhlIG9wdGlvbnMgaXMgc3RyaW5nXG4gIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ3N0cmluZycpIHtcbiAgICBvcHRpb25zID0ge1xuICAgICAgY29udGVudDogb3B0aW9uc1xuICAgIH07XG4gIH1cbiAgXG4gIC8vTWVyZ2Ugb3B0aW9uc1xuICBpZiAob3B0aW9ucykge1xuICAgIGZvciAodmFyIGkgaW4gb3B0aW9ucykge1xuICAgICAgdGhpcy5vcHRpb25zW2ldID0gb3B0aW9uc1tpXTtcbiAgICB9XG4gIH1cbiAgXG4gIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLmNvbnRlbnQgIT09ICdzdHJpbmcnKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRXhwZWN0ZWQgJ2NvbnRlbnQnIGFzIHN0cmluZyFcIik7XG4gIH1cbiAgXG4gIGlmICh0aGlzLm9wdGlvbnMuY29udGVudC5sZW5ndGggPT09IDAgLyogfHwgdGhpcy5vcHRpb25zLmNvbnRlbnQubGVuZ3RoID4gNzA4OSAqLykge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkV4cGVjdGVkICdjb250ZW50JyB0byBiZSBub24tZW1wdHkhXCIpO1xuICB9XG4gIFxuICBpZiAoISh0aGlzLm9wdGlvbnMucGFkZGluZyA+PSAwKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkV4cGVjdGVkICdwYWRkaW5nJyB2YWx1ZSB0byBiZSBub24tbmVnYXRpdmUhXCIpO1xuICB9XG4gIFxuICBpZiAoISh0aGlzLm9wdGlvbnMud2lkdGggPiAwKSB8fCAhKHRoaXMub3B0aW9ucy5oZWlnaHQgPiAwKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkV4cGVjdGVkICd3aWR0aCcgb3IgJ2hlaWdodCcgdmFsdWUgdG8gYmUgaGlnaGVyIHRoYW4gemVybyFcIik7XG4gIH1cbiAgXG4gIC8vR2V0cyB0aGUgZXJyb3IgY29ycmVjdGlvbiBsZXZlbFxuICBmdW5jdGlvbiBfZ2V0RXJyb3JDb3JyZWN0TGV2ZWwoZWNsKSB7XG4gICAgc3dpdGNoIChlY2wpIHtcbiAgICAgICAgY2FzZSBcIkxcIjpcbiAgICAgICAgICByZXR1cm4gUVJFcnJvckNvcnJlY3RMZXZlbC5MO1xuICAgICAgICAgIFxuICAgICAgICBjYXNlIFwiTVwiOlxuICAgICAgICAgIHJldHVybiBRUkVycm9yQ29ycmVjdExldmVsLk07XG4gICAgICAgICAgXG4gICAgICAgIGNhc2UgXCJRXCI6XG4gICAgICAgICAgcmV0dXJuIFFSRXJyb3JDb3JyZWN0TGV2ZWwuUTtcbiAgICAgICAgICBcbiAgICAgICAgY2FzZSBcIkhcIjpcbiAgICAgICAgICByZXR1cm4gUVJFcnJvckNvcnJlY3RMZXZlbC5IO1xuICAgICAgICAgIFxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVua253b24gZXJyb3IgY29ycmVjdGlvbiBsZXZlbDogXCIgKyBlY2wpO1xuICAgICAgfVxuICB9XG4gIFxuICAvL0dldCB0eXBlIG51bWJlclxuICBmdW5jdGlvbiBfZ2V0VHlwZU51bWJlcihjb250ZW50LCBlY2wpIHsgICAgICBcbiAgICB2YXIgbGVuZ3RoID0gX2dldFVURjhMZW5ndGgoY29udGVudCk7XG4gICAgXG4gICAgdmFyIHR5cGUgPSAxO1xuICAgIHZhciBsaW1pdCA9IDA7XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IFFSQ29kZUxpbWl0TGVuZ3RoLmxlbmd0aDsgaSA8PSBsZW47IGkrKykge1xuICAgICAgdmFyIHRhYmxlID0gUVJDb2RlTGltaXRMZW5ndGhbaV07XG4gICAgICBpZiAoIXRhYmxlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvbnRlbnQgdG9vIGxvbmc6IGV4cGVjdGVkIFwiICsgbGltaXQgKyBcIiBidXQgZ290IFwiICsgbGVuZ3RoKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgc3dpdGNoIChlY2wpIHtcbiAgICAgICAgY2FzZSBcIkxcIjpcbiAgICAgICAgICBsaW1pdCA9IHRhYmxlWzBdO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIFxuICAgICAgICBjYXNlIFwiTVwiOlxuICAgICAgICAgIGxpbWl0ID0gdGFibGVbMV07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgXG4gICAgICAgIGNhc2UgXCJRXCI6XG4gICAgICAgICAgbGltaXQgPSB0YWJsZVsyXTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgICBcbiAgICAgICAgY2FzZSBcIkhcIjpcbiAgICAgICAgICBsaW1pdCA9IHRhYmxlWzNdO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIFxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVua253b24gZXJyb3IgY29ycmVjdGlvbiBsZXZlbDogXCIgKyBlY2wpO1xuICAgICAgfVxuICAgICAgXG4gICAgICBpZiAobGVuZ3RoIDw9IGxpbWl0KSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgXG4gICAgICB0eXBlKys7XG4gICAgfVxuICAgIFxuICAgIGlmICh0eXBlID4gUVJDb2RlTGltaXRMZW5ndGgubGVuZ3RoKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb250ZW50IHRvbyBsb25nXCIpO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gdHlwZTtcbiAgfVxuXG4gIC8vR2V0cyB0ZXh0IGxlbmd0aFxuICBmdW5jdGlvbiBfZ2V0VVRGOExlbmd0aChjb250ZW50KSB7XG4gICAgdmFyIHJlc3VsdCA9IGVuY29kZVVSSShjb250ZW50KS50b1N0cmluZygpLnJlcGxhY2UoL1xcJVswLTlhLWZBLUZdezJ9L2csICdhJyk7XG4gICAgcmV0dXJuIHJlc3VsdC5sZW5ndGggKyAocmVzdWx0Lmxlbmd0aCAhPSBjb250ZW50ID8gMyA6IDApO1xuICB9XG4gIFxuICAvL0dlbmVyYXRlIFFSIENvZGUgbWF0cml4XG4gIHZhciBjb250ZW50ID0gdGhpcy5vcHRpb25zLmNvbnRlbnQ7XG4gIHZhciB0eXBlID0gX2dldFR5cGVOdW1iZXIoY29udGVudCwgdGhpcy5vcHRpb25zLmVjbCk7XG4gIHZhciBlY2wgPSBfZ2V0RXJyb3JDb3JyZWN0TGV2ZWwodGhpcy5vcHRpb25zLmVjbCk7XG4gIHRoaXMucXJjb2RlID0gbmV3IFFSQ29kZU1vZGVsKHR5cGUsIGVjbCk7XG4gIHRoaXMucXJjb2RlLmFkZERhdGEoY29udGVudCk7XG4gIHRoaXMucXJjb2RlLm1ha2UoKTtcbn1cblxuLyoqIEdlbmVyYXRlcyBRUiBDb2RlIGFzIFNWRyBpbWFnZSAqL1xuUVJDb2RlLnByb3RvdHlwZS5zdmcgPSBmdW5jdGlvbihvcHQpIHtcbiAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMgfHwgeyB9O1xuICB2YXIgbW9kdWxlcyA9IHRoaXMucXJjb2RlLm1vZHVsZXM7XG4gIFxuICBpZiAodHlwZW9mIG9wdCA9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgb3B0ID0geyBjb250YWluZXI6IG9wdGlvbnMuY29udGFpbmVyIHx8IFwic3ZnXCIgfTtcbiAgfVxuICBcbiAgLy9BcHBseSBuZXcgbGluZXMgYW5kIGluZGVudHMgaW4gU1ZHP1xuICB2YXIgcHJldHR5ID0gdHlwZW9mIG9wdGlvbnMucHJldHR5ICE9IFwidW5kZWZpbmVkXCIgPyAhIW9wdGlvbnMucHJldHR5IDogdHJ1ZTtcbiAgXG4gIHZhciBpbmRlbnQgPSBwcmV0dHkgPyAnICAnIDogJyc7XG4gIHZhciBFT0wgPSBwcmV0dHkgPyAnXFxyXFxuJyA6ICcnO1xuICB2YXIgd2lkdGggPSBvcHRpb25zLndpZHRoO1xuICB2YXIgaGVpZ2h0ID0gb3B0aW9ucy5oZWlnaHQ7XG4gIHZhciBsZW5ndGggPSBtb2R1bGVzLmxlbmd0aDtcbiAgdmFyIHhzaXplID0gd2lkdGggLyAobGVuZ3RoICsgMiAqIG9wdGlvbnMucGFkZGluZyk7XG4gIHZhciB5c2l6ZSA9IGhlaWdodCAvIChsZW5ndGggKyAyICogb3B0aW9ucy5wYWRkaW5nKTtcbiAgXG4gIC8vSm9pbiAodW5pb24sIG1lcmdlKSByZWN0YW5nbGVzIGludG8gb25lIHNoYXBlP1xuICB2YXIgam9pbiA9IHR5cGVvZiBvcHRpb25zLmpvaW4gIT0gXCJ1bmRlZmluZWRcIiA/ICEhb3B0aW9ucy5qb2luIDogZmFsc2U7XG4gIFxuICAvL1N3YXAgdGhlIFggYW5kIFkgbW9kdWxlcywgcHVsbCByZXF1ZXN0ICMyXG4gIHZhciBzd2FwID0gdHlwZW9mIG9wdGlvbnMuc3dhcCAhPSBcInVuZGVmaW5lZFwiID8gISFvcHRpb25zLnN3YXAgOiBmYWxzZTtcbiAgXG4gIC8vQXBwbHkgPD94bWwuLi4/PiBkZWNsYXJhdGlvbiBpbiBTVkc/XG4gIHZhciB4bWxEZWNsYXJhdGlvbiA9IHR5cGVvZiBvcHRpb25zLnhtbERlY2xhcmF0aW9uICE9IFwidW5kZWZpbmVkXCIgPyAhIW9wdGlvbnMueG1sRGVjbGFyYXRpb24gOiB0cnVlO1xuICBcbiAgLy9Qb3B1bGF0ZSB3aXRoIHByZWRlZmluZWQgc2hhcGUgaW5zdGVhZCBvZiBcInJlY3RcIiBlbGVtZW50cywgdGhhbmtzIHRvIEBra29jZGtvXG4gIHZhciBwcmVkZWZpbmVkID0gdHlwZW9mIG9wdGlvbnMucHJlZGVmaW5lZCAhPSBcInVuZGVmaW5lZFwiID8gISFvcHRpb25zLnByZWRlZmluZWQgOiBmYWxzZTtcbiAgdmFyIGRlZnMgPSBwcmVkZWZpbmVkID8gaW5kZW50ICsgJzxkZWZzPjxwYXRoIGlkPVwicXJtb2R1bGVcIiBkPVwiTTAgMCBoJyArIHlzaXplICsgJyB2JyArIHhzaXplICsgJyBIMCB6XCIgc3R5bGU9XCJmaWxsOicgKyBvcHRpb25zLmNvbG9yICsgJztzaGFwZS1yZW5kZXJpbmc6Y3Jpc3BFZGdlcztcIiAvPjwvZGVmcz4nICsgRU9MIDogJyc7XG4gIFxuICAvL0JhY2tncm91bmQgcmVjdGFuZ2xlXG4gIHZhciBiZ3JlY3QgPSBpbmRlbnQgKyAnPHJlY3QgeD1cIjBcIiB5PVwiMFwiIHdpZHRoPVwiJyArIHdpZHRoICsgJ1wiIGhlaWdodD1cIicgKyBoZWlnaHQgKyAnXCIgc3R5bGU9XCJmaWxsOicgKyBvcHRpb25zLmJhY2tncm91bmQgKyAnO3NoYXBlLXJlbmRlcmluZzpjcmlzcEVkZ2VzO1wiLz4nICsgRU9MO1xuICBcbiAgLy9SZWN0YW5nbGVzIHJlcHJlc2VudGluZyBtb2R1bGVzXG4gIHZhciBtb2RyZWN0ID0gJyc7XG4gIHZhciBwYXRoZGF0YSA9ICcnO1xuXG4gIGZvciAodmFyIHkgPSAwOyB5IDwgbGVuZ3RoOyB5KyspIHtcbiAgICBmb3IgKHZhciB4ID0gMDsgeCA8IGxlbmd0aDsgeCsrKSB7XG4gICAgICB2YXIgbW9kdWxlID0gbW9kdWxlc1t4XVt5XTtcbiAgICAgIGlmIChtb2R1bGUpIHtcbiAgICAgICAgXG4gICAgICAgIHZhciBweCA9ICh4ICogeHNpemUgKyBvcHRpb25zLnBhZGRpbmcgKiB4c2l6ZSk7XG4gICAgICAgIHZhciBweSA9ICh5ICogeXNpemUgKyBvcHRpb25zLnBhZGRpbmcgKiB5c2l6ZSk7XG4gICAgICAgIFxuICAgICAgICAvL1NvbWUgdXNlcnMgaGF2ZSBoYWQgaXNzdWVzIHdpdGggdGhlIFFSIENvZGUsIHRoYW5rcyB0byBAZGFuaW9zbyBmb3IgdGhlIHNvbHV0aW9uXG4gICAgICAgIGlmIChzd2FwKSB7XG4gICAgICAgICAgdmFyIHQgPSBweDtcbiAgICAgICAgICBweCA9IHB5O1xuICAgICAgICAgIHB5ID0gdDtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgaWYgKGpvaW4pIHtcbiAgICAgICAgICAvL01vZHVsZSBhcyBhIHBhcnQgb2Ygc3ZnIHBhdGggZGF0YSwgdGhhbmtzIHRvIEBkYW5pb3NvXG4gICAgICAgICAgdmFyIHcgPSB4c2l6ZSArIHB4XG4gICAgICAgICAgdmFyIGggPSB5c2l6ZSArIHB5XG5cbiAgICAgICAgICBweCA9IChOdW1iZXIuaXNJbnRlZ2VyKHB4KSk/IE51bWJlcihweCk6IHB4LnRvRml4ZWQoMik7XG4gICAgICAgICAgcHkgPSAoTnVtYmVyLmlzSW50ZWdlcihweSkpPyBOdW1iZXIocHkpOiBweS50b0ZpeGVkKDIpO1xuICAgICAgICAgIHcgPSAoTnVtYmVyLmlzSW50ZWdlcih3KSk/IE51bWJlcih3KTogdy50b0ZpeGVkKDIpO1xuICAgICAgICAgIGggPSAoTnVtYmVyLmlzSW50ZWdlcihoKSk/IE51bWJlcihoKTogaC50b0ZpeGVkKDIpO1xuXG4gICAgICAgICAgcGF0aGRhdGEgKz0gKCdNJyArIHB4ICsgJywnICsgcHkgKyAnIFYnICsgaCArICcgSCcgKyB3ICsgJyBWJyArIHB5ICsgJyBIJyArIHB4ICsgJyBaICcpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHByZWRlZmluZWQpIHtcbiAgICAgICAgICAvL01vZHVsZSBhcyBhIHByZWRlZmluZWQgc2hhcGUsIHRoYW5rcyB0byBAa2tvY2Rrb1xuICAgICAgICAgIG1vZHJlY3QgKz0gaW5kZW50ICsgJzx1c2UgeD1cIicgKyBweC50b1N0cmluZygpICsgJ1wiIHk9XCInICsgcHkudG9TdHJpbmcoKSArICdcIiBocmVmPVwiI3FybW9kdWxlXCIgLz4nICsgRU9MO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIC8vTW9kdWxlIGFzIHJlY3RhbmdsZSBlbGVtZW50XG4gICAgICAgICAgbW9kcmVjdCArPSBpbmRlbnQgKyAnPHJlY3QgeD1cIicgKyBweC50b1N0cmluZygpICsgJ1wiIHk9XCInICsgcHkudG9TdHJpbmcoKSArICdcIiB3aWR0aD1cIicgKyB4c2l6ZSArICdcIiBoZWlnaHQ9XCInICsgeXNpemUgKyAnXCIgc3R5bGU9XCJmaWxsOicgKyBvcHRpb25zLmNvbG9yICsgJztzaGFwZS1yZW5kZXJpbmc6Y3Jpc3BFZGdlcztcIi8+JyArIEVPTDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICBcbiAgaWYgKGpvaW4pIHtcbiAgICBtb2RyZWN0ID0gaW5kZW50ICsgJzxwYXRoIHg9XCIwXCIgeT1cIjBcIiBzdHlsZT1cImZpbGw6JyArIG9wdGlvbnMuY29sb3IgKyAnO3NoYXBlLXJlbmRlcmluZzpjcmlzcEVkZ2VzO1wiIGQ9XCInICsgcGF0aGRhdGEgKyAnXCIgLz4nO1xuICB9XG5cbiAgdmFyIHN2ZyA9IFwiXCI7XG4gIHN3aXRjaCAob3B0LmNvbnRhaW5lcikge1xuICAgIC8vV3JhcHBlZCBpbiBTVkcgZG9jdW1lbnRcbiAgICBjYXNlIFwic3ZnXCI6XG4gICAgICBpZiAoeG1sRGVjbGFyYXRpb24pIHtcbiAgICAgICAgc3ZnICs9ICc8P3htbCB2ZXJzaW9uPVwiMS4wXCIgc3RhbmRhbG9uZT1cInllc1wiPz4nICsgRU9MO1xuICAgICAgfVxuICAgICAgc3ZnICs9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB2ZXJzaW9uPVwiMS4xXCIgd2lkdGg9XCInICsgd2lkdGggKyAnXCIgaGVpZ2h0PVwiJyArIGhlaWdodCArICdcIj4nICsgRU9MO1xuICAgICAgc3ZnICs9IGRlZnMgKyBiZ3JlY3QgKyBtb2RyZWN0O1xuICAgICAgc3ZnICs9ICc8L3N2Zz4nO1xuICAgICAgYnJlYWs7XG4gICAgICBcbiAgICAvL1ZpZXdib3ggZm9yIHJlc3BvbnNpdmUgdXNlIGluIGEgYnJvd3NlciwgdGhhbmtzIHRvIEBkYW5pb3NvXG4gICAgY2FzZSBcInN2Zy12aWV3Ym94XCI6XG4gICAgICBpZiAoeG1sRGVjbGFyYXRpb24pIHtcbiAgICAgICAgc3ZnICs9ICc8P3htbCB2ZXJzaW9uPVwiMS4wXCIgc3RhbmRhbG9uZT1cInllc1wiPz4nICsgRU9MO1xuICAgICAgfVxuICAgICAgc3ZnICs9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB2ZXJzaW9uPVwiMS4xXCIgdmlld0JveD1cIjAgMCAnICsgd2lkdGggKyAnICcgKyBoZWlnaHQgKyAnXCI+JyArIEVPTDtcbiAgICAgIHN2ZyArPSBkZWZzICsgYmdyZWN0ICsgbW9kcmVjdDtcbiAgICAgIHN2ZyArPSAnPC9zdmc+JztcbiAgICAgIGJyZWFrO1xuICAgICAgXG4gICAgXG4gICAgLy9XcmFwcGVkIGluIGdyb3VwIGVsZW1lbnQgICAgXG4gICAgY2FzZSBcImdcIjpcbiAgICAgIHN2ZyArPSAnPGcgd2lkdGg9XCInICsgd2lkdGggKyAnXCIgaGVpZ2h0PVwiJyArIGhlaWdodCArICdcIj4nICsgRU9MO1xuICAgICAgc3ZnICs9IGRlZnMgKyBiZ3JlY3QgKyBtb2RyZWN0O1xuICAgICAgc3ZnICs9ICc8L2c+JztcbiAgICAgIGJyZWFrO1xuICAgICAgXG4gICAgLy9XaXRob3V0IGEgY29udGFpbmVyXG4gICAgZGVmYXVsdDpcbiAgICAgIHN2ZyArPSAoZGVmcyArIGJncmVjdCArIG1vZHJlY3QpLnJlcGxhY2UoL15cXHMrLywgXCJcIik7IC8vQ2xlYXIgaW5kZW50cyBvbiBlYWNoIGxpbmVcbiAgICAgIGJyZWFrO1xuICB9XG4gIFxuICByZXR1cm4gc3ZnO1xufTtcblxuLyoqIFdyaXRlcyBRUiBDb2RlIGltYWdlIHRvIGEgZmlsZSAqL1xuUVJDb2RlLnByb3RvdHlwZS5zYXZlID0gZnVuY3Rpb24oZmlsZSwgY2FsbGJhY2spIHtcbiAgdmFyIGRhdGEgPSB0aGlzLnN2ZygpO1xuICBpZiAodHlwZW9mIGNhbGxiYWNrICE9IFwiZnVuY3Rpb25cIikge1xuICAgIGNhbGxiYWNrID0gZnVuY3Rpb24oZXJyb3IsIHJlc3VsdCkgeyB9O1xuICB9XG4gIHRyeSB7XG4gICAgLy9QYWNrYWdlICdmcycgaXMgYXZhaWxhYmxlIGluIG5vZGUuanMgYnV0IG5vdCBpbiBhIHdlYiBicm93c2VyXG4gICAgdmFyIGZzID0gcmVxdWlyZSgnZnMnKTtcbiAgICBmcy53cml0ZUZpbGUoZmlsZSwgZGF0YSwgY2FsbGJhY2spO1xuICB9XG4gIGNhdGNoIChlKSB7XG4gICAgLy9Tb3JyeSwgJ2ZzJyBpcyBub3QgYXZhaWxhYmxlXG4gICAgY2FsbGJhY2soZSk7XG4gIH1cbn07XG5cbmlmICh0eXBlb2YgbW9kdWxlICE9IFwidW5kZWZpbmVkXCIpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSBRUkNvZGU7XG59XG4iLCI8c2NyaXB0IGxhbmc9XCJ0c1wiPlxuXHRpbXBvcnQgU1hfSUNPTl9DT1BZIGZyb20gJyMvaWNvbi9jb3B5LnN2Zz9yYXcnO1xuXG5cdGV4cG9ydCBsZXQga2V5OiBzdHJpbmc7XG5cdGNvbnN0IHNpX2tleSA9IGtleTtcblxuXHRleHBvcnQgbGV0IGFkZHJlc3MgPSBmYWxzZTtcblx0Y29uc3QgYl9hZGRyZXNzID0gYWRkcmVzcztcblxuXHRleHBvcnQgbGV0IGNlbnRlciA9IGJfYWRkcmVzcztcblx0Y29uc3QgYl9jZW50ZXIgPSBjZW50ZXI7XG5cblx0ZXhwb3J0IGxldCBjb3B5YWJsZSA9IGZhbHNlO1xuXHRjb25zdCBiX2NvcHlhYmxlID0gY29weWFibGU7XG48L3NjcmlwdD5cblxuPHN0eWxlIGxhbmc9XCJsZXNzXCI+XG5cdC5pbmZvIHtcblx0XHQtLWljb24tZGlhbWV0ZXI6IDI0cHg7XG5cblx0XHR3aGl0ZS1zcGFjZTogbm93cmFwO1xuXHRcdGhlaWdodDogdmFyKC0tdWktcm93LWhlaWdodCk7XG5cdFx0Ym94LXNpemluZzogYm9yZGVyLWJveDtcblx0XHRwYWRkaW5nOiB2YXIoLS11aS1wYWRkaW5nKSAxMnB4O1xuXG5cdFx0Ym9yZGVyOiAxcHggZGFzaGVkIHZhcigtLXRoZW1lLWNvbG9yLWJvcmRlcik7XG5cdFx0Ym9yZGVyLXJhZGl1czogdmFyKC0tdWktYm9yZGVyLXJhZGl1cyk7XG5cblx0XHRkaXNwbGF5OiBmbGV4O1xuXHRcdGFsaWduLWl0ZW1zOiBjZW50ZXI7XG5cblx0XHQmLmNvcHlhYmxlIHtcblx0XHRcdGN1cnNvcjogY29weTtcblx0XHR9XG5cblx0XHQ+KiB7XG5cdFx0XHRmbGV4OiB2YXIoLS1mbGV4LCAwKTtcblx0XHR9XG5cblx0XHQuaW5mby12YWx1ZSB7XG5cdFx0XHR3aWR0aDogMTAwJTtcblx0XHRcdGRpc3BsYXk6IGZsZXg7XG5cblx0XHRcdD4uYWRkcmVzcyB7XG5cdFx0XHRcdDpnbG9iYWwoJikge1xuXHRcdFx0XHRcdHdpZHRoOiBjYWxjKDEwMCUgLSAxY2gpICFpbXBvcnRhbnQ7XG5cdFx0XHRcdFx0Y29sb3I6IHZhcigtLXRoZW1lLWNvbG9yLXRleHQtbGlnaHQpICFpbXBvcnRhbnQ7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHQuaWNvbiB7XG5cdFx0XHQtLWljb24tZGlhbWV0ZXI6IHZhcigtLWljb24tZGlhbWV0ZXIpO1xuXHRcdFx0LS1pY29uLWNvbG9yOiB2YXIoLS10aGVtZS1jb2xvci1wcmltYXJ5KTtcblx0XHRcdGRpc3BsYXk6IGlubGluZS1mbGV4O1xuXHRcdH1cblx0fVxuPC9zdHlsZT5cblxuPGRpdiBjbGFzcz1cImluZm9cIiBjbGFzczpjb3B5YWJsZT17Yl9jb3B5YWJsZX0gY2xhc3M6Y2VudGVyPXtiX2NlbnRlcn0+XG5cdDxzcGFuIGlkPXtzaV9rZXl9IGNsYXNzPVwiaW5mby12YWx1ZVwiPlxuXHRcdDxzbG90Pjwvc2xvdD5cblx0PC9zcGFuPlxuXHR7I2lmIGJfY29weWFibGV9XG5cdFx0PHNwYW4gY2xhc3M9XCJpY29uXCI+XG5cdFx0XHR7QGh0bWwgU1hfSUNPTl9DT1BZfVxuXHRcdDwvc3Bhbj5cblx0ey9pZn1cbjwvZGl2PlxuIiwiPHNjcmlwdCBsYW5nPVwidHNcIj5cblx0aW1wb3J0IFFSQ29kZSBmcm9tICdxcmNvZGUtc3ZnJztcblx0XG5cdGltcG9ydCB7eXdfcG9wdXAsIHl3X2NvbnRleHRfcG9wdXAsIHl3X2FjY291bnRfcmVmLCB5d19jaGFpbl9yZWZ9IGZyb20gJy4uL21lbSc7XG5cblx0aW1wb3J0IEZpZWxkIGZyb20gJy4vRmllbGQuc3ZlbHRlJztcblx0aW1wb3J0IEluZm8gZnJvbSAnLi9JbmZvLnN2ZWx0ZSc7XG5cdGltcG9ydCBBZGRyZXNzIGZyb20gJy4vQWRkcmVzcy5zdmVsdGUnO1xuXHRpbXBvcnQgQ2xvc2UgZnJvbSAnLi9DbG9zZS5zdmVsdGUnO1xuXHRpbXBvcnQgU3RhclNlbGVjdCwge1NlbGVjdE9wdGlvbn0gZnJvbSAnLi9TdGFyU2VsZWN0LnN2ZWx0ZSc7XG5cdGltcG9ydCB7Q2hhaW5zfSBmcm9tICcjL3N0b3JlL2NoYWlucyc7XG5cdGltcG9ydCB7b2RlLCBvZGVyYWMsIG9mZX0gZnJvbSAnIy91dGlsL2JlbHQnO1xuXHRpbXBvcnQgdHlwZSB7Q2hhaW4sIENoYWluUGF0aH0gZnJvbSAnIy9tZXRhL2NoYWluJztcblx0aW1wb3J0IHtBY2NvdW50c30gZnJvbSAnIy9zdG9yZS9hY2NvdW50cyc7XG5cdGltcG9ydCB0eXBlIHtBY2NvdW50LCBBY2NvdW50UGF0aH0gZnJvbSAnIy9tZXRhL2FjY291bnQnO1xuXHRpbXBvcnQgdHlwZSB7IFBmcFBhdGggfSBmcm9tICcjL21ldGEvcGZwJztcblx0aW1wb3J0IFBmcERpc3BsYXkgZnJvbSAnLi9QZnBEaXNwbGF5LnN2ZWx0ZSc7XG5cdGltcG9ydCB7IGRkIH0gZnJvbSAnIy91dGlsL2RvbSc7XG5cdGltcG9ydCB0eXBlIHsgUmVzb3VyY2UgfSBmcm9tICcjL21ldGEvcmVzb3VyY2UnO1xuXHRpbXBvcnQgdHlwZSB7IE5hbWVhYmxlLCBQZnBhYmxlIH0gZnJvbSAnIy9tZXRhL2FibGUnO1xuXG5cdC8vIHNlbGVjdGVkIGFjY291bnRcblx0bGV0IGdfb3B0aW9uX3NlbGVjdGVkX2FjY291bnQ6IFBpY2s8U2VsZWN0T3B0aW9uPEFjY291bnRQYXRoPiwgJ3ZhbHVlJz4gPSB7dmFsdWU6JHl3X2FjY291bnRfcmVmfTtcblx0JDogcF9hY2NvdW50X3NlbGVjdGVkID0gZ19vcHRpb25fc2VsZWN0ZWRfYWNjb3VudC52YWx1ZTtcblxuXHQvLyByZWFjdGl2ZWx5IHVwZGF0ZSBhY2NvdW50XG5cdGxldCBnX2FjY291bnRfc2VsZWN0ZWQ6IEFjY291bnRbJ2ludGVyZmFjZSddO1xuXHQkOiB7XG5cdFx0aWYocF9hY2NvdW50X3NlbGVjdGVkKSB7XG5cdFx0XHR2b2lkIEFjY291bnRzLnJlYWQoKS50aGVuKChrc19hY2NvdW50cykgPT4ge1xuXHRcdFx0XHRnX2FjY291bnRfc2VsZWN0ZWQgPSBrc19hY2NvdW50cy5hdChwX2FjY291bnRfc2VsZWN0ZWQgYXMgQWNjb3VudFBhdGgpITtcblx0XHRcdH0pO1xuXHRcdH1cblx0fVxuXG5cdC8vIGNvbnZlcnQgYW4gYWNjb3VudCBwYXRoK2ludGVyZmFjZSB0byBhIHNlbGVjdCBvcHRpb25cblx0Y29uc3QgYWNjb3VudF90b19vcHRpb24gPSAocF9hY2NvdW50OiBBY2NvdW50UGF0aCwgZ19hY2NvdW50OiBBY2NvdW50WydpbnRlcmZhY2UnXSk6IFNlbGVjdE9wdGlvbjxBY2NvdW50UGF0aD4gPT4gKHtcblx0XHRvYmplY3Q6IGdfYWNjb3VudCxcblx0XHR2YWx1ZTogcF9hY2NvdW50LFxuXHRcdHByaW1hcnk6IGdfYWNjb3VudC5uYW1lLFxuXHRcdHNlY29uZGFyeTogJ0ZJQVQgQU1PVU5UIEhFUkUnLFxuXHR9KTtcblxuXHQvLyBwcmVwIGFjY291bnQgcGZwc1xuXHRsZXQgaF9wZnBzX2FjY291bnQ6IFJlY29yZDxQZnBQYXRoLCBIVE1MRWxlbWVudD4gPSB7fTtcblxuXHQvLyBsb2FkcyBhY2NvdW50IGZyb20gc3RvcmUgYW5kIHByb2R1Y2VzIGxpc3Qgb2Ygc2VsZWN0IG9wdGlvbnNcblx0YXN5bmMgZnVuY3Rpb24gbG9hZF9hY2NvdW50X29wdGlvbnMoKTogUHJvbWlzZTxTZWxlY3RPcHRpb248QWNjb3VudFBhdGg+W10+IHtcblx0XHQvLyBsb2FkIGFjY291bnRzIHN0b3JlXG5cdFx0Y29uc3Qga3NfYWNjb3VudHMgPSBhd2FpdCBBY2NvdW50cy5yZWFkKCk7XG5cblx0XHQvLyBhc3luY2hyb25vdXNseSBsb2FkIGFsbCBwZnBzXG5cdFx0aF9wZnBzX2FjY291bnQgPSBvZmUoXG5cdFx0XHRhd2FpdCBQcm9taXNlLmFsbChcblx0XHRcdFx0b2RlKGtzX2FjY291bnRzLnJhdykubWFwKChbXywgZ19hY2NvdW50XSkgPT4gbmV3IFByb21pc2UoXG5cdFx0XHRcdFx0KGZrX3Jlc29sdmU6IChhX2VudHJ5OiBbUGZwUGF0aCwgSFRNTEVsZW1lbnRdKSA9PiB2b2lkKSA9PiB7XG5cdFx0XHRcdFx0XHRjb25zdCBkbV9kdW1teSA9IGRkKCdzcGFuJyk7XG5cdFx0XHRcdFx0XHRjb25zdCB5Y19wZnAgPSBuZXcgUGZwRGlzcGxheSh7XG5cdFx0XHRcdFx0XHRcdHRhcmdldDogZG1fZHVtbXksXG5cdFx0XHRcdFx0XHRcdHByb3BzOiB7XG5cdFx0XHRcdFx0XHRcdFx0ZGltOiAyOCxcblx0XHRcdFx0XHRcdFx0XHRnZW5TdHlsZTogJ2ZvbnQtc2l6ZTogMThweDsnLFxuXHRcdFx0XHRcdFx0XHRcdHJlc291cmNlOiBnX2FjY291bnQsXG5cdFx0XHRcdFx0XHRcdFx0c2V0dGxlKCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0Y29uc3QgZG1fcGZwID0gZG1fZHVtbXkuZmlyc3RDaGlsZD8uY2xvbmVOb2RlKHRydWUpIGFzIEhUTUxFbGVtZW50O1xuXHRcdFx0XHRcdFx0XHRcdFx0eWNfcGZwLiRkZXN0cm95KCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRma19yZXNvbHZlKFtnX2FjY291bnQucGZwLCBkbV9wZnBdKTtcblx0XHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHQpKVxuXHRcdFx0KSk7XG5cblx0XHQvLyBjb252ZXJ0IGNoYWluIGRpY3QgdG8gbGlzdCBvZiBzZWxlY3Qgb3B0aW9uc1xuXHRcdHJldHVybiBvZGVyYWMoa3NfYWNjb3VudHMucmF3LCBhY2NvdW50X3RvX29wdGlvbik7XG5cdH1cblxuXHQvLyBzZWxlY3RlZCBjaGFpblxuXHRsZXQgZ19vcHRpb25fc2VsZWN0ZWRfY2hhaW46IFBpY2s8U2VsZWN0T3B0aW9uPENoYWluUGF0aD4sICd2YWx1ZSc+ID0ge3ZhbHVlOiR5d19jaGFpbl9yZWZ9O1xuXHQkOiBwX2NoYWluX3NlbGVjdGVkID0gZ19vcHRpb25fc2VsZWN0ZWRfY2hhaW4udmFsdWU7XG5cblx0Ly8gcmVhY3RpdmVseSB1cGRhdGUgc2VsZWN0ZWQgY2hhaW5cblx0bGV0IGdfY2hhaW5fc2VsZWN0ZWQ6IENoYWluWydpbnRlcmZhY2UnXTtcblx0JDoge1xuXHRcdGlmKHBfY2hhaW5fc2VsZWN0ZWQpIHtcblx0XHRcdHZvaWQgQ2hhaW5zLnJlYWQoKS50aGVuKChrc19jaGFpbnMpID0+IHtcblx0XHRcdFx0Z19jaGFpbl9zZWxlY3RlZCA9IGtzX2NoYWlucy5hdChwX2NoYWluX3NlbGVjdGVkIGFzIENoYWluUGF0aCkhO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHR9XG5cblx0Ly8gY29udmVydCBhIGNoYWluIHBhdGgraW50ZXJmYWNlIHRvIGEgc2VsZWN0IG9wdGlvblxuXHRjb25zdCBjaGFpbl90b19vcHRpb24gPSAocF9jaGFpbjogQ2hhaW5QYXRoLCBnX2NoYWluOiBDaGFpblsnaW50ZXJmYWNlJ10pID0+ICh7XG5cdFx0b2JqZWN0OiBnX2NoYWluLFxuXHRcdHZhbHVlOiBwX2NoYWluLFxuXHRcdHByaW1hcnk6IGdfY2hhaW4ubmFtZSxcblx0XHRzZWNvbmRhcnk6IGdfY2hhaW4uaWQsXG5cdFx0cGZwOiBnX2NoYWluLnBmcCxcblx0fSk7XG5cblx0Ly8gcHJlcCBjaGFpbiBwZnBzXG5cdGxldCBoX3BmcHNfY2hhaW46IFJlY29yZDxDaGFpblBhdGgsIEhUTUxFbGVtZW50PiA9IHt9O1xuXG5cdC8vIGxvYWRzIGNoYWluIGZyb20gc3RvcmUgYW5kIHByb2R1Y2VzIGxpc3Qgb2Ygc2VsZWN0IG9wdGlvbnNcblx0YXN5bmMgZnVuY3Rpb24gbG9hZF9jaGFpbl9vcHRpb25zKCk6IFByb21pc2U8U2VsZWN0T3B0aW9uW10+IHtcblx0XHQvLyBsb2FkIGNoYWlucyBzdG9yZVxuXHRcdGNvbnN0IGtzX2NoYWlucyA9IGF3YWl0IENoYWlucy5yZWFkKCk7XG5cblx0XHQvLyBhc3luY2hyb25vdXNseSBsb2FkIGFsbCBwZnBzXG5cdFx0aF9wZnBzX2NoYWluID0gYXdhaXQgbG9hZF9wZnBzKGtzX2NoYWlucy5yYXcpO1xuXG5cdFx0Ly8gY29udmVydCBjaGFpbiBkaWN0IHRvIGxpc3Qgb2Ygc2VsZWN0IG9wdGlvbnNcblx0XHRyZXR1cm4gb2RlcmFjKGtzX2NoYWlucy5yYXcsIGNoYWluX3RvX29wdGlvbik7XG5cdH1cblx0XG5cdFxuXHQvLyBubyBjb250ZXh0IHdhcyBwcm92aWRlZCwgZGVmYXVsdCB0byBjdXJyZW50IGFjY291bnRcblx0aWYoISR5d19jb250ZXh0X3BvcHVwPy5hY2NvdW50KSB7XG5cdFx0JHl3X2NvbnRleHRfcG9wdXAgPSB7YWNjb3VudDokeXdfYWNjb3VudF9yZWZ9O1xuXHR9XG5cblxuXHQvLyByZWFjdGl2ZWx5IGdlbmVyYXRlIHFyY29kZVxuXHRsZXQgZG1fcXI6IEhUTUxFbGVtZW50O1xuXHQkOiB7XG5cdFx0aWYoZG1fcXIgJiYgZ19hY2NvdW50X3NlbGVjdGVkICYmIGdfY2hhaW5fc2VsZWN0ZWQpIHtcblx0XHRcdGNvbnN0IHlfcXJjb2RlID0gbmV3IFFSQ29kZSh7XG5cdFx0XHRcdGNvbnRlbnQ6IGBzdGFyc2hlbGw6JHtDaGFpbnMuYWRkcmVzc0ZvcihnX2FjY291bnRfc2VsZWN0ZWQucHVia2V5LCBnX2NoYWluX3NlbGVjdGVkKSB8fCAnJ31gLFxuXHRcdFx0XHR3aWR0aDogMjQwLFxuXHRcdFx0XHRoZWlnaHQ6IDI0MCxcblx0XHRcdFx0cGFkZGluZzogMyxcblx0XHRcdFx0ZWNsOiAnSCcsXG5cdFx0XHRcdGpvaW46IHRydWUsXG5cdFx0XHR9KS5zdmcoKTtcblxuXHRcdFx0ZG1fcXIuaW5uZXJIVE1MID0geV9xcmNvZGU7XG5cdFx0fVxuXHR9XG5cblx0YXN5bmMgZnVuY3Rpb24gbG9hZF9wZnBzPFxuXHRcdHBfcmVzIGV4dGVuZHMgUmVzb3VyY2UuUGF0aCxcblx0XHRnX3JlcyBleHRlbmRzIChOYW1lYWJsZSAmIFBmcGFibGUpLFxuXHQ+KGhfcmVzb3VyY2VzOiBSZWNvcmQ8cF9yZXMsIGdfcmVzPik6IFByb21pc2U8UmVjb3JkPHBfcmVzLCBIVE1MRWxlbWVudD4+IHtcblx0XHRyZXR1cm4gb2ZlKFxuXHRcdFx0YXdhaXQgUHJvbWlzZS5hbGwoXG5cdFx0XHRcdG9kZShoX3Jlc291cmNlcykubWFwKChbXywgZ19yZXNvdXJjZV0pID0+IG5ldyBQcm9taXNlKFxuXHRcdFx0XHRcdChma19yZXNvbHZlOiAoYV9lbnRyeTogW3BfcmVzLCBIVE1MRWxlbWVudF0pID0+IHZvaWQpID0+IHtcblx0XHRcdFx0XHRcdGNvbnN0IGRtX2R1bW15ID0gZGQoJ3NwYW4nKTtcblx0XHRcdFx0XHRcdGNvbnN0IHljX3BmcCA9IG5ldyBQZnBEaXNwbGF5KHtcblx0XHRcdFx0XHRcdFx0dGFyZ2V0OiBkbV9kdW1teSxcblx0XHRcdFx0XHRcdFx0cHJvcHM6IHtcblx0XHRcdFx0XHRcdFx0XHRkaW06IDI4LFxuXHRcdFx0XHRcdFx0XHRcdGdlblN0eWxlOiAnZm9udC1zaXplOiAxOHB4OycsXG5cdFx0XHRcdFx0XHRcdFx0cmVzb3VyY2U6IGdfcmVzb3VyY2UsXG5cdFx0XHRcdFx0XHRcdFx0c2V0dGxlKCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0Y29uc3QgZG1fcGZwID0gZG1fZHVtbXkuZmlyc3RDaGlsZD8uY2xvbmVOb2RlKHRydWUpIGFzIEhUTUxFbGVtZW50O1xuXHRcdFx0XHRcdFx0XHRcdFx0eWNfcGZwLiRkZXN0cm95KCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRma19yZXNvbHZlKFtnX3Jlc291cmNlLnBmcCBhcyBwX3JlcywgZG1fcGZwXSk7XG5cdFx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0KSlcblx0XHRcdCkpO1xuXHR9XG48L3NjcmlwdD5cblxuPHN0eWxlIGxhbmc9XCJsZXNzXCI+XG5cdEBpbXBvcnQgJy4vX2Jhc2UubGVzcyc7XG5cblx0LnFyLWNvZGUge1xuXHRcdGZsZXgtc2hyaW5rOiAwO1xuXHRcdHdpZHRoOiAyNDBweDtcblx0XHRoZWlnaHQ6IDI0MHB4O1xuXHRcdGJvcmRlci1yYWRpdXM6IDhweDtcblx0XHRvdmVyZmxvdzogaGlkZGVuO1xuXHRcdHRleHQtYWxpZ246IGNlbnRlcjtcblx0XHRtYXJnaW4tbGVmdDogYXV0bztcblx0XHRtYXJnaW4tcmlnaHQ6IGF1dG87XG5cdH1cblxuXHQuaW5mbyB7XG5cdFx0LmZvbnQocmVndWxhcik7XG5cdFx0dGV4dC1hbGlnbjogY2VudGVyO1xuXHR9XG48L3N0eWxlPlxuXG5cbjxoMz5cblx0UmVjZWl2ZVxuPC9oMz5cblxuPENsb3NlIGFic29sdXRlIC0tbWFyZ2luPSc1cHgnIG9uOmNsaWNrPXsoKSA9PiAkeXdfcG9wdXAgPSBudWxsfSAvPlxuXG48RmllbGQgc2hvcnRcblx0a2V5PVwiY2hhaW4tc2VsZWN0XCJcblx0bmFtZT1cIkNoYWluXCJcbj5cblx0eyNhd2FpdCBsb2FkX2NoYWluX29wdGlvbnMoKX1cblx0XHRMb2FkaW5nIGNoYWlucy4uLlxuXHR7OnRoZW4gYV9jaGFpbnNfc2VsZWN0fVxuXHRcdDxTdGFyU2VsZWN0IGlkPVwiY2hhaW4tc2VsZWN0XCJcblx0XHRcdHBmcE1hcD17aF9wZnBzX2NoYWlufVxuXHRcdFx0cGxhY2Vob2xkZXI9XCJTZWxlY3QgY2hhaW5cIlxuXHRcdFx0aXRlbXM9e2FfY2hhaW5zX3NlbGVjdH1cblx0XHRcdGJpbmQ6dmFsdWU9e2dfb3B0aW9uX3NlbGVjdGVkX2NoYWlufVxuXHRcdC8+XG5cdHsvYXdhaXR9XG48L0ZpZWxkPlxuXG48RmllbGQgc2hvcnRcblx0a2V5PVwiYWNjb3VudC1zZWxlY3RcIlxuXHRuYW1lPVwiQWNjb3VudFwiXG4+XG5cdHsjYXdhaXQgbG9hZF9hY2NvdW50X29wdGlvbnMoKX1cblx0XHRMb2FkaW5nIEFjY291bnRzLi4uXG5cdHs6dGhlbiBhX2FjY291bnRzX3NlbGVjdH1cblx0XHQ8U3RhclNlbGVjdCBpZD1cImFjY291bnQtc2VsZWN0XCJcblx0XHRcdHBmcE1hcD17aF9wZnBzX2FjY291bnR9XG5cdFx0XHRwbGFjZWhvbGRlcj1cIlNlbGVjdCBhY2NvdW50XCJcblx0XHRcdHNlY29uZGFyeUNsYXNzPSdiYWxhbmNlJ1xuXHRcdFx0aXRlbXM9e2FfYWNjb3VudHNfc2VsZWN0fVxuXHRcdFx0YmluZDp2YWx1ZT17Z19vcHRpb25fc2VsZWN0ZWRfYWNjb3VudH1cblx0XHQvPlxuXHR7L2F3YWl0fVxuPC9GaWVsZD5cblxuPEluZm8gYWRkcmVzcyBrZXk9XCJyZWNlaXZlLWFkZHJlc3NcIj5cblx0eyNpZiBnX2FjY291bnRfc2VsZWN0ZWQgJiYgZ19jaGFpbl9zZWxlY3RlZH1cblx0XHQ8QWRkcmVzcyBjb3B5YWJsZSBhZGRyZXNzPXtDaGFpbnMuYWRkcmVzc0ZvcihnX2FjY291bnRfc2VsZWN0ZWQ/LnB1YmtleSwgZ19jaGFpbl9zZWxlY3RlZCkgfHwgJyd9IC8+XG5cdHsvaWZ9XG48L0luZm8+XG5cblxuPGRpdiBjbGFzcz1cInFyLWNvZGVcIiBiaW5kOnRoaXM9e2RtX3FyfSAvPlxuXG48ZGl2IGNsYXNzPVwiaW5mb1wiPlxuXHRTY2FuIFFSIGNvZGUgdG8gcmVjZWl2ZSB0byB0aGlzIGFkZHJlc3NcbjwvZGl2PiIsImltcG9ydCB0eXBlIHsgUmVwbGFjZSB9IGZyb20gJ3RzLXRvb2xiZWx0L291dC9TdHJpbmcvUmVwbGFjZSc7XG5pbXBvcnQgdHlwZSB7IEFwcCwgQXBwU2NoZW1lS2V5IH0gZnJvbSAnIy9tZXRhL2FwcCc7XG5pbXBvcnQgdHlwZSB7IFJlc291cmNlIH0gZnJvbSAnIy9tZXRhL3Jlc291cmNlJztcblxuaW1wb3J0IHtcblx0Y3JlYXRlX3N0b3JlX2NsYXNzLFxuXHRXcml0YWJsZVN0b3JlTWFwLFxufSBmcm9tICcuL19iYXNlJztcblxuaW1wb3J0IHsgU0lfU1RPUkVfQVBQUyB9IGZyb20gJyMvc2hhcmUvY29uc3RhbnRzJztcblxuZXhwb3J0IGNvbnN0IEFwcHMgPSBjcmVhdGVfc3RvcmVfY2xhc3Moe1xuXHRzdG9yZTogU0lfU1RPUkVfQVBQUyxcblx0Y2xhc3M6IGNsYXNzIEFwcHNJIGV4dGVuZHMgV3JpdGFibGVTdG9yZU1hcDx0eXBlb2YgU0lfU1RPUkVfQVBQUz4ge1xuXHRcdHN0YXRpYyBwYXRoRm9yPFxuXHRcdFx0c19ob3N0IGV4dGVuZHMgc3RyaW5nLFxuXHRcdFx0c19zY2hlbWUgZXh0ZW5kcyBBcHBTY2hlbWVLZXksXG5cdFx0XHRnX2FwcCBleHRlbmRzIEFwcDxSZXBsYWNlPHNfaG9zdCwgJzonLCAnKyc+LCBzX3NjaGVtZT4sXG5cdFx0PihzX2hvc3Q6IHNfaG9zdCwgc19zY2hlbWU6IHNfc2NoZW1lKTogUmVzb3VyY2UuUGF0aDxnX2FwcD4ge1xuXHRcdFx0cmV0dXJuIGAvc2NoZW1lLiR7c19zY2hlbWV9L2hvc3QuJHtzX2hvc3QucmVwbGFjZSgvOi9nLCAnKycpfWAgYXMgUmVzb3VyY2UuUGF0aDxnX2FwcD47XG5cdFx0fVxuXG5cdFx0c3RhdGljIHBhdGhGcm9tPFxuXHRcdFx0Z19hcHAgZXh0ZW5kcyBBcHAsXG5cdFx0PihnX2FwcDogQXBwWydpbnRlcmZhY2UnXSk6IFJlc291cmNlLlBhdGg8Z19hcHA+IHtcblx0XHRcdHJldHVybiBBcHBzSS5wYXRoRm9yKGdfYXBwLmhvc3QsIGdfYXBwLnNjaGVtZSk7XG5cdFx0fVxuXG5cdFx0c3RhdGljIGdldChzX2hvc3Q6IHN0cmluZywgc19zY2hlbWU6IEFwcFNjaGVtZUtleSk6IFByb21pc2U8bnVsbCB8IEFwcFsnaW50ZXJmYWNlJ10+IHtcblx0XHRcdHJldHVybiBBcHBzLm9wZW4oa3NfYXBwcyA9PiBrc19hcHBzLmdldChzX2hvc3QsIHNfc2NoZW1lKSk7XG5cdFx0fVxuXG5cdFx0Z2V0KHNfaG9zdDogc3RyaW5nLCBzX3NjaGVtZTogQXBwU2NoZW1lS2V5KTogQXBwWydpbnRlcmZhY2UnXSB8IG51bGwge1xuXHRcdFx0Ly8gcHJlcGFyZSBhcHAgcGF0aFxuXHRcdFx0Y29uc3QgcF9hcHAgPSBBcHBzSS5wYXRoRm9yKHNfaG9zdCwgc19zY2hlbWUpO1xuXG5cdFx0XHQvLyBmZXRjaFxuXHRcdFx0cmV0dXJuIHRoaXMuX3dfY2FjaGVbcF9hcHBdID8/IG51bGw7XG5cdFx0fVxuXG5cblx0XHRhc3luYyBwdXQoZ19hcHA6IEFwcFsnaW50ZXJmYWNlJ10pOiBQcm9taXNlPHZvaWQ+IHtcblx0XHRcdC8vIHByZXBhcmUgYXBwIHBhdGhcblx0XHRcdGNvbnN0IHBfYXBwID0gQXBwc0kucGF0aEZvcihnX2FwcC5ob3N0LCBnX2FwcC5zY2hlbWUpO1xuXG5cdFx0XHQvLyB1cGRhdGUgY2FjaGVcblx0XHRcdHRoaXMuX3dfY2FjaGVbcF9hcHBdID0gZ19hcHA7XG5cblx0XHRcdC8vIGF0dGVtcHQgdG8gc2F2ZVxuXHRcdFx0YXdhaXQgdGhpcy5zYXZlKCk7XG5cdFx0fVxuXHR9LFxufSk7XG5cbiIsImltcG9ydCB7IENvc21vc05ldHdvcmsgfSBmcm9tICcjL2NoYWluL21haW4nO1xuaW1wb3J0IHR5cGUgeyBBY2NvdW50LCBBY2NvdW50UGF0aCB9IGZyb20gJyMvbWV0YS9hY2NvdW50JztcbmltcG9ydCB0eXBlIHsgUGxhaW5PYmplY3QgfSBmcm9tICcjL21ldGEvYmVsdCc7XG5pbXBvcnQgeyBCZWNoMzIsIENoYWluLCBDaGFpblBhdGgsIEZhbWlseUtleSB9IGZyb20gJyMvbWV0YS9jaGFpbic7XG5pbXBvcnQgeyBOZXR3b3JrLCBOZXR3b3JrUGF0aCB9IGZyb20gJyMvbWV0YS9uZXR3b3JrJztcbmltcG9ydCB0eXBlIHsgUmVzb3VyY2UgfSBmcm9tICcjL21ldGEvcmVzb3VyY2UnO1xuaW1wb3J0IHR5cGUgeyBTdG9yZSwgU3RvcmVLZXkgfSBmcm9tICcjL21ldGEvc3RvcmUnO1xuaW1wb3J0IHR5cGUgeyBQYXJhbWV0cmljU3ZlbHRlQ29uc3RydWN0b3IgfSBmcm9tICcjL21ldGEvc3ZlbHRlJztcbmltcG9ydCB0eXBlIHsgVG9rZW4gfSBmcm9tICcjL21ldGEvdG9rZW4nO1xuaW1wb3J0IHsgZ2xvYmFsX3JlY2VpdmUgfSBmcm9tICcjL3NjcmlwdC9tc2ctZ2xvYmFsJztcbmltcG9ydCB7IFNJX1NUT1JFX01FRElBLCBTSV9TVE9SRV9UQUdTIH0gZnJvbSAnIy9zaGFyZS9jb25zdGFudHMnO1xuaW1wb3J0IHsgQWNjb3VudHMgfSBmcm9tICcjL3N0b3JlL2FjY291bnRzJztcbmltcG9ydCB7IENoYWlucyB9IGZyb20gJyMvc3RvcmUvY2hhaW5zJztcbmltcG9ydCB7IE1lZGlhcyB9IGZyb20gJyMvc3RvcmUvbWVkaWFzJztcbmltcG9ydCB7IEFjdGl2ZU5ldHdvcmssIE5ldHdvcmtzIH0gZnJvbSAnIy9zdG9yZS9uZXR3b3Jrcyc7XG5pbXBvcnQgeyBUYWdzIH0gZnJvbSAnIy9zdG9yZS90YWdzJztcbmltcG9ydCB0eXBlIHsgSF9TVE9SRV9SRUdJU1RSWSwgU3RvcmVSZWdpc3RyeSB9IGZyb20gJyMvc3RvcmUvX3JlZ2lzdHJ5JztcbmltcG9ydCB7IERpY3QsIEZfTk9PUCwgUHJvbWlzYWJsZSB9IGZyb20gJyMvdXRpbC9iZWx0JztcbmltcG9ydCB0eXBlIHsgU3ZlbHRlQ29tcG9uZW50LCBTdmVsdGVDb21wb25lbnRUeXBlZCB9IGZyb20gJ3N2ZWx0ZSc7XG5pbXBvcnQge1xuXHRkZXJpdmVkLFxuXHRTdWJzY3JpYmVyLFxuXHRVbnN1YnNjcmliZXIsXG5cdFVwZGF0ZXIsXG5cdHdyaXRhYmxlLFxuXHR0eXBlIFJlYWRhYmxlLFxuXHR0eXBlIFdyaXRhYmxlLFxufSBmcm9tICdzdmVsdGUvc3RvcmUnO1xuaW1wb3J0IHsgVGhyZWFkSWQgfSBmcm9tICcuL2RlZic7XG5pbXBvcnQgdHlwZSB7IE5hdmlnYXRvciB9IGZyb20gJy4vbmF2L25hdmlnYXRvcic7XG5pbXBvcnQgdHlwZSB7IFBhZ2UgfSBmcm9tICcuL25hdi9wYWdlJztcbmltcG9ydCB0eXBlIHsgVGhyZWFkIH0gZnJvbSAnLi9uYXYvdGhyZWFkJztcbmltcG9ydCB7IG9uY2Vfc3RvcmVfdXBkYXRlcyB9IGZyb20gJy4vc3ZlbHRlJztcbmltcG9ydCBQb3B1cFJlY2VpdmUgZnJvbSAnLi91aS9Qb3B1cFJlY2VpdmUuc3ZlbHRlJztcblxuXG4vKipcbiAqIEV4dGVuZGVkIHZlcnNpb24gb2Ygc3ZlbHRlJ3MgV3JpdGFibGUgdGhhdCBhbGxvd3MgZm9yIHN5bmNocm9ub3VzIGBnZXQoKWAgY2FsbHMuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgV3JpdGFibGVTeW5jPFxuXHR3X3ZhbHVlIGV4dGVuZHMgYW55PWFueSxcbj4gZXh0ZW5kcyBXcml0YWJsZTx3X3ZhbHVlPiB7XG5cdGdldCgpOiB3X3ZhbHVlO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYW4gb2JqZWN0IHRoYXQgZXh0ZW5kcyBzdmVsdGUgV3JpdGFibGUgc3RvcmVzIGJ5IGFsbG93aW5nIHN5bmNocm9ub3VzIGBnZXQoKWAuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB3cml0YWJsZVN5bmM8XG5cdHdfdmFsdWUgZXh0ZW5kcyBhbnksXG4+KHdfdmFsdWU6IHdfdmFsdWUpOiBXcml0YWJsZVN5bmM8d192YWx1ZT4ge1xuXHQvLyBjcmVhdGUgd3JpdGFibGUgc3RvcmVcblx0Y29uc3QgeXdfb3JpZ2luYWwgPSB3cml0YWJsZTx3X3ZhbHVlPih3X3ZhbHVlKTtcblxuXHQvLyBjcmVhdGUgYSBuZXcgb2JqZWN0IHRoYXQgaW5oZXJpdHMgZnJvbSB0aGUgb3JpZ2luYWwgc3RvcmUgYXMgYSBwcm90b3R5cGVcblx0cmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZSh5d19vcmlnaW5hbCksIHtcblx0XHQvLyBpbnRlcmNlcHQgY2FsbCBpbiBvcmRlciB0byB1cGRhdGUgY2FjaGVcblx0XHRzZXQod19zZXQ6IHdfdmFsdWUpIHtcblx0XHRcdHdfdmFsdWUgPSB3X3NldDtcblx0XHRcdHJldHVybiB5d19vcmlnaW5hbC5zZXQod19zZXQpO1xuXHRcdH0sXG5cblx0XHQvLyBnZXQgdGhlIHN0b3JlZCB2YWx1ZVxuXHRcdGdldCgpOiB3X3ZhbHVlIHtcblx0XHRcdHJldHVybiB3X3ZhbHVlO1xuXHRcdH0sXG5cdH0pIGFzIFdyaXRhYmxlU3luYzx3X3ZhbHVlPjtcbn1cblxuLyoqXG4gKiBFeHRlbmRlZCB2ZXJzaW9uIG9mIHN2ZWx0ZSdzIFJlYWRhYmxlIHRoYXQgYWxsb3dzIGZvciBzeW5jaHJvbm91cyBgZ2V0KClgIGNhbGxzLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlYWRhYmxlU3luYzxcblx0d192YWx1ZSBleHRlbmRzIGFueT1hbnksXG4+IGV4dGVuZHMgUmVhZGFibGU8d192YWx1ZT4ge1xuXHRnZXQoKTogd192YWx1ZTtcbn1cblxuLy8gdHlwZSBEZXJpdmVkQ2FsbGJhY2s8XG4vLyBcdHdfdmFsdWUgZXh0ZW5kcyBhbnksXG4vLyBcdHpfc3JjIGV4dGVuZHMgV3JpdGFibGVTeW5jPHdfdmFsdWU+IHwgV3JpdGFibGVTeW5jPHdfdmFsdWU+W10sXG4vLyA+ID0gel9zcmMgZXh0ZW5kcyBXcml0YWJsZVN5bmM8d192YWx1ZT5bXVxuLy8gXHQ/IHtcbi8vIFx0XHQod192YWx1ZTogd192YWx1ZSk6IHdfdmFsdWU7XG4vLyBcdH1cbi8vIFx0OiB7XG4vLyBcdFx0KGFfdmFsdWVzOiB3X3ZhbHVlW10pOiB3X3ZhbHVlO1xuLy8gXHR9O1xuXG50eXBlIEFycmF5YWJsZTx3X3R5cGU+ID0gd190eXBlIHwgQXJyYXk8d190eXBlPjtcblxuLyoqXG4gKiBDcmVhdGVzIGFuIG9iamVjdCB0aGF0IGV4dGVuZHMgc3ZlbHRlIERlcml2ZWQgc3RvcmVzIGJ5IGFsbG93aW5nIHN5bmNocm9ub3VzIGBnZXQoKWAuXG4gKi9cbi8vIGV4cG9ydCBmdW5jdGlvbiBkZXJpdmVkU3luYzxcbi8vIFx0d19vdXQgZXh0ZW5kcyBhbnksXG4vLyBcdHdfdmFsdWUgZXh0ZW5kcyBhbnksXG4vLyBcdGFfc3JjcyBleHRlbmRzIFdyaXRhYmxlU3luYzx3X3ZhbHVlPltdPVdyaXRhYmxlU3luYzx3X3ZhbHVlPltdLFxuLy8gPihhX3NyY3M6IGFfc3JjcywgZl90cmFuc2Zvcm06ICguLi5hX2lucHV0czogd192YWx1ZVtdKSA9PiB3X291dCk6IFJlYWRhYmxlU3luYzx3X291dD47XG4vLyBleHBvcnQgZnVuY3Rpb24gZGVyaXZlZFN5bmM8XG4vLyBcdHdfb3V0IGV4dGVuZHMgYW55LFxuLy8gXHR3X3ZhbHVlIGV4dGVuZHMgYW55LFxuLy8gXHR5d19zcmMgZXh0ZW5kcyBXcml0YWJsZVN5bmM8d192YWx1ZT49V3JpdGFibGVTeW5jPHdfdmFsdWU+LFxuLy8gPih5d19zcmM6IHl3X3NyYywgZl90cmFuc2Zvcm06ICh5d19zcmM6IHl3X3NyYykgPT4gd19vdXQpOiBSZWFkYWJsZVN5bmM8d19vdXQ+O1xuZXhwb3J0IGZ1bmN0aW9uIGRlcml2ZWRTeW5jPFxuXHR3X291dCBleHRlbmRzIGFueSxcblx0d192YWx1ZSBleHRlbmRzIGFueT1hbnksXG5cdHpfc3JjIGV4dGVuZHMgQXJyYXlhYmxlPFJlYWRhYmxlU3luYzx3X3ZhbHVlPj49QXJyYXlhYmxlPFJlYWRhYmxlU3luYzx3X3ZhbHVlPj4sXG4+KFxuXHR6X3NyYzogel9zcmMsXG5cdGZfdHJhbnNmb3JtOiB6X3NyYyBleHRlbmRzIFJlYWRhYmxlU3luY1tdXG5cdFx0PyAoYV9pbnB1dHM6IHdfdmFsdWVbXSkgPT4gd19vdXRcblx0XHQ6IHpfc3JjIGV4dGVuZHMgUmVhZGFibGVTeW5jPGluZmVyIHdfYWN0dWFsPlxuXHRcdFx0PyAod19pbnB1dDogd19hY3R1YWwsIGZfc2V0OiAod19zZXQ6IHdfb3V0KSA9PiB2b2lkKSA9PiB3X291dFxuXHRcdFx0OiBuZXZlclxuKTogUmVhZGFibGVTeW5jPHdfb3V0PiB7XG5cdC8vIHdyaXRhYmxlIHNvdXJjZSBhcmd1bWVudCBpcyBhbiBhcnJheVxuXHRpZihBcnJheS5pc0FycmF5KHpfc3JjKSkge1xuXHRcdHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUoZGVyaXZlZDx6X3NyYywgd19vdXQ+KHpfc3JjLCBmX3RyYW5zZm9ybSBhcyAod19pbnB1dDogYW55KSA9PiB3X291dCkpLCB7XG5cdFx0XHRnZXQoKTogd19vdXQge1xuXHRcdFx0XHRyZXR1cm4gZl90cmFuc2Zvcm0oLi4uel9zcmMpO1xuXHRcdFx0fSxcblx0XHR9KSBhcyBSZWFkYWJsZVN5bmM8d19vdXQ+O1xuXHR9XG5cdC8vIHNpbmdsZSBzdG9yZVxuXHRlbHNlIHtcblx0XHQvLyBwcmVwIGNhY2hlXG5cdFx0bGV0IHdfY2FjaGU6IHdfb3V0O1xuXG5cdFx0Ly8gY3JlYXRlIGRlcml2ZWQgc3RvcmVcblx0XHRjb25zdCB5d19vcmlnaW5hbCA9IGRlcml2ZWQ8el9zcmMsIHdfb3V0Pih6X3NyYywgKHdfaW5wdXQsIGZrX3NldCkgPT4ge1xuXHRcdFx0Zl90cmFuc2Zvcm0od19pbnB1dCwgKHdfb3V0cHV0KSA9PiB7XG5cdFx0XHRcdHdfY2FjaGUgPSB3X291dHB1dDtcblx0XHRcdFx0Zmtfc2V0KHdfb3V0cHV0KTtcblx0XHRcdH0pO1xuXHRcdH0pO1xuXG5cdFx0Ly8gY3JlYXRlIGEgbmV3IG9iamVjdCB0aGF0IGluaGVyaXRzIGZyb20gdGhlIG9yaWdpbmFsIHN0b3JlIGFzIGEgcHJvdG90eXBlXG5cdFx0cmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmNyZWF0ZSh5d19vcmlnaW5hbCksIHtcblx0XHRcdC8vIGdldCB0aGUgc3RvcmVkIHZhbHVlXG5cdFx0XHRnZXQoKTogd19vdXQge1xuXHRcdFx0XHRyZXR1cm4gd19jYWNoZTtcblx0XHRcdH0sXG5cdFx0fSkgYXMgUmVhZGFibGVTeW5jPHdfb3V0Pjtcblx0fVxufVxuXG4vKipcbiAqIFRoZSBuYXZpZ2F0b3Igb2JqZWN0IGZvciB0aGlzIHdpbmRvd1xuICovXG5leHBvcnQgY29uc3QgeXdfbmF2aWdhdG9yID0gd3JpdGFibGVTeW5jPE5hdmlnYXRvcj4obnVsbCEgYXMgTmF2aWdhdG9yKTtcblxuLyoqXG4gKiBTZWxlY3RzIHRoZSBhY3RpdmUgY2hhaW5cbiAqL1xuZXhwb3J0IGNvbnN0IHl3X2NoYWluX3JlZiA9IHdyaXRhYmxlU3luYzxDaGFpblBhdGg+KCcnIGFzIENoYWluUGF0aCk7XG5leHBvcnQgY29uc3QgeXdfY2hhaW4gPSBkZXJpdmVkU3luYzxDaGFpblsnaW50ZXJmYWNlJ10+KHl3X2NoYWluX3JlZiwgKHBfY2hhaW4sIGZrX3NldCkgPT4ge1xuXHR2b2lkIENoYWlucy5yZWFkKCkudGhlbihrcyA9PiBma19zZXQoa3MuYXQocF9jaGFpbiBhcyBDaGFpblBhdGgpISkpO1xuXG5cdC8vIHByb3BhZ2F0ZSBjaGFuZ2Ugb2YgY2hhaW4gdG8gZGVmYXVsdCBuZXR3b3JrIHByb3ZpZGVyXG5cdHZvaWQgTmV0d29ya3MucmVhZCgpLnRoZW4oa3MgPT4ga3MuZW50cmllcygpLnNvbWUoKFtwX25ldHdvcmssIGdfbmV0d29ya10pID0+IHtcblx0XHRpZihwX2NoYWluID09PSBnX25ldHdvcmsuY2hhaW4pIHtcblx0XHRcdHl3X25ldHdvcmtfcmVmLnNldChwX25ldHdvcmspO1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9KSk7XG59KTtcblxuXG4vKipcbiAqIFNlbGVjdHMgdGhlIGFjdGl2ZSBuZXR3b3JrXG4gKi9cbmV4cG9ydCBjb25zdCB5d19uZXR3b3JrX3JlZiA9IHdyaXRhYmxlU3luYzxOZXR3b3JrUGF0aD4oJycgYXMgTmV0d29ya1BhdGgpO1xuZXhwb3J0IGNvbnN0IHl3X25ldHdvcmsgPSB3cml0YWJsZVN5bmM8TmV0d29ya1snaW50ZXJmYWNlJ10+KG51bGwhIGFzIE5ldHdvcmtbJ2ludGVyZmFjZSddKTtcbmV4cG9ydCBjb25zdCB5d19uZXR3b3JrX2FjdGl2ZSA9IGRlcml2ZWRTeW5jPEFjdGl2ZU5ldHdvcms+KHl3X25ldHdvcmtfcmVmLCAocF9uZXR3b3JrLCBma19zZXQpID0+IHtcblx0aWYoIXBfbmV0d29yaykge1xuXHRcdHl3X25ldHdvcmsuc2V0KG51bGwgYXMgdW5rbm93biBhcyBOZXR3b3JrWydpbnRlcmZhY2UnXSk7XG5cdFx0Zmtfc2V0KG51bGwgYXMgdW5rbm93biBhcyBBY3RpdmVOZXR3b3JrKTtcblx0fVxuXHRlbHNlIHtcblx0XHQoYXN5bmMoKSA9PiB7XG5cdFx0XHRjb25zdCBrc19uZXR3b3JrcyA9IGF3YWl0IE5ldHdvcmtzLnJlYWQoKTtcblx0XHRcdGNvbnN0IGdfbmV0d29yayA9IGtzX25ldHdvcmtzLmF0KHBfbmV0d29yayBhcyBOZXR3b3JrUGF0aCkhO1xuXHRcdFx0eXdfbmV0d29yay5zZXQoZ19uZXR3b3JrKTtcblxuXHRcdFx0Ly8gY2hhaW4gZGlmZmVyczsgdXBkYXRlXG5cdFx0XHRpZihnX25ldHdvcmsuY2hhaW4gIT09IHl3X2NoYWluX3JlZi5nZXQoKSkge1xuXHRcdFx0XHR5d19jaGFpbl9yZWYuc2V0KGdfbmV0d29yay5jaGFpbik7XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IGtzX2NoYWlucyA9IGF3YWl0IENoYWlucy5yZWFkKCk7XG5cdFx0XHRjb25zdCBnX2NoYWluID0ga3NfY2hhaW5zLmF0KGdfbmV0d29yay5jaGFpbikhO1xuXG5cdFx0XHRma19zZXQoTmV0d29ya3MuYWN0aXZhdGUoZ19uZXR3b3JrLCBnX2NoYWluKSk7XG5cdFx0fSkoKTtcblx0fVxufSk7XG5cbi8vIGV4cG9ydCBjb25zdCB5d19jaGFpbiA9IHdyaXRhYmxlU3luYzxDaGFpblsnaW50ZXJmYWNlJ10+KG51bGwhIGFzIENoYWluWydpbnRlcmZhY2UnXSk7XG4vLyB5d19jaGFpbl9yZWYuc3Vic2NyaWJlKGFzeW5jKHBfY2hhaW4pID0+IHtcbi8vIFx0Y29uc3Qga3NfY2hhaW5zID0gYXdhaXQgQ2hhaW5zLnJlYWQoKTtcbi8vIFx0eXdfY2hhaW4uc2V0KGtzX2NoYWlucy5hdChwX2NoYWluKSEpO1xuLy8gfSlcblxuLyoqXG4gKiBEZXJpdmUgZmFtaWx5IGZyb20gY2hhaW5cbiAqL1xuZXhwb3J0IGNvbnN0IHl3X2ZhbWlseSA9IHdyaXRhYmxlU3luYzxGYW1pbHlLZXk+KCcnIGFzIEZhbWlseUtleSk7XG55d19jaGFpbi5zdWJzY3JpYmUoZ19jaGFpbiA9PiB5d19mYW1pbHkuc2V0KGdfY2hhaW4/LmZhbWlseSB8fCAnJykpO1xuXG5cbi8qKlxuICogU2VsZWN0cyB0aGUgYWN0aXZlIGFjY291bnRcbiAqL1xuZXhwb3J0IGNvbnN0IHl3X2FjY291bnRfcmVmID0gd3JpdGFibGVTeW5jPEFjY291bnRQYXRoPignJyBhcyBBY2NvdW50UGF0aCk7XG5leHBvcnQgY29uc3QgeXdfYWNjb3VudCA9IGRlcml2ZWRTeW5jPEFjY291bnRbJ2ludGVyZmFjZSddPih5d19hY2NvdW50X3JlZiwgKHBfYWNjb3VudCwgZmtfc2V0KSA9PiB7XG5cdHZvaWQgQWNjb3VudHMucmVhZCgpLnRoZW4oa3MgPT4gZmtfc2V0KGtzLmF0KHBfYWNjb3VudCBhcyBBY2NvdW50UGF0aCkhKSk7XG59KTtcblxuZXhwb3J0IGNvbnN0IHl3X293bmVyOiBSZWFkYWJsZTxCZWNoMzIuU3RyaW5nPiA9IGRlcml2ZWQoW3l3X2FjY291bnQsIHl3X2NoYWluXSwgKFtnX2FjY291bnQsIGdfY2hhaW5dLCBma19zZXQpID0+IHtcblx0Zmtfc2V0KENoYWlucy5hZGRyZXNzRm9yKGdfYWNjb3VudC5wdWJrZXksIGdfY2hhaW4pKTtcbn0pO1xuXG4vLyBleHBvcnQgY29uc3QgeXdfYWNjb3VudCA9IHdyaXRhYmxlU3luYzxBY2NvdW50WydpbnRlcmZhY2UnXXxudWxsPihudWxsKTtcblxuLyoqXG4gKiBTaG93cy9oaWRlcyB0aGUgdmVuZG9yIG1lbnVcbiAqL1xuZXhwb3J0IGNvbnN0IHl3X21lbnVfdmVuZG9yID0gd3JpdGFibGVTeW5jKGZhbHNlKTtcblxuLyoqXG4gKiBTaG93cy9oaWRlcyB0aGUgYWNjb3VudCBzZWxlY3RvciBvdmVybGF5XG4gKi9cbmV4cG9ydCBjb25zdCB5d19vdmVybGF5X2FjY291bnQgPSB3cml0YWJsZVN5bmMoZmFsc2UpO1xuXG4vKipcbiAqIFNob3dzL2hpZGVzIHRoZSBuZXR3b3JrIHNlbGVjdG9yIG92ZXJsYXlcbiAqL1xuZXhwb3J0IGNvbnN0IHl3X292ZXJsYXlfbmV0d29yayA9IHdyaXRhYmxlU3luYyhmYWxzZSk7XG5cblxuLyoqXG4gKiBTdG9yZSBjYWNoZXNcbiAqL1xuXG5jb25zdCBzdG9yZV9jYWNoZSA9IDxcblx0c2lfc3RvcmUgZXh0ZW5kcyBTdG9yZUtleSxcbj4oc2lfc3RvcmU6IHNpX3N0b3JlKSA9PiB3cml0YWJsZVN5bmM8SW5zdGFuY2VUeXBlPFN0b3JlUmVnaXN0cnk8c2lfc3RvcmU+PiB8IG51bGw+KG51bGwpO1xuXG4vLyByZWxvYWQgYSBnaXZlbiBzdG9yZVxuYXN5bmMgZnVuY3Rpb24gcmVsb2FkKHNpX3N0b3JlOiBTdG9yZUtleSkge1xuXHRzd2l0Y2goc2lfc3RvcmUpIHtcblx0XHRjYXNlIFNJX1NUT1JFX01FRElBOiB7XG5cdFx0XHRjb25zdCBrc19tZWRpYXMgPSBhd2FpdCBNZWRpYXMucmVhZCgpO1xuXG5cdFx0XHR5d19zdG9yZV9tZWRpYXMudXBkYXRlKCgpID0+IGtzX21lZGlhcyk7XG5cdFx0XHRicmVhaztcblx0XHR9XG5cblx0XHRjYXNlIFNJX1NUT1JFX1RBR1M6IHtcblx0XHRcdGNvbnN0IGtzX3RhZ3MgPSBhd2FpdCBUYWdzLnJlYWQoKTtcblxuXHRcdFx0eXdfc3RvcmVfdGFncy51cGRhdGUoKCkgPT4ga3NfdGFncyk7XG5cdFx0fVxuXG5cdFx0ZGVmYXVsdDoge1xuXHRcdFx0Ly8gaWdub3JlXG5cdFx0fVxuXHR9XG59XG5cblxuZXhwb3J0IGNvbnN0IHl3X3N0b3JlX21lZGlhcyA9IHN0b3JlX2NhY2hlKFNJX1NUT1JFX01FRElBKTtcbmV4cG9ydCBjb25zdCB5d19zdG9yZV90YWdzID0gc3RvcmVfY2FjaGUoU0lfU1RPUkVfVEFHUyk7XG5cblxuLy8gcmVnaXN0ZXIgZm9yIHVwZGF0ZXNcbmdsb2JhbF9yZWNlaXZlKHtcblx0J3VwZGF0ZVN0b3JlJyh7a2V5OnNpX3N0b3JlfSkge1xuXHRcdHZvaWQgcmVsb2FkKHNpX3N0b3JlKTtcblx0fSxcbn0pO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaW5pdGlhbGl6ZV9jYWNoZXMoKTogUHJvbWlzZTx2b2lkPiB7XG5cdGF3YWl0IFByb21pc2UuYWxsKFtcblx0XHRyZWxvYWQoU0lfU1RPUkVfTUVESUEpLFxuXHRcdHJlbG9hZChTSV9TVE9SRV9UQUdTKSxcblx0XSk7XG59XG5cblxuZXhwb3J0IGNvbnN0IHl3X3BhZ2UgPSB3cml0YWJsZVN5bmM8UGFnZT4obnVsbCEgYXMgUGFnZSk7XG5cbi8vIGV4cG9ydCBjb25zdCB5d190aHJlYWRfaWQgPSB3cml0YWJsZVN5bmMoVGhyZWFkSWQuREVGQVVMVCk7XG5cbmV4cG9ydCBjb25zdCB5d190aHJlYWQgPSB3cml0YWJsZVN5bmM8VGhyZWFkPihudWxsISBhcyBUaHJlYWQpO1xuXG5leHBvcnQgY29uc3QgeXdfcGF0aCA9IHdyaXRhYmxlU3luYygnJyk7XG5cbmV4cG9ydCBjb25zdCB5d191cmkgPSBkZXJpdmVkU3luYyh5d19wYXRoLCAkeXcgPT4gYHMycjovL3Jvb3QvJHskeXd9YCk7XG5cbmV4cG9ydCBjb25zdCB5d19wYXR0ZXJuID0gd3JpdGFibGVTeW5jKCcnKTtcblxuXG5leHBvcnQgY29uc3QgeXdfbm90aWZpY2F0aW9ucyA9IHdyaXRhYmxlU3luYzxBcnJheTxzdHJpbmcgfCBUaHJlYWRJZD4+KFtdKTtcblxuZXhwb3J0IGNvbnN0IHl3X25hdl9jb2xsYXBzZWQgPSB3cml0YWJsZShmYWxzZSk7XG5cbmV4cG9ydCBjb25zdCB5d19uYXZfdmlzaWJsZSA9IHdyaXRhYmxlU3luYyhmYWxzZSk7XG5cbmV4cG9ydCBjb25zdCB5d19wcm9ncmVzcyA9IHdyaXRhYmxlU3luYyhbMCwgMF0gYXMgW251bWJlciwgbnVtYmVyXSk7XG5cbi8vIGV4cG9ydCBjb25zdCB5d19wYXRoX3BhcnRzID0gZGVyaXZlZFN5bmMoeXdfcGF0aCwgJHl3ID0+ICgkeXcgYXMgc3RyaW5nKS5zcGxpdCgnLycpKTtcblxuXG5cbmV4cG9ydCBjb25zdCB5d19zZWFyY2ggPSB3cml0YWJsZSgnJyk7XG5cbmV4cG9ydCBjb25zdCB5d19jYW5jZWxfc2VhcmNoID0gd3JpdGFibGVTeW5jPFZvaWRGdW5jdGlvbj4oRl9OT09QKTtcblxuLy8gZXhwb3J0IGNvbnN0IHl3X2Z1c2UgPSB3cml0YWJsZTxGdXNlPFNlYXJjaEl0ZW0+PigpO1xuXG5leHBvcnQgY29uc3QgeXdfc2VuZF9hc3NldCA9IHdyaXRhYmxlU3luYzxUb2tlblsnaW50ZXJmYWNlJ10gfCBudWxsPihudWxsKTtcblxuXG4vLyBleHBvcnQgY29uc3QgeXdfcGFyYW1zID0gd3JpdGFibGVTeW5jKHtcbi8vIFx0ZmFtaWx5SWQ6IHl3X2ZhbWlseS5nZXQoKT8uZGVmLmlkIHx8ICcuZGVmYXVsdCcsXG4vLyBcdGNoYWluSWQ6IHl3X2NoYWluLmdldCgpPy5kZWYuaWQgfHwgJyonLFxuLy8gXHRhY2NvdW50SWQ6IHl3X2FjY291bnQuZ2V0KCkuZGVmLmlkLFxuLy8gfSk7XG5cbmV4cG9ydCBjb25zdCB5d190YXNrID0gd3JpdGFibGVTeW5jKDApO1xuXG5leHBvcnQgY29uc3QgeXdfaGVscCA9IHdyaXRhYmxlU3luYzxIVE1MRWxlbWVudFtdPihbXSk7XG5cbmV4cG9ydCBjb25zdCB5d19oZWFkZXJfcHJvcHMgPSB3cml0YWJsZVN5bmM8RGljdD4oe30pO1xuXG5leHBvcnQgY29uc3QgeXdfZXhpdHRpbmdfZG9tID0gd3JpdGFibGVTeW5jPEhUTUxFbGVtZW50PihudWxsISk7XG5cbmV4cG9ydCBjb25zdCB5d19tZW51X2V4cGFuZGVkID0gd3JpdGFibGVTeW5jKGZhbHNlKTtcblxuXG5leHBvcnQgY29uc3QgeXdfb3ZlcnNjcm9sbF9wY3QgPSB3cml0YWJsZVN5bmMoMCk7XG5cbi8qKlxuICogUHJvdmlkZSBhcmJpdHJhcnkgY29udGV4dCB0byB0aGUgcG9wdXBcbiAqL1xuZXhwb3J0IGNvbnN0IHl3X2NvbnRleHRfcG9wdXAgPSB3cml0YWJsZVN5bmM8RGljdDxhbnk+IHwgbnVsbD4obnVsbCk7XG5cbi8qKlxuICogU2V0cyB0aGUgY29tcG9uZW50IHRvIHVzZSBhcyB0aGUgcG9wdXAgYW5kIHNob3dzIGl0XG4gKi9cbmV4cG9ydCBjb25zdCB5d19wb3B1cCA9IHdyaXRhYmxlU3luYzxQYXJhbWV0cmljU3ZlbHRlQ29uc3RydWN0b3IgfCBudWxsPihudWxsKTtcblxuZXhwb3J0IGZ1bmN0aW9uIHBvcHVwX3JlY2VpdmUocF9hY2NvdW50OiBBY2NvdW50UGF0aCk6IHZvaWQge1xuXHR5d19jb250ZXh0X3BvcHVwLnNldCh7XG5cdFx0YWNjb3VudDogcF9hY2NvdW50LFxuXHR9KTtcblx0eXdfcG9wdXAuc2V0KFBvcHVwUmVjZWl2ZSk7XG59XG5cblxuLy8gZXhwb3J0IGNvbnN0IHl3X3BvcHVwX3JlY2VpdmUgPSB3cml0YWJsZVN5bmM8QWNjb3VudCB8IG51bGw+KG51bGwpO1xuXG5cbmV4cG9ydCBjb25zdCB5d19ibHVyID0gd3JpdGFibGVTeW5jKGZhbHNlKTtcblxuLy8gZXhwb3J0IGNvbnN0IHl3X2hvbGRpbmdfc2VuZCA9IGRlcml2ZWQoW3l3X2Fzc2V0X3NlbmQsIHl3X2FjY291bnQsIHl3X2NoYWluXSwgKFskeXdfYXNzZXQsICR5d19hY2MsICR5d19jaF0pID0+IHtcbi8vIFx0aWYoJHl3X2Fzc2V0ICYmICR5d19hY2MpIHtcbi8vIFx0XHRjb25zdCBwX3Rva2VuID0gJHl3X2Fzc2V0LmRlZi5pcmk7XG4vLyBcdFx0Y29uc3Qgc2FfaG9sZGVyID0gJHl3X2FjYy5hZGRyZXNzKCR5d19jaCk7XG4vLyBcdFx0Y29uc3QgcF9ob2xkaW5nID0gSG9sZGluZy5yZWZGcm9tVG9rZW5BY2NvdW50KHBfdG9rZW4sIHNhX2hvbGRlcik7XG4vLyBcdFx0cmV0dXJuIEhfSE9MRElOR1NbcF9ob2xkaW5nXTtcbi8vIFx0fVxuXG4vLyBcdHJldHVybiBudWxsO1xuLy8gfSk7XG5cblxuZXhwb3J0IGNvbnN0IGhtX2Fycml2YWxzOiBXZWFrTWFwPEhUTUxFbGVtZW50LCBWb2lkRnVuY3Rpb24+ID0gbmV3IE1hcCgpO1xuZXhwb3J0IGZ1bmN0aW9uIGFycml2YWwoZG1fc2NyZWVuOiBIVE1MRWxlbWVudCwgZmtfYXJyaXZlOiBWb2lkRnVuY3Rpb24pIHtcblx0aG1fYXJyaXZhbHMuc2V0KGRtX3NjcmVlbiwgZmtfYXJyaXZlKTtcbn1cblxuLy8gd2FpdCBmb3Igd2luZG93IHRvIGxvYWRcbnZvaWQgb25jZV9zdG9yZV91cGRhdGVzKHl3X25hdmlnYXRvcikudGhlbigoKSA9PiB7XG5cdC8vIHJlc3BvbmQgdG8gd2luZG93IHJlc2l6ZSBldmVudHMgaW4gb3JkZXIgdG8gdXBkYXRlIHJvb3QgY3NzIHZhcmlhYmxlXG5cdGNvbnN0IGRfc3R5bGVfcm9vdCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZTtcblx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsICgpID0+IHtcblx0XHRkX3N0eWxlX3Jvb3Quc2V0UHJvcGVydHkoJy0tYXBwLXdpbmRvdy13aWR0aCcsIGAke3dpbmRvdy5pbm5lcldpZHRofXB4YCk7XG5cdFx0ZF9zdHlsZV9yb290LnNldFByb3BlcnR5KCctLWFwcC13aW5kb3ctaGVpZ2h0JywgYCR7d2luZG93LmlubmVySGVpZ2h0fXB4YCk7XG5cdH0pO1xuXG5cdC8vIGluaXRpYWxpemVcblx0d2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdyZXNpemUnKSk7XG5cblx0Ly8gZ2xvYmFsIGtleSBldmVudHNcblx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZF9ldmVudCkgPT4ge1xuXHRcdC8vIGVzY2FwZSBrZXlcblx0XHRpZignRXNjYXBlJyA9PT0gZF9ldmVudC5rZXkpIHtcblx0XHRcdC8vIHBvcHVwIGlzIG9wZW47IGNsb3NlIGl0XG5cdFx0XHRpZih5d19wb3B1cC5nZXQoKSkge1xuXHRcdFx0XHR5d19wb3B1cC5zZXQobnVsbCk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9KTtcbn0pO1xuIl0sIm5hbWVzIjpbIm5vb3AiLCJjcmVhdGVIYXNoIiwic2hhMjU2X3N5bmMiLCJ0aGlzIiwidW5kZWZpbmVkIiwiZ2xvYmFsIiwicmVxdWlyZSIsInJlcXVpcmUkJDAiLCJyZXF1aXJlJCQxIiwiaG1fcHJpdmF0ZXMiLCJMb25nQml0cyIsInV0aWwiLCJyZXF1aXJlJCQyIiwicmVxdWlyZSQkMyIsInJlcXVpcmUkJDQiLCJyZXF1aXJlJCQ1IiwicmVxdWlyZSQkNiIsInJlcXVpcmUkJDciLCJXcml0ZXIiLCJCdWZmZXJXcml0ZXIiLCJ1dGY4IiwiY3JlYXRlIiwiUmVhZGVyIiwiQnVmZmVyUmVhZGVyIiwiX20wLldyaXRlciIsIl9tMC5SZWFkZXIiLCJpc1NldCIsImxvbmdUb1N0cmluZyIsImJ5dGVzRnJvbUJhc2U2NCIsImJhc2U2NEZyb21CeXRlcyIsImdsb2JhbFRoaXMiLCJhdG9iIiwiYnRvYSIsIl9tMC51dGlsIiwiTG9uZyIsIl9tMC5jb25maWd1cmUiLCJCcm93c2VySGVhZGVycyIsImdycGMiLCJFdmVudCIsImNyZWF0ZV9pZl9ibG9ja180IiwiY3JlYXRlX2lmX2Jsb2NrXzkiLCJjcmVhdGVfaWZfYmxvY2tfOCIsImNyZWF0ZV9pZl9ibG9ja181IiwiY3JlYXRlX2lmX2Jsb2NrXzEiLCJjcmVhdGVfaWZfYmxvY2siLCJTWF9JQ09OX0FERCIsInN2ZWx0ZV9zbGlkZSIsImNyZWF0ZV9pZl9ibG9ja18zIiwiY3JlYXRlX2lmX2Jsb2NrXzIiLCJTWF9JQ09OX0VESVQiLCJJdGVtIiwiSXRlbUNvbXBvbmVudCIsIkNsZWFySWNvbiIsIl9DbGVhckljb24iLCJfSXRlbSIsIkxpc3QiLCJfTGlzdCIsIlNlbGVjdGlvbiIsIl9TZWxlY3Rpb24iLCJNdWx0aVNlbGVjdGlvbiIsIl9NdWx0aVNlbGVjdGlvbiIsIlZpcnR1YWxMaXN0IiwiX1ZpcnR1YWxMaXN0Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxNQUFNLElBQUksb0JBQW9CO0FBQzFCLFFBQU0sVUFBVSxTQUFTLGNBQWMsTUFBTSxFQUFFO0FBQy9DLE1BQUksV0FBVyxRQUFRLFlBQVksUUFBUSxTQUFTLGVBQWUsR0FBRztBQUNsRTtBQUFBLEVBQ0g7QUFDRCxhQUFXLFFBQVEsU0FBUyxpQkFBaUIsMkJBQTJCLEdBQUc7QUFDdkUsbUJBQWUsSUFBSTtBQUFBLEVBQ3RCO0FBQ0QsTUFBSSxpQkFBaUIsQ0FBQyxjQUFjO0FBQ2hDLGVBQVcsWUFBWSxXQUFXO0FBQzlCLFVBQUksU0FBUyxTQUFTLGFBQWE7QUFDL0I7QUFBQSxNQUNIO0FBQ0QsaUJBQVcsUUFBUSxTQUFTLFlBQVk7QUFDcEMsWUFBSSxLQUFLLFlBQVksVUFBVSxLQUFLLFFBQVE7QUFDeEMseUJBQWUsSUFBSTtBQUFBLE1BQzFCO0FBQUEsSUFDSjtBQUFBLEVBQ1QsQ0FBSyxFQUFFLFFBQVEsVUFBVSxFQUFFLFdBQVcsTUFBTSxTQUFTLEtBQUksQ0FBRTtBQUN2RCx3QkFBc0IsUUFBUTtBQUMxQixVQUFNLFlBQVksQ0FBQTtBQUNsQixRQUFJLE9BQU87QUFDUCxnQkFBVSxZQUFZLE9BQU87QUFDakMsUUFBSSxPQUFPO0FBQ1AsZ0JBQVUsaUJBQWlCLE9BQU87QUFDdEMsUUFBSSxPQUFPLGdCQUFnQjtBQUN2QixnQkFBVSxjQUFjO0FBQUEsYUFDbkIsT0FBTyxnQkFBZ0I7QUFDNUIsZ0JBQVUsY0FBYztBQUFBO0FBRXhCLGdCQUFVLGNBQWM7QUFDNUIsV0FBTztBQUFBLEVBQ1Y7QUFDRCwwQkFBd0IsTUFBTTtBQUMxQixRQUFJLEtBQUs7QUFFTDtBQUNKLFNBQUssS0FBSztBQUVWLFVBQU0sWUFBWSxhQUFhLElBQUk7QUFDbkMsVUFB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QUFBLEVBQzdELFlBQWE7QUFBQSxFQUFHLGFBQWE7QUFBQSxFQUFHLGFBQWE7QUFBQSxFQUFHLGFBQWE7QUFBQSxFQUM3RCxhQUFhO0FBQUEsRUFBRyxZQUFhO0FBQUEsRUFBRyxZQUFhO0FBQUEsRUFBRyxhQUFhO0FBQUEsRUFDN0QsYUFBYTtBQUFBLEVBQUcsYUFBYTtBQUFBLEVBQUcsYUFBYTtBQUFBLEVBQUcsYUFBYTtBQUFBLEVBQzdELGFBQWE7QUFBQSxFQUFHLGFBQWE7QUFBQSxFQUFHLFlBQWE7QUFBQSxFQUFHLFlBQWE7QUFBQSxFQUM3RCxZQUFhO0FBQUEsRUFBRyxhQUFhO0FBQUEsRUFBRyxhQUFhO0FBQUEsRUFBRyxhQUFhO0FBQUEsRUFDN0QsYUFBYTtBQUFBLEVBQUcsYUFBYTtBQUFBLEVBQUcsYUFBYTtBQUFBLEVBQUcsYUFBYTtBQUFBLEVBQzdELGFBQWE7QUFBQSxFQUFHLGFBQWE7QUFBQSxFQUFHLFlBQWE7QUFBQSxFQUFHLFlBQWE7QUFBQSxFQUM3RCxZQUFhO0FBQUEsRUFBRyxZQUFhO0FBQUEsRUFBRyxhQUFhO0FBQUEsRUFBRyxhQUFhO0FBQUEsRUFDN0QsYUFBYTtBQUFBLEVBQUcsYUFBYTtBQUFBLEVBQUcsYUFBYTtBQUFBLEVBQUcsYUFBYTtBQUFBLEVBQzdELGFBQWE7QUFBQSxFQUFHLGFBQWE7QUFBQSxFQUFHLGFBQWE7QUFBQSxFQUFHLGFBQWE7QUFBQSxFQUM3RCxhQUFhO0FBQUEsRUFBRyxhQUFhO0FBQUEsRUFBRyxhQUFhO0FBQUEsRUFBRyxZQUFhO0FBQUEsRUFDN0QsWUFBYTtBQUFBLEVBQUcsWUFBYTtBQUFBLEVBQUcsWUFBYTtBQUFBLEVBQUcsWUFBYTtBQUFBLEVBQzdELFlBQWE7QUFBQSxFQUFHLGFBQWE7QUFBQSxFQUFHLGFBQWE7QUFBQSxFQUFHLGFBQWE7QUFBQSxFQUM3RCxhQUFhO0FBQUEsRUFBRyxhQUFhO0FBQUEsRUFBRyxhQUFhO0FBQUEsRUFBRyxhQUFhO0FBQUEsRUFDN0QsYUFBYTtBQUFBLEVBQUcsYUFBYTtBQUFBLEVBQUcsYUFBYTtB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RSxlQUFlLFlBQVksVUFBVTtBQUFBLFFBQUcsZUFBZSxXQUFZLFVBQVU7QUFBQSxRQUM3RSxlQUFlLFdBQVksVUFBVTtBQUFBLFFBQUcsZUFBZSxZQUFZLFVBQVU7QUFBQSxRQUM3RSxlQUFlLFlBQVksVUFBVTtBQUFBLFFBQUcsZUFBZSxZQUFZLFNBQVU7QUFBQSxRQUM3RSxlQUFlLFlBQVksU0FBVTtBQUFBLFFBQUcsZUFBZSxZQUFZLFVBQVU7QUFBQSxRQUM3RSxlQUFlLFlBQVksVUFBVTtBQUFBLFFBQUcsZUFBZSxZQUFZLFNBQVU7QUFBQSxRQUM3RSxlQUFlLFdBQVksVUFBVTtBQUFBLFFBQUcsZUFBZSxXQUFZLFVBQVU7QUFBQSxRQUM3RSxlQUFlLFdBQVksVUFBVTtBQUFBLFFBQUcsZUFBZSxZQUFZLFVBQVU7QUFBQSxRQUM3RSxlQUFlLFlBQVksVUFBVTtBQUFBLFFBQUcsZUFBZSxZQUFZLFVBQVU7QUFBQSxRQUM3RSxlQUFlLFlBQVksVUFBVTtBQUFBLFFBQUcsZUFBZSxZQUFZLFNBQVU7QUFBQSxRQUM3RSxlQUFlLFlBQVksVUFBVTtBQUFBLFFBQUcsZUFBZSxZQUFZLFVBQVU7QUFBQSxRQUM3RSxlQUFlLFlBQVksVUFBVTtBQUFBLFFBQUcsZUFBZSxZQUFZLFVBQVU7QUFBQSxRQUM3RSxlQUFlLFdBQVksVUFBVTtBQUFBLFFBQUcsZUFBZSxXQUFZLFNBQVU7QUFBQSxRQUM3RSxlQUFlLFdBQVksVUFBVTtBQUFBLFFBQUcsZUFBZSxXQUFZLFVBQVU7QUFBQSxRQUM3RSxlQUFlLFlBQVksVUFBVTtBQUFBLFFBQUcsZUFBZSxZQUFZLFVBQVU7QUFBQSxRQUM3RSxlQUFlLFlBQVksVUFBVTtBQUFBLFFBQUcsZUFBZSxZQUFZLFVBQVU7QUFBQSxRQUM3RSxlQUFlLFlBQVksVUFBVTtBQUFBLFFBQUcsZUFBZSxZQUFZLFNBQVU7QUFBQSxRQUM3RSxlQUFlLFlBQVksVUFBVTtBQUFBLFFBQUcsZUFBZSxZQUFZLFVBQVU7QUFBQSxRQUM3RSxlQUFlLFlBQVksVUFBVTtBQUFBLFFBQUcsZUFBZSxZQUFZLFNBQVU7QUFBQSxRQUM3RSxlQUFlLFlBQVksVUFBVTtBQUFBLFFBQUcsZUFBZSxZQUFZLFVBQVU7QUFBQSxRQUM3RSxlQUFlLFlBQVksVUFBVTtBQUFBLFFBQUcsZUFBZSxXQUFZLFNBQVU7QUFBQSxRQUM3RSxlQUFlLFdBQVksVUFBVTtBQUFBLFFBQUcsZUFBZSxXQUFZLFVBQVU7QUFBQSxRQUM3RSxlQUFlLFdBQVksVUFBVTtBQUFBLFFBQUcsZUFBZSxXQUFZLFVBQVU7QUFBQSxRQUM3RSxlQUFlLFdBQVksVUFBVTtBQUFBLFFBQUcsZUFBZSxZQUFZLFVBQVU7QUFBQSxRQUM3RSxlQUFlLFlBQVksVUFBVTtBQUFBLFFBQUcsZUFBZSxZQUFZLFVBQVU7QUFBQSxRQUM3RSxlQUFlLFlBQVksVUFBVTtBQUFBLFFBQUcsZUFBZSxZQUFZLFVBQVU7QUFBQSxRQUM3RSxlQUFlLFlBQVksVUFBVTtBQUFBLFFBQUcsZUFBZSxZQUFZLFNBQVU7QUFBQSxRQUM3RSxlQUFlLFlBQVksU0FBVTtBQUFBLFFBQUcsZUFBZSxZQUFZLFVBQVU7QUFBQSxRQUM3RSxlQUFlLFlBQVksVUFBVTtBQUFBLFFBQUcsZUFBZSxZQUFZLFVBQVU7QUFBQSxRQUM3RSxlQUFlLFlBQVksVUFBVTtBQUFBLFFBQUcsZUFBZSxZQUFZLFNBQVU7QUFBQSxRQUM3RSxlQUFlLFlBQVksVUFBVTtBQUFBLFFBQUcsZUFBZSxZQUFZLFVBQVU7QUFBQSxRQUM3RSxlQUFlLFdBQVksVUFBVTtBQUFBLFFBQUcsZUFBZSxXQUFZLFVBQVU7QUFBQSxRQUM3RSxlQUFlLFdBQVksVUFBVTtBQUFBLFFBQUcsZUFBZSxXQUFZLFNBQVU7QUFBQSxRQUM3RSxlQUFlLFdBQVksU0FBVTtBQUFBLFFBQUcsZUFBZSxXQUFZLFVBQVU7QUFBQSxRQUM3RSxlQUFlLFlBQVksU0FBVTtBQUFBLFFBQUcsZUFBZSxZQUFZLFVBQVU7QUFBQSxRQUM3RSxlQUFlLFlBQVksVUFBVTtBQUFBLFFBQUcsZUFBZSxZQUFZLFVBQVU7QUFBQSxRQUM3RSxlQUFlLFlBQVksU0FB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QU0sQ0FBQTtBQUFHLGNBQUksSUFBRSxLQUFFLENBQUU7QUFBQyxjQUFHLEFBQU0sS0FBSyxVQUFYO0FBQWtCLGlCQUFLLFNBQU8sSUFBRSxLQUFLLFdBQVM7QUFBQSxtQkFBVSxLQUFLLGFBQVcsS0FBSyxPQUFPO0FBQVcsaUJBQUssU0FBTyxJQUFFLEtBQUssV0FBUztBQUFBLGVBQU07QUFBQyxnQkFBSSxLQUFFLEtBQUssT0FBTyxhQUFXLEtBQUssVUFBUyxJQUFFLElBQUksV0FBVyxLQUFFLEdBQUUsVUFBVSxHQUFFLElBQUUsRUFBRSxLQUFLLFFBQU8sS0FBSyxRQUFRO0FBQUUsY0FBRSxJQUFJLEdBQUUsQ0FBQztBQUFFLGdCQUFJLElBQUUsSUFBSSxXQUFXLEVBQUM7QUFBRSxjQUFFLElBQUksR0FBRSxFQUFDLEdBQUUsS0FBSyxTQUFPLEdBQUUsS0FBSyxXQUFTO0FBQUEsVUFBQztBQUFDLHFCQUFPO0FBQUMsZ0JBQUcsQ0FBQyxFQUFFLEtBQUssUUFBTyxLQUFLLFVBQVMsQ0FBQztBQUFFLHFCQUFPO0FBQUUsZ0JBQUksSUFBRSxFQUFFLEtBQUssUUFBTyxLQUFLLFVBQVMsS0FBSyxXQUFTLENBQUMsR0FBRSxJQUFFLElBQUksU0FBUyxFQUFFLFFBQU8sRUFBRSxZQUFXLEVBQUUsVUFBVSxHQUFFLElBQUUsRUFBRSxDQUFDO0FBQUUsZ0JBQUcsQ0FBQyxFQUFFLEtBQUssUUFBTyxLQUFLLFVBQVMsSUFBRSxDQUFDO0FBQUUscUJBQU87QUFBRSxnQkFBSSxJQUFFLEVBQUUsS0FBSyxRQUFPLEtBQUssV0FBUyxHQUFFLEtBQUssV0FBUyxJQUFFLENBQUM7QUFBRSxnQkFBRyxLQUFLLFlBQVUsSUFBRSxHQUFFLEVBQUUsQ0FBQztBQUFFLHFCQUFPLEdBQUUsS0FBSyxFQUFDLFdBQVUsRUFBRSxVQUFTLFVBQVUsTUFBRSxHQUFFLElBQUksRUFBRSxTQUFTLEVBQUUsRUFBQyxDQUFDLEdBQUUsQ0FBQyxHQUFFO0FBQUUsZUFBRSxLQUFLLEVBQUMsV0FBVSxFQUFFLFNBQVEsTUFBSyxFQUFDLENBQUM7QUFBQSxVQUFDO0FBQUEsUUFBQyxHQUFFO0FBQUEsTUFBQyxFQUFDO0FBQUcsU0FBRSxjQUFZO0FBQUEsSUFBQyxHQUFFLEdBQUUsU0FBUyxJQUFFLElBQUU7QUFBYyxVQUFJO0FBQUUsYUFBTyxlQUFlLElBQUUsY0FBYSxFQUFDLE9BQU0sS0FBRSxDQUFDLEdBQUUsR0FBRSxtQkFBaUIsR0FBRSxPQUFLLFFBQU8sU0FBUyxJQUFFO0FBQUMsV0FBRSxHQUFFLEtBQUcsS0FBRyxNQUFLLEdBQUUsR0FBRSxXQUFTLEtBQUcsWUFBVyxHQUFFLEdBQUUsVUFBUSxLQUFHLFdBQVUsR0FBRSxHQUFFLGtCQUFnQixLQUFHLG1CQUFrQixHQUFFLEdBQUUsbUJBQWlCLEtBQUcsb0JBQW1CLEdBQUUsR0FBRSxXQUFTLEtBQUcsWUFBVyxHQUFFLEdBQUUsZ0JBQWMsS0FBRyxpQkFBZ0IsR0FBRSxHQUFFLG1CQUFpQixLQUFHLG9CQUFtQixHQUFFLEdBQUUsb0JBQWtCLEtBQUcscUJBQW9CLEdBQUUsR0FBRSxxQkFBbUIsS0FBRyxzQkFBcUIsR0FBRSxHQUFFLFVBQVEsTUFBSSxXQUFVLEdBQUUsR0FBRSxhQUFXLE1BQUksY0FBYSxHQUFFLEdBQUUsZ0JBQWMsTUFBSSxpQkFBZ0IsR0FBRSxHQUFFLFdBQVMsTUFBSSxZQUFXLEdBQUUsR0FBRSxjQUFZLE1BQUksZUFBYyxHQUFFLEdBQUUsV0FBUyxNQUFJLFlBQVcsR0FBRSxHQUFFLGtCQUFnQixNQUFJO0FBQUEsTUFBaUIsRUFBRSxJQUFFLEdBQUUsUUFBTyxJQUFFLE9BQUssQ0FBQSxFQUFHLEdBQUUsR0FBRSxtQkFBaUIsU0FBUyxJQUFFO0FBQUMsZ0JBQU87QUFBQSxlQUFRO0FBQUUsbUJBQU8sRUFBRTtBQUFBLGVBQWM7QUFBSSxtQkFBTyxFQUFFO0FBQUEsZUFBUTtBQUFJLG1CQUFPLEVBQUU7QUFBQSxlQUFxQjtBQUFJLG1CQUFPLEVBQUU7QUFBQSxlQUFxQjtBQUFJLG1CQUFPLEVBQUU7QUFBQSxlQUFzQjtBQUFJLG1CQUFPLEVBQUU7QUFBQSxlQUFjO0FBQUksbUJBQU8sRUFBRTtBQUFBLGVBQWE7QUFBSSxtQkFBTyxFQUFFO0FBQUEsZUFBd0I7QUFBSSxtQkFBTyxFQUFFO0FBQUEsZUFBdUI7QUFBSSxtQkFBTyxFQUFFO0FBQUEsZUFBYztBQUFJLG1CQUFPLEVBQUU7QUFBQSxlQUFhO0FBQUksbUJBQU8sRUFBRTtBQUFBLGVBQW1CO0FBQUksbUJBQU8sRUFBRTtBQUFBLGVBQWlCO0FBQUksbUJBQU8sRUFBRTtBQUFBO0FBQXlCLG1CQUFPLEVBQUU7QUFBQTtBQUFBLE1BQVE7QUFBQSxJQUFDLEdBQUUsS0FBSSxTQUFTLElBQUUsSUFBRSxHQUFFO0FBQWMsYUFBTyxlQUFlLElBQUUsY0FBYSxFQUFDLE9BQU0sS0FBRSxDQUFDLEdBQUUsR0FBRSxTQUFPO0FBQU8sVUFBSSxJQUFFLEVBQUUsRUFBRSxHQUFFLElBQUUsRUFBRSxHQUFHLEdBQUUsSUFBRSxFQUFFLENBQUMsR0FBRSxJQUFFLEVBQUUsR0FBRyxHQUFFLElBQUUsRUFBRSxFQUFFLEdBQUUsSUFBRSxFQUFFLEdBQUc7QUFBRSxTQUFFLFNBQU8sU0FBUyxJQUFFLElBQUU7QUFBQyxlQUFPLElBQUksRUFBRSxJQUFFLEVBQUM7QUFBQSxNQUFDO0FBQUUsVUFBSSxJQUFFLFdBQVU7QUFBQyxvQkFBVyxJQUFFLElBQUU7QUFBQyxlQUFLLFVBQVEsT0FBRyxLQUFLLG1CQUFpQixPQUFHLEtBQUssWUFBVSxPQUFHLEtBQUssU0FBTyxPQUFHLEtBQUssa0JBQWdCLE9BQUcsS0FBSyxxQkFBbUIsQ0FBQSxHQUFHLEtBQUsscUJBQW1CLENBQUEsR0FBRyxLQUFLLGlCQUFlLENBQUEsR0FBRyxLQUFLLFNBQU8sSUFBSSxFQUFFLGVBQVksS0FBSyxtQkFBaUIsSUFBRSxLQUFLLFFBQU0sSUFBRSxLQUFLLGdCQUFpQjtBQUFBLFFBQUE7QUFBQyxlQUFPLEdBQUUsVUFBVSxrQkFBZ0IsV0FBVTtBQUFDLGNBQUksS0FBRSxLQUFLLE1BQU0sT0FBSyxNQUFJLEtBQUssaUJBQWlCLFFBQVEsY0FBWSxNQUFJLEtBQUssaUJBQWlCLFlBQVcsS0FBRSxFQUFDLGtCQUFpQixLQUFLLGtCQUFpQixPQUFNLEtBQUssTUFBTSxTQUFPLE9BQUcsS0FBSSxJQUFFLFdBQVUsS0FBSyxtQkFBbUIsS0FBSyxJQUFJLEdBQUUsU0FBUSxLQUFLLGlCQUFpQixLQUFLLElBQUksR0FBRSxPQUFNLEtBQUssZUFBZSxLQUFLLElBQUksRUFBQztBQUFFLGVBQUssTUFBTSxZQUFVLEtBQUssWUFBVSxLQUFLLE1BQU0sVUFBVSxFQUFDLElBQUUsS0FBSyxZQUFVLEVBQUUscUJBQXFCLEVBQUM7QUFBQSxRQUFDLEdBQUUsR0FBRSxVQUFVLHFCQUFtQixTQUFTLElBQUUsSUFBRTtBQUFDLGNBQUcsS0FBSyxNQUFNLFNBQU8sRUFBRSxNQUFNLGFBQVksSUFBRSxFQUFDLEdBQUUsS0FBSztBQUFPLGlCQUFLLE1BQU0sU0FBTyxFQUFFLE1BQU0sNkRBQTZEO0FBQUEsbUJBQVUsQUFBSSxPQUFKO0FBQU07QUFBQSxlQUFLO0FBQUMsaUJBQUssa0JBQWdCLElBQUUsS0FBSyxNQUFNLFNBQU8sRUFBRSxNQUFNLDZCQUE0QixLQUFLLFVBQVUsS0FBSyxpQkFBZ0IsTUFBSyxDQUFDLENBQUM7QUFBRSxnQkFBSSxLQUFFLEVBQUUsRUFBQztBQUFFLGlCQUFLLE1BQU0sU0FBTyxFQUFFLE1BQU0sd0JBQXVCLEVBQUM7QUFBRSxnQkFBSSxLQUFFLE1BQUcsTUFBRyxJQUFFLEtBQUUsRUFBRSxpQkFBaUIsRUFBQztBQUFFLGlCQUFLLE1BQU0sU0FBTyxFQUFFLE1BQU0sa0JBQWlCLEVBQUM7QUFBRSxnQkFBSSxLQUFFLEdBQUUsSUFBSSxjQUFjLEtBQUcsQ0FBRTtBQUFDLGdCQUFHLEtBQUssTUFBTSxTQUFPLEVBQUUsTUFBTSx5QkFBd0IsRUFBQyxHQUFFLEtBQUssYUFBYSxFQUFDLEdBQUUsT0FBSSxFQUFFLEtBQUssSUFBRztBQUFDLGtCQUFJLEtBQUUsS0FBSyxpQkFBaUIsR0FBRSxFQUFFO0FBQUUsbUJBQUssV0FBVyxJQUFFLElBQUUsRUFBQztBQUFBLFlBQUM7QUFBQSxVQUFDO0FBQUEsUUFBQyxHQUFFLEdBQUUsVUFBVSxtQkFBaUIsU0FBUyxJQUFFO0FBQUMsY0FBSSxLQUFFO0FBQUssY0FBRyxLQUFLO0FBQU8saUJBQUssTUFBTSxTQUFPLEVBQUUsTUFBTSwyREFBMkQ7QUFBQSxlQUFNO0FBQUMsZ0JBQUksS0FBRSxDQUFBO0FBQUcsZ0JBQUc7QUFBQyxtQkFBRSxLQUFLLE9BQU8sTUFBTSxFQUFDO0FBQUEsWUFBQyxTQUFPLElBQU47QUFBUyxxQkFBTyxLQUFLLE1BQU0sU0FBTyxFQUFFLE1BQU0seUJBQXdCLElBQUUsR0FBRSxPQUFPLEdBQUUsS0FBSyxLQUFLLFdBQVcsRUFBRSxLQUFLLFVBQVMsb0JBQWtCLEdBQUUsT0FBTztBQUFBLFlBQUM7QUFBQyxlQUFFLFFBQVMsU0FBUyxJQUFFO0FBQUMsa0JBQUcsR0FBRSxjQUFZLEVBQUUsVUFBVSxTQUFRO0FBQUMsb0JBQUksS0FBRSxHQUFFLGlCQUFpQixhQUFhLGtCQUFrQixHQUFFLElBQUk7QUFBRSxtQkFBRSxhQUFhLEVBQUM7QUFBQSxjQUFDO0FBQU0sbUJBQUUsY0FBWSxFQUFFLFVBQVUsWUFBVyxJQUFFLGtCQUFpQixJQUFFLG1CQUFpQixJQUFJLEVBQUUsU0FBUyxHQUFFLFFBQVEsR0FBRSxHQUFFLE1BQU0sU0FBTyxFQUFFLE1BQU0sb0JBQW1CLEdBQUUsZ0JBQWdCLEtBQUksSUFBRSxrQkFBZ0IsSUFBSSxFQUFFLFNBQVMsR0FBRSxRQUFRLEdBQUUsR0FBRSxhQUFhLEdBQUUsZUFBZTtBQUFBLFlBQUcsQ0FBRztBQUFBLFVBQUE7QUFBQSxRQUFDLEdBQUUsR0FBRSxVQUFVLGlCQUFlLFdBQVU7QUFBQyxjQUFHLEtBQUssTUFBTSxTQUFPLEVBQUUsTUFBTSxZQUFZLEdBQUUsS0FBSztBQUFPLGlCQUFLLE1BQU0sU0FBTyxFQUFFLE1BQU0seURBQXlEO0FBQUEsbUJBQVUsQUFBUyxLQUFLLHFCQUFkLFFBQStCO0FBQUMsZ0JBQUksS0FBRSxFQUFFLEtBQUssZ0JBQWdCO0FBQUUsZ0JBQUcsQUFBTyxPQUFQLE1BQVM7QUFBQyxrQkFBSSxLQUFFLEtBQUssaUJBQWlCLElBQUksY0FBYyxHQUFFLEtBQUUsS0FBSyxpQkFBaUIsR0FBRSxFQUFFO0FBQUUsbUJBQUssU0FBUyxJQUFFLElBQUUsS0FBSyxnQkFBZ0I7QUFBQSxZQUFDO0FBQU0sbUJBQUssV0FBVyxFQUFFLEtBQUssVUFBUyx5REFBeUQ7QUFBQSxVQUFDLE9BQUs7QUFBQyxnQkFBRyxBQUFTLEtBQUssb0JBQWQ7QUFBOEIscUJBQU8sS0FBSyxLQUFLLFdBQVcsRUFBRSxLQUFLLFNBQVEsaUNBQWlDO0FBQUUsZ0JBQUksS0FBRSxFQUFFLEtBQUssZUFBZSxHQUFFLEtBQUUsS0FBSyxnQkFBZ0IsSUFBSSxjQUFjO0FBQUUsZ0JBQUcsS0FBSyxNQUFNLFNBQU8sRUFBRSxNQUFNLCtCQUE4QixJQUFFLEVBQUMsR0FBRSxBQUFPLE9BQVA7QUFBUyxxQkFBTyxLQUFLLEtBQUssU0FBUyxFQUFFLEtBQUssU0FBUSxzREFBcUQsS0FBSyxlQUFlO0FBQUUsZ0JBQUksS0FBRSxLQUFLLGlCQUFpQixHQUFFLEVBQUU7QUFBRSxpQkFBSyxTQUFTLElBQUUsSUFBRSxLQUFLLGVBQWU7QUFBQSxVQUFDO0FBQUEsUUFBQyxHQUFFLEdBQUUsVUFBVSxtQkFBaUIsU0FBUyxJQUFFO0FBQUMsY0FBRyxDQUFDO0FBQUUsbUJBQU07QUFBRyxjQUFHO0FBQUMsbUJBQU8sbUJBQW1CLEVBQUM7QUFBQSxVQUFDLFNBQU8sSUFBTjtBQUFTLG1CQUFPO0FBQUEsVUFBQztBQUFBLFFBQUMsR0FBRSxHQUFFLFVBQVUsV0FBUyxTQUFTLElBQUUsSUFBRSxJQUFFO0FBQUMsY0FBSSxLQUFFO0FBQUssZUFBSyxNQUFNLFNBQU8sRUFBRSxNQUFNLFlBQVcsSUFBRSxJQUFFLEVBQUMsR0FBRSxLQUFLLGFBQVksTUFBSyxZQUFVLE1BQUcsS0FBSyxlQUFlLFFBQVMsU0FBUyxJQUFFO0FBQUMsZ0JBQUcsQ0FBQyxHQUFFO0FBQU8sa0JBQUc7QUFBQyxtQkFBRSxJQUFFLElBQUUsRUFBQztBQUFBLGNBQUMsU0FBTyxJQUFOO0FBQVMsMkJBQVksV0FBVTtBQUFDLHdCQUFNO0FBQUEsZ0JBQUMsR0FBRyxDQUFDO0FBQUEsY0FBQztBQUFBLFVBQUMsQ0FBQztBQUFBLFFBQUcsR0FBRSxHQUFFLFVBQVUsZUFBYSxTQUFTLElBQUU7QUFBQyxlQUFLLE1BQU0sU0FBTyxFQUFFLE1BQU0sZ0JBQWUsRUFBQyxHQUFFLEtBQUssYUFBVyxLQUFLLG1CQUFtQixRQUFTLFNBQVMsSUFBRTtBQUFDLGdCQUFHO0FBQUMsaUJBQUUsRUFBQztBQUFBLFlBQUMsU0FBTyxJQUFOO0FBQVMseUJBQVksV0FBVTtBQUFDLHNCQUFNO0FBQUEsY0FBQyxHQUFHLENBQUM7QUFBQSxZQUFDO0FBQUEsVUFBQyxDQUFHO0FBQUEsUUFBQSxHQUFFLEdBQUUsVUFBVSxhQUFXLFNBQVMsSUFBRSxJQUFFLElBQUU7QUFBQyxjQUFJLEtBQUU7QUFBSyxVQUFTLE9BQVQsVUFBYSxNQUFFLElBQUksRUFBRSxhQUFVLEtBQUssTUFBTSxTQUFPLEVBQUUsTUFBTSxjQUFhLElBQUUsRUFBQyxHQUFFLEtBQUssYUFBWSxNQUFLLFlBQVUsTUFBRyxLQUFLLGVBQWUsUUFBUyxTQUFTLElBQUU7QUFBQyxnQkFBRyxDQUFDLEdBQUU7QUFBTyxrQkFBRztBQUFDLG1CQUFFLElBQUUsSUFBRSxFQUFDO0FBQUEsY0FBQyxTQUFPLElBQU47QUFBUywyQkFBWSxXQUFVO0FBQUMsd0JBQU07QUFBQSxnQkFBQyxHQUFHLENBQUM7QUFBQSxjQUFDO0FBQUEsVUFBQyxDQUFDO0FBQUEsUUFBRyxHQUFFLEdBQUUsVUFBVSxlQUFhLFNBQVMsSUFBRTtBQUFDLGNBQUksS0FBRTtBQUFLLGVBQUssTUFBTSxTQUFPLEVBQUUsTUFBTSxnQkFBZSxHQUFFLFNBQVUsQ0FBQSxHQUFFLEtBQUssYUFBVyxLQUFLLFVBQVEsS0FBSyxtQkFBbUIsUUFBUyxTQUFTLElBQUU7QUFBQyxnQkFBRyxDQUFDLEdBQUU7QUFBTyxrQkFBRztBQUFDLG1CQUFFLEVBQUM7QUFBQSxjQUFDLFNBQU8sSUFBTjtBQUFTLDJCQUFZLFdBQVU7QUFBQyx3QkFBTTtBQUFBLGdCQUFDLEdBQUcsQ0FBQztBQUFBLGNBQUM7QUFBQSxVQUFDLENBQUc7QUFBQSxRQUFBLEdBQUUsR0FBRSxVQUFVLFlBQVUsU0FBUyxJQUFFO0FBQUMsZUFBSyxtQkFBbUIsS0FBSyxFQUFDO0FBQUEsUUFBQyxHQUFFLEdBQUUsVUFBVSxZQUFVLFNBQVMsSUFBRTtBQUFDLGVBQUssbUJBQW1CLEtBQUssRUFBQztBQUFBLFFBQUMsR0FBRSxHQUFFLFVBQVUsUUFBTSxTQUFTLElBQUU7QUFBQyxlQUFLLGVBQWUsS0FBSyxFQUFDO0FBQUEsUUFBQyxHQUFFLEdBQUUsVUFBVSxRQUFNLFNBQVMsSUFBRTtBQUFDLGNBQUcsS0FBSztBQUFRLGtCQUFNLElBQUksTUFBTSwwQ0FBMEM7QUFBRSxlQUFLLFVBQVE7QUFBRyxjQUFJLEtBQUUsSUFBSSxFQUFFLFNBQVMsTUFBRyxDQUFBLENBQUU7QUFBRSxhQUFFLElBQUksZ0JBQWUsNEJBQTRCLEdBQUUsR0FBRSxJQUFJLGNBQWEsR0FBRyxHQUFFLEtBQUssVUFBVSxNQUFNLEVBQUM7QUFBQSxRQUFDLEdBQUUsR0FBRSxVQUFVLE9BQUssU0FBUyxJQUFFO0FBQUMsY0FBRyxDQUFDLEtBQUs7QUFBUSxrQkFBTSxJQUFJLE1BQU0sNkRBQTZEO0FBQUUsY0FBRyxLQUFLO0FBQU8sa0JBQU0sSUFBSSxNQUFNLHdDQUF3QztBQUFFLGNBQUcsS0FBSztBQUFnQixrQkFBTSxJQUFJLE1BQU0sa0RBQWtEO0FBQUUsY0FBRyxDQUFDLEtBQUssaUJBQWlCLGlCQUFlLEtBQUs7QUFBaUIsa0JBQU0sSUFBSSxNQUFNLHVFQUF1RTtBQUFFLGVBQUssbUJBQWlCO0FBQUcsY0FBSSxLQUFFLEVBQUUsYUFBYSxFQUFDO0FBQUUsZUFBSyxVQUFVLFlBQVksRUFBQztBQUFBLFFBQUMsR0FBRSxHQUFFLFVBQVUsYUFBVyxXQUFVO0FBQUMsY0FBRyxDQUFDLEtBQUs7QUFBUSxrQkFBTSxJQUFJLE1BQU0sbUVBQW1FO0FBQUUsY0FBRyxLQUFLO0FBQU8sa0JBQU0sSUFBSSxNQUFNLHdDQUF3QztBQUFFLGNBQUcsS0FBSztBQUFnQixrQkFBTSxJQUFJLE1BQU0sd0RBQXdEO0FBQUUsZUFBSyxrQkFBZ0IsTUFBRyxLQUFLLFVBQVUsV0FBVTtBQUFBLFFBQUUsR0FBRSxHQUFFLFVBQVUsUUFBTSxXQUFVO0FBQUMsY0FBRyxDQUFDLEtBQUs7QUFBUSxrQkFBTSxJQUFJLE1BQU0sOERBQThEO0FBQUUsY0FBRyxLQUFLO0FBQU8sa0JBQU0sSUFBSSxNQUFNLHlDQUF5QztBQUFFLGVBQUssU0FBTyxNQUFHLEtBQUssTUFBTSxTQUFPLEVBQUUsTUFBTSxnQ0FBZ0MsR0FBRSxLQUFLLFVBQVUsT0FBTTtBQUFBLFFBQUUsR0FBRTtBQUFBLE1BQUMsRUFBRztBQUFDLGlCQUFXLElBQUU7QUFBQyxZQUFJLEtBQUUsR0FBRSxJQUFJLGFBQWEsS0FBRyxDQUFFO0FBQUMsWUFBRyxHQUFFLFNBQU87QUFBRSxjQUFHO0FBQUMsZ0JBQUksS0FBRSxHQUFFO0FBQUcsbUJBQU8sU0FBUyxJQUFFLEVBQUU7QUFBQSxVQUFDLFNBQU8sSUFBTjtBQUFTLG1CQUFPO0FBQUEsVUFBSTtBQUFDLGVBQU87QUFBQSxNQUFJO0FBQUEsSUFBQyxHQUFFLEtBQUksU0FBUyxJQUFFLElBQUU7QUFBYyxhQUFPLGVBQWUsSUFBRSxjQUFhLEVBQUMsT0FBTSxLQUFFLENBQUMsR0FBRSxHQUFFLFFBQU0sUUFBTyxHQUFFLFFBQU0sV0FBVTtBQUFDLGlCQUFRLEtBQUUsQ0FBRSxHQUFDLEtBQUUsR0FBRSxLQUFFLFVBQVUsUUFBTztBQUFJLGFBQUUsTUFBRyxVQUFVO0FBQUcsZ0JBQVEsUUFBTSxRQUFRLE1BQU0sTUFBTSxNQUFLLEVBQUMsSUFBRSxRQUFRLElBQUksTUFBTSxNQUFLLEVBQUM7QUFBQSxNQUFDO0FBQUEsSUFBQyxHQUFFLEtBQUksU0FBUyxJQUFFLElBQUUsR0FBRTtBQUFjLGFBQU8sZUFBZSxJQUFFLGNBQWEsRUFBQyxPQUFNLEtBQUUsQ0FBQyxHQUFFLEdBQUUsT0FBSztBQUFPLFVBQUksR0FBRSxJQUFFLEVBQUUsR0FBRyxHQUFFLElBQUUsRUFBRSxFQUFFLEdBQUUsSUFBRSxFQUFFLEdBQUcsR0FBRSxJQUFFLEVBQUUsR0FBRyxHQUFFLElBQUUsRUFBRSxHQUFHLEdBQUUsSUFBRSxFQUFFLEdBQUcsR0FBRSxJQUFFLEVBQUUsQ0FBQyxHQUFFLEtBQUUsRUFBRSxHQUFHLEdBQUUsSUFBRSxFQUFFLEVBQUUsR0FBRSxJQUFFLEVBQUUsR0FBRztBQUFFLE1BQUMsS0FBRSxHQUFFLFFBQU8sSUFBRSxPQUFLLENBQUEsSUFBSyxzQkFBb0IsRUFBRSw0QkFBMkIsRUFBRSw0QkFBMEIsRUFBRSwyQkFBMEIsRUFBRSwrQkFBNkIsRUFBRSw4QkFBNkIsRUFBRSxlQUFhLEVBQUUsY0FBYSxFQUFFLHFCQUFtQixFQUFFLG9CQUFtQixFQUFFLE9BQUssRUFBRSxNQUFLLEVBQUUsV0FBUyxFQUFFLGdCQUFlLEVBQUUsU0FBTyxTQUFTLElBQUUsSUFBRTtBQUFDLGVBQU8sRUFBRSxPQUFPLElBQUUsRUFBQztBQUFBLE1BQUMsR0FBRSxFQUFFLFNBQU8sR0FBRSxRQUFPLEVBQUUsUUFBTSxFQUFFO0FBQUEsSUFBSyxHQUFFLEtBQUksU0FBUyxJQUFFLElBQUUsR0FBRTtBQUFjLGFBQU8sZUFBZSxJQUFFLGNBQWEsRUFBQyxPQUFNLEtBQUUsQ0FBQyxHQUFFLEdBQUUsU0FBTztBQUFPLFVBQUksSUFBRSxFQUFFLEdBQUc7QUFBRSxTQUFFLFNBQU8sU0FBUyxJQUFFLElBQUU7QUFBQyxZQUFHLEdBQUU7QUFBYyxnQkFBTSxJQUFJLE1BQU0sNEVBQTRFO0FBQUUsWUFBSSxLQUFFLEVBQUUsT0FBTyxJQUFFLEVBQUMsTUFBSyxHQUFFLE1BQUssV0FBVSxHQUFFLFdBQVUsT0FBTSxHQUFFLE1BQUssQ0FBQztBQUFFLGVBQU8sR0FBRSxhQUFXLEdBQUUsVUFBVSxHQUFFLFNBQVMsR0FBRSxHQUFFLGFBQVcsR0FBRSxVQUFVLEdBQUUsU0FBUyxHQUFFLEdBQUUsU0FBTyxHQUFFLE1BQU0sR0FBRSxLQUFLLEdBQUUsR0FBRSxNQUFNLEdBQUUsUUFBUSxHQUFFLEdBQUUsS0FBSyxHQUFFLE9BQU8sR0FBRSxHQUFFLFdBQVksR0FBQyxFQUFDLE9BQU0sV0FBVTtBQUFDLGFBQUUsTUFBTztBQUFBLFFBQUEsRUFBQztBQUFBLE1BQUM7QUFBQSxJQUFDLEdBQUUsSUFBRyxTQUFTLElBQUUsSUFBRSxHQUFFO0FBQWMsYUFBTyxlQUFlLElBQUUsY0FBYSxFQUFDLE9BQU0sS0FBRSxDQUFDLEdBQUUsR0FBRSxXQUFTO0FBQU8sVUFBSSxJQUFFLEVBQUUsR0FBRztBQUFFLGFBQU8sZUFBZSxJQUFFLFlBQVcsRUFBQyxZQUFXLE1BQUcsS0FBSSxXQUFVO0FBQUMsZUFBTyxFQUFFO0FBQUEsTUFBYyxFQUFDLENBQUM7QUFBQSxJQUFDLEdBQUUsSUFBRyxTQUFTLElBQUUsSUFBRSxHQUFFO0FBQWMsYUFBTyxlQUFlLElBQUUsY0FBYSxFQUFDLE9BQU0sS0FBRSxDQUFDLEdBQUUsR0FBRSx1QkFBcUIsR0FBRSw2QkFBMkI7QUFBTyxVQUFJLElBQUUsRUFBRSxHQUFHLEdBQUUsSUFBRSxTQUFTLElBQUU7QUFBQyxlQUFPLEVBQUUsMEJBQTBCLEVBQUMsaUJBQWdCLE1BQUUsQ0FBQyxFQUFFLEVBQUM7QUFBQSxNQUFDO0FBQUUsU0FBRSw2QkFBMkIsU0FBUyxJQUFFO0FBQUMsWUFBRTtBQUFBLE1BQUMsR0FBRSxHQUFFLHVCQUFxQixTQUFTLElBQUU7QUFBQyxlQUFPLEVBQUUsRUFBQztBQUFBLE1BQUM7QUFBQSxJQUFDLEdBQUUsS0FBSSxTQUFTLElBQUUsSUFBRSxHQUFFO0FBQWMsVUFBSSxJQUFFLFFBQU0sS0FBSyxZQUFVLFdBQVU7QUFBQyxlQUFPLEtBQUUsT0FBTyxVQUFRLFNBQVMsSUFBRTtBQUFDLG1CQUFRLElBQUUsS0FBRSxHQUFFLEtBQUUsVUFBVSxRQUFPLEtBQUUsSUFBRTtBQUFJLHFCQUFRLE1BQUssS0FBRSxVQUFVO0FBQUcscUJBQU8sVUFBVSxlQUFlLEtBQUssSUFBRSxFQUFDLEtBQUksSUFBRSxNQUFHLEdBQUU7QUFBSSxpQkFBTztBQUFBLFFBQUMsR0FBRyxNQUFNLE1BQUssU0FBUztBQUFBLE1BQUM7QUFBRSxhQUFPLGVBQWUsSUFBRSxjQUFhLEVBQUMsT0FBTSxLQUFFLENBQUMsR0FBRSxHQUFFLHFCQUFtQixHQUFFLCtCQUE2QjtBQUFPLFVBQUksSUFBRSxFQUFFLEVBQUUsR0FBRSxJQUFFLEVBQUUsR0FBRztBQUFFLFNBQUUsK0JBQTZCLFNBQVMsSUFBRTtBQUFDLGVBQU8sU0FBUyxJQUFFO0FBQUMsaUJBQU8sU0FBUyxJQUFFLElBQUU7QUFBQyxtQkFBTyxHQUFFLFNBQU8sRUFBRSxNQUFNLGdCQUFlLEVBQUMsR0FBRSxJQUFJLEVBQUUsSUFBRSxFQUFDO0FBQUEsVUFBQyxFQUFFLElBQUUsRUFBQztBQUFBLFFBQUM7QUFBQSxNQUFDO0FBQUUsVUFBSSxJQUFFLFdBQVU7QUFBQyxvQkFBVyxJQUFFLElBQUU7QUFBQyxlQUFLLFlBQVUsT0FBRyxLQUFLLGFBQVcsS0FBSyxtQkFBaUIsSUFBSSxtQkFBZ0IsS0FBSyxVQUFRLElBQUUsS0FBSyxPQUFLO0FBQUEsUUFBQztBQUFDLGVBQU8sR0FBRSxVQUFVLE9BQUssU0FBUyxJQUFFLElBQUU7QUFBQyxjQUFJLEtBQUU7QUFBSyxjQUFHLEtBQUssU0FBTyxJQUFFLEtBQUs7QUFBVSxtQkFBTyxLQUFLLFFBQVEsU0FBTyxFQUFFLE1BQU0saUNBQWlDLEdBQUUsS0FBSyxLQUFLLE9BQU8sT0FBUSxFQUFDLE1BQU8sU0FBUyxJQUFFO0FBQUMsaUJBQUUsUUFBUSxTQUFPLEVBQUUsTUFBTSxzQ0FBcUMsRUFBQztBQUFBLFlBQUMsQ0FBRztBQUFDLGVBQUssT0FBTyxLQUFJLEVBQUcsS0FBTSxTQUFTLElBQUU7QUFBQyxnQkFBRyxHQUFFO0FBQUsscUJBQU8sR0FBRSxRQUFRLE1BQU8sR0FBQztBQUFFLGVBQUUsUUFBUSxRQUFRLEdBQUUsS0FBSyxHQUFFLEdBQUUsS0FBSyxHQUFFLFFBQU8sRUFBQztBQUFBLFVBQUMsQ0FBRyxFQUFDLE1BQU8sU0FBUyxJQUFFO0FBQUMsZUFBRSxZQUFVLEdBQUUsUUFBUSxTQUFPLEVBQUUsTUFBTSxpQ0FBaUMsSUFBRyxJQUFFLFlBQVUsTUFBRyxHQUFFLFFBQVEsU0FBTyxFQUFFLE1BQU0sZUFBYyxHQUFFLE9BQU8sR0FBRSxHQUFFLFFBQVEsTUFBTSxFQUFDO0FBQUEsVUFBRSxDQUFHO0FBQUEsUUFBQSxHQUFFLEdBQUUsVUFBVSxPQUFLLFNBQVMsSUFBRTtBQUFDLGNBQUksS0FBRTtBQUFLLGdCQUFNLEtBQUssUUFBUSxLQUFJLEVBQUUsRUFBRSxDQUFBLEdBQUcsS0FBSyxJQUFJLEdBQUUsRUFBQyxTQUFRLEtBQUssU0FBUyxVQUFXLEdBQUMsUUFBTyxRQUFPLE1BQUssSUFBRSxRQUFPLEtBQUssY0FBWSxLQUFLLFdBQVcsT0FBTSxDQUFDLENBQUMsRUFBRSxLQUFNLFNBQVMsSUFBRTtBQUFDLGdCQUFHLEdBQUUsUUFBUSxTQUFPLEVBQUUsTUFBTSxrQkFBaUIsRUFBQyxHQUFFLEdBQUUsUUFBUSxVQUFVLElBQUksRUFBRSxTQUFTLEdBQUUsT0FBTyxHQUFFLEdBQUUsTUFBTSxHQUFFLENBQUMsR0FBRTtBQUFLLHFCQUFPO0FBQUUsZUFBRSxLQUFLLEdBQUUsS0FBSyxVQUFXLEdBQUMsRUFBQztBQUFBLFVBQUMsQ0FBQyxFQUFHLE1BQU8sU0FBUyxJQUFFO0FBQUMsZUFBRSxZQUFVLEdBQUUsUUFBUSxTQUFPLEVBQUUsTUFBTSxpQ0FBaUMsSUFBRyxJQUFFLFlBQVUsTUFBRyxHQUFFLFFBQVEsU0FBTyxFQUFFLE1BQU0sZUFBYyxHQUFFLE9BQU8sR0FBRSxHQUFFLFFBQVEsTUFBTSxFQUFDO0FBQUEsVUFBRSxDQUFDO0FBQUEsUUFBRSxHQUFFLEdBQUUsVUFBVSxjQUFZLFNBQVMsSUFBRTtBQUFDLGVBQUssS0FBSyxFQUFDO0FBQUEsUUFBQyxHQUFFLEdBQUUsVUFBVSxhQUFXLFdBQVU7QUFBQSxRQUFFLEdBQUMsR0FBRSxVQUFVLFFBQU0sU0FBUyxJQUFFO0FBQUMsZUFBSyxXQUFTO0FBQUEsUUFBQyxHQUFFLEdBQUUsVUFBVSxTQUFPLFdBQVU7QUFBQyxjQUFJLEtBQUU7QUFBSyxlQUFLLFlBQVUsS0FBSyxRQUFRLFNBQU8sRUFBRSxNQUFNLGdDQUFnQyxJQUFHLE1BQUssWUFBVSxNQUFHLEtBQUssYUFBWSxNQUFLLFFBQVEsU0FBTyxFQUFFLE1BQU0sK0JBQStCLEdBQUUsS0FBSyxXQUFXLE1BQUssS0FBSSxLQUFLLFFBQVEsU0FBTyxFQUFFLE1BQU0sdUNBQXVDLEdBQUUsS0FBSyxTQUFRLE1BQUssUUFBUSxTQUFPLEVBQUUsTUFBTSw0QkFBNEIsR0FBRSxLQUFLLE9BQU8sT0FBUSxFQUFDLE1BQU8sU0FBUyxJQUFFO0FBQUMsZUFBRSxRQUFRLFNBQU8sRUFBRSxNQUFNLHdDQUF1QyxFQUFDO0FBQUEsVUFBQyxDQUFHLEtBQUUsS0FBSyxRQUFRLFNBQU8sRUFBRSxNQUFNLDRCQUE0QjtBQUFBLFFBQUUsR0FBRTtBQUFBLE1BQUMsRUFBQztBQUFHLFNBQUUscUJBQW1CLFdBQVU7QUFBQyxlQUFNLEFBQWEsT0FBTyxZQUFwQixlQUE4QixTQUFTLFVBQVUsZUFBZSxNQUFNLEtBQUcsQUFBWSxPQUFPLFdBQW5CO0FBQUEsTUFBMEI7QUFBQSxJQUFDLEdBQUUsS0FBSSxTQUFTLElBQUUsSUFBRSxHQUFFO0FBQWMsYUFBTyxlQUFlLElBQUUsY0FBYSxFQUFDLE9BQU0sS0FBRSxDQUFDLEdBQUUsR0FBRSw0QkFBMEI7QUFBTyxVQUFJLElBQUUsRUFBRSxHQUFHLEdBQUUsSUFBRSxFQUFFLEdBQUc7QUFBRSxTQUFFLDRCQUEwQixTQUFTLElBQUU7QUFBQyxZQUFHLEVBQUUsbUJBQW9CLEdBQUM7QUFBQyxjQUFJLEtBQUUsRUFBQyxhQUFZLEdBQUUsa0JBQWdCLFlBQVUsY0FBYTtBQUFFLGlCQUFPLEVBQUUsNkJBQTZCLEVBQUM7QUFBQSxRQUFDO0FBQUMsZUFBTyxFQUFFLGFBQWEsRUFBQyxpQkFBZ0IsR0FBRSxnQkFBZSxDQUFDO0FBQUEsTUFBQztBQUFBLElBQUMsR0FBRSxLQUFJLFNBQVMsSUFBRSxJQUFFLEdBQUU7QUFBYyxVQUFJLEdBQUUsSUFBRSxRQUFNLEtBQUssYUFBWSxLQUFFLFNBQVMsSUFBRSxJQUFFO0FBQUMsZUFBTyxLQUFFLE9BQU8sa0JBQWdCLEVBQUMsV0FBVSxDQUFFLEVBQUEsYUFBWSxTQUFPLFNBQVMsSUFBRSxJQUFFO0FBQUMsYUFBRSxZQUFVO0FBQUEsUUFBQyxLQUFHLFNBQVMsSUFBRSxJQUFFO0FBQUMsbUJBQVEsTUFBSztBQUFFLG1CQUFPLFVBQVUsZUFBZSxLQUFLLElBQUUsRUFBQyxLQUFJLElBQUUsTUFBRyxHQUFFO0FBQUEsUUFBRyxHQUFHLElBQUUsRUFBQztBQUFBLE1BQUMsR0FBRSxTQUFTLElBQUUsSUFBRTtBQUFDLHNCQUFZO0FBQUMsZUFBSyxjQUFZO0FBQUEsUUFBQztBQUFDLFVBQUUsSUFBRSxFQUFDLEdBQUUsR0FBRSxZQUFVLEFBQU8sT0FBUCxPQUFTLE9BQU8sT0FBTyxFQUFDLElBQUcsSUFBRSxZQUFVLEdBQUUsV0FBVSxJQUFJO0FBQUEsTUFBRTtBQUFHLGFBQU8sZUFBZSxJQUFFLGNBQWEsRUFBQyxPQUFNLEtBQUUsQ0FBQyxHQUFFLEdBQUUsc0JBQW9CLEdBQUUsMkJBQXlCLEdBQUUsTUFBSSxHQUFFLGVBQWE7QUFBTyxVQUFJLElBQUUsRUFBRSxFQUFFLEdBQUUsSUFBRSxFQUFFLEdBQUcsR0FBRSxJQUFFLEVBQUUsR0FBRztBQUFFLFNBQUUsZUFBYSxTQUFTLElBQUU7QUFBQyxlQUFPLFNBQVMsSUFBRTtBQUFDLGNBQUcsRUFBRSxvQkFBbUI7QUFBRyxtQkFBTyxJQUFJLEVBQUUsSUFBRSxFQUFDO0FBQUUsY0FBRyxFQUFFLGlDQUFrQztBQUFDLG1CQUFPLElBQUksRUFBRSxJQUFFLEVBQUM7QUFBRSxnQkFBTSxJQUFJLE1BQU0sdUVBQXVFO0FBQUEsUUFBQztBQUFBLE1BQUM7QUFBRSxVQUFJLElBQUUsV0FBVTtBQUFDLG9CQUFXLElBQUUsSUFBRTtBQUFDLGVBQUssVUFBUSxJQUFFLEtBQUssT0FBSztBQUFBLFFBQUM7QUFBQyxlQUFPLEdBQUUsVUFBVSxrQkFBZ0IsV0FBVTtBQUFDLGVBQUssUUFBUSxTQUFPLEVBQUUsTUFBTSxnQ0FBK0IsS0FBSyxJQUFJLFNBQVMsTUFBTTtBQUFFLGNBQUksS0FBRSxLQUFLLElBQUksU0FBUyxPQUFPLEtBQUssS0FBSztBQUFFLGVBQUssUUFBTSxLQUFLLElBQUksU0FBUztBQUFPLGNBQUksS0FBRSxHQUFFLEVBQUM7QUFBRSxlQUFLLFFBQVEsUUFBUSxFQUFDO0FBQUEsUUFBQyxHQUFFLEdBQUUsVUFBVSxjQUFZLFdBQVU7QUFBQyxlQUFLLFFBQVEsU0FBTyxFQUFFLE1BQU0saUJBQWlCLEdBQUUsS0FBSyxRQUFRLE1BQUs7QUFBQSxRQUFFLEdBQUUsR0FBRSxVQUFVLGdCQUFjLFdBQVU7QUFBQyxlQUFLLFFBQVEsU0FBTyxFQUFFLE1BQU0scUJBQW9CLEtBQUssSUFBSSxVQUFVLEdBQUUsS0FBSyxJQUFJLGVBQWEsZUFBZSxvQkFBa0IsS0FBSyxRQUFRLFVBQVUsSUFBSSxFQUFFLFNBQVMsS0FBSyxJQUFJLHNCQUF1QixDQUFBLEdBQUUsS0FBSyxJQUFJLE1BQU07QUFBQSxRQUFDLEdBQUUsR0FBRSxVQUFVLGNBQVksU0FBUyxJQUFFO0FBQUMsZUFBSyxJQUFJLEtBQUssRUFBQztBQUFBLFFBQUMsR0FBRSxHQUFFLFVBQVUsYUFBVyxXQUFVO0FBQUEsUUFBQSxHQUFHLEdBQUUsVUFBVSxRQUFNLFNBQVMsSUFBRTtBQUFDLGNBQUksS0FBRTtBQUFLLGVBQUssV0FBUztBQUFFLGNBQUksS0FBRSxJQUFJO0FBQWUsZUFBSyxNQUFJLElBQUUsR0FBRSxLQUFLLFFBQU8sS0FBSyxRQUFRLEdBQUcsR0FBRSxLQUFLLGFBQWMsR0FBQyxLQUFLLFNBQVMsUUFBUyxTQUFTLElBQUUsSUFBRTtBQUFDLGVBQUUsaUJBQWlCLElBQUUsR0FBRSxLQUFLLElBQUksQ0FBQztBQUFBLFVBQUMsQ0FBQyxHQUFHLEdBQUUsa0JBQWdCLFFBQVEsS0FBSyxLQUFLLGVBQWUsR0FBRSxHQUFFLGlCQUFpQixvQkFBbUIsS0FBSyxjQUFjLEtBQUssSUFBSSxDQUFDLEdBQUUsR0FBRSxpQkFBaUIsWUFBVyxLQUFLLGdCQUFnQixLQUFLLElBQUksQ0FBQyxHQUFFLEdBQUUsaUJBQWlCLFdBQVUsS0FBSyxZQUFZLEtBQUssSUFBSSxDQUFDLEdBQUUsR0FBRSxpQkFBaUIsU0FBUyxTQUFTLElBQUU7QUFBQyxlQUFFLFFBQVEsU0FBTyxFQUFFLE1BQU0sYUFBWSxFQUFDLEdBQUUsR0FBRSxRQUFRLE1BQU0sR0FBRSxLQUFLO0FBQUEsVUFBQyxDQUFDO0FBQUEsUUFBRSxHQUFFLEdBQUUsVUFBVSxlQUFhLFdBQVU7QUFBQyxlQUFLLElBQUksZUFBYSxRQUFPLEtBQUssSUFBSSxpQkFBaUIsb0NBQW9DO0FBQUEsUUFBQyxHQUFFLEdBQUUsVUFBVSxTQUFPLFdBQVU7QUFBQyxlQUFLLFFBQVEsU0FBTyxFQUFFLE1BQU0sV0FBVyxHQUFFLEtBQUssSUFBSSxNQUFLO0FBQUEsUUFBRSxHQUFFO0FBQUEsTUFBQyxFQUFHO0FBQUMsU0FBRSxNQUFJO0FBQUUsVUFBSSxJQUFFLFNBQVMsSUFBRTtBQUFDLHNCQUFZO0FBQUMsaUJBQU8sQUFBTyxPQUFQLFFBQVUsR0FBRSxNQUFNLE1BQUssU0FBUyxLQUFHO0FBQUEsUUFBSTtBQUFDLGVBQU8sRUFBRSxJQUFFLEVBQUMsR0FBRSxHQUFFLFVBQVUsZUFBYSxXQUFVO0FBQUMsZUFBSyxRQUFRLFNBQU8sRUFBRSxNQUFNLHdFQUF3RSxHQUFFLEtBQUssSUFBSSxlQUFhO0FBQUEsUUFBeUIsR0FBRSxHQUFFLFVBQVUsa0JBQWdCLFdBQVU7QUFBQyxjQUFJLEtBQUUsS0FBSyxJQUFJO0FBQVMsZUFBSyxRQUFRLFNBQU8sRUFBRSxNQUFNLDRCQUEyQixJQUFJLFdBQVcsRUFBQyxDQUFDLEdBQUUsS0FBSyxRQUFRLFFBQVEsSUFBSSxXQUFXLEVBQUMsQ0FBQztBQUFBLFFBQUMsR0FBRTtBQUFBLE1BQUMsRUFBRSxDQUFDO0FBQUUsaUJBQVcsSUFBRSxJQUFFO0FBQUMsWUFBSSxLQUFFLEdBQUUsV0FBVyxFQUFDO0FBQUUsWUFBRyxNQUFHLFNBQU8sTUFBRyxPQUFNO0FBQUMsY0FBSSxLQUFFLEdBQUUsV0FBVyxLQUFFLENBQUM7QUFBRSxnQkFBRyxTQUFPLE1BQUcsU0FBUSxNQUFFLFFBQU8sTUFBRSxTQUFPLE1BQUssTUFBRTtBQUFBLFFBQU87QUFBQyxlQUFPO0FBQUEsTUFBQztBQUFDLGtCQUFXLElBQUU7QUFBQyxpQkFBUSxLQUFFLElBQUksV0FBVyxHQUFFLE1BQU0sR0FBRSxLQUFFLEdBQUUsS0FBRSxHQUFFLEtBQUUsR0FBRSxRQUFPLE1BQUk7QUFBQyxjQUFJLEtBQUUsT0FBTyxVQUFVLGNBQVksR0FBRSxZQUFZLEVBQUMsSUFBRSxFQUFFLElBQUUsRUFBQztBQUFFLGFBQUUsUUFBSyxNQUFJO0FBQUEsUUFBQztBQUFDLGVBQU87QUFBQSxNQUFDO0FBQUMsU0FBRSwyQkFBeUIsR0FBRSxHQUFFLHNCQUFvQjtBQUFBLElBQUMsR0FBRSxLQUFJLFNBQVMsSUFBRSxJQUFFO0FBQWMsVUFBSTtBQUFFLG1CQUFZO0FBQUMsWUFBRyxBQUFTLE1BQVQ7QUFBVyxpQkFBTztBQUFFLFlBQUcsZ0JBQWU7QUFBQyxjQUFFLElBQUk7QUFBZSxjQUFHO0FBQUMsY0FBRSxLQUFLLE9BQU0sbUJBQW1CO0FBQUEsVUFBQyxTQUFPLElBQU47QUFBQSxVQUFVO0FBQUEsUUFBQTtBQUFDLGVBQU87QUFBQSxNQUFDO0FBQUMsaUJBQVcsSUFBRTtBQUFDLFlBQUksS0FBRSxFQUFHO0FBQUMsWUFBRyxDQUFDO0FBQUUsaUJBQU07QUFBRyxZQUFHO0FBQUMsaUJBQU8sR0FBRSxlQUFhLElBQUUsR0FBRSxpQkFBZTtBQUFBLFFBQUMsU0FBTyxJQUFOO0FBQUEsUUFBVTtBQUFBLGVBQU07QUFBQSxNQUFFO0FBQUMsYUFBTyxlQUFlLElBQUUsY0FBYSxFQUFDLE9BQU0sS0FBRSxDQUFDLEdBQUUsR0FBRSxtQ0FBaUMsR0FBRSxzQkFBb0IsR0FBRSwwQkFBd0IsUUFBTyxHQUFFLDBCQUF3QixHQUFFLEdBQUUsc0JBQW9CLFdBQVU7QUFBQyxlQUFNLEFBQWEsT0FBTyxrQkFBcEIsZUFBb0MsRUFBRSx5QkFBeUI7QUFBQSxNQUFDLEdBQUUsR0FBRSxtQ0FBaUMsV0FBVTtBQUFDLGVBQU0sQUFBYSxPQUFPLGtCQUFwQixlQUFvQyxlQUFlLFVBQVUsZUFBZSxrQkFBa0I7QUFBQSxNQUFDO0FBQUEsSUFBQyxHQUFFLEtBQUksU0FBUyxJQUFFLElBQUUsR0FBRTtBQUFjLGFBQU8sZUFBZSxJQUFFLGNBQWEsRUFBQyxPQUFNLEtBQUUsQ0FBQyxHQUFFLEdBQUUscUJBQW1CO0FBQU8sVUFBSSxHQUFFLElBQUUsRUFBRSxHQUFHLEdBQUUsSUFBRSxFQUFFLEdBQUc7QUFBRSxPQUFDLFNBQVMsSUFBRTtBQUFDLFdBQUUsR0FBRSxjQUFZLEtBQUc7QUFBQSxNQUFhLEVBQUUsS0FBSSxLQUFFLENBQUEsRUFBRztBQUFFLFVBQUksSUFBRSxJQUFJLFdBQVcsQ0FBQyxDQUFDLENBQUM7QUFBRSxTQUFFLHFCQUFtQixXQUFVO0FBQUMsZUFBTyxTQUFTLElBQUU7QUFBQyxpQkFBTyxTQUFTLElBQUU7QUFBQyxlQUFFLFNBQU8sRUFBRSxNQUFNLG9CQUFtQixFQUFDO0FBQUUsZ0JBQUksSUFBRSxLQUFFLFNBQVMsSUFBRTtBQUFDLGtCQUFHLEFBQWEsR0FBRSxPQUFPLEdBQUUsQ0FBQyxNQUF6QjtBQUEyQix1QkFBTSxXQUFTLEdBQUUsT0FBTyxDQUFDO0FBQUUsa0JBQUcsQUFBWSxHQUFFLE9BQU8sR0FBRSxDQUFDLE1BQXhCO0FBQTBCLHVCQUFNLFVBQVEsR0FBRSxPQUFPLENBQUM7QUFBRSxvQkFBTSxJQUFJLE1BQU0sb0VBQW9FO0FBQUEsWUFBQyxFQUFFLEdBQUUsR0FBRyxHQUFFLElBQUUsQ0FBQTtBQUFHLHVCQUFXLElBQUU7QUFBQyxrQkFBRyxPQUFJLEVBQUU7QUFBWSxtQkFBRSxLQUFLLENBQUM7QUFBQSxtQkFBTTtBQUFDLG9CQUFJLEtBQUUsSUFBRSxLQUFFLElBQUksVUFBVSxHQUFFLGFBQVcsQ0FBQztBQUFFLG1CQUFFLElBQUksSUFBSSxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRSxHQUFFLElBQUksSUFBRSxDQUFDLEdBQUUsR0FBRSxLQUFLLEVBQUM7QUFBQSxjQUFDO0FBQUEsWUFBQztBQUFDLG1CQUFNLEVBQUMsYUFBWSxTQUFTLElBQUU7QUFBQyxvQkFBRyxHQUFFLGVBQWEsR0FBRSxhQUFXLEVBQUUsRUFBQyxJQUFFLEVBQUUsS0FBSyxFQUFDO0FBQUEsWUFBQyxHQUFFLFlBQVcsV0FBVTtBQUFDLG9CQUFHLEdBQUUsZUFBYSxHQUFFLGFBQVcsRUFBRSxFQUFFLFdBQVcsSUFBRSxFQUFFLEtBQUssRUFBRSxXQUFXO0FBQUEsWUFBQyxHQUFFLE9BQU0sU0FBUyxJQUFFO0FBQUMsY0FBQyxNQUFFLElBQUksVUFBVSxJQUFFLENBQUMsaUJBQWlCLENBQUMsR0FBRyxhQUFXLGVBQWMsR0FBRSxTQUFPLFdBQVU7QUFBQyxvQkFBSTtBQUFFLG1CQUFFLFNBQU8sRUFBRSxNQUFNLHlCQUF5QixHQUFFLEdBQUUsS0FBTSxNQUFFLElBQUcsR0FBRSxRQUFTLFNBQVMsSUFBRSxJQUFFO0FBQUMsd0JBQUcsS0FBRSxPQUFLLEdBQUUsS0FBSyxJQUFJLElBQUU7QUFBQSxnQkFBTSxDQUFDLEdBQUcsRUFBRSxZQUFZLEVBQUMsRUFBQyxHQUFHLEVBQUUsUUFBUyxTQUFTLElBQUU7QUFBQyxvQkFBRSxFQUFDO0FBQUEsZ0JBQUMsQ0FBQztBQUFBLGNBQUUsR0FBRSxHQUFFLFVBQVEsU0FBUyxJQUFFO0FBQUMsbUJBQUUsU0FBTyxFQUFFLE1BQU0sNEJBQTJCLEVBQUMsR0FBRSxHQUFFLE1BQU87QUFBQSxjQUFBLEdBQUUsR0FBRSxVQUFRLFNBQVMsSUFBRTtBQUFDLG1CQUFFLFNBQU8sRUFBRSxNQUFNLDRCQUEyQixFQUFDO0FBQUEsY0FBQyxHQUFFLEdBQUUsWUFBVSxTQUFTLElBQUU7QUFBQyxtQkFBRSxRQUFRLElBQUksV0FBVyxHQUFFLElBQUksQ0FBQztBQUFBLGNBQUM7QUFBQSxZQUFDLEdBQUUsUUFBTyxXQUFVO0FBQUMsaUJBQUUsU0FBTyxFQUFFLE1BQU0saUJBQWlCLEdBQUUsR0FBRSxNQUFLO0FBQUEsWUFBRSxFQUFDO0FBQUEsVUFBQyxFQUFFLEVBQUM7QUFBQSxRQUFDO0FBQUEsTUFBQztBQUFBLElBQUMsR0FBRSxJQUFHLFNBQVMsSUFBRSxJQUFFLEdBQUU7QUFBYyxhQUFPLGVBQWUsSUFBRSxjQUFhLEVBQUMsT0FBTSxLQUFFLENBQUMsR0FBRSxHQUFFLFFBQU07QUFBTyxVQUFJLElBQUUsRUFBRSxFQUFFLEdBQUUsSUFBRSxFQUFFLEdBQUc7QUFBRSxTQUFFLFFBQU0sU0FBUyxJQUFFLElBQUU7QUFBQyxZQUFHLEdBQUU7QUFBZSxnQkFBTSxJQUFJLE1BQU0sc0ZBQXNGO0FBQUUsWUFBRyxHQUFFO0FBQWMsZ0JBQU0sSUFBSSxNQUFNLDJFQUEyRTtBQUFFLFlBQUksS0FBRSxNQUFLLElBQUUsTUFBSyxJQUFFLEVBQUUsT0FBTyxJQUFFLEVBQUMsTUFBSyxHQUFFLE1BQUssV0FBVSxHQUFFLFdBQVUsT0FBTSxHQUFFLE1BQUssQ0FBQztBQUFFLGVBQU8sRUFBRSxVQUFXLFNBQVMsSUFBRTtBQUFDLGVBQUU7QUFBQSxRQUFDLENBQUMsR0FBRyxFQUFFLFVBQVcsU0FBUyxJQUFFO0FBQUMsY0FBRTtBQUFBLFFBQUMsQ0FBQyxHQUFHLEVBQUUsTUFBTyxTQUFTLElBQUUsSUFBRSxJQUFFO0FBQUMsYUFBRSxNQUFNLEVBQUMsUUFBTyxJQUFFLGVBQWMsSUFBRSxTQUFRLE1BQUcsSUFBSSxFQUFFLFlBQVMsU0FBUSxHQUFFLFVBQVMsR0FBQyxDQUFDO0FBQUEsUUFBQyxDQUFHLEdBQUMsRUFBRSxNQUFNLEdBQUUsUUFBUSxHQUFFLEVBQUUsS0FBSyxHQUFFLE9BQU8sR0FBRSxFQUFFLFdBQVksR0FBQyxFQUFDLE9BQU0sV0FBVTtBQUFDLFlBQUUsTUFBTztBQUFBLFFBQUEsRUFBQztBQUFBLE1BQUM7QUFBQSxJQUFDLEdBQUUsS0FBSSxTQUFTLElBQUUsSUFBRTtBQUFjLGFBQU8sZUFBZSxJQUFFLGNBQWEsRUFBQyxPQUFNLEtBQUUsQ0FBQyxHQUFFLEdBQUUsZUFBYSxRQUFPLEdBQUUsZUFBYSxTQUFTLElBQUU7QUFBQyxZQUFJLEtBQUUsR0FBRSxnQkFBZSxHQUFHLElBQUUsSUFBSSxZQUFZLEdBQUUsYUFBVyxDQUFDO0FBQUUsZUFBTyxJQUFJLFNBQVMsR0FBRSxHQUFFLENBQUMsRUFBRSxVQUFVLEdBQUUsR0FBRSxRQUFPLEtBQUUsR0FBRSxJQUFJLFdBQVcsR0FBRSxDQUFDLEVBQUUsSUFBSSxFQUFDLEdBQUUsSUFBSSxXQUFXLENBQUM7QUFBQSxNQUFDO0FBQUEsSUFBQyxFQUFDLEdBQUUsSUFBRSxDQUFBLEdBQUcsV0FBVyxHQUFFO0FBQUMsVUFBRyxFQUFFO0FBQUcsZUFBTyxFQUFFLEdBQUc7QUFBUSxVQUFJLElBQUUsRUFBRSxLQUFHLEVBQUMsU0FBUSxDQUFBLEVBQUU7QUFBRSxhQUFPLEVBQUUsR0FBRyxLQUFLLEVBQUUsU0FBUSxHQUFFLEVBQUUsU0FBUSxDQUFDLEdBQUUsRUFBRTtBQUFBLElBQU8sRUFBRSxHQUFHO0FBQUUsUUFBSSxHQUFFO0FBQUEsRUFBQzs7OztBQ0FsM3dCLEdBQUMsU0FBUyxHQUFFLEdBQUU7QUFBc0QsV0FBQSxVQUFlLEVBQUM7QUFBQSxFQUF5SSxFQUFFQSxnQkFBTSxXQUFVO0FBQUMsV0FBTyxJQUFFLEVBQUMsS0FBSSxTQUFTLElBQUUsSUFBRTtBQUFDLE9BQUMsU0FBUyxJQUFFLElBQUU7QUFBQyxpQkFBUSxLQUFLO0FBQUUsYUFBRSxLQUFHLEdBQUU7QUFBQSxNQUFFLEVBQUUsSUFBRSxTQUFTLElBQUU7QUFBQyxZQUFJLEtBQUUsQ0FBRTtBQUFDLG1CQUFXLEdBQUU7QUFBQyxjQUFHLEdBQUU7QUFBRyxtQkFBTyxHQUFFLEdBQUc7QUFBUSxjQUFJLElBQUUsR0FBRSxLQUFHLEVBQUMsR0FBRSxHQUFFLEdBQUUsT0FBRyxTQUFRLENBQUUsRUFBQTtBQUFFLGlCQUFPLEdBQUUsR0FBRyxLQUFLLEVBQUUsU0FBUSxHQUFFLEVBQUUsU0FBUSxDQUFDLEdBQUUsRUFBRSxJQUFFLE1BQUcsRUFBRTtBQUFBLFFBQU87QUFBQyxlQUFPLEVBQUUsSUFBRSxJQUFFLEVBQUUsSUFBRSxJQUFFLEVBQUUsSUFBRSxTQUFTLElBQUU7QUFBQyxpQkFBTztBQUFBLFFBQUMsR0FBRSxFQUFFLElBQUUsU0FBUyxJQUFFLElBQUUsR0FBRTtBQUFDLFlBQUUsRUFBRSxJQUFFLEVBQUMsS0FBRyxPQUFPLGVBQWUsSUFBRSxJQUFFLEVBQUMsY0FBYSxPQUFHLFlBQVcsTUFBRyxLQUFJLEVBQUMsQ0FBQztBQUFBLFFBQUMsR0FBRSxFQUFFLElBQUUsU0FBUyxJQUFFO0FBQUMsY0FBSSxLQUFFLE1BQUcsR0FBRSxhQUFXLFdBQVU7QUFBQyxtQkFBTyxHQUFFO0FBQUEsVUFBTyxJQUFFLFdBQVU7QUFBQyxtQkFBTztBQUFBLFVBQUM7QUFBRSxpQkFBTyxFQUFFLEVBQUUsSUFBRSxLQUFJLEVBQUMsR0FBRTtBQUFBLFFBQUMsR0FBRSxFQUFFLElBQUUsU0FBUyxJQUFFLElBQUU7QUFBQyxpQkFBTyxPQUFPLFVBQVUsZUFBZSxLQUFLLElBQUUsRUFBQztBQUFBLFFBQUMsR0FBRSxFQUFFLElBQUUsSUFBRyxFQUFFLEVBQUUsSUFBRSxDQUFDO0FBQUEsTUFBQyxFQUFFLENBQUMsU0FBUyxJQUFFLElBQUUsR0FBRTtBQUFjLGVBQU8sZUFBZSxJQUFFLGNBQWEsRUFBQyxPQUFNLEtBQUUsQ0FBQztBQUFFLFlBQUksSUFBRSxFQUFFLENBQUMsR0FBRSxJQUFFLFdBQVU7QUFBQyxzQkFBVyxJQUFFLElBQUU7QUFBQyxZQUFTLE9BQVQsVUFBYSxNQUFFLENBQUUsSUFBRSxBQUFTLE9BQVQsVUFBYSxNQUFFLEVBQUMsYUFBWSxNQUFFO0FBQUcsZ0JBQUksSUFBRSxLQUFFO0FBQUssaUJBQUssYUFBVyxDQUFBLEdBQUcsTUFBSSxDQUFhLE9BQU8sV0FBcEIsZUFBNkIsY0FBYSxVQUFRLEVBQUUsY0FBYyxFQUFDLEVBQUUsUUFBUyxTQUFTLElBQUU7QUFBQyxnQkFBRSxnQkFBZ0IsSUFBRSxFQUFDLEVBQUUsUUFBUyxTQUFTLElBQUU7QUFBQyxtQkFBRSxjQUFZLEdBQUUsT0FBTyxJQUFFLEVBQUUsaUJBQWlCLEVBQUMsQ0FBQyxJQUFFLEdBQUUsT0FBTyxJQUFFLEVBQUM7QUFBQSxjQUFDO1lBQUcsQ0FBQyxJQUFHLEFBQVUsT0FBTyxNQUFFLE9BQW5CLFlBQXVCLEFBQVUsT0FBTyxHQUFFLGNBQW5CLFlBQStCLEFBQVksT0FBTyxHQUFFLFdBQXJCLGFBQTZCLEdBQUUsUUFBUyxTQUFTLElBQUUsSUFBRTtBQUFDLGlCQUFFLE9BQU8sSUFBRSxFQUFDO0FBQUEsWUFBQyxDQUFHLElBQUMsQUFBYSxPQUFPLE9BQXBCLGVBQXlCLGNBQWEsTUFBSSxHQUFFLFFBQVMsU0FBUyxJQUFFLElBQUU7QUFBQyxpQkFBRSxPQUFPLElBQUUsRUFBQztBQUFBLFlBQUMsQ0FBQyxJQUFHLEFBQVUsT0FBTyxNQUFqQixXQUFtQixLQUFLLGlCQUFpQixFQUFDLElBQUUsQUFBVSxPQUFPLE1BQWpCLFlBQW9CLE9BQU8sb0JBQW9CLEVBQUMsRUFBRSxRQUFTLFNBQVMsSUFBRTtBQUFDLGtCQUFJLEtBQUUsR0FBRTtBQUFHLG9CQUFNLFFBQVEsRUFBQyxJQUFFLEdBQUUsUUFBUyxTQUFTLElBQUU7QUFBQyxtQkFBRSxPQUFPLElBQUUsRUFBQztBQUFBLGNBQUMsQ0FBQyxJQUFHLEdBQUUsT0FBTyxJQUFFLEVBQUM7QUFBQSxZQUFDLENBQUc7QUFBQSxVQUFDO0FBQUMsaUJBQU8sR0FBRSxVQUFVLG1CQUFpQixTQUFTLElBQUU7QUFBQyxxQkFBUSxLQUFFLEdBQUUsTUFBTSxNQUFNLEdBQUUsS0FBRSxHQUFFLEtBQUUsR0FBRSxRQUFPLE1BQUk7QUFBQyxrQkFBSSxLQUFFLEdBQUUsS0FBRyxLQUFFLEdBQUUsUUFBUSxHQUFHO0FBQUUsa0JBQUcsS0FBRSxHQUFFO0FBQUMsb0JBQUksSUFBRSxHQUFFLFVBQVUsR0FBRSxFQUFDLEVBQUUsS0FBTSxHQUFDLElBQUUsR0FBRSxVQUFVLEtBQUUsQ0FBQyxFQUFFLEtBQU07QUFBQyxxQkFBSyxPQUFPLEdBQUUsQ0FBQztBQUFBLGNBQUM7QUFBQSxZQUFDO0FBQUEsVUFBQyxHQUFFLEdBQUUsVUFBVSxTQUFPLFNBQVMsSUFBRSxJQUFFO0FBQUMsZ0JBQUksS0FBRSxFQUFFLGNBQWMsRUFBQztBQUFFLGdCQUFHLEFBQVMsT0FBVDtBQUFXLHFCQUFPLEtBQUssV0FBVztBQUFBLGlCQUFPO0FBQUMsa0JBQUksS0FBRSxLQUFLLFdBQVc7QUFBRyxrQkFBRyxJQUFFO0FBQUMsb0JBQUksSUFBRSxHQUFFLFFBQVEsRUFBQztBQUFFLHFCQUFHLEtBQUcsR0FBRSxPQUFPLEdBQUUsQ0FBQyxHQUFFLEFBQUksR0FBRSxXQUFOLEtBQWMsT0FBTyxLQUFLLFdBQVc7QUFBQSxjQUFFO0FBQUEsWUFBQztBQUFBLFVBQUMsR0FBRSxHQUFFLFVBQVUsU0FBTyxTQUFTLElBQUUsSUFBRTtBQUFDLGdCQUFJLEtBQUUsTUFBSyxLQUFFLEVBQUUsY0FBYyxFQUFDO0FBQUUsa0JBQU0sUUFBUSxLQUFLLFdBQVcsR0FBRSxLQUFJLE1BQUssV0FBVyxNQUFHLENBQUUsSUFBRSxNQUFNLFFBQVEsRUFBQyxJQUFFLEdBQUUsUUFBUyxTQUFTLElBQUU7QUFBQyxpQkFBRSxXQUFXLElBQUcsS0FBSyxFQUFFLGVBQWUsRUFBQyxDQUFDO0FBQUEsWUFBQyxDQUFDLElBQUcsS0FBSyxXQUFXLElBQUcsS0FBSyxFQUFFLGVBQWUsRUFBQyxDQUFDO0FBQUEsVUFBQyxHQUFFLEdBQUUsVUFBVSxNQUFJLFNBQVMsSUFBRSxJQUFFO0FBQUMsZ0JBQUksS0FBRSxFQUFFLGNBQWMsRUFBQztBQUFFLGdCQUFHLE1BQU0sUUFBUSxFQUFDLEdBQUU7QUFBQyxrQkFBSSxLQUFFLENBQUU7QUFBQyxpQkFBRSxRQUFTLFNBQVMsSUFBRTtBQUFDLG1CQUFFLEtBQUssRUFBRSxlQUFlLEVBQUMsQ0FBQztBQUFBLGNBQUMsQ0FBRyxHQUFDLEtBQUssV0FBVyxNQUFHO0FBQUEsWUFBQztBQUFNLG1CQUFLLFdBQVcsTUFBRyxDQUFDLEVBQUUsZUFBZSxFQUFDLENBQUM7QUFBQSxVQUFDLEdBQUUsR0FBRSxVQUFVLE1BQUksU0FBUyxJQUFFLElBQUU7QUFBQyxnQkFBSSxLQUFFLEtBQUssV0FBVyxFQUFFLGNBQWMsRUFBQztBQUFHLGdCQUFHLENBQUMsTUFBTSxRQUFRLEVBQUM7QUFBRSxxQkFBTTtBQUFHLGdCQUFHLEFBQVMsT0FBVCxRQUFXO0FBQUMsa0JBQUksS0FBRSxFQUFFLGVBQWUsRUFBQztBQUFFLHFCQUFPLEdBQUUsUUFBUSxFQUFDLEtBQUc7QUFBQSxZQUFDO0FBQUMsbUJBQU07QUFBQSxVQUFFLEdBQUUsR0FBRSxVQUFVLE1BQUksU0FBUyxJQUFFO0FBQUMsZ0JBQUksS0FBRSxLQUFLLFdBQVcsRUFBRSxjQUFjLEVBQUM7QUFBRyxtQkFBTyxBQUFTLE9BQVQsU0FBVyxHQUFFLE9BQU0sSUFBRyxDQUFBO0FBQUEsVUFBRSxHQUFFLEdBQUUsVUFBVSxVQUFRLFNBQVMsSUFBRTtBQUFDLGdCQUFJLEtBQUU7QUFBSyxtQkFBTyxvQkFBb0IsS0FBSyxVQUFVLEVBQUUsUUFBUyxTQUFTLElBQUU7QUFBQyxpQkFBRSxJQUFFLEdBQUUsV0FBVyxHQUFFO0FBQUEsWUFBQyxHQUFHLElBQUk7QUFBQSxVQUFDLEdBQUUsR0FBRSxVQUFVLFlBQVUsV0FBVTtBQUFDLGdCQUFHLEFBQWEsT0FBTyxXQUFwQixhQUE0QjtBQUFDLGtCQUFJLEtBQUUsSUFBSTtBQUFRLHFCQUFPLEtBQUssUUFBUyxTQUFTLElBQUUsSUFBRTtBQUFDLG1CQUFFLFFBQVMsU0FBUyxJQUFFO0FBQUMscUJBQUUsT0FBTyxJQUFFLEVBQUM7QUFBQSxnQkFBQyxDQUFDO0FBQUEsY0FBRSxDQUFDLEdBQUc7QUFBQSxZQUFDO0FBQUMsa0JBQU0sSUFBSSxNQUFNLDhCQUE4QjtBQUFBLFVBQUMsR0FBRTtBQUFBLFFBQUMsRUFBQztBQUFHLFdBQUUsaUJBQWU7QUFBQSxNQUFDLEdBQUUsU0FBUyxJQUFFLElBQUUsR0FBRTtBQUFjLGVBQU8sZUFBZSxJQUFFLGNBQWEsRUFBQyxPQUFNLEtBQUUsQ0FBQztBQUFFLFlBQUksSUFBRSxFQUFFLENBQUM7QUFBRSxXQUFFLGlCQUFlLEVBQUU7QUFBQSxNQUFjLEdBQUUsU0FBUyxJQUFFLElBQUUsR0FBRTtBQUFjLGVBQU8sZUFBZSxJQUFFLGNBQWEsRUFBQyxPQUFNLEtBQUUsQ0FBQyxHQUFFLEdBQUUsaUJBQWUsU0FBUyxJQUFFLElBQUU7QUFBQyxtQkFBUSxLQUFFLEdBQUUsT0FBTyxVQUFTLEdBQUcsSUFBRSxHQUFFLEtBQU0sR0FBQyxDQUFDLEVBQUU7QUFBTSxlQUFFLEVBQUUsTUFBTSxFQUFFLEdBQUUsSUFBRSxHQUFFLEtBQU07QUFBQSxRQUFBLEdBQUUsR0FBRSxxQkFBbUIsU0FBUyxJQUFFLElBQUU7QUFBQyxtQkFBUSxLQUFFLEdBQUUsS0FBTSxHQUFDLElBQUUsR0FBRSxLQUFJLEdBQUcsQ0FBQyxFQUFFO0FBQU0sZUFBRSxFQUFFLEtBQUssR0FBRSxJQUFFLEdBQUUsS0FBSTtBQUFBLFFBQUU7QUFBQSxNQUFDLEdBQUUsU0FBUyxJQUFFLElBQUUsR0FBRTtBQUFjLGVBQU8sZUFBZSxJQUFFLGNBQWEsRUFBQyxPQUFNLEtBQUUsQ0FBQztBQUFFLFlBQUksSUFBRSxFQUFFLENBQUM7QUFBRSxXQUFFLGdCQUFjLFNBQVMsSUFBRTtBQUFDLGNBQUcsQUFBVSxPQUFPLE1BQWpCLFlBQXFCLE1BQUUsT0FBTyxFQUFDLElBQUcsNkJBQTZCLEtBQUssRUFBQztBQUFFLGtCQUFNLElBQUksVUFBVSx3Q0FBd0M7QUFBRSxpQkFBTyxHQUFFLFlBQWE7QUFBQSxRQUFBLEdBQUUsR0FBRSxpQkFBZSxTQUFTLElBQUU7QUFBQyxpQkFBTSxBQUFVLE9BQU8sTUFBakIsWUFBcUIsTUFBRSxPQUFPLEVBQUMsSUFBRztBQUFBLFFBQUMsR0FBRSxHQUFFLGtCQUFnQixTQUFTLElBQUUsSUFBRTtBQUFDLGNBQUksS0FBRTtBQUFFLGNBQUcsY0FBYSxXQUFTLEdBQUU7QUFBTyxtQkFBTyxHQUFFLE9BQU8sRUFBQztBQUFFLGNBQUksS0FBRSxHQUFFLElBQUksRUFBQztBQUFFLGlCQUFPLE1BQUcsQUFBVSxPQUFPLE1BQWpCLFdBQW1CLENBQUMsRUFBQyxJQUFFO0FBQUEsUUFBQyxHQUFFLEdBQUUsZ0JBQWMsU0FBUyxJQUFFO0FBQUMsY0FBSSxLQUFFLElBQUUsS0FBRSxDQUFBLEdBQUcsSUFBRSxDQUFBO0FBQUcsaUJBQU8sR0FBRSxPQUFLLEVBQUUsbUJBQW1CLElBQUcsU0FBUyxJQUFFO0FBQUMsZUFBRSxPQUFLLElBQUUsTUFBRyxNQUFHLEVBQUUsS0FBSyxFQUFDO0FBQUEsVUFBRSxDQUFHLElBQUMsR0FBRSxVQUFRLEdBQUUsUUFBUyxTQUFTLElBQUUsSUFBRTtBQUFDLGVBQUUsT0FBSyxJQUFFLE1BQUcsTUFBRyxFQUFFLEtBQUssRUFBQztBQUFBLFVBQUUsQ0FBRyxJQUFDLEVBQUUsZUFBZSxJQUFHLFNBQVMsSUFBRTtBQUFDLGdCQUFJLEtBQUUsR0FBRTtBQUFHLGVBQUUsT0FBSyxJQUFFLE1BQUcsTUFBRyxFQUFFLEtBQUssRUFBQztBQUFBLFVBQUUsQ0FBQyxHQUFHO0FBQUEsUUFBQyxHQUFFLEdBQUUsbUJBQWlCLFNBQVMsSUFBRTtBQUFDLGNBQUksS0FBRSxDQUFFO0FBQUMsaUJBQU8sR0FBRSxNQUFNLElBQUksRUFBRSxRQUFTLFNBQVMsSUFBRTtBQUFDLGVBQUUsTUFBTSxHQUFHLEVBQUUsUUFBUyxTQUFTLElBQUU7QUFBQyxpQkFBRSxLQUFLLEVBQUM7QUFBQSxZQUFDLENBQUc7QUFBQSxVQUFBLENBQUcsR0FBQztBQUFBLFFBQUM7QUFBQSxNQUFDLENBQUMsQ0FBQyxDQUFDO0FBQUEsSUFBQyxHQUFFLEtBQUksU0FBUyxJQUFFLElBQUUsR0FBRTtBQUFjLGFBQU8sZUFBZSxJQUFFLGNBQWEsRUFBQyxPQUFNLEtBQUUsQ0FBQyxHQUFFLEdBQUUsY0FBWSxHQUFFLFlBQVUsR0FBRSxjQUFZLEdBQUUsY0FBWTtBQUFPLFVBQUksR0FBRSxJQUFFLEVBQUUsRUFBRTtBQUFFLGlCQUFXLElBQUU7QUFBQyxlQUFPLEFBQUssTUFBRSxRQUFQLEtBQVcsQUFBSyxPQUFMLE1BQVEsQUFBSyxPQUFMLE1BQVEsTUFBRyxNQUFJLE1BQUc7QUFBSSxZQUFJO0FBQUEsTUFBQztBQUFDLGlCQUFXLElBQUU7QUFBQyxpQkFBUSxLQUFFLEdBQUUsT0FBSSxHQUFFLFFBQU8sRUFBRTtBQUFFLGNBQUcsQ0FBQyxFQUFFLEdBQUUsR0FBRTtBQUFFLGtCQUFNLElBQUksTUFBTSx5Q0FBeUM7QUFBRSxlQUFPLE9BQU8sYUFBYSxNQUFNLFFBQU8sTUFBTSxVQUFVLE1BQU0sS0FBSyxFQUFDLENBQUM7QUFBQSxNQUFDO0FBQUMsaUJBQVcsSUFBRTtBQUFDLGVBQU8sQUFBTSxPQUFJLEdBQUUsU0FBUyxDQUFDLE1BQXRCO0FBQUEsTUFBd0I7QUFBQyxpQkFBVyxJQUFFO0FBQUMsZUFBTyxHQUFFLFVBQVUsR0FBRSxLQUFFO0FBQUEsTUFBQztBQUFDLGlCQUFXLElBQUUsSUFBRSxJQUFFO0FBQUMsZUFBTyxHQUFFLGFBQVcsTUFBRztBQUFBLE1BQUM7QUFBQyxpQkFBVyxJQUFFLElBQUUsSUFBRTtBQUFDLFlBQUcsR0FBRTtBQUFNLGlCQUFPLEdBQUUsTUFBTSxJQUFFLEVBQUM7QUFBRSxZQUFJLEtBQUUsR0FBRTtBQUFPLFFBQVMsT0FBVCxVQUFhLE1BQUU7QUFBRyxpQkFBUSxLQUFFLElBQUksV0FBVyxLQUFFLEVBQUMsR0FBRSxLQUFFLEdBQUUsS0FBRSxJQUFFLEtBQUUsSUFBRTtBQUFJLGFBQUUsUUFBSyxHQUFFO0FBQUcsZUFBTztBQUFBLE1BQUM7QUFBQyxTQUFFLGNBQVksR0FBRSxHQUFFLGNBQVksU0FBUyxJQUFFO0FBQUMsaUJBQVEsS0FBRSxJQUFJLFdBQVcsR0FBRSxNQUFNLEdBQUUsS0FBRSxHQUFFLE9BQUksR0FBRSxRQUFPLEVBQUUsSUFBRTtBQUFDLGNBQUksS0FBRSxHQUFFLFdBQVcsRUFBQztBQUFFLGNBQUcsQ0FBQyxFQUFFLEVBQUM7QUFBRSxrQkFBTSxJQUFJLE1BQU0saUNBQWlDO0FBQUUsYUFBRSxNQUFHO0FBQUEsUUFBQztBQUFDLGVBQU87QUFBQSxNQUFDLEdBQUUsU0FBUyxJQUFFO0FBQUMsV0FBRSxHQUFFLFVBQVEsS0FBRyxXQUFVLEdBQUUsR0FBRSxXQUFTLEtBQUc7QUFBQSxNQUFVLEVBQUUsSUFBRSxHQUFFLGFBQVksSUFBRSxZQUFVLENBQUEsRUFBRztBQUFFLFVBQUksS0FBRSxXQUFVO0FBQUMsc0JBQVk7QUFBQyxlQUFLLFNBQU8sTUFBSyxLQUFLLFdBQVM7QUFBQSxRQUFDO0FBQUMsZUFBTyxHQUFFLFVBQVUsUUFBTSxTQUFTLElBQUUsSUFBRTtBQUFDLGNBQUcsQUFBSSxHQUFFLFdBQU4sS0FBYztBQUFFLG1CQUFNLENBQUE7QUFBRyxjQUFJLElBQUUsS0FBRSxDQUFFO0FBQUMsY0FBRyxBQUFNLEtBQUssVUFBWDtBQUFrQixpQkFBSyxTQUFPLElBQUUsS0FBSyxXQUFTO0FBQUEsbUJBQVUsS0FBSyxhQUFXLEtBQUssT0FBTztBQUFXLGlCQUFLLFNBQU8sSUFBRSxLQUFLLFdBQVM7QUFBQSxlQUFNO0FBQUMsZ0JBQUksS0FBRSxLQUFLLE9BQU8sYUFBVyxLQUFLLFVBQVMsSUFBRSxJQUFJLFdBQVcsS0FBRSxHQUFFLFVBQVUsR0FBRSxJQUFFLEVBQUUsS0FBSyxRQUFPLEtBQUssUUFBUTtBQUFFLGNBQUUsSUFBSSxHQUFFLENBQUM7QUFBRSxnQkFBSSxJQUFFLElBQUksV0FBVyxFQUFDO0FBQUUsY0FBRSxJQUFJLEdBQUUsRUFBQyxHQUFFLEtBQUssU0FBTyxHQUFFLEtBQUssV0FBUztBQUFBLFVBQUM7QUFBQyxxQkFBTztBQUFDLGdCQUFHLENBQUMsRUFBRSxLQUFLLFFBQU8sS0FBSyxVQUFTLENBQUM7QUFBRSxxQkFBTztBQUFFLGdCQUFJLElBQUUsRUFBRSxLQUFLLFFBQU8sS0FBSyxVQUFTLEtBQUssV0FBUyxDQUFDLEdBQUUsSUFBRSxJQUFJLFNBQVMsRUFBRSxRQUFPLEVBQUUsWUFBVyxFQUFFLFVBQVUsR0FBRSxJQUFFLEVBQUUsQ0FBQztBQUFFLGdCQUFHLENBQUMsRUFBRSxLQUFLLFFBQU8sS0FBSyxVQUFTLElBQUUsQ0FBQztBQUFFLHFCQUFPO0FBQUUsZ0JBQUksSUFBRSxFQUFFLEtBQUssUUFBTyxLQUFLLFdBQVMsR0FBRSxLQUFLLFdBQVMsSUFBRSxDQUFDO0FBQUUsZ0JBQUcsS0FBSyxZQUFVLElBQUUsR0FBRSxFQUFFLENBQUM7QUFBRSxxQkFBTyxHQUFFLEtBQUssRUFBQyxXQUFVLEVBQUUsVUFBUyxVQUFVLE1BQUUsR0FBRSxJQUFJLEVBQUUsU0FBUyxFQUFFLEVBQUMsQ0FBQyxHQUFFLENBQUMsR0FBRTtBQUFFLGVBQUUsS0FBSyxFQUFDLFdBQVUsRUFBRSxTQUFRLE1BQUssRUFBQyxDQUFDO0FBQUEsVUFBQztBQUFBLFFBQUMsR0FBRTtBQUFBLE1BQUMsRUFBQztBQUFHLFNBQUUsY0FBWTtBQUFBLElBQUMsR0FBRSxHQUFFLFNBQVMsSUFBRSxJQUFFO0FBQWMsVUFBSTtBQUFFLGFBQU8sZUFBZSxJQUFFLGNBQWEsRUFBQyxPQUFNLEtBQUUsQ0FBQyxHQUFFLEdBQUUsbUJBQWlCLEdBQUUsT0FBSyxRQUFPLFNBQVMsSUFBRTtBQUFDLFdBQUUsR0FBRSxLQUFHLEtBQUcsTUFBSyxHQUFFLEdBQUUsV0FBUyxLQUFHLFlBQVcsR0FBRSxHQUFFLFVBQVEsS0FBRyxXQUFVLEdBQUUsR0FBRSxrQkFBZ0IsS0FBRyxtQkFBa0IsR0FBRSxHQUFFLG1CQUFpQixLQUFHLG9CQUFtQixHQUFFLEdBQUUsV0FBUyxLQUFHLFlBQVcsR0FBRSxHQUFFLGdCQUFjLEtBQUcsaUJBQWdCLEdBQUUsR0FBRSxtQkFBaUIsS0FBRyxvQkFBbUIsR0FBRSxHQUFFLG9CQUFrQixLQUFHLHFCQUFvQixHQUFFLEdBQUUscUJBQW1CLEtBQUcsc0JBQXFCLEdBQUUsR0FBRSxVQUFRLE1BQUksV0FBVSxHQUFFLEdBQUUsYUFBVyxNQUFJLGNBQWEsR0FBRSxHQUFFLGdCQUFjLE1BQUksaUJBQWdCLEdBQUUsR0FBRSxXQUFTLE1BQUksWUFBVyxHQUFFLEdBQUUsY0FBWSxNQUFJLGVBQWMsR0FBRSxHQUFFLFdBQVMsTUFBSSxZQUFXLEdBQUUsR0FBRSxrQkFBZ0IsTUFBSTtBQUFBLE1BQWlCLEVBQUUsSUFBRSxHQUFFLFFBQU8sSUFBRSxPQUFLLENBQUEsRUFBRyxHQUFFLEdBQUUsbUJBQWlCLFNBQVMsSUFBRTtBQUFDLGdCQUFPO0FBQUEsZUFBUTtBQUFFLG1CQUFPLEVBQUU7QUFBQSxlQUFjO0FBQUksbUJBQU8sRUFBRTtBQUFBLGVBQVE7QUFBSSxtQkFBTyxFQUFFO0FBQUEsZUFBcUI7QUFBSSxtQkFBTyxFQUFFO0FBQUEsZUFBcUI7QUFBSSxtQkFBTyxFQUFFO0FBQUEsZUFBc0I7QUFBSSxtQkFBTyxFQUFFO0FBQUEsZUFBYztBQUFJLG1CQUFPLEVBQUU7QUFBQSxlQUFhO0FBQUksbUJBQU8sRUFBRTtBQUFBLGVBQXdCO0FBQUksbUJBQU8sRUFBRTtBQUFBLGVBQXVCO0FBQUksbUJBQU8sRUFBRTtBQUFBLGVBQWM7QUFBSSxtQkFBTyxFQUFFO0FBQUEsZUFBYTtBQUFJLG1CQUFPLEVBQUU7QUFBQSxlQUFtQjtBQUFJLG1CQUFPLEVBQUU7QUFBQSxlQUFpQjtBQUFJLG1CQUFPLEVBQUU7QUFBQTtBQUF5QixtQkFBTyxFQUFFO0FBQUE7QUFBQSxNQUFRO0FBQUEsSUFBQyxHQUFFLEtBQUksU0FBUyxJQUFFLElBQUUsR0FBRTtBQUFjLGFBQU8sZUFBZSxJQUFFLGNBQWEsRUFBQyxPQUFNLEtBQUUsQ0FBQyxHQUFFLEdBQUUsU0FBTztBQUFPLFVBQUksSUFBRSxFQUFFLEVBQUUsR0FBRSxJQUFFLEVBQUUsR0FBRyxHQUFFLElBQUUsRUFBRSxDQUFDLEdBQUUsSUFBRSxFQUFFLEdBQUcsR0FBRSxJQUFFLEVBQUUsRUFBRSxHQUFFLElBQUUsRUFBRSxHQUFHO0FBQUUsU0FBRSxTQUFPLFNBQVMsSUFBRSxJQUFFO0FBQUMsZUFBTyxJQUFJLEVBQUUsSUFBRSxFQUFDO0FBQUEsTUFBQztBQUFFLFVBQUksSUFBRSxXQUFVO0FBQUMsb0JBQVcsSUFBRSxJQUFFO0FBQUMsZUFBSyxVQUFRLE9BQUcsS0FBSyxtQkFBaUIsT0FBRyxLQUFLLFlBQVUsT0FBRyxLQUFLLFNBQU8sT0FBRyxLQUFLLGtCQUFnQixPQUFHLEtBQUsscUJBQW1CLENBQUEsR0FBRyxLQUFLLHFCQUFtQixDQUFBLEdBQUcsS0FBSyxpQkFBZSxDQUFBLEdBQUcsS0FBSyxTQUFPLElBQUksRUFBRSxlQUFZLEtBQUssbUJBQWlCLElBQUUsS0FBSyxRQUFNLElBQUUsS0FBSyxnQkFBaUI7QUFBQSxRQUFBO0FBQUMsZUFBTyxHQUFFLFVBQVUsa0JBQWdCLFdBQVU7QUFBQyxjQUFJLEtBQUUsS0FBSyxNQUFNLE9BQUssTUFBSSxLQUFLLGlCQUFpQixRQUFRLGNBQVksTUFBSSxLQUFLLGlCQUFpQixZQUFXLEtBQUUsRUFBQyxrQkFBaUIsS0FBSyxrQkFBaUIsT0FBTSxLQUFLLE1BQU0sU0FBTyxPQUFHLEtBQUksSUFBRSxXQUFVLEtBQUssbUJBQW1CLEtBQUssSUFBSSxHQUFFLFNBQVEsS0FBSyxpQkFBaUIsS0FBSyxJQUFJLEdBQUUsT0FBTSxLQUFLLGVBQWUsS0FBSyxJQUFJLEVBQUM7QUFBRSxlQUFLLE1BQU0sWUFBVSxLQUFLLFlBQVUsS0FBSyxNQUFNLFVBQVUsRUFBQyxJQUFFLEtBQUssWUFBVSxFQUFFLHFCQUFxQixFQUFDO0FBQUEsUUFBQyxHQUFFLEdBQUUsVUFBVSxxQkFBbUIsU0FBUyxJQUFFLElBQUU7QUFBQyxjQUFHLEtBQUssTUFBTSxTQUFPLEVBQUUsTUFBTSxhQUFZLElBQUUsRUFBQyxHQUFFLEtBQUs7QUFBTyxpQkFBSyxNQUFNLFNBQU8sRUFBRSxNQUFNLDZEQUE2RDtBQUFBLG1CQUFVLEFBQUksT0FBSjtBQUFNO0FBQUEsZUFBSztBQUFDLGlCQUFLLGtCQUFnQixJQUFFLEtBQUssTUFBTSxTQUFPLEVBQUUsTUFBTSw2QkFBNEIsS0FBSyxVQUFVLEtBQUssaUJBQWdCLE1BQUssQ0FBQyxDQUFDO0FBQUUsZ0JBQUksS0FBRSxFQUFFLEVBQUM7QUFBRSxpQkFBSyxNQUFNLFNBQU8sRUFBRSxNQUFNLHdCQUF1QixFQUFDO0FBQUUsZ0JBQUksS0FBRSxNQUFHLE1BQUcsSUFBRSxLQUFFLEVBQUUsaUJBQWlCLEVBQUM7QUFBRSxpQkFBSyxNQUFNLFNBQU8sRUFBRSxNQUFNLGtCQUFpQixFQUFDO0FBQUUsZ0JBQUksS0FBRSxHQUFFLElBQUksY0FBYyxLQUFHLENBQUU7QUFBQyxnQkFBRyxLQUFLLE1BQU0sU0FBTyxFQUFFLE1BQU0seUJBQXdCLEVBQUMsR0FBRSxLQUFLLGFBQWEsRUFBQyxHQUFFLE9BQUksRUFBRSxLQUFLLElBQUc7QUFBQyxrQkFBSSxLQUFFLEtBQUssaUJBQWlCLEdBQUUsRUFBRTtBQUFFLG1CQUFLLFdBQVcsSUFBRSxJQUFFLEVBQUM7QUFBQSxZQUFDO0FBQUEsVUFBQztBQUFBLFFBQUMsR0FBRSxHQUFFLFVBQVUsbUJBQWlCLFNBQVMsSUFBRTtBQUFDLGNBQUksS0FBRTtBQUFLLGNBQUcsS0FBSztBQUFPLGlCQUFLLE1BQU0sU0FBTyxFQUFFLE1BQU0sMkRBQTJEO0FBQUEsZUFBTTtBQUFDLGdCQUFJLEtBQUUsQ0FBQTtBQUFHLGdCQUFHO0FBQUMsbUJBQUUsS0FBSyxPQUFPLE1BQU0sRUFBQztBQUFBLFlBQUMsU0FBTyxJQUFOO0FBQVMscUJBQU8sS0FBSyxNQUFNLFNBQU8sRUFBRSxNQUFNLHlCQUF3QixJQUFFLEdBQUUsT0FBTyxHQUFFLEtBQUssS0FBSyxXQUFXLEVBQUUsS0FBSyxVQUFTLG9CQUFrQixHQUFFLE9BQU87QUFBQSxZQUFDO0FBQUMsZUFBRSxRQUFTLFNBQVMsSUFBRTtBQUFDLGtCQUFHLEdBQUUsY0FBWSxFQUFFLFVBQVUsU0FBUTtBQUFDLG9CQUFJLEtBQUUsR0FBRSxpQkFBaUIsYUFBYSxrQkFBa0IsR0FBRSxJQUFJO0FBQUUsbUJBQUUsYUFBYSxFQUFDO0FBQUEsY0FBQztBQUFNLG1CQUFFLGNBQVksRUFBRSxVQUFVLFlBQVcsSUFBRSxrQkFBaUIsSUFBRSxtQkFBaUIsSUFBSSxFQUFFLFNBQVMsR0FBRSxRQUFRLEdBQUUsR0FBRSxNQUFNLFNBQU8sRUFBRSxNQUFNLG9CQUFtQixHQUFFLGdCQUFnQixLQUFJLElBQUUsa0JBQWdCLElBQUksRUFBRSxTQUFTLEdBQUUsUUFBUSxHQUFFLEdBQUUsYUFBYSxHQUFFLGVBQWU7QUFBQSxZQUFHLENBQUc7QUFBQSxVQUFBO0FBQUEsUUFBQyxHQUFFLEdBQUUsVUFBVSxpQkFBZSxXQUFVO0FBQUMsY0FBRyxLQUFLLE1BQU0sU0FBTyxFQUFFLE1BQU0sWUFBWSxHQUFFLEtBQUs7QUFBTyxpQkFBSyxNQUFNLFNBQU8sRUFBRSxNQUFNLHlEQUF5RDtBQUFBLG1CQUFVLEFBQVMsS0FBSyxxQkFBZCxRQUErQjtBQUFDLGdCQUFJLEtBQUUsRUFBRSxLQUFLLGdCQUFnQjtBQUFFLGdCQUFHLEFBQU8sT0FBUCxNQUFTO0FBQUMsa0JBQUksS0FBRSxLQUFLLGlCQUFpQixJQUFJLGNBQWMsR0FBRSxLQUFFLEtBQUssaUJBQWlCLEdBQUUsRUFBRTtBQUFFLG1CQUFLLFNBQVMsSUFBRSxJQUFFLEtBQUssZ0JBQWdCO0FBQUEsWUFBQztBQUFNLG1CQUFLLFdBQVcsRUFBRSxLQUFLLFVBQVMseURBQXlEO0FBQUEsVUFBQyxPQUFLO0FBQUMsZ0JBQUcsQUFBUyxLQUFLLG9CQUFkO0FBQThCLHFCQUFPLEtBQUssS0FBSyxXQUFXLEVBQUUsS0FBSyxTQUFRLGlDQUFpQztBQUFFLGdCQUFJLEtBQUUsRUFBRSxLQUFLLGVBQWUsR0FBRSxLQUFFLEtBQUssZ0JBQWdCLElBQUksY0FBYztBQUFFLGdCQUFHLEtBQUssTUFBTSxTQUFPLEVBQUUsTUFBTSwrQkFBOEIsSUFBRSxFQUFDLEdBQUUsQUFBTyxPQUFQO0FBQVMscUJBQU8sS0FBSyxLQUFLLFNBQVMsRUFBRSxLQUFLLFNBQVEsc0RBQXFELEtBQUssZUFBZTtBQUFFLGdCQUFJLEtBQUUsS0FBSyxpQkFBaUIsR0FBRSxFQUFFO0FBQUUsaUJBQUssU0FBUyxJQUFFLElBQUUsS0FBSyxlQUFlO0FBQUEsVUFBQztBQUFBLFFBQUMsR0FBRSxHQUFFLFVBQVUsbUJBQWlCLFNBQVMsSUFBRTtBQUFDLGNBQUcsQ0FBQztBQUFFLG1CQUFNO0FBQUcsY0FBRztBQUFDLG1CQUFPLG1CQUFtQixFQUFDO0FBQUEsVUFBQyxTQUFPLElBQU47QUFBUyxtQkFBTztBQUFBLFVBQUM7QUFBQSxRQUFDLEdBQUUsR0FBRSxVQUFVLFdBQVMsU0FBUyxJQUFFLElBQUUsSUFBRTtBQUFDLGNBQUksS0FBRTtBQUFLLGVBQUssTUFBTSxTQUFPLEVBQUUsTUFBTSxZQUFXLElBQUUsSUFBRSxFQUFDLEdBQUUsS0FBSyxhQUFZLE1BQUssWUFBVSxNQUFHLEtBQUssZUFBZSxRQUFTLFNBQVMsSUFBRTtBQUFDLGdCQUFHLENBQUMsR0FBRTtBQUFPLGtCQUFHO0FBQUMsbUJBQUUsSUFBRSxJQUFFLEVBQUM7QUFBQSxjQUFDLFNBQU8sSUFBTjtBQUFTLDJCQUFZLFdBQVU7QUFBQyx3QkFBTTtBQUFBLGdCQUFDLEdBQUcsQ0FBQztBQUFBLGNBQUM7QUFBQSxVQUFDLENBQUM7QUFBQSxRQUFHLEdBQUUsR0FBRSxVQUFVLGVBQWEsU0FBUyxJQUFFO0FBQUMsZUFBSyxNQUFNLFNBQU8sRUFBRSxNQUFNLGdCQUFlLEVBQUMsR0FBRSxLQUFLLGFBQVcsS0FBSyxtQkFBbUIsUUFBUyxTQUFTLElBQUU7QUFBQyxnQkFBRztBQUFDLGlCQUFFLEVBQUM7QUFBQSxZQUFDLFNBQU8sSUFBTjtBQUFTLHlCQUFZLFdBQVU7QUFBQyxzQkFBTTtBQUFBLGNBQUMsR0FBRyxDQUFDO0FBQUEsWUFBQztBQUFBLFVBQUMsQ0FBRztBQUFBLFFBQUEsR0FBRSxHQUFFLFVBQVUsYUFBVyxTQUFTLElBQUUsSUFBRSxJQUFFO0FBQUMsY0FBSSxLQUFFO0FBQUssVUFBUyxPQUFULFVBQWEsTUFBRSxJQUFJLEVBQUUsYUFBVSxLQUFLLE1BQU0sU0FBTyxFQUFFLE1BQU0sY0FBYSxJQUFFLEVBQUMsR0FBRSxLQUFLLGFBQVksTUFBSyxZQUFVLE1BQUcsS0FBSyxlQUFlLFFBQVMsU0FBUyxJQUFFO0FBQUMsZ0JBQUcsQ0FBQyxHQUFFO0FBQU8sa0JBQUc7QUFBQyxtQkFBRSxJQUFFLElBQUUsRUFBQztBQUFBLGNBQUMsU0FBTyxJQUFOO0FBQVMsMkJBQVksV0FBVTtBQUFDLHdCQUFNO0FBQUEsZ0JBQUMsR0FBRyxDQUFDO0FBQUEsY0FBQztBQUFBLFVBQUMsQ0FBQztBQUFBLFFBQUcsR0FBRSxHQUFFLFVBQVUsZUFBYSxTQUFTLElBQUU7QUFBQyxjQUFJLEtBQUU7QUFBSyxlQUFLLE1BQU0sU0FBTyxFQUFFLE1BQU0sZ0JBQWUsR0FBRSxTQUFVLENBQUEsR0FBRSxLQUFLLGFBQVcsS0FBSyxVQUFRLEtBQUssbUJBQW1CLFFBQVMsU0FBUyxJQUFFO0FBQUMsZ0JBQUcsQ0FBQyxHQUFFO0FBQU8sa0JBQUc7QUFBQyxtQkFBRSxFQUFDO0FBQUEsY0FBQyxTQUFPLElBQU47QUFBUywyQkFBWSxXQUFVO0FBQUMsd0JBQU07QUFBQSxnQkFBQyxHQUFHLENBQUM7QUFBQSxjQUFDO0FBQUEsVUFBQyxDQUFHO0FBQUEsUUFBQSxHQUFFLEdBQUUsVUFBVSxZQUFVLFNBQVMsSUFBRTtBQUFDLGVBQUssbUJBQW1CLEtBQUssRUFBQztBQUFBLFFBQUMsR0FBRSxHQUFFLFVBQVUsWUFBVSxTQUFTLElBQUU7QUFBQyxlQUFLLG1CQUFtQixLQUFLLEVBQUM7QUFBQSxRQUFDLEdBQUUsR0FBRSxVQUFVLFFBQU0sU0FBUyxJQUFFO0FBQUMsZUFBSyxlQUFlLEtBQUssRUFBQztBQUFBLFFBQUMsR0FBRSxHQUFFLFVBQVUsUUFBTSxTQUFTLElBQUU7QUFBQyxjQUFHLEtBQUs7QUFBUSxrQkFBTSxJQUFJLE1BQU0sMENBQTBDO0FBQUUsZUFBSyxVQUFRO0FBQUcsY0FBSSxLQUFFLElBQUksRUFBRSxTQUFTLE1BQUcsQ0FBQSxDQUFFO0FBQUUsYUFBRSxJQUFJLGdCQUFlLDRCQUE0QixHQUFFLEdBQUUsSUFBSSxjQUFhLEdBQUcsR0FBRSxLQUFLLFVBQVUsTUFBTSxFQUFDO0FBQUEsUUFBQyxHQUFFLEdBQUUsVUFBVSxPQUFLLFNBQVMsSUFBRTtBQUFDLGNBQUcsQ0FBQyxLQUFLO0FBQVEsa0JBQU0sSUFBSSxNQUFNLDZEQUE2RDtBQUFFLGNBQUcsS0FBSztBQUFPLGtCQUFNLElBQUksTUFBTSx3Q0FBd0M7QUFBRSxjQUFHLEtBQUs7QUFBZ0Isa0JBQU0sSUFBSSxNQUFNLGtEQUFrRDtBQUFFLGNBQUcsQ0FBQyxLQUFLLGlCQUFpQixpQkFBZSxLQUFLO0FBQWlCLGtCQUFNLElBQUksTUFBTSx1RUFBdUU7QUFBRSxlQUFLLG1CQUFpQjtBQUFHLGNBQUksS0FBRSxFQUFFLGFBQWEsRUFBQztBQUFFLGVBQUssVUFBVSxZQUFZLEVBQUM7QUFBQSxRQUFDLEdBQUUsR0FBRSxVQUFVLGFBQVcsV0FBVTtBQUFDLGNBQUcsQ0FBQyxLQUFLO0FBQVEsa0JBQU0sSUFBSSxNQUFNLG1FQUFtRTtBQUFFLGNBQUcsS0FBSztBQUFPLGtCQUFNLElBQUksTUFBTSx3Q0FBd0M7QUFBRSxjQUFHLEtBQUs7QUFBZ0Isa0JBQU0sSUFBSSxNQUFNLHdEQUF3RDtBQUFFLGVBQUssa0JBQWdCLE1BQUcsS0FBSyxVQUFVLFdBQVU7QUFBQSxRQUFFLEdBQUUsR0FBRSxVQUFVLFFBQU0sV0FBVTtBQUFDLGNBQUcsQ0FBQyxLQUFLO0FBQVEsa0JBQU0sSUFBSSxNQUFNLDhEQUE4RDtBQUFFLGNBQUcsS0FBSztBQUFPLGtCQUFNLElBQUksTUFBTSx5Q0FBeUM7QUFBRSxlQUFLLFNBQU8sTUFBRyxLQUFLLE1BQU0sU0FBTyxFQUFFLE1BQU0sZ0NBQWdDLEdBQUUsS0FBSyxVQUFVLE9BQU07QUFBQSxRQUFFLEdBQUU7QUFBQSxNQUFDLEVBQUc7QUFBQyxpQkFBVyxJQUFFO0FBQUMsWUFBSSxLQUFFLEdBQUUsSUFBSSxhQUFhLEtBQUcsQ0FBRTtBQUFDLFlBQUcsR0FBRSxTQUFPO0FBQUUsY0FBRztBQUFDLGdCQUFJLEtBQUUsR0FBRTtBQUFHLG1CQUFPLFNBQVMsSUFBRSxFQUFFO0FBQUEsVUFBQyxTQUFPLElBQU47QUFBUyxtQkFBTztBQUFBLFVBQUk7QUFBQyxlQUFPO0FBQUEsTUFBSTtBQUFBLElBQUMsR0FBRSxLQUFJLFNBQVMsSUFBRSxJQUFFO0FBQWMsYUFBTyxlQUFlLElBQUUsY0FBYSxFQUFDLE9BQU0sS0FBRSxDQUFDLEdBQUUsR0FBRSxRQUFNLFFBQU8sR0FBRSxRQUFNLFdBQVU7QUFBQyxpQkFBUSxLQUFFLENBQUUsR0FBQyxLQUFFLEdBQUUsS0FBRSxVQUFVLFFBQU87QUFBSSxhQUFFLE1BQUcsVUFBVTtBQUFHLGdCQUFRLFFBQU0sUUFBUSxNQUFNLE1BQU0sTUFBSyxFQUFDLElBQUUsUUFBUSxJQUFJLE1BQU0sTUFBSyxFQUFDO0FBQUEsTUFBQztBQUFBLElBQUMsR0FBRSxLQUFJLFNBQVMsSUFBRSxJQUFFLEdBQUU7QUFBYyxhQUFPLGVBQWUsSUFBRSxjQUFhLEVBQUMsT0FBTSxLQUFFLENBQUMsR0FBRSxHQUFFLE9BQUs7QUFBTyxVQUFJLEdBQUUsSUFBRSxFQUFFLEdBQUcsR0FBRSxJQUFFLEVBQUUsRUFBRSxHQUFFLElBQUUsRUFBRSxHQUFHLEdBQUUsSUFBRSxFQUFFLEdBQUcsR0FBRSxJQUFFLEVBQUUsR0FBRyxHQUFFLElBQUUsRUFBRSxHQUFHLEdBQUUsSUFBRSxFQUFFLENBQUMsR0FBRSxLQUFFLEVBQUUsR0FBRyxHQUFFLElBQUUsRUFBRSxFQUFFLEdBQUUsSUFBRSxFQUFFLEdBQUc7QUFBRSxNQUFDLEtBQUUsR0FBRSxRQUFPLElBQUUsT0FBSyxDQUFBLElBQUssc0JBQW9CLEVBQUUsNEJBQTJCLEVBQUUsNEJBQTBCLEVBQUUsMkJBQTBCLEVBQUUsK0JBQTZCLEVBQUUsOEJBQTZCLEVBQUUsZUFBYSxFQUFFLGNBQWEsRUFBRSxxQkFBbUIsRUFBRSxvQkFBbUIsRUFBRSxPQUFLLEVBQUUsTUFBSyxFQUFFLFdBQVMsRUFBRSxnQkFBZSxFQUFFLFNBQU8sU0FBUyxJQUFFLElBQUU7QUFBQyxlQUFPLEVBQUUsT0FBTyxJQUFFLEVBQUM7QUFBQSxNQUFDLEdBQUUsRUFBRSxTQUFPLEdBQUUsUUFBTyxFQUFFLFFBQU0sRUFBRTtBQUFBLElBQUssR0FBRSxLQUFJLFNBQVMsSUFBRSxJQUFFLEdBQUU7QUFBYyxhQUFPLGVBQWUsSUFBRSxjQUFhLEVBQUMsT0FBTSxLQUFFLENBQUMsR0FBRSxHQUFFLFNBQU87QUFBTyxVQUFJLElBQUUsRUFBRSxHQUFHO0FBQUUsU0FBRSxTQUFPLFNBQVMsSUFBRSxJQUFFO0FBQUMsWUFBRyxHQUFFO0FBQWMsZ0JBQU0sSUFBSSxNQUFNLDRFQUE0RTtBQUFFLFlBQUksS0FBRSxFQUFFLE9BQU8sSUFBRSxFQUFDLE1BQUssR0FBRSxNQUFLLFdBQVUsR0FBRSxXQUFVLE9BQU0sR0FBRSxNQUFLLENBQUM7QUFBRSxlQUFPLEdBQUUsYUFBVyxHQUFFLFVBQVUsR0FBRSxTQUFTLEdBQUUsR0FBRSxhQUFXLEdBQUUsVUFBVSxHQUFFLFNBQVMsR0FBRSxHQUFFLFNBQU8sR0FBRSxNQUFNLEdBQUUsS0FBSyxHQUFFLEdBQUUsTUFBTSxHQUFFLFFBQVEsR0FBRSxHQUFFLEtBQUssR0FBRSxPQUFPLEdBQUUsR0FBRSxXQUFZLEdBQUMsRUFBQyxPQUFNLFdBQVU7QUFBQyxhQUFFLE1BQU87QUFBQSxRQUFBLEVBQUM7QUFBQSxNQUFDO0FBQUEsSUFBQyxHQUFFLElBQUcsU0FBUyxJQUFFLElBQUUsR0FBRTtBQUFjLGFBQU8sZUFBZSxJQUFFLGNBQWEsRUFBQyxPQUFNLEtBQUUsQ0FBQyxHQUFFLEdBQUUsV0FBUztBQUFPLFVBQUksSUFBRSxFQUFFLEdBQUc7QUFBRSxhQUFPLGVBQWUsSUFBRSxZQUFXLEVBQUMsWUFBVyxNQUFHLEtBQUksV0FBVTtBQUFDLGVBQU8sRUFBRTtBQUFBLE1BQWMsRUFBQyxDQUFDO0FBQUEsSUFBQyxHQUFFLElBQUcsU0FBUyxJQUFFLElBQUUsR0FBRTtBQUFjLGFBQU8sZUFBZSxJQUFFLGNBQWEsRUFBQyxPQUFNLEtBQUUsQ0FBQyxHQUFFLEdBQUUsdUJBQXFCLEdBQUUsNkJBQTJCO0FBQU8sVUFBSSxJQUFFLEVBQUUsR0FBRyxHQUFFLElBQUUsU0FBUyxJQUFFO0FBQUMsZUFBTyxFQUFFLDBCQUEwQixFQUFDLGlCQUFnQixNQUFFLENBQUMsRUFBRSxFQUFDO0FBQUEsTUFBQztBQUFFLFNBQUUsNkJBQTJCLFNBQVMsSUFBRTtBQUFDLFlBQUU7QUFBQSxNQUFDLEdBQUUsR0FBRSx1QkFBcUIsU0FBUyxJQUFFO0FBQUMsZUFBTyxFQUFFLEVBQUM7QUFBQSxNQUFDO0FBQUEsSUFBQyxHQUFFLEtBQUksU0FBUyxJQUFFLElBQUUsR0FBRTtBQUFjLFVBQUksSUFBRSxRQUFNLEtBQUssWUFBVSxXQUFVO0FBQUMsZUFBTyxLQUFFLE9BQU8sVUFBUSxTQUFTLElBQUU7QUFBQyxtQkFBUSxJQUFFLEtBQUUsR0FBRSxLQUFFLFVBQVUsUUFBTyxLQUFFLElBQUU7QUFBSSxxQkFBUSxNQUFLLEtBQUUsVUFBVTtBQUFHLHFCQUFPLFVBQVUsZUFBZSxLQUFLLElBQUUsRUFBQyxLQUFJLElBQUUsTUFBRyxHQUFFO0FBQUksaUJBQU87QUFBQSxRQUFDLEdBQUcsTUFBTSxNQUFLLFNBQVM7QUFBQSxNQUFDO0FBQUUsYUFBTyxlQUFlLElBQUUsY0FBYSxFQUFDLE9BQU0sS0FBRSxDQUFDLEdBQUUsR0FBRSxxQkFBbUIsR0FBRSwrQkFBNkI7QUFBTyxVQUFJLElBQUUsRUFBRSxFQUFFLEdBQUUsSUFBRSxFQUFFLEdBQUc7QUFBRSxTQUFFLCtCQUE2QixTQUFTLElBQUU7QUFBQyxlQUFPLFNBQVMsSUFBRTtBQUFDLGlCQUFPLFNBQVMsSUFBRSxJQUFFO0FBQUMsbUJBQU8sR0FBRSxTQUFPLEVBQUUsTUFBTSxnQkFBZSxFQUFDLEdBQUUsSUFBSSxFQUFFLElBQUUsRUFBQztBQUFBLFVBQUMsRUFBRSxJQUFFLEVBQUM7QUFBQSxRQUFDO0FBQUEsTUFBQztBQUFFLFVBQUksSUFBRSxXQUFVO0FBQUMsb0JBQVcsSUFBRSxJQUFFO0FBQUMsZUFBSyxZQUFVLE9BQUcsS0FBSyxhQUFXLEtBQUssbUJBQWlCLElBQUksbUJBQWdCLEtBQUssVUFBUSxJQUFFLEtBQUssT0FBSztBQUFBLFFBQUM7QUFBQyxlQUFPLEdBQUUsVUFBVSxPQUFLLFNBQVMsSUFBRSxJQUFFO0FBQUMsY0FBSSxLQUFFO0FBQUssY0FBRyxLQUFLLFNBQU8sSUFBRSxLQUFLO0FBQVUsbUJBQU8sS0FBSyxRQUFRLFNBQU8sRUFBRSxNQUFNLGlDQUFpQyxHQUFFLEtBQUssS0FBSyxPQUFPLE9BQVEsRUFBQyxNQUFPLFNBQVMsSUFBRTtBQUFDLGlCQUFFLFFBQVEsU0FBTyxFQUFFLE1BQU0sc0NBQXFDLEVBQUM7QUFBQSxZQUFDLENBQUc7QUFBQyxlQUFLLE9BQU8sS0FBSSxFQUFHLEtBQU0sU0FBUyxJQUFFO0FBQUMsZ0JBQUcsR0FBRTtBQUFLLHFCQUFPLEdBQUUsUUFBUSxNQUFPLEdBQUM7QUFBRSxlQUFFLFFBQVEsUUFBUSxHQUFFLEtBQUssR0FBRSxHQUFFLEtBQUssR0FBRSxRQUFPLEVBQUM7QUFBQSxVQUFDLENBQUcsRUFBQyxNQUFPLFNBQVMsSUFBRTtBQUFDLGVBQUUsWUFBVSxHQUFFLFFBQVEsU0FBTyxFQUFFLE1BQU0saUNBQWlDLElBQUcsSUFBRSxZQUFVLE1BQUcsR0FBRSxRQUFRLFNBQU8sRUFBRSxNQUFNLGVBQWMsR0FBRSxPQUFPLEdBQUUsR0FBRSxRQUFRLE1BQU0sRUFBQztBQUFBLFVBQUUsQ0FBRztBQUFBLFFBQUEsR0FBRSxHQUFFLFVBQVUsT0FBSyxTQUFTLElBQUU7QUFBQyxjQUFJLEtBQUU7QUFBSyxnQkFBTSxLQUFLLFFBQVEsS0FBSSxFQUFFLEVBQUUsQ0FBQSxHQUFHLEtBQUssSUFBSSxHQUFFLEVBQUMsU0FBUSxLQUFLLFNBQVMsVUFBVyxHQUFDLFFBQU8sUUFBTyxNQUFLLElBQUUsUUFBTyxLQUFLLGNBQVksS0FBSyxXQUFXLE9BQU0sQ0FBQyxDQUFDLEVBQUUsS0FBTSxTQUFTLElBQUU7QUFBQyxnQkFBRyxHQUFFLFFBQVEsU0FBTyxFQUFFLE1BQU0sa0JBQWlCLEVBQUMsR0FBRSxHQUFFLFFBQVEsVUFBVSxJQUFJLEVBQUUsU0FBUyxHQUFFLE9BQU8sR0FBRSxHQUFFLE1BQU0sR0FBRSxDQUFDLEdBQUU7QUFBSyxxQkFBTztBQUFFLGVBQUUsS0FBSyxHQUFFLEtBQUssVUFBVyxHQUFDLEVBQUM7QUFBQSxVQUFDLENBQUMsRUFBRyxNQUFPLFNBQVMsSUFBRTtBQUFDLGVBQUUsWUFBVSxHQUFFLFFBQVEsU0FBTyxFQUFFLE1BQU0saUNBQWlDLElBQUcsSUFBRSxZQUFVLE1BQUcsR0FBRSxRQUFRLFNBQU8sRUFBRSxNQUFNLGVBQWMsR0FBRSxPQUFPLEdBQUUsR0FBRSxRQUFRLE1BQU0sRUFBQztBQUFBLFVBQUUsQ0FBQztBQUFBLFFBQUUsR0FBRSxHQUFFLFVBQVUsY0FBWSxTQUFTLElBQUU7QUFBQyxlQUFLLEtBQUssRUFBQztBQUFBLFFBQUMsR0FBRSxHQUFFLFVBQVUsYUFBVyxXQUFVO0FBQUEsUUFBRSxHQUFDLEdBQUUsVUFBVSxRQUFNLFNBQVMsSUFBRTtBQUFDLGVBQUssV0FBUztBQUFBLFFBQUMsR0FBRSxHQUFFLFVBQVUsU0FBTyxXQUFVO0FBQUMsY0FBSSxLQUFFO0FBQUssZUFBSyxZQUFVLEtBQUssUUFBUSxTQUFPLEVBQUUsTUFBTSxnQ0FBZ0MsSUFBRyxNQUFLLFlBQVUsTUFBRyxLQUFLLGFBQVksTUFBSyxRQUFRLFNBQU8sRUFBRSxNQUFNLCtCQUErQixHQUFFLEtBQUssV0FBVyxNQUFLLEtBQUksS0FBSyxRQUFRLFNBQU8sRUFBRSxNQUFNLHVDQUF1QyxHQUFFLEtBQUssU0FBUSxNQUFLLFFBQVEsU0FBTyxFQUFFLE1BQU0sNEJBQTRCLEdBQUUsS0FBSyxPQUFPLE9BQVEsRUFBQyxNQUFPLFNBQVMsSUFBRTtBQUFDLGVBQUUsUUFBUSxTQUFPLEVBQUUsTUFBTSx3Q0FBdUMsRUFBQztBQUFBLFVBQUMsQ0FBRyxLQUFFLEtBQUssUUFBUSxTQUFPLEVBQUUsTUFBTSw0QkFBNEI7QUFBQSxRQUFFLEdBQUU7QUFBQSxNQUFDLEVBQUM7QUFBRyxTQUFFLHFCQUFtQixXQUFVO0FBQUMsZUFBTSxBQUFhLE9BQU8sWUFBcEIsZUFBOEIsU0FBUyxVQUFVLGVBQWUsTUFBTSxLQUFHLEFBQVksT0FBTyxXQUFuQjtBQUFBLE1BQTBCO0FBQUEsSUFBQyxHQUFFLEtBQUksU0FBUyxJQUFFLElBQUUsR0FBRTtBQUFjLGFBQU8sZUFBZSxJQUFFLGNBQWEsRUFBQyxPQUFNLEtBQUUsQ0FBQyxHQUFFLEdBQUUsNEJBQTBCO0FBQU8sVUFBSSxJQUFFLEVBQUUsR0FBRyxHQUFFLElBQUUsRUFBRSxHQUFHO0FBQUUsU0FBRSw0QkFBMEIsU0FBUyxJQUFFO0FBQUMsWUFBRyxFQUFFLG1CQUFvQixHQUFDO0FBQUMsY0FBSSxLQUFFLEVBQUMsYUFBWSxHQUFFLGtCQUFnQixZQUFVLGNBQWE7QUFBRSxpQkFBTyxFQUFFLDZCQUE2QixFQUFDO0FBQUEsUUFBQztBQUFDLGVBQU8sRUFBRSxhQUFhLEVBQUMsaUJBQWdCLEdBQUUsZ0JBQWUsQ0FBQztBQUFBLE1BQUM7QUFBQSxJQUFDLEdBQUUsS0FBSSxTQUFTLElBQUUsSUFBRSxHQUFFO0FBQWMsVUFBSSxHQUFFLElBQUUsUUFBTSxLQUFLLGFBQVksS0FBRSxTQUFTLElBQUUsSUFBRTtBQUFDLGVBQU8sS0FBRSxPQUFPLGtCQUFnQixFQUFDLFdBQVUsQ0FBRSxFQUFBLGFBQVksU0FBTyxTQUFTLElBQUUsSUFBRTtBQUFDLGFBQUUsWUFBVTtBQUFBLFFBQUMsS0FBRyxTQUFTLElBQUUsSUFBRTtBQUFDLG1CQUFRLE1BQUs7QUFBRSxtQkFBTyxVQUFVLGVBQWUsS0FBSyxJQUFFLEVBQUMsS0FBSSxJQUFFLE1BQUcsR0FBRTtBQUFBLFFBQUcsR0FBRyxJQUFFLEVBQUM7QUFBQSxNQUFDLEdBQUUsU0FBUyxJQUFFLElBQUU7QUFBQyxzQkFBWTtBQUFDLGVBQUssY0FBWTtBQUFBLFFBQUM7QUFBQyxVQUFFLElBQUUsRUFBQyxHQUFFLEdBQUUsWUFBVSxBQUFPLE9BQVAsT0FBUyxPQUFPLE9BQU8sRUFBQyxJQUFHLElBQUUsWUFBVSxHQUFFLFdBQVUsSUFBSTtBQUFBLE1BQUU7QUFBRyxhQUFPLGVBQWUsSUFBRSxjQUFhLEVBQUMsT0FBTSxLQUFFLENBQUMsR0FBRSxHQUFFLHNCQUFvQixHQUFFLDJCQUF5QixHQUFFLE1BQUksR0FBRSxlQUFhO0FBQU8sVUFBSSxJQUFFLEVBQUUsRUFBRSxHQUFFLElBQUUsRUFBRSxHQUFHLEdBQUUsSUFBRSxFQUFFLEdBQUc7QUFBRSxTQUFFLGVBQWEsU0FBUyxJQUFFO0FBQUMsZUFBTyxTQUFTLElBQUU7QUFBQyxjQUFHLEVBQUUsb0JBQW1CO0FBQUcsbUJBQU8sSUFBSSxFQUFFLElBQUUsRUFBQztBQUFFLGNBQUcsRUFBRSxpQ0FBa0M7QUFBQyxtQkFBTyxJQUFJLEVBQUUsSUFBRSxFQUFDO0FBQUUsZ0JBQU0sSUFBSSxNQUFNLHVFQUF1RTtBQUFBLFFBQUM7QUFBQSxNQUFDO0FBQUUsVUFBSSxJQUFFLFdBQVU7QUFBQyxvQkFBVyxJQUFFLElBQUU7QUFBQyxlQUFLLFVBQVEsSUFBRSxLQUFLLE9BQUs7QUFBQSxRQUFDO0FBQUMsZUFBTyxHQUFFLFVBQVUsa0JBQWdCLFdBQVU7QUFBQyxlQUFLLFFBQVEsU0FBTyxFQUFFLE1BQU0sZ0NBQStCLEtBQUssSUFBSSxTQUFTLE1BQU07QUFBRSxjQUFJLEtBQUUsS0FBSyxJQUFJLFNBQVMsT0FBTyxLQUFLLEtBQUs7QUFBRSxlQUFLLFFBQU0sS0FBSyxJQUFJLFNBQVM7QUFBTyxjQUFJLEtBQUUsR0FBRSxFQUFDO0FBQUUsZUFBSyxRQUFRLFFBQVEsRUFBQztBQUFBLFFBQUMsR0FBRSxHQUFFLFVBQVUsY0FBWSxXQUFVO0FBQUMsZUFBSyxRQUFRLFNBQU8sRUFBRSxNQUFNLGlCQUFpQixHQUFFLEtBQUssUUFBUSxNQUFLO0FBQUEsUUFBRSxHQUFFLEdBQUUsVUFBVSxnQkFBYyxXQUFVO0FBQUMsZUFBSyxRQUFRLFNBQU8sRUFBRSxNQUFNLHFCQUFvQixLQUFLLElBQUksVUFBVSxHQUFFLEtBQUssSUFBSSxlQUFhLGVBQWUsb0JBQWtCLEtBQUssUUFBUSxVQUFVLElBQUksRUFBRSxTQUFTLEtBQUssSUFBSSxzQkFBdUIsQ0FBQSxHQUFFLEtBQUssSUFBSSxNQUFNO0FBQUEsUUFBQyxHQUFFLEdBQUUsVUFBVSxjQUFZLFNBQVMsSUFBRTtBQUFDLGVBQUssSUFBSSxLQUFLLEVBQUM7QUFBQSxRQUFDLEdBQUUsR0FBRSxVQUFVLGFBQVcsV0FBVTtBQUFBLFFBQUEsR0FBRyxHQUFFLFVBQVUsUUFBTSxTQUFTLElBQUU7QUFBQyxjQUFJLEtBQUU7QUFBSyxlQUFLLFdBQVM7QUFBRSxjQUFJLEtBQUUsSUFBSTtBQUFlLGVBQUssTUFBSSxJQUFFLEdBQUUsS0FBSyxRQUFPLEtBQUssUUFBUSxHQUFHLEdBQUUsS0FBSyxhQUFjLEdBQUMsS0FBSyxTQUFTLFFBQVMsU0FBUyxJQUFFLElBQUU7QUFBQyxlQUFFLGlCQUFpQixJQUFFLEdBQUUsS0FBSyxJQUFJLENBQUM7QUFBQSxVQUFDLENBQUMsR0FBRyxHQUFFLGtCQUFnQixRQUFRLEtBQUssS0FBSyxlQUFlLEdBQUUsR0FBRSxpQkFBaUIsb0JBQW1CLEtBQUssY0FBYyxLQUFLLElBQUksQ0FBQyxHQUFFLEdBQUUsaUJBQWlCLFlBQVcsS0FBSyxnQkFBZ0IsS0FBSyxJQUFJLENBQUMsR0FBRSxHQUFFLGlCQUFpQixXQUFVLEtBQUssWUFBWSxLQUFLLElBQUksQ0FBQyxHQUFFLEdBQUUsaUJBQWlCLFNBQVMsU0FBUyxJQUFFO0FBQUMsZUFBRSxRQUFRLFNBQU8sRUFBRSxNQUFNLGFBQVksRUFBQyxHQUFFLEdBQUUsUUFBUSxNQUFNLEdBQUUsS0FBSztBQUFBLFVBQUMsQ0FBQztBQUFBLFFBQUUsR0FBRSxHQUFFLFVBQVUsZUFBYSxXQUFVO0FBQUMsZUFBSyxJQUFJLGVBQWEsUUFBTyxLQUFLLElBQUksaUJBQWlCLG9DQUFvQztBQUFBLFFBQUMsR0FBRSxHQUFFLFVBQVUsU0FBTyxXQUFVO0FBQUMsZUFBSyxRQUFRLFNBQU8sRUFBRSxNQUFNLFdBQVcsR0FBRSxLQUFLLElBQUksTUFBSztBQUFBLFFBQUUsR0FBRTtBQUFBLE1BQUMsRUFBRztBQUFDLFNBQUUsTUFBSTtBQUFFLFVBQUksSUFBRSxTQUFTLElBQUU7QUFBQyxzQkFBWTtBQUFDLGlCQUFPLEFBQU8sT0FBUCxRQUFVLEdBQUUsTUFBTSxNQUFLLFNBQVMsS0FBRztBQUFBLFFBQUk7QUFBQyxlQUFPLEVBQUUsSUFBRSxFQUFDLEdBQUUsR0FBRSxVQUFVLGVBQWEsV0FBVTtBQUFDLGVBQUssUUFBUSxTQUFPLEVBQUUsTUFBTSx3RUFBd0UsR0FBRSxLQUFLLElBQUksZUFBYTtBQUFBLFFBQXlCLEdBQUUsR0FBRSxVQUFVLGtCQUFnQixXQUFVO0FBQUMsY0FBSSxLQUFFLEtBQUssSUFBSTtBQUFTLGVBQUssUUFBUSxTQUFPLEVBQUUsTUFBTSw0QkFBMkIsSUFBSSxXQUFXLEVBQUMsQ0FBQyxHQUFFLEtBQUssUUFBUSxRQUFRLElBQUksV0FBVyxFQUFDLENBQUM7QUFBQSxRQUFDLEdBQUU7QUFBQSxNQUFDLEVBQUUsQ0FBQztBQUFFLGlCQUFXLElBQUUsSUFBRTtBQUFDLFlBQUksS0FBRSxHQUFFLFdBQVcsRUFBQztBQUFFLFlBQUcsTUFBRyxTQUFPLE1BQUcsT0FBTTtBQUFDLGNBQUksS0FBRSxHQUFFLFdBQVcsS0FBRSxDQUFDO0FBQUUsZ0JBQUcsU0FBTyxNQUFHLFNBQVEsTUFBRSxRQUFPLE1BQUUsU0FBTyxNQUFLLE1BQUU7QUFBQSxRQUFPO0FBQUMsZUFBTztBQUFBLE1BQUM7QUFBQyxrQkFBVyxJQUFFO0FBQUMsaUJBQVEsS0FBRSxJQUFJLFdBQVcsR0FBRSxNQUFNLEdBQUUsS0FBRSxHQUFFLEtBQUUsR0FBRSxLQUFFLEdBQUUsUUFBTyxNQUFJO0FBQUMsY0FBSSxLQUFFLE9BQU8sVUFBVSxjQUFZLEdBQUUsWUFBWSxFQUFDLElBQUUsRUFBRSxJQUFFLEVBQUM7QUFBRSxhQUFFLFFBQUssTUFBSTtBQUFBLFFBQUM7QUFBQyxlQUFPO0FBQUEsTUFBQztBQUFDLFNBQUUsMkJBQXlCLEdBQUUsR0FBRSxzQkFBb0I7QUFBQSxJQUFDLEdBQUUsS0FBSSxTQUFTLElBQUUsSUFBRTtBQUFjLFVBQUk7QUFBRSxtQkFBWTtBQUFDLFlBQUcsQUFBUyxNQUFUO0FBQVcsaUJBQU87QUFBRSxZQUFHLGdCQUFlO0FBQUMsY0FBRSxJQUFJO0FBQWUsY0FBRztBQUFDLGNBQUUsS0FBSyxPQUFNLG1CQUFtQjtBQUFBLFVBQUMsU0FBTyxJQUFOO0FBQUEsVUFBVTtBQUFBLFFBQUE7QUFBQyxlQUFPO0FBQUEsTUFBQztBQUFDLGlCQUFXLElBQUU7QUFBQyxZQUFJLEtBQUUsRUFBRztBQUFDLFlBQUcsQ0FBQztBQUFFLGlCQUFNO0FBQUcsWUFBRztBQUFDLGlCQUFPLEdBQUUsZUFBYSxJQUFFLEdBQUUsaUJBQWU7QUFBQSxRQUFDLFNBQU8sSUFBTjtBQUFBLFFBQVU7QUFBQSxlQUFNO0FBQUEsTUFBRTtBQUFDLGFBQU8sZUFBZSxJQUFFLGNBQWEsRUFBQyxPQUFNLEtBQUUsQ0FBQyxHQUFFLEdBQUUsbUNBQWlDLEdBQUUsc0JBQW9CLEdBQUUsMEJBQXdCLFFBQU8sR0FBRSwwQkFBd0IsR0FBRSxHQUFFLHNCQUFvQixXQUFVO0FBQUMsZUFBTSxBQUFhLE9BQU8sa0JBQXBCLGVBQW9DLEVBQUUseUJBQXlCO0FBQUEsTUFBQyxHQUFFLEdBQUUsbUNBQWlDLFdBQVU7QUFBQyxlQUFNLEFBQWEsT0FBTyxrQkFBcEIsZUFBb0MsZUFBZSxVQUFVLGVBQWUsa0JBQWtCO0FBQUEsTUFBQztBQUFBLElBQUMsR0FBRSxLQUFJLFNBQVMsSUFBRSxJQUFFLEdBQUU7QUFBYyxhQUFPLGVBQWUsSUFBRSxjQUFhLEVBQUMsT0FBTSxLQUFFLENBQUMsR0FBRSxHQUFFLHFCQUFtQjtBQUFPLFVBQUksR0FBRSxJQUFFLEVBQUUsR0FBRyxHQUFFLElBQUUsRUFBRSxHQUFHO0FBQUUsT0FBQyxTQUFTLElBQUU7QUFBQyxXQUFFLEdBQUUsY0FBWSxLQUFHO0FBQUEsTUFBYSxFQUFFLEtBQUksS0FBRSxDQUFBLEVBQUc7QUFBRSxVQUFJLElBQUUsSUFBSSxXQUFXLENBQUMsQ0FBQyxDQUFDO0FBQUUsU0FBRSxxQkFBbUIsV0FBVTtBQUFDLGVBQU8sU0FBUyxJQUFFO0FBQUMsaUJBQU8sU0FBUyxJQUFFO0FBQUMsZUFBRSxTQUFPLEVBQUUsTUFBTSxvQkFBbUIsRUFBQztBQUFFLGdCQUFJLElBQUUsS0FBRSxTQUFTLElBQUU7QUFBQyxrQkFBRyxBQUFhLEdBQUUsT0FBTyxHQUFFLENBQUMsTUFBekI7QUFBMkIsdUJBQU0sV0FBUyxHQUFFLE9BQU8sQ0FBQztBQUFFLGtCQUFHLEFBQVksR0FBRSxPQUFPLEdBQUUsQ0FBQyxNQUF4QjtBQUEwQix1QkFBTSxVQUFRLEdBQUUsT0FBTyxDQUFDO0FBQUUsb0JBQU0sSUFBSSxNQUFNLG9FQUFvRTtBQUFBLFlBQUMsRUFBRSxHQUFFLEdBQUcsR0FBRSxJQUFFLENBQUE7QUFBRyx1QkFBVyxJQUFFO0FBQUMsa0JBQUcsT0FBSSxFQUFFO0FBQVksbUJBQUUsS0FBSyxDQUFDO0FBQUEsbUJBQU07QUFBQyxvQkFBSSxLQUFFLElBQUUsS0FBRSxJQUFJLFVBQVUsR0FBRSxhQUFXLENBQUM7QUFBRSxtQkFBRSxJQUFJLElBQUksV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUUsR0FBRSxJQUFJLElBQUUsQ0FBQyxHQUFFLEdBQUUsS0FBSyxFQUFDO0FBQUEsY0FBQztBQUFBLFlBQUM7QUFBQyxtQkFBTSxFQUFDLGFBQVksU0FBUyxJQUFFO0FBQUMsb0JBQUcsR0FBRSxlQUFhLEdBQUUsYUFBVyxFQUFFLEVBQUMsSUFBRSxFQUFFLEtBQUssRUFBQztBQUFBLFlBQUMsR0FBRSxZQUFXLFdBQVU7QUFBQyxvQkFBRyxHQUFFLGVBQWEsR0FBRSxhQUFXLEVBQUUsRUFBRSxXQUFXLElBQUUsRUFBRSxLQUFLLEVBQUUsV0FBVztBQUFBLFlBQUMsR0FBRSxPQUFNLFNBQVMsSUFBRTtBQUFDLGNBQUMsTUFBRSxJQUFJLFVBQVUsSUFBRSxDQUFDLGlCQUFpQixDQUFDLEdBQUcsYUFBVyxlQUFjLEdBQUUsU0FBTyxXQUFVO0FBQUMsb0JBQUk7QUFBRSxtQkFBRSxTQUFPLEVBQUUsTUFBTSx5QkFBeUIsR0FBRSxHQUFFLEtBQU0sTUFBRSxJQUFHLEdBQUUsUUFBUyxTQUFTLElBQUUsSUFBRTtBQUFDLHdCQUFHLEtBQUUsT0FBSyxHQUFFLEtBQUssSUFBSSxJQUFFO0FBQUEsZ0JBQU0sQ0FBQyxHQUFHLEVBQUUsWUFBWSxFQUFDLEVBQUMsR0FBRyxFQUFFLFFBQVMsU0FBUyxJQUFFO0FBQUMsb0JBQUUsRUFBQztBQUFBLGdCQUFDLENBQUM7QUFBQSxjQUFFLEdBQUUsR0FBRSxVQUFRLFNBQVMsSUFBRTtBQUFDLG1CQUFFLFNBQU8sRUFBRSxNQUFNLDRCQUEyQixFQUFDLEdBQUUsR0FBRSxNQUFPO0FBQUEsY0FBQSxHQUFFLEdBQUUsVUFBUSxTQUFTLElBQUU7QUFBQyxtQkFBRSxTQUFPLEVBQUUsTUFBTSw0QkFBMkIsRUFBQztBQUFBLGNBQUMsR0FBRSxHQUFFLFlBQVUsU0FBUyxJQUFFO0FBQUMsbUJBQUUsUUFBUSxJQUFJLFdBQVcsR0FBRSxJQUFJLENBQUM7QUFBQSxjQUFDO0FBQUEsWUFBQyxHQUFFLFFBQU8sV0FBVTtBQUFDLGlCQUFFLFNBQU8sRUFBRSxNQUFNLGlCQUFpQixHQUFFLEdBQUUsTUFBSztBQUFBLFlBQUUsRUFBQztBQUFBLFVBQUMsRUFBRSxFQUFDO0FBQUEsUUFBQztBQUFBLE1BQUM7QUFBQSxJQUFDLEdBQUUsSUFBRyxTQUFTLElBQUUsSUFBRSxHQUFFO0FBQWMsYUFBTyxlQUFlLElBQUUsY0FBYSxFQUFDLE9BQU0sS0FBRSxDQUFDLEdBQUUsR0FBRSxRQUFNO0FBQU8sVUFBSSxJQUFFLEVBQUUsRUFBRSxHQUFFLElBQUUsRUFBRSxHQUFHO0FBQUUsU0FBRSxRQUFNLFNBQVMsSUFBRSxJQUFFO0FBQUMsWUFBRyxHQUFFO0FBQWUsZ0JBQU0sSUFBSSxNQUFNLHNGQUFzRjtBQUFFLFlBQUcsR0FBRTtBQUFjLGdCQUFNLElBQUksTUFBTSwyRUFBMkU7QUFBRSxZQUFJLEtBQUUsTUFBSyxJQUFFLE1BQUssSUFBRSxFQUFFLE9BQU8sSUFBRSxFQUFDLE1BQUssR0FBRSxNQUFLLFdBQVUsR0FBRSxXQUFVLE9BQU0sR0FBRSxNQUFLLENBQUM7QUFBRSxlQUFPLEVBQUUsVUFBVyxTQUFTLElBQUU7QUFBQyxlQUFFO0FBQUEsUUFBQyxDQUFDLEdBQUcsRUFBRSxVQUFXLFNBQVMsSUFBRTtBQUFDLGNBQUU7QUFBQSxRQUFDLENBQUMsR0FBRyxFQUFFLE1BQU8sU0FBUyxJQUFFLElBQUUsSUFBRTtBQUFDLGFBQUUsTUFBTSxFQUFDLFFBQU8sSUFBRSxlQUFjLElBQUUsU0FBUSxNQUFHLElBQUksRUFBRSxZQUFTLFNBQVEsR0FBRSxVQUFTLEdBQUMsQ0FBQztBQUFBLFFBQUMsQ0FBRyxHQUFDLEVBQUUsTUFBTSxHQUFFLFFBQVEsR0FBRSxFQUFFLEtBQUssR0FBRSxPQUFPLEdBQUUsRUFBRSxXQUFZLEdBQUMsRUFBQyxPQUFNLFdBQVU7QUFBQyxZQUFFLE1BQU87QUFBQSxRQUFBLEVBQUM7QUFBQSxNQUFDO0FBQUEsSUFBQyxHQUFFLEtBQUksU0FBUyxJQUFFLElBQUU7QUFBYyxhQUFPLGVBQWUsSUFBRSxjQUFhLEVBQUMsT0FBTSxLQUFFLENBQUMsR0FBRSxHQUFFLGVBQWEsUUFBTyxHQUFFLGVBQWEsU0FBUyxJQUFFO0FBQUMsWUFBSSxLQUFFLEdBQUUsZ0JBQWUsR0FBRyxJQUFFLElBQUksWUFBWSxHQUFFLGFBQVcsQ0FBQztBQUFFLGVBQU8sSUFBSSxTQUFTLEdBQUUsR0FBRSxDQUFDLEVBQUUsVUFBVSxHQUFFLEdBQUUsUUFBTyxLQUFFLEdBQUUsSUFBSSxXQUFXLEdBQUUsQ0FBQyxFQUFFLElBQUksRUFBQyxHQUFFLElBQUksV0FBVyxDQUFDO0FBQUEsTUFBQztBQUFBLElBQUMsRUFBQyxHQUFFLElBQUUsQ0FBQSxHQUFHLFdBQVcsR0FBRTtBQUFDLFVBQUcsRUFBRTtBQUFHLGVBQU8sRUFBRSxHQUFHO0FBQVEsVUFBSSxJQUFFLEVBQUUsS0FBRyxFQUFDLFNBQVEsQ0FBQSxFQUFFO0FBQUUsYUFBTyxFQUFFLEdBQUcsS0FBSyxFQUFFLFNBQVEsR0FBRSxFQUFFLFNBQVEsQ0FBQyxHQUFFLEVBQUU7QUFBQSxJQUFPLEVBQUUsR0FBRztBQUFFLFFBQUksR0FBRTtBQUFBLEVBQUM7Ozs7SUNDbDN3QixZQUFpQjtBQW1CakIsbUJBQW1CLElBQUksS0FBbUI7QUFDdEMsTUFBSSxTQUFVLElBQUksTUFBTSxVQUFVLFNBQVMsQ0FBQyxHQUN4QyxTQUFVLEdBQ1YsUUFBVSxHQUNWLFVBQVU7QUFDZCxTQUFPLFFBQVEsVUFBVTtBQUNyQixXQUFPLFlBQVksVUFBVTtBQUNqQyxTQUFPLElBQUksUUFBUSxrQkFBa0IsU0FBUyxRQUFRO0FBQ2xELFdBQU8sVUFBVSxrQkFBa0IsS0FBbUI7QUFDbEQsVUFBSSxTQUFTO0FBQ1Qsa0JBQVU7QUFDVixZQUFJO0FBQ0EsaUJBQU8sR0FBRztBQUFBLGFBQ1Q7QUFDRCxjQUFJLFVBQVMsSUFBSSxNQUFNLFVBQVUsU0FBUyxDQUFDLEdBQ3ZDLFVBQVM7QUFDYixpQkFBTyxVQUFTLFFBQU87QUFDbkIsb0JBQU8sYUFBWSxVQUFVO0FBQ2pDLGtCQUFRLE1BQU0sTUFBTSxPQUFNO0FBQUEsUUFDN0I7QUFBQSxNQUNKO0FBQUEsSUFDYjtBQUNRLFFBQUk7QUFDQSxTQUFHLE1BQU0sT0FBTyxNQUFNLE1BQU07QUFBQSxJQUMvQixTQUFRLEtBQVA7QUFDRSxVQUFJLFNBQVM7QUFDVCxrQkFBVTtBQUNWLGVBQU8sR0FBRztBQUFBLE1BQ2I7QUFBQSxJQUNKO0FBQUEsRUFDVCxDQUFLO0FBQ0w7OztBQzVDQSxNQUFJLFVBQVM7QUFPYixVQUFPLFNBQVMsaUJBQWdCLFFBQVE7QUFDcEMsUUFBSSxLQUFJLE9BQU87QUFDZixRQUFJLENBQUM7QUFDRCxhQUFPO0FBQ1gsUUFBSSxJQUFJO0FBQ1IsV0FBTyxFQUFFLEtBQUksSUFBSSxLQUFLLE9BQU8sT0FBTyxFQUFDLE1BQU07QUFDdkMsUUFBRTtBQUNOLFdBQU8sS0FBSyxLQUFLLE9BQU8sU0FBUyxDQUFDLElBQUksSUFBSTtBQUFBLEVBQzlDO0FBR0EsTUFBSSxNQUFNLElBQUksTUFBTSxFQUFFO0FBR3RCLE1BQUksTUFBTSxJQUFJLE1BQU0sR0FBRztBQUd2QixXQUFTLElBQUksR0FBRyxJQUFJO0FBQ2hCLFFBQUksSUFBSSxLQUFLLElBQUksS0FBSyxJQUFJLEtBQUssSUFBSSxLQUFLLElBQUksS0FBSyxJQUFJLEtBQUssSUFBSSxJQUFJLElBQUksS0FBSyxNQUFNO0FBU3JGLFVBQU8sU0FBUyxnQkFBZ0IsUUFBUSxPQUFPLE1BQUs7QUFDaEQsUUFBSSxRQUFRLE1BQ1IsUUFBUSxDQUFBO0FBQ1osUUFBSSxLQUFJLEdBQ0osSUFBSSxHQUNKO0FBQ0osV0FBTyxRQUFRLE1BQUs7QUFDaEIsVUFBSSxJQUFJLE9BQU87QUFDZixjQUFRO0FBQUEsYUFDQztBQUNELGdCQUFNLFFBQU8sSUFBSSxLQUFLO0FBQ3RCLGNBQUssS0FBSSxNQUFNO0FBQ2YsY0FBSTtBQUNKO0FBQUEsYUFDQztBQUNELGdCQUFNLFFBQU8sSUFBSSxJQUFJLEtBQUs7QUFDMUIsY0FBSyxLQUFJLE9BQU87QUFDaEIsY0FBSTtBQUNKO0FBQUEsYUFDQztBQUNELGdCQUFNLFFBQU8sSUFBSSxJQUFJLEtBQUs7QUFDMUIsZ0JBQU0sUUFBTyxJQUFJLElBQUk7QUFDckIsY0FBSTtBQUNKO0FBQUE7QUFFUixVQUFJLEtBQUksTUFBTTtBQUNWLFFBQUMsVUFBVSxTQUFRLENBQUUsSUFBRyxLQUFLLE9BQU8sYUFBYSxNQUFNLFFBQVEsS0FBSyxDQUFDO0FBQ3JFLGFBQUk7QUFBQSxNQUNQO0FBQUEsSUFDSjtBQUNELFFBQUksR0FBRztBQUNILFlBQU0sUUFBTyxJQUFJO0FBQ2pCLFlBQU0sUUFBTztBQUNiLFVBQUksTUFBTTtBQUNOLGNBQU0sUUFBTztBQUFBLElBQ3BCO0FBQ0QsUUFBSSxPQUFPO0FBQ1AsVUFBSTtBQUNBLGNBQU0sS0FBSyxPQUFPLGFBQWEsTUFBTSxRQUFRLE1BQU0sTUFBTSxHQUFHLEVBQUMsQ0FBQyxDQUFDO0FBQ25FLGFBQU8sTUFBTSxLQUFLLEVBQUU7QUFBQSxJQUN2QjtBQUNELFdBQU8sT0FBTyxhQUFhLE1BQU0sUUFBUSxNQUFNLE1BQU0sR0FBRyxFQUFDLENBQUM7QUFBQSxFQUM5RDtBQUVBLE1BQUksa0JBQWtCO0FBVXRCLFVBQU8sU0FBUyxnQkFBZ0IsUUFBUSxRQUFRLFFBQVE7QUFDcEQsUUFBSSxRQUFRO0FBQ1osUUFBSSxJQUFJLEdBQ0o7QUFDSixhQUFTLEtBQUksR0FBRyxLQUFJLE9BQU8sVUFBUztBQUNoQyxVQUFJLElBQUksT0FBTyxXQUFXLElBQUc7QUFDN0IsVUFBSSxNQUFNLE1BQU0sSUFBSTtBQUNoQjtBQUNKLFVBQUssS0FBSSxJQUFJLFFBQVE7QUFDakIsY0FBTSxNQUFNLGVBQWU7QUFDL0IsY0FBUTtBQUFBLGFBQ0M7QUFDRCxjQUFJO0FBQ0osY0FBSTtBQUNKO0FBQUEsYUFDQztBQUNELGlCQUFPLFlBQVksS0FBSyxJQUFLLEtBQUksT0FBTztBQUN4QyxjQUFJO0FBQ0osY0FBSTtBQUNKO0FBQUEsYUFDQztBQUNELGlCQUFPLFlBQWEsS0FBSSxPQUFPLElBQUssS0FBSSxPQUFPO0FBQy9DLGNBQUk7QUFDSixjQUFJO0FBQ0o7QUFBQSxhQUNDO0FBQ0QsaUJBQU8sWUFBYSxLQUFJLE1BQU0sSUFBSTtBQUNsQyxjQUFJO0FBQ0o7QUFBQTtBQUFBLElBRVg7QUFDRCxRQUFJLE1BQU07QUFDTixZQUFNLE1BQU0sZUFBZTtBQUMvQixXQUFPLFNBQVM7QUFBQSxFQUNwQjtBQU9BLFVBQU8sT0FBTyxjQUFjLFFBQVE7QUFDaEMsV0FBTyxtRUFBbUUsS0FBSyxNQUFNO0FBQUEsRUFDekY7O0lDeklBLGVBQWlCO0FBUWpCLHdCQUF3QjtBQU9wQixPQUFLLGFBQWE7QUFDdEI7QUFTQSxhQUFhLFVBQVUsS0FBSyxZQUFZLEtBQUssSUFBSSxLQUFLO0FBQ2xELEVBQUMsTUFBSyxXQUFXLFFBQVMsTUFBSyxXQUFXLE9BQU8sS0FBSyxLQUFLO0FBQUEsSUFDdkQ7QUFBQSxJQUNBLEtBQU0sT0FBTztBQUFBLEVBQ3JCLENBQUs7QUFDRCxTQUFPO0FBQ1g7QUFRQSxhQUFhLFVBQVUsTUFBTSxhQUFhLEtBQUssSUFBSTtBQUMvQyxNQUFJLFFBQVE7QUFDUixTQUFLLGFBQWE7T0FDakI7QUFDRCxRQUFJLE9BQU87QUFDUCxXQUFLLFdBQVcsT0FBTztTQUN0QjtBQUNELFVBQUksWUFBWSxLQUFLLFdBQVc7QUFDaEMsZUFBUyxJQUFJLEdBQUcsSUFBSSxVQUFVO0FBQzFCLFlBQUksVUFBVSxHQUFHLE9BQU87QUFDcEIsb0JBQVUsT0FBTyxHQUFHLENBQUM7QUFBQTtBQUVyQixZQUFFO0FBQUEsSUFDYjtBQUFBLEVBQ0o7QUFDRCxTQUFPO0FBQ1g7QUFRQSxhQUFhLFVBQVUsT0FBTyxjQUFjLEtBQUs7QUFDN0MsTUFBSSxZQUFZLEtBQUssV0FBVztBQUNoQyxNQUFJLFdBQVc7QUFDWCxRQUFJLE9BQU8sQ0FBRSxHQUNULElBQUk7QUFDUixXQUFPLElBQUksVUFBVTtBQUNqQixXQUFLLEtBQUssVUFBVSxJQUFJO0FBQzVCLFNBQUssSUFBSSxHQUFHLElBQUksVUFBVTtBQUN0QixnQkFBVSxHQUFHLEdBQUcsTUFBTSxVQUFVLEtBQUssS0FBSyxJQUFJO0FBQUEsRUFDckQ7QUFDRCxTQUFPO0FBQ1g7QUN6RUEsSUFBQSxRQUFpQixRQUFRLE9BQU87QUFxRmhDLGlCQUFpQixTQUFTO0FBR3RCLE1BQUksT0FBTyxpQkFBaUI7QUFBYSxJQUFDLFlBQVc7QUFFakQsVUFBSSxNQUFNLElBQUksYUFBYSxDQUFFLEVBQUUsQ0FBRSxHQUM3QixNQUFNLElBQUksV0FBVyxJQUFJLE1BQU0sR0FDL0IsS0FBTSxJQUFJLE9BQU87QUFFckIsa0NBQTRCLEtBQUssS0FBSyxLQUFLO0FBQ3ZDLFlBQUksS0FBSztBQUNULFlBQUksT0FBVyxJQUFJO0FBQ25CLFlBQUksTUFBTSxLQUFLLElBQUk7QUFDbkIsWUFBSSxNQUFNLEtBQUssSUFBSTtBQUNuQixZQUFJLE1BQU0sS0FBSyxJQUFJO0FBQUEsTUFDdEI7QUFFRCxrQ0FBNEIsS0FBSyxLQUFLLEtBQUs7QUFDdkMsWUFBSSxLQUFLO0FBQ1QsWUFBSSxPQUFXLElBQUk7QUFDbkIsWUFBSSxNQUFNLEtBQUssSUFBSTtBQUNuQixZQUFJLE1BQU0sS0FBSyxJQUFJO0FBQ25CLFlBQUksTUFBTSxLQUFLLElBQUk7QUFBQSxNQUN0QjtBQUdELGNBQVEsZUFBZSxLQUFLLHFCQUFxQjtBQUVqRCxjQUFRLGVBQWUsS0FBSyxxQkFBcUI7QUFFakQsaUNBQTJCLEtBQUssS0FBSztBQUNqQyxZQUFJLEtBQUssSUFBSTtBQUNiLFlBQUksS0FBSyxJQUFJLE1BQU07QUFDbkIsWUFBSSxLQUFLLElBQUksTUFBTTtBQUNuQixZQUFJLEtBQUssSUFBSSxNQUFNO0FBQ25CLGVBQU8sSUFBSTtBQUFBLE1BQ2Q7QUFFRCxpQ0FBMkIsS0FBSyxLQUFLO0FBQ2pDLFlBQUksS0FBSyxJQUFJO0FBQ2IsWUFBSSxLQUFLLElBQUksTUFBTTtBQUNuQixZQUFJLEtBQUssSUFBSSxNQUFNO0FBQ25CLFlBQUksS0FBSyxJQUFJLE1BQU07QUFDbkIsZUFBTyxJQUFJO0FBQUEsTUFDZDtBQUdELGNBQVEsY0FBYyxLQUFLLG9CQUFvQjtBQUUvQyxjQUFRLGNBQWMsS0FBSyxvQkFBb0I7QUFBQSxJQUd2RCxHQUFRO0FBQUE7QUFBTyxJQUFDLFlBQVc7QUFFbkIsa0NBQTRCLFdBQVcsS0FBSyxLQUFLLEtBQUs7QUFDbEQsWUFBSSxPQUFPLE1BQU0sSUFBSSxJQUFJO0FBQ3pCLFlBQUk7QUFDQSxnQkFBTSxDQUFDO0FBQ1gsWUFBSSxRQUFRO0FBQ1Isb0JBQVUsSUFBSSxNQUFNLElBQW1CLElBQXFCLFlBQVksS0FBSyxHQUFHO0FBQUEsaUJBQzNFLE1BQU0sR0FBRztBQUNkLG9CQUFVLFlBQVksS0FBSyxHQUFHO0FBQUEsaUJBQ3pCLE1BQU07QUFDWCxvQkFBVyxTQUFRLEtBQUssZ0JBQWdCLEdBQUcsS0FBSyxHQUFHO0FBQUEsaUJBQzlDLE1BQU07QUFDWCxvQkFBVyxTQUFRLEtBQUssS0FBSyxNQUFNLE1BQU0sb0JBQXFCLE9BQU8sR0FBRyxLQUFLLEdBQUc7QUFBQSxhQUMvRTtBQUNELGNBQUksV0FBVyxLQUFLLE1BQU0sS0FBSyxJQUFJLEdBQUcsSUFBSSxLQUFLLEdBQUcsR0FDOUMsV0FBVyxLQUFLLE1BQU0sTUFBTSxLQUFLLElBQUksR0FBRyxDQUFDLFFBQVEsSUFBSSxPQUFPLElBQUk7QUFDcEUsb0JBQVcsU0FBUSxLQUFLLFdBQVcsT0FBTyxLQUFLLGNBQWMsR0FBRyxLQUFLLEdBQUc7QUFBQSxRQUMzRTtBQUFBLE1BQ0o7QUFFRCxjQUFRLGVBQWUsbUJBQW1CLEtBQUssTUFBTSxXQUFXO0FBQ2hFLGNBQVEsZUFBZSxtQkFBbUIsS0FBSyxNQUFNLFdBQVc7QUFFaEUsaUNBQTJCLFVBQVUsS0FBSyxLQUFLO0FBQzNDLFlBQUksT0FBTyxTQUFTLEtBQUssR0FBRyxHQUN4QixPQUFRLFNBQVEsTUFBTSxJQUFJLEdBQzFCLFdBQVcsU0FBUyxLQUFLLEtBQ3pCLFdBQVcsT0FBTztBQUN0QixlQUFPLGFBQWEsTUFDZCxXQUNBLE1BQ0EsT0FBTyxXQUNQLGFBQWEsSUFDYixPQUFPLHVCQUF3QixXQUMvQixPQUFPLEtBQUssSUFBSSxHQUFHLFdBQVcsR0FBRyxJQUFLLFlBQVc7QUFBQSxNQUMxRDtBQUVELGNBQVEsY0FBYyxrQkFBa0IsS0FBSyxNQUFNLFVBQVU7QUFDN0QsY0FBUSxjQUFjLGtCQUFrQixLQUFLLE1BQU0sVUFBVTtBQUFBLElBRXJFO0FBR0ksTUFBSSxPQUFPLGlCQUFpQjtBQUFhLElBQUMsWUFBVztBQUVqRCxVQUFJLE1BQU0sSUFBSSxhQUFhLENBQUMsRUFBRSxDQUFDLEdBQzNCLE1BQU0sSUFBSSxXQUFXLElBQUksTUFBTSxHQUMvQixLQUFNLElBQUksT0FBTztBQUVyQixtQ0FBNkIsS0FBSyxLQUFLLEtBQUs7QUFDeEMsWUFBSSxLQUFLO0FBQ1QsWUFBSSxPQUFXLElBQUk7QUFDbkIsWUFBSSxNQUFNLEtBQUssSUFBSTtBQUNuQixZQUFJLE1BQU0sS0FBSyxJQUFJO0FBQ25CLFlBQUksTUFBTSxLQUFLLElBQUk7QUFDbkIsWUFBSSxNQUFNLEtBQUssSUFBSTtBQUNuQixZQUFJLE1BQU0sS0FBSyxJQUFJO0FBQ25CLFlBQUksTUFBTSxLQUFLLElBQUk7QUFDbkIsWUFBSSxNQUFNLEtBQUssSUFBSTtBQUFBLE1BQ3RCO0FBRUQsbUNBQTZCLEtBQUssS0FBSyxLQUFLO0FBQ3hDLFlBQUksS0FBSztBQUNULFlBQUksT0FBVyxJQUFJO0FBQ25CLFlBQUksTUFBTSxLQUFLLElBQUk7QUFDbkIsWUFBSSxNQUFNLEtBQUssSUFBSTtBQUNuQixZQUFJLE1BQU0sS0FBSyxJQUFJO0FBQ25CLFlBQUksTUFBTSxLQUFLLElBQUk7QUFDbkIsWUFBSSxNQUFNLEtBQUssSUFBSTtBQUNuQixZQUFJLE1BQU0sS0FBSyxJQUFJO0FBQ25CLFlBQUksTUFBTSxLQUFLLElBQUk7QUFBQSxNQUN0QjtBQUdELGNBQVEsZ0JBQWdCLEtBQUssc0JBQXNCO0FBRW5ELGNBQVEsZ0JBQWdCLEtBQUssc0JBQXNCO0FBRW5ELGtDQUE0QixLQUFLLEtBQUs7QUFDbEMsWUFBSSxLQUFLLElBQUk7QUFDYixZQUFJLEtBQUssSUFBSSxNQUFNO0FBQ25CLFlBQUksS0FBSyxJQUFJLE1BQU07QUFDbkIsWUFBSSxLQUFLLElBQUksTUFBTTtBQUNuQixZQUFJLEtBQUssSUFBSSxNQUFNO0FBQ25CLFlBQUksS0FBSyxJQUFJLE1BQU07QUFDbkIsWUFBSSxLQUFLLElBQUksTUFBTTtBQUNuQixZQUFJLEtBQUssSUFBSSxNQUFNO0FBQ25CLGVBQU8sSUFBSTtBQUFBLE1BQ2Q7QUFFRCxrQ0FBNEIsS0FBSyxLQUFLO0FBQ2xDLFlBQUksS0FBSyxJQUFJO0FBQ2IsWUFBSSxLQUFLLElBQUksTUFBTTtBQUNuQixZQUFJLEtBQUssSUFBSSxNQUFNO0FBQ25CLFlBQUksS0FBSyxJQUFJLE1BQU07QUFDbkIsWUFBSSxLQUFLLElBQUksTUFBTTtBQUNuQixZQUFJLEtBQUssSUFBSSxNQUFNO0FBQ25CLFlBQUksS0FBSyxJQUFJLE1BQU07QUFDbkIsWUFBSSxLQUFLLElBQUksTUFBTTtBQUNuQixlQUFPLElBQUk7QUFBQSxNQUNkO0FBR0QsY0FBUSxlQUFlLEtBQUsscUJBQXFCO0FBRWpELGNBQVEsZUFBZSxLQUFLLHFCQUFxQjtBQUFBLElBR3pELEdBQVE7QUFBQTtBQUFPLElBQUMsWUFBVztBQUVuQixtQ0FBNkIsV0FBVyxNQUFNLE1BQU0sS0FBSyxLQUFLLEtBQUs7QUFDL0QsWUFBSSxPQUFPLE1BQU0sSUFBSSxJQUFJO0FBQ3pCLFlBQUk7QUFDQSxnQkFBTSxDQUFDO0FBQ1gsWUFBSSxRQUFRLEdBQUc7QUFDWCxvQkFBVSxHQUFHLEtBQUssTUFBTSxJQUFJO0FBQzVCLG9CQUFVLElBQUksTUFBTSxJQUFtQixJQUFxQixZQUFZLEtBQUssTUFBTSxJQUFJO0FBQUEsUUFDdkcsV0FBdUIsTUFBTSxHQUFHLEdBQUc7QUFDbkIsb0JBQVUsR0FBRyxLQUFLLE1BQU0sSUFBSTtBQUM1QixvQkFBVSxZQUFZLEtBQUssTUFBTSxJQUFJO0FBQUEsUUFDckQsV0FBdUIsTUFBTSx1QkFBeUI7QUFDdEMsb0JBQVUsR0FBRyxLQUFLLE1BQU0sSUFBSTtBQUM1QixvQkFBVyxTQUFRLEtBQUssZ0JBQWdCLEdBQUcsS0FBSyxNQUFNLElBQUk7QUFBQSxRQUMxRSxPQUFtQjtBQUNILGNBQUk7QUFDSixjQUFJLE1BQU0sd0JBQXlCO0FBQy9CLHVCQUFXLE1BQU07QUFDakIsc0JBQVUsYUFBYSxHQUFHLEtBQUssTUFBTSxJQUFJO0FBQ3pDLHNCQUFXLFNBQVEsS0FBSyxXQUFXLGdCQUFnQixHQUFHLEtBQUssTUFBTSxJQUFJO0FBQUEsVUFDekYsT0FBdUI7QUFDSCxnQkFBSSxXQUFXLEtBQUssTUFBTSxLQUFLLElBQUksR0FBRyxJQUFJLEtBQUssR0FBRztBQUNsRCxnQkFBSSxhQUFhO0FBQ2IseUJBQVc7QUFDZix1QkFBVyxNQUFNLEtBQUssSUFBSSxHQUFHLENBQUMsUUFBUTtBQUN0QyxzQkFBVSxXQUFXLHFCQUFxQixHQUFHLEtBQUssTUFBTSxJQUFJO0FBQzVELHNCQUFXLFNBQVEsS0FBSyxXQUFXLFFBQVEsS0FBSyxXQUFXLFVBQVUsYUFBYSxHQUFHLEtBQUssTUFBTSxJQUFJO0FBQUEsVUFDdkc7QUFBQSxRQUNKO0FBQUEsTUFDSjtBQUVELGNBQVEsZ0JBQWdCLG9CQUFvQixLQUFLLE1BQU0sYUFBYSxHQUFHLENBQUM7QUFDeEUsY0FBUSxnQkFBZ0Isb0JBQW9CLEtBQUssTUFBTSxhQUFhLEdBQUcsQ0FBQztBQUV4RSxrQ0FBNEIsVUFBVSxNQUFNLE1BQU0sS0FBSyxLQUFLO0FBQ3hELFlBQUksS0FBSyxTQUFTLEtBQUssTUFBTSxJQUFJLEdBQzdCLEtBQUssU0FBUyxLQUFLLE1BQU0sSUFBSTtBQUNqQyxZQUFJLE9BQVEsT0FBTSxNQUFNLElBQUksR0FDeEIsV0FBVyxPQUFPLEtBQUssTUFDdkIsV0FBVyxhQUFjLE1BQUssV0FBVztBQUM3QyxlQUFPLGFBQWEsT0FDZCxXQUNBLE1BQ0EsT0FBTyxXQUNQLGFBQWEsSUFDYixPQUFPLFNBQVMsV0FDaEIsT0FBTyxLQUFLLElBQUksR0FBRyxXQUFXLElBQUksSUFBSyxZQUFXO0FBQUEsTUFDM0Q7QUFFRCxjQUFRLGVBQWUsbUJBQW1CLEtBQUssTUFBTSxZQUFZLEdBQUcsQ0FBQztBQUNyRSxjQUFRLGVBQWUsbUJBQW1CLEtBQUssTUFBTSxZQUFZLEdBQUcsQ0FBQztBQUFBLElBRTdFO0FBRUksU0FBTztBQUNYO0FBSUEscUJBQXFCLEtBQUssS0FBSyxLQUFLO0FBQ2hDLE1BQUksT0FBWSxNQUFhO0FBQzdCLE1BQUksTUFBTSxLQUFNLFFBQVEsSUFBSztBQUM3QixNQUFJLE1BQU0sS0FBTSxRQUFRLEtBQUs7QUFDN0IsTUFBSSxNQUFNLEtBQU0sUUFBUTtBQUM1QjtBQUVBLHFCQUFxQixLQUFLLEtBQUssS0FBSztBQUNoQyxNQUFJLE9BQVksUUFBUTtBQUN4QixNQUFJLE1BQU0sS0FBTSxRQUFRLEtBQUs7QUFDN0IsTUFBSSxNQUFNLEtBQU0sUUFBUSxJQUFLO0FBQzdCLE1BQUksTUFBTSxLQUFNLE1BQWE7QUFDakM7QUFFQSxvQkFBb0IsS0FBSyxLQUFLO0FBQzFCLFNBQVEsS0FBSSxPQUNKLElBQUksTUFBTSxNQUFNLElBQ2hCLElBQUksTUFBTSxNQUFNLEtBQ2hCLElBQUksTUFBTSxNQUFNLFFBQVE7QUFDcEM7QUFFQSxvQkFBb0IsS0FBSyxLQUFLO0FBQzFCLFNBQVEsS0FBSSxRQUFZLEtBQ2hCLElBQUksTUFBTSxNQUFNLEtBQ2hCLElBQUksTUFBTSxNQUFNLElBQ2hCLElBQUksTUFBTSxRQUFRO0FBQzlCO0lDN1VBLFlBQWlCO0FBUWpCLGlCQUFpQixZQUFZO0FBQ3pCLE1BQUk7QUFDQSxRQUFJLE1BQU0sS0FBSyxRQUFRLFFBQVEsS0FBSSxJQUFJLENBQUMsRUFBRSxVQUFVO0FBQ3BELFFBQUksT0FBUSxLQUFJLFVBQVUsT0FBTyxLQUFLLEdBQUcsRUFBRTtBQUN2QyxhQUFPO0FBQUEsRUFDbkIsU0FBYSxHQUFQO0FBQUEsRUFBWTtBQUNkLFNBQU87QUFDWDs7O0FDVEEsTUFBSSxRQUFPO0FBT1gsUUFBSyxTQUFTLHFCQUFxQixRQUFRO0FBQ3ZDLFFBQUksTUFBTSxHQUNOLElBQUk7QUFDUixhQUFTLElBQUksR0FBRyxJQUFJLE9BQU8sUUFBUSxFQUFFLEdBQUc7QUFDcEMsVUFBSSxPQUFPLFdBQVcsQ0FBQztBQUN2QixVQUFJLElBQUk7QUFDSixlQUFPO0FBQUEsZUFDRixJQUFJO0FBQ1QsZUFBTztBQUFBLGVBQ0QsS0FBSSxXQUFZLFNBQVcsUUFBTyxXQUFXLElBQUksQ0FBQyxJQUFJLFdBQVksT0FBUTtBQUNoRixVQUFFO0FBQ0YsZUFBTztBQUFBLE1BQ1Y7QUFDRyxlQUFPO0FBQUEsSUFDZDtBQUNELFdBQU87QUFBQSxFQUNYO0FBU0EsUUFBSyxPQUFPLG1CQUFtQixRQUFRLE9BQU8sTUFBSztBQUMvQyxRQUFJLE1BQU0sT0FBTTtBQUNoQixRQUFJLE1BQU07QUFDTixhQUFPO0FBQ1gsUUFBSSxRQUFRLE1BQ1IsUUFBUSxDQUFFLEdBQ1YsSUFBSSxHQUNKO0FBQ0osV0FBTyxRQUFRLE1BQUs7QUFDaEIsVUFBSSxPQUFPO0FBQ1gsVUFBSSxJQUFJO0FBQ0osY0FBTSxPQUFPO0FBQUEsZUFDUixJQUFJLE9BQU8sSUFBSTtBQUNwQixjQUFNLE9BQVEsS0FBSSxPQUFPLElBQUksT0FBTyxXQUFXO0FBQUEsZUFDMUMsSUFBSSxPQUFPLElBQUksS0FBSztBQUN6QixZQUFNLE1BQUksTUFBTSxLQUFNLFFBQU8sV0FBVyxPQUFPLEtBQU0sUUFBTyxXQUFXLE9BQU8sSUFBSSxPQUFPLFdBQVcsTUFBTTtBQUMxRyxjQUFNLE9BQU8sUUFBVSxNQUFLO0FBQzVCLGNBQU0sT0FBTyxRQUFVLEtBQUk7QUFBQSxNQUM5QjtBQUNHLGNBQU0sT0FBUSxLQUFJLE9BQU8sS0FBTSxRQUFPLFdBQVcsT0FBTyxJQUFJLE9BQU8sV0FBVztBQUNsRixVQUFJLElBQUksTUFBTTtBQUNWLFFBQUMsVUFBVSxTQUFRLENBQUUsSUFBRyxLQUFLLE9BQU8sYUFBYSxNQUFNLFFBQVEsS0FBSyxDQUFDO0FBQ3JFLFlBQUk7QUFBQSxNQUNQO0FBQUEsSUFDSjtBQUNELFFBQUksT0FBTztBQUNQLFVBQUk7QUFDQSxjQUFNLEtBQUssT0FBTyxhQUFhLE1BQU0sUUFBUSxNQUFNLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQztBQUNuRSxhQUFPLE1BQU0sS0FBSyxFQUFFO0FBQUEsSUFDdkI7QUFDRCxXQUFPLE9BQU8sYUFBYSxNQUFNLFFBQVEsTUFBTSxNQUFNLEdBQUcsQ0FBQyxDQUFDO0FBQUEsRUFDOUQ7QUFTQSxRQUFLLFFBQVEsb0JBQW9CLFFBQVEsUUFBUSxRQUFRO0FBQ3JELFFBQUksUUFBUSxRQUNSLElBQ0E7QUFDSixhQUFTLElBQUksR0FBRyxJQUFJLE9BQU8sUUFBUSxFQUFFLEdBQUc7QUFDcEMsV0FBSyxPQUFPLFdBQVcsQ0FBQztBQUN4QixVQUFJLEtBQUssS0FBSztBQUNWLGVBQU8sWUFBWTtBQUFBLE1BQy9CLFdBQW1CLEtBQUssTUFBTTtBQUNsQixlQUFPLFlBQVksTUFBTSxJQUFVO0FBQ25DLGVBQU8sWUFBWSxLQUFXLEtBQUs7QUFBQSxNQUN0QyxXQUFXLE1BQUssV0FBWSxTQUFZLE9BQUssT0FBTyxXQUFXLElBQUksQ0FBQyxLQUFLLFdBQVksT0FBUTtBQUMxRixhQUFLLFFBQVksT0FBSyxTQUFXLE1BQU8sTUFBSztBQUM3QyxVQUFFO0FBQ0YsZUFBTyxZQUFZLE1BQU0sS0FBVTtBQUNuQyxlQUFPLFlBQVksTUFBTSxLQUFLLEtBQUs7QUFDbkMsZUFBTyxZQUFZLE1BQU0sSUFBSyxLQUFLO0FBQ25DLGVBQU8sWUFBWSxLQUFXLEtBQUs7QUFBQSxNQUMvQyxPQUFlO0FBQ0gsZUFBTyxZQUFZLE1BQU0sS0FBVTtBQUNuQyxlQUFPLFlBQVksTUFBTSxJQUFLLEtBQUs7QUFDbkMsZUFBTyxZQUFZLEtBQVcsS0FBSztBQUFBLE1BQ3RDO0FBQUEsSUFDSjtBQUNELFdBQU8sU0FBUztBQUFBLEVBQ3BCOztJQ3ZHQSxTQUFpQjtBQTZCakIsY0FBYyxRQUFPLE9BQU8sTUFBTTtBQUM5QixNQUFJLE9BQVMsUUFBUTtBQUNyQixNQUFJLE9BQVMsU0FBUztBQUN0QixNQUFJLE9BQVM7QUFDYixNQUFJLFNBQVM7QUFDYixTQUFPLG9CQUFvQixPQUFNO0FBQzdCLFFBQUksUUFBTyxLQUFLLFFBQU87QUFDbkIsYUFBTyxPQUFNLEtBQUk7QUFDckIsUUFBSSxTQUFTLFFBQU8sTUFBTTtBQUN0QixhQUFPLE9BQU0sSUFBSTtBQUNqQixlQUFTO0FBQUEsSUFDWjtBQUNELFFBQUksTUFBTSxNQUFNLEtBQUssTUFBTSxRQUFRLFVBQVUsS0FBSTtBQUNqRCxRQUFJLFNBQVM7QUFDVCxlQUFVLFVBQVMsS0FBSztBQUM1QixXQUFPO0FBQUEsRUFDZjtBQUNBO0lDOUNBLFdBQWlCTztBQUVqQixJQUFJQyxTQUFPSjtBQVVYLG9CQUFrQixJQUFJLElBQUk7QUFTdEIsT0FBSyxLQUFLLE9BQU87QUFNakIsT0FBSyxLQUFLLE9BQU87QUFDckI7QUFPQSxJQUFJLE9BQU9HLFdBQVMsT0FBTyxJQUFJQSxXQUFTLEdBQUcsQ0FBQztBQUU1QyxLQUFLLFdBQVcsV0FBVztBQUFFLFNBQU87QUFBRTtBQUN0QyxLQUFLLFdBQVcsS0FBSyxXQUFXLFdBQVc7QUFBRSxTQUFPOztBQUNwRCxLQUFLLFNBQVMsV0FBVztBQUFFLFNBQU87QUFBRTtBQU9wQyxJQUFJLFdBQVdBLFdBQVMsV0FBVztBQU9uQ0EsV0FBUyxhQUFhLHFCQUFvQixPQUFPO0FBQzdDLE1BQUksVUFBVTtBQUNWLFdBQU87QUFDWCxNQUFJLE9BQU8sUUFBUTtBQUNuQixNQUFJO0FBQ0EsWUFBUSxDQUFDO0FBQ2IsTUFBSSxLQUFLLFVBQVUsR0FDZixLQUFNLFNBQVEsTUFBTSxlQUFlO0FBQ3ZDLE1BQUksTUFBTTtBQUNOLFNBQUssQ0FBQyxPQUFPO0FBQ2IsU0FBSyxDQUFDLE9BQU87QUFDYixRQUFJLEVBQUUsS0FBSyxZQUFZO0FBQ25CLFdBQUs7QUFDTCxVQUFJLEVBQUUsS0FBSztBQUNQLGFBQUs7QUFBQSxJQUNaO0FBQUEsRUFDSjtBQUNELFNBQU8sSUFBSUEsV0FBUyxJQUFJLEVBQUU7QUFDOUI7QUFPQUEsV0FBUyxPQUFPLGNBQWMsT0FBTztBQUNqQyxNQUFJLE9BQU8sVUFBVTtBQUNqQixXQUFPQSxXQUFTLFdBQVcsS0FBSztBQUNwQyxNQUFJQyxPQUFLLFNBQVMsS0FBSyxHQUFHO0FBRXRCLFFBQUlBLE9BQUs7QUFDTCxjQUFRQSxPQUFLLEtBQUssV0FBVyxLQUFLO0FBQUE7QUFFbEMsYUFBT0QsV0FBUyxXQUFXLFNBQVMsT0FBTyxFQUFFLENBQUM7QUFBQSxFQUNyRDtBQUNELFNBQU8sTUFBTSxPQUFPLE1BQU0sT0FBTyxJQUFJQSxXQUFTLE1BQU0sUUFBUSxHQUFHLE1BQU0sU0FBUyxDQUFDLElBQUk7QUFDdkY7QUFPQUEsV0FBUyxVQUFVLFdBQVcsa0JBQWtCLFVBQVU7QUFDdEQsTUFBSSxDQUFDLFlBQVksS0FBSyxPQUFPLElBQUk7QUFDN0IsUUFBSSxLQUFLLENBQUMsS0FBSyxLQUFLLE1BQU0sR0FDdEIsS0FBSyxDQUFDLEtBQUssT0FBVztBQUMxQixRQUFJLENBQUM7QUFDRCxXQUFLLEtBQUssTUFBTTtBQUNwQixXQUFPLENBQUUsTUFBSyxLQUFLO0FBQUEsRUFDdEI7QUFDRCxTQUFPLEtBQUssS0FBSyxLQUFLLEtBQUs7QUFDL0I7QUFPQUEsV0FBUyxVQUFVLFNBQVMsZ0JBQWdCLFVBQVU7QUFDbEQsU0FBT0MsT0FBSyxPQUNOLElBQUlBLE9BQUssS0FBSyxLQUFLLEtBQUssR0FBRyxLQUFLLEtBQUssR0FBRyxRQUFRLFFBQVEsQ0FBQyxJQUV6RCxFQUFFLEtBQUssS0FBSyxLQUFLLEdBQUcsTUFBTSxLQUFLLEtBQUssR0FBRyxVQUFVLFFBQVEsUUFBUSxFQUFDO0FBQzVFO0FBRUEsSUFBSSxhQUFhLE9BQU8sVUFBVTtBQU9sQ0QsV0FBUyxXQUFXLGtCQUFrQixPQUFNO0FBQ3hDLE1BQUksVUFBUztBQUNULFdBQU87QUFDWCxTQUFPLElBQUlBLFdBQ0wsWUFBVyxLQUFLLE9BQU0sQ0FBQyxJQUN2QixXQUFXLEtBQUssT0FBTSxDQUFDLEtBQUssSUFDNUIsV0FBVyxLQUFLLE9BQU0sQ0FBQyxLQUFLLEtBQzVCLFdBQVcsS0FBSyxPQUFNLENBQUMsS0FBSyxRQUFRLEdBRXBDLFlBQVcsS0FBSyxPQUFNLENBQUMsSUFDdkIsV0FBVyxLQUFLLE9BQU0sQ0FBQyxLQUFLLElBQzVCLFdBQVcsS0FBSyxPQUFNLENBQUMsS0FBSyxLQUM1QixXQUFXLEtBQUssT0FBTSxDQUFDLEtBQUssUUFBUSxDQUM5QztBQUNBO0FBTUFBLFdBQVMsVUFBVSxTQUFTLGtCQUFrQjtBQUMxQyxTQUFPLE9BQU8sYUFDVixLQUFLLEtBQVksS0FDakIsS0FBSyxPQUFPLElBQUssS0FDakIsS0FBSyxPQUFPLEtBQUssS0FDakIsS0FBSyxPQUFPLElBQ1osS0FBSyxLQUFZLEtBQ2pCLEtBQUssT0FBTyxJQUFLLEtBQ2pCLEtBQUssT0FBTyxLQUFLLEtBQ2pCLEtBQUssT0FBTyxFQUNwQjtBQUNBO0FBTUFBLFdBQVMsVUFBVSxXQUFXLG9CQUFvQjtBQUM5QyxNQUFJLE9BQVMsS0FBSyxNQUFNO0FBQ3hCLE9BQUssS0FBUSxPQUFLLE1BQU0sSUFBSSxLQUFLLE9BQU8sTUFBTSxVQUFVO0FBQ3hELE9BQUssS0FBUSxNQUFLLE1BQU0sSUFBc0IsVUFBVTtBQUN4RCxTQUFPO0FBQ1g7QUFNQUEsV0FBUyxVQUFVLFdBQVcsb0JBQW9CO0FBQzlDLE1BQUksT0FBTyxDQUFFLE1BQUssS0FBSztBQUN2QixPQUFLLEtBQVEsT0FBSyxPQUFPLElBQUksS0FBSyxNQUFNLE1BQU0sVUFBVTtBQUN4RCxPQUFLLEtBQVEsTUFBSyxPQUFPLElBQXFCLFVBQVU7QUFDeEQsU0FBTztBQUNYO0FBTUFBLFdBQVMsVUFBVSxTQUFTLGtCQUFrQjtBQUMxQyxNQUFJLFFBQVMsS0FBSyxJQUNkLFFBQVMsTUFBSyxPQUFPLEtBQUssS0FBSyxNQUFNLE9BQU8sR0FDNUMsUUFBUyxLQUFLLE9BQU87QUFDekIsU0FBTyxVQUFVLElBQ1YsVUFBVSxJQUNSLFFBQVEsUUFDTixRQUFRLE1BQU0sSUFBSSxJQUNsQixRQUFRLFVBQVUsSUFBSSxJQUN4QixRQUFRLFFBQ04sUUFBUSxNQUFNLElBQUksSUFDbEIsUUFBUSxVQUFVLElBQUksSUFDMUIsUUFBUSxNQUFNLElBQUk7QUFDN0I7O0FDdE1BLE1BQUksUUFBTztBQUdYLFFBQUssWUFBWUg7QUFHakIsUUFBSyxTQUFTQztBQUdkLFFBQUssZUFBZUk7QUFHcEIsUUFBSyxRQUFRQztBQUdiLFFBQUssVUFBVUM7QUFHZixRQUFLLE9BQU9DO0FBR1osUUFBSyxPQUFPQztBQUdaLFFBQUssV0FBV0M7QUFPaEIsUUFBSyxTQUFTLFFBQVEsT0FBT1osbUJBQVcsZUFDbEJBLGtCQUNBQSxlQUFPLFdBQ1BBLGVBQU8sUUFBUSxZQUNmQSxlQUFPLFFBQVEsU0FBUyxJQUFJO0FBT2xELFFBQUssU0FBUyxNQUFLLFVBQVVBLGtCQUNmLE9BQU8sV0FBVyxlQUFlLFVBQ2pDLE9BQU8sU0FBVyxlQUFlLFFBQ2pDRjtBQVFkLFFBQUssYUFBYSxPQUFPLFNBQVMsT0FBTyxPQUFPLENBQUEsQ0FBRSxJQUErQjtBQU9qRixRQUFLLGNBQWMsT0FBTyxTQUFTLE9BQU8sT0FBTyxDQUFBLENBQUUsSUFBK0I7QUFRbEYsUUFBSyxZQUFZLE9BQU8sYUFBd0MsbUJBQW1CLE9BQU87QUFDdEYsV0FBTyxPQUFPLFVBQVUsWUFBWSxTQUFTLEtBQUssS0FBSyxLQUFLLE1BQU0sS0FBSyxNQUFNO0FBQUEsRUFDakY7QUFPQSxRQUFLLFdBQVcsa0JBQWtCLE9BQU87QUFDckMsV0FBTyxPQUFPLFVBQVUsWUFBWSxpQkFBaUI7QUFBQSxFQUN6RDtBQU9BLFFBQUssV0FBVyxrQkFBa0IsT0FBTztBQUNyQyxXQUFPLFNBQVMsT0FBTyxVQUFVO0FBQUEsRUFDckM7QUFVQSxRQUFLLFFBUUwsTUFBSyxRQUFRLGdCQUFlLEtBQUssTUFBTTtBQUNuQyxRQUFJLFFBQVEsSUFBSTtBQUNoQixRQUFJLFNBQVMsUUFBUSxJQUFJLGVBQWUsSUFBSTtBQUN4QyxhQUFPLE9BQU8sVUFBVSxZQUFhLE9BQU0sUUFBUSxLQUFLLElBQUksTUFBTSxTQUFTLE9BQU8sS0FBSyxLQUFLLEVBQUUsVUFBVTtBQUM1RyxXQUFPO0FBQUEsRUFDWDtBQWFBLFFBQUssU0FBVSxXQUFXO0FBQ3RCLFFBQUk7QUFDQSxVQUFJLFVBQVMsTUFBSyxRQUFRLFFBQVEsRUFBRTtBQUVwQyxhQUFPLFFBQU8sVUFBVSxZQUFZLFVBQW9DO0FBQUEsSUFDM0UsU0FBUSxHQUFQO0FBRUUsYUFBTztBQUFBLElBQ1Y7QUFBQSxFQUNMO0FBR0EsUUFBSyxlQUFlO0FBR3BCLFFBQUssc0JBQXNCO0FBTzNCLFFBQUssWUFBWSxtQkFBbUIsYUFBYTtBQUU3QyxXQUFPLE9BQU8sZ0JBQWdCLFdBQ3hCLE1BQUssU0FDRCxNQUFLLG9CQUFvQixXQUFXLElBQ3BDLElBQUksTUFBSyxNQUFNLFdBQVcsSUFDOUIsTUFBSyxTQUNELE1BQUssYUFBYSxXQUFXLElBQzdCLE9BQU8sZUFBZSxjQUNsQixjQUNBLElBQUksV0FBVyxXQUFXO0FBQUEsRUFDNUM7QUFNQSxRQUFLLFFBQVEsT0FBTyxlQUFlLGNBQWMsYUFBd0M7QUFlekYsUUFBSyxPQUFrQyxNQUFLLE9BQU8sV0FBc0MsTUFBSyxPQUFPLFFBQVEsUUFDdEUsTUFBSyxPQUFPLFFBQ3ZDLE1BQUssUUFBUSxNQUFNO0FBTy9CLFFBQUssU0FBUztBQU9kLFFBQUssVUFBVTtBQU9mLFFBQUssVUFBVTtBQU9mLFFBQUssYUFBYSxvQkFBb0IsT0FBTztBQUN6QyxXQUFPLFFBQ0QsTUFBSyxTQUFTLEtBQUssS0FBSyxFQUFFLE9BQVEsSUFDbEMsTUFBSyxTQUFTO0FBQUEsRUFDeEI7QUFRQSxRQUFLLGVBQWUsc0JBQXNCLE9BQU0sVUFBVTtBQUN0RCxRQUFJLE9BQU8sTUFBSyxTQUFTLFNBQVMsS0FBSTtBQUN0QyxRQUFJLE1BQUs7QUFDTCxhQUFPLE1BQUssS0FBSyxTQUFTLEtBQUssSUFBSSxLQUFLLElBQUksUUFBUTtBQUN4RCxXQUFPLEtBQUssU0FBUyxRQUFRLFFBQVEsQ0FBQztBQUFBLEVBQzFDO0FBVUEsaUJBQWUsS0FBSyxLQUFLLFVBQVU7QUFDL0IsYUFBUyxPQUFPLE9BQU8sS0FBSyxHQUFHLEdBQUcsSUFBSSxHQUFHLElBQUksS0FBSyxRQUFRLEVBQUU7QUFDeEQsVUFBSSxJQUFJLEtBQUssUUFBUSxVQUFhLENBQUM7QUFDL0IsWUFBSSxLQUFLLE1BQU0sSUFBSSxLQUFLO0FBQ2hDLFdBQU87QUFBQSxFQUNYO0FBRUEsUUFBSyxRQUFRO0FBT2IsUUFBSyxVQUFVLGlCQUFpQixLQUFLO0FBQ2pDLFdBQU8sSUFBSSxPQUFPLENBQUMsRUFBRSxZQUFXLElBQUssSUFBSSxVQUFVLENBQUM7QUFBQSxFQUN4RDtBQVFBLG9CQUFrQixNQUFNO0FBRXBCLHlCQUFxQixTQUFTLFlBQVk7QUFFdEMsVUFBSSxDQUFFLGlCQUFnQjtBQUNsQixlQUFPLElBQUksWUFBWSxTQUFTLFVBQVU7QUFLOUMsYUFBTyxlQUFlLE1BQU0sV0FBVyxFQUFFLEtBQUssV0FBVztBQUFFLGVBQU87QUFBQSxNQUFVLEVBQUEsQ0FBRTtBQUc5RSxVQUFJLE1BQU07QUFDTixjQUFNLGtCQUFrQixNQUFNLFdBQVc7QUFBQTtBQUV6QyxlQUFPLGVBQWUsTUFBTSxTQUFTLEVBQUUsT0FBTyxJQUFJLFFBQVEsU0FBUyxHQUFFLENBQUU7QUFFM0UsVUFBSTtBQUNBLGNBQU0sTUFBTSxVQUFVO0FBQUEsSUFDN0I7QUFFRCxnQkFBWSxZQUFZLE9BQU8sT0FBTyxNQUFNLFdBQVc7QUFBQSxNQUNuRCxhQUFhO0FBQUEsUUFDVCxPQUFPO0FBQUEsUUFDUCxVQUFVO0FBQUEsUUFDVixZQUFZO0FBQUEsUUFDWixjQUFjO0FBQUEsTUFDakI7QUFBQSxNQUNELE1BQU07QUFBQSxRQUNGLE1BQU07QUFBRSxpQkFBTztBQUFBLFFBQU87QUFBQSxRQUN0QixLQUFLO0FBQUEsUUFDTCxZQUFZO0FBQUEsUUFLWixjQUFjO0FBQUEsTUFDakI7QUFBQSxNQUNELFVBQVU7QUFBQSxRQUNOLFFBQVE7QUFBRSxpQkFBTyxLQUFLLE9BQU8sT0FBTyxLQUFLO0FBQUEsUUFBVTtBQUFBLFFBQ25ELFVBQVU7QUFBQSxRQUNWLFlBQVk7QUFBQSxRQUNaLGNBQWM7QUFBQSxNQUNqQjtBQUFBLElBQ1QsQ0FBSztBQUVELFdBQU87QUFBQSxFQUNYO0FBRUEsUUFBSyxXQUFXO0FBbUJoQixRQUFLLGdCQUFnQixTQUFTLGVBQWU7QUFvQjdDLFFBQUssY0FBYyxrQkFBa0IsWUFBWTtBQUM3QyxRQUFJLFdBQVcsQ0FBQTtBQUNmLGFBQVMsSUFBSSxHQUFHLElBQUksV0FBVyxRQUFRLEVBQUU7QUFDckMsZUFBUyxXQUFXLE1BQU07QUFPOUIsV0FBTyxXQUFXO0FBQ2QsZUFBUyxPQUFPLE9BQU8sS0FBSyxJQUFJLEdBQUcsS0FBSSxLQUFLLFNBQVMsR0FBRyxLQUFJLElBQUksRUFBRTtBQUM5RCxZQUFJLFNBQVMsS0FBSyxTQUFRLEtBQUssS0FBSyxLQUFLLFNBQVEsVUFBYSxLQUFLLEtBQUssU0FBUTtBQUM1RSxpQkFBTyxLQUFLO0FBQUEsSUFDNUI7QUFBQSxFQUNBO0FBZUEsUUFBSyxjQUFjLGtCQUFrQixZQUFZO0FBUTdDLFdBQU8sU0FBUyxNQUFNO0FBQ2xCLGVBQVMsSUFBSSxHQUFHLElBQUksV0FBVyxRQUFRLEVBQUU7QUFDckMsWUFBSSxXQUFXLE9BQU87QUFDbEIsaUJBQU8sS0FBSyxXQUFXO0FBQUEsSUFDdkM7QUFBQSxFQUNBO0FBa0JBLFFBQUssZ0JBQWdCO0FBQUEsSUFDakIsT0FBTztBQUFBLElBQ1AsT0FBTztBQUFBLElBQ1AsT0FBTztBQUFBLElBQ1AsTUFBTTtBQUFBLEVBQ1Y7QUFHQSxRQUFLLGFBQWEsV0FBVztBQUN6QixRQUFJLFVBQVMsTUFBSztBQUVsQixRQUFJLENBQUMsU0FBUTtBQUNULFlBQUssZUFBZSxNQUFLLHNCQUFzQjtBQUMvQztBQUFBLElBQ0g7QUFHRCxVQUFLLGVBQWUsUUFBTyxTQUFTLFdBQVcsUUFBUSxRQUFPLFFBRTFELHFCQUFxQixPQUFPLFVBQVU7QUFDbEMsYUFBTyxJQUFJLFFBQU8sT0FBTyxRQUFRO0FBQUEsSUFDN0M7QUFDSSxVQUFLLHNCQUFzQixRQUFPLGVBRTlCLDRCQUE0QixNQUFNO0FBQzlCLGFBQU8sSUFBSSxRQUFPLElBQUk7QUFBQSxJQUNsQztBQUFBLEVBQ0E7O0lDcGJBLFNBQWlCZTtBQUVqQixJQUFJUCxTQUFZSjtBQUVoQixJQUFJWTtBQUVKLElBQUlULGFBQVlDLE9BQUssVUFDakIsU0FBWUEsT0FBSyxRQUNqQlMsU0FBWVQsT0FBSztBQVdyQixZQUFZLElBQUksS0FBSyxLQUFLO0FBTXRCLE9BQUssS0FBSztBQU1WLE9BQUssTUFBTTtBQU1YLE9BQUssT0FBTztBQU1aLE9BQUssTUFBTTtBQUNmO0FBR0EsZ0JBQWdCO0FBQUU7QUFVbEIsZUFBZSxTQUFRO0FBTW5CLE9BQUssT0FBTyxRQUFPO0FBTW5CLE9BQUssT0FBTyxRQUFPO0FBTW5CLE9BQUssTUFBTSxRQUFPO0FBTWxCLE9BQUssT0FBTyxRQUFPO0FBQ3ZCO0FBT0Esb0JBQWtCO0FBTWQsT0FBSyxNQUFNO0FBTVgsT0FBSyxPQUFPLElBQUksR0FBRyxNQUFNLEdBQUcsQ0FBQztBQU03QixPQUFLLE9BQU8sS0FBSztBQU1qQixPQUFLLFNBQVM7QUFPbEI7QUFFQSxJQUFJVSxXQUFTLG1CQUFrQjtBQUMzQixTQUFPVixPQUFLLFNBQ04sK0JBQStCO0FBQzdCLFdBQVFPLFVBQU8sU0FBUyx5QkFBeUI7QUFDN0MsYUFBTyxJQUFJQyxlQUFZO0FBQUEsSUFDdkM7RUFDUyxJQUVDLHlCQUF3QjtBQUN0QixXQUFPLElBQUlELFNBQU07QUFBQSxFQUM3QjtBQUNBO0FBT0FBLFNBQU8sU0FBU0c7QUFPaEJILFNBQU8sUUFBUSxlQUFlLE1BQU07QUFDaEMsU0FBTyxJQUFJUCxPQUFLLE1BQU0sSUFBSTtBQUM5QjtBQUlBLElBQUlBLE9BQUssVUFBVTtBQUNmTyxXQUFPLFFBQVFQLE9BQUssS0FBS08sU0FBTyxPQUFPUCxPQUFLLE1BQU0sVUFBVSxRQUFRO0FBVXhFTyxTQUFPLFVBQVUsUUFBUSxjQUFjLElBQUksS0FBSyxLQUFLO0FBQ2pELE9BQUssT0FBTyxLQUFLLEtBQUssT0FBTyxJQUFJLEdBQUcsSUFBSSxLQUFLLEdBQUc7QUFDaEQsT0FBSyxPQUFPO0FBQ1osU0FBTztBQUNYO0FBRUEsbUJBQW1CLEtBQUssS0FBSyxLQUFLO0FBQzlCLE1BQUksT0FBTyxNQUFNO0FBQ3JCO0FBRUEsdUJBQXVCLEtBQUssS0FBSyxLQUFLO0FBQ2xDLFNBQU8sTUFBTSxLQUFLO0FBQ2QsUUFBSSxTQUFTLE1BQU0sTUFBTTtBQUN6QixhQUFTO0FBQUEsRUFDWjtBQUNELE1BQUksT0FBTztBQUNmO0FBV0Esa0JBQWtCLEtBQUssS0FBSztBQUN4QixPQUFLLE1BQU07QUFDWCxPQUFLLE9BQU87QUFDWixPQUFLLE1BQU07QUFDZjtBQUVBLFNBQVMsWUFBWSxPQUFPLE9BQU8sR0FBRyxTQUFTO0FBQy9DLFNBQVMsVUFBVSxLQUFLO0FBT3hCQSxTQUFPLFVBQVUsU0FBUyxzQkFBc0IsT0FBTztBQUduRCxPQUFLLE9BQVEsTUFBSyxPQUFPLEtBQUssS0FBSyxPQUFPLElBQUksU0FDekMsU0FBUSxVQUFVLEtBQ1QsTUFBWSxJQUNwQixRQUFRLFFBQVksSUFDcEIsUUFBUSxVQUFZLElBQ3BCLFFBQVEsWUFBWSxJQUNBLEdBQzFCLEtBQUssR0FBRztBQUNSLFNBQU87QUFDWDtBQVFBQSxTQUFPLFVBQVUsUUFBUSxxQkFBcUIsT0FBTztBQUNqRCxTQUFPLFFBQVEsSUFDVCxLQUFLLE1BQU0sZUFBZSxJQUFJUixXQUFTLFdBQVcsS0FBSyxDQUFDLElBQ3hELEtBQUssT0FBTyxLQUFLO0FBQzNCO0FBT0FRLFNBQU8sVUFBVSxTQUFTLHNCQUFzQixPQUFPO0FBQ25ELFNBQU8sS0FBSyxPQUFRLFVBQVMsSUFBSSxTQUFTLFFBQVEsQ0FBQztBQUN2RDtBQUVBLHVCQUF1QixLQUFLLEtBQUssS0FBSztBQUNsQyxTQUFPLElBQUksSUFBSTtBQUNYLFFBQUksU0FBUyxJQUFJLEtBQUssTUFBTTtBQUM1QixRQUFJLEtBQU0sS0FBSSxPQUFPLElBQUksSUFBSSxNQUFNLFFBQVE7QUFDM0MsUUFBSSxRQUFRO0FBQUEsRUFDZjtBQUNELFNBQU8sSUFBSSxLQUFLLEtBQUs7QUFDakIsUUFBSSxTQUFTLElBQUksS0FBSyxNQUFNO0FBQzVCLFFBQUksS0FBSyxJQUFJLE9BQU87QUFBQSxFQUN2QjtBQUNELE1BQUksU0FBUyxJQUFJO0FBQ3JCO0FBUUFBLFNBQU8sVUFBVSxTQUFTLHNCQUFzQixPQUFPO0FBQ25ELE1BQUksT0FBT1IsV0FBUyxLQUFLLEtBQUs7QUFDOUIsU0FBTyxLQUFLLE1BQU0sZUFBZSxLQUFLLE9BQU0sR0FBSSxJQUFJO0FBQ3hEO0FBU0FRLFNBQU8sVUFBVSxRQUFRQSxTQUFPLFVBQVU7QUFRMUNBLFNBQU8sVUFBVSxTQUFTLHNCQUFzQixPQUFPO0FBQ25ELE1BQUksT0FBT1IsV0FBUyxLQUFLLEtBQUssRUFBRSxTQUFRO0FBQ3hDLFNBQU8sS0FBSyxNQUFNLGVBQWUsS0FBSyxPQUFNLEdBQUksSUFBSTtBQUN4RDtBQU9BUSxTQUFPLFVBQVUsT0FBTyxvQkFBb0IsT0FBTztBQUMvQyxTQUFPLEtBQUssTUFBTSxXQUFXLEdBQUcsUUFBUSxJQUFJLENBQUM7QUFDakQ7QUFFQSxzQkFBc0IsS0FBSyxLQUFLLEtBQUs7QUFDakMsTUFBSSxPQUFZLE1BQWM7QUFDOUIsTUFBSSxNQUFNLEtBQU0sUUFBUSxJQUFNO0FBQzlCLE1BQUksTUFBTSxLQUFNLFFBQVEsS0FBTTtBQUM5QixNQUFJLE1BQU0sS0FBTSxRQUFRO0FBQzVCO0FBT0FBLFNBQU8sVUFBVSxVQUFVLHVCQUF1QixPQUFPO0FBQ3JELFNBQU8sS0FBSyxNQUFNLGNBQWMsR0FBRyxVQUFVLENBQUM7QUFDbEQ7QUFRQUEsU0FBTyxVQUFVLFdBQVdBLFNBQU8sVUFBVTtBQVE3Q0EsU0FBTyxVQUFVLFVBQVUsdUJBQXVCLE9BQU87QUFDckQsTUFBSSxPQUFPUixXQUFTLEtBQUssS0FBSztBQUM5QixTQUFPLEtBQUssTUFBTSxjQUFjLEdBQUcsS0FBSyxFQUFFLEVBQUUsTUFBTSxjQUFjLEdBQUcsS0FBSyxFQUFFO0FBQzlFO0FBU0FRLFNBQU8sVUFBVSxXQUFXQSxTQUFPLFVBQVU7QUFRN0NBLFNBQU8sVUFBVSxRQUFRLHFCQUFxQixPQUFPO0FBQ2pELFNBQU8sS0FBSyxNQUFNUCxPQUFLLE1BQU0sY0FBYyxHQUFHLEtBQUs7QUFDdkQ7QUFRQU8sU0FBTyxVQUFVLFNBQVMsc0JBQXNCLE9BQU87QUFDbkQsU0FBTyxLQUFLLE1BQU1QLE9BQUssTUFBTSxlQUFlLEdBQUcsS0FBSztBQUN4RDtBQUVBLElBQUksYUFBYUEsT0FBSyxNQUFNLFVBQVUsTUFDaEMsd0JBQXdCLEtBQUssS0FBSyxLQUFLO0FBQ3JDLE1BQUksSUFBSSxLQUFLLEdBQUc7QUFDbkIsSUFFQyx3QkFBd0IsS0FBSyxLQUFLLEtBQUs7QUFDckMsV0FBUyxJQUFJLEdBQUcsSUFBSSxJQUFJLFFBQVEsRUFBRTtBQUM5QixRQUFJLE1BQU0sS0FBSyxJQUFJO0FBQy9CO0FBT0FPLFNBQU8sVUFBVSxRQUFRLHFCQUFxQixPQUFPO0FBQ2pELE1BQUksTUFBTSxNQUFNLFdBQVc7QUFDM0IsTUFBSSxDQUFDO0FBQ0QsV0FBTyxLQUFLLE1BQU0sV0FBVyxHQUFHLENBQUM7QUFDckMsTUFBSVAsT0FBSyxTQUFTLEtBQUssR0FBRztBQUN0QixRQUFJLE1BQU1PLFNBQU8sTUFBTSxNQUFNLE9BQU8sT0FBTyxLQUFLLENBQUM7QUFDakQsV0FBTyxPQUFPLE9BQU8sS0FBSyxDQUFDO0FBQzNCLFlBQVE7QUFBQSxFQUNYO0FBQ0QsU0FBTyxLQUFLLE9BQU8sR0FBRyxFQUFFLE1BQU0sWUFBWSxLQUFLLEtBQUs7QUFDeEQ7QUFPQUEsU0FBTyxVQUFVLFNBQVMsc0JBQXNCLE9BQU87QUFDbkQsTUFBSSxNQUFNRSxPQUFLLE9BQU8sS0FBSztBQUMzQixTQUFPLE1BQ0QsS0FBSyxPQUFPLEdBQUcsRUFBRSxNQUFNQSxPQUFLLE9BQU8sS0FBSyxLQUFLLElBQzdDLEtBQUssTUFBTSxXQUFXLEdBQUcsQ0FBQztBQUNwQztBQU9BRixTQUFPLFVBQVUsT0FBTyxnQkFBZ0I7QUFDcEMsT0FBSyxTQUFTLElBQUksTUFBTSxJQUFJO0FBQzVCLE9BQUssT0FBTyxLQUFLLE9BQU8sSUFBSSxHQUFHLE1BQU0sR0FBRyxDQUFDO0FBQ3pDLE9BQUssTUFBTTtBQUNYLFNBQU87QUFDWDtBQU1BQSxTQUFPLFVBQVUsUUFBUSxpQkFBaUI7QUFDdEMsTUFBSSxLQUFLLFFBQVE7QUFDYixTQUFLLE9BQVMsS0FBSyxPQUFPO0FBQzFCLFNBQUssT0FBUyxLQUFLLE9BQU87QUFDMUIsU0FBSyxNQUFTLEtBQUssT0FBTztBQUMxQixTQUFLLFNBQVMsS0FBSyxPQUFPO0FBQUEsRUFDbEMsT0FBVztBQUNILFNBQUssT0FBTyxLQUFLLE9BQU8sSUFBSSxHQUFHLE1BQU0sR0FBRyxDQUFDO0FBQ3pDLFNBQUssTUFBTztBQUFBLEVBQ2Y7QUFDRCxTQUFPO0FBQ1g7QUFNQUEsU0FBTyxVQUFVLFNBQVMsa0JBQWtCO0FBQ3hDLE1BQUksT0FBTyxLQUFLLE1BQ1osT0FBTyxLQUFLLE1BQ1osTUFBTyxLQUFLO0FBQ2hCLE9BQUssTUFBSyxFQUFHLE9BQU8sR0FBRztBQUN2QixNQUFJLEtBQUs7QUFDTCxTQUFLLEtBQUssT0FBTyxLQUFLO0FBQ3RCLFNBQUssT0FBTztBQUNaLFNBQUssT0FBTztBQUFBLEVBQ2Y7QUFDRCxTQUFPO0FBQ1g7QUFNQUEsU0FBTyxVQUFVLFNBQVMsa0JBQWtCO0FBQ3hDLE1BQUksT0FBTyxLQUFLLEtBQUssTUFDakIsTUFBTyxLQUFLLFlBQVksTUFBTSxLQUFLLEdBQUcsR0FDdEMsTUFBTztBQUNYLFNBQU8sTUFBTTtBQUNULFNBQUssR0FBRyxLQUFLLEtBQUssS0FBSyxHQUFHO0FBQzFCLFdBQU8sS0FBSztBQUNaLFdBQU8sS0FBSztBQUFBLEVBQ2Y7QUFFRCxTQUFPO0FBQ1g7QUFFQUEsU0FBTyxhQUFhLFNBQVMsZUFBZTtBQUN4Q0MsbUJBQWU7QUFDZkQsV0FBTyxTQUFTRztBQUNoQkYsaUJBQWEsV0FBVTtBQUMzQjtJQy9jQSxnQkFBaUI7QUFHakIsSUFBSSxTQUFTWjtBQUNiLEFBQUMsY0FBYSxZQUFZLE9BQU8sT0FBTyxPQUFPLFNBQVMsR0FBRyxjQUFjO0FBRXpFLElBQUlJLFNBQU9IO0FBUVgsd0JBQXdCO0FBQ3BCLFNBQU8sS0FBSyxJQUFJO0FBQ3BCO0FBRUEsYUFBYSxhQUFhLFdBQVk7QUFPbEMsZUFBYSxRQUFRRyxPQUFLO0FBRTFCLGVBQWEsbUJBQW1CQSxPQUFLLFVBQVVBLE9BQUssT0FBTyxxQkFBcUIsY0FBY0EsT0FBSyxPQUFPLFVBQVUsSUFBSSxTQUFTLFFBQzNILDhCQUE4QixLQUFLLEtBQUssS0FBSztBQUM3QyxRQUFJLElBQUksS0FBSyxHQUFHO0FBQUEsRUFFakIsSUFFQywrQkFBK0IsS0FBSyxLQUFLLEtBQUs7QUFDOUMsUUFBSSxJQUFJO0FBQ04sVUFBSSxLQUFLLEtBQUssS0FBSyxHQUFHLElBQUksTUFBTTtBQUFBO0FBQzdCLGVBQVMsSUFBSSxHQUFHLElBQUksSUFBSTtBQUMzQixZQUFJLFNBQVMsSUFBSTtBQUFBLEVBQzdCO0FBQ0E7QUFNQSxhQUFhLFVBQVUsUUFBUSw0QkFBNEIsT0FBTztBQUM5RCxNQUFJQSxPQUFLLFNBQVMsS0FBSztBQUNuQixZQUFRQSxPQUFLLGFBQWEsT0FBTyxRQUFRO0FBQzdDLE1BQUksTUFBTSxNQUFNLFdBQVc7QUFDM0IsT0FBSyxPQUFPLEdBQUc7QUFDZixNQUFJO0FBQ0EsU0FBSyxNQUFNLGFBQWEsa0JBQWtCLEtBQUssS0FBSztBQUN4RCxTQUFPO0FBQ1g7QUFFQSwyQkFBMkIsS0FBSyxLQUFLLEtBQUs7QUFDdEMsTUFBSSxJQUFJLFNBQVM7QUFDYkEsV0FBSyxLQUFLLE1BQU0sS0FBSyxLQUFLLEdBQUc7QUFBQSxXQUN4QixJQUFJO0FBQ1QsUUFBSSxVQUFVLEtBQUssR0FBRztBQUFBO0FBRXRCLFFBQUksTUFBTSxLQUFLLEdBQUc7QUFDMUI7QUFLQSxhQUFhLFVBQVUsU0FBUyw2QkFBNkIsT0FBTztBQUNoRSxNQUFJLE1BQU1BLE9BQUssT0FBTyxXQUFXLEtBQUs7QUFDdEMsT0FBSyxPQUFPLEdBQUc7QUFDZixNQUFJO0FBQ0EsU0FBSyxNQUFNLG1CQUFtQixLQUFLLEtBQUs7QUFDNUMsU0FBTztBQUNYO0FBVUEsYUFBYSxXQUFZO0lDbkZ6QixTQUFpQlc7QUFFakIsSUFBSVgsU0FBWUo7QUFFaEIsSUFBSWdCO0FBRUosSUFBSSxXQUFZWixPQUFLLFVBQ2pCLE9BQVlBLE9BQUs7QUFHckIseUJBQXlCLFNBQVEsYUFBYTtBQUMxQyxTQUFPLFdBQVcseUJBQXlCLFFBQU8sTUFBTSxRQUFTLGdCQUFlLEtBQUssUUFBUSxRQUFPLEdBQUc7QUFDM0c7QUFRQSxrQkFBZ0IsUUFBUTtBQU1wQixPQUFLLE1BQU07QUFNWCxPQUFLLE1BQU07QUFNWCxPQUFLLE1BQU0sT0FBTztBQUN0QjtBQUVBLElBQUksZUFBZSxPQUFPLGVBQWUsY0FDbkMsNEJBQTRCLFFBQVE7QUFDbEMsTUFBSSxrQkFBa0IsY0FBYyxNQUFNLFFBQVEsTUFBTTtBQUNwRCxXQUFPLElBQUlXLFNBQU8sTUFBTTtBQUM1QixRQUFNLE1BQU0sZ0JBQWdCO0FBQy9CLElBRUMsdUJBQXNCLFFBQVE7QUFDNUIsTUFBSSxNQUFNLFFBQVEsTUFBTTtBQUNwQixXQUFPLElBQUlBLFNBQU8sTUFBTTtBQUM1QixRQUFNLE1BQU0sZ0JBQWdCO0FBQ3BDO0FBRUEsSUFBSSxTQUFTLG1CQUFrQjtBQUMzQixTQUFPWCxPQUFLLFNBQ04sNkJBQTZCLFFBQVE7QUFDbkMsV0FBUVcsVUFBTyxTQUFTLHVCQUF1QixTQUFRO0FBQ25ELGFBQU9YLE9BQUssT0FBTyxTQUFTLE9BQU0sSUFDNUIsSUFBSVksZUFBYSxPQUFNLElBRXZCLGFBQWEsT0FBTTtBQUFBLElBQzVCLEdBQUUsTUFBTTtBQUFBLEVBQ1osSUFFQztBQUNWO0FBU0FELFNBQU8sU0FBUztBQUVoQkEsU0FBTyxVQUFVLFNBQVNYLE9BQUssTUFBTSxVQUFVLFlBQXVDQSxPQUFLLE1BQU0sVUFBVTtBQU8zR1csU0FBTyxVQUFVLFNBQVUsNkJBQTZCO0FBQ3BELE1BQUksUUFBUTtBQUNaLFNBQU8sdUJBQXVCO0FBQzFCLFlBQWtCLE1BQUssSUFBSSxLQUFLLE9BQU8sU0FBZ0I7QUFBRyxRQUFJLEtBQUssSUFBSSxLQUFLLFNBQVM7QUFBSyxhQUFPO0FBQ2pHLFlBQVMsU0FBUyxNQUFLLElBQUksS0FBSyxPQUFPLFFBQVMsT0FBTztBQUFHLFFBQUksS0FBSyxJQUFJLEtBQUssU0FBUztBQUFLLGFBQU87QUFDakcsWUFBUyxTQUFTLE1BQUssSUFBSSxLQUFLLE9BQU8sUUFBUSxRQUFRO0FBQUcsUUFBSSxLQUFLLElBQUksS0FBSyxTQUFTO0FBQUssYUFBTztBQUNqRyxZQUFTLFNBQVMsTUFBSyxJQUFJLEtBQUssT0FBTyxRQUFRLFFBQVE7QUFBRyxRQUFJLEtBQUssSUFBSSxLQUFLLFNBQVM7QUFBSyxhQUFPO0FBQ2pHLFlBQVMsU0FBUyxNQUFLLElBQUksS0FBSyxPQUFRLE9BQU8sUUFBUTtBQUFHLFFBQUksS0FBSyxJQUFJLEtBQUssU0FBUztBQUFLLGFBQU87QUFHakcsUUFBSyxNQUFLLE9BQU8sS0FBSyxLQUFLLEtBQUs7QUFDNUIsV0FBSyxNQUFNLEtBQUs7QUFDaEIsWUFBTSxnQkFBZ0IsTUFBTSxFQUFFO0FBQUEsSUFDakM7QUFDRCxXQUFPO0FBQUEsRUFDZjtBQUNBO0FBTUFBLFNBQU8sVUFBVSxRQUFRLHNCQUFzQjtBQUMzQyxTQUFPLEtBQUssT0FBUSxJQUFHO0FBQzNCO0FBTUFBLFNBQU8sVUFBVSxTQUFTLHVCQUF1QjtBQUM3QyxNQUFJLFFBQVEsS0FBSztBQUNqQixTQUFPLFVBQVUsSUFBSSxDQUFFLFNBQVEsS0FBSztBQUN4QztBQUlBLDBCQUEwQjtBQUV0QixNQUFJLE9BQU8sSUFBSSxTQUFTLEdBQUcsQ0FBQztBQUM1QixNQUFJLElBQUk7QUFDUixNQUFJLEtBQUssTUFBTSxLQUFLLE1BQU0sR0FBRztBQUN6QixXQUFPLElBQUksR0FBRyxFQUFFLEdBQUc7QUFFZixXQUFLLEtBQU0sTUFBSyxLQUFNLE1BQUssSUFBSSxLQUFLLE9BQU8sUUFBUSxJQUFJLE9BQU87QUFDOUQsVUFBSSxLQUFLLElBQUksS0FBSyxTQUFTO0FBQ3ZCLGVBQU87QUFBQSxJQUNkO0FBRUQsU0FBSyxLQUFNLE1BQUssS0FBTSxNQUFLLElBQUksS0FBSyxPQUFPLFFBQVEsUUFBUTtBQUMzRCxTQUFLLEtBQU0sTUFBSyxLQUFNLE1BQUssSUFBSSxLQUFLLE9BQU8sUUFBUyxPQUFPO0FBQzNELFFBQUksS0FBSyxJQUFJLEtBQUssU0FBUztBQUN2QixhQUFPO0FBQ1gsUUFBSTtBQUFBLEVBQ1osT0FBVztBQUNILFdBQU8sSUFBSSxHQUFHLEVBQUUsR0FBRztBQUVmLFVBQUksS0FBSyxPQUFPLEtBQUs7QUFDakIsY0FBTSxnQkFBZ0IsSUFBSTtBQUU5QixXQUFLLEtBQU0sTUFBSyxLQUFNLE1BQUssSUFBSSxLQUFLLE9BQU8sUUFBUSxJQUFJLE9BQU87QUFDOUQsVUFBSSxLQUFLLElBQUksS0FBSyxTQUFTO0FBQ3ZCLGVBQU87QUFBQSxJQUNkO0FBRUQsU0FBSyxLQUFNLE1BQUssS0FBTSxNQUFLLElBQUksS0FBSyxTQUFTLFFBQVEsSUFBSSxPQUFPO0FBQ2hFLFdBQU87QUFBQSxFQUNWO0FBQ0QsTUFBSSxLQUFLLE1BQU0sS0FBSyxNQUFNLEdBQUc7QUFDekIsV0FBTyxJQUFJLEdBQUcsRUFBRSxHQUFHO0FBRWYsV0FBSyxLQUFNLE1BQUssS0FBTSxNQUFLLElBQUksS0FBSyxPQUFPLFFBQVEsSUFBSSxJQUFJLE9BQU87QUFDbEUsVUFBSSxLQUFLLElBQUksS0FBSyxTQUFTO0FBQ3ZCLGVBQU87QUFBQSxJQUNkO0FBQUEsRUFDVCxPQUFXO0FBQ0gsV0FBTyxJQUFJLEdBQUcsRUFBRSxHQUFHO0FBRWYsVUFBSSxLQUFLLE9BQU8sS0FBSztBQUNqQixjQUFNLGdCQUFnQixJQUFJO0FBRTlCLFdBQUssS0FBTSxNQUFLLEtBQU0sTUFBSyxJQUFJLEtBQUssT0FBTyxRQUFRLElBQUksSUFBSSxPQUFPO0FBQ2xFLFVBQUksS0FBSyxJQUFJLEtBQUssU0FBUztBQUN2QixlQUFPO0FBQUEsSUFDZDtBQUFBLEVBQ0o7QUFFRCxRQUFNLE1BQU0seUJBQXlCO0FBQ3pDO0FBNkJBQSxTQUFPLFVBQVUsT0FBTyxxQkFBcUI7QUFDekMsU0FBTyxLQUFLLE9BQVEsTUFBSztBQUM3QjtBQUVBLHlCQUF5QixLQUFLLE1BQUs7QUFDL0IsU0FBUSxLQUFJLE9BQU0sS0FDVixJQUFJLE9BQU0sTUFBTSxJQUNoQixJQUFJLE9BQU0sTUFBTSxLQUNoQixJQUFJLE9BQU0sTUFBTSxRQUFRO0FBQ3BDO0FBTUFBLFNBQU8sVUFBVSxVQUFVLHdCQUF3QjtBQUcvQyxNQUFJLEtBQUssTUFBTSxJQUFJLEtBQUs7QUFDcEIsVUFBTSxnQkFBZ0IsTUFBTSxDQUFDO0FBRWpDLFNBQU8sZ0JBQWdCLEtBQUssS0FBSyxLQUFLLE9BQU8sQ0FBQztBQUNsRDtBQU1BQSxTQUFPLFVBQVUsV0FBVyx5QkFBeUI7QUFHakQsTUFBSSxLQUFLLE1BQU0sSUFBSSxLQUFLO0FBQ3BCLFVBQU0sZ0JBQWdCLE1BQU0sQ0FBQztBQUVqQyxTQUFPLGdCQUFnQixLQUFLLEtBQUssS0FBSyxPQUFPLENBQUMsSUFBSTtBQUN0RDtBQUlBLHVCQUF5QztBQUdyQyxNQUFJLEtBQUssTUFBTSxJQUFJLEtBQUs7QUFDcEIsVUFBTSxnQkFBZ0IsTUFBTSxDQUFDO0FBRWpDLFNBQU8sSUFBSSxTQUFTLGdCQUFnQixLQUFLLEtBQUssS0FBSyxPQUFPLENBQUMsR0FBRyxnQkFBZ0IsS0FBSyxLQUFLLEtBQUssT0FBTyxDQUFDLENBQUM7QUFDMUc7QUF1QkFBLFNBQU8sVUFBVSxRQUFRLHNCQUFzQjtBQUczQyxNQUFJLEtBQUssTUFBTSxJQUFJLEtBQUs7QUFDcEIsVUFBTSxnQkFBZ0IsTUFBTSxDQUFDO0FBRWpDLE1BQUksUUFBUVgsT0FBSyxNQUFNLFlBQVksS0FBSyxLQUFLLEtBQUssR0FBRztBQUNyRCxPQUFLLE9BQU87QUFDWixTQUFPO0FBQ1g7QUFPQVcsU0FBTyxVQUFVLFNBQVMsdUJBQXVCO0FBRzdDLE1BQUksS0FBSyxNQUFNLElBQUksS0FBSztBQUNwQixVQUFNLGdCQUFnQixNQUFNLENBQUM7QUFFakMsTUFBSSxRQUFRWCxPQUFLLE1BQU0sYUFBYSxLQUFLLEtBQUssS0FBSyxHQUFHO0FBQ3RELE9BQUssT0FBTztBQUNaLFNBQU87QUFDWDtBQU1BVyxTQUFPLFVBQVUsUUFBUSxzQkFBc0I7QUFDM0MsTUFBSSxVQUFTLEtBQUssT0FBUSxHQUN0QixRQUFTLEtBQUssS0FDZCxPQUFTLEtBQUssTUFBTTtBQUd4QixNQUFJLE9BQU0sS0FBSztBQUNYLFVBQU0sZ0JBQWdCLE1BQU0sT0FBTTtBQUV0QyxPQUFLLE9BQU87QUFDWixNQUFJLE1BQU0sUUFBUSxLQUFLLEdBQUc7QUFDdEIsV0FBTyxLQUFLLElBQUksTUFBTSxPQUFPLElBQUc7QUFDcEMsU0FBTyxVQUFVLE9BQ1gsSUFBSSxLQUFLLElBQUksWUFBWSxDQUFDLElBQzFCLEtBQUssT0FBTyxLQUFLLEtBQUssS0FBSyxPQUFPLElBQUc7QUFDL0M7QUFNQUEsU0FBTyxVQUFVLFNBQVMsdUJBQXVCO0FBQzdDLE1BQUksUUFBUSxLQUFLO0FBQ2pCLFNBQU8sS0FBSyxLQUFLLE9BQU8sR0FBRyxNQUFNLE1BQU07QUFDM0M7QUFPQUEsU0FBTyxVQUFVLE9BQU8sY0FBYyxTQUFRO0FBQzFDLE1BQUksT0FBTyxZQUFXLFVBQVU7QUFFNUIsUUFBSSxLQUFLLE1BQU0sVUFBUyxLQUFLO0FBQ3pCLFlBQU0sZ0JBQWdCLE1BQU0sT0FBTTtBQUN0QyxTQUFLLE9BQU87QUFBQSxFQUNwQixPQUFXO0FBQ0gsT0FBRztBQUVDLFVBQUksS0FBSyxPQUFPLEtBQUs7QUFDakIsY0FBTSxnQkFBZ0IsSUFBSTtBQUFBLElBQzFDLFNBQWlCLEtBQUssSUFBSSxLQUFLLFNBQVM7QUFBQSxFQUNuQztBQUNELFNBQU87QUFDWDtBQU9BQSxTQUFPLFVBQVUsV0FBVyxTQUFTLFVBQVU7QUFDM0MsVUFBUTtBQUFBLFNBQ0M7QUFDRCxXQUFLLEtBQUk7QUFDVDtBQUFBLFNBQ0M7QUFDRCxXQUFLLEtBQUssQ0FBQztBQUNYO0FBQUEsU0FDQztBQUNELFdBQUssS0FBSyxLQUFLLE9BQVEsQ0FBQTtBQUN2QjtBQUFBLFNBQ0M7QUFDRCxhQUFRLFlBQVcsS0FBSyxPQUFNLElBQUssT0FBTyxHQUFHO0FBQ3pDLGFBQUssU0FBUyxRQUFRO0FBQUEsTUFDekI7QUFDRDtBQUFBLFNBQ0M7QUFDRCxXQUFLLEtBQUssQ0FBQztBQUNYO0FBQUE7QUFJQSxZQUFNLE1BQU0sdUJBQXVCLFdBQVcsZ0JBQWdCLEtBQUssR0FBRztBQUFBO0FBRTlFLFNBQU87QUFDWDtBQUVBQSxTQUFPLGFBQWEsU0FBUyxlQUFlO0FBQ3hDQyxtQkFBZTtBQUNmRCxXQUFPLFNBQVM7QUFDaEJDLGlCQUFhLFdBQVU7QUFFdkIsTUFBSSxLQUFLWixPQUFLLE9BQU8sV0FBc0M7QUFDM0RBLFNBQUssTUFBTVcsU0FBTyxXQUFXO0FBQUEsSUFFekIsT0FBTyxzQkFBc0I7QUFDekIsYUFBTyxlQUFlLEtBQUssSUFBSSxFQUFFLElBQUksS0FBSztBQUFBLElBQzdDO0FBQUEsSUFFRCxRQUFRLHVCQUF1QjtBQUMzQixhQUFPLGVBQWUsS0FBSyxJQUFJLEVBQUUsSUFBSSxJQUFJO0FBQUEsSUFDNUM7QUFBQSxJQUVELFFBQVEsdUJBQXVCO0FBQzNCLGFBQU8sZUFBZSxLQUFLLElBQUksRUFBRSxTQUFRLEVBQUcsSUFBSSxLQUFLO0FBQUEsSUFDeEQ7QUFBQSxJQUVELFNBQVMsd0JBQXdCO0FBQzdCLGFBQU8sWUFBWSxLQUFLLElBQUksRUFBRSxJQUFJLElBQUk7QUFBQSxJQUN6QztBQUFBLElBRUQsVUFBVSx5QkFBeUI7QUFDL0IsYUFBTyxZQUFZLEtBQUssSUFBSSxFQUFFLElBQUksS0FBSztBQUFBLElBQzFDO0FBQUEsRUFFVCxDQUFLO0FBQ0w7SUN6WkEsZ0JBQWlCO0FBR2pCLElBQUksU0FBU2Y7QUFDYixBQUFDLGNBQWEsWUFBWSxPQUFPLE9BQU8sT0FBTyxTQUFTLEdBQUcsY0FBYztBQUV6RSxJQUFJSSxTQUFPSDtBQVNYLHNCQUFzQixRQUFRO0FBQzFCLFNBQU8sS0FBSyxNQUFNLE1BQU07QUFPNUI7QUFFQSxhQUFhLGFBQWEsV0FBWTtBQUVsQyxNQUFJRyxPQUFLO0FBQ0wsaUJBQWEsVUFBVSxTQUFTQSxPQUFLLE9BQU8sVUFBVTtBQUM5RDtBQU1BLGFBQWEsVUFBVSxTQUFTLDhCQUE4QjtBQUMxRCxNQUFJLE1BQU0sS0FBSztBQUNmLFNBQU8sS0FBSyxJQUFJLFlBQ1YsS0FBSyxJQUFJLFVBQVUsS0FBSyxLQUFLLEtBQUssTUFBTSxLQUFLLElBQUksS0FBSyxNQUFNLEtBQUssS0FBSyxHQUFHLENBQUMsSUFDMUUsS0FBSyxJQUFJLFNBQVMsU0FBUyxLQUFLLEtBQUssS0FBSyxNQUFNLEtBQUssSUFBSSxLQUFLLE1BQU0sS0FBSyxLQUFLLEdBQUcsQ0FBQztBQUM1RjtBQVNBLGFBQWEsV0FBWTs7SUNqRHpCLFVBQWlCO0FBRWpCLElBQUksT0FBT0o7QUFHWCxBQUFDLFNBQVEsWUFBWSxPQUFPLE9BQU8sS0FBSyxhQUFhLFNBQVMsR0FBRyxjQUFjO0FBbUMvRSxpQkFBaUIsU0FBUyxrQkFBa0IsbUJBQW1CO0FBRTNELE1BQUksT0FBTyxZQUFZO0FBQ25CLFVBQU0sVUFBVSw0QkFBNEI7QUFFaEQsT0FBSyxhQUFhLEtBQUssSUFBSTtBQU0zQixPQUFLLFVBQVU7QUFNZixPQUFLLG1CQUFtQixRQUFRLGdCQUFnQjtBQU1oRCxPQUFLLG9CQUFvQixRQUFRLGlCQUFpQjtBQUN0RDtBQWFBLFFBQVEsVUFBVSxVQUFVLGlCQUFpQixRQUFRLGFBQWEsY0FBYyxTQUFTLFVBQVU7QUFFL0YsTUFBSSxDQUFDO0FBQ0QsVUFBTSxVQUFVLDJCQUEyQjtBQUUvQyxNQUFJLFFBQU87QUFDWCxNQUFJLENBQUM7QUFDRCxXQUFPLEtBQUssVUFBVSxTQUFTLE9BQU0sUUFBUSxhQUFhLGNBQWMsT0FBTztBQUVuRixNQUFJLENBQUMsTUFBSyxTQUFTO0FBQ2YsZUFBVyxXQUFXO0FBQUUsZUFBUyxNQUFNLGVBQWUsQ0FBQztBQUFBLElBQUUsR0FBSSxDQUFDO0FBQzlELFdBQU87QUFBQSxFQUNWO0FBRUQsTUFBSTtBQUNBLFdBQU8sTUFBSyxRQUNSLFFBQ0EsWUFBWSxNQUFLLG1CQUFtQixvQkFBb0IsVUFBVSxPQUFPLEVBQUUsT0FBUSxHQUNuRixxQkFBcUIsS0FBSyxVQUFVO0FBRWhDLFVBQUksS0FBSztBQUNMLGNBQUssS0FBSyxTQUFTLEtBQUssTUFBTTtBQUM5QixlQUFPLFNBQVMsR0FBRztBQUFBLE1BQ3RCO0FBRUQsVUFBSSxhQUFhLE1BQU07QUFDbkIsY0FBSyxJQUFxQixJQUFJO0FBQzlCLGVBQU87QUFBQSxNQUNWO0FBRUQsVUFBSSxDQUFFLHFCQUFvQixlQUFlO0FBQ3JDLFlBQUk7QUFDQSxxQkFBVyxhQUFhLE1BQUssb0JBQW9CLG9CQUFvQixVQUFVLFFBQVE7QUFBQSxRQUMxRixTQUFRLE1BQVA7QUFDRSxnQkFBSyxLQUFLLFNBQVMsTUFBSyxNQUFNO0FBQzlCLGlCQUFPLFNBQVMsSUFBRztBQUFBLFFBQ3RCO0FBQUEsTUFDSjtBQUVELFlBQUssS0FBSyxRQUFRLFVBQVUsTUFBTTtBQUNsQyxhQUFPLFNBQVMsTUFBTSxRQUFRO0FBQUEsSUFDakMsQ0FDYjtBQUFBLEVBQ0ssU0FBUSxLQUFQO0FBQ0UsVUFBSyxLQUFLLFNBQVMsS0FBSyxNQUFNO0FBQzlCLGVBQVcsV0FBVztBQUFFLGVBQVMsR0FBRztBQUFBLElBQUUsR0FBSSxDQUFDO0FBQzNDLFdBQU87QUFBQSxFQUNWO0FBQ0w7QUFPQSxRQUFRLFVBQVUsTUFBTSxhQUFhLFlBQVk7QUFDN0MsTUFBSSxLQUFLLFNBQVM7QUFDZCxRQUFJLENBQUM7QUFDRCxXQUFLLFFBQVEsTUFBTSxNQUFNLElBQUk7QUFDakMsU0FBSyxVQUFVO0FBQ2YsU0FBSyxLQUFLLEtBQUssRUFBRSxJQUFHO0FBQUEsRUFDdkI7QUFDRCxTQUFPO0FBQ1g7O0FDdklBLE1BQUksT0FBTTtBQTZCVixPQUFJLFVBQVVBOztJQ2xDZCxRQUFpQixDQUFFOztBQ0FuQixNQUFJLFdBQVc7QUFRZixXQUFTLFFBQVE7QUFHakIsV0FBUyxTQUFlQTtBQUN4QixXQUFTLGVBQWVDO0FBQ3hCLFdBQVMsU0FBZUk7QUFDeEIsV0FBUyxlQUFlQztBQUd4QixXQUFTLE9BQWVDO0FBQ3hCLFdBQVMsTUFBZUM7QUFDeEIsV0FBUyxRQUFlQztBQUN4QixXQUFTLFlBQWU7QUFPeEIsdUJBQXFCO0FBQ2pCLGFBQVMsS0FBSztBQUNkLGFBQVMsT0FBTyxXQUFXLFNBQVMsWUFBWTtBQUNoRCxhQUFTLE9BQU8sV0FBVyxTQUFTLFlBQVk7QUFBQSxFQUNwRDtBQUdBOztBQ2hDQSxJQUFBLFVBQWlCVDtBQ0FqQiwwQkFBMEI7QUFDdEIsU0FBTyxFQUFFLE9BQU8sSUFBSSxRQUFRLEdBQUU7QUFDbEM7QUFDTyxNQUFNLE9BQU87QUFBQSxFQUNoQixPQUFPLFNBQVMsVUFBU2lCLFFBQVUsT0FBQyxPQUFNLEdBQUk7QUFDMUMsUUFBSSxRQUFRLFVBQVUsSUFBSTtBQUN0QixjQUFPLE9BQU8sRUFBRSxFQUFFLE9BQU8sUUFBUSxLQUFLO0FBQUEsSUFDekM7QUFDRCxRQUFJLFFBQVEsV0FBVyxJQUFJO0FBQ3ZCLGNBQU8sT0FBTyxFQUFFLEVBQUUsT0FBTyxRQUFRLE1BQU07QUFBQSxJQUMxQztBQUNELFdBQU87QUFBQSxFQUNWO0FBQUEsRUFDRCxPQUFPLE9BQU8sU0FBUTtBQUNsQixVQUFNLFVBQVMsaUJBQWlCQyxRQUFVLFNBQUcsUUFBUSxJQUFJQSxRQUFBQSxPQUFXLEtBQUs7QUFDekUsUUFBSSxPQUFNLFlBQVcsU0FBWSxRQUFPLE1BQU0sUUFBTyxNQUFNO0FBQzNELFVBQU0sVUFBVTtBQUNoQixXQUFPLFFBQU8sTUFBTSxNQUFLO0FBQ3JCLFlBQU0sTUFBTSxRQUFPO0FBQ25CLGNBQVEsUUFBUTtBQUFBLGFBQ1A7QUFDRCxrQkFBUSxRQUFRLFFBQU87QUFDdkI7QUFBQSxhQUNDO0FBQ0Qsa0JBQVEsU0FBUyxRQUFPO0FBQ3hCO0FBQUE7QUFFQSxrQkFBTyxTQUFTLE1BQU0sQ0FBQztBQUN2QjtBQUFBO0FBQUEsSUFFWDtBQUNELFdBQU87QUFBQSxFQUNWO0FBQUEsRUFDRCxTQUFTLFFBQVE7QUFDYixXQUFPO0FBQUEsTUFDSCxPQUFPQyxRQUFNLE9BQU8sS0FBSyxJQUFJLE9BQU8sT0FBTyxLQUFLLElBQUk7QUFBQSxNQUNwRCxRQUFRQSxRQUFNLE9BQU8sTUFBTSxJQUFJLE9BQU8sT0FBTyxNQUFNLElBQUk7QUFBQSxJQUNuRTtBQUFBLEVBQ0s7QUFBQSxFQUNELE9BQU8sU0FBUztBQUNaLFVBQU0sTUFBTSxDQUFBO0FBQ1osWUFBUSxVQUFVLFVBQWMsS0FBSSxRQUFRLFFBQVE7QUFDcEQsWUFBUSxXQUFXLFVBQWMsS0FBSSxTQUFTLFFBQVE7QUFDdEQsV0FBTztBQUFBLEVBQ1Y7QUFBQSxFQUNELFlBQVksUUFBUTtBQUNoQixVQUFNLFVBQVU7QUFDaEIsWUFBUSxRQUFRLE9BQU8sU0FBUztBQUNoQyxZQUFRLFNBQVMsT0FBTyxVQUFVO0FBQ2xDLFdBQU87QUFBQSxFQUNWO0FBQ0w7QUEySUEsaUJBQWUsT0FBTztBQUNsQixTQUFPLFVBQVUsUUFBUSxVQUFVO0FBQ3ZDO0lDbk1BLE9BQWlCO0FBS2pCLElBQUksT0FBTztBQUVYLElBQUk7QUFDRixTQUFPLElBQUksWUFBWSxTQUFTLElBQUksWUFBWSxPQUFPLElBQUksV0FBVztBQUFBLElBQ3BFO0FBQUEsSUFBRztBQUFBLElBQUk7QUFBQSxJQUFLO0FBQUEsSUFBSztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBSTtBQUFBLElBQUc7QUFBQSxJQUFJO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFLO0FBQUEsSUFBSTtBQUFBLElBQUc7QUFBQSxJQUFLO0FBQUEsSUFBSztBQUFBLElBQUs7QUFBQSxJQUFLO0FBQUEsSUFBRztBQUFBLElBQUs7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFLO0FBQUEsSUFBRztBQUFBLElBQUk7QUFBQSxJQUFHO0FBQUEsSUFBSTtBQUFBLElBQUc7QUFBQSxJQUFJO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFLO0FBQUEsSUFBSztBQUFBLElBQUs7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFLO0FBQUEsSUFBSztBQUFBLElBQUs7QUFBQSxJQUFJO0FBQUEsSUFBSztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUs7QUFBQSxJQUFLO0FBQUEsSUFBSztBQUFBLElBQUk7QUFBQSxJQUFLO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBSztBQUFBLElBQUs7QUFBQSxJQUFLO0FBQUEsSUFBSTtBQUFBLElBQUs7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFLO0FBQUEsSUFBSztBQUFBLElBQUs7QUFBQSxJQUFJO0FBQUEsSUFBSztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUs7QUFBQSxJQUFLO0FBQUEsSUFBSztBQUFBLElBQUk7QUFBQSxJQUFLO0FBQUEsSUFBSztBQUFBLElBQUs7QUFBQSxJQUFLO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFJO0FBQUEsSUFBSztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFJO0FBQUEsSUFBRztBQUFBLElBQUk7QUFBQSxJQUFJO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFLO0FBQUEsSUFBSTtBQUFBLElBQUc7QUFBQSxJQUFLO0FBQUEsSUFBSTtBQUFBLElBQUc7QUFBQSxJQUFLO0FBQUEsSUFBSTtBQUFBLElBQUk7QUFBQSxJQUFLO0FBQUEsSUFBSztBQUFBLElBQUk7QUFBQSxJQUFHO0FBQUEsSUFBSztBQUFBLElBQUk7QUFBQSxJQUFHO0FBQUEsSUFBSztBQUFBLElBQUk7QUFBQSxJQUFJO0FBQUEsSUFBSztBQUFBLElBQUs7QUFBQSxJQUFLO0FBQUEsSUFBSTtBQUFBLElBQUc7QUFBQSxJQUFJO0FBQUEsSUFBSTtBQUFBLElBQUs7QUFBQSxJQUFLO0FBQUEsSUFBSTtBQUFBLElBQUc7QUFBQSxJQUFJO0FBQUEsSUFBRztBQUFBLElBQUs7QUFBQSxJQUFJO0FBQUEsSUFBSTtBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBSztBQUFBLElBQUk7QUFBQSxJQUFHO0FBQUEsSUFBSztBQUFBLElBQUk7QUFBQSxJQUFHO0FBQUEsSUFBSztBQUFBLElBQUk7QUFBQSxJQUFJO0FBQUEsSUFBSztBQUFBLElBQUs7QUFBQSxJQUFJO0FBQUEsSUFBRztBQUFBLElBQUs7QUFBQSxJQUFJO0FBQUEsSUFBRztBQUFBLElBQUs7QUFBQSxJQUFJO0FBQUEsSUFBSTtBQUFBLElBQUs7QUFBQSxJQUFLO0FBQUEsSUFBSztBQUFBLElBQUk7QUFBQSxJQUFHO0FBQUEsSUFBSTtBQUFBLElBQUk7QUFBQSxJQUFLO0FBQUEsSUFBSztBQUFBLElBQUk7QUFBQSxJQUFHO0FBQUEsSUFBSTtBQUFBLElBQUc7QUFBQSxJQUFLO0FBQUEsSUFBSTtBQUFBLElBQUk7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUs7QUFBQSxJQUFJO0FBQUEsSUFBRztBQUFBLElBQUs7QUFBQSxJQUFJO0FBQUEsSUFBRztBQUFBLElBQUs7QUFBQSxJQUFJO0FBQUEsSUFBSTtBQUFBLElBQUs7QUFBQSxJQUFLO0FBQUEsSUFBSTtBQUFBLElBQUc7QUFBQSxJQUFLO0FBQUEsSUFBSTtBQUFBLElBQUc7QUFBQSxJQUFLO0FBQUEsSUFBSTtBQUFBLElBQUk7QUFBQSxJQUFLO0FBQUEsSUFBSztBQUFBLElBQUs7QUFBQSxJQUFJO0FBQUEsSUFBRztBQUFBLElBQUk7QUFBQSxJQUFJO0FBQUEsSUFBSztBQUFBLElBQUs7QUFBQSxJQUFJO0FBQUEsSUFBRztBQUFBLElBQUk7QUFBQSxJQUFHO0FBQUEsSUFBSztBQUFBLElBQUk7QUFBQSxJQUFJO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFLO0FBQUEsSUFBSTtBQUFBLElBQUc7QUFBQSxJQUFLO0FBQUEsSUFBSTtBQUFBLElBQUc7QUFBQSxJQUFLO0FBQUEsSUFBSTtBQUFBLElBQUk7QUFBQSxJQUFLO0FBQUEsSUFBSztBQUFBLElBQUk7QUFBQSxJQUFHO0FBQUEsSUFBSztBQUFBLElBQUk7QUFBQSxJQUFHO0FBQUEsSUFBSztBQUFBLElBQUk7QUFBQSxJQUFJO0FBQUEsSUFBSztBQUFBLElBQUs7QUFBQSxJQUFLO0FBQUEsSUFBSTtBQUFBLElBQUc7QUFBQSxJQUFJO0FBQUEsSUFBSTtBQUFBLElBQUs7QUFBQSxJQUFLO0FBQUEsSUFBSTtBQUFBLElBQUc7QUFBQSxJQUFJO0FBQUEsSUFBRztBQUFBLElBQUs7QUFBQSxJQUFJO0FBQUEsSUFBSTtBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBSztBQUFBLElBQUk7QUFBQSxJQUFHO0FBQUEsSUFBSztBQUFBLElBQUk7QUFBQSxJQUFHO0FBQUEsSUFBSztBQUFBLElBQUk7QUFBQSxJQUFJO0FBQUEsSUFBSztBQUFBLElBQUs7QUFBQSxJQUFJO0FBQUEsSUFBRztBQUFBLElBQUs7QUFBQSxJQUFJO0FBQUEsSUFBRztBQUFBLElBQUs7QUFBQSxJQUFJO0FBQUEsSUFBSTtBQUFBLElBQUs7QUFBQSxJQUFLO0FBQUEsSUFBSztBQUFBLElBQUk7QUFBQSxJQUFHO0FBQUEsSUFBSTtBQUFBLElBQUk7QUFBQSxJQUFLO0FBQUEsSUFBSztBQUFBLElBQUk7QUFBQSxJQUFHO0FBQUEsSUFBSTtBQUFBLElBQUc7QUFBQSxJQUFLO0FBQUEsRUFDOW5DLENBQUcsQ0FBQyxHQUFHLEVBQUUsRUFBRTtBQUNYLFNBQVMsR0FBUDtBQUVGO0FBWUEsY0FBYyxLQUFLLE1BQU0sVUFBVTtBQU0vQixPQUFLLE1BQU0sTUFBTTtBQU1qQixPQUFLLE9B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QUFHLEVBQUUsR0FBRSxDQUFDLEdBQUUsSUFBRyxJQUFHLEVBQUUsR0FBRSxDQUFDLEdBQUUsSUFBRyxJQUFHLElBQUcsRUFBRSxHQUFFLENBQUMsR0FBRSxJQUFHLElBQUcsSUFBRyxFQUFFLEdBQUUsQ0FBQyxHQUFFLElBQUcsSUFBRyxJQUFHLEdBQUcsR0FBRSxDQUFDLEdBQUUsSUFBRyxJQUFHLElBQUcsR0FBRyxHQUFFLENBQUMsR0FBRSxJQUFHLElBQUcsSUFBRyxHQUFHLEdBQUUsQ0FBQyxHQUFFLElBQUcsSUFBRyxJQUFHLEdBQUcsR0FBRSxDQUFDLEdBQUUsSUFBRyxJQUFHLElBQUcsR0FBRyxHQUFFLENBQUMsR0FBRSxJQUFHLElBQUcsSUFBRyxJQUFHLEdBQUcsR0FBRSxDQUFDLEdBQUUsSUFBRyxJQUFHLElBQUcsS0FBSSxHQUFHLEdBQUUsQ0FBQyxHQUFFLElBQUcsSUFBRyxJQUFHLEtBQUksR0FBRyxHQUFFLENBQUMsR0FBRSxJQUFHLElBQUcsSUFBRyxLQUFJLEdBQUcsR0FBRSxDQUFDLEdBQUUsSUFBRyxJQUFHLElBQUcsS0FBSSxHQUFHLEdBQUUsQ0FBQyxHQUFFLElBQUcsSUFBRyxJQUFHLEtBQUksR0FBRyxHQUFFLENBQUMsR0FBRSxJQUFHLElBQUcsSUFBRyxLQUFJLEdBQUcsR0FBRSxDQUFDLEdBQUUsSUFBRyxJQUFHLElBQUcsS0FBSSxLQUFJLEdBQUcsR0FBRSxDQUFDLEdBQUUsSUFBRyxJQUFHLElBQUcsS0FBSSxLQUFJLEdBQUcsR0FBRSxDQUFDLEdBQUUsSUFBRyxJQUFHLElBQUcsS0FBSSxLQUFJLEdBQUcsR0FBRSxDQUFDLEdBQUUsSUFBRyxJQUFHLElBQUcsS0FBSSxLQUFJLEdBQUcsR0FBRSxDQUFDLEdBQUUsSUFBRyxJQUFHLElBQUcsS0FBSSxLQUFJLEdBQUcsR0FBRSxDQUFDLEdBQUUsSUFBRyxJQUFHLElBQUcsS0FBSSxLQUFJLEdBQUcsQ0FBQyxHQUFFLEtBQUssS0FBRyxLQUFLLEtBQUcsSUFBSSxLQUFHLElBQUksS0FBRyxJQUFJLEtBQUcsSUFBSSxL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USxNQUFJLEdBQUUsTUFBSSxjQUFZLEdBQUUsT0FBTTtBQUFDLFlBQUksUUFBTTtBQUFFLFlBQUcsT0FBTyxPQUFPLEtBQUksR0FBRztBQUFFO0FBQVEsWUFBRyxPQUFPLE9BQU8sTUFBSSxHQUFFLEdBQUc7QUFBRTtBQUFRLFlBQUcsT0FBTyxPQUFPLEtBQUksTUFBSSxDQUFDO0FBQUU7QUFBUSxZQUFHLE9BQU8sT0FBTyxNQUFJLEdBQUUsTUFBSSxDQUFDO0FBQUU7QUFBUSxZQUFHLFNBQU8sS0FBRyxTQUFPLEdBQUU7QUFBQyx1QkFBVztBQUFBLFFBQUU7QUFBQSxNQUFDO0FBQUEsSUFBQztBQUNoUixhQUFRLE1BQUksR0FBRSxNQUFJLGFBQVksT0FBTTtBQUFDLGVBQVEsTUFBSSxHQUFFLE1BQUksY0FBWSxHQUFFLE9BQU07QUFBQyxZQUFHLE9BQU8sT0FBTyxLQUFJLEdBQUcsS0FBRyxDQUFDLE9BQU8sT0FBTyxLQUFJLE1BQUksQ0FBQyxLQUFHLE9BQU8sT0FBTyxLQUFJLE1BQUksQ0FBQyxLQUFHLE9BQU8sT0FBTyxLQUFJLE1BQUksQ0FBQyxLQUFHLE9BQU8sT0FBTyxLQUFJLE1BQUksQ0FBQyxLQUFHLENBQUMsT0FBTyxPQUFPLEtBQUksTUFBSSxDQUFDLEtBQUcsT0FBTyxPQUFPLEtBQUksTUFBSSxDQUFDLEdBQUU7QUFBQyx1QkFBVztBQUFBLFFBQUc7QUFBQSxNQUFDO0FBQUEsSUFBQztBQUNyUixhQUFRLE1BQUksR0FBRSxNQUFJLGFBQVksT0FBTTtBQUFDLGVBQVEsTUFBSSxHQUFFLE1BQUksY0FBWSxHQUFFLE9BQU07QUFBQyxZQUFHLE9BQU8sT0FBTyxLQUFJLEdBQUcsS0FBRyxDQUFDLE9BQU8sT0FBTyxNQUFJLEdBQUUsR0FBRyxLQUFHLE9BQU8sT0FBTyxNQUFJLEdBQUUsR0FBRyxLQUFHLE9BQU8sT0FBTyxNQUFJLEdBQUUsR0FBRyxLQUFHLE9BQU8sT0FBTyxNQUFJLEdBQUUsR0FBRyxLQUFHLENBQUMsT0FBTyxPQUFPLE1BQUksR0FBRSxHQUFHLEtBQUcsT0FBTyxPQUFP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QUFFLElBQUcsRUFBRSxHQUFFLENBQUMsR0FBRSxJQUFHLElBQUcsR0FBRSxJQUFHLEVBQUUsR0FBRSxDQUFDLEdBQUUsSUFBRyxFQUFFLEdBQUUsQ0FBQyxHQUFFLElBQUcsRUFBRSxHQUFFLENBQUMsR0FBRSxJQUFHLEVBQUUsR0FBRSxDQUFDLEdBQUUsSUFBRyxFQUFFLEdBQUUsQ0FBQyxHQUFFLElBQUcsRUFBRSxHQUFFLENBQUMsR0FBRSxJQUFHLEVBQUUsR0FBRSxDQUFDLEdBQUUsSUFBRyxJQUFHLEdBQUUsSUFBRyxFQUFFLEdBQUUsQ0FBQyxHQUFFLElBQUcsSUFBRyxHQUFFLElBQUcsRUFBRSxHQUFFLENBQUMsR0FBRSxLQUFJLEVBQUUsR0FBRSxDQUFDLEdBQUUsSUFBRyxJQUFHLEdBQUUsSUFBRyxFQUFFLEdBQUUsQ0FBQyxHQUFFLElBQUcsSUFBRyxHQUFFLElBQUcsRUFBRSxHQUFFLENBQUMsR0FBRSxJQUFHLElBQUcsR0FBRSxJQUFHLEVBQUUsR0FBRSxDQUFDLEdBQUUsS0FBSSxHQUFHLEdBQUUsQ0FBQyxHQUFFLElBQUcsSUFBRyxHQUFFLElBQUcsRUFBRSxHQUFFLENBQUMsR0FBRSxJQUFHLElBQUcsR0FBRSxJQUFHLEVBQUUsR0FBRSxDQUFDLEdBQUUsSUFBRyxJQUFHLEdBQUUsSUFBRyxFQUFFLEdBQUUsQ0FBQyxHQUFFLElBQUcsSUFBRyxHQUFFLElBQUcsRUFBRSxHQUFFLENBQUMsR0FBRSxJQUFHLElBQUcsR0FBRSxJQUFHLEVBQUUsR0FBRSxDQUFDLEdBQUUsSUFBRyxJQUFHLEdBQUUsSUFBRyxFQUFFLEdBQUUsQ0FBQyxHQUFFLElBQUcsSUFBRyxHQUFFLElBQUcsRUFBRSxHQUFFLENBQUMsR0FBRSxLQUFJLEVBQUUsR0FBRSxDQUFDLEdBQUUsSUFBRyxJQUFHLEdBQUUsSUFBRyxFQUFFLEdBQUUsQ0FBQyxHQUFFLElBQUcsSUFBRyxHQUFFLElBQUcsRUFBRSxHQUFFLENBQUMsR0FBRSxJQUFHLElBQUcsR0FBRSxJQUFHLEVBQUUsR0FBRSxDQUFDLEdBQUUsS0FBSSxJQUFHLEdBQUUsS0FBSSxFQUFFLEdBQUUsQ0FBQyxHQUFFLElBQUcsSUFBRyxHQUFFLElBQUcsRUFBRSxHQUFFLENBQUMsR0FBRSxJQUFHLElBQUcsR0FBRSxJQUFHLEVBQUUsR0FBRSxDQUFDLEdBQUUsSUFBRyxJQUFHLEdBQUUsSUFBRyxFQUFFLEdBQUUsQ0FBQyxHQUFFLEtBQUksR0FBRyxHQUFFLENBQUMsR0FBRSxJQUFHLElBQUcsR0FBRSxJQUFHLEVBQUUsR0FBRSxDQUFDLEdBQUUsSUFBRyxJQUFHLEdBQUUsSUFBRyxFQUFFLEdBQUUsQ0FBQyxJQUFHLElBQUcsSUFBRyxHQUFFLElBQUcsRUFBRSxHQUFFLENBQUMsR0FBRSxLQUFJLEtBQUksR0FBRSxLQUFJLEdBQUcsR0FBRSxDQUFDLEdBQUUsSUFBRyxJQUFHLEdBQUUsSUFBRyxFQUFFLEdBQUUsQ0FBQyxJQUFHLElBQUcsSUFBRyxHQUFFLElBQUcsRUFBRSxHQUFFLENBQUMsSUFBRyxJQUFHLElBQUcsR0FBRSxJQUFHLEVBQUUsR0FBRSxDQUFDLEdBQUUsS0FBSSxJQUFHLEdBQUUsS0FBSSxFQUFFLEdBQUUsQ0FBQyxHQUFFLElBQUcsSUFBRyxHQUFFLElBQUcsRUFBRSxHQUFFLENBQUMsR0FBRSxJQUFHLElBQUcsR0FBRSxJQUFHLEVBQUUsR0FBRSxDQUFDLElBQUcsSUFBRyxFQUFFLEdBQUUsQ0FBQyxHQUFFLEtBQUksSUFBRyxHQUFFLEtBQUksRUFBRSxHQUFFLENBQUMsR0FBRSxJQUFHLElBQUcsR0FBRSxJQUFHLEVBQUUsR0FBRSxDQUFDLElBQUcsSUFBRyxJQUFHLEdBQUUsSUFBRyxFQUFFLEdBQUUsQ0FBQyxHQUFFLElBQUcsSUFBRyxJQUFHLElBQUcsRUFBRSxHQUFFLENBQUMsR0FBRSxLQUFJLEtBQUksR0FBRSxLQUFJLEdBQUcsR0FBRSxDQUFDLElBQUcsSUFBRyxJQUFHLEdBQUUsSUFBRyxFQUFFLEdBQUUsQ0FBQyxHQUFFLElBQUcsSUFBRyxJQUFHLElBQUcsRUFBRSxHQUFFLENBQUMsR0FBRSxJQUFHLElBQUcsSUFBRyxJQUFHLEVBQUUsR0FBRSxDQUFDLEdBQUUsS0FBSSxLQUFJLEdBQUUsS0FBSSxHQUFHLEdBQUUsQ0FBQyxHQUFFLElBQUcsSUFBRyxHQUFFLElBQUcsRUFBRSxHQUFFLENBQUMsSUFBRyxJQUFHLElBQUcsR0FBRSxJQUFHLEVBQUUsR0FBRSxDQUFDLEdBQUUsSUFBRyxJQUFHLElBQUcsSUFBRyxFQUFFLEdBQUUsQ0FBQyxHQUFFLEtBQUksS0FBSSxHQUFFLEtBQUksR0FBRyxHQUFFLENBQUMsR0FBRSxJQUFHLElBQUcsSUFBRyxJQUFHLEVBQUUsR0FBRSxDQUFDLElBQUcsSUFBRyxJQUFHLEdBQUUsSUFBRyxFQUFFLEdBQUUsQ0FBQyxHQUFFLElBQUcsSUFBRyxJQUFHLElBQUcsRUFBRSxHQUFFLENBQUMsR0FBRSxLQUFJLEtBQUksR0FBRSxLQUFJLEdBQUcsR0FBRSxDQUFDLEdBQUUsSUFBRyxJQUFHLElBQUcsSUFBRyxFQUFFLEdBQUUsQ0FBQyxJQUFHLElBQUcsSUFBRyxHQUFFLElBQUcsRUFBRSxHQUFFLENBQUMsSUFBRyxJQUFHLElBQUcsSUFBRyxJQUFHLEVBQUUsR0FBRSxDQUFDLEdBQUUsS0FBSSxLQUFJLEdBQUUsS0FBSSxHQUFHLEdBQUUsQ0FBQyxJQUFHLElBQUcsRUFBRSxHQUFFLENBQUMsSUFBRyxJQUFHLElBQUcsR0FBRSxJQUFHLEVBQUUsR0FBRSxDQUFDLElBQUcsSUFBRyxJQUFHLEdBQUUsSUFBRyxFQUFFLEdBQUUsQ0FBQyxHQUFFLEtBQUksS0FBSSxHQUFFLEtBQUksR0FBRyxHQUFFLENBQUMsSUFBRyxJQUFHLEVBQUUsR0FBRSxDQUFDLEdBQUUsSUFBRyxJQUFHLElBQUcsSUFBRyxFQUFFLEdBQUUsQ0FBQyxJQUFHLElBQUcsRUFBRSxHQUFFLENBQUMsR0FBRSxLQUFJLEtBQUksR0FBRSxLQUFJLEdBQUcsR0FBRSxDQUFDLEdBQUUsSUFBRyxJQUFHLElBQUcsSUFBRyxFQUFFLEdBQUUsQ0FBQyxJQUFHLElBQUcsSUFBRyxJQUFHLElBQUcsRUFBRSxHQUFFLENBQUMsSUFBRyxJQUFHLElBQUcsSUFBRyxJQUFHLEVBQUUsR0FBRSxDQUFDLEdBQUUsS0FBSSxLQUFJLEdBQUUsS0FBSSxHQUFHLEdBQUUsQ0FBQyxHQUFFLElBQUcsSUFBRyxJQUFHLElBQUcsRUFBRSxHQUFFLENBQUMsSUFBRyxJQUFHLElBQUcsSUFBRyxJQUFHLEVBQUUsR0FBRSxDQUFDLElBQUcsSUFBRyxJQUFHLEdBQUUsSUFBRyxFQUFFLEdBQUUsQ0FBQyxHQUFFLEtBQUksS0FBSSxHQUFFLEtBQUksR0FBRyxHQUFFLENBQUMsR0FBRSxJQUFHLElBQUcsSUFBRyxJQUFHLEVBQUUsR0FBRSxDQUFDLEdBQUUsSUFBRyxJQUFHLElBQUcsSUFBRyxFQUFFLEdBQUUsQ0FBQyxJQUFHLElBQUcsSUFBRyxJQUFHLElBQUcsRUFBRSxHQUFFLENBQUMsSUFBRyxLQUFJLEtBQUksR0FBRSxLQUFJLEdBQUcsR0FBRSxDQUFDLElBQUcsSUFBRyxJQUFHLEdBQUUsSUFBRyxFQUFFLEdBQUUsQ0FBQyxJQUFHLElBQUcsSUFBRyxHQUFFLElBQUcsRUFBRSxHQUFFLENBQUMsSUFBRyxJQUFHLElBQUcsR0FBRSxJQUFHLEVBQUUsR0FBRSxDQUFDLEdBQUUsS0FBSSxLQUFJLEdBQUUsS0FBSSxHQUFHLEdBQUUsQ0FBQyxJQUFHLElBQUcsSUFBRyxHQUFFLElBQUcsRUFBRSxHQUFFLENBQUMsR0FBRSxJQUFHLElBQUcsSUFBRyxJQUFHLEVBQUUsR0FBRSxDQUFDLElBQUcsSUFBRyxJQUFHLElBQUcsSUFBRyxFQUFFLEdBQUUsQ0FBQyxHQUFFLEtBQUksS0FBSSxJQUFHLEtBQUksR0FBRyxHQUFFLENBQUMsR0FBRSxJQUFHLElBQUcsSUFBRyxJQUFHLEVBQUUsR0FBRSxDQUFDLEdBQUUsSUFBRyxJQUFHLElBQUcsSUFBRyxFQUFFLEdBQUUsQ0FBQyxJQUFHLElBQUcsSUFBRyxJQUFHLElBQUcsRUFBRSxHQUFFLENBQUMsR0FBRSxLQUFJLEtBQUksR0FBRSxLQUFJLEdBQUcsR0FBRSxDQUFDLElBQUcsSUFBRyxJQUFHLEdBQUUsSUFBRyxFQUFFLEdBQUUsQ0FBQyxHQUFFLElBQUcsSUFBRyxJQUFHLElBQUcsRUFBRSxHQUFFLENBQUMsSUFBRyxJQUFHLElBQUcsSUFBRyxJQUFHLEVBQUUsR0FBRSxDQUFDLEdBQUUsS0FBSSxLQUFJLElBQUcsS0FBSSxHQUFHLEdBQUUsQ0FBQyxJQUFHLElBQUcsSUFBRyxJQUFHLElBQUcsRUFBRSxHQUFFLENBQUMsSUFBRyxJQUFHLElBQUcsSUFBRyxJQUFHLEVBQUUsR0FBRSxDQUFDLElBQUcsSUFBRyxJQUFHLElBQUcsSUFBRyxFQUFFLEdBQUUsQ0FBQyxJQUFHLEtBQUksS0FBSSxHQUFFLEtBQUksR0FBRyxHQUFFLENBQUMsR0FBRSxJQUFHLElBQUcsSUFBRyxJQUFHLEVBQUUsR0FBRSxDQUFDLElBQUcsSUFBRyxJQUFHLEdBQUUsSUFBRyxFQUFFLEdBQUUsQ0FBQyxJQUFHLElBQUcsSUFBRyxJQUFHLElBQUcsRUFBRSxHQUFFLENBQUMsSUFBRyxLQUFJLEdBQUcsR0FBRSxDQUFDLElBQUcsSUFBRyxJQUFHLElBQUcsSUFBRyxFQUFFLEdBQUUsQ0FBQyxJQUFHLElBQUcsSUFBRyxJQUFHLElBQUcsRUFBRSxHQUFFLENBQUMsSUFBRyxJQUFHLElBQUcsSUFBRyxJQUFHLEVBQUUsR0FBRSxDQUFDLElBQUcsS0FBSSxLQUFJLEdBQUUsS0FBSSxHQUFHLEdBQUUsQ0FBQyxJQUFHLElBQUcsSUFBRyxJQUFHLElBQUcsRUFBRSxHQUFFLENBQUMsSUFBRyxJQUFHLElBQUcsSUFBRyxJQUFHLEVBQUUsR0FBRSxDQUFDLElBQUcsSUFBRyxJQUFHLElBQUcsSUFBRyxFQUFFLEdBQUUsQ0FBQyxJQUFHLEtBQUksS0FBSSxHQUFFLEtBQUksR0FBRyxHQUFFLENBQUMsSUFBRyxJQUFHLElBQUcsSUFBRyxJQUFHLEVBQUUsR0FBRSxDQUFDLElBQUcsSUFBRyxJQUFHLEdBQUUsSUFBRyxFQUFFLEdBQUUsQ0FBQyxJQUFHLElBQUcsSUFBRyxHQUFFLElBQUcsRUFBRSxHQUFFLENBQUMsSUFBRyxLQUFJLEtBQUksR0FBRSxLQUFJLEdBQUcsR0FBRSxDQUFDLElBQUcsSUFBRyxJQUFHLElBQUcsSUFBRyxFQUFFLEdBQUUsQ0FBQyxJQUFHLElBQUcsSUFBRyxJQUFHLElBQUcsRUFBRSxHQUFFLENBQUMsSUFBRyxJQUFHLElBQUcsSUFBRyxJQUFHLEVBQUUsR0FBRSxDQUFDLEdBQUUsS0FBSSxLQUFJLElBQUcsS0FBSSxHQUFHLEdBQUUsQ0FBQyxHQUFFLElBQUcsSUFBRyxJQUFHLElBQUcsRUFBRSxHQUFFLENBQUMsSUFBRyxJQUFHLElBQUcsSUFBRyxJQUFHLEVBQUUsR0FBRSxDQUFDLEdBQUUsSUFBRyxJQUFHLElBQUcsSUFBRyxFQUFFLEdBQUUsQ0FBQyxJQUFHLEtBQUksS0FBSSxHQUFFLEtBQUksR0FBRyxHQUFFLENBQUMsSUFBRyxJQUFHLElBQUcsSUFBRyxJQUFHLEVBQUUsR0FBRSxDQUFDLElBQUcsSUFBRyxJQUFHLElBQUcsSUFBRyxFQUFFLEdBQUUsQ0FBQyxJQUFHLElBQUcsSUFBRyxJQUFHLElBQUcsRUFBRSxHQUFFLENBQUMsR0FBRSxLQUFJLEtBQUksSUFBRyxLQUFJLEdBQUcsR0FBRSxDQUFDLElBQUcsSUFBRyxJQUFHLElBQUcsSUFBRyxFQUFFLEdBQUUsQ0FBQyxJQUFHLElBQUcsSUFBRyxJQUFHLElBQUcsRUFBRSxHQUFFLENBQUMsSUFBRyxJQUFHLElBQUcsSUFBRyxJQUFHLEVBQUUsR0FBRSxDQUFDLElBQUcsS0FBSSxLQUFJLEdBQUUsS0FBSSxHQUFHLEdBQUUsQ0FBQyxJQUFHLElBQUcsSUFBRyxHQUFFLElBQUcsRUFBRSxHQUFFLENBQUMsSUFBRyxJQUFHLElBQUcsSUFBRyxJQUFHLEVBQUUsR0FBRSxDQUFDLElBQUcsSUFBRyxJQUFHLElBQUcsSUFBRyxFQUFFLEdBQUUsQ0FBQyxJQUFHLEtBQUksS0FBSSxHQUFFLEtBQUksR0FBRyxHQUFFLENBQUMsSUFBRyxJQUFHLElBQUcsSUFBRyxJQUFHLEVBQUUsR0FBRSxDQUFDLElBQUcsSUFBRyxJQUFHLElBQUcsSUFBRyxFQUFFLEdBQUUsQ0FBQyxJ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S0FBSSxLQUFJLEdBQUcsR0FBRSxDQUFDLEtBQUksS0FBSSxLQUFJLEdBQUcsR0FBRSxDQUFDLEtBQUksS0FBSSxLQUFJLEdBQUcsR0FBRSxDQUFDLEtBQUksS0FBSSxLQUFJLEdBQUcsR0FBRSxDQUFDLEtBQUksS0FBSSxLQUFJLEdBQUcsR0FBRSxDQUFDLEtBQUksS0FBSSxLQUFJLEdBQUcsR0FBRSxDQUFDLE1BQUssS0FBSSxLQUFJLEdBQUcsR0FBRSxDQUFDLE1BQUssS0FBSSxLQUFJLEdBQUcsR0FBRSxDQUFDLE1BQUssS0FBSSxLQUFJLEdBQUcsR0FBRSxDQUFDLE1BQUssS0FBSSxLQUFJLEdBQUcsR0FBRSxDQUFDLE1BQUssTUFBSyxLQUFJLEdBQUcsR0FBRSxDQUFDLE1BQUssTUFBSyxLQUFJLEdBQUcsR0FBRSxDQUFDLE1BQUssTUFBSyxLQUFJLEdBQUcsR0FBRSxDQUFDLE1BQUssTUFBSyxLQUFJLEdBQUcsR0FBRSxDQUFDLE1BQUssTUFBSyxLQUFJLEdBQUcsR0FBRSxDQUFDLE1BQUssTUFBSyxNQUFLLEdBQUcsR0FBRSxDQUFDLE1BQUssTUFBSyxNQUFLLEdBQUcsR0FBRSxDQUFDLE1BQUssTUFBSyxNQUFLLEdBQUcsR0FBRSxDQUFDLE1BQUssTUFBSyxNQUFLLEdBQUcsR0FBRSxDQUFDLE1BQUssTUFBSyxNQUFLLEdBQUcsR0FBRSxDQUFDLE1BQUssTUFBSyxNQUFLLElBQUksR0FBRSxDQUFDLE1BQUssTUFBSyxNQUFLLElBQUksR0FBRSxDQUFDLE1BQUssTUFBSyxNQUFLLElBQUksR0FBRSxDQUFDLE1BQUssTUFBSyxNQUFLLElBQUksR0FBRSxDQUFDLE1BQUssTUFBSyxNQUFLLElBQUksQ0FBQztBQUk5d0IsbUJBQWdCLFNBQVM7QUFJdkIsU0FBSyxVQUFVO0FBQUEsTUFDYixTQUFTO0FBQUEsTUFDVCxPQUFPO0FBQUEsTUFDUCxRQUFRO0FBQUEsTUFDUixZQUFZO0FBQUEsTUFDWixPQUFPO0FBQUEsTUFDUCxZQUFZO0FBQUEsTUFDWixLQUFLO0FBQUEsSUFDVDtBQUdFLFFBQUks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
